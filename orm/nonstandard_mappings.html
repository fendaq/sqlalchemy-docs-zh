<h1><span class="yiyi-st" id="yiyi-45">&#x975E;&#x4F20;&#x7EDF;&#x6620;&#x5C04;<a class="headerlink" href="#non-traditional-mappings" title="Permalink to this headline">&#xB6;</a></span></h1><div class="section" id="mapping-a-class-against-multiple-tables"><h2><span class="yiyi-st" id="yiyi-46">&#x6839;&#x636E;&#x591A;&#x4E2A;&#x8868;&#x6620;&#x5C04;&#x7C7B;<a class="headerlink" href="#mapping-a-class-against-multiple-tables" title="Permalink to this headline">&#xB6;</a></span></h2><p><span class="yiyi-st" id="yiyi-47">&#x9664;&#x4E86;&#x666E;&#x901A;&#x8868;&#x4EE5;&#x5916;&#xFF0C;&#x6620;&#x5C04;&#x5668;&#x8FD8;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x4EFB;&#x610F;&#x5173;&#x7CFB;&#x5355;&#x5143;&#xFF08;&#x79F0;&#x4E3A;<em>selectables</em>&#xFF09;&#x6784;&#x5EFA;&#x3002;</span><span class="yiyi-st" id="yiyi-48">&#x4F8B;&#x5982;&#xFF0C;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.join" title="sqlalchemy.sql.expression.join"><code class="xref py py-func docutils literal"><span class="pre">join()</span></code></a>&#x51FD;&#x6570;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7531;&#x591A;&#x4E2A;&#x8868;&#x7EC4;&#x6210;&#x7684;&#x53EF;&#x9009;&#x5355;&#x5143;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x81EA;&#x5DF1;&#x7684;&#x590D;&#x5408;&#x4E3B;&#x952E;&#xFF0C;&#x53EF;&#x4EE5;&#x50CF;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> &#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> \
        <span class="n">String</span><span class="p">,</span> <span class="n">MetaData</span><span class="p">,</span> <span class="n">join</span><span class="p">,</span> <span class="n">ForeignKey</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.declarative</span> <span class="kn">import</span> <span class="n">declarative_base</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">column_property</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="c1"># define two Table objects</span>
<span class="n">user_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&apos;user&apos;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;id&apos;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;name&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
        <span class="p">)</span>

<span class="n">address_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&apos;address&apos;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;id&apos;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;user_id&apos;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&apos;user.id&apos;</span><span class="p">)),</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;email_address&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">)</span>
            <span class="p">)</span>

<span class="c1"># define a join between them.  This</span>
<span class="c1"># takes place across the user.id and address.user_id</span>
<span class="c1"># columns.</span>
<span class="n">user_address_join</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">user_table</span><span class="p">,</span> <span class="n">address_table</span><span class="p">)</span>

<span class="n">Base</span> <span class="o">=</span> <span class="n">declarative_base</span><span class="p">()</span>

<span class="c1"># map to it</span>
<span class="k">class</span> <span class="nc">AddressUser</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__table__</span> <span class="o">=</span> <span class="n">user_address_join</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="n">column_property</span><span class="p">(</span><span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">address_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span>
    <span class="n">address_id</span> <span class="o">=</span> <span class="n">address_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span></pre></div></div><p><span class="yiyi-st" id="yiyi-49">&#x5728;&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x8054;&#x63A5;&#x8868;&#x793A;<code class="docutils literal"><span class="pre">user</span></code>&#x548C;<code class="docutils literal"><span class="pre">address</span></code>&#x8868;&#x7684;&#x5217;&#x3002;</span><span class="yiyi-st" id="yiyi-50"><code class="docutils literal"><span class="pre">user.id</span></code>&#x548C;<code class="docutils literal"><span class="pre">address.user_id</span></code>&#x5217;&#x7531;&#x5916;&#x952E;&#x7B49;&#x540C;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x6620;&#x5C04;&#x4E2D;&#x5B83;&#x4EEC;&#x88AB;&#x5B9A;&#x4E49;&#x4E3A;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;<code class="docutils literal"><span class="pre">AddressUser.id</span></code> &#xFF0C;&#x4F7F;&#x7528;<a class="reference internal" href="mapping_columns.html#sqlalchemy.orm.column_property" title="sqlalchemy.orm.column_property"><code class="xref py py-func docutils literal"><span class="pre">column_property()</span></code></a>&#x6765;&#x6307;&#x793A;&#x4E13;&#x95E8;&#x7684;&#x5217;&#x6620;&#x5C04;&#x3002;</span><span class="yiyi-st" id="yiyi-51">&#x6839;&#x636E;&#x8FD9;&#x90E8;&#x5206;&#x914D;&#x7F6E;&#xFF0C;&#x6620;&#x5C04;&#x5C06;&#x5728;&#x53D1;&#x751F;&#x5237;&#x65B0;&#x65F6;&#x5C06;<code class="docutils literal"><span class="pre">user.id</span></code>&#x4E2D;&#x7684;&#x65B0;&#x4E3B;&#x952E;&#x503C;&#x590D;&#x5236;&#x5230;<code class="docutils literal"><span class="pre">address.user_id</span></code>&#x5217;&#x4E2D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-52">&#x6B64;&#x5916;&#xFF0C;<code class="docutils literal"><span class="pre">address.id</span></code>&#x5217;&#x663E;&#x5F0F;&#x6620;&#x5C04;&#x5230;&#x540D;&#x4E3A;<code class="docutils literal"><span class="pre">address_id</span></code>&#x7684;&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-53">This is to <strong>disambiguate</strong> the mapping of the <code class="docutils literal"><span class="pre">address.id</span></code> column from the same-named <code class="docutils literal"><span class="pre">AddressUser.id</span></code> attribute, which here has been assigned to refer to the <code class="docutils literal"><span class="pre">user</span></code> table combined with the <code class="docutils literal"><span class="pre">address.user_id</span></code> foreign key.</span></p><p><span class="yiyi-st" id="yiyi-54">&#x4E0A;&#x8FF0;&#x6620;&#x5C04;&#x7684;&#x81EA;&#x7136;&#x4E3B;&#x952E;&#x662F;<code class="docutils literal"><span class="pre">&#xFF08;user.id&#xFF0C;</span> <span class="pre">address.id&#xFF09;</span></code>&#x7684;&#x7EC4;&#x5408;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x662F;&#x4E3B;&#x952E;&#x5217;&#x5C06;<code class="docutils literal"><span class="pre">user</span></code>&#x548C;<code class="docutils literal"><span class="pre">address</span></code>&#x8868;&#x5408;&#x5E76;&#x5728;&#x4E00;&#x8D77;&#x3002;</span><span class="yiyi-st" id="yiyi-55">The identity of an <code class="docutils literal"><span class="pre">AddressUser</span></code> object will be in terms of these two values, and is represented from an <code class="docutils literal"><span class="pre">AddressUser</span></code> object as <code class="docutils literal"><span class="pre">(AddressUser.id,</span> <span class="pre">AddressUser.address_id)</span></code>.</span></p></div><div class="section" id="mapping-a-class-against-arbitrary-selects"><h2><span class="yiyi-st" id="yiyi-56">&#x6839;&#x636E;&#x4EFB;&#x610F;&#x9009;&#x62E9;&#x6620;&#x5C04;&#x7C7B;<a class="headerlink" href="#mapping-a-class-against-arbitrary-selects" title="Permalink to this headline">&#xB6;</a></span></h2><p><span class="yiyi-st" id="yiyi-57">&#x7C7B;&#x4F3C;&#x4E8E;&#x5BF9;&#x8FDE;&#x63A5;&#x7684;&#x6620;&#x5C04;&#xFF0C;&#x666E;&#x901A;&#x7684;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>&#x5BF9;&#x8C61;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0E;&#x6620;&#x5C04;&#x5668;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-58">&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x7247;&#x6BB5;&#x4E3E;&#x4F8B;&#x8BF4;&#x660E;&#x4E86;&#x5C06;&#x540D;&#x4E3A;<code class="docutils literal"><span class="pre">Customer</span></code>&#x7684;&#x7C7B;&#x6620;&#x5C04;&#x5230;&#x5305;&#x542B;&#x5BF9;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x8FDE;&#x63A5;&#x7684;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span>

<span class="n">subq</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&apos;order_count&apos;</span><span class="p">),</span>
            <span class="n">func</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">price</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&apos;highest_order&apos;</span><span class="p">),</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">customer_id</span>
            <span class="p">])</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">customer_id</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>

<span class="n">customer_select</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">customers</span><span class="p">,</span> <span class="n">subq</span><span class="p">])</span><span class="o">.</span>\
            <span class="n">select_from</span><span class="p">(</span>
                <span class="n">join</span><span class="p">(</span><span class="n">customers</span><span class="p">,</span> <span class="n">subq</span><span class="p">,</span>
                        <span class="n">customers</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">subq</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">customer_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">Customer</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__table__</span> <span class="o">=</span> <span class="n">customer_select</span></pre></div></div><p><span class="yiyi-st" id="yiyi-59">Above, the full row represented by <code class="docutils literal"><span class="pre">customer_select</span></code> will be all the columns of the <code class="docutils literal"><span class="pre">customers</span></code> table, in addition to those columns exposed by the <code class="docutils literal"><span class="pre">subq</span></code> subquery, which are <code class="docutils literal"><span class="pre">order_count</span></code>, <code class="docutils literal"><span class="pre">highest_order</span></code>, and <code class="docutils literal"><span class="pre">customer_id</span></code>. </span><span class="yiyi-st" id="yiyi-60">&#x5C06;<code class="docutils literal"><span class="pre">Customer</span></code>&#x7C7B;&#x6620;&#x5C04;&#x5230;&#x6B64;&#x53EF;&#x9009;&#x9879;&#x7136;&#x540E;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x7684;&#x7C7B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-61">&#x5F53;ORM&#x6301;&#x7EED;<code class="docutils literal"><span class="pre">Customer</span></code>&#x7684;&#x65B0;&#x5B9E;&#x4F8B;&#x65F6;&#xFF0C;&#x53EA;&#x6709;<code class="docutils literal"><span class="pre">customers</span></code>&#x8868;&#x5C06;&#x5B9E;&#x9645;&#x63A5;&#x6536;&#x5230;INSERT&#x3002;</span><span class="yiyi-st" id="yiyi-62">&#x8FD9;&#x662F;&#x56E0;&#x4E3A;<code class="docutils literal"><span class="pre">orders</span></code>&#x8868;&#x7684;&#x4E3B;&#x5173;&#x952E;&#x5B57;&#x672A;&#x5728;&#x6620;&#x5C04;&#x4E2D;&#x8868;&#x793A;&#xFF1B; ORM&#x5C06;&#x4EC5;&#x5411;&#x5176;&#x6620;&#x5C04;&#x4E3B;&#x952E;&#x7684;&#x8868;&#x53D1;&#x51FA;INSERT&#x3002;</span></p><div class="admonition note"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-63">&#x6CE8;&#x610F;</span></p><p class="last"><span class="yiyi-st" id="yiyi-64">&#x51E0;&#x4E4E;&#x4ECE;&#x4E0D;&#x9700;&#x8981;&#x6620;&#x5C04;&#x5230;&#x4EFB;&#x610F;SELECT&#x8BED;&#x53E5;&#x7684;&#x505A;&#x6CD5;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x590D;&#x6742;&#x7684;SELECT&#x8BED;&#x53E5;&#xFF1B;&#x5B83;&#x5F80;&#x5F80;&#x4F1A;&#x4EA7;&#x751F;&#x590D;&#x6742;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD9;&#x4E9B;&#x67E5;&#x8BE2;&#x7684;&#x6548;&#x7387;&#x5F80;&#x5F80;&#x4F4E;&#x4E8E;&#x901A;&#x8FC7;&#x76F4;&#x63A5;&#x67E5;&#x8BE2;&#x6784;&#x5EFA;&#x4EA7;&#x751F;&#x7684;&#x67E5;&#x8BE2;&#x7684;&#x6548;&#x7387;&#x3002;</span><span class="yiyi-st" id="yiyi-65">The practice is to some degree based on the very early history of SQLAlchemy where the <a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper" title="sqlalchemy.orm.mapper"><code class="xref py py-func docutils literal"><span class="pre">mapper()</span></code></a> construct was meant to represent the primary querying interface; in modern usage, the <a class="reference internal" href="query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a> object can be used to construct virtually any SELECT statement, including complex composites, and should be favored over the &#x201C;map-to-selectable&#x201D; approach.</span></p></div></div><div class="section" id="multiple-mappers-for-one-class"><h2><span class="yiyi-st" id="yiyi-66">&#x4E00;&#x4E2A;&#x7C7B;&#x7684;&#x591A;&#x4E2A;&#x6620;&#x5C04;&#x5668;<a class="headerlink" href="#multiple-mappers-for-one-class" title="Permalink to this headline">&#xB6;</a></span></h2><p><span class="yiyi-st" id="yiyi-67">&#x5728;&#x73B0;&#x4EE3;&#x7684;SQLAlchemy&#x4E2D;&#xFF0C;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x7C7B;&#x4E00;&#x6B21;&#x53EA;&#x80FD;&#x6620;&#x5C04;&#x4E00;&#x4E2A;&#x6240;&#x8C13;&#x7684;<strong>primary</strong>&#x6620;&#x200B;&#x200B;&#x5C04;&#x5668;&#x3002;</span><span class="yiyi-st" id="yiyi-68">&#x8BE5;&#x6620;&#x5C04;&#x5668;&#x6D89;&#x53CA;&#x4E09;&#x4E2A;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x9886;&#x57DF;&#xFF1A;&#x6620;&#x5C04;&#x7C7B;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x6301;&#x4E45;&#x6027;&#x548C;&#x68C0;&#x6D4B;&#x3002;</span><span class="yiyi-st" id="yiyi-69">&#x4E3B;&#x8981;&#x6620;&#x5C04;&#x5668;&#x7684;&#x57FA;&#x672C;&#x539F;&#x7406;&#x4E0E;<a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper" title="sqlalchemy.orm.mapper"><code class="xref py py-func docutils literal"><span class="pre">mapper()</span></code></a>&#x4FEE;&#x6539;&#x7C7B;&#x672C;&#x8EAB;&#x7684;&#x4E8B;&#x5B9E;&#x6709;&#x5173;&#xFF0C;&#x4E0D;&#x4EC5;&#x5C06;&#x5B83;&#x6301;&#x4E45;&#x5316;&#x4E3A;&#x7279;&#x5B9A;&#x7684;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#xFF0C;&#x800C;&#x4E14;<a class="reference internal" href="glossary.html#term-instrumenting"><span class="xref std std-term">instrumenting</span></a></span><span class="yiyi-st" id="yiyi-70">&#x65E0;&#x6CD5;&#x5C06;&#x591A;&#x4E2A;&#x6620;&#x5C04;&#x5668;&#x540C;&#x7B49;&#x7EA7;&#x5730;&#x4E0E;&#x4E00;&#x4E2A;&#x7C7B;&#x76F8;&#x5173;&#x8054;&#xFF0C;&#x56E0;&#x4E3A;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x6620;&#x5C04;&#x5668;&#x53EF;&#x4EE5;&#x771F;&#x6B63;&#x5BF9;&#x8FD9;&#x4E2A;&#x7C7B;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-71">&#x7136;&#x800C;&#xFF0C;&#x6709;&#x4E00;&#x7C7B;&#x79F0;&#x4E3A;<strong>&#x975E;&#x4E3B;&#x6620;&#x5C04;&#x5668;&#x7684;&#x6620;&#x5C04;&#x5668;&#x5141;&#x8BB8;&#x9644;&#x52A0;&#x7684;&#x6620;&#x5C04;&#x5668;&#x4E0E;&#x7C7B;&#x5173;&#x8054;&#xFF0C;&#x4F46;&#x662F;&#x4F7F;&#x7528;&#x8303;&#x56F4;&#x6709;&#x9650;&#x3002;</strong></span><span class="yiyi-st" id="yiyi-72">&#x6B64;&#x8303;&#x56F4;&#x901A;&#x5E38;&#x9002;&#x7528;&#x4E8E;&#x80FD;&#x591F;&#x4ECE;&#x5907;&#x7528;&#x8868;&#x6216;&#x53EF;&#x9009;&#x5355;&#x5143;&#x52A0;&#x8F7D;&#x884C;&#xFF0C;&#x4F46;&#x4ECD;&#x4F1A;&#x751F;&#x6210;&#x6700;&#x7EC8;&#x4F7F;&#x7528;&#x4E3B;&#x6620;&#x5C04;&#x6301;&#x4E45;&#x5316;&#x7684;&#x7C7B;&#x3002;</span><span class="yiyi-st" id="yiyi-73">&#x975E;&#x4E3B;&#x6620;&#x5C04;&#x5668;&#x662F;&#x4F7F;&#x7528;&#x53E4;&#x5178;&#x98CE;&#x683C;&#x7684;&#x6620;&#x5C04;&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x8BE5;&#x6620;&#x5C04;&#x5BF9;&#x5DF2;&#x4F7F;&#x7528;&#x4E3B;&#x6620;&#x5C04;&#x5668;&#x6620;&#x5C04;&#x7684;&#x7C7B;&#x8FDB;&#x884C;&#x6620;&#x5C04;&#xFF0C;&#x5E76;&#x6D89;&#x53CA;&#x4F7F;&#x7528;<a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper.params.non_primary" title="sqlalchemy.orm.mapper"><code class="xref py py-paramref docutils literal"><span class="pre">non_primary</span></code></a>&#x6807;&#x5FD7;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-74">&#x73B0;&#x4EE3;SQLAlchemy&#x4E2D;&#x975E;&#x4E3B;&#x8981;&#x6620;&#x5C04;&#x5668;&#x7684;&#x4F7F;&#x7528;&#x975E;&#x5E38;&#x6709;&#x9650;&#xFF0C;&#x56E0;&#x4E3A;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;<a class="reference internal" href="query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x6765;&#x5B8C;&#x6210;&#x4ECE;&#x5B50;&#x67E5;&#x8BE2;&#x6216;&#x5176;&#x4ED6;&#x590D;&#x5408;&#x8BED;&#x53E5;&#x52A0;&#x8F7D;&#x7C7B;&#x7684;&#x4EFB;&#x52A1;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-75">&#x5BF9;&#x4E8E;&#x975E;&#x4E3B;&#x6620;&#x5C04;&#x5668;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7528;&#x4F8B;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x4E3A;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x6620;&#x5C04;&#x5668;&#x5EFA;&#x7ACB;<a class="reference internal" href="relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal"><span class="pre">relationship()</span></code></a>&#xFF1B;&#x8FD9;&#x5728;&#x7F55;&#x89C1;&#x548C;&#x9AD8;&#x7EA7;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x975E;&#x5E38;&#x6709;&#x7528;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x5173;&#x7CFB;&#x8BD5;&#x56FE;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x8BB8;&#x591A;&#x8868;&#x548C;/&#x6216;&#x8FDE;&#x63A5;&#x6765;&#x8FDE;&#x63A5;&#x4E24;&#x4E2A;&#x7C7B;&#x3002;</span><span class="yiyi-st" id="yiyi-76">&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x7684;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;<a class="reference internal" href="join_conditions.html#relationship-non-primary-mapper"><span>Relationship to Non Primary Mapper</span></a>&#x7684;&#x5173;&#x7CFB;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-77">&#x81F3;&#x4E8E;&#x5B9E;&#x9645;&#x4E0A;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x540C;&#x573A;&#x666F;&#x4E0B;&#x5B8C;&#x5168;&#x575A;&#x6301;&#x4E0D;&#x540C;&#x8868;&#x7684;&#x7C7B;&#x7684;&#x7528;&#x4F8B;&#xFF0C;&#x65E9;&#x671F;&#x7248;&#x672C;&#x7684;SQLAlchemy&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x9002;&#x7528;&#x4E8E;Hibernate&#x7684;&#x7279;&#x6027;&#xFF0C;&#x79F0;&#x4E3A;&#x201C;&#x5B9E;&#x4F53;&#x540D;&#x79F0;&#x201D;&#x7279;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-78">&#x4F46;&#x662F;&#xFF0C;&#x4E00;&#x65E6;&#x6620;&#x5C04;&#x7C7B;&#x672C;&#x8EAB;&#x6210;&#x4E3A;SQL&#x8868;&#x8FBE;&#x5F0F;&#x6784;&#x9020;&#x7684;&#x6E90;&#xFF0C;&#x6B64;&#x7528;&#x4F8B;&#x5728;SQLAlchemy&#x4E2D;&#x5C31;&#x53D8;&#x5F97;&#x4E0D;&#x53EF;&#x884C;&#x4E86;&#xFF1B;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x7C7B;&#x7684;&#x5C5E;&#x6027;&#x672C;&#x8EAB;&#x76F4;&#x63A5;&#x94FE;&#x63A5;&#x5230;&#x6620;&#x5C04;&#x7684;&#x8868;&#x5217;&#x3002;</span><span class="yiyi-st" id="yiyi-79">&#x8BE5;&#x529F;&#x80FD;&#x5DF2;&#x88AB;&#x5220;&#x9664;&#xFF0C;&#x53D6;&#x800C;&#x4EE3;&#x4E4B;&#x7684;&#x662F;&#x4E00;&#x79CD;&#x7B80;&#x5355;&#x7684;&#x9762;&#x5411;&#x914D;&#x65B9;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x5B8C;&#x6210;&#x6B64;&#x4EFB;&#x52A1;&#xFF0C;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5DE5;&#x5177;&#x7684;&#x6B67;&#x4E49; - &#x521B;&#x5EFA;&#x65B0;&#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B50;&#x7C7B;&#x5206;&#x522B;&#x6620;&#x5C04;&#x3002;</span><span class="yiyi-st" id="yiyi-80">&#x6B64;&#x6A21;&#x5F0F;&#x73B0;&#x5728;&#x53EF;&#x5728;<a class="reference external" href="http://www.sqlalchemy.org/trac/wiki/UsageRecipes/EntityName">&#x5B9E;&#x4F53;&#x540D;&#x79F0;</a>&#x4E2D;&#x4F5C;&#x4E3A;&#x914D;&#x65B9;&#x4F7F;&#x7528;&#x3002;</span></p></div>