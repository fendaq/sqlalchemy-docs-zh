<h1><span class="yiyi-st" id="yiyi-42">&#x67E5;&#x8BE2;API <a class="headerlink" href="#query-api" title="Permalink to this headline">&#xB6;</a></span></h1><div class="section" id="the-query-object"><h2><span class="yiyi-st" id="yiyi-43">&#x67E5;&#x8BE2;&#x5BF9;&#x8C61;<a class="headerlink" href="#the-query-object" title="Permalink to this headline">&#xB6;</a></span></h2><p><span class="yiyi-st" id="yiyi-44"><a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a> is produced in terms of a given <a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>, using the <a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session.query" title="sqlalchemy.orm.session.Session.query"><code class="xref py py-meth docutils literal"><span class="pre">query()</span></code></a> method:</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">SomeMappedClass</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-45">&#x4EE5;&#x4E0B;&#x662F;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x5B8C;&#x6574;&#x754C;&#x9762;&#x3002;</span></p><dl class="class"><dt id="sqlalchemy.orm.query.Query"><span class="yiyi-st" id="yiyi-46"> <em class="property">class </em><code class="descclassname">sqlalchemy.orm.query.</code><code class="descname">Query</code><span class="sig-paren">(</span><em>entities</em>, <em>session=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.query.Query" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-47">ORM&#x7EA7;&#x7684;SQL&#x6784;&#x9020;&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-48"><a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a> is the source of all SELECT statements generated by the ORM, both those formulated by end-user query operations as well as by high level internal operations such as related collection loading. </span><span class="yiyi-st" id="yiyi-49">&#x5B83;&#x5177;&#x6709;&#x4E00;&#x4E2A;&#x751F;&#x6210;&#x63A5;&#x53E3;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x8FDE;&#x7EED;&#x8C03;&#x7528;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#xFF0C;&#x524D;&#x8005;&#x7684;&#x526F;&#x672C;&#x5E26;&#x6709;&#x4E0E;&#x5176;&#x76F8;&#x5173;&#x7684;&#x9644;&#x52A0;&#x6761;&#x4EF6;&#x548C;&#x9009;&#x9879;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-50"><a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x901A;&#x5E38;&#x6700;&#x521D;&#x4F7F;&#x7528;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x7684;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session.query" title="sqlalchemy.orm.session.Session.query"><code class="xref py py-meth docutils literal"><span class="pre">query()</span></code></a>&#x65B9;&#x6CD5;&#x751F;&#x6210;&#x3002;</span><span class="yiyi-st" id="yiyi-51">&#x6709;&#x5173;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x7528;&#x6CD5;&#x7684;&#x5B8C;&#x6574;&#x6F14;&#x7EC3;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="tutorial.html"><span>Object Relational Tutorial</span></a>&#x3002;</span></p><dl class="method"><dt id="sqlalchemy.orm.query.Query.add_column"><span class="yiyi-st" id="yiyi-52"><code class="descname"> add_column  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x5217; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.add_column" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-53">&#x5C06;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x6DFB;&#x52A0;&#x5230;&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x5217;&#x8868;&#x7684;&#x5217;&#x8868;&#x4E2D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-54">&#x7B49;&#x5F85;&#x5F03;&#x7528;&#xFF1A;<a class="reference internal" href="#sqlalchemy.orm.query.Query.add_column" title="sqlalchemy.orm.query.Query.add_column"><code class="xref py py-meth docutils literal"><span class="pre">add_column()</span></code></a>&#x5C06;&#x88AB;<a class="reference internal" href="#sqlalchemy.orm.query.Query.add_columns" title="sqlalchemy.orm.query.Query.add_columns"><code class="xref py py-meth docutils literal"><span class="pre">add_columns()</span></code></a>&#x53D6;&#x4EE3;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.add_columns"><span class="yiyi-st" id="yiyi-55"><code class="descname"> add_columns  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> *&#x67F1; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.add_columns" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-56">&#x5C06;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x6DFB;&#x52A0;&#x5230;&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x5217;&#x8868;&#x7684;&#x5217;&#x8868;&#x4E2D;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.add_entity"><span class="yiyi-st" id="yiyi-57"><code class="descname">add_entity</code> <span class="sig-paren">&#xFF08;</span> <em>entity</em>&#xFF0C;<em>alias = None</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.query.Query.add_entity" title="Permalink to this definition"> t5 &gt;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-58">&#x5C06;&#x6620;&#x5C04;&#x5B9E;&#x4F53;&#x6DFB;&#x52A0;&#x5230;&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x5217;&#x7684;&#x5217;&#x8868;&#x4E2D;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.all"><span class="yiyi-st" id="yiyi-59"><code class="descname">&#x6240;&#x6709; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.all" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-60">&#x5C06;<code class="docutils literal"><span class="pre">Query</span></code>&#x8868;&#x793A;&#x7684;&#x7ED3;&#x679C;&#x4F5C;&#x4E3A;&#x5217;&#x8868;&#x8FD4;&#x56DE;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-61">&#x8FD9;&#x5BFC;&#x81F4;&#x5E95;&#x5C42;&#x67E5;&#x8BE2;&#x7684;&#x6267;&#x884C;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.as_scalar"><span class="yiyi-st" id="yiyi-62"><code class="descname"> as_scalar  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.as_scalar" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-63">&#x8FD4;&#x56DE;&#x7531;&#x6B64;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x8868;&#x793A;&#x7684;&#x5B8C;&#x6574;SELECT&#x8BED;&#x53E5;&#xFF0C;&#x8F6C;&#x6362;&#x4E3A;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-64">&#x7C7B;&#x4F3C;&#x4E8E;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.SelectBase.as_scalar" title="sqlalchemy.sql.expression.SelectBase.as_scalar"><code class="xref py py-meth docutils literal"><span class="pre">sqlalchemy.sql.expression.SelectBase.as_scalar()</span></code></a>&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-65"><span class="versionmodified">&#x7248;&#x672C;0.6.5&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.autoflush"><span class="yiyi-st" id="yiyi-66"><code class="descname">&#x81EA;&#x52A8;&#x51B2;&#x6D17; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x8BBE;&#x7F6E; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.autoflush" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-67">&#x4F7F;&#x7528;&#x7279;&#x5B9A;&#x7684;&#x201C;&#x81EA;&#x52A8;&#x5237;&#x65B0;&#x201D;&#x8BBE;&#x7F6E;&#x8FD4;&#x56DE;&#x67E5;&#x8BE2;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-68">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5373;&#x4F7F;&#x5728;&#x67E5;&#x8BE2;&#x7EA7;&#x522B;&#x5C06;&#x6B64;&#x6807;&#x5FD7;&#x8BBE;&#x7F6E;&#x4E3A;True&#xFF0C;&#x5177;&#x6709;autoflush = False&#x7684;&#x4F1A;&#x8BDD;&#x4E5F;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x5237;&#x65B0;&#x3002;</span><span class="yiyi-st" id="yiyi-69">&#x56E0;&#x6B64;&#x6B64;&#x6807;&#x5FD7;&#x901A;&#x5E38;&#x4EC5;&#x7528;&#x4E8E;&#x7981;&#x7528;&#x7279;&#x5B9A;&#x67E5;&#x8BE2;&#x7684;&#x81EA;&#x52A8;&#x5237;&#x65B0;&#x3002;</span></p></dd></dl><dl class="attribute"><dt id="sqlalchemy.orm.query.Query.column_descriptions"><span class="yiyi-st" id="yiyi-70"><code class="descname"> column_descriptions  T0&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.column_descriptions" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-71">&#x8FD4;&#x56DE;&#x6709;&#x5173;&#x7531;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x8FD4;&#x56DE;&#x7684;&#x5217;&#x7684;&#x5143;&#x6570;&#x636E;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-72">&#x683C;&#x5F0F;&#x662F;&#x8BCD;&#x5178;&#x7684;&#x5217;&#x8868;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">user_alias</span> <span class="o">=</span> <span class="n">aliased</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&apos;user2&apos;</span><span class="p">)</span>
<span class="n">q</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">user_alias</span><span class="p">)</span>

<span class="c1"># this expression:</span>
<span class="n">q</span><span class="o">.</span><span class="n">column_descriptions</span>

<span class="c1"># would return:</span>
<span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&apos;name&apos;</span><span class="p">:</span><span class="s1">&apos;User&apos;</span><span class="p">,</span>
        <span class="s1">&apos;type&apos;</span><span class="p">:</span><span class="n">User</span><span class="p">,</span>
        <span class="s1">&apos;aliased&apos;</span><span class="p">:</span><span class="bp">False</span><span class="p">,</span>
        <span class="s1">&apos;expr&apos;</span><span class="p">:</span><span class="n">User</span><span class="p">,</span>
        <span class="s1">&apos;entity&apos;</span><span class="p">:</span> <span class="n">User</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&apos;name&apos;</span><span class="p">:</span><span class="s1">&apos;id&apos;</span><span class="p">,</span>
        <span class="s1">&apos;type&apos;</span><span class="p">:</span><span class="n">Integer</span><span class="p">(),</span>
        <span class="s1">&apos;aliased&apos;</span><span class="p">:</span><span class="bp">False</span><span class="p">,</span>
        <span class="s1">&apos;expr&apos;</span><span class="p">:</span><span class="n">User</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="s1">&apos;entity&apos;</span><span class="p">:</span> <span class="n">User</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&apos;name&apos;</span><span class="p">:</span><span class="s1">&apos;user2&apos;</span><span class="p">,</span>
        <span class="s1">&apos;type&apos;</span><span class="p">:</span><span class="n">User</span><span class="p">,</span>
        <span class="s1">&apos;aliased&apos;</span><span class="p">:</span><span class="bp">True</span><span class="p">,</span>
        <span class="s1">&apos;expr&apos;</span><span class="p">:</span><span class="n">user_alias</span><span class="p">,</span>
        <span class="s1">&apos;entity&apos;</span><span class="p">:</span> <span class="n">user_alias</span>
    <span class="p">}</span>
<span class="p">]</span></pre></div></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.correlate"><span class="yiyi-st" id="yiyi-73"><code class="descname">&#x5F52;&#x5C5E;&#x5173;&#x7CFB; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * ARGS  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.correlate" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-74">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x7ED3;&#x6784;&#xFF0C;&#x5B83;&#x5C06;&#x7ED9;&#x5B9A;&#x7684;FROM&#x5B50;&#x53E5;&#x4E0E;&#x4E00;&#x4E2A;&#x5305;&#x542B;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x6216;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>&#x7684;&#x5B50;&#x53E5;&#x5173;&#x8054;&#x8D77;&#x6765;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-75">&#x6B64;&#x5904;&#x7684;&#x65B9;&#x6CD5;&#x63A5;&#x53D7;&#x6620;&#x5C04;&#x7C7B;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal"><span class="pre">aliased()</span></code></a>&#x6784;&#x9020;&#x548C;<a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper" title="sqlalchemy.orm.mapper"><code class="xref py py-func docutils literal"><span class="pre">mapper()</span></code></a>&#x6784;&#x9020;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x9664;&#x4E86;&#x9002;&#x5F53;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x6784;&#x9020;&#x4E4B;&#x5916;&#xFF0C;&#x5B83;&#x4EEC;&#x88AB;&#x89E3;&#x6790;&#x4E3A;&#x8868;&#x8FBE;&#x5F0F;&#x6784;&#x9020;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-76">&#x76F8;&#x5173;&#x53C2;&#x6570;&#x5728;&#x5F3A;&#x5236;&#x8F6C;&#x6362;&#x4E3A;&#x8868;&#x8FBE;&#x5F0F;&#x7ED3;&#x6784;&#x540E;&#x6700;&#x7EC8;&#x4F20;&#x9012;&#x7ED9;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Select.correlate" title="sqlalchemy.sql.expression.Select.correlate"><code class="xref py py-meth docutils literal"><span class="pre">Select.correlate()</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-77">&#x5728;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.from_self" title="sqlalchemy.orm.query.Query.from_self"><code class="xref py py-meth docutils literal"><span class="pre">Query.from_self()</span></code></a>&#x65F6;&#xFF0C;&#x6216;&#x8005;&#x5F53;&#x7531;<a class="reference internal" href="#sqlalchemy.orm.query.Query.subquery" title="sqlalchemy.orm.query.Query.subquery"><code class="xref py py-meth docutils literal"><span class="pre">Query.subquery()</span></code></a>&#x8FD4;&#x56DE;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x5D4C;&#x5165;&#x53E6;&#x4E00;&#x4E2A;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>&#x6784;&#x9020;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.count"><span class="yiyi-st" id="yiyi-78"><code class="descname">&#x8BA1;&#x6570; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.count" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-79">&#x8FD4;&#x56DE;&#x6B64;Query&#x5C06;&#x8FD4;&#x56DE;&#x7684;&#x884C;&#x6570;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-80">&#x8FD9;&#x5C06;&#x4E3A;&#x6B64;&#x67E5;&#x8BE2;&#x751F;&#x6210;SQL&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>SELECT count(1) AS count_1 FROM (
    SELECT &lt;rest of query follows...&gt;
) AS anon_1</pre></div></div><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-81"><span class="versionmodified">Changed in version 0.7: </span>The above scheme is newly refined as of 0.7b3.</span></p></div><p><span class="yiyi-st" id="yiyi-82">&#x8981;&#x7EC6;&#x5316;&#x5BF9;&#x7279;&#x5B9A;&#x5217;&#x8FDB;&#x884C;&#x8BA1;&#x6570;&#x7684;&#x63A7;&#x5236;&#xFF0C;&#x8981;&#x8DF3;&#x8FC7;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x4F7F;&#x7528;&#x6216;&#x63A7;&#x5236;FROM&#x5B50;&#x53E5;&#x6216;&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF0C;&#x8BF7;&#x5C06;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-attr docutils literal"><span class="pre">func</span></code></a>&#x8868;&#x8FBE;&#x5F0F;&#x4E0E;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session.query" title="sqlalchemy.orm.session.Session.query"><code class="xref py py-meth docutils literal"><span class="pre">query()</span></code></a>&#xFF0C;&#x5373;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">func</span>

<span class="c1"># count User records, without</span>
<span class="c1"># using a subquery.</span>
<span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>

<span class="c1"># return count of user &quot;id&quot; grouped</span>
<span class="c1"># by &quot;name&quot;</span>
<span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">id</span><span class="p">))</span><span class="o">.</span>\
        <span class="n">group_by</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">distinct</span>

<span class="c1"># count distinct &quot;name&quot; values</span>
<span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">distinct</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="p">)))</span></pre></div></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.cte"><span class="yiyi-st" id="yiyi-83"> <code class="descname">cte</code><span class="sig-paren">(</span><em>name=None</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.query.Query.cte" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-84">&#x8FD4;&#x56DE;&#x7531;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x8868;&#x793A;&#x7684;&#x5B8C;&#x6574;SELECT&#x8BED;&#x53E5;&#xFF0C;&#x8868;&#x793A;&#x4E3A;&#x4E00;&#x4E2A;&#x516C;&#x7528;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;CTE&#xFF09;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-85">&#x53C2;&#x6570;&#x548C;&#x7528;&#x6CD5;&#x4E0E;<code class="xref py py-meth docutils literal"><span class="pre">SelectBase.cte()</span></code>&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x548C;&#x7528;&#x6CD5;&#x76F8;&#x540C;&#xFF1B;&#x8BF7;&#x53C2;&#x9605;&#x8BE5;&#x65B9;&#x6CD5;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x8BE6;&#x60C5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-86">&#x8FD9;&#x91CC;&#x662F;<a class="reference external" href="http://www.postgresql.org/docs/8.4/static/queries-with.html">Postgresql WITH RECURSIVE&#x793A;&#x4F8B;</a>&#x3002;</span><span class="yiyi-st" id="yiyi-87">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5728;&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x5B83;&#x7684;<code class="docutils literal"><span class="pre">included_parts</span></code> cte&#x548C;<code class="docutils literal"><span class="pre">incl_alias</span></code>&#x522B;&#x540D;&#x662F;&#x6838;&#x5FC3;&#x53EF;&#x9009;&#x9879;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x901A;&#x8FC7;<code class="docutils literal"><span class="pre">.c.</span></code></span><span class="yiyi-st" id="yiyi-88">&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-89"><code class="docutils literal"><span class="pre">parts_alias</span></code>&#x5BF9;&#x8C61;&#x662F;<code class="docutils literal"><span class="pre">Part</span></code>&#x5B9E;&#x4F53;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal"><span class="pre">orm.aliased()</span></code></a>&#x5B9E;&#x4F8B;&#xFF0C;&#x56E0;&#x6B64;&#x5217;&#x6620;&#x5C04;&#x5C5E;&#x6027;&#x53EF;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">aliased</span>

<span class="k">class</span> <span class="nc">Part</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&apos;part&apos;</span>
    <span class="n">part</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">sub_part</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">quantity</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span>

<span class="n">included_parts</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                <span class="n">Part</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
                <span class="n">Part</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
                <span class="n">Part</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span>\
                    <span class="nb">filter</span><span class="p">(</span><span class="n">Part</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="s2">&quot;our part&quot;</span><span class="p">)</span><span class="o">.</span>\
                    <span class="n">cte</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;included_parts&quot;</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">incl_alias</span> <span class="o">=</span> <span class="n">aliased</span><span class="p">(</span><span class="n">included_parts</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;pr&quot;</span><span class="p">)</span>
<span class="n">parts_alias</span> <span class="o">=</span> <span class="n">aliased</span><span class="p">(</span><span class="n">Part</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;p&quot;</span><span class="p">)</span>
<span class="n">included_parts</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">union_all</span><span class="p">(</span>
    <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span>\
            <span class="nb">filter</span><span class="p">(</span><span class="n">parts_alias</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="n">incl_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>
    <span class="p">)</span>

<span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
        <span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
        <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span>
            <span class="n">label</span><span class="p">(</span><span class="s1">&apos;total_quantity&apos;</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span>\
    <span class="n">group_by</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span></pre></div></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-90">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-91"><a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal"><span class="pre">HasCTE.cte()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.delete"><span class="yiyi-st" id="yiyi-92"><code class="descname">&#x5220;&#x9664; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> synchronize_session = &apos;&#x8BC4;&#x4EF7;&apos; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.delete" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-93">&#x6267;&#x884C;&#x6279;&#x91CF;&#x5220;&#x9664;&#x67E5;&#x8BE2;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-94">&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5220;&#x9664;&#x6B64;&#x67E5;&#x8BE2;&#x5339;&#x914D;&#x7684;&#x884C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-95">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">age</span> <span class="o">==</span> <span class="mi">25</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">delete</span><span class="p">(</span><span class="n">synchronize_session</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">age</span> <span class="o">==</span> <span class="mi">25</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">delete</span><span class="p">(</span><span class="n">synchronize_session</span><span class="o">=</span><span class="s1">&apos;evaluate&apos;</span><span class="p">)</span></pre></div></div><div class="admonition warning"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-96">&#x8B66;&#x544A;</span></p><p class="last"><span class="yiyi-st" id="yiyi-97"><a class="reference internal" href="#sqlalchemy.orm.query.Query.delete" title="sqlalchemy.orm.query.Query.delete"><code class="xref py py-meth docutils literal"><span class="pre">Query.delete()</span></code></a>&#x65B9;&#x6CD5;&#x662F;&#x4E00;&#x79CD;&#x201C;&#x6279;&#x91CF;&#x201D;&#x64CD;&#x4F5C;&#xFF0C;&#x5B83;&#x7ED5;&#x8FC7;ORM&#x5DE5;&#x4F5C;&#x5355;&#x5143;&#x81EA;&#x52A8;&#x5316;&#xFF0C;&#x4EE5;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#x3002;</span><span class="yiyi-st" id="yiyi-98"><strong>&#x8BF7;&#x9605;&#x8BFB;&#x4E0B;&#x9762;&#x7684;&#x6240;&#x6709;&#x8B66;&#x544A;&#x548C;&#x8B66;&#x544A;&#x3002;</strong></span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-99">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><span class="yiyi-st" id="yiyi-110"><span class="target" id="sqlalchemy.orm.query.Query.delete.params.synchronize_session"></span> <strong>synchronize_session</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.delete.params.synchronize_session">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-100">&#x9009;&#x62E9;&#x4ECE;&#x4F1A;&#x8BDD;&#x4E2D;&#x5220;&#x9664;&#x5339;&#x914D;&#x5BF9;&#x8C61;&#x7684;&#x7B56;&#x7565;&#x3002;</span><span class="yiyi-st" id="yiyi-101">&#x6709;&#x6548;&#x503C;&#x662F;&#xFF1A;</span></p><p><span class="yiyi-st" id="yiyi-102"><code class="docutils literal"><span class="pre">False</span></code>  - &#x4E0D;&#x8981;&#x540C;&#x6B65;&#x4F1A;&#x8BDD;&#x3002;</span><span class="yiyi-st" id="yiyi-103">&#x4E00;&#x65E6;&#x4F1A;&#x8BDD;&#x8FC7;&#x671F;&#xFF0C;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x662F;&#x6700;&#x9AD8;&#x6548;&#x548C;&#x53EF;&#x9760;&#x7684;&#xFF0C;&#x901A;&#x5E38;&#x5728;commit()&#x4E4B;&#x540E;&#x53D1;&#x751F;&#xFF0C;&#x6216;&#x8005;&#x660E;&#x786E;&#x5730;&#x4F7F;&#x7528;expire_all()&#x3002;</span><span class="yiyi-st" id="yiyi-104">&#x5728;&#x5230;&#x671F;&#x4E4B;&#x524D;&#xFF0C;&#x5BF9;&#x8C61;&#x53EF;&#x80FD;&#x4ECD;&#x7136;&#x4FDD;&#x7559;&#x5728;&#x4F1A;&#x8BDD;&#x4E2D;&#xFF0C;&#x4E8B;&#x5B9E;&#x4E0A;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x88AB;&#x5220;&#x9664;&#xFF0C;&#x5982;&#x679C;&#x901A;&#x8FC7;get()&#x6216;&#x5DF2;&#x7ECF;&#x52A0;&#x8F7D;&#x7684;&#x96C6;&#x5408;&#x8BBF;&#x95EE;&#x5B83;&#x4EEC;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x6DF7;&#x6DC6;&#x7ED3;&#x679C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-105"><code class="docutils literal"><span class="pre">&apos;fetch&apos;</span></code>  - &#x5728;&#x5220;&#x9664;&#x4E4B;&#x524D;&#x6267;&#x884C;&#x9009;&#x62E9;&#x67E5;&#x8BE2;&#xFF0C;&#x4EE5;&#x67E5;&#x627E;&#x4E0E;&#x5220;&#x9664;&#x67E5;&#x8BE2;&#x5339;&#x914D;&#x5E76;&#x9700;&#x8981;&#x4ECE;&#x4F1A;&#x8BDD;&#x4E2D;&#x5220;&#x9664;&#x7684;&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-106">&#x5339;&#x914D;&#x7684;&#x5BF9;&#x8C61;&#x4ECE;&#x4F1A;&#x8BDD;&#x4E2D;&#x5220;&#x9664;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-107"><code class="docutils literal"><span class="pre">&apos;evaluate&apos;</span></code>  - &#x76F4;&#x63A5;&#x5728;&#x4F1A;&#x8BDD;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x4E2D;&#x8BC4;&#x4F30;Python&#x4E2D;&#x7684;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-108">&#x5982;&#x679C;&#x8BC4;&#x4F30;&#x6807;&#x51C6;&#x672A;&#x5B9E;&#x65BD;&#xFF0C;&#x5219;&#x4F1A;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-109">&#x8868;&#x8FBE;&#x5F0F;&#x6C42;&#x503C;&#x7A0B;&#x5E8F;&#x76EE;&#x524D;&#x6CA1;&#x6709;&#x8003;&#x8651;&#x6570;&#x636E;&#x5E93;&#x548C;Python&#x4E4B;&#x95F4;&#x7684;&#x4E0D;&#x540C;&#x5B57;&#x7B26;&#x4E32;&#x6574;&#x7406;&#x3002;</span></p></td></tr><tr class="field-even field"><th class="field-name"><span class="yiyi-st" id="yiyi-111">&#x8FD4;&#x56DE;&#xFF1A;</span></th><td class="field-body"><span class="yiyi-st" id="yiyi-112">&#x6570;&#x636E;&#x5E93;&#x7684;&#x201C;&#x884C;&#x6570;&#x201D;&#x529F;&#x80FD;&#x8FD4;&#x56DE;&#x7684;&#x884C;&#x6570;&#x76F8;&#x5339;&#x914D;&#x3002;</span></td></tr></tbody></table><div class="admonition warning"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-113">&#x8B66;&#x544A;</span></p><p><span class="yiyi-st" id="yiyi-114"><strong>Additional Caveats for bulk query deletes</strong></span></p><ul class="last"><li><p class="first"><span class="yiyi-st" id="yiyi-115">The method does <strong>not</strong> offer in-Python cascading of relationships - it is assumed that ON DELETE CASCADE/SET NULL/etc. </span><span class="yiyi-st" id="yiyi-116">&#x914D;&#x7F6E;&#x4E3A;&#x9700;&#x8981;&#x5B83;&#x7684;&#x4EFB;&#x4F55;&#x5916;&#x952E;&#x5F15;&#x7528;&#xFF0C;&#x5426;&#x5219;&#x5982;&#x679C;&#x5916;&#x952E;&#x5F15;&#x7528;&#x88AB;&#x5F3A;&#x5236;&#x6267;&#x884C;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x53EF;&#x80FD;&#x4F1A;&#x53D1;&#x51FA;&#x5B8C;&#x6574;&#x6027;&#x8FDD;&#x89C4;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-117">&#x5728;DELETE&#x4E4B;&#x540E;&#xFF0C;&#x53D7;&#x5230;ON DELETE&#x5F71;&#x54CD;&#x7684;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x5BF9;&#x8C61;&#x53EF;&#x80FD;&#x4E0D;&#x5305;&#x542B;&#x5F53;&#x524D;&#x72B6;&#x6001;&#xFF0C;&#x6216;&#x53EF;&#x80FD;&#x5DF2;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-118">&#x4E00;&#x65E6;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x8FC7;&#x671F;&#xFF08;&#x901A;&#x5E38;&#x53D1;&#x751F;&#x5728;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session.commit" title="sqlalchemy.orm.session.Session.commit"><code class="xref py py-meth docutils literal"><span class="pre">Session.commit()</span></code></a>&#xFF09;&#x6216;&#x8005;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F7F;&#x7528;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session.expire_all" title="sqlalchemy.orm.session.Session.expire_all"><code class="xref py py-meth docutils literal"><span class="pre">Session.expire_all()</span></code></a></span><span class="yiyi-st" id="yiyi-119">&#x8BBF;&#x95EE;&#x884C;&#x5DF2;&#x88AB;&#x5220;&#x9664;&#x7684;&#x8FC7;&#x671F;&#x5BF9;&#x8C61;&#x5C06;&#x8C03;&#x7528;SELECT&#x6765;&#x5B9A;&#x4F4D;&#x884C;&#xFF1B;&#x5F53;&#x627E;&#x4E0D;&#x5230;&#x8BE5;&#x884C;&#x65F6;&#xFF0C;&#x4F1A;&#x5F15;&#x53D1;<a class="reference internal" href="exceptions.html#sqlalchemy.orm.exc.ObjectDeletedError" title="sqlalchemy.orm.exc.ObjectDeletedError"><code class="xref py py-class docutils literal"><span class="pre">ObjectDeletedError</span></code></a>&#x3002;</span></p></li><li><p class="first"><span class="yiyi-st" id="yiyi-120"><code class="docutils literal"><span class="pre">&apos;fetch&apos;</span></code>&#x7B56;&#x7565;&#x4F1A;&#x5BFC;&#x81F4;&#x53D1;&#x51FA;&#x989D;&#x5916;&#x7684;SELECT&#x8BED;&#x53E5;&#xFF0C;&#x5E76;&#x4E14;&#x4F1A;&#x663E;&#x7740;&#x964D;&#x4F4E;&#x6027;&#x80FD;&#x3002;</span></p></li><li><p class="first"><span class="yiyi-st" id="yiyi-121">The <code class="docutils literal"><span class="pre">&apos;evaluate&apos;</span></code> strategy performs a scan of all matching objects within the <a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>; if the contents of the <a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> are expired, such as via a proceeding <a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session.commit" title="sqlalchemy.orm.session.Session.commit"><code class="xref py py-meth docutils literal"><span class="pre">Session.commit()</span></code></a> call, <strong>this will result in SELECT queries emitted for every matching object</strong>.</span></p></li><li><p class="first"><span class="yiyi-st" id="yiyi-122"><a class="reference internal" href="events.html#sqlalchemy.orm.events.MapperEvents.before_delete" title="sqlalchemy.orm.events.MapperEvents.before_delete"><code class="xref py py-meth docutils literal"><span class="pre">MapperEvents.before_delete()</span></code></a>&#x548C;<a class="reference internal" href="events.html#sqlalchemy.orm.events.MapperEvents.after_delete" title="sqlalchemy.orm.events.MapperEvents.after_delete"><code class="xref py py-meth docutils literal"><span class="pre">MapperEvents.after_delete()</span></code></a>&#x4E8B;&#x4EF6;<strong>&#x4E0D;&#x4F1A;&#x4ECE;&#x6B64;&#x65B9;&#x6CD5;&#x8C03;&#x7528;</strong>&#x3002;</span><span class="yiyi-st" id="yiyi-123">&#x76F8;&#x53CD;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;<a class="reference internal" href="events.html#sqlalchemy.orm.events.SessionEvents.after_bulk_delete" title="sqlalchemy.orm.events.SessionEvents.after_bulk_delete"><code class="xref py py-meth docutils literal"><span class="pre">SessionEvents.after_bulk_delete()</span></code></a>&#x65B9;&#x6CD5;&#x6765;&#x5904;&#x7406;&#x5B9E;&#x4F53;&#x884C;&#x7684;&#x5927;&#x91CF;DELETE&#x64CD;&#x4F5C;&#x3002;</span></p></li></ul></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-124">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-125"><a class="reference internal" href="#sqlalchemy.orm.query.Query.update" title="sqlalchemy.orm.query.Query.update"><code class="xref py py-meth docutils literal"><span class="pre">Query.update()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-126"><a class="reference internal" href="core_tutorial.html#inserts-and-updates"><span>Inserts, Updates and Deletes</span></a>  - &#x6838;&#x5FC3;SQL&#x6559;&#x7A0B;</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.distinct"><span class="yiyi-st" id="yiyi-127"><code class="descname">&#x4E0D;&#x540C; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> *&#x6807;&#x51C6; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.distinct" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-128">&#x5C06;<code class="docutils literal"><span class="pre">DISTINCT</span></code>&#x5E94;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x5E76;&#x8FD4;&#x56DE;&#x65B0;&#x751F;&#x6210;&#x7684;<code class="docutils literal"><span class="pre">Query</span></code>&#x3002;</span></p><div class="admonition note"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-129">&#x6CE8;&#x610F;</span></p><p class="last"><span class="yiyi-st" id="yiyi-130"><a class="reference internal" href="internals.html#sqlalchemy.orm.interfaces.PropComparator.distinct" title="sqlalchemy.orm.interfaces.PropComparator.distinct"><code class="xref py py-meth docutils literal"><span class="pre">distinct()</span></code></a>&#x8C03;&#x7528;&#x5305;&#x542B;&#x7684;&#x903B;&#x8F91;&#x5C06;&#x81EA;&#x52A8;&#x5C06;&#x67E5;&#x8BE2;&#x7684;ORDER BY&#x4E2D;&#x7684;&#x5217;&#x6DFB;&#x52A0;&#x5230;SELECT&#x8BED;&#x53E5;&#x7684;columns&#x5B50;&#x53E5;&#x4E2D;&#xFF0C;&#x4EE5;&#x6EE1;&#x8DB3;ORDER BY&#x5217;&#x6210;&#x4E3A;&#x90E8;&#x5206;&#x7684;&#x6570;&#x636E;&#x5E93;&#x540E;&#x7AEF;&#x7684;&#x901A;&#x7528;&#x9700;&#x6C42;&#x5F53;&#x4F7F;&#x7528;DISTINCT&#x65F6;&#xFF0C;SELECT&#x5217;&#x8868;&#x7684;&#x5217;&#x8868;&#x3002;</span><span class="yiyi-st" id="yiyi-131">&#x7136;&#x800C;&#xFF0C;&#x8FD9;&#x4E9B;&#x5217;<em>&#x4E0D;&#x4F1A;&#x88AB;</em>&#x6DFB;&#x52A0;&#x5230;&#x7531;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5B9E;&#x9645;&#x83B7;&#x53D6;&#x7684;&#x5217;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x7ED3;&#x679C;&#x3002;</span><span class="yiyi-st" id="yiyi-132">&#x4F46;&#x662F;&#xFF0C;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.statement" title="sqlalchemy.orm.query.Query.statement"><code class="xref py py-attr docutils literal"><span class="pre">Query.statement</span></code></a>&#x8BBF;&#x95EE;&#x5668;&#x65F6;&#xFF0C;&#x5217;&#x4F1A;&#x901A;&#x8FC7;&#x3002;</span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-133">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><span class="yiyi-st" id="yiyi-134"><span class="target" id="sqlalchemy.orm.query.Query.distinct.params.*expr"></span> <strong>* expr</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.distinct.params.*expr">&#xB6;</a>  - &#x53EF;&#x9009;&#x7684;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-135">&#x5F53;&#x5B58;&#x5728;&#x65F6;&#xFF0C;Postgresql&#x65B9;&#x8A00;&#x5C06;&#x5448;&#x73B0;<code class="docutils literal"><span class="pre">DISTINCT</span> <span class="pre">ON</span> <span class="pre">&#xFF08;&#xFF06;lt&#xFF1B;&#x8868;&#x8FBE;&#x5F0F;&#xFF06;gt&#xFF1B;&#xFF09;</span></code>&#x7ED3;&#x6784;&#x3002;</span></td></tr></tbody></table></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.enable_assertions"><span class="yiyi-st" id="yiyi-136"><code class="descname"> enable_assertions  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x503C; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.enable_assertions" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-137">&#x63A7;&#x5236;&#x662F;&#x5426;&#x751F;&#x6210;&#x65AD;&#x8A00;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-138">&#x5F53;&#x8BBE;&#x7F6E;&#x4E3A;False&#x65F6;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;Query&#x5C06;&#x4E0D;&#x4F1A;&#x5728;&#x67D0;&#x4E9B;&#x64CD;&#x4F5C;&#x4E4B;&#x524D;&#x58F0;&#x660E;&#x5176;&#x72B6;&#x6001;&#xFF0C;&#x5305;&#x62EC;&#x5728;&#x8C03;&#x7528;filter()&#x65F6;&#x672A;&#x5E94;&#x7528;LIMIT / OFFSET&#xFF0C;&#x8C03;&#x7528;get()&#x65F6;&#x4E0D;&#x5B58;&#x5728;&#x6761;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x201C;from_statement()&#x201D;&#x5F53;filter()/ order_by()/ group_by()&#x7B49;&#x5B58;&#x5728;&#x65F6;</span><span class="yiyi-st" id="yiyi-139">&#x53EB;&#x505A;&#x3002;</span><span class="yiyi-st" id="yiyi-140">&#x81EA;&#x5B9A;&#x4E49;&#x67E5;&#x8BE2;&#x5B50;&#x7C7B;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x66F4;&#x5BBD;&#x677E;&#x7684;&#x6A21;&#x5F0F;&#x6765;&#x6307;&#x5B9A;&#x5E38;&#x89C4;&#x4F7F;&#x7528;&#x6A21;&#x5F0F;&#x4E4B;&#x5916;&#x7684;&#x6761;&#x4EF6;&#x6216;&#x5176;&#x4ED6;&#x4FEE;&#x9970;&#x7B26;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-141">&#x5E94;&#x8BE5;&#x6CE8;&#x610F;&#x786E;&#x4FDD;&#x4F7F;&#x7528;&#x6A21;&#x5F0F;&#x662F;&#x53EF;&#x80FD;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-142">&#x4F8B;&#x5982;&#xFF0C;&#x7531;from_statement()&#x5E94;&#x7528;&#x7684;&#x8BED;&#x53E5;&#x5C06;&#x8986;&#x76D6;&#x7531;filter()&#x6216;order_by()&#x8BBE;&#x7F6E;&#x7684;&#x4EFB;&#x4F55;&#x6761;&#x4EF6;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.enable_eagerloads"><span class="yiyi-st" id="yiyi-143"><code class="descname"> enable_eagerloads  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x503C; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.enable_eagerloads" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-144">&#x63A7;&#x5236;&#x662F;&#x5426;&#x5448;&#x73B0;&#x6025;&#x5207;&#x8054;&#x63A5;&#x548C;&#x5B50;&#x67E5;&#x8BE2;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-145">When set to False, the returned Query will not render eager joins regardless of <a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.joinedload" title="sqlalchemy.orm.joinedload"><code class="xref py py-func docutils literal"><span class="pre">joinedload()</span></code></a>, <a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.subqueryload" title="sqlalchemy.orm.subqueryload"><code class="xref py py-func docutils literal"><span class="pre">subqueryload()</span></code></a> options or mapper-level <code class="docutils literal"><span class="pre">lazy=&apos;joined&apos;</span></code>/<code class="docutils literal"><span class="pre">lazy=&apos;subquery&apos;</span></code> configurations.</span></p><p><span class="yiyi-st" id="yiyi-146">&#x8FD9;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x5C06;Query&#x8BED;&#x53E5;&#x5D4C;&#x5957;&#x5230;&#x5B50;&#x67E5;&#x8BE2;&#x6216;&#x5176;&#x4ED6;&#x53EF;&#x9009;&#x9879;&#x4E2D;&#xFF0C;&#x6216;&#x8005;&#x5728;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.yield_per" title="sqlalchemy.orm.query.Query.yield_per"><code class="xref py py-meth docutils literal"><span class="pre">Query.yield_per()</span></code></a>&#x65F6;&#x4F7F;&#x7528;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.except_"><span class="yiyi-st" id="yiyi-147"><code class="descname">&#x9664;&#x4E86;_  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * Q  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.except_" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-148">&#x9488;&#x5BF9;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x67E5;&#x8BE2;&#x751F;&#x6210;&#x6B64;&#x67E5;&#x8BE2;&#x7684;EXCEPT&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-149">&#x4E0E;<a class="reference internal" href="#sqlalchemy.orm.query.Query.union" title="sqlalchemy.orm.query.Query.union"><code class="xref py py-meth docutils literal"><span class="pre">union()</span></code></a>&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x76F8;&#x540C;&#x3002;</span><span class="yiyi-st" id="yiyi-150">&#x67E5;&#x770B;&#x4F7F;&#x7528;&#x793A;&#x4F8B;&#x7684;&#x65B9;&#x6CD5;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.except_all"><span class="yiyi-st" id="yiyi-151"><code class="descname"> except_all  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * Q  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.except_all" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-152">&#x9488;&#x5BF9;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x67E5;&#x8BE2;&#x751F;&#x6210;&#x4E00;&#x4E2A;EXCEPT ALL&#x67E5;&#x8BE2;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-153">&#x4E0E;<a class="reference internal" href="#sqlalchemy.orm.query.Query.union" title="sqlalchemy.orm.query.Query.union"><code class="xref py py-meth docutils literal"><span class="pre">union()</span></code></a>&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x76F8;&#x540C;&#x3002;</span><span class="yiyi-st" id="yiyi-154">&#x67E5;&#x770B;&#x4F7F;&#x7528;&#x793A;&#x4F8B;&#x7684;&#x65B9;&#x6CD5;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.execution_options"><span class="yiyi-st" id="yiyi-155"><code class="descname"> execution_options  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> ** kwargs  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.execution_options" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-156">&#x8BBE;&#x7F6E;&#x5728;&#x6267;&#x884C;&#x671F;&#x95F4;&#x751F;&#x6548;&#x7684;&#x975E;SQL&#x9009;&#x9879;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-157">&#x8FD9;&#x4E9B;&#x9009;&#x9879;&#x4E0E;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execution_options()</span></code></a>&#x63A5;&#x53D7;&#x7684;&#x9009;&#x9879;&#x76F8;&#x540C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-158">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.yield_per" title="sqlalchemy.orm.query.Query.yield_per"><code class="xref py py-meth docutils literal"><span class="pre">yield_per()</span></code></a>&#x65B9;&#x6CD5;&#xFF0C;&#x5219;&#x4F1A;&#x81EA;&#x52A8;&#x542F;&#x7528;<code class="docutils literal"><span class="pre">stream_results</span></code>&#x6267;&#x884C;&#x9009;&#x9879;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.exists"><span class="yiyi-st" id="yiyi-159"><code class="descname">&#x5B58;&#x5728; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.exists" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-160">&#x5C06;&#x67E5;&#x8BE2;&#x8F6C;&#x6362;&#x4E3A;EXISTS&#xFF08;SELECT 1 FROM ... WHERE ...&#xFF09;&#x5F62;&#x5F0F;&#x7684;EXISTS&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x4FBF;&#x6377;&#x65B9;&#x6CD5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-161">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&apos;fred&apos;</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span></pre></div></div><p><span class="yiyi-st" id="yiyi-162">&#x751F;&#x6210;SQL&#x7C7B;&#x4F3C;&#x4E8E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>SELECT EXISTS (
    SELECT 1 FROM users WHERE users.name = :name_1
) AS anon_1</pre></div></div><p><span class="yiyi-st" id="yiyi-163">EXISTS&#x7ED3;&#x6784;&#x901A;&#x5E38;&#x7528;&#x5728;WHERE&#x5B50;&#x53E5;&#x4E2D;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span><span class="o">.</span><span class="n">scalar</span><span class="p">()</span></pre></div></div><p><span class="yiyi-st" id="yiyi-164">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x67D0;&#x4E9B;&#x6570;&#x636E;&#x5E93;&#xFF08;&#x5982;SQL Server&#xFF09;&#x4E0D;&#x5141;&#x8BB8;EXISTS&#x8868;&#x8FBE;&#x5F0F;&#x5B58;&#x5728;&#x4E8E;SELECT&#x7684;columns&#x5B50;&#x53E5;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-165">&#x8981;&#x6839;&#x636E;exists&#x7684;WHERE&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5E03;&#x5C14;&#x503C;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.literal" title="sqlalchemy.sql.expression.literal"><code class="xref py py-func docutils literal"><span class="pre">literal()</span></code></a>&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">literal</span>

<span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">literal</span><span class="p">(</span><span class="bp">True</span><span class="p">))</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span><span class="o">.</span><span class="n">scalar</span><span class="p">()</span></pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-166"><span class="versionmodified">0.8.1&#x7248;&#x672C;&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.filter"><span class="yiyi-st" id="yiyi-167"><code class="descname">&#x8FC7;&#x6EE4; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> *&#x6807;&#x51C6; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.filter" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-168">&#x4F7F;&#x7528;SQL&#x8868;&#x8FBE;&#x5F0F;&#x5C06;&#x7ED9;&#x5B9A;&#x7684;&#x8FC7;&#x6EE4;&#x6807;&#x51C6;&#x5E94;&#x7528;&#x4E8E;&#x6B64;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x7684;&#x526F;&#x672C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-169">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">MyClass</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">MyClass</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&apos;some name&apos;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-170">&#x591A;&#x4E2A;&#x6807;&#x51C6;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E3A;&#x9017;&#x53F7;&#x5206;&#x9694;&#xFF1B;&#x6548;&#x679C;&#x662F;&#x5B83;&#x4EEC;&#x5C06;&#x4F7F;&#x7528;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.and_" title="sqlalchemy.sql.expression.and_"><code class="xref py py-func docutils literal"><span class="pre">and_()</span></code></a>&#x51FD;&#x6570;&#x8FDE;&#x63A5;&#x5728;&#x4E00;&#x8D77;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">MyClass</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">filter</span><span class="p">(</span><span class="n">MyClass</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&apos;some name&apos;</span><span class="p">,</span> <span class="n">MyClass</span><span class="o">.</span><span class="n">id</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-171">&#x6761;&#x4EF6;&#x662F;&#x9002;&#x7528;&#x4E8E;select&#x7684;WHERE&#x5B50;&#x53E5;&#x7684;&#x4EFB;&#x4F55;SQL&#x8868;&#x8FBE;&#x5F0F;&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-172">&#x901A;&#x8FC7;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal"><span class="pre">text()</span></code></a>&#x7ED3;&#x6784;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x8868;&#x8FBE;&#x5F0F;&#x5F3A;&#x5236;&#x8F6C;&#x6362;&#x4E3A;SQL&#x8868;&#x8FBE;&#x5F0F;&#x7ED3;&#x6784;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-173">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-174"><a class="reference internal" href="#sqlalchemy.orm.query.Query.filter_by" title="sqlalchemy.orm.query.Query.filter_by"><code class="xref py py-meth docutils literal"><span class="pre">Query.filter_by()</span></code></a>  - &#x5BF9;&#x5173;&#x952E;&#x5B57;&#x8868;&#x8FBE;&#x5F0F;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x3002;</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.filter_by"><span class="yiyi-st" id="yiyi-175"><code class="descname"> filter_by  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> ** kwargs  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.filter_by" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-176">&#x4F7F;&#x7528;&#x5173;&#x952E;&#x5B57;&#x8868;&#x8FBE;&#x5F0F;&#x5C06;&#x7ED9;&#x5B9A;&#x7684;&#x8FC7;&#x6EE4;&#x6807;&#x51C6;&#x5E94;&#x7528;&#x4E8E;&#x6B64;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x7684;&#x526F;&#x672C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-177">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">MyClass</span><span class="p">)</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&apos;some name&apos;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-178">&#x591A;&#x4E2A;&#x6807;&#x51C6;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E3A;&#x9017;&#x53F7;&#x5206;&#x9694;&#xFF1B;&#x6548;&#x679C;&#x662F;&#x5B83;&#x4EEC;&#x5C06;&#x4F7F;&#x7528;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.and_" title="sqlalchemy.sql.expression.and_"><code class="xref py py-func docutils literal"><span class="pre">and_()</span></code></a>&#x51FD;&#x6570;&#x8FDE;&#x63A5;&#x5728;&#x4E00;&#x8D77;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">MyClass</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">filter_by</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&apos;some name&apos;</span><span class="p">,</span> <span class="nb">id</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-179">&#x5173;&#x952E;&#x5B57;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x4ECE;&#x67E5;&#x8BE2;&#x7684;&#x4E3B;&#x8981;&#x5B9E;&#x4F53;&#x6216;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">Query.join()</span></code></a>&#x7684;&#x76EE;&#x6807;&#x5B9E;&#x4F53;&#x63D0;&#x53D6;&#x7684;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-180">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-181"><a class="reference internal" href="#sqlalchemy.orm.query.Query.filter" title="sqlalchemy.orm.query.Query.filter"><code class="xref py py-meth docutils literal"><span class="pre">Query.filter()</span></code></a>  - &#x8FC7;&#x6EE4;SQL&#x8868;&#x8FBE;&#x5F0F;&#x3002;</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.first"><span class="yiyi-st" id="yiyi-182"><code class="descname">&#x7B2C;&#x4E00; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.first" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-183">&#x5982;&#x679C;&#x7ED3;&#x679C;&#x4E0D;&#x5305;&#x542B;&#x4EFB;&#x4F55;&#x884C;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x6B64;<code class="docutils literal"><span class="pre">Query</span></code>&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x6216;None&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-184">first()&#x5728;&#x751F;&#x6210;&#x7684;SQL&#x4E2D;&#x5E94;&#x7528;&#x4E00;&#x4E2A;&#x9650;&#x5236;&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x4EC5;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x4E3B;&#x8981;&#x5B9E;&#x4F53;&#x884C;&#xFF08;&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#x8FDE;&#x63A5;&#x52A0;&#x8F7D;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x5219;&#x8FD9;&#x53EF;&#x80FD;&#x5305;&#x542B;&#x591A;&#x4E2A;&#x7ED3;&#x679C;&#x884C;&#xFF09;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-185">&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.first" title="sqlalchemy.orm.query.Query.first"><code class="xref py py-meth docutils literal"><span class="pre">Query.first()</span></code></a>&#x4F1A;&#x5BFC;&#x81F4;&#x6267;&#x884C;&#x57FA;&#x7840;&#x67E5;&#x8BE2;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-186">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-187"><a class="reference internal" href="#sqlalchemy.orm.query.Query.one" title="sqlalchemy.orm.query.Query.one"><code class="xref py py-meth docutils literal"><span class="pre">Query.one()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-188"><a class="reference internal" href="#sqlalchemy.orm.query.Query.one_or_none" title="sqlalchemy.orm.query.Query.one_or_none"><code class="xref py py-meth docutils literal"><span class="pre">Query.one_or_none()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.from_self"><span class="yiyi-st" id="yiyi-189"><code class="descname"> from_self  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> *&#x5B9E;&#x4F53; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.from_self" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-190">&#x8FD4;&#x56DE;&#x4ECE;&#x6B64;&#x67E5;&#x8BE2;&#x7684;SELECT&#x8BED;&#x53E5;&#x4E2D;&#x9009;&#x62E9;&#x7684;Query&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-191"><a class="reference internal" href="#sqlalchemy.orm.query.Query.from_self" title="sqlalchemy.orm.query.Query.from_self"><code class="xref py py-meth docutils literal"><span class="pre">Query.from_self()</span></code></a> essentially turns the SELECT statement into a SELECT of itself. </span><span class="yiyi-st" id="yiyi-192">&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#xFF0C;&#x5982;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s1">&apos;e%&apos;</span><span class="p">))</span></pre></div></div><p><span class="yiyi-st" id="yiyi-193">&#x7ED9;&#x5B9A;<a class="reference internal" href="#sqlalchemy.orm.query.Query.from_self" title="sqlalchemy.orm.query.Query.from_self"><code class="xref py py-meth docutils literal"><span class="pre">Query.from_self()</span></code></a>&#x7248;&#x672C;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s1">&apos;e%&apos;</span><span class="p">))</span><span class="o">.</span><span class="n">from_self</span><span class="p">()</span></pre></div></div><p><span class="yiyi-st" id="yiyi-194">&#x6B64;&#x67E5;&#x8BE2;&#x5448;&#x73B0;&#x4E3A;&#xFF1A;</span></p><div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">anon_1</span><span class="p">.</span><span class="n">user_id</span> <span class="k">AS</span> <span class="n">anon_1_user_id</span><span class="p">,</span>
       <span class="n">anon_1</span><span class="p">.</span><span class="n">user_name</span> <span class="k">AS</span> <span class="n">anon_1_user_name</span>
<span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">id</span> <span class="k">AS</span> <span class="n">user_id</span><span class="p">,</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">name</span> <span class="k">AS</span> <span class="n">user_name</span>
<span class="k">FROM</span> <span class="ss">&quot;user&quot;</span>
<span class="k">WHERE</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">name</span> <span class="k">LIKE</span> <span class="p">:</span><span class="n">name_1</span><span class="p">)</span> <span class="k">AS</span> <span class="n">anon_1</span></pre></div></div><p><span class="yiyi-st" id="yiyi-195">&#x6709;&#x5F88;&#x591A;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.query.Query.from_self" title="sqlalchemy.orm.query.Query.from_self"><code class="xref py py-meth docutils literal"><span class="pre">Query.from_self()</span></code></a>&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-196">&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x5728;&#x4E0A;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x5E0C;&#x671B;&#x5C06;&#x4E00;&#x884C;LIMIT&#x5E94;&#x7528;&#x5230;&#x6211;&#x4EEC;&#x67E5;&#x8BE2;&#x7684;&#x7528;&#x6237;&#x5BF9;&#x8C61;&#x96C6;&#x5408;&#xFF0C;&#x7136;&#x540E;&#x5BF9;&#x8BE5;&#x884C;&#x6709;&#x9650;&#x96C6;&#x5408;&#x5E94;&#x7528;&#x5176;&#x4ED6;&#x8FDE;&#x63A5;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s1">&apos;e%&apos;</span><span class="p">))</span><span class="o">.</span>\
    <span class="n">limit</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">from_self</span><span class="p">()</span><span class="o">.</span>\
    <span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">addresses</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">Address</span><span class="o">.</span><span class="n">email</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s1">&apos;q%&apos;</span><span class="p">))</span></pre></div></div><p><span class="yiyi-st" id="yiyi-197">&#x4E0A;&#x8FF0;&#x67E5;&#x8BE2;&#x8FDE;&#x63A5;&#x5230;<code class="docutils literal"><span class="pre">Address</span></code>&#x5B9E;&#x4F53;&#xFF0C;&#x4F46;&#x4EC5;&#x9488;&#x5BF9;<code class="docutils literal"><span class="pre">User</span></code>&#x67E5;&#x8BE2;&#x7684;&#x524D;&#x4E94;&#x4E2A;&#x7ED3;&#x679C;&#xFF1A;</span></p><div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">anon_1</span><span class="p">.</span><span class="n">user_id</span> <span class="k">AS</span> <span class="n">anon_1_user_id</span><span class="p">,</span>
       <span class="n">anon_1</span><span class="p">.</span><span class="n">user_name</span> <span class="k">AS</span> <span class="n">anon_1_user_name</span>
<span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">id</span> <span class="k">AS</span> <span class="n">user_id</span><span class="p">,</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">name</span> <span class="k">AS</span> <span class="n">user_name</span>
<span class="k">FROM</span> <span class="ss">&quot;user&quot;</span>
<span class="k">WHERE</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">name</span> <span class="k">LIKE</span> <span class="p">:</span><span class="n">name_1</span>
 <span class="k">LIMIT</span> <span class="p">:</span><span class="n">param_1</span><span class="p">)</span> <span class="k">AS</span> <span class="n">anon_1</span>
<span class="k">JOIN</span> <span class="n">address</span> <span class="k">ON</span> <span class="n">anon_1</span><span class="p">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">address</span><span class="p">.</span><span class="n">user_id</span>
<span class="k">WHERE</span> <span class="n">address</span><span class="p">.</span><span class="n">email</span> <span class="k">LIKE</span> <span class="p">:</span><span class="n">email_1</span></pre></div></div><p><span class="yiyi-st" id="yiyi-198"><strong>&#x81EA;&#x52A8;&#x522B;&#x540D;</strong></span></p><p><span class="yiyi-st" id="yiyi-199"><a class="reference internal" href="#sqlalchemy.orm.query.Query.from_self" title="sqlalchemy.orm.query.Query.from_self"><code class="xref py py-meth docutils literal"><span class="pre">Query.from_self()</span></code></a>&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x5173;&#x952E;&#x884C;&#x4E3A;&#x662F;&#xFF0C;&#x5F53;&#x5B50;&#x67E5;&#x8BE2;&#x5185;&#x90E8;&#x7684;&#x5B9E;&#x4F53;&#x5728;&#x5916;&#x90E8;&#x5F15;&#x7528;&#x65F6;&#xFF0C;&#x5B83;&#x5C06;<strong>&#x81EA;&#x52A8;&#x522B;&#x540D;</strong>&#x5E94;&#x7528;&#x5230;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x7684;&#x5B9E;&#x4F53;&#x3002;</span><span class="yiyi-st" id="yiyi-200">&#x5728;&#x4E0A;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x7EE7;&#x7EED;&#x5F15;&#x7528;<code class="docutils literal"><span class="pre">User</span></code>&#x5B9E;&#x4F53;&#x800C;&#x6CA1;&#x6709;&#x5E94;&#x7528;&#x4EFB;&#x4F55;&#x989D;&#x5916;&#x7684;&#x522B;&#x540D;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E9B;&#x5F15;&#x7528;&#x5C06;&#x4EE5;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x5F62;&#x5F0F;&#x8868;&#x793A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s1">&apos;e%&apos;</span><span class="p">))</span><span class="o">.</span>\
    <span class="n">limit</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">from_self</span><span class="p">()</span><span class="o">.</span>\
    <span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">addresses</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">Address</span><span class="o">.</span><span class="n">email</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s1">&apos;q%&apos;</span><span class="p">))</span><span class="o">.</span>\
    <span class="n">order_by</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-201">&#x9488;&#x5BF9;<code class="docutils literal"><span class="pre">User.name</span></code>&#x7684;ORDER BY&#x88AB;&#x522B;&#x540D;&#x4E3A;&#x5185;&#x90E8;&#x5B50;&#x67E5;&#x8BE2;&#xFF1A;</span></p><div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">anon_1</span><span class="p">.</span><span class="n">user_id</span> <span class="k">AS</span> <span class="n">anon_1_user_id</span><span class="p">,</span>
       <span class="n">anon_1</span><span class="p">.</span><span class="n">user_name</span> <span class="k">AS</span> <span class="n">anon_1_user_name</span>
<span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">id</span> <span class="k">AS</span> <span class="n">user_id</span><span class="p">,</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">name</span> <span class="k">AS</span> <span class="n">user_name</span>
<span class="k">FROM</span> <span class="ss">&quot;user&quot;</span>
<span class="k">WHERE</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">name</span> <span class="k">LIKE</span> <span class="p">:</span><span class="n">name_1</span>
 <span class="k">LIMIT</span> <span class="p">:</span><span class="n">param_1</span><span class="p">)</span> <span class="k">AS</span> <span class="n">anon_1</span>
<span class="k">JOIN</span> <span class="n">address</span> <span class="k">ON</span> <span class="n">anon_1</span><span class="p">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">address</span><span class="p">.</span><span class="n">user_id</span>
<span class="k">WHERE</span> <span class="n">address</span><span class="p">.</span><span class="n">email</span> <span class="k">LIKE</span> <span class="p">:</span><span class="n">email_1</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">anon_1</span><span class="p">.</span><span class="n">user_name</span></pre></div></div><p><span class="yiyi-st" id="yiyi-202">&#x5BF9;&#x4E8E;&#x7B80;&#x5355;&#x7684;&#x8FC7;&#x6EE4;&#x5668;&#x548C;&#x6392;&#x5E8F;&#xFF0C;&#x81EA;&#x52A8;&#x522B;&#x540D;&#x529F;&#x80FD;&#x53EA;&#x80FD;&#x4EE5;<strong>&#x9650;&#x5236;</strong>&#x65B9;&#x5F0F;&#x5DE5;&#x4F5C;&#x3002;</span><span class="yiyi-st" id="yiyi-203">&#x6BD4;&#x8F83;&#x5F15;&#x4EBA;&#x6CE8;&#x76EE;&#x7684;&#x6784;&#x9020;&#xFF0C;&#x4F8B;&#x5982;&#x5F15;&#x7528;&#x8FDE;&#x63A5;&#x4E2D;&#x7684;&#x5B9E;&#x4F53;&#xFF0C;&#x5E94;&#x8BE5;&#x66F4;&#x559C;&#x6B22;&#x4F7F;&#x7528;&#x660E;&#x786E;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x5BF9;&#x8C61;&#xFF0C;&#x901A;&#x5E38;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.subquery" title="sqlalchemy.orm.query.Query.subquery"><code class="xref py py-meth docutils literal"><span class="pre">Query.subquery()</span></code></a>&#x65B9;&#x6CD5;&#x751F;&#x6210;&#x663E;&#x5F0F;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-204">&#x603B;&#x662F;&#x901A;&#x8FC7;&#x67E5;&#x770B;SQL&#x6765;&#x6D4B;&#x8BD5;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x4EE5;&#x786E;&#x4FDD;&#x7279;&#x5B9A;&#x7684;&#x7ED3;&#x6784;&#x7B26;&#x5408;&#x9884;&#x671F;&#xFF01;</span></p><p><span class="yiyi-st" id="yiyi-205"><strong>&#x66F4;&#x6539;&#x5B9E;&#x4F53;</strong></span></p><p><span class="yiyi-st" id="yiyi-206"><a class="reference internal" href="#sqlalchemy.orm.query.Query.from_self" title="sqlalchemy.orm.query.Query.from_self"><code class="xref py py-meth docutils literal"><span class="pre">Query.from_self()</span></code></a> also includes the ability to modify what columns are being queried. </span><span class="yiyi-st" id="yiyi-207">&#x5728;&#x6211;&#x4EEC;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x60F3;&#x901A;&#x8FC7;&#x5185;&#x90E8;&#x67E5;&#x8BE2;&#x6765;&#x67E5;&#x8BE2;<code class="docutils literal"><span class="pre">User.id</span></code>&#xFF0C;&#x4EE5;&#x4FBF;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FDE;&#x63A5;&#x5230;&#x5916;&#x90E8;&#x7684;<code class="docutils literal"><span class="pre">Address</span></code>&#x5B9E;&#x4F53;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;<code class="docutils literal"><span class="pre">Address.email</span></code>&#x5217;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s1">&apos;e%&apos;</span><span class="p">))</span><span class="o">.</span>\
    <span class="n">limit</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">from_self</span><span class="p">(</span><span class="n">Address</span><span class="o">.</span><span class="n">email</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">addresses</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">Address</span><span class="o">.</span><span class="n">email</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s1">&apos;q%&apos;</span><span class="p">))</span></pre></div></div><p><span class="yiyi-st" id="yiyi-208">&#x6536;&#x76CA;&#xFF1A;</span></p><div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">address</span><span class="p">.</span><span class="n">email</span> <span class="k">AS</span> <span class="n">address_email</span>
<span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">id</span> <span class="k">AS</span> <span class="n">user_id</span><span class="p">,</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">name</span> <span class="k">AS</span> <span class="n">user_name</span>
<span class="k">FROM</span> <span class="ss">&quot;user&quot;</span>
<span class="k">WHERE</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">name</span> <span class="k">LIKE</span> <span class="p">:</span><span class="n">name_1</span>
 <span class="k">LIMIT</span> <span class="p">:</span><span class="n">param_1</span><span class="p">)</span> <span class="k">AS</span> <span class="n">anon_1</span>
<span class="k">JOIN</span> <span class="n">address</span> <span class="k">ON</span> <span class="n">anon_1</span><span class="p">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">address</span><span class="p">.</span><span class="n">user_id</span>
<span class="k">WHERE</span> <span class="n">address</span><span class="p">.</span><span class="n">email</span> <span class="k">LIKE</span> <span class="p">:</span><span class="n">email_1</span></pre></div></div><p><span class="yiyi-st" id="yiyi-209"><strong>&#x5BFB;&#x627E;&#x5185;&#x90E8;/&#x5916;&#x90E8;&#x5217;</strong></span></p><p><span class="yiyi-st" id="yiyi-210">&#x8BF7;&#x8BB0;&#x4F4F;&#xFF0C;&#x5F53;&#x5F15;&#x7528;&#x6E90;&#x81EA;&#x5B50;&#x67E5;&#x8BE2;&#x5185;&#x90E8;&#x7684;&#x5217;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x786E;&#x4FDD;&#x5B83;&#x4EEC;&#x5B58;&#x5728;&#x4E8E;&#x5B50;&#x67E5;&#x8BE2;&#x672C;&#x8EAB;&#x7684;&#x5217;&#x5B50;&#x53E5;&#x4E2D;&#xFF1B;&#x8FD9;&#x662F;SQL&#x7684;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x65B9;&#x9762;&#x3002;</span><span class="yiyi-st" id="yiyi-211">&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x4F7F;&#x7528;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.contains_eager" title="sqlalchemy.orm.contains_eager"><code class="xref py py-func docutils literal"><span class="pre">contains_eager()</span></code></a>&#x4ECE;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x7684;&#x8FDE;&#x63A5;&#x5B9E;&#x4F53;&#x52A0;&#x8F7D;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x8FD9;&#x4E9B;&#x5217;&#x3002;</span><span class="yiyi-st" id="yiyi-212">&#x4E0B;&#x9762;&#x4E3E;&#x4F8B;&#x8BF4;&#x660E;<code class="docutils literal"><span class="pre">Address</span></code>&#x5230;<code class="docutils literal"><span class="pre">User</span></code>&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x7136;&#x540E;&#x662F;&#x5B50;&#x67E5;&#x8BE2;&#xFF0C;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x5E0C;&#x671B;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.contains_eager" title="sqlalchemy.orm.contains_eager"><code class="xref py py-func docutils literal"><span class="pre">contains_eager()</span></code></a>&#x8BBF;&#x95EE;<code class="docutils literal"><span class="pre">User</span></code>&#x5217;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Address</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">Address</span><span class="o">.</span><span class="n">user</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s1">&apos;e%&apos;</span><span class="p">))</span>

<span class="n">q</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">add_entity</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">from_self</span><span class="p">()</span><span class="o">.</span>\
    <span class="n">options</span><span class="p">(</span><span class="n">contains_eager</span><span class="p">(</span><span class="n">Address</span><span class="o">.</span><span class="n">user</span><span class="p">))</span></pre></div></div><p><span class="yiyi-st" id="yiyi-213">We use <a class="reference internal" href="#sqlalchemy.orm.query.Query.add_entity" title="sqlalchemy.orm.query.Query.add_entity"><code class="xref py py-meth docutils literal"><span class="pre">Query.add_entity()</span></code></a> above <strong>before</strong> we call <a class="reference internal" href="#sqlalchemy.orm.query.Query.from_self" title="sqlalchemy.orm.query.Query.from_self"><code class="xref py py-meth docutils literal"><span class="pre">Query.from_self()</span></code></a> so that the <code class="docutils literal"><span class="pre">User</span></code> columns are present in the inner subquery, so that they are available to the <a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.contains_eager" title="sqlalchemy.orm.contains_eager"><code class="xref py py-func docutils literal"><span class="pre">contains_eager()</span></code></a> modifier we are using on the outside, producing:</span></p><div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">anon_1</span><span class="p">.</span><span class="n">address_id</span> <span class="k">AS</span> <span class="n">anon_1_address_id</span><span class="p">,</span>
       <span class="n">anon_1</span><span class="p">.</span><span class="n">address_email</span> <span class="k">AS</span> <span class="n">anon_1_address_email</span><span class="p">,</span>
       <span class="n">anon_1</span><span class="p">.</span><span class="n">address_user_id</span> <span class="k">AS</span> <span class="n">anon_1_address_user_id</span><span class="p">,</span>
       <span class="n">anon_1</span><span class="p">.</span><span class="n">user_id</span> <span class="k">AS</span> <span class="n">anon_1_user_id</span><span class="p">,</span>
       <span class="n">anon_1</span><span class="p">.</span><span class="n">user_name</span> <span class="k">AS</span> <span class="n">anon_1_user_name</span>
<span class="k">FROM</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="n">address</span><span class="p">.</span><span class="n">id</span> <span class="k">AS</span> <span class="n">address_id</span><span class="p">,</span>
    <span class="n">address</span><span class="p">.</span><span class="n">email</span> <span class="k">AS</span> <span class="n">address_email</span><span class="p">,</span>
    <span class="n">address</span><span class="p">.</span><span class="n">user_id</span> <span class="k">AS</span> <span class="n">address_user_id</span><span class="p">,</span>
    <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">id</span> <span class="k">AS</span> <span class="n">user_id</span><span class="p">,</span>
    <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">name</span> <span class="k">AS</span> <span class="n">user_name</span>
<span class="k">FROM</span> <span class="n">address</span> <span class="k">JOIN</span> <span class="ss">&quot;user&quot;</span> <span class="k">ON</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">address</span><span class="p">.</span><span class="n">user_id</span>
<span class="k">WHERE</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">name</span> <span class="k">LIKE</span> <span class="p">:</span><span class="n">name_1</span><span class="p">)</span> <span class="k">AS</span> <span class="n">anon_1</span></pre></div></div><p><span class="yiyi-st" id="yiyi-214">If we didn&#x2019;t call <code class="docutils literal"><span class="pre">add_entity(User)</span></code>, but still asked <a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.contains_eager" title="sqlalchemy.orm.contains_eager"><code class="xref py py-func docutils literal"><span class="pre">contains_eager()</span></code></a> to load the <code class="docutils literal"><span class="pre">User</span></code> entity, it would be forced to add the table on the outside without the correct join criteria - note the <code class="docutils literal"><span class="pre">anon1,</span> <span class="pre">&quot;user&quot;</span></code> phrase at the end:</span></p><div class="highlight-sql"><div class="highlight"><pre><span></span><span class="c1">-- incorrect query</span>
<span class="k">SELECT</span> <span class="n">anon_1</span><span class="p">.</span><span class="n">address_id</span> <span class="k">AS</span> <span class="n">anon_1_address_id</span><span class="p">,</span>
       <span class="n">anon_1</span><span class="p">.</span><span class="n">address_email</span> <span class="k">AS</span> <span class="n">anon_1_address_email</span><span class="p">,</span>
       <span class="n">anon_1</span><span class="p">.</span><span class="n">address_user_id</span> <span class="k">AS</span> <span class="n">anon_1_address_user_id</span><span class="p">,</span>
       <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">id</span> <span class="k">AS</span> <span class="n">user_id</span><span class="p">,</span>
       <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">name</span> <span class="k">AS</span> <span class="n">user_name</span>
<span class="k">FROM</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="n">address</span><span class="p">.</span><span class="n">id</span> <span class="k">AS</span> <span class="n">address_id</span><span class="p">,</span>
    <span class="n">address</span><span class="p">.</span><span class="n">email</span> <span class="k">AS</span> <span class="n">address_email</span><span class="p">,</span>
    <span class="n">address</span><span class="p">.</span><span class="n">user_id</span> <span class="k">AS</span> <span class="n">address_user_id</span>
<span class="k">FROM</span> <span class="n">address</span> <span class="k">JOIN</span> <span class="ss">&quot;user&quot;</span> <span class="k">ON</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">address</span><span class="p">.</span><span class="n">user_id</span>
<span class="k">WHERE</span> <span class="ss">&quot;user&quot;</span><span class="p">.</span><span class="n">name</span> <span class="k">LIKE</span> <span class="p">:</span><span class="n">name_1</span><span class="p">)</span> <span class="k">AS</span> <span class="n">anon_1</span><span class="p">,</span> <span class="ss">&quot;user&quot;</span></pre></div></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-215">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><span class="yiyi-st" id="yiyi-216"><span class="target" id="sqlalchemy.orm.query.Query.from_self.params.*entities"></span><strong>*entities</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.from_self.params.*entities">&#xB6;</a> &#x2013; optional list of entities which will replace those being selected.</span></td></tr></tbody></table></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.from_statement"><span class="yiyi-st" id="yiyi-217"><code class="descname"> from_statement  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x8BED;&#x53E5; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.from_statement" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-218">&#x6267;&#x884C;&#x7ED9;&#x5B9A;&#x7684;SELECT&#x8BED;&#x53E5;&#x5E76;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-219">&#x6B64;&#x65B9;&#x6CD5;&#x7ED5;&#x8FC7;&#x6240;&#x6709;&#x5185;&#x90E8;&#x8BED;&#x53E5;&#x7F16;&#x8BD1;&#xFF0C;&#x5E76;&#x4E14;&#x8BED;&#x53E5;&#x4E0D;&#x52A0;&#x4FEE;&#x6539;&#x5730;&#x6267;&#x884C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-220">&#x8BE5;&#x8BED;&#x53E5;&#x901A;&#x5E38;&#x662F;&#x4E00;&#x4E2A;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal"><span class="pre">text()</span></code></a>&#x6216;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>&#x7ED3;&#x6784;&#xFF0C;&#x5E76;&#x4E14;&#x5E94;&#x8FD4;&#x56DE;&#x9002;&#x5408;&#x8BE5;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a></span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-221">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-222"><a class="reference internal" href="tutorial.html#orm-tutorial-literal-sql"><span>Using Textual SQL</span></a>  -  ORM&#x6559;&#x7A0B;&#x4E2D;&#x7684;&#x4F7F;&#x7528;&#x793A;&#x4F8B;</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.get"><span class="yiyi-st" id="yiyi-223"><code class="descname">&#x83B7;&#x5F97; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> IDENT  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.get" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-224">&#x57FA;&#x4E8E;&#x7ED9;&#x5B9A;&#x7684;&#x4E3B;&#x952E;&#x6807;&#x8BC6;&#x7B26;&#x8FD4;&#x56DE;&#x5B9E;&#x4F8B;&#xFF0C;&#x5982;&#x679C;&#x672A;&#x627E;&#x5230;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;<code class="docutils literal"><span class="pre">None</span></code>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-225">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">my_user</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="n">some_object</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">VersionedFoo</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span></pre></div></div><p><span class="yiyi-st" id="yiyi-226"><a class="reference internal" href="#sqlalchemy.orm.query.Query.get" title="sqlalchemy.orm.query.Query.get"><code class="xref py py-meth docutils literal"><span class="pre">get()</span></code></a> is special in that it provides direct access to the identity map of the owning <a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>. </span><span class="yiyi-st" id="yiyi-227">&#x5982;&#x679C;&#x7ED9;&#x5B9A;&#x4E3B;&#x952E;&#x6807;&#x8BC6;&#x7B26;&#x5B58;&#x5728;&#x4E8E;&#x672C;&#x5730;&#x6807;&#x8BC6;&#x6620;&#x5C04;&#x4E2D;&#xFF0C;&#x5219;&#x76F4;&#x63A5;&#x4ECE;&#x8BE5;&#x96C6;&#x5408;&#x8FD4;&#x56DE;&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x4F1A;&#x53D1;&#x51FA;SQL&#xFF0C;&#x9664;&#x975E;&#x8BE5;&#x5BF9;&#x8C61;&#x5DF2;&#x6807;&#x8BB0;&#x4E3A;&#x5B8C;&#x5168;&#x8FC7;&#x671F;&#x3002;</span><span class="yiyi-st" id="yiyi-228">&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x6267;&#x884C;SELECT&#x4EE5;&#x67E5;&#x627E;&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-229"><a class="reference internal" href="#sqlalchemy.orm.query.Query.get" title="sqlalchemy.orm.query.Query.get"><code class="xref py py-meth docutils literal"><span class="pre">get()</span></code></a> also will perform a check if the object is present in the identity map and marked as expired - a SELECT is emitted to refresh the object as well as to ensure that the row is still present. </span><span class="yiyi-st" id="yiyi-230">&#x5982;&#x679C;&#x4E0D;&#x662F;&#xFF0C;&#x5219;&#x5F15;&#x53D1;<a class="reference internal" href="exceptions.html#sqlalchemy.orm.exc.ObjectDeletedError" title="sqlalchemy.orm.exc.ObjectDeletedError"><code class="xref py py-class docutils literal"><span class="pre">ObjectDeletedError</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-231"><a class="reference internal" href="#sqlalchemy.orm.query.Query.get" title="sqlalchemy.orm.query.Query.get"><code class="xref py py-meth docutils literal"><span class="pre">get()</span></code></a> is only used to return a single mapped instance, not multiple instances or individual column constructs, and strictly on a single primary key value. </span><span class="yiyi-st" id="yiyi-232">&#x5FC5;&#x987B;&#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x6784;&#x5EFA;&#x59CB;&#x53D1;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#xFF0C;&#x5373;&#x9488;&#x5BF9;&#x5355;&#x4E2A;&#x6620;&#x5C04;&#x7684;&#x5B9E;&#x4F53;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x9644;&#x52A0;&#x7684;&#x8FC7;&#x6EE4;&#x6807;&#x51C6;&#x3002;</span><span class="yiyi-st" id="yiyi-233">&#x901A;&#x8FC7;<a class="reference internal" href="#sqlalchemy.orm.query.Query.options" title="sqlalchemy.orm.query.Query.options"><code class="xref py py-meth docutils literal"><span class="pre">options()</span></code></a>&#x52A0;&#x8F7D;&#x9009;&#x9879;&#x53EF;&#x80FD;&#x4F1A;&#x88AB;&#x5E94;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x5BF9;&#x8C61;&#x5C1A;&#x672A;&#x672C;&#x5730;&#x5B58;&#x5728;&#xFF0C;&#x5C06;&#x4F1A;&#x88AB;&#x4F7F;&#x7528;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-234">&#x4F7F;&#x7528;&#x7B80;&#x5355;&#x7684;&#x5916;&#x952E;&#x5230;&#x4E3B;&#x952E;&#x6807;&#x51C6;&#xFF0C;&#x7531;<a class="reference internal" href="relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal"><span class="pre">relationship()</span></code></a>&#x914D;&#x7F6E;&#x7684;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x591A;&#x5BF9;&#x4E00;&#x5C5E;&#x6027;&#x4E5F;&#x5C06;&#x4F7F;&#x7528;&#x4E0E;<a class="reference internal" href="#sqlalchemy.orm.query.Query.get" title="sqlalchemy.orm.query.Query.get"><code class="xref py py-meth docutils literal"><span class="pre">get()</span></code></a>&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x4E4B;&#x524D;&#x4ECE;&#x672C;&#x5730;&#x6807;&#x8BC6;&#x6620;&#x5C04;&#x4E2D;&#x68C0;&#x7D22;&#x76EE;&#x6807;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-235">&#x6709;&#x5173;&#x5173;&#x7CFB;&#x52A0;&#x8F7D;&#x7684;&#x66F4;&#x591A;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;<a class="reference internal" href="loading_relationships.html"><em>Relationship Loading Techniques</em></a>&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-236">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><span class="yiyi-st" id="yiyi-237"><span class="target" id="sqlalchemy.orm.query.Query.get.params.ident"></span><strong>ident</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.get.params.ident">&#xB6;</a> &#x2013; A scalar or tuple value representing the primary key. </span><span class="yiyi-st" id="yiyi-238">&#x5BF9;&#x4E8E;&#x7EC4;&#x5408;&#x4E3B;&#x952E;&#xFF0C;&#x6807;&#x8BC6;&#x7B26;&#x7684;&#x987A;&#x5E8F;&#x5728;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x4E0E;&#x6620;&#x5C04;&#x7684;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x4E3B;&#x952E;&#x5217;&#x76F8;&#x5BF9;&#x5E94;&#x3002;</span><span class="yiyi-st" id="yiyi-239">For a <a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper" title="sqlalchemy.orm.mapper"><code class="xref py py-func docutils literal"><span class="pre">mapper()</span></code></a> that was given the <code class="docutils literal"><span class="pre">primary</span> <span class="pre">key</span></code> argument during construction, the order of identifiers corresponds to the elements present in this collection.</span></td></tr><tr class="field-even field"><th class="field-name"><span class="yiyi-st" id="yiyi-240">&#x8FD4;&#x56DE;&#xFF1A;</span></th><td class="field-body"><span class="yiyi-st" id="yiyi-241">&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#xFF0C;&#x6216;<code class="docutils literal"><span class="pre">None</span></code>&#x3002;</span></td></tr></tbody></table></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.group_by"><span class="yiyi-st" id="yiyi-242"><code class="descname"> GROUP_BY  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> *&#x6807;&#x51C6; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.group_by" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-243">&#x5C06;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;GROUP BY&#x6807;&#x51C6;&#x5E94;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x5E76;&#x8FD4;&#x56DE;&#x65B0;&#x751F;&#x6210;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a></span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.having"><span class="yiyi-st" id="yiyi-244"><code class="descname">&#x5177;&#x6709; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x6807;&#x51C6; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.having" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-245">&#x5C06;HAVING&#x6761;&#x4EF6;&#x5E94;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x5E76;&#x8FD4;&#x56DE;&#x65B0;&#x751F;&#x6210;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-246"><a class="reference internal" href="#sqlalchemy.orm.query.Query.having" title="sqlalchemy.orm.query.Query.having"><code class="xref py py-meth docutils literal"><span class="pre">having()</span></code></a> is used in conjunction with <a class="reference internal" href="#sqlalchemy.orm.query.Query.group_by" title="sqlalchemy.orm.query.Query.group_by"><code class="xref py py-meth docutils literal"><span class="pre">group_by()</span></code></a>.</span></p><p><span class="yiyi-st" id="yiyi-247">HAVING&#x6807;&#x51C6;&#x53EF;&#x4EE5;&#x5728;COUNT&#xFF0C;SUM&#xFF0C;AVG&#xFF0C;MAX&#x548C;MIN&#x7B49;&#x96C6;&#x5408;&#x51FD;&#x6570;&#x4E0A;&#x4F7F;&#x7528;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x4F8B;&#x5982;&#x3002;</span><span class="yiyi-st" id="yiyi-248">:</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span>\
            <span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">addresses</span><span class="p">)</span><span class="o">.</span>\
            <span class="n">group_by</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span>\
            <span class="n">having</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">Address</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span></pre></div></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.instances"><span class="yiyi-st" id="yiyi-249"><code class="descname">&#x5B9E;&#x4F8B;</code> <span class="sig-paren">&#xFF08;</span> <em>&#x6E38;&#x6807;</em>&#xFF0C;<em>_Query__context =&#x65E0;</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.query.Query.instances" title="Permalink to this definition"> t5 &gt;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-250">&#x7ED9;&#x5B9A;&#x7531;connection.execute()&#x8FD4;&#x56DE;&#x7684;ResultProxy&#x6E38;&#x6807;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;ORM&#x7ED3;&#x679C;&#x4F5C;&#x4E3A;&#x8FED;&#x4EE3;&#x5668;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-251">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select * from users&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">instances</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">u</span></pre></div></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.intersect"><span class="yiyi-st" id="yiyi-252"><code class="descname">&#x76F8;&#x4EA4; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * Q  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.intersect" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-253">&#x6839;&#x636E;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x67E5;&#x8BE2;&#x751F;&#x6210;&#x6B64;&#x67E5;&#x8BE2;&#x7684;INTERSECT&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-254">&#x4E0E;<a class="reference internal" href="#sqlalchemy.orm.query.Query.union" title="sqlalchemy.orm.query.Query.union"><code class="xref py py-meth docutils literal"><span class="pre">union()</span></code></a>&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x76F8;&#x540C;&#x3002;</span><span class="yiyi-st" id="yiyi-255">&#x67E5;&#x770B;&#x4F7F;&#x7528;&#x793A;&#x4F8B;&#x7684;&#x65B9;&#x6CD5;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.intersect_all"><span class="yiyi-st" id="yiyi-256"><code class="descname"> intersect_all  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * Q  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.intersect_all" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-257">&#x9488;&#x5BF9;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x67E5;&#x8BE2;&#x751F;&#x6210;&#x6B64;&#x67E5;&#x8BE2;&#x7684;INTERSECT ALL&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-258">&#x4E0E;<a class="reference internal" href="#sqlalchemy.orm.query.Query.union" title="sqlalchemy.orm.query.Query.union"><code class="xref py py-meth docutils literal"><span class="pre">union()</span></code></a>&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x76F8;&#x540C;&#x3002;</span><span class="yiyi-st" id="yiyi-259">&#x67E5;&#x770B;&#x4F7F;&#x7528;&#x793A;&#x4F8B;&#x7684;&#x65B9;&#x6CD5;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.join"><span class="yiyi-st" id="yiyi-260"><code class="descname">join  tt&gt; <span class="sig-paren">&#xFF08;</span> <em>* props</em>&#xFF0C;<em>** kwargs</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.query.Query.join" title="Permalink to this definition">T5&gt;</a></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-261">&#x6839;&#x636E;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x6807;&#x51C6;&#x521B;&#x5EFA;SQL JOIN&#x5E76;&#x751F;&#x6210;&#x5E94;&#x7528;&#xFF0C;&#x8FD4;&#x56DE;&#x6700;&#x65B0;&#x751F;&#x6210;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-262"><strong>&#x7B80;&#x5355;&#x7684;&#x5173;&#x7CFB;&#x52A0;&#x5165;</strong></span></p><p><span class="yiyi-st" id="yiyi-263">&#x8003;&#x8651;&#x4E24;&#x4E2A;&#x7C7B;<code class="docutils literal"><span class="pre">User</span></code>&#x548C;<code class="docutils literal"><span class="pre">Address</span></code>&#x4E4B;&#x95F4;&#x7684;&#x6620;&#x5C04;&#xFF0C;&#x5176;&#x4E2D;<code class="docutils literal"><span class="pre">User.addresses</span></code>&#x8868;&#x793A;<code class="docutils literal"><span class="pre">Address</span></code>&#x5BF9;&#x8C61;&#x7684;&#x96C6;&#x5408;&#x4E0E;&#x6BCF;&#x4E2A;<code class="docutils literal"><span class="pre">User</span></code>&#x5173;&#x8054;&#x3002;</span><span class="yiyi-st" id="yiyi-264"><a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x7684;&#x6700;&#x5E38;&#x89C1;&#x7528;&#x6CD5;&#x662F;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">User.addresses</span></code>&#x5C5E;&#x6027;&#x4F5C;&#x4E3A;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x53D1;&#x751F;&#x7684;&#x6307;&#x793A;&#x7B26;&#xFF0C;&#x4EE5;&#x6B64;&#x5173;&#x7CFB;&#x521B;&#x5EFA;JOIN&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">addresses</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-265">&#x5728;&#x4E0A;&#x9762;&#xFF0C;&#x6CBF;&#x7740;<code class="docutils literal"><span class="pre">User.addresses</span></code>&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x5C06;&#x5BFC;&#x81F4;SQL&#x7B49;&#x540C;&#x4E8E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>SELECT user.* FROM user JOIN address ON user.id = address.user_id</pre></div></div><p><span class="yiyi-st" id="yiyi-266">&#x5728;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;<code class="docutils literal"><span class="pre">User.addresses</span></code>&#x4F5C;&#x4E3A;<em>on&#x5B50;&#x53E5;</em>&#x4F20;&#x9012;&#x7ED9;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C; ON&#x201C;&#x90E8;&#x5206;&#x7684;JOIN&#x5E94;&#x8BE5;&#x88AB;&#x6784;&#x5EFA;&#x3002;</span><span class="yiyi-st" id="yiyi-267">&#x5BF9;&#x4E8E;&#x50CF;&#x4E0A;&#x9762;&#x90A3;&#x6837;&#x7684;&#x5355;&#x4E00;&#x5B9E;&#x4F53;&#x67E5;&#x8BE2;&#xFF08;&#x5373;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x4ECE;<code class="docutils literal"><span class="pre">User</span></code>&#x5F00;&#x59CB;&#xFF0C;&#x800C;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x9009;&#x62E9;&#xFF09;&#xFF0C;&#x5173;&#x7CFB;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x540D;&#x79F0;&#x6765;&#x6307;&#x5B9A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;addresses&quot;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-268"><a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x4E5F;&#x53EF;&#x4EE5;&#x5BB9;&#x7EB3;&#x591A;&#x4E2A;&#x201C;on&#x5B50;&#x53E5;&#x201D;&#x53C2;&#x6570;&#x6765;&#x4EA7;&#x751F;&#x8FDE;&#x63A5;&#x94FE;&#xFF0C;&#x4F8B;&#x5982;&#x5728;&#x4E0B;&#x9762;&#x6784;&#x5EFA;&#x8DE8;&#x56DB;&#x4E2A;&#x76F8;&#x5173;&#x5B9E;&#x4F53;&#x7684;&#x8FDE;&#x63A5;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;orders&quot;</span><span class="p">,</span> <span class="s2">&quot;items&quot;</span><span class="p">,</span> <span class="s2">&quot;keywords&quot;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-269">&#x4E0A;&#x8FF0;&#x5185;&#x5BB9;&#x53EF;&#x4EE5;&#x7B80;&#x77ED;&#x5730;&#x63CF;&#x8FF0;&#x4E09;&#x6B21;&#x5BF9;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x7684;&#x5355;&#x72EC;&#x8C03;&#x7528;&#xFF0C;&#x6BCF;&#x4E2A;&#x8C03;&#x7528;&#x90FD;&#x4F7F;&#x7528;&#x663E;&#x5F0F;&#x5C5E;&#x6027;&#x6765;&#x6307;&#x793A;&#x6E90;&#x5B9E;&#x4F53;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">orders</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">join</span><span class="p">(</span><span class="n">Order</span><span class="o">.</span><span class="n">items</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">join</span><span class="p">(</span><span class="n">Item</span><span class="o">.</span><span class="n">keywords</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-270"><strong>&#x52A0;&#x5165;&#x76EE;&#x6807;&#x5B9E;&#x4F53;&#x6216;&#x53EF;&#x9009;</strong></span></p><p><span class="yiyi-st" id="yiyi-271">&#x7B2C;&#x4E8C;&#x79CD;&#x5F62;&#x5F0F;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x5141;&#x8BB8;&#x4EFB;&#x4F55;&#x6620;&#x5C04;&#x5B9E;&#x4F53;&#x6216;&#x6838;&#x5FC3;&#x53EF;&#x9009;&#x7ED3;&#x6784;&#x4F5C;&#x4E3A;&#x76EE;&#x6807;&#x3002;</span><span class="yiyi-st" id="yiyi-272">&#x5728;&#x8FD9;&#x79CD;&#x7528;&#x6CD5;&#x4E2D;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x5C06;&#x5C1D;&#x8BD5;&#x6CBF;&#x4E24;&#x4E2A;&#x5B9E;&#x4F53;&#x4E4B;&#x95F4;&#x7684;&#x81EA;&#x7136;&#x5916;&#x952E;&#x5173;&#x7CFB;&#x521B;&#x5EFA;JOIN&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">Address</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-273">&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x5B9E;&#x4F53;&#x4E4B;&#x95F4;&#x6CA1;&#x6709;&#x5916;&#x952E;&#xFF0C;&#x6216;&#x8005;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x6709;&#x591A;&#x4E2A;&#x5916;&#x952E;&#x94FE;&#x63A5;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x7684;&#x4E0A;&#x8FF0;&#x8C03;&#x7528;&#x5F62;&#x5F0F;&#x5C06;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-274">&#x5728;&#x4E0A;&#x9762;&#x7684;&#x8C03;&#x7528;&#x5F62;&#x5F0F;&#x4E2D;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x88AB;&#x8C03;&#x7528;&#x6765;&#x4E3A;&#x6211;&#x4EEC;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x201C;on&#x5B50;&#x53E5;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-275">&#x76EE;&#x6807;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x4F55;&#x6620;&#x5C04;&#x5B9E;&#x4F53;&#x6216;&#x53EF;&#x9009;&#xFF0C;&#x5982;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">addresses_table</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-276"><strong>&#x4F7F;&#x7528;ON&#x5B50;&#x53E5;</strong>&#x52A0;&#x5165;&#x76EE;&#x6807;</span></p><p><span class="yiyi-st" id="yiyi-277">&#x7B2C;&#x4E09;&#x4E2A;&#x8C03;&#x7528;&#x5F62;&#x5F0F;&#x5141;&#x8BB8;&#x660E;&#x786E;&#x4F20;&#x9012;&#x76EE;&#x6807;&#x5B9E;&#x4F53;&#x4EE5;&#x53CA;ON&#x5B50;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-278">&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x52A0;&#x5165;<code class="docutils literal"><span class="pre">Address</span></code>&#x4E24;&#x6B21;&#xFF0C;&#x7B2C;&#x4E8C;&#x6B21;&#x4F7F;&#x7528;&#x522B;&#x540D;&#x3002;</span><span class="yiyi-st" id="yiyi-279">&#x6211;&#x4EEC;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal"><span class="pre">aliased()</span></code></a>&#x521B;&#x5EFA;<code class="docutils literal"><span class="pre">Address</span></code>&#x7684;&#x4E0D;&#x540C;&#x522B;&#x540D;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">&#x76EE;&#x6807;&#xFF0C;</span> <span class="pre">/ t7&gt;</span></code>&#x8868;&#x5355;&#xFF0C;&#x4EE5;&#x4FBF;&#x53EF;&#x4EE5;&#x5C06;&#x8BE5;&#x522B;&#x540D;&#x4E0E;&#x5173;&#x7CFB;&#x4E00;&#x8D77;&#x663E;&#x5F0F;&#x6307;&#x5B9A;&#x4E3A;&#x76EE;&#x6807;&#xFF0C;&#x4EE5;&#x6307;&#x793A;ON&#x5B50;&#x53E5;&#x5E94;&#x5982;&#x4F55;&#x7EE7;&#x7EED;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a_alias</span> <span class="o">=</span> <span class="n">aliased</span><span class="p">(</span><span class="n">Address</span><span class="p">)</span>

<span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">addresses</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">join</span><span class="p">(</span><span class="n">a_alias</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">addresses</span><span class="p">)</span><span class="o">.</span>\
        <span class="nb">filter</span><span class="p">(</span><span class="n">Address</span><span class="o">.</span><span class="n">email_address</span><span class="o">==</span><span class="s1">&apos;ed@foo.com&apos;</span><span class="p">)</span><span class="o">.</span>\
        <span class="nb">filter</span><span class="p">(</span><span class="n">a_alias</span><span class="o">.</span><span class="n">email_address</span><span class="o">==</span><span class="s1">&apos;ed@bar.com&apos;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-280">&#x4EE5;&#x4E0A;&#x6240;&#x8FF0;&#xFF0C;&#x751F;&#x6210;&#x7684;SQL&#x5C06;&#x7C7B;&#x4F3C;&#x4E8E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>SELECT user.* FROM user
    JOIN address ON user.id = address.user_id
    JOIN address AS address_1 ON user.id=address_1.user_id
    WHERE address.email_address = :email_address_1
    AND address_1.email_address = :email_address_2</pre></div></div><p><span class="yiyi-st" id="yiyi-281"><a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x7684;&#x53CC;&#x53C2;&#x6570;&#x8C03;&#x7528;&#x5F62;&#x5F0F;&#x4E5F;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x6784;&#x5EFA;&#x4EFB;&#x610F;&#x8FDE;&#x63A5;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;&#x9762;&#x5411;SQL&#x7684;&#x201C;on&#x5B50;&#x53E5;&#x201D;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5B8C;&#x5168;&#x4F9D;&#x8D56;&#x914D;&#x7F6E;&#x5173;&#x7CFB;&#x3002;</span><span class="yiyi-st" id="yiyi-282">&#x5728;&#x4F7F;&#x7528;&#x53CC;&#x53C2;&#x6570;&#x5F62;&#x5F0F;&#x65F6;&#xFF0C;&#x4EFB;&#x4F55;SQL&#x8868;&#x8FBE;&#x5F0F;&#x90FD;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;ON&#x5B50;&#x53E5;&#x4F20;&#x9012;&#xFF0C;&#x5B83;&#x5E94;&#x8BE5;&#x4EE5;&#x67D0;&#x79CD;&#x65B9;&#x5F0F;&#x5F15;&#x7528;&#x76EE;&#x6807;&#x5B9E;&#x4F53;&#x4EE5;&#x53CA;&#x9002;&#x7528;&#x7684;&#x6E90;&#x5B9E;&#x4F53;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">Address</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">id</span><span class="o">==</span><span class="n">Address</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span></pre></div></div><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-283"><span class="versionmodified">&#x5728;&#x7248;&#x672C;0.7&#x4E2D;&#x66F4;&#x6539;&#xFF1A;</span>&#x5728;SQLAlchemy 0.6&#x53CA;&#x66F4;&#x65E9;&#x7248;&#x672C;&#x4E2D;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x7684;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x5F62;&#x5F0F;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5143;&#x7EC4;&#xFF1A;<code class="docutils literal"><span class="pre">query&#xFF08;User&#xFF09; .join&#xFF08;&#xFF08;&#x5730;&#x5740;&#xFF0C;</span> <span class="pre">User.id == Address.user_id&#xFF09;&#xFF09;</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-284">&#x8FD9;&#x4E2A;&#x8C03;&#x7528;&#x5F62;&#x5F0F;&#x5728;0.7&#x4E2D;&#x88AB;&#x63A5;&#x53D7;&#xFF0C;&#x5E76;&#x4E14;&#x66F4;&#x8FDB;&#x4E00;&#x6B65;&#xFF0C;&#x9664;&#x975E;&#x591A;&#x4E2A;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x88AB;&#x4F20;&#x9012;&#x7ED9;&#x5355;&#x4E2A;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x8C03;&#x7528;&#xFF0C;&#x5426;&#x5219;&#x5B83;&#x662F;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#xFF0C;&#x5B83;&#x672C;&#x8EAB;&#x4E5F;&#x4E0D;&#x662F;&#x5FC5;&#x9700;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x73B0;&#x5728;&#x7B49;&#x540C;&#x4E8E;&#x591A;&#x4E2A;&#x8C03;&#x7528;&#xFF08;&#x60C5;&#x51B5;&#x5E76;&#x975E;&#x603B;&#x662F;&#x5982;&#x6B64;&#xFF09;&#x3002;</span></p></div><p><span class="yiyi-st" id="yiyi-285"><strong>&#x9AD8;&#x7EA7;&#x8FDE;&#x63A5;&#x5B9A;&#x4F4D;&#x548C;&#x81EA;&#x9002;&#x5E94;</strong></span></p><p><span class="yiyi-st" id="yiyi-286">&#x5728;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x65F6;&#xFF0C;&#x201C;&#x76EE;&#x6807;&#x201D;&#x53EF;&#x4EE5;&#x5177;&#x6709;&#x5F88;&#x5927;&#x7684;&#x7075;&#x6D3B;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-287">&#x5982;&#x524D;&#x6240;&#x8FF0;&#xFF0C;&#x5B83;&#x8FD8;&#x63A5;&#x53D7;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x7ED3;&#x6784;&#x548C;&#x5176;&#x4ED6;&#x53EF;&#x9009;&#x9879;&#xFF0C;&#x4F8B;&#x5982;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.alias" title="sqlalchemy.sql.expression.alias"><code class="xref py py-func docutils literal"><span class="pre">alias()</span></code></a>&#x548C;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>&#x7ED3;&#x6784;&#xFF0C;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x6216;&#x4E24;&#x4E2A; - &#x5F62;&#x5F0F;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">addresses_q</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">Address</span><span class="o">.</span><span class="n">user_id</span><span class="p">])</span><span class="o">.</span>\
            <span class="n">where</span><span class="p">(</span><span class="n">Address</span><span class="o">.</span><span class="n">email_address</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;@bar.com&quot;</span><span class="p">))</span><span class="o">.</span>\
            <span class="n">alias</span><span class="p">()</span>

<span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span>\
            <span class="n">join</span><span class="p">(</span><span class="n">addresses_q</span><span class="p">,</span> <span class="n">addresses_q</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="o">==</span><span class="n">User</span><span class="o">.</span><span class="n">id</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-288"><a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a> also features the ability to <em>adapt</em> a <a class="reference internal" href="relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-meth docutils literal"><span class="pre">relationship()</span></code></a> -driven ON clause to the target selectable. </span><span class="yiyi-st" id="yiyi-289">&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6784;&#x9020;&#x4E00;&#x4E2A;&#x4ECE;<code class="docutils literal"><span class="pre">User</span></code>&#x5230;<code class="docutils literal"><span class="pre">Address</span></code>&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x7684;JOIN&#xFF0C;&#x5141;&#x8BB8;<code class="docutils literal"><span class="pre">User.addresses</span></code>&#x5230;<em>adapt  t6 &gt;&#x672C;&#x8EAB;&#x6539;&#x53D8;&#x76EE;&#x6807;&#xFF1A;</em></span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">address_subq</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Address</span><span class="p">)</span><span class="o">.</span>\
                <span class="nb">filter</span><span class="p">(</span><span class="n">Address</span><span class="o">.</span><span class="n">email_address</span> <span class="o">==</span> <span class="s1">&apos;ed@foo.com&apos;</span><span class="p">)</span><span class="o">.</span>\
                <span class="n">subquery</span><span class="p">()</span>

<span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">address_subq</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">addresses</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-290">&#x751F;&#x6210;SQL&#x7C7B;&#x4F3C;&#x4E8E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>SELECT user.* FROM user
    JOIN (
        SELECT address.id AS id,
                address.user_id AS user_id,
                address.email_address AS email_address
        FROM address
        WHERE address.email_address = :email_address_1
    ) AS anon_1 ON user.id = anon_1.user_id</pre></div></div><p><span class="yiyi-st" id="yiyi-291">&#x4E0A;&#x9762;&#x7684;&#x8868;&#x683C;&#x5141;&#x8BB8;&#x5728;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x56DE;&#x5230;&#x660E;&#x786E;&#x7684;ON&#x5B50;&#x53E5;&#x4E0A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">join</span><span class="p">(</span><span class="n">address_subq</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">id</span><span class="o">==</span><span class="n">address_subq</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-292"><strong>&#x63A7;&#x5236;&#x8981;&#x4ECE;</strong>&#x52A0;&#x5165;&#x7684;&#x5185;&#x5BB9;</span></p><p><span class="yiyi-st" id="yiyi-293">&#x867D;&#x7136;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x4E13;&#x95E8;&#x5904;&#x7406;JOIN&#x7684;&#x201C;&#x53F3;&#x4FA7;&#x201D;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x9700;&#x8981;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal"><span class="pre">select_from()</span></code></a></span><span class="yiyi-st" id="yiyi-294">&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x9488;&#x5BF9;<code class="docutils literal"><span class="pre">Address</span></code>&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x4F46;&#x662F;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6307;&#x793A;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x4ECE;&#x7B2C;&#x4E00;&#x4E2A;&#x9009;&#x62E9;&#x7B2C;&#x4E00;&#x4E2A;&#x4F5C;&#x4E3A;ON&#x5B50;&#x53E5;&#x6765;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">User.addresses</span></code> <code class="docutils literal"><span class="pre">User</span></code>&#x5B9E;&#x4F53;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Address</span><span class="p">)</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span>\
                <span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">addresses</span><span class="p">)</span><span class="o">.</span>\
                <span class="nb">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&apos;ed&apos;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-295">&#x8FD9;&#x5C06;&#x4EA7;&#x751F;SQL&#x7C7B;&#x4F3C;&#x4E8E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>SELECT address.* FROM user
    JOIN address ON user.id=address.user_id
    WHERE user.name = :name_1</pre></div></div><p><span class="yiyi-st" id="yiyi-296"><strong>&#x533F;&#x540D;&#x6784;&#x5EFA;&#x522B;&#x540D;</strong></span></p><p><span class="yiyi-st" id="yiyi-297"><a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a> can construct anonymous aliases using the <code class="docutils literal"><span class="pre">aliased=True</span></code> flag. </span><span class="yiyi-st" id="yiyi-298">&#x5F53;&#x67E5;&#x8BE2;&#x4EE5;&#x7B97;&#x6CD5;&#x65B9;&#x5F0F;&#x52A0;&#x5165;&#x65F6;&#xFF0C;&#x5982;&#x81EA;&#x67E5;&#x8BE2;&#x5230;&#x4EFB;&#x610F;&#x6DF1;&#x5EA6;&#x65F6;&#xFF0C;&#x6B64;&#x529F;&#x80FD;&#x975E;&#x5E38;&#x6709;&#x7528;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Node</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">join</span><span class="p">(</span><span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="n">aliased</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-299">&#x5F53;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">aliased=True</span></code>&#x65F6;&#xFF0C;&#x5B9E;&#x9645;&#x7684;&#x201C;&#x522B;&#x540D;&#x201D;&#x7ED3;&#x6784;&#x4E0D;&#x660E;&#x786E;&#x53EF;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-300">&#x8981;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x8BF8;&#x5982;<a class="reference internal" href="#sqlalchemy.orm.query.Query.filter" title="sqlalchemy.orm.query.Query.filter"><code class="xref py py-meth docutils literal"><span class="pre">Query.filter()</span></code></a>&#x7B49;&#x65B9;&#x6CD5;&#x5C06;&#x4F7F;&#x4F20;&#x5165;&#x5B9E;&#x4F53;&#x9002;&#x5E94;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x70B9;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Node</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">join</span><span class="p">(</span><span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="n">aliased</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span>\
        <span class="nb">filter</span><span class="p">(</span><span class="n">Node</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&apos;grandchild 1&apos;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-301">&#x4F7F;&#x7528;&#x81EA;&#x52A8;&#x522B;&#x540D;&#x65F6;&#xFF0C;<code class="docutils literal"><span class="pre">from_joinpoint=True</span></code>&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x5141;&#x8BB8;&#x5C06;&#x591A;&#x8282;&#x70B9;&#x8FDE;&#x63A5;&#x5206;&#x89E3;&#x4E3A;&#x5BF9;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x7684;&#x591A;&#x6B21;&#x8C03;&#x7528;&#xFF0C;&#x4EE5;&#x4FBF;&#x6BCF;&#x4E2A;&#x8DEF;&#x5F84;&#x90FD;&#x53EF;&#x4EE5;&#x8FDB;&#x4E00;&#x6B65;&#x8FC7;&#x6EE4;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Node</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">join</span><span class="p">(</span><span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="n">aliased</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span>\
        <span class="nb">filter</span><span class="p">(</span><span class="n">Node</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s1">&apos;child 1&apos;</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">join</span><span class="p">(</span><span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="n">aliased</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">from_joinpoint</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span>\
        <span class="nb">filter</span><span class="p">(</span><span class="n">Node</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&apos;grandchild 1&apos;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-302">&#x4E0A;&#x9762;&#x7684;&#x8FC7;&#x6EE4;&#x522B;&#x540D;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.reset_joinpoint" title="sqlalchemy.orm.query.Query.reset_joinpoint"><code class="xref py py-meth docutils literal"><span class="pre">reset_joinpoint()</span></code></a>&#x91CD;&#x7F6E;&#x56DE;&#x539F;&#x59CB;&#x7684;<code class="docutils literal"><span class="pre">Node</span></code>&#x5B9E;&#x4F53;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>q = session.query(Node).\
        join(&quot;children&quot;, &quot;children&quot;, aliased=True).\
        filter(Node.name == &apos;grandchild 1&apos;).\
        reset_joinpoint().\
        filter(Node.name == &apos;parent 1)</pre></div></div><p><span class="yiyi-st" id="yiyi-303">&#x6709;&#x5173;<code class="docutils literal"><span class="pre">aliased=True</span></code>&#x7684;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x5206;&#x53D1;&#x793A;&#x4F8B;<a class="reference internal" href="examples.html#examples-xmlpersistence"><span>XML Persistence</span></a>&#xFF0C;&#x5176;&#x4E2D;&#x6F14;&#x793A;&#x4E86;&#x4F7F;&#x7528;&#x7B97;&#x6CD5;&#x8054;&#x63A5;&#x7684;&#x7C7B;&#x4F3C;XPath&#x7684;&#x67E5;&#x8BE2;&#x7CFB;&#x7EDF;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-304">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-305"><span class="target" id="sqlalchemy.orm.query.Query.join.params.*props"></span><strong>*props</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.join.params.*props">&#xB6;</a> &#x2013; A collection of one or more join conditions, each consisting of a relationship-bound attribute or string relationship name representing an &#x201C;on clause&#x201D;, or a single target entity, or a tuple in the form of <code class="docutils literal"><span class="pre">(target,</span> <span class="pre">onclause)</span></code>. </span><span class="yiyi-st" id="yiyi-306">&#x8FD8;&#x53EF;&#x4EE5;&#x63A5;&#x53D7;<code class="docutils literal"><span class="pre">&#x76EE;&#x6807;&#xFF0C;</span> <span class="pre"></span></code>&#x5F62;&#x5F0F;&#x7684;&#x7279;&#x6B8A;&#x53CC;&#x53C2;&#x6570;&#x8C03;&#x7528;&#x5F62;&#x5F0F;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-307"><span class="target" id="sqlalchemy.orm.query.Query.join.params.aliased"></span> <strong>aliased = False</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.join.params.aliased">&#xB6;</a>  - &#x5982;&#x679C;&#x4E3A;True&#xFF0C;&#x8868;&#x660E;JOIN&#x76EE;&#x6807;&#x5E94;&#x8BE5;&#x533F;&#x540D;&#x522B;&#x540D;&#x3002;</span><span class="yiyi-st" id="yiyi-308">&#x968F;&#x540E;&#x5BF9;<a class="reference internal" href="#sqlalchemy.orm.query.Query.filter" title="sqlalchemy.orm.query.Query.filter"><code class="xref py py-meth docutils literal"><span class="pre">filter()</span></code></a>&#x548C;&#x7C7B;&#x4F3C;&#x7684;&#x8C03;&#x7528;&#x5C06;&#x4F7F;&#x8F93;&#x5165;&#x6807;&#x51C6;&#x9002;&#x5E94;&#x76EE;&#x6807;&#x522B;&#x540D;&#xFF0C;&#x76F4;&#x5230;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.reset_joinpoint" title="sqlalchemy.orm.query.Query.reset_joinpoint"><code class="xref py py-meth docutils literal"><span class="pre">reset_joinpoint()</span></code></a>&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-312"><span class="target" id="sqlalchemy.orm.query.Query.join.params.isouter"></span> <strong>isouter = False</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.join.params.isouter">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-309">&#x5982;&#x679C;&#x4E3A;True&#xFF0C;&#x5219;&#x4F7F;&#x7528;&#x7684;&#x8FDE;&#x63A5;&#x5C06;&#x662F;&#x5DE6;&#x5916;&#x8FDE;&#x63A5;&#xFF0C;&#x5C31;&#x50CF;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.outerjoin" title="sqlalchemy.orm.query.Query.outerjoin"><code class="xref py py-meth docutils literal"><span class="pre">Query.outerjoin()</span></code></a>&#x65B9;&#x6CD5;&#x4E00;&#x6837;&#x3002;</span><span class="yiyi-st" id="yiyi-310">&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x5728;&#x8FD9;&#x91CC;&#x4FDD;&#x6301;&#x4E0E;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal"><span class="pre">FromClause.join()</span></code></a>&#x548C;&#x5176;&#x4ED6;Core&#x7ED3;&#x6784;&#x6240;&#x63A5;&#x53D7;&#x7684;&#x76F8;&#x540C;&#x6807;&#x5FD7;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-311"><span class="versionmodified">&#x7248;&#x672C;1.0.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></li><li><span class="yiyi-st" id="yiyi-315"><span class="target" id="sqlalchemy.orm.query.Query.join.params.full"></span> <strong>full = False</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.join.params.full">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-313">&#x6E32;&#x67D3;&#x5168;&#x5916;&#x8FDE;&#x63A5;&#xFF1B;&#x610F;&#x5473;&#x7740;<code class="docutils literal"><span class="pre">isouter</span></code>&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-314"><span class="versionmodified">&#x7248;&#x672C;1.1&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></li><li><span class="yiyi-st" id="yiyi-316"><span class="target" id="sqlalchemy.orm.query.Query.join.params.from_joinpoint"></span><strong>from_joinpoint=False</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.join.params.from_joinpoint">&#xB6;</a> &#x2013; When using <code class="docutils literal"><span class="pre">aliased=True</span></code>, a setting of True here will cause the join to be from the most recent joined target, rather than starting back from the original FROM clauses of the query.</span></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-317">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-318">&#x5728;ORM&#x6559;&#x7A0B;&#x4E2D;<a class="reference internal" href="tutorial.html#ormtutorial-joins"><span>Querying with Joins</span></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-319">&#x6709;&#x5173;&#x5982;&#x4F55;&#x5C06;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x7528;&#x4E8E;&#x7EE7;&#x627F;&#x5173;&#x7CFB;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;<a class="reference internal" href="inheritance.html"><span>Mapping Class Inheritance Hierarchies</span></a>&#x3002;</span></p><p class="last"><span class="yiyi-st" id="yiyi-320"><a class="reference internal" href="#sqlalchemy.orm.join" title="sqlalchemy.orm.join"><code class="xref py py-func docutils literal"><span class="pre">orm.join()</span></code></a> - a standalone ORM-level join function, used internally by <a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">Query.join()</span></code></a>, which in previous SQLAlchemy versions was the primary ORM-level joining interface.</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.label"><span class="yiyi-st" id="yiyi-321"><code class="descname">&#x6807;&#x7B7E; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x540D;&#x79F0; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.label" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-322">&#x8FD4;&#x56DE;&#x7531;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x8868;&#x793A;&#x7684;&#x5B8C;&#x6574;SELECT&#x8BED;&#x53E5;&#xFF0C;&#x5C06;&#x5176;&#x8F6C;&#x6362;&#x4E3A;&#x5177;&#x6709;&#x7ED9;&#x5B9A;&#x540D;&#x79F0;&#x6807;&#x7B7E;&#x7684;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-323">&#x7C7B;&#x4F3C;&#x4E8E;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.SelectBase.label" title="sqlalchemy.sql.expression.SelectBase.label"><code class="xref py py-meth docutils literal"><span class="pre">sqlalchemy.sql.expression.SelectBase.label()</span></code></a>&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-324"><span class="versionmodified">&#x7248;&#x672C;0.6.5&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.limit"><span class="yiyi-st" id="yiyi-325"><code class="descname">&#x9650;&#x5236; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x9650;&#x5236; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.limit" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-326">&#x5C06;<code class="docutils literal"><span class="pre">LIMIT</span></code>&#x5E94;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x5E76;&#x8FD4;&#x56DE;&#x65B0;&#x751F;&#x6210;&#x7684;<code class="docutils literal"><span class="pre">Query</span></code>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.merge_result"><span class="yiyi-st" id="yiyi-327"><code class="descname">merge_result</code> <span class="sig-paren">&#xFF08;</span> <em>iterator</em>&#xFF0C;<em>load = True</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.query.Query.merge_result" title="Permalink to this definition"> t5 &gt;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-328">&#x5C06;&#x7ED3;&#x679C;&#x5408;&#x5E76;&#x5230;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x7684;Session&#x4E2D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-329">&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x4E0E;&#x6B64;&#x7ED3;&#x6784;&#x76F8;&#x540C;&#x7ED3;&#x6784;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x8FD4;&#x56DE;&#x7684;&#x8FED;&#x4EE3;&#x5668;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x76F8;&#x540C;&#x8FED;&#x4EE3;&#x5668;&#xFF0C;&#x6240;&#x6709;&#x6620;&#x5C04;&#x5B9E;&#x4F8B;&#x90FD;&#x4F7F;&#x7528;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session.merge" title="sqlalchemy.orm.session.Session.merge"><code class="xref py py-meth docutils literal"><span class="pre">Session.merge()</span></code></a>&#x5408;&#x5E76;&#x5230;&#x4F1A;&#x8BDD;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-330">&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x4F18;&#x5316;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5B83;&#x5C06;&#x5408;&#x5E76;&#x6240;&#x6709;&#x6620;&#x5C04;&#x7684;&#x5B9E;&#x4F8B;&#xFF0C;&#x4E3A;&#x6BCF;&#x4E2A;&#x503C;&#x660E;&#x786E;&#x8C03;&#x7528;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session.merge" title="sqlalchemy.orm.session.Session.merge"><code class="xref py py-meth docutils literal"><span class="pre">Session.merge()</span></code></a>&#xFF0C;&#x4ECE;&#x800C;&#x4EE5;&#x8F83;&#x5C11;&#x7684;&#x65B9;&#x6CD5;&#x5F00;&#x9500;&#x4FDD;&#x7559;&#x7ED3;&#x679C;&#x884C;&#x548C;&#x672A;&#x6620;&#x5C04;&#x5217;&#x7684;&#x7ED3;&#x6784;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-331">&#x7ED3;&#x679C;&#x7684;&#x7ED3;&#x6784;&#x662F;&#x6839;&#x636E;&#x8FD9;&#x4E2A;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x7684;&#x5217;&#x8868;&#x786E;&#x5B9A;&#x7684; - &#x5982;&#x679C;&#x8FD9;&#x4E9B;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x5219;&#x4F1A;&#x53D1;&#x751F;&#x672A;&#x7ECF;&#x68C0;&#x67E5;&#x7684;&#x9519;&#x8BEF;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-332">&apos;load&apos;&#x53C2;&#x6570;&#x4E0E;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session.merge" title="sqlalchemy.orm.session.Session.merge"><code class="xref py py-meth docutils literal"><span class="pre">Session.merge()</span></code></a>&#x76F8;&#x540C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-333">&#x6709;&#x5173;&#x5982;&#x4F55;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.merge_result" title="sqlalchemy.orm.query.Query.merge_result"><code class="xref py py-meth docutils literal"><span class="pre">merge_result()</span></code></a>&#x7684;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x793A;&#x4F8B;<a class="reference internal" href="examples.html#examples-caching"><span>Dogpile Caching</span></a>&#x7684;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x5176;&#x4E2D;<a class="reference internal" href="#sqlalchemy.orm.query.Query.merge_result" title="sqlalchemy.orm.query.Query.merge_result"><code class="xref py py-meth docutils literal"><span class="pre">merge_result()</span></code></a>&#x7528;&#x4E8E;&#x9AD8;&#x6548;&#x5C06;&#x72B6;&#x6001;&#x4ECE;&#x7F13;&#x5B58;&#x6062;&#x590D;&#x56DE;&#x76EE;&#x6807;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.offset"><span class="yiyi-st" id="yiyi-334"><code class="descname">&#x504F;&#x79FB; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x504F;&#x79FB; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.offset" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-335">&#x5BF9;&#x67E5;&#x8BE2;&#x5E94;&#x7528;&#x4E00;&#x4E2A;<code class="docutils literal"><span class="pre">OFFSET</span></code>&#x5E76;&#x8FD4;&#x56DE;&#x65B0;&#x751F;&#x6210;&#x7684;<code class="docutils literal"><span class="pre">Query</span></code>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.one"><span class="yiyi-st" id="yiyi-336"><code class="descname">&#x4E00;&#x4E2A; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.one" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-337">&#x53EA;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x6216;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-338">&#x5982;&#x679C;&#x67E5;&#x8BE2;&#x672A;&#x9009;&#x62E9;&#x4EFB;&#x4F55;&#x884C;&#xFF0C;&#x5219;&#x5F15;&#x53D1;<code class="docutils literal"><span class="pre">sqlalchemy.orm.exc.NoResultFound</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-339">&#x5982;&#x679C;&#x8FD4;&#x56DE;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#x6807;&#x8BC6;&#xFF0C;&#x6216;&#x8005;&#x5982;&#x679C;&#x4E3A;&#x4EC5;&#x8FD4;&#x56DE;&#x6807;&#x91CF;&#x503C;&#x7684;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x591A;&#x4E2A;&#x884C;&#x800C;&#x4E0D;&#x662F;&#x5B8C;&#x6574;&#x7684;&#x6807;&#x8BC6;&#x6620;&#x5C04;&#x5B9E;&#x4F53;&#xFF0C;&#x5219;&#x5F15;&#x53D1;<code class="docutils literal"><span class="pre">sqlalchemy.orm.exc.MultipleResultsFound</span></code>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-340">&#x8C03;&#x7528;<a class="reference internal" href="extensions_baked.html#sqlalchemy.ext.baked.Result.one" title="sqlalchemy.ext.baked.Result.one"><code class="xref py py-meth docutils literal"><span class="pre">one()</span></code></a>&#x4F1A;&#x5BFC;&#x81F4;&#x6267;&#x884C;&#x57FA;&#x7840;&#x67E5;&#x8BE2;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-341">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-342"><a class="reference internal" href="#sqlalchemy.orm.query.Query.first" title="sqlalchemy.orm.query.Query.first"><code class="xref py py-meth docutils literal"><span class="pre">Query.first()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-343"><a class="reference internal" href="#sqlalchemy.orm.query.Query.one_or_none" title="sqlalchemy.orm.query.Query.one_or_none"><code class="xref py py-meth docutils literal"><span class="pre">Query.one_or_none()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.one_or_none"><span class="yiyi-st" id="yiyi-344"><code class="descname"> one_or_none  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.one_or_none" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-345">&#x81F3;&#x591A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x6216;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-346">&#x5982;&#x679C;&#x67E5;&#x8BE2;&#x672A;&#x9009;&#x62E9;&#x4EFB;&#x4F55;&#x884C;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;<code class="docutils literal"><span class="pre">None</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-347">&#x5982;&#x679C;&#x8FD4;&#x56DE;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#x6807;&#x8BC6;&#xFF0C;&#x6216;&#x8005;&#x5982;&#x679C;&#x4E3A;&#x4EC5;&#x8FD4;&#x56DE;&#x6807;&#x91CF;&#x503C;&#x7684;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x591A;&#x4E2A;&#x884C;&#x800C;&#x4E0D;&#x662F;&#x5B8C;&#x6574;&#x7684;&#x6807;&#x8BC6;&#x6620;&#x5C04;&#x5B9E;&#x4F53;&#xFF0C;&#x5219;&#x5F15;&#x53D1;<code class="docutils literal"><span class="pre">sqlalchemy.orm.exc.MultipleResultsFound</span></code>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-348">&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.one_or_none" title="sqlalchemy.orm.query.Query.one_or_none"><code class="xref py py-meth docutils literal"><span class="pre">Query.one_or_none()</span></code></a>&#x4F1A;&#x5BFC;&#x81F4;&#x6267;&#x884C;&#x57FA;&#x7840;&#x67E5;&#x8BE2;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-349"><span class="versionmodified">&#x7248;&#x672C;1.0.9&#x65B0;&#x589E;&#xFF1A;</span>&#x6DFB;&#x52A0;&#x4E86;<a class="reference internal" href="#sqlalchemy.orm.query.Query.one_or_none" title="sqlalchemy.orm.query.Query.one_or_none"><code class="xref py py-meth docutils literal"><span class="pre">Query.one_or_none()</span></code></a></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-350">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-351"><a class="reference internal" href="#sqlalchemy.orm.query.Query.first" title="sqlalchemy.orm.query.Query.first"><code class="xref py py-meth docutils literal"><span class="pre">Query.first()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-352"><a class="reference internal" href="#sqlalchemy.orm.query.Query.one" title="sqlalchemy.orm.query.Query.one"><code class="xref py py-meth docutils literal"><span class="pre">Query.one()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.options"><span class="yiyi-st" id="yiyi-353"><code class="descname">&#x9009;&#x9879; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * ARGS  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.options" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-354">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x67E5;&#x8BE2;&#x5BF9;&#x8C61;&#xFF0C;&#x5E94;&#x7528;&#x7ED9;&#x5B9A;&#x7684;&#x6620;&#x5C04;&#x5668;&#x9009;&#x9879;&#x5217;&#x8868;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-355">&#x5927;&#x591A;&#x6570;&#x63D0;&#x4F9B;&#x7684;&#x9009;&#x9879;&#x90FD;&#x4F1A;&#x6539;&#x53D8;&#x5982;&#x4F55;&#x52A0;&#x8F7D;&#x5217;&#x548C;&#x5173;&#x7CFB;&#x6620;&#x5C04;&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-356">&#x6709;&#x5173;&#x53C2;&#x8003;&#x6587;&#x6863;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="loading_columns.html#deferred"><span>Deferred Column Loading</span></a>&#x548C;<a class="reference internal" href="loading_relationships.html"><em>Relationship Loading Techniques</em></a>&#x90E8;&#x5206;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.order_by"><span class="yiyi-st" id="yiyi-357"><code class="descname"> ORDER_BY  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> *&#x6807;&#x51C6; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.order_by" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-358">&#x5C06;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;ORDER BY&#x6807;&#x51C6;&#x5E94;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x5E76;&#x8FD4;&#x56DE;&#x65B0;&#x751F;&#x6210;&#x7684;<code class="docutils literal"><span class="pre">Query</span></code></span></p><p><span class="yiyi-st" id="yiyi-359">&#x6240;&#x6709;&#x73B0;&#x6709;&#x7684;ORDER BY&#x8BBE;&#x7F6E;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F20;&#x9012;<code class="docutils literal"><span class="pre">None</span></code></span></p><p><span class="yiyi-st" id="yiyi-360">&#x6216;&#x8005;&#xFF0C;&#x901A;&#x8FC7;&#x4F20;&#x9012;<code class="docutils literal"><span class="pre">False</span></code>&#x4F5C;&#x4E3A;&#x503C;&#xFF0C;&#x53EF;&#x4EE5;&#x5B8C;&#x5168;&#x53D6;&#x6D88;Query&#x5BF9;&#x8C61;&#x4E0A;&#x73B0;&#x6709;&#x7684;ORDER BY&#x8BBE;&#x7F6E; - &#x5728;&#x8C03;&#x7528;ORDER BY&#x65E0;&#x6548;&#x7684;&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#x4F7F;&#x7528;&#x6B64;&#x8BBE;&#x7F6E;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.outerjoin"><span class="yiyi-st" id="yiyi-361"><code class="descname">&#x5916;&#x8FDE;&#x63A5;</code> <span class="sig-paren">&#xFF08;</span> <em>* props</em>&#xFF0C;<em>** kwargs</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.query.Query.outerjoin" title="Permalink to this definition">T5&gt;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-362">&#x6839;&#x636E;&#x6B64;<code class="docutils literal"><span class="pre">Query</span></code>&#x5BF9;&#x8C61;&#x7684;&#x6807;&#x51C6;&#x521B;&#x5EFA;&#x5DE6;&#x5916;&#x8FDE;&#x63A5;&#xFF0C;&#x5E76;&#x751F;&#x6210;&#x5E94;&#x7528;&#xFF0C;&#x8FD4;&#x56DE;&#x65B0;&#x751F;&#x6210;&#x7684;<code class="docutils literal"><span class="pre">Query</span></code>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-363">&#x7528;&#x6CD5;&#x4E0E;<code class="docutils literal"><span class="pre">join()</span></code>&#x65B9;&#x6CD5;&#x76F8;&#x540C;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.params"><span class="yiyi-st" id="yiyi-364"><code class="descname">params</code> <span class="sig-paren">&#xFF08;</span> <em>* args</em>&#xFF0C;<em>** kwargs</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.query.Query.params" title="Permalink to this definition">T5&gt;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-365">&#x6DFB;&#x52A0;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x5728;filter()&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x7684;&#x503C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-366">&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;** kwargs&#x6216;&#x53EF;&#x9009;&#x7684;&#x5355;&#x4E2A;&#x5B57;&#x5178;&#x6307;&#x5B9A;&#x4E3A;&#x7B2C;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-367">&#x4E24;&#x8005;&#x7684;&#x539F;&#x56E0;&#x662F;** kwargs&#x5F88;&#x65B9;&#x4FBF;&#xFF0C;&#x4F46;&#x662F;&#x4E00;&#x4E9B;&#x53C2;&#x6570;&#x5B57;&#x5178;&#x5305;&#x542B;unicode&#x952E;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;** kwargs&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.populate_existing"><span class="yiyi-st" id="yiyi-368"><code class="descname"> populate_existing  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.populate_existing" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-369">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#xFF0C;&#x5B83;&#x5C06;&#x5728;&#x52A0;&#x8F7D;&#x65F6;&#x5237;&#x65B0;&#x6240;&#x6709;&#x5B9E;&#x4F8B;&#xFF0C;&#x6216;&#x5237;&#x65B0;&#x5F53;&#x524D;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5B9E;&#x4F8B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-370"><a class="reference internal" href="#sqlalchemy.orm.query.Query.populate_existing" title="sqlalchemy.orm.query.Query.populate_existing"><code class="xref py py-meth docutils literal"><span class="pre">populate_existing()</span></code></a> does not improve behavior when the ORM is used normally - the <a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> object&#x2019;s usual behavior of maintaining a transaction and expiring all attributes after rollback or commit handles object state automatically. </span><span class="yiyi-st" id="yiyi-371">&#x6B64;&#x65B9;&#x6CD5;&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x4E00;&#x822C;&#x7528;&#x9014;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.prefix_with"><span class="yiyi-st" id="yiyi-372"><code class="descname"> prefix_with  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> *&#x524D;&#x7F00; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.prefix_with" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-373">&#x5C06;&#x524D;&#x7F00;&#x5E94;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x5E76;&#x8FD4;&#x56DE;&#x65B0;&#x751F;&#x6210;&#x7684;<code class="docutils literal"><span class="pre">Query</span></code>&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-374">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><span class="yiyi-st" id="yiyi-375"><span class="target" id="sqlalchemy.orm.query.Query.prefix_with.params.*prefixes"></span> <strong>* prefixes</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.prefix_with.params.*prefixes">&#xB6;</a>  - &#x53EF;&#x9009;&#x524D;&#x7F00;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4E0D;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x9017;&#x53F7;&#x3002;</span><span class="yiyi-st" id="yiyi-376">&#x5BF9;&#x4E8E;MySQL&#x5173;&#x952E;&#x5B57;&#x5C24;&#x5176;&#x6709;&#x7528;&#x3002;</span></td></tr></tbody></table><p><span class="yiyi-st" id="yiyi-377">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">query</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">prefix_with</span><span class="p">(</span><span class="s1">&apos;HIGH_PRIORITY&apos;</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">prefix_with</span><span class="p">(</span><span class="s1">&apos;SQL_SMALL_RESULT&apos;</span><span class="p">,</span> <span class="s1">&apos;ALL&apos;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-378">&#x4F1A;&#x5448;&#x73B0;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>SELECT HIGH_PRIORITY SQL_SMALL_RESULT ALL users.name AS users_name
FROM users</pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-379"><span class="versionmodified">New in version 0.7.7.</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-380">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-381"><a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.HasPrefixes.prefix_with" title="sqlalchemy.sql.expression.HasPrefixes.prefix_with"><code class="xref py py-meth docutils literal"><span class="pre">HasPrefixes.prefix_with()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.reset_joinpoint"><span class="yiyi-st" id="yiyi-382"><code class="descname"> reset_joinpoint  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.reset_joinpoint" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-383">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#xFF0C;&#x5176;&#x4E2D;&#x201C;&#x8FDE;&#x63A5;&#x70B9;&#x201D;&#x5DF2;&#x88AB;&#x91CD;&#x7F6E;&#x56DE;&#x67E5;&#x8BE2;&#x7684;&#x57FA;&#x672C;FROM&#x5B9E;&#x4F53;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-384">&#x6B64;&#x65B9;&#x6CD5;&#x901A;&#x5E38;&#x4E0E;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x65B9;&#x6CD5;&#x7684;<code class="docutils literal"><span class="pre">aliased=True</span></code>&#x7279;&#x6027;&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-385">&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>&#x4E2D;&#x7684;&#x793A;&#x4F8B;&#x4E86;&#x89E3;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x5B83;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.scalar"><span class="yiyi-st" id="yiyi-386"><code class="descname">&#x6807;&#x91CF; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.scalar" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-387">&#x8FD4;&#x56DE;&#x7B2C;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x884C;&#x5B58;&#x5728;&#xFF0C;&#x8FD4;&#x56DE;None&#x3002;</span><span class="yiyi-st" id="yiyi-388">&#x5982;&#x679C;&#x8FD4;&#x56DE;&#x591A;&#x884C;&#xFF0C;&#x5219;&#x5F15;&#x53D1;MultipleResultsFound&#x3002;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Item</span><span class="p">)</span><span class="o">.</span><span class="n">scalar</span><span class="p">()</span>
<span class="go">&lt;Item&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Item</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">scalar</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Item</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">Item</span><span class="o">.</span><span class="n">id</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">scalar</span><span class="p">()</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Item</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">Item</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">scalar</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">Parent</span><span class="o">.</span><span class="n">id</span><span class="p">))</span><span class="o">.</span><span class="n">scalar</span><span class="p">()</span>
<span class="go">20</span></pre></div></div><p><span class="yiyi-st" id="yiyi-389">&#x8FD9;&#x5BFC;&#x81F4;&#x5E95;&#x5C42;&#x67E5;&#x8BE2;&#x7684;&#x6267;&#x884C;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.select_entity_from"><span class="yiyi-st" id="yiyi-390"><code class="descname"> select_entity_from  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> from_obj  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.select_entity_from" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-391">&#x5C06;&#x6B64;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x7684;FROM&#x5B50;&#x53E5;&#x8BBE;&#x7F6E;&#x4E3A;&#x53EF;&#x9009;&#x7684;&#x6838;&#x5FC3;&#xFF0C;&#x5C06;&#x5176;&#x4F5C;&#x4E3A;&#x66FF;&#x4EE3;&#x7684;FROM&#x5B50;&#x53E5;&#x5E94;&#x7528;&#x4E8E;&#x76F8;&#x5E94;&#x7684;&#x6620;&#x5C04;&#x5B9E;&#x4F53;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-392">&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x7C7B;&#x4F3C;&#x4E8E;<a class="reference internal" href="#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_from()</span></code></a>&#x65B9;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x8BBE;&#x7F6E;&#x67E5;&#x8BE2;&#x7684;FROM&#x5B50;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-393">&#x4F46;&#x662F;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_from()</span></code></a>&#x4EC5;&#x5F71;&#x54CD;&#x653E;&#x7F6E;&#x5728;FROM&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6B64;&#x65B9;&#x6CD5;&#x4E5F;&#x9002;&#x7528;&#x7ED9;&#x5B9A;&#x7684;&#x53EF;&#x9009;&#x9879;&#x6765;&#x66FF;&#x6362;&#x6240;&#x9009;&#x5B9E;&#x4F53;&#x901A;&#x5E38;&#x4ECE;&#x4E2D;&#x9009;&#x62E9;&#x7684;FROM&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-394">The given <code class="docutils literal"><span class="pre">from_obj</span></code> must be an instance of a <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal"><span class="pre">FromClause</span></code></a>, e.g. a <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a> or <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal"><span class="pre">Alias</span></code></a> construct.</span></p><p><span class="yiyi-st" id="yiyi-395">An example would be a <a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a> that selects <code class="docutils literal"><span class="pre">User</span></code> entities, but uses <a class="reference internal" href="#sqlalchemy.orm.query.Query.select_entity_from" title="sqlalchemy.orm.query.Query.select_entity_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_entity_from()</span></code></a> to have the entities selected from a <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a> construct instead of the base <code class="docutils literal"><span class="pre">user</span></code> table:</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">select_stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">User</span><span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">7</span><span class="p">)</span>

<span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">select_entity_from</span><span class="p">(</span><span class="n">select_stmt</span><span class="p">)</span><span class="o">.</span>\
        <span class="nb">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&apos;ed&apos;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-396">&#x751F;&#x6210;&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x76F4;&#x63A5;&#x4ECE;&#x7ED9;&#x5B9A;&#x7684;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>&#x6784;&#x9020;&#x4E2D;&#x9009;&#x62E9;<code class="docutils literal"><span class="pre">User</span></code>&#x4E2A;&#x5B9E;&#x4F53;&#xFF0C;&#x5E76;&#x4E14;&#x5C06;&#x4E3A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>SELECT anon_1.id AS anon_1_id, anon_1.name AS anon_1_name
FROM (SELECT &quot;user&quot;.id AS id, &quot;user&quot;.name AS name
FROM &quot;user&quot;
WHERE &quot;user&quot;.id = :id_1) AS anon_1
WHERE anon_1.name = :name_1</pre></div></div><p><span class="yiyi-st" id="yiyi-397">&#x6CE8;&#x610F;&#xFF0C;&#x5373;&#x4F7F;WHERE&#x6807;&#x51C6;&#x662F;&#x201C;&#x9002;&#x5E94;&#x6027;&#x7684;&#x201D;&#xFF0C;&#x4F7F;&#x5F97;<code class="docutils literal"><span class="pre">anon_1</span></code>&#x5B50;&#x67E5;&#x8BE2;&#x6709;&#x6548;&#x5730;&#x66FF;&#x4EE3;&#x4E86;&#x6240;&#x6709;&#x5BF9;<code class="docutils literal"><span class="pre">user</span></code>&#x8868;&#x7684;&#x5F15;&#x7528;&#xFF0C;&#x9664;&#x4E86;&#x5B83;&#x5728;&#x5185;&#x90E8;&#x5F15;&#x7528;&#x7684;&#x90A3;&#x4E2A;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-398">&#x5C06;&#x5B83;&#x4E0E;<a class="reference internal" href="#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_from()</span></code></a>&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF0C;&#x8BE5;&#x7248;&#x672C;&#x7684;&#x7248;&#x672C;&#x4E3A;0.9&#xFF0C;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x73B0;&#x6709;&#x5B9E;&#x4F53;&#x3002;</span><span class="yiyi-st" id="yiyi-399">&#x4EE5;&#x4E0B;&#x58F0;&#x660E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">select_from</span><span class="p">(</span><span class="n">select_stmt</span><span class="p">)</span><span class="o">.</span>\
        <span class="nb">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&apos;ed&apos;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-400">&#x751F;&#x6210;SQL&#xFF0C;&#x5176;&#x4E2D;<code class="docutils literal"><span class="pre">user</span></code>&#x8868;&#x4EE5;&#x53CA;<code class="docutils literal"><span class="pre">select_stmt</span></code>&#x6784;&#x9020;&#x5728;FROM&#x5B50;&#x53E5;&#x4E2D;&#x4F5C;&#x4E3A;&#x5355;&#x72EC;&#x7684;&#x5143;&#x7D20;&#x5B58;&#x5728;&#x3002;</span><span class="yiyi-st" id="yiyi-401">&#x6CA1;&#x6709;&#x5E94;&#x7528;<code class="docutils literal"><span class="pre">user</span></code>&#x8868;&#x7684;&#x201C;&#x81EA;&#x9002;&#x5E94;&#x201D;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>SELECT &quot;user&quot;.id AS user_id, &quot;user&quot;.name AS user_name
FROM &quot;user&quot;, (SELECT &quot;user&quot;.id AS id, &quot;user&quot;.name AS name
FROM &quot;user&quot;
WHERE &quot;user&quot;.id = :id_1) AS anon_1
WHERE &quot;user&quot;.name = :name_1</pre></div></div><p><span class="yiyi-st" id="yiyi-402"><a class="reference internal" href="#sqlalchemy.orm.query.Query.select_entity_from" title="sqlalchemy.orm.query.Query.select_entity_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_entity_from()</span></code></a>&#x4FDD;&#x6301;<a class="reference internal" href="#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_from()</span></code></a>&#x7684;&#x65E7;&#x884C;&#x4E3A;&#x3002;</span><span class="yiyi-st" id="yiyi-403">&#x5728;&#x73B0;&#x4EE3;&#x4F7F;&#x7528;&#x4E2D;&#xFF0C;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal"><span class="pre">aliased()</span></code></a>&#x4E5F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x7C7B;&#x4F3C;&#x7684;&#x7ED3;&#x679C;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">select_stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">User</span><span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">user_from_select</span> <span class="o">=</span> <span class="n">aliased</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">select_stmt</span><span class="o">.</span><span class="n">alias</span><span class="p">())</span>

<span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">user_from_select</span><span class="p">)</span></pre></div></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-404">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><span class="yiyi-st" id="yiyi-405"><span class="target" id="sqlalchemy.orm.query.Query.select_entity_from.params.from_obj"></span><strong>from_obj</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.select_entity_from.params.from_obj">&#xB6;</a> &#x2013; a <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal"><span class="pre">FromClause</span></code></a> object that will replace the FROM clause of this <a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>.</span></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-406">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-407"><a class="reference internal" href="#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_from()</span></code></a></span></p></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-408"><span class="versionmodified">0.8&#x7248;&#x65B0;&#x589E;&#xFF1A;</span> <a class="reference internal" href="#sqlalchemy.orm.query.Query.select_entity_from" title="sqlalchemy.orm.query.Query.select_entity_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_entity_from()</span></code></a>&#x88AB;&#x6DFB;&#x52A0;&#x6765;&#x6307;&#x5B9A;&#x5B9E;&#x4F53;&#x66FF;&#x6362;&#x7684;&#x5177;&#x4F53;&#x884C;&#x4E3A;&#xFF0C;&#x4F46;&#x662F;<a class="reference internal" href="#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_from()</span></code></a>&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x4EE5;&#x53CA;&#x76F4;&#x5230;0.9&#x3002;</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.select_from"><span class="yiyi-st" id="yiyi-409"><code class="descname"> select_from  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * from_obj  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.select_from" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-410">&#x663E;&#x5F0F;&#x5730;&#x8BBE;&#x7F6E;&#x8FD9;&#x4E2A;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x7684;FROM&#x5B50;&#x53E5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-411"><a class="reference internal" href="#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_from()</span></code></a> is often used in conjunction with <a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">Query.join()</span></code></a> in order to control which entity is selected from on the &#x201C;left&#x201D; side of the join.</span></p><p><span class="yiyi-st" id="yiyi-412">The entity or selectable object here effectively replaces the &#x201C;left edge&#x201D; of any calls to <a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a>, when no joinpoint is otherwise established - usually, the default &#x201C;join point&#x201D; is the leftmost entity in the <a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a> object&#x2019;s list of entities to be selected.</span></p><p><span class="yiyi-st" id="yiyi-413">&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Address</span><span class="p">)</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">addresses</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&apos;ed&apos;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-414">&#x5176;&#x4E2D;&#x751F;&#x6210;&#x7684;SQL&#x7B49;&#x540C;&#x4E8E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>SELECT address.* FROM user
JOIN address ON user.id=address.user_id
WHERE user.name = :name_1</pre></div></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-415">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><span class="yiyi-st" id="yiyi-416"><span class="target" id="sqlalchemy.orm.query.Query.select_from.params.*from_obj"></span> <strong>* from_obj</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.select_from.params.*from_obj">&#xB6;</a>  - &#x5E94;&#x7528;&#x4E8E;FROM&#x5B50;&#x53E5;&#x7684;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5B9E;&#x4F53;&#x7684;&#x96C6;&#x5408;&#x3002;</span><span class="yiyi-st" id="yiyi-417">&#x5B9E;&#x4F53;&#x53EF;&#x4EE5;&#x662F;&#x6620;&#x5C04;&#x7C7B;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal"><span class="pre">AliasedClass</span></code></a>&#x5BF9;&#x8C61;&#xFF0C;<a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper.Mapper" title="sqlalchemy.orm.mapper.Mapper"><code class="xref py py-class docutils literal"><span class="pre">Mapper</span></code></a>&#x5BF9;&#x8C61;&#x4EE5;&#x53CA;&#x50CF;&#x5B50;&#x67E5;&#x8BE2;&#x8FD9;&#x6837;&#x7684;&#x6838;&#x5FC3;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal"><span class="pre">FromClause</span></code></a>&#x5143;&#x7D20;&#x3002;</span></td></tr></tbody></table><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-418"><span class="versionmodified">&#x5728;&#x7248;&#x672C;0.9&#x4E2D;&#x66F4;&#x6539;&#xFF1A;</span>&#x6B64;&#x65B9;&#x6CD5;&#x4E0D;&#x518D;&#x5C06;&#x7ED9;&#x5B9A;&#x7684;FROM&#x5BF9;&#x8C61;&#x5E94;&#x7528;&#x4E8E;&#x5339;&#x914D;&#x5B9E;&#x4F53;&#x4ECE;&#x4E2D;&#x9009;&#x62E9;&#x7684;&#x53EF;&#x9009;&#x9879;&#xFF1B; <a class="reference internal" href="#sqlalchemy.orm.query.Query.select_entity_from" title="sqlalchemy.orm.query.Query.select_entity_from"><code class="xref py py-meth docutils literal"><span class="pre">select_entity_from()</span></code></a>&#x65B9;&#x6CD5;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x6B64;&#x64CD;&#x4F5C;&#x3002;</span><span class="yiyi-st" id="yiyi-419">&#x8BF7;&#x53C2;&#x9605;&#x8BE5;&#x65B9;&#x6CD5;&#x4EE5;&#x4E86;&#x89E3;&#x6B64;&#x884C;&#x4E3A;&#x7684;&#x8BF4;&#x660E;&#x3002;</span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-420">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-421"><a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">join()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-422"><a class="reference internal" href="#sqlalchemy.orm.query.Query.select_entity_from" title="sqlalchemy.orm.query.Query.select_entity_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_entity_from()</span></code></a></span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.orm.query.Query.selectable"><span class="yiyi-st" id="yiyi-423"><code class="descname">&#x53EF;&#x9009; T0&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.selectable" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-424">&#x8FD4;&#x56DE;&#x7531;&#x6B64;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x53D1;&#x51FA;&#x7684;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal"><span class="pre">Select</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-425">&#x7528;&#x4E8E;<a class="reference internal" href="core_inspection.html#sqlalchemy.inspection.inspect" title="sqlalchemy.inspection.inspect"><code class="xref py py-func docutils literal"><span class="pre">inspect()</span></code></a>&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x8FD9;&#x76F8;&#x5F53;&#x4E8E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">query</span><span class="o">.</span><span class="n">enable_eagerloads</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">with_labels</span><span class="p">()</span><span class="o">.</span><span class="n">statement</span></pre></div></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.slice"><span class="yiyi-st" id="yiyi-426"><code class="descname">&#x5207;&#x7247;</code> <span class="sig-paren">&#xFF08;</span> <em>&#x5F00;&#x59CB;</em>&#xFF0C;<em>&#x505C;&#x6B62;</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.query.Query.slice" title="Permalink to this definition"></a></span></dt><dd><p><span class="yiyi-st" id="yiyi-427">&#x8BA1;&#x7B97;&#x7531;&#x7ED9;&#x5B9A;&#x7D22;&#x5F15;&#x8868;&#x793A;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x7684;&#x201C;&#x7247;&#x6BB5;&#x201D;&#x5E76;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-428">&#x5F00;&#x59CB;&#x548C;&#x505C;&#x6B62;&#x7D22;&#x5F15;&#x7684;&#x884C;&#x4E3A;&#x4E0E;Python&#x5185;&#x7F6E;&#x7684;<code class="xref py py-func docutils literal"><span class="pre">range()</span></code>&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x7C7B;&#x4F3C;&#x3002;</span><span class="yiyi-st" id="yiyi-429">&#x6B64;&#x65B9;&#x6CD5;&#x63D0;&#x4F9B;&#x4E86;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">LIMIT</span></code> / <code class="docutils literal"><span class="pre">OFFSET</span></code>&#x6765;&#x83B7;&#x53D6;&#x67E5;&#x8BE2;&#x7247;&#x6BB5;&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-430">&#x4F8B;&#x5982;&#xFF0C;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-431">&#x5448;&#x73B0;&#x4E3A;</span></p><div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">users</span><span class="p">.</span><span class="n">id</span> <span class="k">AS</span> <span class="n">users_id</span><span class="p">,</span>
       <span class="n">users</span><span class="p">.</span><span class="n">name</span> <span class="k">AS</span> <span class="n">users_name</span>
<span class="k">FROM</span> <span class="n">users</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">users</span><span class="p">.</span><span class="n">id</span>
<span class="k">LIMIT</span> <span class="o">?</span> <span class="k">OFFSET</span> <span class="o">?</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span></pre></div></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-432">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-433"><a class="reference internal" href="#sqlalchemy.orm.query.Query.limit" title="sqlalchemy.orm.query.Query.limit"><code class="xref py py-meth docutils literal"><span class="pre">Query.limit()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-434"><a class="reference internal" href="#sqlalchemy.orm.query.Query.offset" title="sqlalchemy.orm.query.Query.offset"><code class="xref py py-meth docutils literal"><span class="pre">Query.offset()</span></code></a></span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.orm.query.Query.statement"><span class="yiyi-st" id="yiyi-435"><code class="descname">&#x8BED;&#x53E5; T0&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.statement" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-436">&#x6B64;Query&#x6240;&#x8868;&#x793A;&#x7684;&#x5B8C;&#x6574;SELECT&#x8BED;&#x53E5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-437">&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x58F0;&#x660E;&#x4E0D;&#x4F1A;&#x6D88;&#x9664;&#x5E94;&#x7528;&#x4E8E;&#x6784;&#x9020;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x9664;&#x975E;&#x9996;&#x5148;&#x8C03;&#x7528;with_labels&#xFF08;True&#xFF09;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.subquery"><span class="yiyi-st" id="yiyi-438"><code class="descname">subquery</code> <span class="sig-paren">&#xFF08;</span> <em>name = None</em>&#xFF0C;<em>with_labels = False</em>&#xFF0C;<em>reduce_columns = False</em> <span class="sig-paren">&#xFF09; T5&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.subquery" title="Permalink to this definition">&#xB6; T6&gt;</a></span></span></dt><dd><p><span class="yiyi-st" id="yiyi-439">&#x8FD4;&#x56DE;&#x5D4C;&#x5165;&#x5728;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal"><span class="pre">Alias</span></code></a>&#x4E2D;&#x7684;&#x7531;&#x6B64;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x8868;&#x793A;&#x7684;&#x5B8C;&#x6574;SELECT&#x8BED;&#x53E5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-440">&#x67E5;&#x8BE2;&#x4E2D;&#x7684;Eager JOIN&#x751F;&#x6210;&#x88AB;&#x7981;&#x7528;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-441">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-442"><span class="target" id="sqlalchemy.orm.query.Query.subquery.params.name"></span> <strong>name</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.subquery.params.name">&#xB6;</a>  - &#x8981;&#x6307;&#x5B9A;&#x4E3A;&#x522B;&#x540D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x540D;&#x79F0;&#xFF1B;&#x8FD9;&#x4F1A;&#x4F20;&#x9012;&#x7ED9;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal"><span class="pre">FromClause.alias()</span></code></a>&#x3002;</span><span class="yiyi-st" id="yiyi-443">&#x5982;&#x679C;<code class="docutils literal"><span class="pre">None</span></code>&#xFF0C;&#x5219;&#x4F1A;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x786E;&#x5B9A;&#x6027;&#x5730;&#x751F;&#x6210;&#x540D;&#x79F0;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-444"><span class="target" id="sqlalchemy.orm.query.Query.subquery.params.with_labels"></span><strong>with_labels</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.subquery.params.with_labels">&#xB6;</a> &#x2013; if True, <a class="reference internal" href="#sqlalchemy.orm.query.Query.with_labels" title="sqlalchemy.orm.query.Query.with_labels"><code class="xref py py-meth docutils literal"><span class="pre">with_labels()</span></code></a> will be called on the <a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a> first to apply table-qualified labels to all columns.</span></li><li><span class="yiyi-st" id="yiyi-447"><span class="target" id="sqlalchemy.orm.query.Query.subquery.params.reduce_columns"></span> <strong>reduce_columns</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.subquery.params.reduce_columns">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-445">if True, <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Select.reduce_columns" title="sqlalchemy.sql.expression.Select.reduce_columns"><code class="xref py py-meth docutils literal"><span class="pre">Select.reduce_columns()</span></code></a> will be called on the resulting <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a> construct, to remove same-named columns where one also refers to the other via foreign key or WHERE clause equivalence.</span></p><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-446"><span class="versionmodified">&#x5728;&#x7248;&#x672C;0.8&#x4E2D;&#x66F4;&#x6539;&#xFF1A;</span>&#x6DFB;&#x52A0;&#x4E86;<code class="docutils literal"><span class="pre">with_labels</span></code>&#x548C;<code class="docutils literal"><span class="pre">reduce_columns</span></code>&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x3002;</span></p></div></li></ul></td></tr></tbody></table></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.suffix_with"><span class="yiyi-st" id="yiyi-448"><code class="descname"> suffix_with  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> *&#x540E;&#x7F00; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.suffix_with" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-449">&#x5C06;&#x540E;&#x7F00;&#x5E94;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x5E76;&#x8FD4;&#x56DE;&#x65B0;&#x751F;&#x6210;&#x7684;<code class="docutils literal"><span class="pre">Query</span></code>&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-450">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><span class="yiyi-st" id="yiyi-451"><span class="target" id="sqlalchemy.orm.query.Query.suffix_with.params.*suffixes"></span> <strong>*&#x540E;&#x7F00;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.suffix_with.params.*suffixes">&#xB6;</a>  - &#x53EF;&#x9009;&#x540E;&#x7F00;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4E0D;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x9017;&#x53F7;&#x3002;</span></td></tr></tbody></table><div class="versionadded"><p><span class="yiyi-st" id="yiyi-452"><span class="versionmodified">&#x7248;&#x672C;1.0.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-453">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-454"><a class="reference internal" href="#sqlalchemy.orm.query.Query.prefix_with" title="sqlalchemy.orm.query.Query.prefix_with"><code class="xref py py-meth docutils literal"><span class="pre">Query.prefix_with()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-455"><a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.HasSuffixes.suffix_with" title="sqlalchemy.sql.expression.HasSuffixes.suffix_with"><code class="xref py py-meth docutils literal"><span class="pre">HasSuffixes.suffix_with()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.union"><span class="yiyi-st" id="yiyi-456"><code class="descname">&#x8054;&#x5408; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * Q  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.union" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-457">&#x6839;&#x636E;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x67E5;&#x8BE2;&#x751F;&#x6210;&#x6B64;&#x67E5;&#x8BE2;&#x7684;&#x4E00;&#x4E2A;UNION&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-458">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q1</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">SomeClass</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">SomeClass</span><span class="o">.</span><span class="n">foo</span><span class="o">==</span><span class="s1">&apos;bar&apos;</span><span class="p">)</span>
<span class="n">q2</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">SomeClass</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">SomeClass</span><span class="o">.</span><span class="n">bar</span><span class="o">==</span><span class="s1">&apos;foo&apos;</span><span class="p">)</span>

<span class="n">q3</span> <span class="o">=</span> <span class="n">q1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">q2</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-459">&#x8BE5;&#x65B9;&#x6CD5;&#x63A5;&#x53D7;&#x591A;&#x4E2A;Query&#x5BF9;&#x8C61;&#x4EE5;&#x63A7;&#x5236;&#x5D4C;&#x5957;&#x7684;&#x7EA7;&#x522B;&#x3002;</span><span class="yiyi-st" id="yiyi-460">&#x4E00;&#x7CFB;&#x5217;<code class="docutils literal"><span class="pre">union()</span></code>&#x8C03;&#x7528;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span></pre></div></div><p><span class="yiyi-st" id="yiyi-461">&#x5C06;&#x5D4C;&#x5957;&#x5728;&#x6BCF;&#x4E2A;<code class="docutils literal"><span class="pre">union()</span></code>&#x4E0A;&#xFF0C;&#x5E76;&#x751F;&#x6210;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>SELECT * FROM (SELECT * FROM (SELECT * FROM X UNION
                SELECT * FROM y) UNION SELECT * FROM Z)</pre></div></div><p><span class="yiyi-st" id="yiyi-462">&#x9274;&#x4E8E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span></pre></div></div><p><span class="yiyi-st" id="yiyi-463">&#x751F;&#x4EA7;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>SELECT * FROM (SELECT * FROM X UNION SELECT * FROM y UNION
                SELECT * FROM Z)</pre></div></div><p><span class="yiyi-st" id="yiyi-464">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8BB8;&#x591A;&#x6570;&#x636E;&#x5E93;&#x540E;&#x7AEF;&#x4E0D;&#x5141;&#x8BB8;&#x5728;UNION&#xFF0C;EXCEPT&#x7B49;&#x5185;&#x90E8;&#x8C03;&#x7528;&#x7684;&#x67E5;&#x8BE2;&#x4E0A;&#x5448;&#x73B0;ORDER BY&#x3002;</span><span class="yiyi-st" id="yiyi-465">&#x8981;&#x7981;&#x7528;&#x6240;&#x6709;ORDER BY&#x5B50;&#x53E5;&#xFF08;&#x5305;&#x62EC;&#x6620;&#x5C04;&#x5668;&#x4E0A;&#x914D;&#x7F6E;&#x7684;&#x5B50;&#x53E5;&#xFF09;&#xFF0C;&#x53D1;&#x51FA;<code class="docutils literal"><span class="pre">query.order_by(None)</span></code>  - &#x751F;&#x6210;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x4E0D;&#x4F1A;&#x5728;&#x5176;SELECT&#x8BED;&#x53E5;&#x4E2D;&#x5448;&#x73B0;ORDER BY&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.union_all"><span class="yiyi-st" id="yiyi-466"><code class="descname"> union_all  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * Q  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.union_all" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-467">&#x9488;&#x5BF9;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x67E5;&#x8BE2;&#x751F;&#x6210;&#x6B64;&#x67E5;&#x8BE2;&#x7684;UNION ALL&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-468">&#x4E0E;<a class="reference internal" href="#sqlalchemy.orm.query.Query.union" title="sqlalchemy.orm.query.Query.union"><code class="xref py py-meth docutils literal"><span class="pre">union()</span></code></a>&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x76F8;&#x540C;&#x3002;</span><span class="yiyi-st" id="yiyi-469">&#x67E5;&#x770B;&#x4F7F;&#x7528;&#x793A;&#x4F8B;&#x7684;&#x65B9;&#x6CD5;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.update"><span class="yiyi-st" id="yiyi-470"><code class="descname">&#x66F4;&#x65B0;</code> <span class="sig-paren">&#xFF08;</span> <em>&#x503C;</em>&#xFF0C;<em>synchronize_session =&apos;&#x8BC4;&#x4F30;&apos;</em>&#xFF0C;<em>update_args =&#x65E0;</em> <span class="sig-paren">&#xFF09; T5&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.update" title="Permalink to this definition">&#xB6; T6&gt;</a></span></span></dt><dd><p><span class="yiyi-st" id="yiyi-471">&#x6267;&#x884C;&#x6279;&#x91CF;&#x66F4;&#x65B0;&#x67E5;&#x8BE2;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-472">&#x66F4;&#x65B0;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x6B64;&#x67E5;&#x8BE2;&#x5339;&#x914D;&#x7684;&#x884C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-473">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">age</span> <span class="o">==</span> <span class="mi">25</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">update</span><span class="p">({</span><span class="n">User</span><span class="o">.</span><span class="n">age</span><span class="p">:</span> <span class="n">User</span><span class="o">.</span><span class="n">age</span> <span class="o">-</span> <span class="mi">10</span><span class="p">},</span> <span class="n">synchronize_session</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">age</span> <span class="o">==</span> <span class="mi">25</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">update</span><span class="p">({</span><span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="n">User</span><span class="o">.</span><span class="n">age</span> <span class="o">-</span> <span class="mi">10</span><span class="p">},</span> <span class="n">synchronize_session</span><span class="o">=</span><span class="s1">&apos;evaluate&apos;</span><span class="p">)</span></pre></div></div><div class="admonition warning"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-474">&#x8B66;&#x544A;</span></p><p class="last"><span class="yiyi-st" id="yiyi-475"><a class="reference internal" href="#sqlalchemy.orm.query.Query.update" title="sqlalchemy.orm.query.Query.update"><code class="xref py py-meth docutils literal"><span class="pre">Query.update()</span></code></a>&#x65B9;&#x6CD5;&#x662F;&#x4E00;&#x79CD;&#x201C;&#x6279;&#x91CF;&#x201D;&#x64CD;&#x4F5C;&#xFF0C;&#x7ED5;&#x8FC7;ORM&#x5DE5;&#x4F5C;&#x5355;&#x5143;&#x81EA;&#x52A8;&#x5316;&#xFF0C;&#x4EE5;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#x3002;</span><span class="yiyi-st" id="yiyi-476"><strong>&#x8BF7;&#x9605;&#x8BFB;&#x4E0B;&#x9762;&#x7684;&#x6240;&#x6709;&#x8B66;&#x544A;&#x548C;&#x8B66;&#x544A;&#x3002;</strong></span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-477">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first simple"><li><span class="yiyi-st" id="yiyi-481"><span class="target" id="sqlalchemy.orm.query.Query.update.params.values"></span> <strong>&#x503C;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.update.params.values">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-478">&#x4E00;&#x4E2A;&#x5E26;&#x6709;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x7684;&#x5B57;&#x5178;&#xFF0C;&#x6216;&#x8005;&#x6620;&#x5C04;&#x5C5E;&#x6027;&#x6216;SQL&#x8868;&#x8FBE;&#x5F0F;&#x4F5C;&#x4E3A;&#x952E;&#xFF0C;&#x5B57;&#x9762;&#x503C;&#x6216;sql&#x8868;&#x8FBE;&#x5F0F;&#x4F5C;&#x4E3A;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-479">&#x5982;&#x679C;&#x9700;&#x8981;<a class="reference internal" href="core_tutorial.html#updates-order-parameters"><span>parameter-ordered mode</span></a>&#xFF0C;&#x5219;&#x8FD9;&#x4E9B;&#x503C;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;2&#x5143;&#x7EC4;&#x5217;&#x8868;&#x4F20;&#x9012;&#xFF1B;&#x8FD9;&#x8981;&#x6C42;&#x5C06;<a class="reference internal" href="core_dml.html#sqlalchemy.sql.expression.update.params.preserve_parameter_order" title="sqlalchemy.sql.expression.update"><code class="xref py py-paramref docutils literal"><span class="pre">preserve_parameter_order</span></code></a>&#x6807;&#x5FD7;&#x4F20;&#x9012;&#x7ED9;<a class="reference internal" href="#sqlalchemy.orm.query.Query.update.params.update_args" title="sqlalchemy.orm.query.Query.update"><code class="xref py py-paramref docutils literal"><span class="pre">Query.update.update_args</span></code></a>&#x5B57;&#x5178;&#x3002;</span></p><blockquote><div><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-480"><span class="versionmodified">&#x7248;&#x672C;1.0.0&#x66F4;&#x6539;&#xFF1A;</span>  - &#x503C;&#x5B57;&#x5178;&#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x540D;&#x79F0;&#x73B0;&#x5728;&#x9488;&#x5BF9;&#x6620;&#x5C04;&#x7684;&#x5B9E;&#x4F53;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#xFF1B;&#x4EE5;&#x524D;&#xFF0C;&#x8FD9;&#x4E9B;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x4F5C;&#x4E3A;&#x6587;&#x5B57;&#x5217;&#x540D;&#x4F20;&#x9012;&#x7684;&#xFF0C;&#x6CA1;&#x6709;&#x6620;&#x5C04;&#x5668;&#x7EA7;&#x522B;&#x7684;&#x8F6C;&#x6362;&#x3002;</span></p></div></div></blockquote></li><li><span class="yiyi-st" id="yiyi-492"><span class="target" id="sqlalchemy.orm.query.Query.update.params.synchronize_session"></span> <strong>synchronize_session</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.update.params.synchronize_session">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-482">&#x9009;&#x62E9;&#x7B56;&#x7565;&#x6765;&#x66F4;&#x65B0;&#x4F1A;&#x8BDD;&#x4E2D;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-483">&#x6709;&#x6548;&#x503C;&#x662F;&#xFF1A;</span></p><blockquote><div><span class="yiyi-st" id="yiyi-489"><code class="docutils literal"><span class="pre">False</span></code>  - &#x4E0D;&#x8981;&#x540C;&#x6B65;&#x4F1A;&#x8BDD;&#x3002;</span><span class="yiyi-st" id="yiyi-490">&#x4E00;&#x65E6;&#x4F1A;&#x8BDD;&#x8FC7;&#x671F;&#xFF0C;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x662F;&#x6700;&#x9AD8;&#x6548;&#x548C;&#x53EF;&#x9760;&#x7684;&#xFF0C;&#x901A;&#x5E38;&#x5728;commit()&#x4E4B;&#x540E;&#x53D1;&#x751F;&#xFF0C;&#x6216;&#x8005;&#x660E;&#x786E;&#x5730;&#x4F7F;&#x7528;expire_all()&#x3002;</span><span class="yiyi-st" id="yiyi-491">&#x5728;&#x5230;&#x671F;&#x4E4B;&#x524D;&#xFF0C;&#x66F4;&#x65B0;&#x7684;&#x5BF9;&#x8C61;&#x53EF;&#x80FD;&#x4ECD;&#x7136;&#x4FDD;&#x7559;&#x5728;&#x4F1A;&#x8BDD;&#x4E2D;&#xFF0C;&#x5176;&#x5C5E;&#x6027;&#x4E0A;&#x7684;&#x9648;&#x65E7;&#x503C;&#x4F1A;&#x5BFC;&#x81F4;&#x6DF7;&#x6DC6;&#x7ED3;&#x679C;&#x3002;</span><p><span class="yiyi-st" id="yiyi-484"><code class="docutils literal"><span class="pre">&apos;fetch&apos;</span></code>  - &#x5728;&#x66F4;&#x65B0;&#x4E4B;&#x524D;&#x6267;&#x884C;&#x9009;&#x62E9;&#x67E5;&#x8BE2;&#x4EE5;&#x67E5;&#x627E;&#x4E0E;&#x66F4;&#x65B0;&#x67E5;&#x8BE2;&#x5339;&#x914D;&#x7684;&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-485">&#x5DF2;&#x66F4;&#x65B0;&#x7684;&#x5C5E;&#x6027;&#x5728;&#x5339;&#x914D;&#x7684;&#x5BF9;&#x8C61;&#x4E0A;&#x8FC7;&#x671F;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-486"><code class="docutils literal"><span class="pre">&apos;evaluate&apos;</span></code>  - &#x76F4;&#x63A5;&#x5728;&#x4F1A;&#x8BDD;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x4E2D;&#x8BC4;&#x4F30;Python&#x4E2D;&#x7684;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-487">&#x5982;&#x679C;&#x8BC4;&#x4F30;&#x6807;&#x51C6;&#x6CA1;&#x6709;&#x5B9E;&#x65BD;&#xFF0C;&#x5219;&#x4F1A;&#x5F15;&#x53D1;&#x4F8B;&#x5916;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-488">&#x8868;&#x8FBE;&#x5F0F;&#x6C42;&#x503C;&#x7A0B;&#x5E8F;&#x76EE;&#x524D;&#x6CA1;&#x6709;&#x8003;&#x8651;&#x6570;&#x636E;&#x5E93;&#x548C;Python&#x4E4B;&#x95F4;&#x7684;&#x4E0D;&#x540C;&#x5B57;&#x7B26;&#x4E32;&#x6574;&#x7406;&#x3002;</span></p></div></blockquote></li><li><span class="yiyi-st" id="yiyi-496"><span class="target" id="sqlalchemy.orm.query.Query.update.params.update_args"></span> <strong>update_args</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.update.params.update_args">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-493">&#x53EF;&#x9009;&#x5B57;&#x5178;&#xFF08;&#x5982;&#x679C;&#x5B58;&#x5728;&#xFF09;&#x5C06;&#x4F5C;&#x4E3A;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;<code class="docutils literal"><span class="pre">**kw</span></code>&#x4F20;&#x9012;&#x7ED9;&#x5E95;&#x5C42;&#x7684;<a class="reference internal" href="core_dml.html#sqlalchemy.sql.expression.update" title="sqlalchemy.sql.expression.update"><code class="xref py py-func docutils literal"><span class="pre">update()</span></code></a>&#x7ED3;&#x6784;&#x3002;</span><span class="yiyi-st" id="yiyi-494">&#x53EF;&#x7528;&#x4E8E;&#x4F20;&#x9012;&#x7279;&#x5B9A;&#x4E8E;&#x65B9;&#x8A00;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x5982;<code class="docutils literal"><span class="pre">mysql_limit</span></code>&#x4EE5;&#x53CA;&#x5176;&#x4ED6;&#x7279;&#x6B8A;&#x53C2;&#x6570;&#xFF0C;&#x5982;<a class="reference internal" href="core_dml.html#sqlalchemy.sql.expression.update.params.preserve_parameter_order" title="sqlalchemy.sql.expression.update"><code class="xref py py-paramref docutils literal"><span class="pre">preserve_parameter_order</span></code></a>&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-495"><span class="versionmodified">&#x7248;&#x672C;1.0.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></li></ul></td></tr><tr class="field-even field"><th class="field-name"><span class="yiyi-st" id="yiyi-497">&#x8FD4;&#x56DE;&#xFF1A;</span></th><td class="field-body"><p class="first last"><span class="yiyi-st" id="yiyi-498">&#x6570;&#x636E;&#x5E93;&#x7684;&#x201C;&#x884C;&#x6570;&#x201D;&#x529F;&#x80FD;&#x8FD4;&#x56DE;&#x7684;&#x884C;&#x6570;&#x76F8;&#x5339;&#x914D;&#x3002;</span></p></td></tr></tbody></table><div class="admonition warning"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-499">&#x8B66;&#x544A;</span></p><p><span class="yiyi-st" id="yiyi-500"><strong>&#x6279;&#x91CF;&#x67E5;&#x8BE2;&#x66F4;&#x65B0;&#x7684;&#x5176;&#x4ED6;&#x6CE8;&#x610F;&#x4E8B;&#x9879;</strong></span></p><ul class="last"><li><p class="first"><span class="yiyi-st" id="yiyi-501">The method does <strong>not</strong> offer in-Python cascading of relationships - it is assumed that ON UPDATE CASCADE is configured for any foreign key references which require it, otherwise the database may emit an integrity violation if foreign key references are being enforced.</span></p><p><span class="yiyi-st" id="yiyi-502">UPDATE&#x4E4B;&#x540E;&#xFF0C;&#x53D7;&#x5230;ON UPDATE CASCADE&#x5F71;&#x54CD;&#x7684;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x4E2D;&#x7684;&#x4F9D;&#x8D56;&#x5BF9;&#x8C61;&#x53EF;&#x80FD;&#x4E0D;&#x5305;&#x542B;&#x5F53;&#x524D;&#x72B6;&#x6001;&#xFF1B;&#x4E00;&#x65E6;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x8FC7;&#x671F;&#xFF08;&#x901A;&#x5E38;&#x53D1;&#x751F;&#x5728;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session.commit" title="sqlalchemy.orm.session.Session.commit"><code class="xref py py-meth docutils literal"><span class="pre">Session.commit()</span></code></a>&#x6216;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F7F;&#x7528;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session.expire_all" title="sqlalchemy.orm.session.Session.expire_all"><code class="xref py py-meth docutils literal"><span class="pre">Session.expire_all()</span></code></a> &gt;&#x3002;</span></p></li><li><p class="first"><span class="yiyi-st" id="yiyi-503"><code class="docutils literal"><span class="pre">&apos;fetch&apos;</span></code>&#x7B56;&#x7565;&#x4F1A;&#x5BFC;&#x81F4;&#x53D1;&#x51FA;&#x989D;&#x5916;&#x7684;SELECT&#x8BED;&#x53E5;&#xFF0C;&#x5E76;&#x4E14;&#x4F1A;&#x663E;&#x7740;&#x964D;&#x4F4E;&#x6027;&#x80FD;&#x3002;</span></p></li><li><p class="first"><span class="yiyi-st" id="yiyi-504">The <code class="docutils literal"><span class="pre">&apos;evaluate&apos;</span></code> strategy performs a scan of all matching objects within the <a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>; if the contents of the <a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> are expired, such as via a proceeding <a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session.commit" title="sqlalchemy.orm.session.Session.commit"><code class="xref py py-meth docutils literal"><span class="pre">Session.commit()</span></code></a> call, <strong>this will result in SELECT queries emitted for every matching object</strong>.</span></p></li><li><p class="first"><span class="yiyi-st" id="yiyi-505">&#x8BE5;&#x65B9;&#x6CD5;&#x652F;&#x6301;&#x591A;&#x8868;&#x66F4;&#x65B0;&#xFF0C;&#x8BE6;&#x89C1;<a class="reference internal" href="core_tutorial.html#multi-table-updates"><span>Multiple Table Updates</span></a>&#xFF0C;&#x5E76;&#x4E14;&#x6B64;&#x884C;&#x4E3A;&#x7684;&#x6269;&#x5C55;&#x652F;&#x6301;&#x5DF2;&#x52A0;&#x5165;&#x7EE7;&#x627F;&#x548C;&#x5176;&#x4ED6;&#x591A;&#x4E2A;&#x8868;&#x6620;&#x5C04;&#x7684;&#x66F4;&#x65B0;&#x3002;</span><span class="yiyi-st" id="yiyi-506">&#x4F46;&#x662F;&#xFF0C;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668;&#x7684;<strong>&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x5448;&#x73B0;</strong>&#x3002;</span><span class="yiyi-st" id="yiyi-507">&#x4EFB;&#x4F55;&#x591A;&#x8868;&#x66F4;&#x65B0;&#x90FD;&#x5FC5;&#x987B;&#x5C0F;&#x5FC3;&#xFF0C;&#x4EE5;&#x660E;&#x786E;&#x5305;&#x542B;&#x8FD9;&#x4E9B;&#x8868;&#x4E4B;&#x95F4;&#x7684;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#xFF0C;&#x5373;&#x4F7F;&#x5728;&#x901A;&#x5E38;&#x4E3A;&#x81EA;&#x52A8;&#x7684;&#x6620;&#x5C04;&#x4E2D;&#x4E5F;&#x662F;&#x5982;&#x6B64;&#x3002;</span><span class="yiyi-st" id="yiyi-508">&#x4F8B;&#x5982;&#x3002;&#x5982;&#x679C;&#x7C7B;<code class="docutils literal"><span class="pre">Engineer</span></code>&#x5B50;&#x7C7B;<code class="docutils literal"><span class="pre">Employee</span></code>&#xFF0C;&#x5219;&#x4F7F;&#x7528;&#x9488;&#x5BF9;<code class="docutils literal"><span class="pre">Employee</span></code>&#x672C;&#x5730;&#x8868;&#x7684;&#x6761;&#x4EF6;&#x5BF9;<code class="docutils literal"><span class="pre">Engineer</span></code>&#x672C;&#x5730;&#x8868;&#x8FDB;&#x884C;UPDATE&#x770B;&#x8D77;&#x6765;&#x50CF;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Engineer</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">filter</span><span class="p">(</span><span class="n">Engineer</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">Employee</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">filter</span><span class="p">(</span><span class="n">Employee</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&apos;dilbert&apos;</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">update</span><span class="p">({</span><span class="s2">&quot;engineer_type&quot;</span><span class="p">:</span> <span class="s2">&quot;programmer&quot;</span><span class="p">})</span></pre></div></div></li><li><p class="first"><span class="yiyi-st" id="yiyi-509"><a class="reference internal" href="events.html#sqlalchemy.orm.events.MapperEvents.before_update" title="sqlalchemy.orm.events.MapperEvents.before_update"><code class="xref py py-meth docutils literal"><span class="pre">MapperEvents.before_update()</span></code></a>&#x548C;<a class="reference internal" href="events.html#sqlalchemy.orm.events.MapperEvents.after_update" title="sqlalchemy.orm.events.MapperEvents.after_update"><code class="xref py py-meth docutils literal"><span class="pre">MapperEvents.after_update()</span></code></a>&#x4E8B;&#x4EF6;<strong>&#x4E0D;&#x4F1A;&#x4ECE;&#x6B64;&#x65B9;&#x6CD5;&#x8C03;&#x7528;</strong>&#x3002;</span><span class="yiyi-st" id="yiyi-510">&#x76F8;&#x53CD;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;<a class="reference internal" href="events.html#sqlalchemy.orm.events.SessionEvents.after_bulk_update" title="sqlalchemy.orm.events.SessionEvents.after_bulk_update"><code class="xref py py-meth docutils literal"><span class="pre">SessionEvents.after_bulk_update()</span></code></a>&#x65B9;&#x6CD5;&#x6765;&#x5BF9;&#x5B9E;&#x4F53;&#x884C;&#x7684;&#x6279;&#x91CF;&#x66F4;&#x65B0;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002;</span></p></li></ul></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-511">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-512"><a class="reference internal" href="#sqlalchemy.orm.query.Query.delete" title="sqlalchemy.orm.query.Query.delete"><code class="xref py py-meth docutils literal"><span class="pre">Query.delete()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-513"><a class="reference internal" href="core_tutorial.html#inserts-and-updates"><span>Inserts, Updates and Deletes</span></a>  - &#x6838;&#x5FC3;SQL&#x6559;&#x7A0B;</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.value"><span class="yiyi-st" id="yiyi-514"><code class="descname">&#x503C; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x5217; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.value" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-515">&#x8FD4;&#x56DE;&#x4E0E;&#x7ED9;&#x5B9A;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x6807;&#x91CF;&#x7ED3;&#x679C;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.values"><span class="yiyi-st" id="yiyi-516"><code class="descname">&#x503C; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> *&#x5217; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.values" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-517">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8FED;&#x4EE3;&#x5668;&#xFF0C;&#x4EA7;&#x751F;&#x4E0E;&#x5217;&#x7ED9;&#x5B9A;&#x5217;&#x8868;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x7ED3;&#x679C;&#x5143;&#x7EC4;</span></p></dd></dl><dl class="attribute"><dt id="sqlalchemy.orm.query.Query.whereclause"><span class="yiyi-st" id="yiyi-518"><code class="descname"> whereclause  T0&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.whereclause" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-519">readonly&#x5C5E;&#x6027;&#xFF0C;&#x5B83;&#x8FD4;&#x56DE;&#x6B64;&#x67E5;&#x8BE2;&#x7684;&#x5F53;&#x524D;WHERE&#x6807;&#x51C6;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-520">&#x8FD9;&#x4E2A;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x4E2A;SQL&#x8868;&#x8FBE;&#x5F0F;&#x7ED3;&#x6784;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5EFA;&#x7ACB;&#x6807;&#x51C6;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;<code class="docutils literal"><span class="pre">None</span></code>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.with_entities"><span class="yiyi-st" id="yiyi-521"><code class="descname"> with_entities  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> *&#x5B9E;&#x4F53; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.with_entities" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-522">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x66FF;&#x6362;&#x7ED9;&#x5B9A;&#x5B9E;&#x4F53;&#x7684;SELECT&#x5217;&#x8868;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-523">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Users, filtered on some arbitrary criterion</span>
<span class="c1"># and then ordered by related email address</span>
<span class="n">q</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span>\
            <span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">address</span><span class="p">)</span><span class="o">.</span>\
            <span class="nb">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s1">&apos;</span><span class="si">%e</span><span class="s1">d%&apos;</span><span class="p">))</span><span class="o">.</span>\
            <span class="n">order_by</span><span class="p">(</span><span class="n">Address</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>

<span class="c1"># given *only* User.id==5, Address.email, and &apos;q&apos;, what</span>
<span class="c1"># would the *next* User in the result be ?</span>
<span class="n">subq</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">with_entities</span><span class="p">(</span><span class="n">Address</span><span class="o">.</span><span class="n">email</span><span class="p">)</span><span class="o">.</span>\
            <span class="n">order_by</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span><span class="o">.</span>\
            <span class="nb">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">id</span><span class="o">==</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span>\
            <span class="n">subquery</span><span class="p">()</span>
<span class="n">q</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">subq</span><span class="p">,</span> <span class="n">subq</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">email</span> <span class="o">&lt;</span> <span class="n">Address</span><span class="o">.</span><span class="n">email</span><span class="p">))</span><span class="o">.</span>\
            <span class="n">limit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-524"><span class="versionmodified">&#x7248;&#x672C;0.6.5&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.with_for_update"><span class="yiyi-st" id="yiyi-525"> <code class="descname">with_for_update</code><span class="sig-paren">(</span><em>read=False</em>, <em>nowait=False</em>, <em>of=None</em>, <em>skip_locked=False</em>, <em>key_share=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.query.Query.with_for_update" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-526">&#x7528;<code class="docutils literal"><span class="pre">FOR</span> <span class="pre">UPDATE</span></code>&#x5B50;&#x53E5;&#x7684;&#x6307;&#x5B9A;&#x9009;&#x9879;&#x8FD4;&#x56DE;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-527">&#x6B64;&#x65B9;&#x6CD5;&#x7684;&#x884C;&#x4E3A;&#x4E0E;<code class="xref py py-meth docutils literal"><span class="pre">SelectBase.with_for_update()</span></code>&#x7684;&#x884C;&#x4E3A;&#x76F8;&#x540C;&#x3002;</span><span class="yiyi-st" id="yiyi-528">&#x5F53;&#x4E0D;&#x5E26;&#x53C2;&#x6570;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x7ED3;&#x679C;&#x7684;<code class="docutils literal"><span class="pre">SELECT</span></code>&#x8BED;&#x53E5;&#x5C06;&#x9644;&#x52A0;&#x4E00;&#x4E2A;<code class="docutils literal"><span class="pre">FOR</span> <span class="pre">UPDATE</span></code>&#x5B50;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-529">When additional arguments are specified, backend-specific options such as <code class="docutils literal"><span class="pre">FOR</span> <span class="pre">UPDATE</span> <span class="pre">NOWAIT</span></code> or <code class="docutils literal"><span class="pre">LOCK</span> <span class="pre">IN</span> <span class="pre">SHARE</span> <span class="pre">MODE</span></code> can take effect.</span></p><p><span class="yiyi-st" id="yiyi-530">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">with_for_update</span><span class="p">(</span><span class="n">nowait</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">of</span><span class="o">=</span><span class="n">User</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-531">&#x5728;Postgresql&#x540E;&#x7AEF;&#x7684;&#x4E0A;&#x8FF0;&#x67E5;&#x8BE2;&#x5C06;&#x5448;&#x73B0;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>SELECT users.id AS users_id FROM users FOR UPDATE OF users NOWAIT</pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-532"><span class="versionmodified">&#x7248;&#x672C;0.9.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;&#xFF1A;</span> <a class="reference internal" href="#sqlalchemy.orm.query.Query.with_for_update" title="sqlalchemy.orm.query.Query.with_for_update"><code class="xref py py-meth docutils literal"><span class="pre">Query.with_for_update()</span></code></a>&#x53D6;&#x4EE3;<a class="reference internal" href="#sqlalchemy.orm.query.Query.with_lockmode" title="sqlalchemy.orm.query.Query.with_lockmode"><code class="xref py py-meth docutils literal"><span class="pre">Query.with_lockmode()</span></code></a>&#x65B9;&#x6CD5;&#x3002;</span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-533">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-534"><a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.GenerativeSelect.with_for_update" title="sqlalchemy.sql.expression.GenerativeSelect.with_for_update"><code class="xref py py-meth docutils literal"><span class="pre">GenerativeSelect.with_for_update()</span></code></a> - Core level method with full argument and behavioral description.</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.with_hint"><span class="yiyi-st" id="yiyi-535"> <code class="descname">with_hint</code><span class="sig-paren">(</span><em>selectable</em>, <em>text</em>, <em>dialect_name=&apos;*&apos;</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.query.Query.with_hint" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-536">&#x4E3A;&#x7ED9;&#x5B9A;&#x5B9E;&#x4F53;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x6216;&#x5176;&#x4ED6;&#x6267;&#x884C;&#x4E0A;&#x4E0B;&#x6587;&#x63D0;&#x793A;&#xFF0C;&#x6216;&#x8005;&#x53EF;&#x9009;&#x62E9;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-537">&#x529F;&#x80FD;&#x76F4;&#x63A5;&#x4F20;&#x9012;&#x7ED9;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Select.with_hint" title="sqlalchemy.sql.expression.Select.with_hint"><code class="xref py py-meth docutils literal"><span class="pre">with_hint()</span></code></a>&#xFF0C;&#x5176;&#x4E2D;<code class="docutils literal"><span class="pre">selectable</span></code>&#x53EF;&#x4EE5;&#x662F;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#xFF0C;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal"><span class="pre">Alias</span></code></a>&#x6216;ORM&#x5B9E;&#x4F53;/&#x6620;&#x5C04;&#x7C7B;/&#x7B49;&#x7B49;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-538">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-539"><a class="reference internal" href="#sqlalchemy.orm.query.Query.with_statement_hint" title="sqlalchemy.orm.query.Query.with_statement_hint"><code class="xref py py-meth docutils literal"><span class="pre">Query.with_statement_hint()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.with_labels"><span class="yiyi-st" id="yiyi-540"><code class="descname"> with_labels  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.with_labels" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-541">&#x5C06;&#x5217;&#x6807;&#x7B7E;&#x5E94;&#x7528;&#x4E8E;Query.statement&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-542">&#x6307;&#x793A;&#x6B64;&#x67E5;&#x8BE2;&#x7684;<cite>&#x8BED;&#x53E5;</cite>&#x8BBF;&#x95EE;&#x5668;&#x5E94;&#x8BE5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;SELECT&#x8BED;&#x53E5;&#xFF0C;&#x8BE5;&#x8BED;&#x53E5;&#x5C06;&#x6807;&#x7B7E;&#x4EE5;<tablename>_ <columnname>&#x5F62;&#x5F0F;&#x5E94;&#x7528;&#x4E8E;&#x6240;&#x6709;&#x5217;&#xFF1B;&#x8FD9;&#x901A;&#x5E38;&#x7528;&#x4E8E;&#x6D88;&#x9664;&#x591A;&#x4E2A;&#x5177;&#x6709;&#x76F8;&#x540C;&#x540D;&#x79F0;&#x7684;&#x8868;&#x4E2D;&#x7684;&#x5217;&#x7684;&#x6B67;&#x4E49;&#x3002;</columnname></tablename></span></p><p><span class="yiyi-st" id="yiyi-543">&#x5F53;<cite>Query</cite>&#x5B9E;&#x9645;&#x53D1;&#x51FA;SQL&#x6765;&#x52A0;&#x8F7D;&#x884C;&#x65F6;&#xFF0C;&#x5B83;&#x603B;&#x662F;&#x4F7F;&#x7528;&#x5217;&#x6807;&#x7B7E;&#x3002;</span></p><div class="admonition note"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-544">&#x6CE8;&#x610F;</span></p><p><span class="yiyi-st" id="yiyi-545">&#x53EA;&#x6709;<a class="reference internal" href="#sqlalchemy.orm.query.Query.with_labels" title="sqlalchemy.orm.query.Query.with_labels"><code class="xref py py-meth docutils literal"><span class="pre">Query.with_labels()</span></code></a>&#x65B9;&#x6CD5;<em></em>&#x5C06;<a class="reference internal" href="#sqlalchemy.orm.query.Query.statement" title="sqlalchemy.orm.query.Query.statement"><code class="xref py py-attr docutils literal"><span class="pre">Query.statement</span></code></a>&#x548C;<em>&#x4E0D;</em>&#x7684;&#x8F93;&#x51FA;&#x5E94;&#x7528;&#x4E8E;&#x4EFB;&#x4F55;&#x7ED3;&#x679C;&#x884C;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x672C;&#x8EAB;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x4F8B;&#x5982;<a class="reference internal" href="#sqlalchemy.orm.query.Query.first" title="sqlalchemy.orm.query.Query.first"><code class="xref py py-meth docutils literal"><span class="pre">Query.first()</span></code></a>&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.query.Query.all" title="sqlalchemy.orm.query.Query.all"><code class="xref py py-meth docutils literal"><span class="pre">Query.all()</span></code></a>&#x7B49;</span><span class="yiyi-st" id="yiyi-546">To execute a query using <a class="reference internal" href="#sqlalchemy.orm.query.Query.with_labels" title="sqlalchemy.orm.query.Query.with_labels"><code class="xref py py-meth docutils literal"><span class="pre">Query.with_labels()</span></code></a>, invoke the <a class="reference internal" href="#sqlalchemy.orm.query.Query.statement" title="sqlalchemy.orm.query.Query.statement"><code class="xref py py-attr docutils literal"><span class="pre">Query.statement</span></code></a> using <a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session.execute" title="sqlalchemy.orm.session.Session.execute"><code class="xref py py-meth docutils literal"><span class="pre">Session.execute()</span></code></a>:</span></p><div class="last highlight-python"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">with_labels</span><span class="p">()</span><span class="o">.</span><span class="n">statement</span><span class="p">)</span></pre></div></div></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.with_lockmode"><span class="yiyi-st" id="yiyi-547"><code class="descname"> with_lockmode  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x6A21;&#x5F0F; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.with_lockmode" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-548">&#x4F7F;&#x7528;&#x6307;&#x5B9A;&#x7684;&#x201C;&#x9501;&#x5B9A;&#x6A21;&#x5F0F;&#x201D;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#xFF0C;&#x8BE5;&#x6A21;&#x5F0F;&#x5B9E;&#x8D28;&#x4E0A;&#x662F;&#x6307;<code class="docutils literal"><span class="pre">FOR</span> <span class="pre">UPDATE</span></code>&#x5B50;&#x53E5;&#x3002;</span></p><div class="deprecated"><p><span class="yiyi-st" id="yiyi-549"><span class="versionmodified">&#x4ECE;&#x7248;&#x672C;0.9.0&#x5F00;&#x59CB;&#x5F03;&#x7528;&#xFF1A;</span>&#x88AB;<a class="reference internal" href="#sqlalchemy.orm.query.Query.with_for_update" title="sqlalchemy.orm.query.Query.with_for_update"><code class="xref py py-meth docutils literal"><span class="pre">Query.with_for_update()</span></code></a>&#x53D6;&#x4EE3;&#x3002;</span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-550">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><span class="yiyi-st" id="yiyi-557"><span class="target" id="sqlalchemy.orm.query.Query.with_lockmode.params.mode"></span> <strong>&#x6A21;&#x5F0F;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Query.with_lockmode.params.mode">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-551">&#x4EE3;&#x8868;&#x6240;&#x9700;&#x9501;&#x5B9A;&#x6A21;&#x5F0F;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002;</span><span class="yiyi-st" id="yiyi-552">&#x6709;&#x6548;&#x503C;&#x662F;&#xFF1A;</span></p><ul class="simple"><li><span class="yiyi-st" id="yiyi-553"><code class="docutils literal"><span class="pre">None</span></code>  - &#x8F6C;&#x6362;&#x4E3A;&#x65E0;&#x9501;&#x6A21;&#x5F0F;</span></li><li><span class="yiyi-st" id="yiyi-554"><code class="docutils literal"><span class="pre">&apos;update&apos;</span></code> - translates to <code class="docutils literal"><span class="pre">FOR</span> <span class="pre">UPDATE</span></code> (standard SQL, supported by most dialects)</span></li><li><span class="yiyi-st" id="yiyi-555"><code class="docutils literal"><span class="pre">&apos;update_nowait&apos;</span></code> - translates to <code class="docutils literal"><span class="pre">FOR</span> <span class="pre">UPDATE</span> <span class="pre">NOWAIT</span></code> (supported by Oracle, PostgreSQL 8.1 upwards)</span></li><li><span class="yiyi-st" id="yiyi-556"><code class="docutils literal"><span class="pre">&apos;read&apos;</span></code> - translates to <code class="docutils literal"><span class="pre">LOCK</span> <span class="pre">IN</span> <span class="pre">SHARE</span> <span class="pre">MODE</span></code> (for MySQL), and <code class="docutils literal"><span class="pre">FOR</span> <span class="pre">SHARE</span></code> (for PostgreSQL)</span></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-558">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-559"><a class="reference internal" href="#sqlalchemy.orm.query.Query.with_for_update" title="sqlalchemy.orm.query.Query.with_for_update"><code class="xref py py-meth docutils literal"><span class="pre">Query.with_for_update()</span></code></a>  - &#x7528;&#x4E8E;&#x6307;&#x5B9A;<code class="docutils literal"><span class="pre">FOR</span> <span class="pre">UPDATE</span></code>&#x5B50;&#x53E5;&#x7684;&#x6539;&#x8FDB;&#x7684;API&#x3002;</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.with_parent"><span class="yiyi-st" id="yiyi-560"><code class="descname">with_parent</code> <span class="sig-paren">&#xFF08;</span> <em>&#x5B9E;&#x4F8B;</em>&#xFF0C;<em>&#x5C5E;&#x6027;=&#x65E0;</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.query.Query.with_parent" title="Permalink to this definition"> t5 &gt;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-561">&#x6DFB;&#x52A0;&#x8FC7;&#x6EE4;&#x6807;&#x51C6;&#xFF0C;&#x5C06;&#x7ED9;&#x5B9A;&#x5B9E;&#x4F8B;&#x4E0E;&#x5B50;&#x5BF9;&#x8C61;&#x6216;&#x96C6;&#x5408;&#x76F8;&#x5173;&#x8054;&#xFF0C;&#x4F7F;&#x7528;&#x5176;&#x5C5E;&#x6027;&#x72B6;&#x6001;&#x4EE5;&#x53CA;&#x5EFA;&#x7ACB;&#x7684;<a class="reference internal" href="relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal"><span class="pre">relationship()</span></code></a>&#x914D;&#x7F6E;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-562">&#x8BE5;&#x65B9;&#x6CD5;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.with_parent" title="sqlalchemy.orm.with_parent"><code class="xref py py-func docutils literal"><span class="pre">with_parent()</span></code></a>&#x51FD;&#x6570;&#x751F;&#x6210;&#x5B50;&#x53E5;&#xFF0C;&#x5176;&#x7ED3;&#x679C;&#x4F20;&#x9012;&#x7ED9;<a class="reference internal" href="#sqlalchemy.orm.query.Query.filter" title="sqlalchemy.orm.query.Query.filter"><code class="xref py py-meth docutils literal"><span class="pre">Query.filter()</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-563">&#x53C2;&#x6570;&#x4E0E;<a class="reference internal" href="#sqlalchemy.orm.with_parent" title="sqlalchemy.orm.with_parent"><code class="xref py py-func docutils literal"><span class="pre">with_parent()</span></code></a>&#x76F8;&#x540C;&#xFF0C;&#x53EA;&#x662F;&#x7ED9;&#x5B9A;&#x7684;&#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x662F;None&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5C06;&#x5BF9;&#x8BE5;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x76EE;&#x6807;&#x6620;&#x5C04;&#x5668;&#x6267;&#x884C;&#x641C;&#x7D22;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.with_polymorphic"><span class="yiyi-st" id="yiyi-564"><code class="descname">with_polymorphic</code> <span class="sig-paren">&#xFF08;</span> <em>cls_or_mappers</em>&#xFF0C;<em>selectable =&#x65E0;</em>&#xFF0C;<em>polymorphic_on =&#x65E0;</em> <span class="sig-paren">&#xFF09;  T5&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.with_polymorphic" title="Permalink to this definition">&#xB6; T6&gt;</a></span></span></dt><dd><p><span class="yiyi-st" id="yiyi-565">&#x52A0;&#x8F7D;&#x7528;&#x4E8E;&#x7EE7;&#x627F;&#x7C7B;&#x7684;&#x5217;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-566"><a class="reference internal" href="#sqlalchemy.orm.query.Query.with_polymorphic" title="sqlalchemy.orm.query.Query.with_polymorphic"><code class="xref py py-meth docutils literal"><span class="pre">Query.with_polymorphic()</span></code></a> applies transformations to the &#x201C;main&#x201D; mapped class represented by this <a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>. </span><span class="yiyi-st" id="yiyi-567">&#x8FD9;&#x91CC;&#x7684;&#x201C;main&#x201D;&#x6620;&#x5C04;&#x7C7B;&#x610F;&#x5473;&#x7740;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x7C7B;&#xFF0C;&#x5373;<code class="docutils literal"><span class="pre">session.query(SomeClass)</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-568">&#x8FD9;&#x4E9B;&#x8F6C;&#x6362;&#x5141;&#x8BB8;&#x5728;FROM&#x5B50;&#x53E5;&#x4E2D;&#x51FA;&#x73B0;&#x989D;&#x5916;&#x7684;&#x8868;&#xFF0C;&#x8FD9;&#x6837;&#x67E5;&#x8BE2;&#x4E2D;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8054;&#x5408;&#x7EE7;&#x627F;&#x5B50;&#x7C7B;&#x7684;&#x5217;&#xFF0C;&#x8FD9;&#x65E2;&#x662F;&#x4E3A;&#x4E86;&#x52A0;&#x8F7D;&#x65F6;&#x6548;&#x7387;&#xFF0C;&#x4E5F;&#x662F;&#x4E3A;&#x4E86;&#x5728;&#x67E5;&#x8BE2;&#x65F6;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x5217;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-569">&#x6709;&#x5173;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x6587;&#x6863;&#x90E8;&#x5206;<a class="reference internal" href="inheritance.html#with-polymorphic"><span>Basic Control of Which Tables are Queried</span></a>&#x3002;</span></p><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-570"><span class="versionmodified">Changed in version 0.8: </span>A new and more flexible function <a class="reference internal" href="inheritance.html#sqlalchemy.orm.with_polymorphic" title="sqlalchemy.orm.with_polymorphic"><code class="xref py py-func docutils literal"><span class="pre">orm.with_polymorphic()</span></code></a> supersedes <a class="reference internal" href="#sqlalchemy.orm.query.Query.with_polymorphic" title="sqlalchemy.orm.query.Query.with_polymorphic"><code class="xref py py-meth docutils literal"><span class="pre">Query.with_polymorphic()</span></code></a>, as it can apply the equivalent functionality to any set of columns or classes in the <a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>, not just the &#x201C;zero mapper&#x201D;. </span><span class="yiyi-st" id="yiyi-571">&#x8BF7;&#x53C2;&#x9605;&#x8BE5;&#x51FD;&#x6570;&#x4EE5;&#x83B7;&#x53D6;&#x53C2;&#x6570;&#x7684;&#x8BF4;&#x660E;&#x3002;</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.with_session"><span class="yiyi-st" id="yiyi-572"><code class="descname"> with_session  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x4F1A;&#x8BDD; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.with_session" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-573">&#x8FD4;&#x56DE;&#x5C06;&#x4F7F;&#x7528;&#x7ED9;&#x5B9A;<a class="reference internal" href="session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.with_statement_hint"><span class="yiyi-st" id="yiyi-574"> <code class="descname">with_statement_hint</code><span class="sig-paren">(</span><em>text</em>, <em>dialect_name=&apos;*&apos;</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.query.Query.with_statement_hint" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-575">&#x5411;&#x6B64;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal"><span class="pre">Select</span></code></a>&#x6DFB;&#x52A0;&#x8BED;&#x53E5;&#x63D0;&#x793A;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-576">&#x8BE5;&#x65B9;&#x6CD5;&#x7C7B;&#x4F3C;&#x4E8E;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Select.with_hint" title="sqlalchemy.sql.expression.Select.with_hint"><code class="xref py py-meth docutils literal"><span class="pre">Select.with_hint()</span></code></a>&#xFF0C;&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#x5B83;&#x4E0D;&#x9700;&#x8981;&#x5355;&#x72EC;&#x7684;&#x8868;&#x683C;&#xFF0C;&#x800C;&#x662F;&#x4F5C;&#x4E3A;&#x6574;&#x4F53;&#x5E94;&#x7528;&#x4E8E;&#x8BE5;&#x8BED;&#x53E5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-577">&#x8BE5;&#x529F;&#x80FD;&#x8C03;&#x7528;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Select.with_statement_hint" title="sqlalchemy.sql.expression.Select.with_statement_hint"><code class="xref py py-meth docutils literal"><span class="pre">Select.with_statement_hint()</span></code></a>&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-578"><span class="versionmodified">&#x7248;&#x672C;1.0.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-579">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-580"><a class="reference internal" href="#sqlalchemy.orm.query.Query.with_hint" title="sqlalchemy.orm.query.Query.with_hint"><code class="xref py py-meth docutils literal"><span class="pre">Query.with_hint()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.with_transformation"><span class="yiyi-st" id="yiyi-581"><code class="descname"> with_transformation  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> FN  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.with_transformation" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-582">&#x8FD4;&#x56DE;&#x7531;&#x7ED9;&#x5B9A;&#x51FD;&#x6570;&#x8F6C;&#x6362;&#x7684;&#x65B0;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-583">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">filter_something</span><span class="p">(</span><span class="n">criterion</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="n">q</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">q</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">criterion</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">transform</span>

<span class="n">q</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">with_transformation</span><span class="p">(</span><span class="n">filter_something</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="mi">5</span><span class="p">))</span></pre></div></div><p><span class="yiyi-st" id="yiyi-584">&#x8FD9;&#x5141;&#x8BB8;&#x4E3A;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x4E13;&#x95E8;&#x7684;&#x914D;&#x65B9;&#x3002;</span><span class="yiyi-st" id="yiyi-585">&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="extensions_hybrid.html#hybrid-transformers"><span>Building Transformers</span></a>&#x4E2D;&#x7684;&#x793A;&#x4F8B;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-586"><span class="versionmodified">New in version 0.7.4.</span></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Query.yield_per"><span class="yiyi-st" id="yiyi-587"><code class="descname"> yield_per  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x8BA1;&#x6570; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Query.yield_per" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-588">&#x4E00;&#x6B21;&#x53EA;&#x4EA7;&#x751F;<code class="docutils literal"><span class="pre">count</span></code>&#x884C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-589">&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x76EE;&#x7684;&#x662F;&#x5F53;&#x83B7;&#x53D6;&#x975E;&#x5E38;&#x5927;&#x7684;&#x7ED3;&#x679C;&#x96C6;&#xFF08;&gt; 10K&#x884C;&#xFF09;&#x65F6;&#xFF0C;&#x5728;&#x5B50;&#x96C6;&#x5408;&#x4E2D;&#x6279;&#x91CF;&#x7ED3;&#x679C;&#x5E76;&#x90E8;&#x5206;&#x751F;&#x6210;&#x7ED3;&#x679C;&#x96C6;&#xFF0C;&#x4EE5;&#x4FBF;Python&#x89E3;&#x91CA;&#x5668;&#x4E0D;&#x9700;&#x8981;&#x58F0;&#x660E;&#x975E;&#x5E38;&#x5927;&#x7684;&#x5185;&#x5B58;&#x533A;&#x57DF;&#xFF0C;&#x8017;&#x65F6;&#x5E76;&#x5BFC;&#x81F4;&#x8FC7;&#x5EA6;&#x4F7F;&#x7528;&#x5185;&#x5B58;&#x3002;</span><span class="yiyi-st" id="yiyi-590">&#x5F53;&#x4F7F;&#x7528;&#x5408;&#x9002;&#x7684;yield-per&#x8BBE;&#x7F6E;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x5927;&#x7EA6;1000&#xFF09;&#x65F6;&#xFF0C;&#x5373;&#x4F7F;&#x4F7F;&#x7528;&#x7F13;&#x51B2;&#x884C;&#xFF08;&#x6700;&#x591A;&#xFF09;&#x7684;DBAPI&#xFF0C;&#x4ECE;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x884C;&#x63D0;&#x53D6;&#x6570;&#x636E;&#x7684;&#x6027;&#x80FD;&#x901A;&#x5E38;&#x4E5F;&#x4F1A;&#x63D0;&#x9AD8;&#x4E00;&#x500D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-591"><a class="reference internal" href="#sqlalchemy.orm.query.Query.yield_per" title="sqlalchemy.orm.query.Query.yield_per"><code class="xref py py-meth docutils literal"><span class="pre">Query.yield_per()</span></code></a>&#x65B9;&#x6CD5;<strong>&#x4E0E;&#x5927;&#x591A;&#x6570;&#x70ED;&#x5207;&#x52A0;&#x8F7D;&#x65B9;&#x6848;&#xFF08;&#x5305;&#x62EC;&#x5B50;&#x67E5;&#x8BE2;&#x52A0;&#x8F7D;&#x548C;&#x96C6;&#x5408;&#x52A0;&#x8F7D;</strong>&#xFF09;&#x4E0D;&#x517C;&#x5BB9;&#x3002;</span><span class="yiyi-st" id="yiyi-592">&#x51FA;&#x4E8E;&#x8FD9;&#x4E2A;&#x539F;&#x56E0;&#xFF0C;&#x7981;&#x7528;&#x9884;&#x5148;&#x52A0;&#x8F7D;&#x53EF;&#x80FD;&#x662F;&#x6709;&#x5E2E;&#x52A9;&#x7684;&#xFF0C;&#x65E0;&#x8BBA;&#x662F;&#x65E0;&#x6761;&#x4EF6;&#x5730;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.enable_eagerloads" title="sqlalchemy.orm.query.Query.enable_eagerloads"><code class="xref py py-meth docutils literal"><span class="pre">Query.enable_eagerloads()</span></code></a>&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Object</span><span class="p">)</span><span class="o">.</span><span class="n">yield_per</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">enable_eagerloads</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-593">&#x6216;&#x8005;&#x66F4;&#x6709;&#x9009;&#x62E9;&#x5730;&#x4F7F;&#x7528;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.lazyload" title="sqlalchemy.orm.lazyload"><code class="xref py py-func docutils literal"><span class="pre">lazyload()</span></code></a>&#xFF1B;&#x4F8B;&#x5982;&#x7528;&#x661F;&#x53F7;&#x6765;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x7684;&#x52A0;&#x8F7D;&#x7A0B;&#x5E8F;&#x65B9;&#x6848;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">q</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Object</span><span class="p">)</span><span class="o">.</span><span class="n">yield_per</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">options</span><span class="p">(</span><span class="n">lazyload</span><span class="p">(</span><span class="s1">&apos;*&apos;</span><span class="p">),</span> <span class="n">joinedload</span><span class="p">(</span><span class="n">Object</span><span class="o">.</span><span class="n">some_related</span><span class="p">))</span></pre></div></div><div class="admonition warning"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-594">&#x8B66;&#x544A;</span></p><p><span class="yiyi-st" id="yiyi-595">&#x8C28;&#x614E;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#xFF1B;&#x5982;&#x679C;&#x540C;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x5B58;&#x5728;&#x4E8E;&#x591A;&#x4E2A;&#x6279;&#x6B21;&#x7684;&#x884C;&#x4E2D;&#xFF0C;&#x5219;&#x6700;&#x7EC8;&#x7528;&#x6237;&#x5BF9;&#x5C5E;&#x6027;&#x7684;&#x66F4;&#x6539;&#x5C06;&#x88AB;&#x8986;&#x76D6;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-596">&#x7279;&#x522B;&#x662F;&#xFF0C;&#x901A;&#x5E38;&#x4E0D;&#x53EF;&#x80FD;&#x5728;&#x6025;&#x5207;&#x52A0;&#x8F7D;&#x7684;&#x96C6;&#x5408;&#xFF08;&#x5373;&#x4EFB;&#x4F55;lazy =&apos;joined&apos;&#x6216;&apos;subquery&apos;&#xFF09;&#x4E2D;&#x4F7F;&#x7528;&#x6B64;&#x8BBE;&#x7F6E;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x540E;&#x7EED;&#x7ED3;&#x679C;&#x6279;&#x5904;&#x7406;&#x4E2D;&#x9047;&#x5230;&#x65B0;&#x96C6;&#x5408;&#x65F6;&#xFF0C;&#x8FD9;&#x4E9B;&#x96C6;&#x5408;&#x5C06;&#x88AB;&#x6E05;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-597">&#x5728;&#x52A0;&#x8F7D;&#x201C;&#x5B50;&#x67E5;&#x8BE2;&#x201D;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6240;&#x6709;&#x884C;&#x7684;&#x5B8C;&#x6574;&#x7ED3;&#x679C;&#x88AB;&#x53D6;&#x51FA;&#xFF0C;&#x8FD9;&#x901A;&#x5E38;&#x4F1A;&#x635F;&#x5BB3;<a class="reference internal" href="#sqlalchemy.orm.query.Query.yield_per" title="sqlalchemy.orm.query.Query.yield_per"><code class="xref py py-meth docutils literal"><span class="pre">yield_per()</span></code></a>&#x7684;&#x7528;&#x9014;&#x3002;</span></p><p class="last"><span class="yiyi-st" id="yiyi-598">Also note that while <a class="reference internal" href="#sqlalchemy.orm.query.Query.yield_per" title="sqlalchemy.orm.query.Query.yield_per"><code class="xref py py-meth docutils literal"><span class="pre">yield_per()</span></code></a> will set the <code class="docutils literal"><span class="pre">stream_results</span></code> execution option to True, currently this is only understood by <a class="reference internal" href="dialects_postgresql.html#module-sqlalchemy.dialects.postgresql.psycopg2" title="sqlalchemy.dialects.postgresql.psycopg2"><code class="xref py py-mod docutils literal"><span class="pre">psycopg2</span></code></a> dialect which will stream results using server side cursors instead of pre-buffer all rows for this query. </span><span class="yiyi-st" id="yiyi-599">&#x5176;&#x4ED6;DBAPI <strong>&#x5728;&#x4F7F;&#x5176;&#x53EF;&#x7528;&#x4E4B;&#x524D;&#x9884;&#x7F13;&#x51B2;&#x6240;&#x6709;&#x884C;</strong>&#x3002;</span><span class="yiyi-st" id="yiyi-600">&#x539F;&#x59CB;&#x6570;&#x636E;&#x5E93;&#x884C;&#x7684;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x91CF;&#x8FDC;&#x5C0F;&#x4E8E;ORM&#x6620;&#x5C04;&#x5BF9;&#x8C61;&#x7684;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x91CF;&#xFF0C;&#x4F46;&#x5728;&#x8FDB;&#x884C;&#x57FA;&#x51C6;&#x6D4B;&#x8BD5;&#x65F6;&#x5E94;&#x8BE5;&#x5C06;&#x5176;&#x8003;&#x8651;&#x5728;&#x5185;&#x3002;</span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-601">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-602"><a class="reference internal" href="#sqlalchemy.orm.query.Query.enable_eagerloads" title="sqlalchemy.orm.query.Query.enable_eagerloads"><code class="xref py py-meth docutils literal"><span class="pre">Query.enable_eagerloads()</span></code></a></span></p></div></dd></dl></dd></dl></div><div class="section" id="orm-specific-query-constructs"><h2><span class="yiyi-st" id="yiyi-603">&#x7279;&#x5B9A;&#x4E8E;ORM&#x7684;&#x67E5;&#x8BE2;&#x6784;&#x9020;<a class="headerlink" href="#orm-specific-query-constructs" title="Permalink to this headline">&#xB6;</a></span></h2><dl class="function"><dt id="sqlalchemy.orm.aliased"><span class="yiyi-st" id="yiyi-604"> <code class="descclassname">sqlalchemy.orm.</code><code class="descname">aliased</code><span class="sig-paren">(</span><em>element</em>, <em>alias=None</em>, <em>name=None</em>, <em>flat=False</em>, <em>adapt_on_names=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.aliased" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-605">&#x751F;&#x6210;&#x7ED9;&#x5B9A;&#x5143;&#x7D20;&#x7684;&#x522B;&#x540D;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x4E00;&#x4E2A;<a class="reference internal" href="#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal"><span class="pre">AliasedClass</span></code></a>&#x5B9E;&#x4F8B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-606">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">my_alias</span> <span class="o">=</span> <span class="n">aliased</span><span class="p">(</span><span class="n">MyClass</span><span class="p">)</span>

<span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">MyClass</span><span class="p">,</span> <span class="n">my_alias</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">MyClass</span><span class="o">.</span><span class="n">id</span> <span class="o">&gt;</span> <span class="n">my_alias</span><span class="o">.</span><span class="n">id</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-607"><a class="reference internal" href="#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal"><span class="pre">aliased()</span></code></a>&#x51FD;&#x6570;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x6620;&#x5C04;&#x7C7B;&#x5230;&#x65B0;&#x9009;&#x62E9;&#x5BF9;&#x8C61;&#x7684;&#x4E34;&#x65F6;&#x6620;&#x5C04;&#x3002;</span><span class="yiyi-st" id="yiyi-608">&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F7F;&#x7528;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal"><span class="pre">FromClause.alias()</span></code></a>&#x65B9;&#x6CD5;&#x4ECE;&#x53EF;&#x6B63;&#x5E38;&#x6620;&#x5C04;&#x7684;&#x53EF;&#x9009;&#x9879;&#xFF08;&#x901A;&#x5E38;&#x4E3A;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#xFF09;&#x751F;&#x6210;&#x53EF;&#x9009;&#x9879;&#x3002;</span><span class="yiyi-st" id="yiyi-609">&#x4F46;&#x662F;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal"><span class="pre">aliased()</span></code></a>&#x5C06;&#x8BE5;&#x7C7B;&#x94FE;&#x63A5;&#x5230;&#x65B0;&#x7684;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-610">&#x6B64;&#x5916;&#xFF0C;<a class="reference internal" href="inheritance.html#sqlalchemy.orm.with_polymorphic" title="sqlalchemy.orm.with_polymorphic"><code class="xref py py-func docutils literal"><span class="pre">with_polymorphic()</span></code></a>&#x51FD;&#x6570;&#x662F;<a class="reference internal" href="#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal"><span class="pre">aliased()</span></code></a>&#x7684;&#x4E00;&#x4E2A;&#x53D8;&#x4F53;&#xFF0C;&#x65E8;&#x5728;&#x6307;&#x5B9A;&#x6240;&#x8C13;&#x7684;&#x201C;&#x591A;&#x6001;&#x53EF;&#x9009;&#x201D;&#xFF0C;&#x5B83;&#x5BF9;&#x5E94;&#x4E8E;&#x591A;&#x4E2A;&#x8054;&#x5408;&#x7684;&#x8054;&#x5408; - &#x4E00;&#x6B21;&#x6027;&#x7EE7;&#x627F;&#x5B50;&#x7C7B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-611">&#x4E3A;&#x65B9;&#x4FBF;&#x8D77;&#x89C1;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal"><span class="pre">aliased()</span></code></a>&#x51FD;&#x6570;&#x8FD8;&#x63A5;&#x53D7;&#x666E;&#x901A;&#x7684;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal"><span class="pre">FromClause</span></code></a>&#x7ED3;&#x6784;&#xFF0C;&#x5982;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x6216;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>&#x6784;&#x9020;&#x3002;</span><span class="yiyi-st" id="yiyi-612">&#x5728;&#x8FD9;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5C06;&#x5728;&#x5BF9;&#x8C61;&#x4E0A;&#x8C03;&#x7528;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal"><span class="pre">FromClause.alias()</span></code></a>&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x65B0;&#x7684;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal"><span class="pre">Alias</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-613">&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal"><span class="pre">Alias</span></code></a>&#x4E0D;&#x662F;ORM&#x6620;&#x5C04;&#x7684;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-614">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-615"><span class="target" id="sqlalchemy.orm.aliased.params.element"></span> <strong>&#x5143;&#x7D20;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.aliased.params.element">&#xB6;</a>  - &#x5143;&#x7D20;&#x4E3A;&#x522B;&#x540D;&#x3002;</span><span class="yiyi-st" id="yiyi-616">&#x901A;&#x5E38;&#x662F;&#x4E00;&#x4E2A;&#x6620;&#x5C04;&#x7C7B;&#xFF0C;&#x4F46;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x8D77;&#x89C1;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal"><span class="pre">FromClause</span></code></a>&#x5143;&#x7D20;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-617"><span class="target" id="sqlalchemy.orm.aliased.params.alias"></span> <strong>&#x522B;&#x540D;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.aliased.params.alias">&#xB6;</a>  - &#x53EF;&#x9009;&#x53EF;&#x9009;&#x5355;&#x5143;&#x4EE5;&#x5C06;&#x5143;&#x7D20;&#x6620;&#x5C04;&#x5230;&#x3002;</span><span class="yiyi-st" id="yiyi-618">This should normally be a <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal"><span class="pre">Alias</span></code></a> object corresponding to the <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> to which the class is mapped, or to a <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a> construct that is compatible with the mapping. </span><span class="yiyi-st" id="yiyi-619">&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F1A;&#x751F;&#x6210;&#x6620;&#x5C04;&#x8868;&#x7684;&#x7B80;&#x5355;&#x533F;&#x540D;&#x522B;&#x540D;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-620"><span class="target" id="sqlalchemy.orm.aliased.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.aliased.params.name">&#xB6;</a> &#x2013; optional string name to use for the alias, if not specified by the <code class="docutils literal"><span class="pre">alias</span></code> parameter. </span><span class="yiyi-st" id="yiyi-621">&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x8BE5;&#x540D;&#x79F0;&#x6784;&#x6210;&#x4E86;&#x53EF;&#x901A;&#x8FC7;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x8FD4;&#x56DE;&#x7684;&#x5143;&#x7EC4;&#x8BBF;&#x95EE;&#x7684;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-628"><span class="target" id="sqlalchemy.orm.aliased.params.flat"></span> <strong>flat</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.aliased.params.flat">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-622">&#x5E03;&#x5C14;&#x503C;&#x5C06;&#x4F20;&#x9012;&#x7ED9;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal"><span class="pre">FromClause.alias()</span></code></a>&#x8C03;&#x7528;&#xFF0C;&#x4EE5;&#x4FBF;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal"><span class="pre">Join</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x522B;&#x540D;&#x4E0D;&#x5305;&#x542B;&#x5C01;&#x95ED;&#x7684;SELECT&#x3002;</span><span class="yiyi-st" id="yiyi-623">&#x8FD9;&#x53EF;&#x4EE5;&#x5728;&#x8BB8;&#x591A;&#x60C5;&#x51B5;&#x4E0B;&#x5BFC;&#x81F4;&#x66F4;&#x9AD8;&#x6548;&#x7684;&#x67E5;&#x8BE2;&#x3002;</span><span class="yiyi-st" id="yiyi-624">&#x9488;&#x5BF9;&#x5D4C;&#x5957;JOIN&#x7684;JOIN&#x5C06;&#x88AB;&#x91CD;&#x5199;&#x4E3A;&#x9488;&#x5BF9;&#x4E0D;&#x652F;&#x6301;&#x6B64;&#x8BED;&#x6CD5;&#x7684;&#x540E;&#x7AEF;&#x4E0A;&#x7684;&#x522B;&#x540D;SELECT&#x5B50;&#x67E5;&#x8BE2;&#x7684;JOIN&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-625"><span class="versionmodified">&#x7248;&#x672C;0.9.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-626">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-627"><a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Join.alias" title="sqlalchemy.sql.expression.Join.alias"><code class="xref py py-meth docutils literal"><span class="pre">Join.alias()</span></code></a></span></p></div></li><li><span class="yiyi-st" id="yiyi-634"><span class="target" id="sqlalchemy.orm.aliased.params.adapt_on_names"></span> <strong>adapt_on_names</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.aliased.params.adapt_on_names">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-629">&#x5982;&#x679C;&#x4E3A;True&#xFF0C;&#x5219;&#x5728;&#x5C06;ORM&#x5B9E;&#x4F53;&#x7684;&#x6620;&#x5C04;&#x5217;&#x6620;&#x5C04;&#x5230;&#x7ED9;&#x5B9A;&#x53EF;&#x9009;&#x5217;&#x8868;&#x7684;&#x6620;&#x5C04;&#x5217;&#x65F6;&#x5C06;&#x4F7F;&#x7528;&#x66F4;&#x81EA;&#x7531;&#x7684;&#x201C;&#x5339;&#x914D;&#x201D; - &#x5982;&#x679C;&#x7ED9;&#x5B9A;&#x53EF;&#x9009;&#x5217;&#x4E0D;&#x5177;&#x6709;&#x4E0E;&#x4E00;&#x4E2A;&#x5217;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x5217;&#xFF0C;&#x5219;&#x5C06;&#x6267;&#x884C;&#x57FA;&#x4E8E;&#x540D;&#x79F0;&#x7684;&#x5339;&#x914D;&#x5728;&#x5B9E;&#x4F53;&#x4E0A;&#x3002;</span><span class="yiyi-st" id="yiyi-630">&#x8FD9;&#x4E2A;&#x7528;&#x4F8B;&#x5C31;&#x662F;&#x5C06;&#x4E00;&#x4E2A;&#x5B9E;&#x4F53;&#x4E0E;&#x67D0;&#x4E9B;&#x6D3E;&#x751F;&#x53EF;&#x9009;&#x9879;&#xFF08;&#x4F8B;&#x5982;&#x4F7F;&#x7528;&#x96C6;&#x5408;&#x51FD;&#x6570;&#x7684;&#x5B9E;&#x4F53;&#xFF09;&#x76F8;&#x5173;&#x8054;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">UnitPrice</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&apos;unit_price&apos;</span>
    <span class="o">...</span>
    <span class="n">unit_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span>
    <span class="n">price</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Numeric</span><span class="p">)</span>

<span class="n">aggregated_unit_price</span> <span class="o">=</span> <span class="n">Session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">UnitPrice</span><span class="o">.</span><span class="n">price</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&apos;price&apos;</span><span class="p">)</span>
                        <span class="p">)</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">UnitPrice</span><span class="o">.</span><span class="n">unit_id</span><span class="p">)</span><span class="o">.</span><span class="n">subquery</span><span class="p">()</span>

<span class="n">aggregated_unit_price</span> <span class="o">=</span> <span class="n">aliased</span><span class="p">(</span><span class="n">UnitPrice</span><span class="p">,</span>
            <span class="n">alias</span><span class="o">=</span><span class="n">aggregated_unit_price</span><span class="p">,</span> <span class="n">adapt_on_names</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-631">&#x4EE5;&#x4E0A;&#xFF0C;&#x5F15;&#x7528;<code class="docutils literal"><span class="pre">.price</span></code>&#x7684;<code class="docutils literal"><span class="pre">aggregated_unit_price</span></code>&#x4E0A;&#x7684;&#x51FD;&#x6570;&#x5C06;&#x8FD4;&#x56DE;<code class="docutils literal"><span class="pre">fund.sum(UnitPrice.price).label(&apos;price&apos;)</span></code>&#x5217;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4E0E;&#x540D;&#x79F0;&#x201C;&#x4EF7;&#x683C;&#x201D;&#x76F8;&#x5339;&#x914D;&#x3002;</span><span class="yiyi-st" id="yiyi-632">&#x901A;&#x5E38;&#xFF0C;&#x201C;&#x4EF7;&#x683C;&#x201D;&#x51FD;&#x6570;&#x4E0E;&#x5B9E;&#x9645;&#x7684;<code class="docutils literal"><span class="pre">UnitPrice.price</span></code>&#x5217;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x201C;&#x5217;&#x5BF9;&#x5E94;&#x201D;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4E0D;&#x662F;&#x539F;&#x59CB;&#x4EE3;&#x7406;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-633"><span class="versionmodified">New in version 0.7.3.</span></span></p></div></li></ul></td></tr></tbody></table></dd></dl><dl class="class"><dt id="sqlalchemy.orm.util.AliasedClass"><span class="yiyi-st" id="yiyi-635"><em class="property">class</em> <code class="descclassname">sqlalchemy.orm.util&#x3002;</code> <code class="descname">AliasedClass</code> <span class="sig-paren">&#xFF08;</span> <em>cls</em>&#xFF0C;<em>&#x522B;&#x540D;= None</em>&#xFF0C;<em>name = None</em>&#xFF0C;<em>flat = False</em>&#xFF0C;<em>adapt_on_names = False</em>&#xFF0C;<em>with_polymorphic_mappers =() t9 &gt;&#xFF0C;<em>with_polymorphic_discriminator = None</em>&#xFF0C;<em>base_alias = None</em>&#xFF0C;<em>use_mapper_path = False</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.util.AliasedClass" title="Permalink to this definition"></a></em></span></dt><dd><p><span class="yiyi-st" id="yiyi-636">&#x8868;&#x793A;&#x7528;&#x4E8E;Query&#x7684;&#x6620;&#x5C04;&#x7C7B;&#x7684;&#x201C;&#x522B;&#x540D;&#x201D;&#x5F62;&#x5F0F;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-637">&#x8BE5;&#x5BF9;&#x8C61;&#x662F;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.alias" title="sqlalchemy.sql.expression.alias"><code class="xref py py-func docutils literal"><span class="pre">sqlalchemy.sql.expression.alias()</span></code></a>&#x6784;&#x9020;&#x7684;ORM&#x7B49;&#x4EF7;&#x7269;&#xFF0C;&#x5B83;&#x4F7F;&#x7528;__getattr__&#x65B9;&#x6848;&#x6A21;&#x4EFF;&#x6620;&#x5C04;&#x7C7B;&#x5E76;&#x7EF4;&#x62A4;&#x5BF9;&#x771F;&#x5B9E;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal"><span class="pre">Alias</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x5F15;&#x7528;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-638">&#x7528;&#x6CD5;&#x662F;&#x901A;&#x8FC7;<a class="reference internal" href="#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal"><span class="pre">orm.aliased()</span></code></a>&#x51FD;&#x6570;&#xFF0C;&#x6216;&#x8005;&#x901A;&#x8FC7;<a class="reference internal" href="inheritance.html#sqlalchemy.orm.with_polymorphic" title="sqlalchemy.orm.with_polymorphic"><code class="xref py py-func docutils literal"><span class="pre">orm.with_polymorphic()</span></code></a>&#x51FD;&#x6570;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-639">&#x7528;&#x6CD5;&#x793A;&#x4F8B;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># find all pairs of users with the same name</span>
<span class="n">user_alias</span> <span class="o">=</span> <span class="n">aliased</span><span class="p">(</span><span class="n">User</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">user_alias</span><span class="p">)</span><span class="o">.</span>\
                <span class="n">join</span><span class="p">((</span><span class="n">user_alias</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">id</span> <span class="o">&gt;</span> <span class="n">user_alias</span><span class="o">.</span><span class="n">id</span><span class="p">))</span><span class="o">.</span>\
                <span class="nb">filter</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="o">==</span><span class="n">user_alias</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-640">&#x7ED3;&#x679C;&#x5BF9;&#x8C61;&#x662F;<a class="reference internal" href="#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal"><span class="pre">AliasedClass</span></code></a>&#x7684;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x3002;</span><span class="yiyi-st" id="yiyi-641">&#x8BE5;&#x5BF9;&#x8C61;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x65B9;&#x6848;&#xFF0C;&#x8BE5;&#x65B9;&#x6848;&#x4EA7;&#x751F;&#x4E0E;&#x539F;&#x59CB;&#x6620;&#x5C04;&#x7C7B;&#x76F8;&#x540C;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;&#x63A5;&#x53E3;&#xFF0C;&#x5141;&#x8BB8;<a class="reference internal" href="#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal"><span class="pre">AliasedClass</span></code></a>&#x4E0E;&#x539F;&#x59CB;&#x7C7B;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x5C5E;&#x6027;&#x6280;&#x672F;&#x517C;&#x5BB9;&#xFF0C;&#x5305;&#x62EC;&#x6DF7;&#x5408;&#x5C5E;&#x6027;&#xFF08;&#x53C2;&#x89C1;<a class="reference internal" href="extensions_hybrid.html"><span>Hybrid Attributes</span></a>&#xFF09;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-642">&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<a class="reference internal" href="core_inspection.html#sqlalchemy.inspection.inspect" title="sqlalchemy.inspection.inspect"><code class="xref py py-func docutils literal"><span class="pre">inspect()</span></code></a>&#x68C0;&#x67E5;<a class="reference internal" href="#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal"><span class="pre">AliasedClass</span></code></a>&#x7684;&#x5E95;&#x5C42;<a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper.Mapper" title="sqlalchemy.orm.mapper.Mapper"><code class="xref py py-class docutils literal"><span class="pre">Mapper</span></code></a>&#xFF0C;&#x522B;&#x540D;&#x53EF;&#x9009;&#x548C;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">inspect</span>
<span class="n">my_alias</span> <span class="o">=</span> <span class="n">aliased</span><span class="p">(</span><span class="n">MyClass</span><span class="p">)</span>
<span class="n">insp</span> <span class="o">=</span> <span class="n">inspect</span><span class="p">(</span><span class="n">my_alias</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-643">&#x5F97;&#x5230;&#x7684;&#x68C0;&#x67E5;&#x5BF9;&#x8C61;&#x662F;<a class="reference internal" href="#sqlalchemy.orm.util.AliasedInsp" title="sqlalchemy.orm.util.AliasedInsp"><code class="xref py py-class docutils literal"><span class="pre">AliasedInsp</span></code></a>&#x7684;&#x5B9E;&#x4F8B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-644">&#x6709;&#x5173;&#x6784;&#x9020;&#x53C2;&#x6570;&#x7684;&#x63CF;&#x8FF0;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal"><span class="pre">aliased()</span></code></a>&#x548C;<a class="reference internal" href="inheritance.html#sqlalchemy.orm.with_polymorphic" title="sqlalchemy.orm.with_polymorphic"><code class="xref py py-func docutils literal"><span class="pre">with_polymorphic()</span></code></a>&#x3002;</span></p></dd></dl><dl class="class"><dt id="sqlalchemy.orm.util.AliasedInsp"><span class="yiyi-st" id="yiyi-645"> <em class="property">class </em><code class="descclassname">sqlalchemy.orm.util.</code><code class="descname">AliasedInsp</code><span class="sig-paren">(</span><em>entity</em>, <em>mapper</em>, <em>selectable</em>, <em>name</em>, <em>with_polymorphic_mappers</em>, <em>polymorphic_on</em>, <em>_base_alias</em>, <em>_use_mapper_path</em>, <em>adapt_on_names</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.util.AliasedInsp" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-646">&#x57FA;&#x7840;&#xFF1A;<a class="reference internal" href="internals.html#sqlalchemy.orm.base.InspectionAttr" title="sqlalchemy.orm.base.InspectionAttr"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.orm.base.InspectionAttr</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-647">&#x4E3A;<a class="reference internal" href="#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal"><span class="pre">AliasedClass</span></code></a>&#x5BF9;&#x8C61;&#x63D0;&#x4F9B;&#x68C0;&#x67E5;&#x754C;&#x9762;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-648">&#x7ED9;<a class="reference internal" href="#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal"><span class="pre">AliasedClass</span></code></a>&#x4F7F;&#x7528;<a class="reference internal" href="core_inspection.html#sqlalchemy.inspection.inspect" title="sqlalchemy.inspection.inspect"><code class="xref py py-func docutils literal"><span class="pre">inspect()</span></code></a>&#x51FD;&#x6570;&#x8FD4;&#x56DE;<a class="reference internal" href="#sqlalchemy.orm.util.AliasedInsp" title="sqlalchemy.orm.util.AliasedInsp"><code class="xref py py-class docutils literal"><span class="pre">AliasedInsp</span></code></a>&#x5BF9;&#x8C61;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">inspect</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">aliased</span>

<span class="n">my_alias</span> <span class="o">=</span> <span class="n">aliased</span><span class="p">(</span><span class="n">MyMappedClass</span><span class="p">)</span>
<span class="n">insp</span> <span class="o">=</span> <span class="n">inspect</span><span class="p">(</span><span class="n">my_alias</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-649"><a class="reference internal" href="#sqlalchemy.orm.util.AliasedInsp" title="sqlalchemy.orm.util.AliasedInsp"><code class="xref py py-class docutils literal"><span class="pre">AliasedInsp</span></code></a>&#x4E0A;&#x7684;&#x5C5E;&#x6027;&#x5305;&#x62EC;&#xFF1A;</span></p><ul class="simple"><li><span class="yiyi-st" id="yiyi-650"><code class="docutils literal"><span class="pre">entity</span></code>  - &#x4EE3;&#x8868;<a class="reference internal" href="#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal"><span class="pre">AliasedClass</span></code></a>&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-651"><code class="docutils literal"><span class="pre">mapper</span></code>  - &#x6620;&#x5C04;&#x57FA;&#x7840;&#x7C7B;&#x7684;<a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper.Mapper" title="sqlalchemy.orm.mapper.Mapper"><code class="xref py py-class docutils literal"><span class="pre">Mapper</span></code></a>&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-652"><code class="docutils literal"><span class="pre">selectable</span></code>  -  <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal"><span class="pre">Alias</span></code></a>&#x7ED3;&#x6784;&#x6700;&#x7EC8;&#x4EE3;&#x8868;&#x522B;&#x540D;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x6216;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal"><span class="pre">Select</span></code></a>&#x7ED3;&#x6784;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-653"><code class="docutils literal"><span class="pre">name</span></code>  - &#x522B;&#x540D;&#x7684;&#x540D;&#x79F0;&#x3002;</span><span class="yiyi-st" id="yiyi-654">&#x5F53;&#x4ECE;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5143;&#x7EC4;&#x65F6;&#xFF0C;&#x5B83;&#x4E5F;&#x7528;&#x4F5C;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-655"><code class="docutils literal"><span class="pre">with_polymorphic_mappers</span></code> - collection of <a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper.Mapper" title="sqlalchemy.orm.mapper.Mapper"><code class="xref py py-class docutils literal"><span class="pre">Mapper</span></code></a> objects indicating all those mappers expressed in the select construct for the <a class="reference internal" href="#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal"><span class="pre">AliasedClass</span></code></a>.</span></li><li><span class="yiyi-st" id="yiyi-656"><code class="docutils literal"><span class="pre">polymorphic_on</span></code>  - &#x5C06;&#x7528;&#x4F5C;&#x591A;&#x6001;&#x52A0;&#x8F7D;&#x7684;&#x201C;&#x9274;&#x522B;&#x7B26;&#x201D;&#x7684;&#x5907;&#x7528;&#x5217;&#x6216;SQL&#x8868;&#x8FBE;&#x5F0F;&#x3002;</span></li></ul><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-657">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-658"><a class="reference internal" href="core_inspection.html"><span>Runtime Inspection API</span></a></span></p></div></dd></dl><dl class="class"><dt id="sqlalchemy.orm.query.Bundle"><span class="yiyi-st" id="yiyi-659"><em class="property">class</em> <code class="descclassname">sqlalchemy.orm.query&#x3002;</code> <code class="descname">Bundle</code> <span class="sig-paren">&#xFF08;</span> <em>name</em>&#xFF0C;<em>* exprs</em>&#xFF0C;<em>** kw</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.query.Bundle" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-660">&#x57FA;&#x7840;&#xFF1A;<a class="reference internal" href="internals.html#sqlalchemy.orm.base.InspectionAttr" title="sqlalchemy.orm.base.InspectionAttr"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.orm.base.InspectionAttr</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-661">&#x7531;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5728;&#x4E00;&#x4E2A;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x4E0B;&#x8FD4;&#x56DE;&#x7684;&#x4E00;&#x7EC4;SQL&#x8868;&#x8FBE;&#x5F0F;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-662"><a class="reference internal" href="#sqlalchemy.orm.query.Bundle" title="sqlalchemy.orm.query.Bundle"><code class="xref py py-class docutils literal"><span class="pre">Bundle</span></code></a>&#x672C;&#x8D28;&#x4E0A;&#x5141;&#x8BB8;&#x5D4C;&#x5957;&#x57FA;&#x4E8E;&#x5217;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x8FD4;&#x56DE;&#x7684;&#x57FA;&#x4E8E;&#x5143;&#x7EC4;&#x7684;&#x7ED3;&#x679C;&#x3002;</span><span class="yiyi-st" id="yiyi-663">&#x5B83;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7B80;&#x5355;&#x7684;&#x5B50;&#x7C7B;&#x6765;&#x6269;&#x5C55;&#xFF0C;&#x5176;&#x4E2D;&#x4E3B;&#x8981;&#x7684;&#x8986;&#x76D6;&#x80FD;&#x529B;&#x662F;&#x5E94;&#x8BE5;&#x5982;&#x4F55;&#x8FD4;&#x56DE;&#x8868;&#x8FBE;&#x5F0F;&#x96C6;&#x5408;&#xFF0C;&#x5141;&#x8BB8;&#x540E;&#x5904;&#x7406;&#x4EE5;&#x53CA;&#x81EA;&#x5B9A;&#x4E49;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#xFF0C;&#x800C;&#x4E0D;&#x6D89;&#x53CA;ORM&#x8EAB;&#x4EFD;&#x6620;&#x5C04;&#x7C7B;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-664"><span class="versionmodified">&#x7248;&#x672C;0.9.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-665">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-666"><a class="reference internal" href="loading_columns.html#bundles"><span>Column Bundles</span></a></span></p></div><dl class="method"><dt id="sqlalchemy.orm.query.Bundle.__init__"><span class="yiyi-st" id="yiyi-667"> <code class="descname">__init__</code><span class="sig-paren">(</span><em>name</em>, <em>*exprs</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.query.Bundle.__init__" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-668">&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Bundle" title="sqlalchemy.orm.query.Bundle"><code class="xref py py-class docutils literal"><span class="pre">Bundle</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-669">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">bn</span> <span class="o">=</span> <span class="n">Bundle</span><span class="p">(</span><span class="s2">&quot;mybundle&quot;</span><span class="p">,</span> <span class="n">MyClass</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">MyClass</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>

<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">bn</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">bn</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">bn</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y</span> <span class="o">==</span> <span class="mi">4</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">mybundle</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">row</span><span class="o">.</span><span class="n">mybundle</span><span class="o">.</span><span class="n">y</span><span class="p">)</span></pre></div></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-670">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-671"><span class="target" id="sqlalchemy.orm.query.Bundle.params.name"></span> <strong>&#x540D;&#x79F0;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Bundle.params.name">&#xB6;</a>  - &#x5305;&#x7684;&#x540D;&#x79F0;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-672"><span class="target" id="sqlalchemy.orm.query.Bundle.params.*exprs"></span> <strong>* exprs</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Bundle.params.*exprs">&#xB6;</a>  - &#x5305;&#x542B;&#x8BE5;&#x5305;&#x7684;&#x5217;&#x6216;SQL&#x8868;&#x8FBE;&#x5F0F;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-673"><span class="target" id="sqlalchemy.orm.query.Bundle.params.single_entity"></span><strong>single_entity=False</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.query.Bundle.params.single_entity">&#xB6;</a> &#x2013; if True, rows for this <a class="reference internal" href="#sqlalchemy.orm.query.Bundle" title="sqlalchemy.orm.query.Bundle"><code class="xref py py-class docutils literal"><span class="pre">Bundle</span></code></a> can be returned as a &#x201C;single entity&#x201D; outside of any enclosing tuple in the same manner as a mapped entity.</span></li></ul></td></tr></tbody></table></dd></dl><dl class="attribute"><dt id="sqlalchemy.orm.query.Bundle.c"><span class="yiyi-st" id="yiyi-674"><code class="descname">c</code> <em class="property">=&#x65E0;</em> <a class="headerlink" href="#sqlalchemy.orm.query.Bundle.c" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-675"><a class="reference internal" href="#sqlalchemy.orm.query.Bundle.columns" title="sqlalchemy.orm.query.Bundle.columns"><code class="xref py py-attr docutils literal"><span class="pre">Bundle.columns</span></code></a>&#x7684;&#x522B;&#x540D;&#x3002;</span></p></dd></dl><dl class="attribute"><dt id="sqlalchemy.orm.query.Bundle.columns"><span class="yiyi-st" id="yiyi-676"><code class="descname">&#x5217;</code> <em class="property">=&#x65E0;</em> <a class="headerlink" href="#sqlalchemy.orm.query.Bundle.columns" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-677">&#x7531;<a class="reference internal" href="#sqlalchemy.orm.query.Bundle" title="sqlalchemy.orm.query.Bundle"><code class="xref py py-class docutils literal"><span class="pre">Bundle</span></code></a>&#x5F15;&#x7528;&#x7684;SQL&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x3002;</span></p><blockquote><div><p><span class="yiyi-st" id="yiyi-678">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">bn</span> <span class="o">=</span> <span class="n">Bundle</span><span class="p">(</span><span class="s2">&quot;mybundle&quot;</span><span class="p">,</span> <span class="n">MyClass</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">MyClass</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>

<span class="n">q</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">bn</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">bn</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-679">&#x6346;&#x7ED1;&#x5D4C;&#x5957;&#x4E5F;&#x652F;&#x6301;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">b1</span> <span class="o">=</span> <span class="n">Bundle</span><span class="p">(</span><span class="s2">&quot;b1&quot;</span><span class="p">,</span>
        <span class="n">Bundle</span><span class="p">(</span><span class="s1">&apos;b2&apos;</span><span class="p">,</span> <span class="n">MyClass</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">MyClass</span><span class="o">.</span><span class="n">b</span><span class="p">),</span>
        <span class="n">Bundle</span><span class="p">(</span><span class="s1">&apos;b3&apos;</span><span class="p">,</span> <span class="n">MyClass</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">MyClass</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
    <span class="p">)</span>

<span class="n">q</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
    <span class="n">b1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">b2</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">b1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">b3</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y</span> <span class="o">==</span> <span class="mi">9</span><span class="p">)</span></pre></div></div></div></blockquote><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-680">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-681"><a class="reference internal" href="#sqlalchemy.orm.query.Bundle.c" title="sqlalchemy.orm.query.Bundle.c"><code class="xref py py-attr docutils literal"><span class="pre">Bundle.c</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Bundle.create_row_processor"><span class="yiyi-st" id="yiyi-682"><code class="descname">create_row_processor</code> <span class="sig-paren">&#xFF08;</span> <em>query</em>&#xFF0C;<em>procs</em>&#xFF0C;<em>&#x6807;&#x7B7E;</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.query.Bundle.create_row_processor" title="Permalink to this definition">&#xB6; T6&gt;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-683">&#x4E3A;&#x8FD9;&#x4E2A;<a class="reference internal" href="#sqlalchemy.orm.query.Bundle" title="sqlalchemy.orm.query.Bundle"><code class="xref py py-class docutils literal"><span class="pre">Bundle</span></code></a>&#x4EA7;&#x751F;&#x201C;&#x884C;&#x5904;&#x7406;&#x201D;&#x529F;&#x80FD;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-684">&#x53EF;&#x80FD;&#x88AB;&#x5B50;&#x7C7B;&#x8986;&#x76D6;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-685">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-686"><a class="reference internal" href="loading_columns.html#bundles"><span>Column Bundles</span></a>  - &#x5305;&#x542B;&#x5B50;&#x7C7B;&#x7684;&#x793A;&#x4F8B;&#x3002;</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.query.Bundle.label"><span class="yiyi-st" id="yiyi-687"><code class="descname">&#x6807;&#x7B7E; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x540D;&#x79F0; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.query.Bundle.label" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-688">&#x63D0;&#x4F9B;&#x8FD9;&#x4E2A;<a class="reference internal" href="#sqlalchemy.orm.query.Bundle" title="sqlalchemy.orm.query.Bundle"><code class="xref py py-class docutils literal"><span class="pre">Bundle</span></code></a>&#x7684;&#x526F;&#x672C;&#xFF0C;&#x4F20;&#x9012;&#x4E00;&#x4E2A;&#x65B0;&#x6807;&#x7B7E;&#x3002;</span></p></dd></dl><dl class="attribute"><dt id="sqlalchemy.orm.query.Bundle.single_entity"><span class="yiyi-st" id="yiyi-689"><code class="descname">single_entity</code> <em class="property">= False</em> <a class="headerlink" href="#sqlalchemy.orm.query.Bundle.single_entity" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-690">&#x5982;&#x679C;&#x4E3A;True&#xFF0C;&#x5219;&#x5BF9;&#x5355;&#x4E2A;Bundle&#x7684;&#x67E5;&#x8BE2;&#x5C06;&#x4F5C;&#x4E3A;&#x5355;&#x4E2A;&#x5B9E;&#x4F53;&#x8FD4;&#x56DE;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x952E;&#x63A7;&#x5143;&#x7EC4;&#x5185;&#x7684;&#x5143;&#x7D20;&#x3002;</span></p></dd></dl></dd></dl><dl class="class"><dt id="sqlalchemy.util.KeyedTuple"><span class="yiyi-st" id="yiyi-691"><em class="property">class</em> <code class="descclassname">sqlalchemy.util&#x3002;</code> <code class="descname">KeyedTuple</code> <a class="headerlink" href="#sqlalchemy.util.KeyedTuple" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-692">&#x57FA;&#x7840;&#xFF1A;<code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.util._collections.AbstractKeyedTuple</span></code></span></p><p><span class="yiyi-st" id="yiyi-693"><code class="docutils literal"><span class="pre">tuple</span></code>&#x5B50;&#x7C7B;&#x6DFB;&#x52A0;&#x6807;&#x7B7E;&#x540D;&#x79F0;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-694">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">k</span> <span class="o">=</span> <span class="n">KeyedTuple</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;three&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="o">.</span><span class="n">one</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">k</span><span class="o">.</span><span class="n">two</span>
<span class="go">2</span></pre></div></div><p><span class="yiyi-st" id="yiyi-695">&#x7531;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x8FD4;&#x56DE;&#x7684;&#x5305;&#x542B;&#x591A;&#x4E2A;ORM&#x5B9E;&#x4F53;&#x548C;/&#x6216;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7ED3;&#x679C;&#x884C;&#x4F7F;&#x7528;&#x6B64;&#x7C7B;&#x6765;&#x8FD4;&#x56DE;&#x884C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-696"><a class="reference internal" href="#sqlalchemy.util.KeyedTuple" title="sqlalchemy.util.KeyedTuple"><code class="xref py py-class docutils literal"><span class="pre">KeyedTuple</span></code></a>&#x8868;&#x73B0;&#x51FA;&#x4E0E;Python&#x6807;&#x51C6;&#x5E93;&#x4E2D;&#x63D0;&#x4F9B;&#x7684;<code class="docutils literal"><span class="pre">collections.namedtuple()</span></code>&#x7ED3;&#x6784;&#x7C7B;&#x4F3C;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x4F46;&#x7ED3;&#x6784;&#x5374;&#x975E;&#x5E38;&#x4E0D;&#x540C;&#x3002;</span><span class="yiyi-st" id="yiyi-697">&#x4E0E;<code class="docutils literal"><span class="pre">collections.namedtuple()</span></code>&#x4E0D;&#x540C;&#xFF0C;<a class="reference internal" href="#sqlalchemy.util.KeyedTuple" title="sqlalchemy.util.KeyedTuple"><code class="xref py py-class docutils literal"><span class="pre">KeyedTuple</span></code></a>&#x4E0D;&#x4F9D;&#x8D56;&#x4E8E;&#x521B;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49;&#x5B50;&#x7C7B;&#x578B;&#x6765;&#x8868;&#x793A;&#x4E00;&#x7CFB;&#x5217;&#x65B0;&#x7684;&#x952E;&#xFF0C;&#x800C;&#x662F;&#x6BCF;&#x4E2A;<a class="reference internal" href="#sqlalchemy.util.KeyedTuple" title="sqlalchemy.util.KeyedTuple"><code class="xref py py-class docutils literal"><span class="pre">KeyedTuple</span></code></a></span><span class="yiyi-st" id="yiyi-698"><code class="docutils literal"><span class="pre">collections.namedtuple()</span></code>&#x7684;&#x5B50;&#x7C7B;&#x578B;&#x65B9;&#x6CD5;&#x5F15;&#x5165;&#x4E86;&#x663E;&#x7740;&#x7684;&#x590D;&#x6742;&#x6027;&#x548C;&#x6027;&#x80FD;&#x5F00;&#x9500;&#xFF0C;&#x8FD9;&#x5BF9;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x7528;&#x4F8B;&#x6765;&#x8BF4;&#x4E0D;&#x662F;&#x5FC5;&#x9700;&#x7684;&#x3002;</span></p><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-699"><span class="versionmodified">Changed in version 0.8: </span>Compatibility methods with <code class="docutils literal"><span class="pre">collections.namedtuple()</span></code> have been added including <a class="reference internal" href="#sqlalchemy.util.KeyedTuple._fields" title="sqlalchemy.util.KeyedTuple._fields"><code class="xref py py-attr docutils literal"><span class="pre">KeyedTuple._fields</span></code></a> and <a class="reference internal" href="#sqlalchemy.util.KeyedTuple._asdict" title="sqlalchemy.util.KeyedTuple._asdict"><code class="xref py py-meth docutils literal"><span class="pre">KeyedTuple._asdict()</span></code></a>.</span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-700">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-701"><a class="reference internal" href="tutorial.html#ormtutorial-querying"><span>Querying</span></a></span></p></div><dl class="method"><dt id="sqlalchemy.util.KeyedTuple._asdict"><span class="yiyi-st" id="yiyi-702"><code class="descname"> _asdict  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.util.KeyedTuple._asdict" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-703">&#x5C06;<a class="reference internal" href="#sqlalchemy.util.KeyedTuple" title="sqlalchemy.util.KeyedTuple"><code class="xref py py-class docutils literal"><span class="pre">KeyedTuple</span></code></a>&#x7684;&#x5185;&#x5BB9;&#x4F5C;&#x4E3A;&#x5B57;&#x5178;&#x8FD4;&#x56DE;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-704">&#x8BE5;&#x65B9;&#x6CD5;&#x63D0;&#x4F9B;&#x4E86;&#x4E0E;<code class="docutils literal"><span class="pre">collections.namedtuple()</span></code>&#x7684;&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#x8FD4;&#x56DE;&#x7684;&#x5B57;&#x5178;&#x662F;<strong>not</strong>&#x7684;&#x987A;&#x5E8F;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-705"><span class="versionmodified">0.8&#x7248;&#x672C;&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.util.KeyedTuple._fields"><span class="yiyi-st" id="yiyi-706"><code class="descname"> _fields  T0&gt; <a class="headerlink" href="#sqlalchemy.util.KeyedTuple._fields" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-707">&#x8FD4;&#x56DE;&#x6B64;<a class="reference internal" href="#sqlalchemy.util.KeyedTuple" title="sqlalchemy.util.KeyedTuple"><code class="xref py py-class docutils literal"><span class="pre">KeyedTuple</span></code></a>&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x952E;&#x540D;&#x79F0;&#x7684;&#x5143;&#x7EC4;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-708">&#x8BE5;&#x65B9;&#x6CD5;&#x63D0;&#x4F9B;&#x4E86;&#x4E0E;<code class="docutils literal"><span class="pre">collections.namedtuple()</span></code>&#x7684;&#x517C;&#x5BB9;&#x6027;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-709"><span class="versionmodified">0.8&#x7248;&#x672C;&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-710">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-711"><a class="reference internal" href="#sqlalchemy.util.KeyedTuple.keys" title="sqlalchemy.util.KeyedTuple.keys"><code class="xref py py-meth docutils literal"><span class="pre">KeyedTuple.keys()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.util.KeyedTuple.keys"><span class="yiyi-st" id="yiyi-712"><code class="descname">&#x952E; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.util.KeyedTuple.keys" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-713"> <em>inherited from the</em> <code class="xref py py-meth docutils literal"><span class="pre">keys()</span></code> <em>method of</em> <code class="xref py py-class docutils literal"><span class="pre">AbstractKeyedTuple</span></code></span></div><p><span class="yiyi-st" id="yiyi-714">&#x8FD4;&#x56DE;&#x6B64;<a class="reference internal" href="#sqlalchemy.util.KeyedTuple" title="sqlalchemy.util.KeyedTuple"><code class="xref py py-class docutils literal"><span class="pre">KeyedTuple</span></code></a>&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x952E;&#x540D;&#x79F0;&#x5217;&#x8868;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-715">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-716"><a class="reference internal" href="#sqlalchemy.util.KeyedTuple._fields" title="sqlalchemy.util.KeyedTuple._fields"><code class="xref py py-attr docutils literal"><span class="pre">KeyedTuple._fields</span></code></a></span></p></div></dd></dl></dd></dl><dl class="class"><dt id="sqlalchemy.orm.strategy_options.Load"><span class="yiyi-st" id="yiyi-717"> <em class="property">class </em><code class="descclassname">sqlalchemy.orm.strategy_options.</code><code class="descname">Load</code><span class="sig-paren">(</span><em>entity</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.strategy_options.Load" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-718">&#x57FA;&#x7840;&#xFF1A;<code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.sql.expression.Generative</span></code>&#xFF0C;<code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.orm.interfaces.MapperOption</span></code></span></p><p><span class="yiyi-st" id="yiyi-719">&#x8868;&#x793A;&#x52A0;&#x8F7D;&#x5668;&#x9009;&#x9879;&#xFF0C;&#x5B83;&#x4FEE;&#x6539;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x7684;&#x72B6;&#x6001;&#x4EE5;&#x5F71;&#x54CD;&#x5404;&#x79CD;&#x6620;&#x5C04;&#x5C5E;&#x6027;&#x7684;&#x52A0;&#x8F7D;&#x65B9;&#x5F0F;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-720"><span class="versionmodified">0.9.0&#x7248;&#x65B0;&#x589E;&#xFF1A;</span> <code class="xref py py-meth docutils literal"><span class="pre">Load()</span></code>&#x7CFB;&#x7EDF;&#x662F;&#x73B0;&#x6709;&#x52A0;&#x8F7D;&#x7A0B;&#x5E8F;&#x9009;&#x9879;&#x7CFB;&#x7EDF;&#x7684;&#x65B0;&#x57FA;&#x7840;&#xFF0C;&#x5305;&#x62EC;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.joinedload" title="sqlalchemy.orm.joinedload"><code class="xref py py-func docutils literal"><span class="pre">orm.joinedload()</span></code></a>&#xFF0C;<a class="reference internal" href="loading_columns.html#sqlalchemy.orm.defer" title="sqlalchemy.orm.defer"><code class="xref py py-func docutils literal"><span class="pre">orm.defer()</span></code></a>&#x7B49;&#x7B49;&#x3002;</span><span class="yiyi-st" id="yiyi-721">&#x7279;&#x522B;&#x662F;&#xFF0C;&#x5B83;&#x5F15;&#x5165;&#x4E86;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x65B9;&#x6CD5;&#x94FE;&#x63A5;&#x7CFB;&#x7EDF;&#xFF0C;&#x5B83;&#x53D6;&#x4EE3;&#x4E86;&#x5BF9;&#x70B9;&#x5206;&#x9694;&#x8DEF;&#x5F84;&#x7684;&#x9700;&#x6C42;&#x4EE5;&#x53CA;&#x8BF8;&#x5982;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.joinedload_all" title="sqlalchemy.orm.joinedload_all"><code class="xref py py-func docutils literal"><span class="pre">orm.joinedload_all()</span></code></a>&#x4E4B;&#x7C7B;&#x7684;&#x201C;_all()&#x201D;&#x9009;&#x9879;&#x3002;</span></p></div><p><span class="yiyi-st" id="yiyi-722">&#x4E00;&#x4E2A;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6216;&#x95F4;&#x63A5;&#x4F7F;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-723">&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#xFF0C;&#x7ED9;&#x5B9A;&#x7236;&#x7C7B;&#x7684;&#x5B9E;&#x4F8B;&#x3002;</span><span class="yiyi-st" id="yiyi-724">&#x5728;&#x5904;&#x7406;&#x5177;&#x6709;&#x591A;&#x4E2A;&#x5B9E;&#x4F53;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x65F6;&#xFF0C;&#x6216;&#x8005;&#x5728;&#x751F;&#x6210;&#x53EF;&#x4E00;&#x822C;&#x5E94;&#x7528;&#x4E8E;&#x4EFB;&#x4F55;&#x67E5;&#x8BE2;&#x7C7B;&#x578B;&#x7684;&#x52A0;&#x8F7D;&#x7A0B;&#x5E8F;&#x9009;&#x9879;&#x65F6;&#xFF0C;&#x8FD9;&#x79CD;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x5F88;&#x6709;&#x7528;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">myopt</span> <span class="o">=</span> <span class="n">Load</span><span class="p">(</span><span class="n">MyClass</span><span class="p">)</span><span class="o">.</span><span class="n">joinedload</span><span class="p">(</span><span class="s2">&quot;widgets&quot;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-725">&#x4E0A;&#x9762;&#x7684;<code class="docutils literal"><span class="pre">myopt</span></code>&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;<a class="reference internal" href="#sqlalchemy.orm.query.Query.options" title="sqlalchemy.orm.query.Query.options"><code class="xref py py-meth docutils literal"><span class="pre">Query.options()</span></code></a>&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">MyClass</span><span class="p">)</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">myopt</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-726">The <a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a> construct is invoked indirectly whenever one makes use of the various loader options that are present in <code class="docutils literal"><span class="pre">sqlalchemy.orm</span></code>, including options such as <a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.joinedload" title="sqlalchemy.orm.joinedload"><code class="xref py py-func docutils literal"><span class="pre">orm.joinedload()</span></code></a>, <a class="reference internal" href="loading_columns.html#sqlalchemy.orm.defer" title="sqlalchemy.orm.defer"><code class="xref py py-func docutils literal"><span class="pre">orm.defer()</span></code></a>, <a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.subqueryload" title="sqlalchemy.orm.subqueryload"><code class="xref py py-func docutils literal"><span class="pre">orm.subqueryload()</span></code></a>, and all the rest. </span><span class="yiyi-st" id="yiyi-727">&#x8FD9;&#x4E9B;&#x7ED3;&#x6784;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x201C;&#x533F;&#x540D;&#x201D;&#x5F62;&#x5F0F;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#xFF0C;&#x7528;&#x4E8E;&#x8DDF;&#x8E2A;&#x5C5E;&#x6027;&#x548C;&#x9009;&#x9879;&#xFF0C;&#x4F46;&#x76F4;&#x5230;&#x5B83;&#x4E0E;&#x7236;&#x5BF9;&#x8C61;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x76F8;&#x5173;&#x8054;&#x65F6;&#x624D;&#x4F1A;&#x94FE;&#x63A5;&#x5230;&#x7236;&#x7C7B;&#x3002;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># produce &quot;unbound&quot; Load object</span>
<span class="n">myopt</span> <span class="o">=</span> <span class="n">joinedload</span><span class="p">(</span><span class="s2">&quot;widgets&quot;</span><span class="p">)</span>

<span class="c1"># when applied using options(), the option is &quot;bound&quot; to the</span>
<span class="c1"># class observed in the given query, e.g. MyClass</span>
<span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">MyClass</span><span class="p">)</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">myopt</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-728">&#x65E0;&#x8BBA;&#x4F7F;&#x7528;&#x76F4;&#x63A5;&#x8FD8;&#x662F;&#x95F4;&#x63A5;&#x6837;&#x5F0F;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#x73B0;&#x5728;&#x90FD;&#x8868;&#x793A;&#x6CBF;&#x7740;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x7684;&#x5B9E;&#x4F53;&#x7684;&#x7279;&#x5B9A;&#x201C;&#x8DEF;&#x5F84;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-729">&#x8FD9;&#x4E2A;&#x8DEF;&#x5F84;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6807;&#x51C6;&#x7684;&#x65B9;&#x6CD5;&#x94FE;&#x5F0F;&#x65B9;&#x6CD5;&#x6765;&#x904D;&#x5386;&#x3002;</span><span class="yiyi-st" id="yiyi-730">&#x5047;&#x8BBE;&#x4E00;&#x4E2A;&#x7C7B;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x5982;<code class="docutils literal"><span class="pre">User</span></code>&#xFF0C;<code class="docutils literal"><span class="pre">User.addresses</span> <span class="pre"> - &gt;&#xFF06;lt&#xFF1B; / t4&gt; <span class="pre">Address</span></span></code> &#xFF0C;<span class="pre"><span class="pre">User.orders</span> <span class="pre"> - &#xFF06;gt&#xFF1B;</span> <span class="pre">&#x8BA2;&#x5355;</span>&#x548C;<code class="docutils literal"><span class="pre">Order.items</span> <span class="pre"> - &#xFF06;gt&#xFF1B;</span> <span class="pre">Item</span></code>&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x201C;&#x8DEF;&#x5F84;&#x201D;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x4E0A;&#x6307;&#x5B9A;&#x5404;&#x79CD;&#x52A0;&#x8F7D;&#x5668;&#x9009;&#x9879;&#xFF1A;</span></span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">options</span><span class="p">(</span>
            <span class="n">joinedload</span><span class="p">(</span><span class="s2">&quot;addresses&quot;</span><span class="p">),</span>
            <span class="n">subqueryload</span><span class="p">(</span><span class="s2">&quot;orders&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">joinedload</span><span class="p">(</span><span class="s2">&quot;items&quot;</span><span class="p">)</span>
        <span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-731">&#x5728;&#x4E0A;&#x9762;&#xFF0C;<code class="docutils literal"><span class="pre">addresses</span></code>&#x96C6;&#x5408;&#x5C06;&#x88AB;&#x8FDE;&#x63A5;&#x52A0;&#x8F7D;&#xFF0C;<code class="docutils literal"><span class="pre">orders</span></code>&#x96C6;&#x5408;&#x5C06;&#x88AB;&#x5B50;&#x67E5;&#x8BE2;&#x52A0;&#x8F7D;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x8BE5;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x52A0;&#x8F7D;<code class="docutils literal"><span class="pre">items</span></code>&#x96C6;&#x5408;&#x5C06;&#x88AB;&#x8FDE;&#x63A5;&#x52A0;&#x8F7D;&#x3002;</span></p><dl class="method"><dt id="sqlalchemy.orm.strategy_options.Load.baked_lazyload"><span class="yiyi-st" id="yiyi-732"><code class="descname">baked_lazyload  tt&gt; <span class="sig-paren">&#xFF08;</span> <em>loadopt</em>&#xFF0C;<em>attr</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.strategy_options.Load.baked_lazyload" title="Permalink to this definition">&#xB6;</a></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-733">&#x5E94;&#x7528;<code class="xref py py-func docutils literal"><span class="pre">orm.baked_lazyload()</span></code>&#x9009;&#x9879;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-734">&#x6709;&#x5173;&#x7528;&#x6CD5;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<code class="xref py py-func docutils literal"><span class="pre">orm.baked_lazyload()</span></code>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.strategy_options.Load.contains_eager"><span class="yiyi-st" id="yiyi-735"><code class="descname">contains_eager</code> <span class="sig-paren">&#xFF08;</span> <em>loadopt</em>&#xFF0C;<em>attr</em>&#xFF0C;<em>&#x522B;&#x540D;=&#x65E0;</em> <span class="sig-paren">T5&gt; <a class="headerlink" href="#sqlalchemy.orm.strategy_options.Load.contains_eager" title="Permalink to this definition">&#xB6; T6&gt;</a></span></span></dt><dd><p><span class="yiyi-st" id="yiyi-736">&#x4F7F;&#x7528;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.contains_eager" title="sqlalchemy.orm.contains_eager"><code class="xref py py-func docutils literal"><span class="pre">orm.contains_eager()</span></code></a>&#x9009;&#x9879;&#x751F;&#x6210;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-737">&#x6709;&#x5173;&#x7528;&#x6CD5;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.contains_eager" title="sqlalchemy.orm.contains_eager"><code class="xref py py-func docutils literal"><span class="pre">orm.contains_eager()</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.strategy_options.Load.defaultload"><span class="yiyi-st" id="yiyi-738"> <code class="descname">defaultload</code><span class="sig-paren">(</span><em>loadopt</em>, <em>attr</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.strategy_options.Load.defaultload" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-739">&#x5E94;&#x7528;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.defaultload" title="sqlalchemy.orm.defaultload"><code class="xref py py-func docutils literal"><span class="pre">orm.defaultload()</span></code></a>&#x9009;&#x9879;&#x751F;&#x6210;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-740">&#x6709;&#x5173;&#x7528;&#x6CD5;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.defaultload" title="sqlalchemy.orm.defaultload"><code class="xref py py-func docutils literal"><span class="pre">orm.defaultload()</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.strategy_options.Load.defer"><span class="yiyi-st" id="yiyi-741"> <code class="descname">defer</code><span class="sig-paren">(</span><em>loadopt</em>, <em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.strategy_options.Load.defer" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-742">&#x5E94;&#x7528;<a class="reference internal" href="loading_columns.html#sqlalchemy.orm.defer" title="sqlalchemy.orm.defer"><code class="xref py py-func docutils literal"><span class="pre">orm.defer()</span></code></a>&#x9009;&#x9879;&#x751F;&#x6210;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-743">&#x6709;&#x5173;&#x7528;&#x6CD5;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="loading_columns.html#sqlalchemy.orm.defer" title="sqlalchemy.orm.defer"><code class="xref py py-func docutils literal"><span class="pre">orm.defer()</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.strategy_options.Load.immediateload"><span class="yiyi-st" id="yiyi-744"> <code class="descname">immediateload</code><span class="sig-paren">(</span><em>loadopt</em>, <em>attr</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.strategy_options.Load.immediateload" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-745">&#x5E94;&#x7528;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.immediateload" title="sqlalchemy.orm.immediateload"><code class="xref py py-func docutils literal"><span class="pre">orm.immediateload()</span></code></a>&#x9009;&#x9879;&#x751F;&#x6210;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-746">&#x6709;&#x5173;&#x7528;&#x6CD5;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.immediateload" title="sqlalchemy.orm.immediateload"><code class="xref py py-func docutils literal"><span class="pre">orm.immediateload()</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.strategy_options.Load.joinedload"><span class="yiyi-st" id="yiyi-747"> <code class="descname">joinedload</code><span class="sig-paren">(</span><em>loadopt</em>, <em>attr</em>, <em>innerjoin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.strategy_options.Load.joinedload" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-748">&#x5E94;&#x7528;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.joinedload" title="sqlalchemy.orm.joinedload"><code class="xref py py-func docutils literal"><span class="pre">orm.joinedload()</span></code></a>&#x9009;&#x9879;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-749">&#x6709;&#x5173;&#x7528;&#x6CD5;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.joinedload" title="sqlalchemy.orm.joinedload"><code class="xref py py-func docutils literal"><span class="pre">orm.joinedload()</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.strategy_options.Load.lazyload"><span class="yiyi-st" id="yiyi-750"> <code class="descname">lazyload</code><span class="sig-paren">(</span><em>loadopt</em>, <em>attr</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.strategy_options.Load.lazyload" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-751">&#x5E94;&#x7528;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.lazyload" title="sqlalchemy.orm.lazyload"><code class="xref py py-func docutils literal"><span class="pre">orm.lazyload()</span></code></a>&#x9009;&#x9879;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-752">&#x6709;&#x5173;&#x4F7F;&#x7528;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.lazyload" title="sqlalchemy.orm.lazyload"><code class="xref py py-func docutils literal"><span class="pre">orm.lazyload()</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.strategy_options.Load.load_only"><span class="yiyi-st" id="yiyi-753"> <code class="descname">load_only</code><span class="sig-paren">(</span><em>loadopt</em>, <em>*attrs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.strategy_options.Load.load_only" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-754">&#x5E94;&#x7528;<a class="reference internal" href="loading_columns.html#sqlalchemy.orm.load_only" title="sqlalchemy.orm.load_only"><code class="xref py py-func docutils literal"><span class="pre">orm.load_only()</span></code></a>&#x9009;&#x9879;&#x751F;&#x6210;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-755">&#x6709;&#x5173;&#x7528;&#x6CD5;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="loading_columns.html#sqlalchemy.orm.load_only" title="sqlalchemy.orm.load_only"><code class="xref py py-func docutils literal"><span class="pre">orm.load_only()</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.strategy_options.Load.noload"><span class="yiyi-st" id="yiyi-756"><code class="descname">noload</code> <span class="sig-paren">&#xFF08;</span> <em>loadopt</em>&#xFF0C;<em>attr</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.strategy_options.Load.noload" title="Permalink to this definition"></a></span></dt><dd><p><span class="yiyi-st" id="yiyi-757">&#x5E94;&#x7528;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.noload" title="sqlalchemy.orm.noload"><code class="xref py py-func docutils literal"><span class="pre">orm.noload()</span></code></a>&#x9009;&#x9879;&#x751F;&#x6210;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-758">&#x6709;&#x5173;&#x4F7F;&#x7528;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.noload" title="sqlalchemy.orm.noload"><code class="xref py py-func docutils literal"><span class="pre">orm.noload()</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.strategy_options.Load.raiseload"><span class="yiyi-st" id="yiyi-759"> <code class="descname">raiseload</code><span class="sig-paren">(</span><em>loadopt</em>, <em>attr</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.strategy_options.Load.raiseload" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-760">&#x5E94;&#x7528;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.raiseload" title="sqlalchemy.orm.raiseload"><code class="xref py py-func docutils literal"><span class="pre">orm.raiseload()</span></code></a>&#x9009;&#x9879;&#x751F;&#x6210;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-761">&#x6709;&#x5173;&#x4F7F;&#x7528;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.raiseload" title="sqlalchemy.orm.raiseload"><code class="xref py py-func docutils literal"><span class="pre">orm.raiseload()</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.strategy_options.Load.subqueryload"><span class="yiyi-st" id="yiyi-762"> <code class="descname">subqueryload</code><span class="sig-paren">(</span><em>loadopt</em>, <em>attr</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.strategy_options.Load.subqueryload" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-763">&#x4F7F;&#x7528;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.subqueryload" title="sqlalchemy.orm.subqueryload"><code class="xref py py-func docutils literal"><span class="pre">orm.subqueryload()</span></code></a>&#x9009;&#x9879;&#x751F;&#x6210;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-764">&#x6709;&#x5173;&#x7528;&#x6CD5;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="loading_relationships.html#sqlalchemy.orm.subqueryload" title="sqlalchemy.orm.subqueryload"><code class="xref py py-func docutils literal"><span class="pre">orm.subqueryload()</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.strategy_options.Load.undefer"><span class="yiyi-st" id="yiyi-765"><code class="descname">undefer</code> <span class="sig-paren">&#xFF08;</span> <em>loadopt</em>&#xFF0C;<em>&#x952E;</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.strategy_options.Load.undefer" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-766">&#x5E94;&#x7528;<a class="reference internal" href="loading_columns.html#sqlalchemy.orm.undefer" title="sqlalchemy.orm.undefer"><code class="xref py py-func docutils literal"><span class="pre">orm.undefer()</span></code></a>&#x9009;&#x9879;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-767">&#x6709;&#x5173;&#x7528;&#x6CD5;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="loading_columns.html#sqlalchemy.orm.undefer" title="sqlalchemy.orm.undefer"><code class="xref py py-func docutils literal"><span class="pre">orm.undefer()</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.strategy_options.Load.undefer_group"><span class="yiyi-st" id="yiyi-768"> <code class="descname">undefer_group</code><span class="sig-paren">(</span><em>loadopt</em>, <em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.strategy_options.Load.undefer_group" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-769">&#x5E94;&#x7528;<a class="reference internal" href="loading_columns.html#sqlalchemy.orm.undefer_group" title="sqlalchemy.orm.undefer_group"><code class="xref py py-func docutils literal"><span class="pre">orm.undefer_group()</span></code></a>&#x9009;&#x9879;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.strategy_options.Load" title="sqlalchemy.orm.strategy_options.Load"><code class="xref py py-class docutils literal"><span class="pre">Load</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-770">&#x6709;&#x5173;&#x7528;&#x6CD5;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="loading_columns.html#sqlalchemy.orm.undefer_group" title="sqlalchemy.orm.undefer_group"><code class="xref py py-func docutils literal"><span class="pre">orm.undefer_group()</span></code></a>&#x3002;</span></p></dd></dl></dd></dl><dl class="function"><dt id="sqlalchemy.orm.join"><span class="yiyi-st" id="yiyi-771"> <code class="descclassname">sqlalchemy.orm.</code><code class="descname">join</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>onclause=None</em>, <em>isouter=False</em>, <em>full=False</em>, <em>join_to_left=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.join" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-772">&#x5728;&#x5DE6;&#x8FB9;&#x548C;&#x53F3;&#x8FB9;&#x7684;&#x5B50;&#x53E5;&#x4E4B;&#x95F4;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x5185;&#x90E8;&#x8FDE;&#x63A5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-773"><a class="reference internal" href="#sqlalchemy.orm.join" title="sqlalchemy.orm.join"><code class="xref py py-func docutils literal"><span class="pre">orm.join()</span></code></a>&#x662F;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.join" title="sqlalchemy.sql.expression.join"><code class="xref py py-func docutils literal"><span class="pre">sql.expression.join()</span></code></a>&#x63D0;&#x4F9B;&#x7684;&#x6838;&#x5FC3;&#x8FDE;&#x63A5;&#x63A5;&#x53E3;&#x7684;&#x6269;&#x5C55;&#xFF0C;&#x5176;&#x4E2D;&#x5DE6;&#x548C;&#x53F3;&#x9009;&#x62E9;&#x7B26;&#x4E0D;&#x4EC5;&#x53EF;&#x4EE5;&#x662F;&#x6838;&#x5FC3;&#x53EF;&#x9009;&#x5BF9;&#x8C61;&#x5982;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#xFF0C;&#x8FD8;&#x6620;&#x5C04;&#x4E86;&#x7C7B;&#x6216;<a class="reference internal" href="#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal"><span class="pre">AliasedClass</span></code></a>&#x5B9E;&#x4F8B;&#x3002;</span><span class="yiyi-st" id="yiyi-774">&#x201C;on&#x201D;&#x5B50;&#x53E5;&#x53EF;&#x4EE5;&#x662F;SQL&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x5F15;&#x7528;&#x914D;&#x7F6E;&#x7684;<a class="reference internal" href="relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal"><span class="pre">relationship()</span></code></a>&#x7684;&#x5C5E;&#x6027;&#x6216;&#x5B57;&#x7B26;&#x4E32;&#x540D;&#x79F0;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-775"><a class="reference internal" href="#sqlalchemy.orm.join" title="sqlalchemy.orm.join"><code class="xref py py-func docutils literal"><span class="pre">orm.join()</span></code></a> is not commonly needed in modern usage, as its functionality is encapsulated within that of the <a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">Query.join()</span></code></a> method, which features a significant amount of automation beyond <a class="reference internal" href="#sqlalchemy.orm.join" title="sqlalchemy.orm.join"><code class="xref py py-func docutils literal"><span class="pre">orm.join()</span></code></a> by itself. </span><span class="yiyi-st" id="yiyi-776">&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x663E;&#x5F0F;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.join" title="sqlalchemy.orm.join"><code class="xref py py-func docutils literal"><span class="pre">orm.join()</span></code></a>&#x6D89;&#x53CA;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_from()</span></code></a>&#x65B9;&#x6CD5;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">join</span>
<span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">select_from</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">Address</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">addresses</span><span class="p">))</span><span class="o">.</span>\
    <span class="nb">filter</span><span class="p">(</span><span class="n">Address</span><span class="o">.</span><span class="n">email_address</span><span class="o">==</span><span class="s1">&apos;foo@bar.com&apos;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-777">&#x5728;&#x73B0;&#x4EE3;SQLAlchemy&#x4E2D;&#xFF0C;&#x4E0A;&#x9762;&#x7684;&#x8FDE;&#x63A5;&#x53EF;&#x4EE5;&#x5199;&#x5F97;&#x66F4;&#x7B80;&#x6D01;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">addresses</span><span class="p">)</span><span class="o">.</span>\
        <span class="nb">filter</span><span class="p">(</span><span class="n">Address</span><span class="o">.</span><span class="n">email_address</span><span class="o">==</span><span class="s1">&apos;foo@bar.com&apos;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-778">&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">Query.join()</span></code></a>&#x4EE5;&#x83B7;&#x53D6;&#x6709;&#x5173;ORM&#x7EA7;&#x522B;&#x8FDE;&#x63A5;&#x7684;&#x73B0;&#x4EE3;&#x7528;&#x6CD5;&#x7684;&#x4FE1;&#x606F;&#x3002;</span></p><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-779"><span class="versionmodified">&#x5728;&#x7248;&#x672C;0.8.1&#x4E2D;&#x66F4;&#x6539;&#xFF1A;</span>  -  <code class="docutils literal"><span class="pre">join_to_left</span></code>&#x53C2;&#x6570;&#x4E0D;&#x518D;&#x4F7F;&#x7528;&#xFF0C;&#x5E76;&#x4E14;&#x5DF2;&#x5F03;&#x7528;&#x3002;</span></p></div></dd></dl><dl class="function"><dt id="sqlalchemy.orm.outerjoin"><span class="yiyi-st" id="yiyi-780"> <code class="descclassname">sqlalchemy.orm.</code><code class="descname">outerjoin</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>onclause=None</em>, <em>full=False</em>, <em>join_to_left=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.outerjoin" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-781">&#x5728;&#x5DE6;&#x8FB9;&#x548C;&#x53F3;&#x8FB9;&#x7684;&#x5B50;&#x53E5;&#x4E4B;&#x95F4;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x5DE6;&#x5916;&#x8FDE;&#x63A5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-782">&#x8FD9;&#x662F;<a class="reference internal" href="#sqlalchemy.orm.join" title="sqlalchemy.orm.join"><code class="xref py py-func docutils literal"><span class="pre">orm.join()</span></code></a>&#x51FD;&#x6570;&#x7684;&#x201C;&#x5916;&#x90E8;&#x8FDE;&#x63A5;&#x201D;&#x7248;&#x672C;&#xFF0C;&#x9664;&#x4E86;&#x751F;&#x6210;&#x4E00;&#x4E2A;OUTER JOIN&#x5916;&#xFF0C;&#x5176;&#x7279;&#x5F81;&#x4E0E;&#x5176;&#x4ED6;&#x884C;&#x4E3A;&#x76F8;&#x540C;&#x3002;</span><span class="yiyi-st" id="yiyi-783">&#x6709;&#x5173;&#x5176;&#x4ED6;&#x4F7F;&#x7528;&#x7EC6;&#x8282;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x8BE5;&#x51FD;&#x6570;&#x7684;&#x6587;&#x6863;&#x3002;</span></p></dd></dl><dl class="function"><dt id="sqlalchemy.orm.with_parent"><span class="yiyi-st" id="yiyi-784"> <code class="descclassname">sqlalchemy.orm.</code><code class="descname">with_parent</code><span class="sig-paren">(</span><em>instance</em>, <em>prop</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.with_parent" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-785">&#x4F7F;&#x7528;&#x5DF2;&#x5EFA;&#x7ACB;&#x7684;<a class="reference internal" href="relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal"><span class="pre">relationship()</span></code></a>&#x914D;&#x7F6E;&#x521B;&#x5EFA;&#x8FC7;&#x6EE4;&#x6807;&#x51C6;&#xFF0C;&#x5C06;&#x8BE5;&#x67E5;&#x8BE2;&#x7684;&#x4E3B;&#x8981;&#x5B9E;&#x4F53;&#x4E0E;&#x7ED9;&#x5B9A;&#x7684;&#x76F8;&#x5173;&#x5B9E;&#x4F8B;&#x76F8;&#x5173;&#x8054;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-786">&#x5448;&#x73B0;&#x7684;SQL&#x4E0E;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x5668;&#x4ECE;&#x8BE5;&#x5C5E;&#x6027;&#x4E0A;&#x7684;&#x7ED9;&#x5B9A;&#x7236;&#x7EA7;&#x89E6;&#x53D1;&#x65F6;&#x6240;&#x5448;&#x73B0;&#x7684;&#x76F8;&#x540C;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4ECE;Python&#x4E2D;&#x7684;&#x7236;&#x5BF9;&#x8C61;&#x83B7;&#x53D6;&#x9002;&#x5F53;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x800C;&#x65E0;&#x9700;&#x5728;&#x5448;&#x73B0;&#x4E2D;&#x5448;&#x73B0;&#x8FDE;&#x63A5;&#x81F3;&#x7236;&#x8868;&#x7684;&#x8FDE;&#x63A5;&#x58F0;&#x660E;&#x3002;</span></p><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-787"><span class="versionmodified">&#x5728;&#x7248;&#x672C;0.6.4&#x4E2D;&#x8FDB;&#x884C;&#x4E86;&#x66F4;&#x6539;&#xFF1A;</span>&#x6B64;&#x65B9;&#x6CD5;&#x63A5;&#x53D7;&#x6240;&#x6709;&#x6301;&#x4E45;&#x72B6;&#x6001;&#x4E0B;&#x7684;&#x7236;&#x5B9E;&#x4F8B;&#xFF0C;&#x5305;&#x62EC;&#x77AC;&#x6001;&#xFF0C;&#x6301;&#x4E45;&#x548C;&#x5206;&#x79BB;&#x3002;</span><span class="yiyi-st" id="yiyi-788">&#x53EA;&#x6709;&#x5FC5;&#x8981;&#x7684;&#x4E3B;&#x952E;/&#x5916;&#x952E;&#x5C5E;&#x6027;&#x9700;&#x8981;&#x586B;&#x5145;&#x3002;</span><span class="yiyi-st" id="yiyi-789">&#x4EE5;&#x524D;&#x7684;&#x7248;&#x672C;&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x77AC;&#x6001;&#x5B9E;&#x4F8B;&#x3002;</span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-790">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-791"><span class="target" id="sqlalchemy.orm.with_parent.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.with_parent.params.instance">&#xB6;</a> &#x2013; An instance which has some <a class="reference internal" href="relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal"><span class="pre">relationship()</span></code></a>.</span></li><li><span class="yiyi-st" id="yiyi-792"><span class="target" id="sqlalchemy.orm.with_parent.params.property"></span><strong>property</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.with_parent.params.property">&#xB6;</a> &#x2013; String property name, or class-bound attribute, which indicates what relationship from the instance should be used to reconcile the parent/child relationship.</span></li></ul></td></tr></tbody></table></dd></dl></div>