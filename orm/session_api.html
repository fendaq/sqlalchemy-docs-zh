<h1><span class="yiyi-st" id="yiyi-47">&#x4F1A;&#x8BDD;API <a class="headerlink" href="#session-api" title="Permalink to this headline">&#xB6;</a></span></h1><div class="section" id="session-and-sessionmaker"><h2><span class="yiyi-st" id="yiyi-48">Session&#x548C;sessionmaker()<a class="headerlink" href="#session-and-sessionmaker" title="Permalink to this headline">&#xB6;</a></span></h2><dl class="class"><dt id="sqlalchemy.orm.session.sessionmaker"><span class="yiyi-st" id="yiyi-49"><em class="property">class</em> <code class="descclassname">sqlalchemy.orm.session&#x3002;</code> <code class="descname">sessionmaker</code> <span class="sig-paren">&#xFF08;</span> <em>bind = None</em>&#xFF0C;<em> class _ =&#xFF06;lt&#xFF1B; class&apos;sqlalchemy.orm.session.Session&apos;&#xFF06;gt&#xFF1B;</em>&#xFF0C;<em>autoflush = True</em>&#xFF0C;<em>autocommit = False</em>&#xFF0C;<em>expire_on_commit = True <em>info = None</em>&#xFF0C;<em>** kw</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.session.sessionmaker" title="Permalink to this definition">&#xB6;</a></em></span></dt><dd><p><span class="yiyi-st" id="yiyi-50">&#x57FA;&#x7840;&#xFF1A;<code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.orm.session._SessionClassMethods</span></code></span></p><p><span class="yiyi-st" id="yiyi-51">&#x4E00;&#x4E2A;&#x53EF;&#x914D;&#x7F6E;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5DE5;&#x5382;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-52"><a class="reference internal" href="#sqlalchemy.orm.session.sessionmaker" title="sqlalchemy.orm.session.sessionmaker"><code class="xref py py-class docutils literal"><span class="pre">sessionmaker</span></code></a>&#x5DE5;&#x5382;&#x5728;&#x8C03;&#x7528;&#x65F6;&#x751F;&#x6210;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5BF9;&#x8C61;&#xFF0C;&#x6839;&#x636E;&#x6B64;&#x5904;&#x5EFA;&#x7ACB;&#x7684;&#x914D;&#x7F6E;&#x53C2;&#x6570;&#x521B;&#x5EFA;&#x5B83;&#x4EEC;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-53">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># global scope</span>
<span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">autoflush</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="c1"># later, in a local scope, create and use a session:</span>
<span class="n">sess</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span></pre></div></div><p><span class="yiyi-st" id="yiyi-54">&#x53D1;&#x9001;&#x5230;&#x6784;&#x9020;&#x51FD;&#x6570;&#x672C;&#x8EAB;&#x7684;&#x4EFB;&#x4F55;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x5C06;&#x8986;&#x76D6;&#x201C;&#x5DF2;&#x914D;&#x7F6E;&#x201D;&#x5173;&#x952E;&#x5B57;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">()</span>

<span class="c1"># bind an individual session to a connection</span>
<span class="n">sess</span> <span class="o">=</span> <span class="n">Session</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="n">connection</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-55">&#x8BE5;&#x7C7B;&#x8FD8;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;<a class="reference internal" href="#sqlalchemy.orm.session.sessionmaker.configure" title="sqlalchemy.orm.session.sessionmaker.configure"><code class="xref py py-meth docutils literal"><span class="pre">configure()</span></code></a>&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x53EF;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x5DE5;&#x5382;&#x7684;&#x5176;&#x4ED6;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#xFF0C;&#x8BE5;&#x53C2;&#x6570;&#x5C06;&#x5728;&#x968F;&#x540E;&#x751F;&#x6210;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5BF9;&#x8C61;&#x4E2D;&#x751F;&#x6548;&#x3002;</span><span class="yiyi-st" id="yiyi-56">&#x8FD9;&#x901A;&#x5E38;&#x7528;&#x4E8E;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#x5C06;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>&#x5BF9;&#x8C61;&#x4E0E;&#x73B0;&#x6709;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.sessionmaker" title="sqlalchemy.orm.session.sessionmaker"><code class="xref py py-class docutils literal"><span class="pre">sessionmaker</span></code></a>&#x5DE5;&#x5382;&#x76F8;&#x5173;&#x8054;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># application starts</span>
<span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">()</span>

<span class="c1"># ... later</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">&apos;sqlite:///foo.db&apos;</span><span class="p">)</span>
<span class="n">Session</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="n">engine</span><span class="p">)</span>

<span class="n">sess</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span></pre></div></div><dl class="method"><dt id="sqlalchemy.orm.session.sessionmaker.__call__"><span class="yiyi-st" id="yiyi-57"><code class="descname"> __&#x547C;&#x53EB;__  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> ** local_kw  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.session.sessionmaker.__call__" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-58">&#x4F7F;&#x7528;&#x6B64;<a class="reference internal" href="#sqlalchemy.orm.session.sessionmaker" title="sqlalchemy.orm.session.sessionmaker"><code class="xref py py-class docutils literal"><span class="pre">sessionmaker</span></code></a>&#x4E2D;&#x5EFA;&#x7ACB;&#x7684;&#x914D;&#x7F6E;&#x751F;&#x6210;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-59">&#x5728;Python&#x4E2D;&#xFF0C;&#x5F53;&#x8C03;&#x7528;&#x4E0E;&#x5BF9;&#x8C61;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#x201C;&#x8C03;&#x7528;&#x201D;&#x65F6;&#xFF0C;&#x4F1A;&#x5728;&#x5BF9;&#x8C61;&#x4E0A;&#x8C03;&#x7528;<code class="docutils literal"><span class="pre">__call__</span></code>&#x65B9;&#x6CD5;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">()</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>  <span class="c1"># invokes sessionmaker.__call__()</span></pre></div></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.sessionmaker.__init__"><span class="yiyi-st" id="yiyi-60"><code class="descname">__ init __</code> <span class="sig-paren">&#xFF08;</span> <em>bind = None</em>&#xFF0C;<em>class _ =&#xFF06;lt&#xFF1B; class&apos;sqlalchemy.orm.session.Session&apos;&#xFF06;gt&#xFF1B;</em> &#xFF0C;<em>autoflush = True</em>&#xFF0C;<em>autocommit = False</em>&#xFF0C;<em>expire_on_commit = True</em>&#xFF0C;<em>info =&#x65E0;</em>&#xFF0C;<em>**&#x5343;&#x74E6; T8&gt; <span class="sig-paren">&#xFF09; T9&gt; <a class="headerlink" href="#sqlalchemy.orm.session.sessionmaker.__init__" title="Permalink to this definition">&#xB6; T10&gt;</a></span></em></span></dt><dd><p><span class="yiyi-st" id="yiyi-61">&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.sessionmaker" title="sqlalchemy.orm.session.sessionmaker"><code class="xref py py-class docutils literal"><span class="pre">sessionmaker</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-62">&#x9664;&#x4E86;<code class="docutils literal"><span class="pre">class_</span></code>&#x4E4B;&#x5916;&#xFF0C;&#x6240;&#x6709;&#x53C2;&#x6570;&#x90FD;&#x76F4;&#x63A5;&#x5BF9;&#x5E94;&#x4E8E;&#x7531;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x63A5;&#x53D7;&#x7684;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-63">&#x6709;&#x5173;&#x53C2;&#x6570;&#x7684;&#x66F4;&#x591A;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="#sqlalchemy.orm.session.Session.__init__" title="sqlalchemy.orm.session.Session.__init__"><code class="xref py py-meth docutils literal"><span class="pre">Session.__init__()</span></code></a> docstring&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-64">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-65"><span class="target" id="sqlalchemy.orm.session.sessionmaker.params.bind"></span><strong>bind</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.sessionmaker.params.bind">&#xB6;</a> &#x2013; a <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a> or other <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connectable" title="sqlalchemy.engine.Connectable"><code class="xref py py-class docutils literal"><span class="pre">Connectable</span></code></a> with which newly created <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> objects will be associated.</span></li><li><span class="yiyi-st" id="yiyi-66"><span class="target" id="sqlalchemy.orm.session.sessionmaker.params.class_"></span><strong>class_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.sessionmaker.params.class_">&#xB6;</a> &#x2013; class to use in order to create new <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> objects. </span><span class="yiyi-st" id="yiyi-67">&#x9ED8;&#x8BA4;&#x4E3A;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-68"><span class="target" id="sqlalchemy.orm.session.sessionmaker.params.autoflush"></span><strong>autoflush</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.sessionmaker.params.autoflush">&#xB6;</a> &#x2013; The autoflush setting to use with newly created <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> objects.</span></li><li><span class="yiyi-st" id="yiyi-69"><span class="target" id="sqlalchemy.orm.session.sessionmaker.params.autocommit"></span><strong>autocommit</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.sessionmaker.params.autocommit">&#xB6;</a> &#x2013; The autocommit setting to use with newly created <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> objects.</span></li><li><span class="yiyi-st" id="yiyi-70"><span class="target" id="sqlalchemy.orm.session.sessionmaker.params.expire_on_commit"></span><strong>expire_on_commit=True</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.sessionmaker.params.expire_on_commit">&#xB6;</a> &#x2013; the expire_on_commit setting to use with newly created <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> objects.</span></li><li><span class="yiyi-st" id="yiyi-74"><span class="target" id="sqlalchemy.orm.session.sessionmaker.params.info"></span> <strong>info</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.sessionmaker.params.info">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-71">&#x53EF;&#x901A;&#x8FC7;<a class="reference internal" href="#sqlalchemy.orm.session.Session.info" title="sqlalchemy.orm.session.Session.info"><code class="xref py py-attr docutils literal"><span class="pre">Session.info</span></code></a>&#x83B7;&#x5F97;&#x7684;&#x53EF;&#x9009;&#x4FE1;&#x606F;&#x5B57;&#x5178;&#x3002;</span><span class="yiyi-st" id="yiyi-72">&#x6CE8;&#x610F;&#xFF0C;&#x5F53;<code class="docutils literal"><span class="pre">info</span></code>&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x7ED9;&#x7279;&#x5B9A;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x65BD;&#x5DE5;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x8BE5;&#x5B57;&#x5178;<em>&#x66F4;&#x65B0;</em>&#xFF0C;&#x4E0D;&#x4F1A;&#x88AB;&#x66FF;&#x6362;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-73"><span class="versionmodified">&#x7248;&#x672C;0.9.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></li><li><span class="yiyi-st" id="yiyi-75"><span class="target" id="sqlalchemy.orm.session.sessionmaker.params.**kw"></span><strong>**kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.sessionmaker.params.**kw">&#xB6;</a> &#x2013; all other keyword arguments are passed to the constructor of newly created <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> objects.</span></li></ul></td></tr></tbody></table></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.sessionmaker.close_all"><span class="yiyi-st" id="yiyi-76"><code class="descname"> close_all  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.session.sessionmaker.close_all" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-77"> <em>inherited from the</em> <code class="xref py py-meth docutils literal"><span class="pre">close_all()</span></code> <em>method of</em> <code class="xref py py-class docutils literal"><span class="pre">_SessionClassMethods</span></code></span></div><p><span class="yiyi-st" id="yiyi-78">Close <em>all</em> sessions in memory.</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.sessionmaker.configure"><span class="yiyi-st" id="yiyi-79"><code class="descname">&#x914D;&#x7F6E; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> ** new_kw  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.session.sessionmaker.configure" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-80">&#xFF08;&#x91CD;&#x65B0;&#xFF09;&#x914D;&#x7F6E;&#x8FD9;&#x4E2A;sessionmaker&#x7684;&#x53C2;&#x6570;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-81">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">()</span>

<span class="n">Session</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="n">create_engine</span><span class="p">(</span><span class="s1">&apos;sqlite://&apos;</span><span class="p">))</span></pre></div></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.sessionmaker.identity_key"><span class="yiyi-st" id="yiyi-82"><code class="descname"> identity_key  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * ARGS  T2&gt;&#xFF0C;<em> ** kwargs  T3&gt; <span class="sig-paren">&#xFF09; T4&gt; <a class="headerlink" href="#sqlalchemy.orm.session.sessionmaker.identity_key" title="Permalink to this definition">&#xB6; T5&gt;</a></span></em></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-83"> <em>inherited from the</em> <code class="xref py py-meth docutils literal"><span class="pre">identity_key()</span></code> <em>method of</em> <code class="xref py py-class docutils literal"><span class="pre">_SessionClassMethods</span></code></span></div><p><span class="yiyi-st" id="yiyi-84">&#x8FD4;&#x56DE;&#x8EAB;&#x4EFD;&#x5BC6;&#x94A5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-85">&#x8FD9;&#x662F;<a class="reference internal" href="mapping_api.html#sqlalchemy.orm.util.identity_key" title="sqlalchemy.orm.util.identity_key"><code class="xref py py-func docutils literal"><span class="pre">util.identity_key()</span></code></a>&#x7684;&#x522B;&#x540D;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.sessionmaker.object_session"><span class="yiyi-st" id="yiyi-86"><code class="descname"> object_session  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x5B9E;&#x4F8B; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.session.sessionmaker.object_session" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-87"> <em>inherited from the</em> <code class="xref py py-meth docutils literal"><span class="pre">object_session()</span></code> <em>method of</em> <code class="xref py py-class docutils literal"><span class="pre">_SessionClassMethods</span></code></span></div><p><span class="yiyi-st" id="yiyi-88">&#x8FD4;&#x56DE;&#x5BF9;&#x8C61;&#x6240;&#x5C5E;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-89">&#x8FD9;&#x662F;<a class="reference internal" href="#sqlalchemy.orm.session.object_session" title="sqlalchemy.orm.session.object_session"><code class="xref py py-func docutils literal"><span class="pre">object_session()</span></code></a>&#x7684;&#x522B;&#x540D;&#x3002;</span></p></dd></dl></dd></dl><dl class="class"><dt id="sqlalchemy.orm.session.Session"><span class="yiyi-st" id="yiyi-90"> <em class="property">class </em><code class="descclassname">sqlalchemy.orm.session.</code><code class="descname">Session</code><span class="sig-paren">(</span><em>bind=None</em>, <em>autoflush=True</em>, <em>expire_on_commit=True</em>, <em>_enable_transaction_accounting=True</em>, <em>autocommit=False</em>, <em>twophase=False</em>, <em>weak_identity_map=True</em>, <em>binds=None</em>, <em>extension=None</em>, <em>info=None</em>, <em>query_cls=&lt;class &apos;sqlalchemy.orm.query.Query&apos;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.session.Session" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-91">&#x57FA;&#x7840;&#xFF1A;<code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.orm.session._SessionClassMethods</span></code></span></p><p><span class="yiyi-st" id="yiyi-92">&#x7BA1;&#x7406;ORM&#x6620;&#x5C04;&#x5BF9;&#x8C61;&#x7684;&#x6301;&#x4E45;&#x6027;&#x64CD;&#x4F5C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-93">&#x4F1A;&#x8BDD;&#x7684;&#x4F7F;&#x7528;&#x8303;&#x4F8B;&#x5728;<a class="reference internal" href="session.html"><em>Using the Session</em></a>&#x4E2D;&#x63CF;&#x8FF0;&#x3002;</span></p><dl class="method"><dt id="sqlalchemy.orm.session.Session.__init__"><span class="yiyi-st" id="yiyi-94"> <code class="descname">__init__</code><span class="sig-paren">(</span><em>bind=None</em>, <em>autoflush=True</em>, <em>expire_on_commit=True</em>, <em>_enable_transaction_accounting=True</em>, <em>autocommit=False</em>, <em>twophase=False</em>, <em>weak_identity_map=True</em>, <em>binds=None</em>, <em>extension=None</em>, <em>info=None</em>, <em>query_cls=&lt;class &apos;sqlalchemy.orm.query.Query&apos;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.session.Session.__init__" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-95">&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4F1A;&#x8BDD;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-96">&#x53E6;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="#sqlalchemy.orm.session.sessionmaker" title="sqlalchemy.orm.session.sessionmaker"><code class="xref py py-class docutils literal"><span class="pre">sessionmaker</span></code></a>&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x7528;&#x4E8E;&#x751F;&#x6210;&#x5177;&#x6709;&#x7ED9;&#x5B9A;&#x53C2;&#x6570;&#x96C6;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x751F;&#x6210;&#x53EF;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-97">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-107"><span class="target" id="sqlalchemy.orm.session.Session.params.autocommit"></span> <strong>autocommit</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.params.autocommit">&#xB6;</a>  - </span><div class="admonition warning"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-98">&#x8B66;&#x544A;</span></p><p class="last"><span class="yiyi-st" id="yiyi-99">&#x81EA;&#x52A8;&#x63D0;&#x4EA4;&#x6807;&#x5FD7;<strong>&#x4E0D;&#x7528;&#x4E8E;&#x4E00;&#x822C;&#x7528;&#x9014;</strong>&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x53EA;&#x5E94;&#x5728;<a class="reference internal" href="#sqlalchemy.orm.session.Session.begin" title="sqlalchemy.orm.session.Session.begin"><code class="xref py py-meth docutils literal"><span class="pre">Session.begin()</span></code></a> / <a class="reference internal" href="#sqlalchemy.orm.session.Session.commit" title="sqlalchemy.orm.session.Session.commit"><code class="xref py py-meth docutils literal"><span class="pre">Session.commit()</span></code></a>&#x5BF9;&#x3002;</span><span class="yiyi-st" id="yiyi-100">&#x5728;&#x5212;&#x5B9A;&#x7684;&#x4E8B;&#x52A1;&#x4E4B;&#x5916;&#x6267;&#x884C;&#x67E5;&#x8BE2;&#x662F;&#x4F20;&#x7EDF;&#x7684;&#x4F7F;&#x7528;&#x6A21;&#x5F0F;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x5E76;&#x53D1;&#x8FDE;&#x63A5;&#x68C0;&#x51FA;&#x3002;</span></p></div><p><span class="yiyi-st" id="yiyi-101">&#x9ED8;&#x8BA4;&#x4E3A;<code class="docutils literal"><span class="pre">False</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-102">&#x5F53;<code class="docutils literal"><span class="pre">True</span></code>&#x65F6;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x4E0D;&#x4F1A;&#x4FDD;&#x6301;&#x6301;&#x7EED;&#x7684;&#x4E8B;&#x52A1;&#x5904;&#x4E8E;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#xFF0C;&#x5E76;&#x4E14;&#x4F1A;&#x6839;&#x636E;&#x9700;&#x8981;&#x4ECE;&#x5F15;&#x64CE;&#x83B7;&#x53D6;&#x8FDE;&#x63A5;&#xFF0C;&#x5E76;&#x5728;&#x4F7F;&#x7528;&#x540E;&#x7ACB;&#x5373;&#x8FD4;&#x56DE;&#x3002;</span><span class="yiyi-st" id="yiyi-103">&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4EA4;&#x6613;&#x5B58;&#x5728;&#xFF0C;&#x51B2;&#x6D17;&#x5C06;&#x5F00;&#x59CB;&#x5E76;&#x63D0;&#x4EA4;&#xFF08;&#x6216;&#x53EF;&#x80FD;&#x56DE;&#x6EDA;&#xFF09;&#x81EA;&#x5DF1;&#x7684;&#x4EA4;&#x6613;&#x3002;</span><span class="yiyi-st" id="yiyi-104">&#x4F7F;&#x7528;&#x6B64;&#x6A21;&#x5F0F;&#x65F6;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.session.Session.begin" title="sqlalchemy.orm.session.Session.begin"><code class="xref py py-meth docutils literal"><span class="pre">Session.begin()</span></code></a>&#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x663E;&#x5F0F;&#x542F;&#x52A8;&#x4E8B;&#x52A1;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-105">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-106"><a class="reference internal" href="session_transaction.html#session-autocommit"><span>Autocommit Mode</span></a></span></p></div></li><li><span class="yiyi-st" id="yiyi-108"><span class="target" id="sqlalchemy.orm.session.Session.params.autoflush"></span><strong>autoflush</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.params.autoflush">&#xB6;</a> &#x2013; When <code class="docutils literal"><span class="pre">True</span></code>, all query operations will issue a <a class="reference internal" href="#sqlalchemy.orm.session.Session.flush" title="sqlalchemy.orm.session.Session.flush"><code class="xref py py-meth docutils literal"><span class="pre">flush()</span></code></a> call to this <code class="docutils literal"><span class="pre">Session</span></code> before proceeding. </span><span class="yiyi-st" id="yiyi-109">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x65B9;&#x4FBF;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x56E0;&#x6B64;&#x65E0;&#x9700;&#x91CD;&#x590D;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.flush" title="sqlalchemy.orm.session.Session.flush"><code class="xref py py-meth docutils literal"><span class="pre">flush()</span></code></a>&#x4EE5;&#x4FBF;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x68C0;&#x7D22;&#x7ED3;&#x679C;&#x3002;</span><span class="yiyi-st" id="yiyi-110">&#x901A;&#x5E38;&#xFF0C;<code class="docutils literal"><span class="pre">autoflush</span></code>&#x4E0E;<code class="docutils literal"><span class="pre">autocommit=False</span></code>&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-111">&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5F88;&#x5C11;&#x9700;&#x8981;&#x663E;&#x5F0F;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.flush" title="sqlalchemy.orm.session.Session.flush"><code class="xref py py-meth docutils literal"><span class="pre">flush()</span></code></a>&#xFF1B;&#x4F60;&#x901A;&#x5E38;&#x53EA;&#x9700;&#x8981;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.commit" title="sqlalchemy.orm.session.Session.commit"><code class="xref py py-meth docutils literal"><span class="pre">commit()</span></code></a>&#xFF08;&#x5237;&#x65B0;&#xFF09;&#x6765;&#x5B8C;&#x6210;&#x66F4;&#x6539;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-112"><span class="target" id="sqlalchemy.orm.session.Session.params.bind"></span><strong>bind</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.params.bind">&#xB6;</a> &#x2013; An optional <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a> or <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a> to which this <code class="docutils literal"><span class="pre">Session</span></code> should be bound. </span><span class="yiyi-st" id="yiyi-113">&#x6307;&#x5B9A;&#x65F6;&#xFF0C;&#x6B64;&#x4F1A;&#x8BDD;&#x6267;&#x884C;&#x7684;&#x6240;&#x6709;SQL&#x64CD;&#x4F5C;&#x5C06;&#x901A;&#x8FC7;&#x6B64;&#x53EF;&#x8FDE;&#x63A5;&#x6267;&#x884C;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-121"><span class="target" id="sqlalchemy.orm.session.Session.params.binds"></span> <strong>&#x7ED1;&#x5B9A;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.params.binds">&#xB6;</a>  - </span><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-114">&#x5305;&#x542B;&#x66F4;&#x591A;&#x7C92;&#x5EA6;&#x7684;&#x53EF;&#x9009;&#x5B57;&#x5178;</span></dt><dd><span class="yiyi-st" id="yiyi-115">&#x201C;&#x7ED1;&#x5B9A;&#x201D;&#x4FE1;&#x606F;&#x6BD4;<code class="docutils literal"><span class="pre">bind</span></code>&#x53C2;&#x6570;&#x63D0;&#x4F9B;&#x7684;&#x4FE1;&#x606F;&#x3002;</span><span class="yiyi-st" id="yiyi-116">This dictionary can map individual :class`.Table` instances as well as <a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper.Mapper" title="sqlalchemy.orm.mapper.Mapper"><code class="xref py py-class docutils literal"><span class="pre">Mapper</span></code></a> instances to individual <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a> or <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a> objects. </span><span class="yiyi-st" id="yiyi-117">&#x76F8;&#x5BF9;&#x4E8E;&#x7279;&#x5B9A;<a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper.Mapper" title="sqlalchemy.orm.mapper.Mapper"><code class="xref py py-class docutils literal"><span class="pre">Mapper</span></code></a>&#x8FDB;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#x5C06;&#x67E5;&#x8BE2;&#x6B64;&#x5B57;&#x5178;&#x4E2D;&#x7684;&#x76F4;&#x63A5;<a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper.Mapper" title="sqlalchemy.orm.mapper.Mapper"><code class="xref py py-class docutils literal"><span class="pre">Mapper</span></code></a>&#x5B9E;&#x4F8B;&#x4EE5;&#x53CA;&#x6620;&#x5C04;&#x5668;&#x7684;<code class="docutils literal"><span class="pre">mapped_table</span></code>&#x5C5E;&#x6027;&#xFF0C;&#x4EE5;&#x4FBF;&#x627E;&#x5230;&#x53EF;&#x8FDE;&#x63A5;&#x4F7F;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-118">&#x5B8C;&#x6574;&#x7684;&#x5206;&#x8FA8;&#x7387;&#x5728;<a class="reference internal" href="#sqlalchemy.orm.session.Session.get_bind" title="sqlalchemy.orm.session.Session.get_bind"><code class="xref py py-meth docutils literal"><span class="pre">Session.get_bind()</span></code></a>&#x4E2D;&#x63CF;&#x8FF0;&#x3002;</span><span class="yiyi-st" id="yiyi-119">&#x7528;&#x6CD5;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</span><div class="last highlight-python"><div class="highlight"><pre><span></span><span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">binds</span><span class="o">=</span><span class="p">{</span>
    <span class="n">SomeMappedClass</span><span class="p">:</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">&apos;postgresql://engine1&apos;</span><span class="p">),</span>
    <span class="n">somemapper</span><span class="p">:</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">&apos;postgresql://engine2&apos;</span><span class="p">),</span>
    <span class="n">some_table</span><span class="p">:</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">&apos;postgresql://engine3&apos;</span><span class="p">),</span>
    <span class="p">})</span></pre></div></div></dd></dl><p><span class="yiyi-st" id="yiyi-120">&#x53E6;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="#sqlalchemy.orm.session.Session.bind_mapper" title="sqlalchemy.orm.session.Session.bind_mapper"><code class="xref py py-meth docutils literal"><span class="pre">Session.bind_mapper()</span></code></a>&#x548C;<a class="reference internal" href="#sqlalchemy.orm.session.Session.bind_table" title="sqlalchemy.orm.session.Session.bind_table"><code class="xref py py-meth docutils literal"><span class="pre">Session.bind_table()</span></code></a>&#x65B9;&#x6CD5;&#x3002;</span></p></li><li><span class="yiyi-st" id="yiyi-122"><span class="target" id="sqlalchemy.orm.session.Session.params.class_"></span><strong>class_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.params.class_">&#xB6;</a> &#x2013; Specify an alternate class other than <code class="docutils literal"><span class="pre">sqlalchemy.orm.session.Session</span></code> which should be used by the returned class. </span><span class="yiyi-st" id="yiyi-123">&#x8FD9;&#x662F;<a class="reference internal" href="#sqlalchemy.orm.session.sessionmaker" title="sqlalchemy.orm.session.sessionmaker"><code class="xref py py-class docutils literal"><span class="pre">sessionmaker</span></code></a>&#x51FD;&#x6570;&#x672C;&#x5730;&#x552F;&#x4E00;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x4E0D;&#x4F1A;&#x76F4;&#x63A5;&#x53D1;&#x9001;&#x7ED9;<code class="docutils literal"><span class="pre">Session</span></code>&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-124"><span class="target" id="sqlalchemy.orm.session.Session.params._enable_transaction_accounting"></span> <strong>_enable_transaction_accounting</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.params._enable_transaction_accounting">&#xB6;</a>  - &#x9ED8;&#x8BA4;&#x4E3A;<code class="docutils literal"><span class="pre">True</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-125">A legacy-only flag which when <code class="docutils literal"><span class="pre">False</span></code> disables <em>all</em> 0.5-style object accounting on transaction boundaries, including auto-expiry of instances on rollback and commit, maintenance of the &#x201C;new&#x201D; and &#x201C;deleted&#x201D; lists upon rollback, and autoflush of pending changes upon <a class="reference internal" href="#sqlalchemy.orm.session.Session.begin" title="sqlalchemy.orm.session.Session.begin"><code class="xref py py-meth docutils literal"><span class="pre">begin()</span></code></a>, all of which are interdependent.</span></li><li><span class="yiyi-st" id="yiyi-126"><span class="target" id="sqlalchemy.orm.session.Session.params.expire_on_commit"></span> <strong>expire_on_commit</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.params.expire_on_commit">&#xB6;</a>  - &#x9ED8;&#x8BA4;&#x4E3A;<code class="docutils literal"><span class="pre">True</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-127">&#x5F53;<code class="docutils literal"><span class="pre">True</span></code>&#x65F6;&#xFF0C;&#x6240;&#x6709;&#x5B9E;&#x4F8B;&#x5C06;&#x5728;&#x6BCF;&#x4E2A;<a class="reference internal" href="#sqlalchemy.orm.session.Session.commit" title="sqlalchemy.orm.session.Session.commit"><code class="xref py py-meth docutils literal"><span class="pre">commit()</span></code></a>&#x540E;&#x5B8C;&#x5168;&#x8FC7;&#x671F;&#xFF0C;&#x4EE5;&#x4FBF;&#x5B8C;&#x6210;&#x7684;&#x4E8B;&#x52A1;&#x4E4B;&#x540E;&#x7684;&#x6240;&#x6709;&#x5C5E;&#x6027;/&#x5BF9;&#x8C61;&#x8BBF;&#x95EE;&#x5C06;&#x4ECE;&#x6700;&#x8FD1;&#x7684;&#x6570;&#x636E;&#x5E93;&#x72B6;&#x6001;&#x52A0;&#x8F7D;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-128"><span class="target" id="sqlalchemy.orm.session.Session.params.extension"></span><strong>extension</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.params.extension">&#xB6;</a> &#x2013; An optional <a class="reference internal" href="deprecated.html#sqlalchemy.orm.interfaces.SessionExtension" title="sqlalchemy.orm.interfaces.SessionExtension"><code class="xref py py-class docutils literal"><span class="pre">SessionExtension</span></code></a> instance, or a list of such instances, which will receive pre- and post- commit and flush events, as well as a post-rollback event. </span><span class="yiyi-st" id="yiyi-129"><strong>&#x5DF2;&#x8FC7;&#x65F6;&#x3002; T0&gt;</strong></span><span class="yiyi-st" id="yiyi-130">&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="events.html#sqlalchemy.orm.events.SessionEvents" title="sqlalchemy.orm.events.SessionEvents"><code class="xref py py-class docutils literal"><span class="pre">SessionEvents</span></code></a>&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-135"><span class="target" id="sqlalchemy.orm.session.Session.params.info"></span> <strong>info</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.params.info">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-131">&#x4EFB;&#x610F;&#x6570;&#x636E;&#x7684;&#x53EF;&#x9009;&#x5B57;&#x5178;&#x5C06;&#x4E0E;&#x6B64;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5173;&#x8054;&#x3002;</span><span class="yiyi-st" id="yiyi-132">&#x901A;&#x8FC7;<a class="reference internal" href="#sqlalchemy.orm.session.Session.info" title="sqlalchemy.orm.session.Session.info"><code class="xref py py-attr docutils literal"><span class="pre">Session.info</span></code></a>&#x5C5E;&#x6027;&#x53EF;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-133">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5B57;&#x5178;&#x5728;&#x6784;&#x5EFA;&#x65F6;&#x88AB;&#x590D;&#x5236;&#xFF0C;&#x4EE5;&#x4FBF;&#x5BF9;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5B57;&#x5178;&#x7684;&#x4FEE;&#x6539;&#x5C06;&#x5728;&#x672C;&#x5730;&#x5230;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-134"><span class="versionmodified">&#x7248;&#x672C;0.9.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></li><li><span class="yiyi-st" id="yiyi-136"><span class="target" id="sqlalchemy.orm.session.Session.params.query_cls"></span><strong>query_cls</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.params.query_cls">&#xB6;</a> &#x2013; Class which should be used to create new Query objects, as returned by the <a class="reference internal" href="#sqlalchemy.orm.session.Session.query" title="sqlalchemy.orm.session.Session.query"><code class="xref py py-meth docutils literal"><span class="pre">query()</span></code></a> method. </span><span class="yiyi-st" id="yiyi-137">&#x9ED8;&#x8BA4;&#x4E3A;<a class="reference internal" href="query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-138"><span class="target" id="sqlalchemy.orm.session.Session.params.twophase"></span><strong>twophase</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.params.twophase">&#xB6;</a> &#x2013; When <code class="docutils literal"><span class="pre">True</span></code>, all transactions will be started as a &#x201C;two phase&#x201D; transaction, i.e. using the &#x201C;two phase&#x201D; semantics of the database in use along with an XID. </span><span class="yiyi-st" id="yiyi-139">During a <a class="reference internal" href="#sqlalchemy.orm.session.Session.commit" title="sqlalchemy.orm.session.Session.commit"><code class="xref py py-meth docutils literal"><span class="pre">commit()</span></code></a>, after <a class="reference internal" href="#sqlalchemy.orm.session.Session.flush" title="sqlalchemy.orm.session.Session.flush"><code class="xref py py-meth docutils literal"><span class="pre">flush()</span></code></a> has been issued for all attached databases, the <a class="reference internal" href="core_connections.html#sqlalchemy.engine.TwoPhaseTransaction.prepare" title="sqlalchemy.engine.TwoPhaseTransaction.prepare"><code class="xref py py-meth docutils literal"><span class="pre">prepare()</span></code></a> method on each database&#x2019;s <a class="reference internal" href="core_connections.html#sqlalchemy.engine.TwoPhaseTransaction" title="sqlalchemy.engine.TwoPhaseTransaction"><code class="xref py py-class docutils literal"><span class="pre">TwoPhaseTransaction</span></code></a> will be called. </span><span class="yiyi-st" id="yiyi-140">&#x8FD9;&#x5141;&#x8BB8;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5728;&#x6BCF;&#x4E2A;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x4E4B;&#x524D;&#x56DE;&#x6EDA;&#x6574;&#x4E2A;&#x4E8B;&#x52A1;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-141"><span class="target" id="sqlalchemy.orm.session.Session.params.weak_identity_map"></span><strong>weak_identity_map</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.params.weak_identity_map">&#xB6;</a> &#x2013; Defaults to <code class="docutils literal"><span class="pre">True</span></code> - when set to <code class="docutils literal"><span class="pre">False</span></code>, objects placed in the <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> will be strongly referenced until explicitly removed or the <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> is closed. </span><span class="yiyi-st" id="yiyi-142"><strong>&#x5F03;&#x7528;</strong>  - &#x5F3A;&#x53C2;&#x8003;&#x8EAB;&#x4EFD;&#x5730;&#x56FE;&#x662F;&#x9057;&#x7559;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-143">&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="session_state_management.html#session-referencing-behavior"><span>Session Referencing Behavior</span></a>&#x4E2D;&#x7684;&#x914D;&#x65B9;&#xFF0C;&#x4E86;&#x89E3;&#x57FA;&#x4E8E;&#x4E8B;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;&#x4EE5;&#x7EF4;&#x62A4;&#x5F3A;&#x58EE;&#x7684;&#x8EAB;&#x4EFD;&#x53C2;&#x8003;&#x3002;</span></li></ul></td></tr></tbody></table></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.add"><span class="yiyi-st" id="yiyi-144"><code class="descname">add</code> <span class="sig-paren">&#xFF08;</span> <em>instance</em>&#xFF0C;<em>_warn = True</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.session.Session.add" title="Permalink to this definition"> t5 &gt;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-145">&#x5728;<code class="docutils literal"><span class="pre">Session</span></code>&#x4E2D;&#x653E;&#x7F6E;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-146">&#x5B83;&#x7684;&#x72B6;&#x6001;&#x5C06;&#x5728;&#x4E0B;&#x4E00;&#x6B21;&#x5237;&#x65B0;&#x64CD;&#x4F5C;&#x65F6;&#x6301;&#x7EED;&#x5230;&#x6570;&#x636E;&#x5E93;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-147">&#x91CD;&#x590D;&#x8C03;&#x7528;<code class="docutils literal"><span class="pre">add()</span></code>&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;</span><span class="yiyi-st" id="yiyi-148">&#x4E0E;<code class="docutils literal"><span class="pre">add()</span></code>&#x76F8;&#x53CD;&#x7684;&#x662F;<code class="docutils literal"><span class="pre">expunge()</span></code>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.add_all"><span class="yiyi-st" id="yiyi-149"><code class="descname"> add_all  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x5B9E;&#x4F8B; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.add_all" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-150">&#x5C06;&#x7ED9;&#x5B9A;&#x7684;&#x5B9E;&#x4F8B;&#x96C6;&#x5408;&#x6DFB;&#x52A0;&#x5230;&#x6B64;<code class="docutils literal"><span class="pre">Session</span></code>&#x4E2D;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.begin"><span class="yiyi-st" id="yiyi-151"> <code class="descname">begin</code><span class="sig-paren">(</span><em>subtransactions=False</em>, <em>nested=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.session.Session.begin" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-152">&#x5728;&#x6B64;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x4E0A;&#x5F00;&#x59CB;&#x4EA4;&#x6613;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-153">&#x5982;&#x679C;&#x6B64;&#x4F1A;&#x8BDD;&#x5DF2;&#x7ECF;&#x5728;&#x4E8B;&#x52A1;&#x4E2D;&#xFF0C;&#x65E0;&#x8BBA;&#x662F;&#x660E;&#x6587;&#x4E8B;&#x52A1;&#x8FD8;&#x662F;&#x5D4C;&#x5957;&#x4E8B;&#x52A1;&#xFF0C;&#x90FD;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#xFF0C;&#x9664;&#x975E;&#x6307;&#x5B9A;&#x4E86;<code class="docutils literal"><span class="pre">subtransactions=True</span></code>&#x6216;<code class="docutils literal"><span class="pre">nested=True</span></code>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-154"><code class="docutils literal"><span class="pre">subtransactions=True</span></code>&#x6807;&#x5FD7;&#x6307;&#x793A;&#x5982;&#x679C;&#x4E8B;&#x52A1;&#x5DF2;&#x7ECF;&#x5728;&#x8FDB;&#x884C;&#x4E2D;&#xFF0C;&#x5219;&#x6B64;<a class="reference internal" href="#sqlalchemy.orm.session.Session.begin" title="sqlalchemy.orm.session.Session.begin"><code class="xref py py-meth docutils literal"><span class="pre">begin()</span></code></a>&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x5B50;&#x4E8B;&#x52A1;&#x3002;</span><span class="yiyi-st" id="yiyi-155">&#x6709;&#x5173;&#x5B50;&#x4E8B;&#x52A1;&#x7684;&#x6587;&#x6863;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="session_transaction.html#session-subtransactions"><span>Using Subtransactions with Autocommit</span></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-156"><code class="docutils literal"><span class="pre">nested</span></code>&#x6807;&#x5FD7;&#x5F00;&#x59CB;&#x4E00;&#x4E2A;SAVEPOINT&#x4E8B;&#x52A1;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.begin_nested" title="sqlalchemy.orm.session.Session.begin_nested"><code class="xref py py-meth docutils literal"><span class="pre">begin_nested()</span></code></a>&#x3002;</span><span class="yiyi-st" id="yiyi-157">&#x6709;&#x5173;SAVEPOINT&#x4EA4;&#x6613;&#x7684;&#x6587;&#x6863;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="session_transaction.html#session-begin-nested"><span>Using SAVEPOINT</span></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.begin_nested"><span class="yiyi-st" id="yiyi-158"><code class="descname"> begin_nested  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.begin_nested" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-159">&#x5728;&#x6B64;&#x4F1A;&#x8BDD;&#x4E0A;&#x5F00;&#x59CB;&#x4E00;&#x4E2A;<cite>&#x5D4C;&#x5957;</cite>&#x4E8B;&#x52A1;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-160">&#x76EE;&#x6807;&#x6570;&#x636E;&#x5E93;&#x5FC5;&#x987B;&#x652F;&#x6301;SQL SAVEPOINT&#x6216;&#x652F;&#x6301;SQLAlchemy&#x7684;&#x4F9B;&#x5E94;&#x5546;&#x5B9E;&#x73B0;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-161">&#x6709;&#x5173;SAVEPOINT&#x4EA4;&#x6613;&#x7684;&#x6587;&#x6863;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="session_transaction.html#session-begin-nested"><span>Using SAVEPOINT</span></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.bind_mapper"><span class="yiyi-st" id="yiyi-162"> <code class="descname">bind_mapper</code><span class="sig-paren">(</span><em>mapper</em>, <em>bind</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.session.Session.bind_mapper" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-163">&#x5C06;<a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper.Mapper" title="sqlalchemy.orm.mapper.Mapper"><code class="xref py py-class docutils literal"><span class="pre">Mapper</span></code></a>&#x4E0E;&#x201C;&#x7ED1;&#x5B9A;&#x201D;&#x76F8;&#x5173;&#x8054;&#xFF0C;&#x4F8B;&#x5982;&#x4E00;&#x4E2A;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>&#x6216;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-164">&#x7ED9;&#x5B9A;&#x7684;&#x6620;&#x5C04;&#x5668;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x7531;<a class="reference internal" href="#sqlalchemy.orm.session.Session.get_bind" title="sqlalchemy.orm.session.Session.get_bind"><code class="xref py py-meth docutils literal"><span class="pre">Session.get_bind()</span></code></a>&#x65B9;&#x6CD5;&#x4F7F;&#x7528;&#x7684;&#x67E5;&#x627E;&#x4E2D;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.bind_table"><span class="yiyi-st" id="yiyi-165"> <code class="descname">bind_table</code><span class="sig-paren">(</span><em>table</em>, <em>bind</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.session.Session.bind_table" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-166">&#x5C06;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x4E0E;&#x201C;&#x7ED1;&#x5B9A;&#x201D;&#x76F8;&#x5173;&#x8054;&#xFF0C;&#x4F8B;&#x5982;&#x4E00;&#x4E2A;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>&#x6216;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-167">&#x7ED9;&#x5B9A;&#x7684;&#x6620;&#x5C04;&#x5668;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x7531;<a class="reference internal" href="#sqlalchemy.orm.session.Session.get_bind" title="sqlalchemy.orm.session.Session.get_bind"><code class="xref py py-meth docutils literal"><span class="pre">Session.get_bind()</span></code></a>&#x65B9;&#x6CD5;&#x4F7F;&#x7528;&#x7684;&#x67E5;&#x627E;&#x4E2D;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.bulk_insert_mappings"><span class="yiyi-st" id="yiyi-168"> <code class="descname">bulk_insert_mappings</code><span class="sig-paren">(</span><em>mapper</em>, <em>mappings</em>, <em>return_defaults=False</em>, <em>render_nulls=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.session.Session.bulk_insert_mappings" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-169">&#x6267;&#x884C;&#x7ED9;&#x5B9A;&#x6620;&#x5C04;&#x8BCD;&#x5178;&#x5217;&#x8868;&#x7684;&#x6279;&#x91CF;&#x63D2;&#x5165;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-170">&#x6279;&#x91CF;&#x63D2;&#x5165;&#x529F;&#x80FD;&#x5141;&#x8BB8;&#x5C06;&#x666E;&#x901A;&#x7684;Python&#x5B57;&#x5178;&#x7528;&#x4F5C;&#x7B80;&#x5355;INSERT&#x64CD;&#x4F5C;&#x7684;&#x6765;&#x6E90;&#xFF0C;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x53EF;&#x4EE5;&#x66F4;&#x5BB9;&#x6613;&#x5730;&#x7EC4;&#x5408;&#x4E3A;&#x66F4;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x201C;&#x6267;&#x884C;&#x201D;&#x64CD;&#x4F5C;&#x3002;</span><span class="yiyi-st" id="yiyi-171">&#x4F7F;&#x7528;&#x5B57;&#x5178;&#x65F6;&#xFF0C;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x201C;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x201D;&#x6216;&#x4F1A;&#x8BDD;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x63D2;&#x5165;&#x5927;&#x91CF;&#x7B80;&#x5355;&#x884C;&#x65F6;&#x51CF;&#x5C11;&#x5EF6;&#x8FDF;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-172">&#x5728;&#x7ED9;&#x5B9A;&#x6620;&#x5C04;&#x5668;&#x6620;&#x5C04;&#x5230;&#x7684;&#x8868;&#x5185;&#x7EC4;&#x7EC7;&#x5B83;&#x4EEC;&#x4E2D;&#x7684;&#x503C;&#x4E4B;&#x540E;&#xFF0C;&#x5B57;&#x5178;&#x4E2D;&#x7ED9;&#x5B9A;&#x7684;&#x503C;&#x901A;&#x5E38;&#x5728;&#x672A;&#x4FEE;&#x6539;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4F20;&#x9012;&#x5230;Core <code class="xref py py-meth docutils literal"><span class="pre">Insert()</span></code>&#x7ED3;&#x6784;&#x4E2D;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-173"><span class="versionmodified">&#x7248;&#x672C;1.0.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition warning"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-174">&#x8B66;&#x544A;</span></p><p><span class="yiyi-st" id="yiyi-175">&#x6279;&#x91CF;&#x63D2;&#x5165;&#x529F;&#x80FD;&#x5141;&#x8BB8;&#x4EE5;&#x66F4;&#x4F4E;&#x5EF6;&#x8FDF;&#x7684;&#x884C;&#x63D2;&#x5165;&#x4EE3;&#x4EF7;&#x6765;&#x5B9E;&#x73B0;&#x5927;&#x591A;&#x6570;&#x5176;&#x4ED6;&#x5DE5;&#x4F5C;&#x5355;&#x5143;&#x529F;&#x80FD;&#x3002;</span><span class="yiyi-st" id="yiyi-176">Features such as object management, relationship handling, and SQL clause support are <strong>silently omitted</strong> in favor of raw INSERT of records.</span></p><p class="last"><span class="yiyi-st" id="yiyi-177"><strong>&#x5728;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#xFF0C;&#x8BF7;&#x9605;&#x8BFB;</strong> <a class="reference internal" href="persistence_techniques.html#bulk-operations"><span>Bulk Operations</span></a> <strong>&#x4E2D;&#x7684;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#x5217;&#x8868;&#xFF0C;&#x5E76;&#x5B8C;&#x5168;&#x6D4B;&#x8BD5;&#x5E76;&#x786E;&#x8BA4;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x7CFB;&#x7EDF;&#x5F00;&#x53D1;&#x7684;&#x6240;&#x6709;&#x4EE3;&#x7801;&#x7684;&#x529F;&#x80FD;&#x3002;</strong></span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-178">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-179"><span class="target" id="sqlalchemy.orm.session.Session.bulk_insert_mappings.params.mapper"></span><strong>mapper</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.bulk_insert_mappings.params.mapper">&#xB6;</a> &#x2013; a mapped class, or the actual <a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper.Mapper" title="sqlalchemy.orm.mapper.Mapper"><code class="xref py py-class docutils literal"><span class="pre">Mapper</span></code></a> object, representing the single kind of object represented within the mapping list.</span></li><li><span class="yiyi-st" id="yiyi-180"><span class="target" id="sqlalchemy.orm.session.Session.bulk_insert_mappings.params.mappings">  T0&gt; <strong>&#x6620;&#x5C04; T1&gt; <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.bulk_insert_mappings.params.mappings">&#xB6; T2&gt;  - &#x5B57;&#x5178;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x5C06;&#x88AB;&#x63D2;&#x5165;&#x6BCF;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x6620;&#x5C04;&#x884C;&#x7684;&#x72B6;&#x6001;&#x4E0B;&#xFF0C;&#x5728;&#x4E0A;&#x7684;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x7684;&#x672F;&#x8BED;&#x6620;&#x5C04;&#x7C7B;&#x3002;</a></strong></span></span><span class="yiyi-st" id="yiyi-181">&#x5982;&#x679C;&#x6620;&#x5C04;&#x6D89;&#x53CA;&#x591A;&#x4E2A;&#x8868;&#xFF08;&#x5982;&#x8054;&#x5408;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#xFF09;&#xFF0C;&#x5219;&#x6BCF;&#x4E2A;&#x5B57;&#x5178;&#x90FD;&#x5FC5;&#x987B;&#x5305;&#x542B;&#x8981;&#x586B;&#x5145;&#x5230;&#x6240;&#x6709;&#x8868;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x952E;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-182"><span class="target" id="sqlalchemy.orm.session.Session.bulk_insert_mappings.params.return_defaults"></span><strong>return_defaults</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.bulk_insert_mappings.params.return_defaults">&#xB6;</a> &#x2013; when True, rows that are missing values which generate defaults, namely integer primary key defaults and sequences, will be inserted <strong>one at a time</strong>, so that the primary key value is available. </span><span class="yiyi-st" id="yiyi-183">&#x7279;&#x522B;&#x662F;&#xFF0C;&#x8FD9;&#x5C06;&#x5141;&#x8BB8;&#x52A0;&#x5165;&#x7EE7;&#x627F;&#x548C;&#x5176;&#x4ED6;&#x591A;&#x8868;&#x6620;&#x5C04;&#x6B63;&#x786E;&#x63D2;&#x5165;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x63D0;&#x524D;&#x63D0;&#x4F9B;&#x4E3B;&#x952E;&#x503C;&#xFF1B;&#x7136;&#x800C;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.session.Session.bulk_insert_mappings.params.return_defaults" title="sqlalchemy.orm.session.Session.bulk_insert_mappings"><code class="xref py py-paramref docutils literal"><span class="pre">Session.bulk_insert_mappings.return_defaults</span></code></a> <strong>&#x5927;&#x5927;&#x964D;&#x4F4E;&#x4E86;&#x6574;&#x4F53;&#x65B9;&#x6CD5;&#x7684;&#x6027;&#x80FD;&#x589E;&#x76CA;&#x3002;</strong></span><span class="yiyi-st" id="yiyi-184">&#x5982;&#x679C;&#x8981;&#x63D2;&#x5165;&#x7684;&#x884C;&#x4EC5;&#x5F15;&#x7528;&#x5355;&#x4E2A;&#x8868;&#xFF0C;&#x90A3;&#x4E48;&#x6CA1;&#x6709;&#x7406;&#x7531;&#x8BBE;&#x7F6E;&#x6B64;&#x6807;&#x5FD7;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0D;&#x4F7F;&#x7528;&#x8FD4;&#x56DE;&#x7684;&#x9ED8;&#x8BA4;&#x4FE1;&#x606F;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-193"><span class="target" id="sqlalchemy.orm.session.Session.bulk_insert_mappings.params.render_nulls"></span> <strong>render_nulls</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.bulk_insert_mappings.params.render_nulls">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-185">&#x5F53;&#x4E3A;True&#x65F6;&#xFF0C;<code class="docutils literal"><span class="pre">None</span></code>&#x7684;&#x503C;&#x5C06;&#x5BFC;&#x81F4;INSERT&#x8BED;&#x53E5;&#x4E2D;&#x5305;&#x542B;NULL&#x503C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;INSERT&#x4E2D;&#x7701;&#x7565;&#x7684;&#x5217;&#x3002;</span><span class="yiyi-st" id="yiyi-186">&#x8FD9;&#x5141;&#x8BB8;&#x6240;&#x6709;&#x88AB;&#x63D2;&#x5165;&#x7684;&#x884C;&#x5177;&#x6709;&#x76F8;&#x540C;&#x7684;&#x4E00;&#x7EC4;&#x5217;&#xFF0C;&#x8FD9;&#x5141;&#x8BB8;&#x5C06;&#x5168;&#x90E8;&#x884C;&#x96C6;&#x5408;&#x5230;DBAPI&#x3002;</span><span class="yiyi-st" id="yiyi-187">&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5305;&#x542B;&#x4E0E;&#x524D;&#x4E00;&#x884C;&#x4E0D;&#x540C;&#x7684;NULL&#x503C;&#x7EC4;&#x5408;&#x7684;&#x6BCF;&#x4E2A;&#x5217;&#x96C6;&#x5FC5;&#x987B;&#x4ECE;&#x6240;&#x5448;&#x73B0;&#x7684;INSERT&#x8BED;&#x53E5;&#x4E2D;&#x7701;&#x7565;&#x4E0D;&#x540C;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x5217;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5B83;&#x5FC5;&#x987B;&#x4F5C;&#x4E3A;&#x5355;&#x72EC;&#x7684;&#x8BED;&#x53E5;&#x53D1;&#x5E03;&#x3002;</span><span class="yiyi-st" id="yiyi-188">&#x901A;&#x8FC7;&#x4F20;&#x9012;&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#xFF0C;&#x6574;&#x5957;&#x884C;&#x4FDD;&#x8BC1;&#x53EF;&#x6279;&#x91CF;&#x5316;&#x4E3A;&#x4E00;&#x4E2A;&#x6279;&#x6B21;&#xFF1B;&#x4F46;&#x662F;&#x8D39;&#x7528;&#x662F;&#x7531;&#x7701;&#x7565;&#x5217;&#x8C03;&#x7528;&#x7684;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x9ED8;&#x8BA4;&#x503C;&#x5C06;&#x88AB;&#x8DF3;&#x8FC7;&#xFF0C;&#x56E0;&#x6B64;&#x5FC5;&#x987B;&#x5C0F;&#x5FC3;&#x786E;&#x4FDD;&#x8FD9;&#x4E9B;&#x4E0D;&#x662F;&#x5FC5;&#x9700;&#x7684;&#x3002;</span></p><div class="admonition warning"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-189">&#x8B66;&#x544A;</span></p><p class="last"><span class="yiyi-st" id="yiyi-190">&#x8BBE;&#x7F6E;&#x6B64;&#x6807;&#x5FD7;&#x65F6;&#xFF0C;&#x5BF9;&#x4E8E;&#x63D2;&#x5165;&#x4E3A;NULL&#x7684;&#x5217;&#xFF0C;<strong>&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x9ED8;&#x8BA4;SQL&#x503C;&#x4E0D;&#x4F1A;&#x88AB;&#x8C03;&#x7528;</strong>&#xFF1B; NULL&#x503C;&#x5C06;&#x88AB;&#x660E;&#x786E;&#x53D1;&#x9001;&#x3002;</span><span class="yiyi-st" id="yiyi-191">&#x5FC5;&#x987B;&#x6CE8;&#x610F;&#x786E;&#x4FDD;&#x4E0D;&#x9700;&#x8981;&#x4E3A;&#x6574;&#x4E2A;&#x64CD;&#x4F5C;&#x8C03;&#x7528;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x9ED8;&#x8BA4;&#x529F;&#x80FD;&#x3002;</span></p></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-192"><span class="versionmodified">&#x7248;&#x672C;1.1&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-194">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-195"><a class="reference internal" href="persistence_techniques.html#bulk-operations"><span>Bulk Operations</span></a></span></p><p><span class="yiyi-st" id="yiyi-196"><a class="reference internal" href="#sqlalchemy.orm.session.Session.bulk_save_objects" title="sqlalchemy.orm.session.Session.bulk_save_objects"><code class="xref py py-meth docutils literal"><span class="pre">Session.bulk_save_objects()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-197"><a class="reference internal" href="#sqlalchemy.orm.session.Session.bulk_update_mappings" title="sqlalchemy.orm.session.Session.bulk_update_mappings"><code class="xref py py-meth docutils literal"><span class="pre">Session.bulk_update_mappings()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.bulk_save_objects"><span class="yiyi-st" id="yiyi-198"><code class="descname">bulk_save_objects</code> <span class="sig-paren">&#xFF08;</span> <em>objects</em>&#xFF0C;<em>return_defaults = False</em>&#xFF0C;<em>update_changed_only = True</em> <span class="sig-paren">&#xFF09;  T5&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.bulk_save_objects" title="Permalink to this definition">&#xB6; T6&gt;</a></span></span></dt><dd><p><span class="yiyi-st" id="yiyi-199">&#x6267;&#x884C;&#x7ED9;&#x5B9A;&#x5BF9;&#x8C61;&#x5217;&#x8868;&#x7684;&#x6279;&#x91CF;&#x4FDD;&#x5B58;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-200">&#x6279;&#x91CF;&#x4FDD;&#x5B58;&#x529F;&#x80FD;&#x5141;&#x8BB8;&#x6620;&#x5C04;&#x5BF9;&#x8C61;&#x7528;&#x4F5C;&#x7B80;&#x5355;INSERT&#x548C;UPDATE&#x64CD;&#x4F5C;&#x7684;&#x6765;&#x6E90;&#xFF0C;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x53EF;&#x4EE5;&#x66F4;&#x5BB9;&#x6613;&#x5730;&#x7EC4;&#x5408;&#x4E3A;&#x66F4;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x201C;executemany&#x201D;&#x64CD;&#x4F5C;&#xFF1B;&#x4ECE;&#x5BF9;&#x8C61;&#x4E2D;&#x63D0;&#x53D6;&#x6570;&#x636E;&#x4E5F;&#x4F7F;&#x7528;&#x4F4E;&#x5EF6;&#x8FDF;&#x8FDB;&#x7A0B;&#x6267;&#x884C;&#xFF0C;&#x5FFD;&#x7565;UPDATE&#x4E2D;&#x662F;&#x5426;&#x5B9E;&#x9645;&#x4FEE;&#x6539;&#x4E86;&#x5C5E;&#x6027;&#xFF0C;&#x8FD8;&#x5FFD;&#x7565;&#x4E86;SQL&#x8868;&#x8FBE;&#x5F0F;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-201">&#x7ED9;&#x5B9A;&#x7684;&#x5BF9;&#x8C61;&#x4E0D;&#x4F1A;&#x6DFB;&#x52A0;&#x5230;&#x4F1A;&#x8BDD;&#x4E2D;&#xFF0C;&#x9664;&#x975E;&#x8FD8;&#x8BBE;&#x7F6E;&#x4E86;<code class="docutils literal"><span class="pre">return_defaults</span></code>&#x6807;&#x5FD7;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x4E0D;&#x4F1A;&#x521B;&#x5EFA;&#x5176;&#x4ED6;&#x72B6;&#x6001;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5C06;&#x4F1A;&#x586B;&#x5145;&#x4E3B;&#x952E;&#x5C5E;&#x6027;&#x548C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-202"><span class="versionmodified">&#x7248;&#x672C;1.0.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition warning"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-203">&#x8B66;&#x544A;</span></p><p><span class="yiyi-st" id="yiyi-204">&#x6279;&#x91CF;&#x4FDD;&#x5B58;&#x529F;&#x80FD;&#x5141;&#x8BB8;&#x4EE5;&#x5927;&#x90E8;&#x5206;&#x5176;&#x4ED6;&#x5DE5;&#x4F5C;&#x5355;&#x5143;&#x529F;&#x80FD;&#x4E3A;&#x4EE3;&#x4EF7;&#x5B9E;&#x73B0;&#x884C;&#x5EF6;&#x8FDF;&#x66F4;&#x4F4E;&#x7684;INSERT / UPDATE&#x3002;</span><span class="yiyi-st" id="yiyi-205">Features such as object management, relationship handling, and SQL clause support are <strong>silently omitted</strong> in favor of raw INSERT/UPDATES of records.</span></p><p class="last"><span class="yiyi-st" id="yiyi-206"><strong>&#x5728;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#xFF0C;&#x8BF7;&#x9605;&#x8BFB;</strong> <a class="reference internal" href="persistence_techniques.html#bulk-operations"><span>Bulk Operations</span></a> <strong>&#x4E2D;&#x7684;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#x5217;&#x8868;&#xFF0C;&#x5E76;&#x5B8C;&#x5168;&#x6D4B;&#x8BD5;&#x5E76;&#x786E;&#x8BA4;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x7CFB;&#x7EDF;&#x5F00;&#x53D1;&#x7684;&#x6240;&#x6709;&#x4EE3;&#x7801;&#x7684;&#x529F;&#x80FD;&#x3002;</strong></span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-207">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-214"><span class="target" id="sqlalchemy.orm.session.Session.bulk_save_objects.params.objects"></span> <strong>&#x5BF9;&#x8C61;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.bulk_save_objects.params.objects">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-208">&#x4E00;&#x4E2A;&#x6620;&#x5C04;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#x7684;&#x5217;&#x8868;&#x3002;</span><span class="yiyi-st" id="yiyi-209">&#x6620;&#x5C04;&#x7684;&#x5BF9;&#x8C61;&#x4FDD;&#x6301;&#x539F;&#x6837;&#xFF0C;&#x4E4B;&#x540E;<strong>&#x4E0D;</strong>&#x4E0E;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5173;&#x8054;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-210">&#x5BF9;&#x4E8E;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5BF9;&#x8C61;&#x662F;&#x5426;&#x4F5C;&#x4E3A;INSERT&#x6216;UPDATE&#x53D1;&#x9001;&#x53D6;&#x51B3;&#x4E8E;&#x4F20;&#x7EDF;&#x64CD;&#x4F5C;&#x4E2D;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x4F7F;&#x7528;&#x7684;&#x76F8;&#x540C;&#x89C4;&#x5219;&#xFF1B;&#x5982;&#x679C;&#x5BF9;&#x8C61;&#x5177;&#x6709;<code class="xref py py-attr docutils literal"><span class="pre">InstanceState.key</span></code>&#x5C5E;&#x6027;&#x96C6;&#xFF0C;&#x5219;&#x8BE5;&#x5BF9;&#x8C61;&#x88AB;&#x5047;&#x5B9A;&#x4E3A;&#x201C;&#x5206;&#x79BB;&#x201D;&#x5E76;&#x4E14;&#x5C06;&#x5BFC;&#x81F4;UPDATE&#x3002;</span><span class="yiyi-st" id="yiyi-211">&#x5426;&#x5219;&#xFF0C;&#x4F7F;&#x7528;INSERT&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-212">&#x5728;UPDATE&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8BED;&#x53E5;&#x6839;&#x636E;&#x54EA;&#x4E9B;&#x5C5E;&#x6027;&#x53D1;&#x751F;&#x4E86;&#x53D8;&#x5316;&#x8FDB;&#x884C;&#x5206;&#x7EC4;&#xFF0C;&#x5E76;&#x56E0;&#x6B64;&#x6210;&#x4E3A;&#x6BCF;&#x4E2A;SET&#x5B50;&#x53E5;&#x7684;&#x4E3B;&#x9898;&#x3002;</span><span class="yiyi-st" id="yiyi-213">&#x5982;&#x679C;<code class="docutils literal"><span class="pre">update_changed_only</span></code>&#x4E3A;False&#xFF0C;&#x90A3;&#x4E48;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5C5E;&#x6027;&#x90FD;&#x4F1A;&#x5E94;&#x7528;&#x5230;UPDATE&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x6709;&#x52A9;&#x4E8E;&#x5141;&#x8BB8;&#x5C06;&#x8BED;&#x53E5;&#x7EC4;&#x5408;&#x5230;&#x4E00;&#x4E2A;&#x66F4;&#x5927;&#x7684;executemany()&#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x8FD8;&#x4F1A;&#x51CF;&#x5C11;&#x5F00;&#x9500;&#x68C0;&#x67E5;&#x5C5E;&#x6027;&#x7684;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x3002;</span></p></li><li><span class="yiyi-st" id="yiyi-215"><span class="target" id="sqlalchemy.orm.session.Session.bulk_save_objects.params.return_defaults"></span><strong>return_defaults</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.bulk_save_objects.params.return_defaults">&#xB6;</a> &#x2013; when True, rows that are missing values which generate defaults, namely integer primary key defaults and sequences, will be inserted <strong>one at a time</strong>, so that the primary key value is available. </span><span class="yiyi-st" id="yiyi-216">&#x7279;&#x522B;&#x662F;&#xFF0C;&#x8FD9;&#x5C06;&#x5141;&#x8BB8;&#x52A0;&#x5165;&#x7EE7;&#x627F;&#x548C;&#x5176;&#x4ED6;&#x591A;&#x8868;&#x6620;&#x5C04;&#x6B63;&#x786E;&#x63D2;&#x5165;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x63D0;&#x524D;&#x63D0;&#x4F9B;&#x4E3B;&#x952E;&#x503C;&#xFF1B;&#x7136;&#x800C;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.session.Session.bulk_save_objects.params.return_defaults" title="sqlalchemy.orm.session.Session.bulk_save_objects"><code class="xref py py-paramref docutils literal"><span class="pre">Session.bulk_save_objects.return_defaults</span></code></a> <strong>&#x5927;&#x5927;&#x964D;&#x4F4E;&#x4E86;&#x6574;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x6027;&#x80FD;&#x589E;&#x76CA;&#x3002;</strong></span></li><li><span class="yiyi-st" id="yiyi-217"><span class="target" id="sqlalchemy.orm.session.Session.bulk_save_objects.params.update_changed_only"></span><strong>update_changed_only</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.bulk_save_objects.params.update_changed_only">&#xB6;</a> &#x2013; when True, UPDATE statements are rendered based on those attributes in each state that have logged changes. </span><span class="yiyi-st" id="yiyi-218">&#x5982;&#x679C;&#x4E3A;False&#xFF0C;&#x5219;&#x6240;&#x6709;&#x5448;&#x73B0;&#x7684;&#x5C5E;&#x6027;&#x90FD;&#x5C06;&#x5448;&#x73B0;&#x5230;SET&#x5B50;&#x53E5;&#x4E2D;&#xFF0C;&#x4F46;&#x4E3B;&#x952E;&#x5C5E;&#x6027;&#x9664;&#x5916;&#x3002;</span></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-219">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-220"><a class="reference internal" href="persistence_techniques.html#bulk-operations"><span>Bulk Operations</span></a></span></p><p><span class="yiyi-st" id="yiyi-221"><a class="reference internal" href="#sqlalchemy.orm.session.Session.bulk_insert_mappings" title="sqlalchemy.orm.session.Session.bulk_insert_mappings"><code class="xref py py-meth docutils literal"><span class="pre">Session.bulk_insert_mappings()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-222"><a class="reference internal" href="#sqlalchemy.orm.session.Session.bulk_update_mappings" title="sqlalchemy.orm.session.Session.bulk_update_mappings"><code class="xref py py-meth docutils literal"><span class="pre">Session.bulk_update_mappings()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.bulk_update_mappings"><span class="yiyi-st" id="yiyi-223"> <code class="descname">bulk_update_mappings</code><span class="sig-paren">(</span><em>mapper</em>, <em>mappings</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.session.Session.bulk_update_mappings" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-224">&#x5BF9;&#x6620;&#x5C04;&#x5B57;&#x5178;&#x7684;&#x7ED9;&#x5B9A;&#x5217;&#x8868;&#x6267;&#x884C;&#x6279;&#x91CF;&#x66F4;&#x65B0;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-225">&#x6279;&#x91CF;&#x66F4;&#x65B0;&#x529F;&#x80FD;&#x5141;&#x8BB8;&#x5C06;&#x666E;&#x901A;Python&#x5B57;&#x5178;&#x7528;&#x4F5C;&#x7B80;&#x5355;UPDATE&#x64CD;&#x4F5C;&#x7684;&#x6765;&#x6E90;&#xFF0C;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x53EF;&#x4EE5;&#x66F4;&#x5BB9;&#x6613;&#x5730;&#x7EC4;&#x5408;&#x5230;&#x66F4;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x201C;&#x6267;&#x884C;&#x201D;&#x64CD;&#x4F5C;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-226">&#x4F7F;&#x7528;&#x5B57;&#x5178;&#x65F6;&#xFF0C;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x201C;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x201D;&#x6216;&#x4F1A;&#x8BDD;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#xFF0C;&#x5728;&#x66F4;&#x65B0;&#x5927;&#x91CF;&#x7B80;&#x5355;&#x884C;&#x65F6;&#x51CF;&#x5C11;&#x5EF6;&#x8FDF;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-227"><span class="versionmodified">&#x7248;&#x672C;1.0.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition warning"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-228">&#x8B66;&#x544A;</span></p><p><span class="yiyi-st" id="yiyi-229">&#x6279;&#x91CF;&#x66F4;&#x65B0;&#x529F;&#x80FD;&#x5141;&#x8BB8;&#x4EE5;&#x66F4;&#x4F4E;&#x7684;&#x5EF6;&#x8FDF;&#x66F4;&#x65B0;&#x884C;&#xFF0C;&#x800C;&#x727A;&#x7272;&#x5927;&#x591A;&#x6570;&#x5176;&#x4ED6;&#x5DE5;&#x4F5C;&#x5355;&#x5143;&#x529F;&#x80FD;&#x3002;</span><span class="yiyi-st" id="yiyi-230">Features such as object management, relationship handling, and SQL clause support are <strong>silently omitted</strong> in favor of raw UPDATES of records.</span></p><p class="last"><span class="yiyi-st" id="yiyi-231"><strong>&#x5728;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#xFF0C;&#x8BF7;&#x9605;&#x8BFB;</strong> <a class="reference internal" href="persistence_techniques.html#bulk-operations"><span>Bulk Operations</span></a> <strong>&#x4E2D;&#x7684;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#x5217;&#x8868;&#xFF0C;&#x5E76;&#x5B8C;&#x5168;&#x6D4B;&#x8BD5;&#x5E76;&#x786E;&#x8BA4;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x7CFB;&#x7EDF;&#x5F00;&#x53D1;&#x7684;&#x6240;&#x6709;&#x4EE3;&#x7801;&#x7684;&#x529F;&#x80FD;&#x3002;</strong></span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-232">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-233"><span class="target" id="sqlalchemy.orm.session.Session.bulk_update_mappings.params.mapper"></span><strong>mapper</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.bulk_update_mappings.params.mapper">&#xB6;</a> &#x2013; a mapped class, or the actual <a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper.Mapper" title="sqlalchemy.orm.mapper.Mapper"><code class="xref py py-class docutils literal"><span class="pre">Mapper</span></code></a> object, representing the single kind of object represented within the mapping list.</span></li><li><span class="yiyi-st" id="yiyi-234"><span class="target" id="sqlalchemy.orm.session.Session.bulk_update_mappings.params.mappings"></span><strong>mappings</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.bulk_update_mappings.params.mappings">&#xB6;</a> &#x2013; a list of dictionaries, each one containing the state of the mapped row to be updated, in terms of the attribute names on the mapped class. </span><span class="yiyi-st" id="yiyi-235">&#x5982;&#x679C;&#x6620;&#x5C04;&#x6D89;&#x53CA;&#x591A;&#x4E2A;&#x8868;&#xFF08;&#x5982;&#x8054;&#x5408;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#xFF09;&#xFF0C;&#x5219;&#x6BCF;&#x4E2A;&#x5B57;&#x5178;&#x53EF;&#x80FD;&#x5305;&#x542B;&#x4E0E;&#x6240;&#x6709;&#x8868;&#x5BF9;&#x5E94;&#x7684;&#x952E;&#x3002;</span><span class="yiyi-st" id="yiyi-236">&#x6240;&#x6709;&#x5B58;&#x5728;&#x4E14;&#x4E0D;&#x662F;&#x4E3B;&#x952E;&#x4E00;&#x90E8;&#x5206;&#x7684;&#x952E;&#x90FD;&#x5E94;&#x7528;&#x4E8E;UPDATE&#x8BED;&#x53E5;&#x7684;SET&#x5B50;&#x53E5;&#xFF1B;&#x6240;&#x9700;&#x7684;&#x4E3B;&#x952E;&#x503C;&#x5E94;&#x7528;&#x4E8E;WHERE&#x5B50;&#x53E5;&#x3002;</span></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-237">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-238"><a class="reference internal" href="persistence_techniques.html#bulk-operations"><span>Bulk Operations</span></a></span></p><p><span class="yiyi-st" id="yiyi-239"><a class="reference internal" href="#sqlalchemy.orm.session.Session.bulk_insert_mappings" title="sqlalchemy.orm.session.Session.bulk_insert_mappings"><code class="xref py py-meth docutils literal"><span class="pre">Session.bulk_insert_mappings()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-240"><a class="reference internal" href="#sqlalchemy.orm.session.Session.bulk_save_objects" title="sqlalchemy.orm.session.Session.bulk_save_objects"><code class="xref py py-meth docutils literal"><span class="pre">Session.bulk_save_objects()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.close"><span class="yiyi-st" id="yiyi-241"><code class="descname">&#x9760;&#x8FD1; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.close" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-242">&#x5173;&#x95ED;&#x672C;&#x6B21;&#x4F1A;&#x8BAE;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-243">&#x8FD9;&#x4F1A;&#x6E05;&#x9664;&#x6240;&#x6709;&#x9879;&#x76EE;&#x5E76;&#x7ED3;&#x675F;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x7684;&#x4EFB;&#x4F55;&#x4EA4;&#x6613;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-244">&#x5982;&#x679C;&#x6B64;&#x4F1A;&#x8BDD;&#x662F;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">autocommit=False</span></code>&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x5219;&#x7ACB;&#x5373;&#x5F00;&#x59CB;&#x4E00;&#x4E2A;&#x65B0;&#x4E8B;&#x52A1;&#x3002;</span><span class="yiyi-st" id="yiyi-245">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B0;&#x4E8B;&#x52A1;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x9700;&#x8981;&#x4E4B;&#x524D;&#x4E0D;&#x4F1A;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x8FDE;&#x63A5;&#x8D44;&#x6E90;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.close_all"><span class="yiyi-st" id="yiyi-246"><code class="descname"> close_all  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.close_all" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-247"> <em>inherited from the</em> <code class="xref py py-meth docutils literal"><span class="pre">close_all()</span></code> <em>method of</em> <code class="xref py py-class docutils literal"><span class="pre">_SessionClassMethods</span></code></span></div><p><span class="yiyi-st" id="yiyi-248">Close <em>all</em> sessions in memory.</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.commit"><span class="yiyi-st" id="yiyi-249"><code class="descname">&#x63D0;&#x4EA4; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.commit" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-250">&#x5237;&#x65B0;&#x6302;&#x8D77;&#x7684;&#x66F4;&#x6539;&#x5E76;&#x63D0;&#x4EA4;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-251">&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4E8B;&#x52A1;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#xFF0C;&#x5219;&#x6B64;&#x65B9;&#x6CD5;&#x5F15;&#x53D1;&#x4E00;&#x4E2A;<a class="reference internal" href="core_exceptions.html#sqlalchemy.exc.InvalidRequestError" title="sqlalchemy.exc.InvalidRequestError"><code class="xref py py-exc docutils literal"><span class="pre">InvalidRequestError</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-252">&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5728;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x540E;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x4E5F;&#x4F1A;&#x5728;&#x6240;&#x6709;ORM&#x6258;&#x7BA1;&#x7684;&#x5C5E;&#x6027;&#x4E0A;&#x8FC7;&#x671F;&#x52A0;&#x8F7D;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;&#x72B6;&#x6001;&#x3002;</span><span class="yiyi-st" id="yiyi-253">&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x4F7F;&#x540E;&#x7EED;&#x64CD;&#x4F5C;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x52A0;&#x8F7D;&#x6700;&#x65B0;&#x7684;&#x6570;&#x636E;&#x3002;</span><span class="yiyi-st" id="yiyi-254">&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.sessionmaker" title="sqlalchemy.orm.session.sessionmaker"><code class="xref py py-class docutils literal"><span class="pre">sessionmaker</span></code></a>&#x6216;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;<code class="docutils literal"><span class="pre">expire_on_commit=False</span></code>&#x9009;&#x9879;&#x7981;&#x7528;&#x6B64;&#x884C;&#x4E3A;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-255">&#x5982;&#x679C;&#x5B50;&#x4E8B;&#x52A1;&#x6709;&#x6548;&#xFF08;&#x5728;&#x591A;&#x6B21;&#x8C03;&#x7528;begin()&#x65F6;&#x53D1;&#x751F;&#xFF09;&#xFF0C;&#x5B50;&#x4E8B;&#x52A1;&#x5C06;&#x88AB;&#x5173;&#x95ED;&#xFF0C;&#x5E76;&#x4E14;&#x5BF9;<code class="docutils literal"><span class="pre">commit()</span></code>&#x7684;&#x4E0B;&#x4E00;&#x6B21;&#x8C03;&#x7528;&#x5C06;&#x5728;&#x5C01;&#x95ED;&#x4E8B;&#x52A1;&#x4E0A;&#x8FD0;&#x884C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-256">&#x5F53;&#x5728;<code class="docutils literal"><span class="pre">autocommit=False</span></code>&#x7684;&#x9ED8;&#x8BA4;&#x6A21;&#x5F0F;&#x4E0B;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x65F6;&#xFF0C;&#x5C06;&#x5728;&#x63D0;&#x4EA4;&#x540E;&#x7ACB;&#x5373;&#x5F00;&#x59CB;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4E8B;&#x52A1;&#xFF0C;&#x4F46;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x65B0;&#x5F00;&#x59CB;&#x7684;&#x4E8B;&#x52A1;&#x4E0D;&#x4F1A;<em></em>&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x8FDE;&#x63A5;&#x8D44;&#x6E90;&#xFF0C;&#x76F4;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;SQL&#x5B9E;&#x9645;&#x53D1;&#x51FA;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-257">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-258"><a class="reference internal" href="session_basics.html#session-committing"><span>Committing</span></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.connection"><span class="yiyi-st" id="yiyi-259"> <code class="descname">connection</code><span class="sig-paren">(</span><em>mapper=None</em>, <em>clause=None</em>, <em>bind=None</em>, <em>close_with_result=False</em>, <em>execution_options=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.session.Session.connection" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-260">&#x8FD4;&#x56DE;&#x4E0E;&#x6B64;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x4E8B;&#x52A1;&#x72B6;&#x6001;&#x76F8;&#x5BF9;&#x5E94;&#x7684;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-261">&#x5982;&#x679C;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x914D;&#x7F6E;&#x4E3A;<code class="docutils literal"><span class="pre">autocommit=False</span></code>&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x4E0E;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x5BF9;&#x5E94;&#x7684;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#xFF0C;&#x6216;&#x8005;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4E8B;&#x52A1;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#xFF0C;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5F00;&#x59CB;&#x5E76;&#x8FD4;&#x56DE;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#xFF08;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5728;&#x53D1;&#x51FA;&#x7B2C;&#x4E00;&#x4E2A;SQL&#x8BED;&#x53E5;&#x4E4B;&#x524D;&#xFF0C;&#x6CA1;&#x6709;&#x4E0E;DBAPI&#x5EFA;&#x7ACB;&#x4E8B;&#x52A1;&#x6027;&#x72B6;&#x6001;&#xFF09;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-262">Alternatively, if this <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> is configured with <code class="docutils literal"><span class="pre">autocommit=True</span></code>, an ad-hoc <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a> is returned using <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine.contextual_connect" title="sqlalchemy.engine.Engine.contextual_connect"><code class="xref py py-meth docutils literal"><span class="pre">Engine.contextual_connect()</span></code></a> on the underlying <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>.</span></p><p><span class="yiyi-st" id="yiyi-263">&#x591A;&#x91CD;&#x7ED1;&#x5B9A;&#x6216;&#x672A;&#x7ED1;&#x5B9A;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x6B67;&#x4E49;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EFB;&#x4F55;&#x53EF;&#x9009;&#x7684;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x6765;&#x89E3;&#x51B3;&#x3002;</span><span class="yiyi-st" id="yiyi-264">&#x8FD9;&#x6700;&#x7EC8;&#x4F1A;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.get_bind" title="sqlalchemy.orm.session.Session.get_bind"><code class="xref py py-meth docutils literal"><span class="pre">get_bind()</span></code></a>&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-265">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-266"><span class="target" id="sqlalchemy.orm.session.Session.connection.params.bind"></span><strong>bind</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.connection.params.bind">&#xB6;</a> &#x2013; Optional <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a> to be used as the bind. </span><span class="yiyi-st" id="yiyi-267">&#x5982;&#x679C;&#x6B64;&#x5F15;&#x64CE;&#x5DF2;&#x7ECF;&#x6D89;&#x53CA;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x7684;&#x4EA4;&#x6613;&#xFF0C;&#x5219;&#x5C06;&#x4F7F;&#x7528;&#x8BE5;&#x8FDE;&#x63A5;&#x3002;</span><span class="yiyi-st" id="yiyi-268">&#x6B64;&#x53C2;&#x6570;&#x4F18;&#x5148;&#x4E8E;<code class="docutils literal"><span class="pre">mapper</span></code>&#xFF0C;<code class="docutils literal"><span class="pre">clause</span></code>&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-269"><span class="target" id="sqlalchemy.orm.session.Session.connection.params.mapper"></span><strong>mapper</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.connection.params.mapper">&#xB6;</a> &#x2013; Optional <a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper" title="sqlalchemy.orm.mapper"><code class="xref py py-func docutils literal"><span class="pre">mapper()</span></code></a> mapped class, used to identify the appropriate bind. </span><span class="yiyi-st" id="yiyi-270">&#x6B64;&#x53C2;&#x6570;&#x4F18;&#x5148;&#x4E8E;<code class="docutils literal"><span class="pre">clause</span></code>&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-271"><span class="target" id="sqlalchemy.orm.session.Session.connection.params.clause"></span><strong>clause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.connection.params.clause">&#xB6;</a> &#x2013; A <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a> (i.e. <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>, <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal"><span class="pre">text()</span></code></a>, etc.) </span><span class="yiyi-st" id="yiyi-272">&#x5982;&#x679C;&#x7ED1;&#x5B9A;&#x4E0D;&#x80FD;&#x4EE5;&#x5176;&#x4ED6;&#x65B9;&#x5F0F;&#x88AB;&#x8BC6;&#x522B;&#xFF0C;&#x5C06;&#x7528;&#x4E8E;&#x5B9A;&#x4F4D;&#x7ED1;&#x5B9A;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-273"><span class="target" id="sqlalchemy.orm.session.Session.connection.params.close_with_result"></span><strong>close_with_result</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.connection.params.close_with_result">&#xB6;</a> &#x2013; Passed to <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine.connect" title="sqlalchemy.engine.Engine.connect"><code class="xref py py-meth docutils literal"><span class="pre">Engine.connect()</span></code></a>, indicating the <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a> should be considered &#x201C;single use&#x201D;, automatically closing when the first result set is closed. </span><span class="yiyi-st" id="yiyi-274">&#x5982;&#x679C;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x914D;&#x7F6E;&#x4E3A;<code class="docutils literal"><span class="pre">autocommit=True</span></code>&#x5E76;&#x4E14;&#x5C1A;&#x672A;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#xFF0C;&#x5219;&#x6B64;&#x6807;&#x5FD7;&#x4EC5;&#x8D77;&#x4F5C;&#x7528;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-280"><span class="target" id="sqlalchemy.orm.session.Session.connection.params.execution_options"></span> <strong>execution_options</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.connection.params.execution_options">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-275">&#x4E00;&#x4E2A;&#x6267;&#x884C;&#x9009;&#x9879;&#x7684;&#x5B57;&#x5178;&#xFF0C;&#x5F53;&#x8FDE;&#x63A5;&#x9996;&#x6B21;&#x88AB;&#x91C7;&#x8D2D;&#x65F6;&#xFF0C;&#x5B83;&#x5C06;&#x88AB;&#x4F20;&#x9012;&#x7ED9;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execution_options()</span></code></a>&#xFF0C;<strong></strong>&#x3002;</span><span class="yiyi-st" id="yiyi-276">&#x5982;&#x679C;&#x8FDE;&#x63A5;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x4E8E;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x4E2D;&#xFF0C;&#x5219;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x5E76;&#x5FFD;&#x7565;&#x53C2;&#x6570;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-277"><span class="versionmodified">&#x7248;&#x672C;0.9.9&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-278">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-279"><a class="reference internal" href="session_transaction.html#session-transaction-isolation"><span>Setting Transaction Isolation Levels</span></a></span></p></div></li><li><span class="yiyi-st" id="yiyi-281"><span class="target" id="sqlalchemy.orm.session.Session.connection.params.**kw"></span><strong>**kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.connection.params.**kw">&#xB6;</a> &#x2013; Additional keyword arguments are sent to <a class="reference internal" href="#sqlalchemy.orm.session.Session.get_bind" title="sqlalchemy.orm.session.Session.get_bind"><code class="xref py py-meth docutils literal"><span class="pre">get_bind()</span></code></a>, allowing additional arguments to be passed to custom implementations of <a class="reference internal" href="#sqlalchemy.orm.session.Session.get_bind" title="sqlalchemy.orm.session.Session.get_bind"><code class="xref py py-meth docutils literal"><span class="pre">get_bind()</span></code></a>.</span></li></ul></td></tr></tbody></table></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.delete"><span class="yiyi-st" id="yiyi-282"><code class="descname">&#x5220;&#x9664; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x5B9E;&#x4F8B; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.delete" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-283">&#x5C06;&#x5B9E;&#x4F8B;&#x6807;&#x8BB0;&#x4E3A;&#x5DF2;&#x5220;&#x9664;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-284">&#x6570;&#x636E;&#x5E93;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x53D1;&#x751F;&#x5728;<code class="docutils literal"><span class="pre">flush()</span></code>&#x4E0A;&#x3002;</span></p></dd></dl><dl class="attribute"><dt id="sqlalchemy.orm.session.Session.deleted"><span class="yiyi-st" id="yiyi-285"><code class="descname">&#x5220;&#x9664; T0&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.deleted" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-286">&#x5728;<code class="docutils literal"><span class="pre">Session</span></code>&#x4E2D;&#x6807;&#x8BB0;&#x4E3A;&#x201C;&#x5DF2;&#x5220;&#x9664;&#x201D;&#x7684;&#x6240;&#x6709;&#x5B9E;&#x4F8B;&#x7684;&#x96C6;&#x5408;</span></p></dd></dl><dl class="attribute"><dt id="sqlalchemy.orm.session.Session.dirty"><span class="yiyi-st" id="yiyi-287"><code class="descname">&#x810F; T0&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.dirty" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-288">&#x6240;&#x6709;&#x6301;&#x4E45;&#x5B9E;&#x4F8B;&#x7684;&#x96C6;&#x5408;&#x90FD;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x810F;&#x7684;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-289">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">some_mapped_object</span> <span class="ow">in</span> <span class="n">session</span><span class="o">.</span><span class="n">dirty</span></pre></div></div><p><span class="yiyi-st" id="yiyi-290">&#x5B9E;&#x4F8B;&#x5728;&#x88AB;&#x4FEE;&#x6539;&#x4F46;&#x88AB;&#x5220;&#x9664;&#x65F6;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x810F;&#x7684;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-291">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x79CD;&#x201C;&#x80AE;&#x810F;&#x201D;&#x7684;&#x8BA1;&#x7B97;&#x662F;&apos;&#x4E50;&#x89C2;&apos;&#x7684;&#xFF1B;&#x5927;&#x591A;&#x6570;&#x5C5E;&#x6027;&#x8BBE;&#x7F6E;&#x6216;&#x96C6;&#x5408;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#x90FD;&#x4F1A;&#x5C06;&#x5B9E;&#x4F8B;&#x6807;&#x8BB0;&#x4E3A;&#x201C;&#x810F;&#x201D;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x7F6E;&#x4E8E;&#x6B64;&#x96C6;&#x5408;&#x4E2D;&#xFF0C;&#x5373;&#x4F7F;&#x5C5E;&#x6027;&#x503C;&#x6CA1;&#x6709;&#x51C0;&#x66F4;&#x6539;&#x3002;</span><span class="yiyi-st" id="yiyi-292">&#x5728;&#x5237;&#x65B0;&#x65F6;&#x95F4;&#xFF0C;&#x5C06;&#x6BCF;&#x4E2A;&#x5C5E;&#x6027;&#x7684;&#x503C;&#x4E0E;&#x4E4B;&#x524D;&#x4FDD;&#x5B58;&#x7684;&#x503C;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x51C0;&#x66F4;&#x6539;&#xFF0C;&#x5219;&#x4E0D;&#x4F1A;&#x6267;&#x884C;SQL&#x64CD;&#x4F5C;&#xFF08;&#x8FD9;&#x662F;&#x66F4;&#x6602;&#x8D35;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x56E0;&#x6B64;&#x53EA;&#x80FD;&#x5728;&#x5237;&#x65B0;&#x65F6;&#x6267;&#x884C;&#xFF09;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-293">&#x8981;&#x68C0;&#x67E5;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x662F;&#x5426;&#x5BF9;&#x5176;&#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x4E86;&#x53EF;&#x64CD;&#x4F5C;&#x7684;&#x51C0;&#x66F4;&#x6539;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.is_modified" title="sqlalchemy.orm.session.Session.is_modified"><code class="xref py py-meth docutils literal"><span class="pre">Session.is_modified()</span></code></a>&#x65B9;&#x6CD5;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.enable_relationship_loading"><span class="yiyi-st" id="yiyi-294"><code class="descname"> enable_relationship_loading  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> OBJ  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.enable_relationship_loading" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-295">&#x5C06;&#x5BF9;&#x8C61;&#x4E0E;&#x6B64;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x76F8;&#x5173;&#x8054;&#x4EE5;&#x8FDB;&#x884C;&#x76F8;&#x5173;&#x7684;&#x5BF9;&#x8C61;&#x52A0;&#x8F7D;&#x3002;</span></p><div class="admonition warning"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-296">&#x8B66;&#x544A;</span></p><p class="last"><span class="yiyi-st" id="yiyi-297"><a class="reference internal" href="#sqlalchemy.orm.session.Session.enable_relationship_loading" title="sqlalchemy.orm.session.Session.enable_relationship_loading"><code class="xref py py-meth docutils literal"><span class="pre">enable_relationship_loading()</span></code></a> exists to serve special use cases and is not recommended for general use.</span></p></div><p><span class="yiyi-st" id="yiyi-298">&#x4F7F;&#x7528;<a class="reference internal" href="relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal"><span class="pre">relationship()</span></code></a>&#x6620;&#x200B;&#x200B;&#x5C04;&#x7684;&#x5C5E;&#x6027;&#x8BBF;&#x95EE;&#x5C06;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528;&#x6B64;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x4F5C;&#x4E3A;&#x8FDE;&#x63A5;&#x7684;&#x6765;&#x6E90;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x52A0;&#x8F7D;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-299">&#x8FD9;&#x4E9B;&#x503C;&#x5C06;&#x6839;&#x636E;&#x6B64;&#x5BF9;&#x8C61;&#x4E0A;&#x5B58;&#x5728;&#x7684;&#x5916;&#x952E;&#x503C;&#x52A0;&#x8F7D; - &#x56E0;&#x6B64;&#xFF0C;&#x6B64;&#x529F;&#x80FD;&#x901A;&#x5E38;&#x4EC5;&#x9002;&#x7528;&#x4E8E;&#x591A;&#x5BF9;&#x4E00;&#x5173;&#x7CFB;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-300">&#x8BE5;&#x5BF9;&#x8C61;&#x5C06;&#x88AB;&#x9644;&#x52A0;&#x5230;&#x8BE5;&#x4F1A;&#x8BDD;&#x4E2D;&#xFF0C;&#x4F46;<strong>&#x4E0D;&#x4F1A;</strong>&#x53C2;&#x4E0E;&#x4EFB;&#x4F55;&#x6301;&#x4E45;&#x6027;&#x64CD;&#x4F5C;&#xFF1B;&#x5176;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x76EE;&#x7684;&#x7684;&#x72B6;&#x6001;&#x5C06;&#x4FDD;&#x6301;&#x201C;&#x6682;&#x65F6;&#x201D;&#x6216;&#x201C;&#x5206;&#x79BB;&#x201D;&#xFF0C;&#x9664;&#x4E86;&#x5173;&#x7CFB;&#x52A0;&#x8F7D;&#x7684;&#x60C5;&#x51B5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-301">&#x53E6;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;backrefs&#x901A;&#x5E38;&#x65E0;&#x6CD5;&#x6309;&#x9884;&#x671F;&#x5DE5;&#x4F5C;&#x3002;</span><span class="yiyi-st" id="yiyi-302">&#x5982;&#x679C;&#x6709;&#x6548;&#x503C;&#x662F;&#x5DF2;&#x4ECE;&#x5916;&#x952E;&#x6301;&#x6709;&#x503C;&#x52A0;&#x8F7D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5219;&#x5728;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#x4E0A;&#x66F4;&#x6539;&#x5173;&#x7CFB;&#x7ED1;&#x5B9A;&#x5C5E;&#x6027;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;backref&#x4E8B;&#x4EF6;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-303"><a class="reference internal" href="#sqlalchemy.orm.session.Session.enable_relationship_loading" title="sqlalchemy.orm.session.Session.enable_relationship_loading"><code class="xref py py-meth docutils literal"><span class="pre">Session.enable_relationship_loading()</span></code></a>&#x65B9;&#x6CD5;&#x7C7B;&#x4F3C;&#x4E8E;<a class="reference internal" href="relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal"><span class="pre">relationship()</span></code></a>&#x4E0A;&#x7684;<code class="docutils literal"><span class="pre">load_on_pending</span></code>&#x6807;&#x5FD7;&#x3002;</span><span class="yiyi-st" id="yiyi-304">&#x4E0E;&#x8BE5;&#x6807;&#x5FD7;&#x4E0D;&#x540C;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.session.Session.enable_relationship_loading" title="sqlalchemy.orm.session.Session.enable_relationship_loading"><code class="xref py py-meth docutils literal"><span class="pre">Session.enable_relationship_loading()</span></code></a>&#x5141;&#x8BB8;&#x5BF9;&#x8C61;&#x4FDD;&#x6301;&#x77AC;&#x6001;&#xFF0C;&#x540C;&#x65F6;&#x4ECD;&#x7136;&#x80FD;&#x591F;&#x52A0;&#x8F7D;&#x76F8;&#x5173;&#x9879;&#x76EE;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-305">To make a transient object associated with a <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> via <a class="reference internal" href="#sqlalchemy.orm.session.Session.enable_relationship_loading" title="sqlalchemy.orm.session.Session.enable_relationship_loading"><code class="xref py py-meth docutils literal"><span class="pre">Session.enable_relationship_loading()</span></code></a> pending, add it to the <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> using <a class="reference internal" href="#sqlalchemy.orm.session.Session.add" title="sqlalchemy.orm.session.Session.add"><code class="xref py py-meth docutils literal"><span class="pre">Session.add()</span></code></a> normally.</span></p><p><span class="yiyi-st" id="yiyi-306"><a class="reference internal" href="#sqlalchemy.orm.session.Session.enable_relationship_loading" title="sqlalchemy.orm.session.Session.enable_relationship_loading"><code class="xref py py-meth docutils literal"><span class="pre">Session.enable_relationship_loading()</span></code></a> does not improve behavior when the ORM is used normally - object references should be constructed at the object level, not at the foreign key level, so that they are present in an ordinary way before flush() proceeds. </span><span class="yiyi-st" id="yiyi-307">&#x6B64;&#x65B9;&#x6CD5;&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x4E00;&#x822C;&#x7528;&#x9014;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-308"><span class="versionmodified">0.8&#x7248;&#x672C;&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-309">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-310"><code class="docutils literal"><span class="pre">load_on_pending</span></code> at <a class="reference internal" href="relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal"><span class="pre">relationship()</span></code></a> - this flag allows per-relationship loading of many-to-ones on items that are pending.</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.execute"><span class="yiyi-st" id="yiyi-311"> <code class="descname">execute</code><span class="sig-paren">(</span><em>clause</em>, <em>params=None</em>, <em>mapper=None</em>, <em>bind=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.session.Session.execute" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-312">&#x5728;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x4E2D;&#x6267;&#x884C;SQL&#x8868;&#x8FBE;&#x5F0F;&#x7ED3;&#x6784;&#x6216;&#x5B57;&#x7B26;&#x4E32;&#x8BED;&#x53E5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-313">&#x4EE5;&#x4E0E;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>&#x6216;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#x76F8;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#x8FD4;&#x56DE;&#x8868;&#x793A;&#x8BED;&#x53E5;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x7684;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.ResultProxy" title="sqlalchemy.engine.ResultProxy"><code class="xref py py-class docutils literal"><span class="pre">ResultProxy</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-314">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
            <span class="n">user_table</span><span class="o">.</span><span class="n">select</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>
        <span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-315"><a class="reference internal" href="#sqlalchemy.orm.session.Session.execute" title="sqlalchemy.orm.session.Session.execute"><code class="xref py py-meth docutils literal"><span class="pre">execute()</span></code></a> accepts any executable clause construct, such as <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>, <a class="reference internal" href="core_dml.html#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><code class="xref py py-func docutils literal"><span class="pre">insert()</span></code></a>, <a class="reference internal" href="core_dml.html#sqlalchemy.sql.expression.update" title="sqlalchemy.sql.expression.update"><code class="xref py py-func docutils literal"><span class="pre">update()</span></code></a>, <a class="reference internal" href="core_dml.html#sqlalchemy.sql.expression.delete" title="sqlalchemy.sql.expression.delete"><code class="xref py py-func docutils literal"><span class="pre">delete()</span></code></a>, and <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal"><span class="pre">text()</span></code></a>. </span><span class="yiyi-st" id="yiyi-316">&#x666E;&#x901A;&#x7684;SQL&#x5B57;&#x7B26;&#x4E32;&#x4E5F;&#x53EF;&#x4EE5;&#x88AB;&#x4F20;&#x9012;&#xFF0C;&#x5728;<a class="reference internal" href="#sqlalchemy.orm.session.Session.execute" title="sqlalchemy.orm.session.Session.execute"><code class="xref py py-meth docutils literal"><span class="pre">Session.execute()</span></code></a>&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x5C06;&#x88AB;&#x89E3;&#x91CA;&#x4E3A;&#x4E0E;&#x901A;&#x8FC7;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal"><span class="pre">text()</span></code></a>&#x6784;&#x9020;&#x4F20;&#x9012;&#x76F8;&#x540C;&#x3002;</span><span class="yiyi-st" id="yiyi-317">&#x5373;&#xFF0C;&#x4EE5;&#x4E0B;&#x7528;&#x6CD5;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
            <span class="s2">&quot;SELECT * FROM user WHERE id=:param&quot;</span><span class="p">,</span>
            <span class="p">{</span><span class="s2">&quot;param&quot;</span><span class="p">:</span><span class="mi">5</span><span class="p">}</span>
        <span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-318">&#x76F8;&#x5F53;&#x4E8E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">text</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
            <span class="n">text</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM user WHERE id=:param&quot;</span><span class="p">),</span>
            <span class="p">{</span><span class="s2">&quot;param&quot;</span><span class="p">:</span><span class="mi">5</span><span class="p">}</span>
        <span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-319"><a class="reference internal" href="#sqlalchemy.orm.session.Session.execute" title="sqlalchemy.orm.session.Session.execute"><code class="xref py py-meth docutils literal"><span class="pre">Session.execute()</span></code></a>&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x53C2;&#x6570;&#x96C6;&#x3002;</span><span class="yiyi-st" id="yiyi-320">&#x4E0E;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execute()</span></code></a>&#x7C7B;&#x4F3C;&#xFF0C;&#x65E0;&#x8BBA;&#x662F;&#x4F5C;&#x4E3A;&#x5355;&#x4E2A;&#x5B57;&#x5178;&#x8FD8;&#x662F;&#x5B57;&#x5178;&#x5217;&#x8868;&#x4F20;&#x9012;&#xFF0C;&#x90FD;&#x4F1A;&#x786E;&#x5B9A;DBAPI&#x6E38;&#x6807;&#x7684;<code class="docutils literal"><span class="pre">execute()</span></code>&#x6216;<code class="docutils literal"><span class="pre">executemany()</span></code>&#x7528;&#x4E8E;&#x6267;&#x884C;&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-321">&#x53EF;&#x4EE5;&#x4E3A;&#x5355;&#x4E2A;&#x884C;&#x8C03;&#x7528;INSERT&#x6784;&#x9020;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
    <span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">(),</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;somename&quot;</span><span class="p">})</span></pre></div></div><p><span class="yiyi-st" id="yiyi-322">&#x6216;&#x591A;&#x884C;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">(),</span> <span class="p">[</span>
                        <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;somename7&quot;</span><span class="p">},</span>
                        <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;somename8&quot;</span><span class="p">},</span>
                        <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;somename9&quot;</span><span class="p">}</span>
                    <span class="p">])</span></pre></div></div><p><span class="yiyi-st" id="yiyi-323">&#x8BE5;&#x8BED;&#x53E5;&#x5728;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x7684;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x6267;&#x884C;&#x3002;</span><span class="yiyi-st" id="yiyi-324">&#x7528;&#x4E8E;&#x6267;&#x884C;&#x8BED;&#x53E5;&#x7684;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.connection" title="sqlalchemy.orm.session.Session.connection"><code class="xref py py-meth docutils literal"><span class="pre">Session.connection()</span></code></a>&#x65B9;&#x6CD5;&#x76F4;&#x63A5;&#x83B7;&#x53D6;&#x3002;</span><span class="yiyi-st" id="yiyi-325">&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x90FD;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;&#x89C4;&#x5219;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x6765;&#x786E;&#x5B9A;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#xFF0C;&#x5B83;&#x5728;&#x5E73;&#x5747;&#x60C5;&#x51B5;&#x4E0B;&#x76F4;&#x63A5;&#x6765;&#x81EA;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x672C;&#x8EAB;&#x7684;&#x201C;&#x7ED1;&#x5B9A;&#x201D;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x5176;&#x4ED6;&#x60C5;&#x51B5;&#x53EF;&#x4EE5;&#x57FA;&#x4E8E;&#x4F20;&#x9012;&#x7ED9;&#x8BE5;&#x65B9;&#x6CD5;&#x7684;<a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper" title="sqlalchemy.orm.mapper"><code class="xref py py-func docutils literal"><span class="pre">mapper()</span></code></a>&#x548C;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x5BF9;&#x8C61;&#xFF1B;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="#sqlalchemy.orm.session.Session.get_bind" title="sqlalchemy.orm.session.Session.get_bind"><code class="xref py py-meth docutils literal"><span class="pre">Session.get_bind()</span></code></a>&#x7684;&#x6587;&#x6863;&#x4EE5;&#x83B7;&#x5F97;&#x8BE5;&#x65B9;&#x6848;&#x7684;&#x5B8C;&#x6574;&#x63CF;&#x8FF0;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-326">The <a class="reference internal" href="#sqlalchemy.orm.session.Session.execute" title="sqlalchemy.orm.session.Session.execute"><code class="xref py py-meth docutils literal"><span class="pre">Session.execute()</span></code></a> method does <em>not</em> invoke autoflush.</span></p><p><span class="yiyi-st" id="yiyi-327">The <a class="reference internal" href="core_connections.html#sqlalchemy.engine.ResultProxy" title="sqlalchemy.engine.ResultProxy"><code class="xref py py-class docutils literal"><span class="pre">ResultProxy</span></code></a> returned by the <a class="reference internal" href="#sqlalchemy.orm.session.Session.execute" title="sqlalchemy.orm.session.Session.execute"><code class="xref py py-meth docutils literal"><span class="pre">Session.execute()</span></code></a> method is returned with the &#x201C;close_with_result&#x201D; flag set to true; the significance of this flag is that if this <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> is autocommitting and does not have a transaction-dedicated <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a> available, a temporary <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a> is established for the statement execution, which is closed (meaning, returned to the connection pool) when the <a class="reference internal" href="core_connections.html#sqlalchemy.engine.ResultProxy" title="sqlalchemy.engine.ResultProxy"><code class="xref py py-class docutils literal"><span class="pre">ResultProxy</span></code></a> has consumed all available data. </span><span class="yiyi-st" id="yiyi-328">&#x5F53;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x914D;&#x7F6E;&#x4E3A;autocommit = True&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x4E8B;&#x52A1;&#x5DF2;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x8FD9;&#x4EC5;&#x9002;&#x7528;&#x4E8E;<em></em>&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-329">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-330"><span class="target" id="sqlalchemy.orm.session.Session.execute.params.clause"></span><strong>clause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.execute.params.clause">&#xB6;</a> &#x2013; An executable statement (i.e. an <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a> expression such as <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">expression.select()</span></code></a>) or string SQL statement to be executed.</span></li><li><span class="yiyi-st" id="yiyi-331"><span class="target" id="sqlalchemy.orm.session.Session.execute.params.params"></span><strong>params</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.execute.params.params">&#xB6;</a> &#x2013; Optional dictionary, or list of dictionaries, containing bound parameter values. </span><span class="yiyi-st" id="yiyi-332">&#x5982;&#x679C;&#x5355;&#x4E2A;&#x5B57;&#x5178;&#x53D1;&#x751F;&#x5355;&#x884C;&#x6267;&#x884C;&#xFF1B;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x5B57;&#x5178;&#x5217;&#x8868;&#xFF0C;&#x201C;executemany&#x201D;&#x5C06;&#x88AB;&#x8C03;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-333">&#x6BCF;&#x4E2A;&#x5B57;&#x5178;&#x4E2D;&#x7684;&#x952E;&#x5FC5;&#x987B;&#x5BF9;&#x5E94;&#x4E8E;&#x8BED;&#x53E5;&#x4E2D;&#x5B58;&#x5728;&#x7684;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-334"><span class="target" id="sqlalchemy.orm.session.Session.execute.params.mapper"></span><strong>mapper</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.execute.params.mapper">&#xB6;</a> &#x2013; Optional <a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper" title="sqlalchemy.orm.mapper"><code class="xref py py-func docutils literal"><span class="pre">mapper()</span></code></a> or mapped class, used to identify the appropriate bind. </span><span class="yiyi-st" id="yiyi-335">&#x5B9A;&#x4F4D;&#x7ED1;&#x5B9A;&#x65F6;&#xFF0C;&#x6B64;&#x53C2;&#x6570;&#x4F18;&#x5148;&#x4E8E;<code class="docutils literal"><span class="pre">clause</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-336">&#x6709;&#x5173;&#x66F4;&#x591A;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="#sqlalchemy.orm.session.Session.get_bind" title="sqlalchemy.orm.session.Session.get_bind"><code class="xref py py-meth docutils literal"><span class="pre">Session.get_bind()</span></code></a>&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-337"><span class="target" id="sqlalchemy.orm.session.Session.execute.params.bind"></span><strong>bind</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.execute.params.bind">&#xB6;</a> &#x2013; Optional <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a> to be used as the bind. </span><span class="yiyi-st" id="yiyi-338">&#x5982;&#x679C;&#x6B64;&#x5F15;&#x64CE;&#x5DF2;&#x7ECF;&#x6D89;&#x53CA;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x7684;&#x4EA4;&#x6613;&#xFF0C;&#x5219;&#x5C06;&#x4F7F;&#x7528;&#x8BE5;&#x8FDE;&#x63A5;&#x3002;</span><span class="yiyi-st" id="yiyi-339">&#x5B9A;&#x4F4D;&#x7ED1;&#x5B9A;&#x65F6;&#xFF0C;&#x6B64;&#x53C2;&#x6570;&#x4F18;&#x5148;&#x4E8E;<code class="docutils literal"><span class="pre">mapper</span></code>&#x548C;<code class="docutils literal"><span class="pre">clause</span></code>&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-340"><span class="target" id="sqlalchemy.orm.session.Session.execute.params.**kw"></span><strong>**kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.execute.params.**kw">&#xB6;</a> &#x2013; Additional keyword arguments are sent to <a class="reference internal" href="#sqlalchemy.orm.session.Session.get_bind" title="sqlalchemy.orm.session.Session.get_bind"><code class="xref py py-meth docutils literal"><span class="pre">Session.get_bind()</span></code></a> to allow extensibility of &#x201C;bind&#x201D; schemes.</span></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-341">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-342"><a class="reference internal" href="core_tutorial.html"><span>SQL Expression Language Tutorial</span></a>  - &#x4F7F;&#x7528;Core SQL&#x7ED3;&#x6784;&#x7684;&#x6559;&#x7A0B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-343"><a class="reference internal" href="core_connections.html"><span>Working with Engines and Connections</span></a>  - &#x6709;&#x5173;&#x76F4;&#x63A5;&#x8BED;&#x53E5;&#x6267;&#x884C;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;</span></p><p class="last"><span class="yiyi-st" id="yiyi-344"><a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execute()</span></code></a> - core level statement execution method, which is <a class="reference internal" href="#sqlalchemy.orm.session.Session.execute" title="sqlalchemy.orm.session.Session.execute"><code class="xref py py-meth docutils literal"><span class="pre">Session.execute()</span></code></a> ultimately uses in order to execute the statement.</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.expire"><span class="yiyi-st" id="yiyi-345"><code class="descname">expire</code> <span class="sig-paren">&#xFF08;</span> <em>&#x5B9E;&#x4F8B;</em>&#xFF0C;<em>attribute_names =&#x65E0;</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.session.Session.expire" title="Permalink to this definition"> t5 &gt;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-346">&#x8FC7;&#x671F;&#x5B9E;&#x4F8B;&#x4E0A;&#x7684;&#x5C5E;&#x6027;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-347">&#x5C06;&#x5B9E;&#x4F8B;&#x7684;&#x5C5E;&#x6027;&#x6807;&#x8BB0;&#x4E3A;&#x8FC7;&#x65F6;&#x3002;</span><span class="yiyi-st" id="yiyi-348">&#x5F53;&#x4E0B;&#x4E00;&#x6B21;&#x8BBF;&#x95EE;&#x8FC7;&#x671F;&#x5C5E;&#x6027;&#x65F6;&#xFF0C;&#x5C06;&#x5411;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x4E0A;&#x4E0B;&#x6587;&#x53D1;&#x51FA;&#x67E5;&#x8BE2;&#xFF0C;&#x4EE5;&#x52A0;&#x8F7D;&#x7ED9;&#x5B9A;&#x5B9E;&#x4F8B;&#x7684;&#x6240;&#x6709;&#x8FC7;&#x671F;&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-349">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x9AD8;&#x5EA6;&#x5B64;&#x7ACB;&#x7684;&#x4E8B;&#x52A1;&#x5C06;&#x8FD4;&#x56DE;&#x4E0E;&#x5148;&#x524D;&#x5728;&#x540C;&#x4E00;&#x4E8B;&#x52A1;&#x4E2D;&#x8BFB;&#x53D6;&#x7684;&#x503C;&#x76F8;&#x540C;&#x7684;&#x503C;&#xFF0C;&#x800C;&#x4E0D;&#x8003;&#x8651;&#x8BE5;&#x4E8B;&#x52A1;&#x4E4B;&#x5916;&#x7684;&#x6570;&#x636E;&#x5E93;&#x72B6;&#x6001;&#x66F4;&#x6539;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-350">&#x8981;&#x540C;&#x65F6;&#x8FC7;&#x671F;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.expire_all" title="sqlalchemy.orm.session.Session.expire_all"><code class="xref py py-meth docutils literal"><span class="pre">Session.expire_all()</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-351"><a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;&#x662F;&#x5728;&#x6BCF;&#x6B21;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.rollback" title="sqlalchemy.orm.session.Session.rollback"><code class="xref py py-meth docutils literal"><span class="pre">Session.rollback()</span></code></a>&#x6216;<a class="reference internal" href="#sqlalchemy.orm.session.Session.commit" title="sqlalchemy.orm.session.Session.commit"><code class="xref py py-meth docutils literal"><span class="pre">Session.commit()</span></code></a>&#x65B9;&#x6CD5;&#x65F6;&#x8FC7;&#x671F;&#x6240;&#x6709;&#x72B6;&#x6001;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;&#x65B0;&#x4E8B;&#x52A1;&#x52A0;&#x8F7D;&#x65B0;&#x72B6;&#x6001;&#x3002;</span><span class="yiyi-st" id="yiyi-352">&#x56E0;&#x6B64;&#xFF0C;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.expire" title="sqlalchemy.orm.session.Session.expire"><code class="xref py py-meth docutils literal"><span class="pre">Session.expire()</span></code></a>&#x4EC5;&#x9002;&#x7528;&#x4E8E;&#x5728;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x4E2D;&#x53D1;&#x51FA;&#x975E;ORM SQL&#x8BED;&#x53E5;&#x7684;&#x7279;&#x5B9A;&#x60C5;&#x51B5;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-353">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-354"><span class="target" id="sqlalchemy.orm.session.Session.expire.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.expire.params.instance">&#xB6;</a> &#x2013; The instance to be refreshed.</span></li><li><span class="yiyi-st" id="yiyi-355"><span class="target" id="sqlalchemy.orm.session.Session.expire.params.attribute_names"></span><strong>attribute_names</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.expire.params.attribute_names">&#xB6;</a> &#x2013; optional list of string attribute names indicating a subset of attributes to be expired.</span></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-356">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-357"><a class="reference internal" href="session_state_management.html#session-expire"><span>Refreshing / Expiring</span></a>  - &#x4ECB;&#x7ECD;&#x6750;&#x6599;</span></p><p><span class="yiyi-st" id="yiyi-358"><a class="reference internal" href="#sqlalchemy.orm.session.Session.expire" title="sqlalchemy.orm.session.Session.expire"><code class="xref py py-meth docutils literal"><span class="pre">Session.expire()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-359"><a class="reference internal" href="#sqlalchemy.orm.session.Session.refresh" title="sqlalchemy.orm.session.Session.refresh"><code class="xref py py-meth docutils literal"><span class="pre">Session.refresh()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.expire_all"><span class="yiyi-st" id="yiyi-360"><code class="descname"> expire_all  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.expire_all" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-361">&#x5728;&#x6B64;&#x4F1A;&#x8BDD;&#x4E2D;&#x8FC7;&#x671F;&#x6240;&#x6709;&#x6301;&#x4E45;&#x6027;&#x5B9E;&#x4F8B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-362">&#x5F53;&#x4E0B;&#x4E00;&#x6B21;&#x8BBF;&#x95EE;&#x6301;&#x4E45;&#x5B9E;&#x4F8B;&#x4E0A;&#x7684;&#x4EFB;&#x4F55;&#x5C5E;&#x6027;&#x65F6;&#xFF0C;&#x5C06;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x4E0A;&#x4E0B;&#x6587;&#x53D1;&#x51FA;&#x67E5;&#x8BE2;&#xFF0C;&#x4EE5;&#x52A0;&#x8F7D;&#x7ED9;&#x5B9A;&#x5B9E;&#x4F8B;&#x7684;&#x6240;&#x6709;&#x8FC7;&#x671F;&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-363">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x9AD8;&#x5EA6;&#x5B64;&#x7ACB;&#x7684;&#x4E8B;&#x52A1;&#x5C06;&#x8FD4;&#x56DE;&#x4E0E;&#x5148;&#x524D;&#x5728;&#x540C;&#x4E00;&#x4E8B;&#x52A1;&#x4E2D;&#x8BFB;&#x53D6;&#x7684;&#x503C;&#x76F8;&#x540C;&#x7684;&#x503C;&#xFF0C;&#x800C;&#x4E0D;&#x8003;&#x8651;&#x8BE5;&#x4E8B;&#x52A1;&#x4E4B;&#x5916;&#x7684;&#x6570;&#x636E;&#x5E93;&#x72B6;&#x6001;&#x66F4;&#x6539;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-364">&#x8981;&#x4F7F;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x4E0A;&#x7684;&#x5355;&#x4E2A;&#x5BF9;&#x8C61;&#x548C;&#x5355;&#x4E2A;&#x5C5E;&#x6027;&#x8FC7;&#x671F;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.expire" title="sqlalchemy.orm.session.Session.expire"><code class="xref py py-meth docutils literal"><span class="pre">Session.expire()</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-365"><a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;&#x662F;&#x5728;&#x6BCF;&#x6B21;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.rollback" title="sqlalchemy.orm.session.Session.rollback"><code class="xref py py-meth docutils literal"><span class="pre">Session.rollback()</span></code></a>&#x6216;<a class="reference internal" href="#sqlalchemy.orm.session.Session.commit" title="sqlalchemy.orm.session.Session.commit"><code class="xref py py-meth docutils literal"><span class="pre">Session.commit()</span></code></a>&#x65B9;&#x6CD5;&#x65F6;&#x8FC7;&#x671F;&#x6240;&#x6709;&#x72B6;&#x6001;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;&#x65B0;&#x4E8B;&#x52A1;&#x52A0;&#x8F7D;&#x65B0;&#x72B6;&#x6001;&#x3002;</span><span class="yiyi-st" id="yiyi-366">&#x56E0;&#x6B64;&#xFF0C;&#x5047;&#x8BBE;&#x4E8B;&#x52A1;&#x662F;&#x5B64;&#x7ACB;&#x7684;&#xFF0C;&#x5728;autocommit <code class="docutils literal"><span class="pre">False</span></code>&#x65F6;&#x4E0D;&#x5E94;&#x8BE5;&#x9700;&#x8981;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.expire_all" title="sqlalchemy.orm.session.Session.expire_all"><code class="xref py py-meth docutils literal"><span class="pre">Session.expire_all()</span></code></a>&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-367">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-368"><a class="reference internal" href="session_state_management.html#session-expire"><span>Refreshing / Expiring</span></a>  - &#x4ECB;&#x7ECD;&#x6750;&#x6599;</span></p><p><span class="yiyi-st" id="yiyi-369"><a class="reference internal" href="#sqlalchemy.orm.session.Session.expire" title="sqlalchemy.orm.session.Session.expire"><code class="xref py py-meth docutils literal"><span class="pre">Session.expire()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-370"><a class="reference internal" href="#sqlalchemy.orm.session.Session.refresh" title="sqlalchemy.orm.session.Session.refresh"><code class="xref py py-meth docutils literal"><span class="pre">Session.refresh()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.expunge"><span class="yiyi-st" id="yiyi-371"><code class="descname">&#x5219;&#x6E05;&#x9664; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x5B9E;&#x4F8B; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.expunge" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-372">&#x4ECE;<code class="docutils literal"><span class="pre">Session</span></code>&#x4E2D;&#x5220;&#x9664;<cite>&#x5B9E;&#x4F8B;</cite>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-373">&#x8FD9;&#x5C06;&#x91CA;&#x653E;&#x5BF9;&#x5B9E;&#x4F8B;&#x7684;&#x6240;&#x6709;&#x5185;&#x90E8;&#x5F15;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-374">&#x7EA7;&#x8054;&#x5C06;&#x6839;&#x636E;<em>expunge</em>&#x7EA7;&#x8054;&#x89C4;&#x5219;&#x5E94;&#x7528;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.expunge_all"><span class="yiyi-st" id="yiyi-375"><code class="descname"> expunge_all  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.expunge_all" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-376">&#x4ECE;<code class="docutils literal"><span class="pre">Session</span></code>&#x4E2D;&#x5220;&#x9664;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-377">&#x8FD9;&#x76F8;&#x5F53;&#x4E8E;&#x5728;<code class="docutils literal"><span class="pre">Session</span></code>&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x4E0A;&#x8C03;&#x7528;<code class="docutils literal"><span class="pre">expunge(obj)</span></code>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.flush"><span class="yiyi-st" id="yiyi-378"><code class="descname">&#x51B2;&#x6D17; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x5BF9;&#x8C61;=&#x65E0; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.flush" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-379">&#x5C06;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x66F4;&#x6539;&#x5237;&#x65B0;&#x5230;&#x6570;&#x636E;&#x5E93;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-380">&#x5C06;&#x6240;&#x6709;&#x6302;&#x8D77;&#x7684;&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#xFF0C;&#x5220;&#x9664;&#x548C;&#x4FEE;&#x6539;&#x5199;&#x5165;INSERT&#xFF0C;DELETE&#xFF0C;UPDATE&#x7B49;</span><span class="yiyi-st" id="yiyi-381">&#x64CD;&#x4F5C;&#x7531;&#x4F1A;&#x8BDD;&#x7684;&#x5DE5;&#x4F5C;&#x5355;&#x5143;&#x4F9D;&#x8D56;&#x6027;&#x6C42;&#x89E3;&#x5668;&#x81EA;&#x52A8;&#x6392;&#x5E8F;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-382">&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x5C06;&#x5728;&#x5F53;&#x524D;&#x7684;&#x4E8B;&#x52A1;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x53D1;&#x5E03;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x4E8B;&#x52A1;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x9664;&#x975E;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x6574;&#x4E2A;&#x4E8B;&#x52A1;&#x5C06;&#x88AB;&#x56DE;&#x6EDA;&#x3002;</span><span class="yiyi-st" id="yiyi-383">&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x4E8B;&#x52A1;&#x4E2D;&#x968F;&#x65F6;&#x5237;&#x65B0;()&#x4EE5;&#x5C06;&#x66F4;&#x6539;&#x4ECE;Python&#x79FB;&#x52A8;&#x5230;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E8B;&#x52A1;&#x7F13;&#x51B2;&#x533A;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-384">&#x5BF9;&#x4E8E;&#x6CA1;&#x6709;&#x6D3B;&#x52A8;&#x624B;&#x52A8;&#x4E8B;&#x52A1;&#x7684;<code class="docutils literal"><span class="pre">autocommit</span></code>&#x4F1A;&#x8BDD;&#xFF0C;flush()&#x5C06;&#x7ACB;&#x5373;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#xFF0C;&#x5C06;&#x6574;&#x4E2A;&#x64CD;&#x4F5C;&#x96C6;&#x5408;&#x5305;&#x542B;&#x5728;flush&#x4E2D;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-385">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><span class="yiyi-st" id="yiyi-389"><span class="target" id="sqlalchemy.orm.session.Session.flush.params.objects"></span> <strong>&#x5BF9;&#x8C61;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.flush.params.objects">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-386">&#x53EF;&#x9009;&#x7684;&#xFF1B;&#x9650;&#x5236;&#x5237;&#x65B0;&#x64CD;&#x4F5C;&#x4EC5;&#x5BF9;&#x6307;&#x5B9A;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-387">&#x6B64;&#x529F;&#x80FD;&#x9002;&#x7528;&#x4E8E;&#x5728;&#x5B8C;&#x5168;&#x51B2;&#x6D17;()&#x53D1;&#x751F;&#x4E4B;&#x524D;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x5BF9;&#x7279;&#x5B9A;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x7684;&#x6781;&#x5176;&#x72ED;&#x7A84;&#x7684;&#x4E00;&#x7EC4;&#x7528;&#x4F8B;&#x3002;</span><span class="yiyi-st" id="yiyi-388">&#x5B83;&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x4E00;&#x822C;&#x7528;&#x9014;&#x3002;</span></p></td></tr></tbody></table></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.get_bind"><span class="yiyi-st" id="yiyi-390"><code class="descname"> get_bind  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x6620;&#x5C04;&#x5668;=&#x65E0; T2&gt;&#xFF0C;<em>&#x5B50;&#x53E5;=&#x65E0; T3&gt; <span class="sig-paren">&#xFF09; T4&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.get_bind" title="Permalink to this definition">&#xB6;&lt; / T5&gt;</a></span></em></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-391">&#x8FD4;&#x56DE;&#x8BE5;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x7ED1;&#x5B9A;&#x5230;&#x7684;&#x201C;&#x7ED1;&#x5B9A;&#x201D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-392">&#x201C;&#x7ED1;&#x5B9A;&#x201D;&#x901A;&#x5E38;&#x662F;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>&#x7684;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#xFF0C;&#x9664;&#x975E;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5DF2;&#x76F4;&#x63A5;&#x663E;&#x5F0F;&#x7ED1;&#x5B9A;&#x5230;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-393">&#x5BF9;&#x4E8E;&#x4E58;&#x6CD5;&#x6216;&#x975E;&#x7EA6;&#x675F;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#xFF0C;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">mapper</span></code>&#x6216;<code class="docutils literal"><span class="pre">clause</span></code>&#x53C2;&#x6570;&#x6765;&#x786E;&#x5B9A;&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x9002;&#x5F53;&#x7ED1;&#x5B9A;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-394">Note that the &#x201C;mapper&#x201D; argument is usually present when <a class="reference internal" href="#sqlalchemy.orm.session.Session.get_bind" title="sqlalchemy.orm.session.Session.get_bind"><code class="xref py py-meth docutils literal"><span class="pre">Session.get_bind()</span></code></a> is called via an ORM operation such as a <a class="reference internal" href="#sqlalchemy.orm.session.Session.query" title="sqlalchemy.orm.session.Session.query"><code class="xref py py-meth docutils literal"><span class="pre">Session.query()</span></code></a>, each individual INSERT/UPDATE/DELETE operation within a <a class="reference internal" href="#sqlalchemy.orm.session.Session.flush" title="sqlalchemy.orm.session.Session.flush"><code class="xref py py-meth docutils literal"><span class="pre">Session.flush()</span></code></a>, call, etc.</span></p><p><span class="yiyi-st" id="yiyi-395">&#x89E3;&#x51B3;&#x7684;&#x987A;&#x5E8F;&#x662F;&#xFF1A;</span></p><ol class="arabic simple"><li><span class="yiyi-st" id="yiyi-396">&#x5982;&#x679C;&#x5B58;&#x5728;&#x6620;&#x5C04;&#x5668;&#x548C;session.binds&#xFF0C;&#x5219;&#x6839;&#x636E;&#x6620;&#x5C04;&#x5668;&#x627E;&#x5230;&#x7ED1;&#x5B9A;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-397">&#x5982;&#x679C;&#x5B58;&#x5728;&#x5B50;&#x53E5;given&#x548C;session.binds&#xFF0C;&#x5219;&#x6839;&#x636E;&#x5728;session.binds&#x4E2D;&#x7ED9;&#x51FA;&#x7684;&#x5B50;&#x53E5;&#x4E2D;&#x627E;&#x5230;&#x7684;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x5BF9;&#x8C61;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x7ED1;&#x5B9A;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-398">&#x5982;&#x679C;session.bind&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x8BE5;&#x503C;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-399">&#x5982;&#x679C;&#x7ED9;&#x51FA;&#x5B50;&#x53E5;&#xFF0C;&#x5219;&#x5C1D;&#x8BD5;&#x8FD4;&#x56DE;&#x94FE;&#x63A5;&#x5230;&#x6700;&#x7EC8;&#x4E0E;&#x8BE5;&#x5B50;&#x53E5;&#x5173;&#x8054;&#x7684;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal"><span class="pre">MetaData</span></code></a>&#x7684;&#x7ED1;&#x5B9A;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-400">&#x5982;&#x679C;&#x7ED9;&#x5B9A;&#x4E86;&#x6620;&#x5C04;&#x5668;&#xFF0C;&#x5219;&#x5C1D;&#x8BD5;&#x8FD4;&#x56DE;&#x94FE;&#x63A5;&#x5230;&#x6700;&#x7EC8;&#x4E0E;&#x6620;&#x5C04;&#x5668;&#x6620;&#x5C04;&#x5230;&#x7684;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x6216;&#x5176;&#x4ED6;&#x53EF;&#x9009;&#x6620;&#x5C04;&#x5173;&#x8054;&#x7684;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal"><span class="pre">MetaData</span></code></a>&#x7684;&#x7ED1;&#x5B9A;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-401">&#x65E0;&#x6CD5;&#x627E;&#x5230;&#x7ED1;&#x5B9A;&#xFF0C;<a class="reference internal" href="core_exceptions.html#sqlalchemy.exc.UnboundExecutionError" title="sqlalchemy.exc.UnboundExecutionError"><code class="xref py py-exc docutils literal"><span class="pre">UnboundExecutionError</span></code></a>&#x3002;</span></li></ol><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-402">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-403"><span class="target" id="sqlalchemy.orm.session.Session.get_bind.params.mapper"></span><strong>mapper</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.get_bind.params.mapper">&#xB6;</a> &#x2013; Optional <a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper" title="sqlalchemy.orm.mapper"><code class="xref py py-func docutils literal"><span class="pre">mapper()</span></code></a> mapped class or instance of <a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper.Mapper" title="sqlalchemy.orm.mapper.Mapper"><code class="xref py py-class docutils literal"><span class="pre">Mapper</span></code></a>. </span><span class="yiyi-st" id="yiyi-404">The bind can be derived from a <a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper.Mapper" title="sqlalchemy.orm.mapper.Mapper"><code class="xref py py-class docutils literal"><span class="pre">Mapper</span></code></a> first by consulting the &#x201C;binds&#x201D; map associated with this <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>, and secondly by consulting the <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal"><span class="pre">MetaData</span></code></a> associated with the <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> to which the <a class="reference internal" href="mapping_api.html#sqlalchemy.orm.mapper.Mapper" title="sqlalchemy.orm.mapper.Mapper"><code class="xref py py-class docutils literal"><span class="pre">Mapper</span></code></a> is mapped for a bind.</span></li><li><span class="yiyi-st" id="yiyi-405"><span class="target" id="sqlalchemy.orm.session.Session.get_bind.params.clause"></span><strong>clause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.get_bind.params.clause">&#xB6;</a> &#x2013; A <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a> (i.e. <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>, <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal"><span class="pre">text()</span></code></a>, etc.). </span><span class="yiyi-st" id="yiyi-406">If the <code class="docutils literal"><span class="pre">mapper</span></code> argument is not present or could not produce a bind, the given expression construct will be searched for a bound element, typically a <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> associated with bound <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal"><span class="pre">MetaData</span></code></a>.</span></li></ul></td></tr></tbody></table></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.identity_key"><span class="yiyi-st" id="yiyi-407"><code class="descname"> identity_key  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * ARGS  T2&gt;&#xFF0C;<em> ** kwargs  T3&gt; <span class="sig-paren">&#xFF09; T4&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.identity_key" title="Permalink to this definition">&#xB6; T5&gt;</a></span></em></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-408"> <em>inherited from the</em> <code class="xref py py-meth docutils literal"><span class="pre">identity_key()</span></code> <em>method of</em> <code class="xref py py-class docutils literal"><span class="pre">_SessionClassMethods</span></code></span></div><p><span class="yiyi-st" id="yiyi-409">&#x8FD4;&#x56DE;&#x8EAB;&#x4EFD;&#x5BC6;&#x94A5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-410">&#x8FD9;&#x662F;<a class="reference internal" href="mapping_api.html#sqlalchemy.orm.util.identity_key" title="sqlalchemy.orm.util.identity_key"><code class="xref py py-func docutils literal"><span class="pre">util.identity_key()</span></code></a>&#x7684;&#x522B;&#x540D;&#x3002;</span></p></dd></dl><dl class="attribute"><dt id="sqlalchemy.orm.session.Session.identity_map"><span class="yiyi-st" id="yiyi-411"><code class="descname">identity_map</code> <em class="property">=&#x65E0;</em> <a class="headerlink" href="#sqlalchemy.orm.session.Session.identity_map" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-412">&#x5C06;&#x5BF9;&#x8C61;&#x6807;&#x8BC6;&#x6620;&#x5C04;&#x5230;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-413">&#x8FED;&#x4EE3;&#x901A;&#x8FC7;<code class="docutils literal"><span class="pre">Session.identity_map.values()</span></code>&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x5F53;&#x524D;&#x5728;&#x4F1A;&#x8BDD;&#x4E2D;&#x7684;&#x6574;&#x5957;&#x6301;&#x4E45;&#x5BF9;&#x8C61;&#xFF08;&#x5373;&#x5177;&#x6709;&#x884C;&#x6807;&#x8BC6;&#x7684;&#x6301;&#x4E45;&#x5BF9;&#x8C61;&#xFF09;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-414">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-415"><a class="reference internal" href="mapping_api.html#sqlalchemy.orm.util.identity_key" title="sqlalchemy.orm.util.identity_key"><code class="xref py py-func docutils literal"><span class="pre">identity_key()</span></code></a> - helper function to produce the keys used in this dictionary.</span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.orm.session.Session.info"><span class="yiyi-st" id="yiyi-416"><code class="descname">&#x4FE1;&#x606F; T0&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.info" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-417">&#x7528;&#x6237;&#x53EF;&#x4FEE;&#x6539;&#x7684;&#x5B57;&#x5178;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-418">&#x8BE5;&#x5B57;&#x5178;&#x7684;&#x521D;&#x59CB;&#x503C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x6784;&#x9020;&#x51FD;&#x6570;&#x6216;<a class="reference internal" href="#sqlalchemy.orm.session.sessionmaker" title="sqlalchemy.orm.session.sessionmaker"><code class="xref py py-class docutils literal"><span class="pre">sessionmaker</span></code></a>&#x6784;&#x9020;&#x51FD;&#x6570;&#x6216;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;&#x7684;<code class="docutils literal"><span class="pre">info</span></code>&#x53C2;&#x6570;&#x586B;&#x5145;&#x3002;</span><span class="yiyi-st" id="yiyi-419">&#x6B64;&#x5904;&#x7684;&#x5B57;&#x5178;&#x59CB;&#x7EC8;&#x662F;&#x672C;&#x5730;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x4E8E;&#x6240;&#x6709;&#x5176;&#x4ED6;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-420"><span class="versionmodified">&#x7248;&#x672C;0.9.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.invalidate"><span class="yiyi-st" id="yiyi-421"><code class="descname">&#x65E0;&#x6548; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.invalidate" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-422">&#x5173;&#x95ED;&#x6B64;&#x4F1A;&#x8BDD;&#xFF0C;&#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x5931;&#x6548;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-423">&#x8FD9;&#x662F;<a class="reference internal" href="#sqlalchemy.orm.session.Session.close" title="sqlalchemy.orm.session.Session.close"><code class="xref py py-meth docutils literal"><span class="pre">Session.close()</span></code></a>&#x7684;&#x4E00;&#x4E2A;&#x53D8;&#x4F53;&#xFF0C;&#x5B83;&#x8FD8;&#x5C06;&#x786E;&#x4FDD;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection.invalidate" title="sqlalchemy.engine.Connection.invalidate"><code class="xref py py-meth docutils literal"><span class="pre">Connection.invalidate()</span></code></a>&#x65B9;&#x6CD5;&#x5728;&#x6240;&#x6709;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#x5BF9;&#x8C61;&#x4E0A;&#x88AB;&#x8C03;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-424">&#x5F53;&#x77E5;&#x9053;&#x6570;&#x636E;&#x5E93;&#x5904;&#x4E8E;&#x8FDE;&#x63A5;&#x4E0D;&#x518D;&#x5B89;&#x5168;&#x4F7F;&#x7528;&#x7684;&#x72B6;&#x6001;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x5B83;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-425">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">sess</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
    <span class="n">sess</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">User</span><span class="p">())</span>
    <span class="n">sess</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
<span class="k">except</span> <span class="n">gevent</span><span class="o">.</span><span class="n">Timeout</span><span class="p">:</span>
    <span class="n">sess</span><span class="o">.</span><span class="n">invalidate</span><span class="p">()</span>
    <span class="k">raise</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">sess</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
    <span class="k">raise</span></pre></div></div><p><span class="yiyi-st" id="yiyi-426">&#x8FD9;&#x4F1A;&#x6E05;&#x9664;&#x6240;&#x6709;&#x9879;&#x76EE;&#x5E76;&#x7ED3;&#x675F;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x7684;&#x4EFB;&#x4F55;&#x4EA4;&#x6613;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-427">&#x5982;&#x679C;&#x6B64;&#x4F1A;&#x8BDD;&#x662F;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">autocommit=False</span></code>&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x5219;&#x7ACB;&#x5373;&#x5F00;&#x59CB;&#x4E00;&#x4E2A;&#x65B0;&#x4E8B;&#x52A1;&#x3002;</span><span class="yiyi-st" id="yiyi-428">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B0;&#x4E8B;&#x52A1;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x9700;&#x8981;&#x4E4B;&#x524D;&#x4E0D;&#x4F1A;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x8FDE;&#x63A5;&#x8D44;&#x6E90;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-429"><span class="versionmodified">&#x7248;&#x672C;0.9.9&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.orm.session.Session.is_active"><span class="yiyi-st" id="yiyi-430"><code class="descname"> IS_ACTIVE  T0&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.is_active" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-431">True if this <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> is in &#x201C;transaction mode&#x201D; and is not in &#x201C;partial rollback&#x201D; state.</span></p><p><span class="yiyi-st" id="yiyi-432">&#x5728;<code class="docutils literal"><span class="pre">autocommit=False</span></code>&#x9ED8;&#x8BA4;&#x6A21;&#x5F0F;&#x4E0B;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x672C;&#x8D28;&#x4E0A;&#x603B;&#x662F;&#x5904;&#x4E8E;&#x201C;&#x4E8B;&#x52A1;&#x6A21;&#x5F0F;&#x201D;&#xFF0C;&#x56E0;&#x4E3A;<a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a>&#x4E0E;&#x5176;&#x5173;&#x8054;&#x56E0;&#x4E3A;&#x5B83;&#x88AB;&#x5B9E;&#x4F8B;&#x5316;&#x3002;</span><span class="yiyi-st" id="yiyi-433">&#x7531;&#x4E8E;&#x56DE;&#x6EDA;&#xFF0C;&#x63D0;&#x4EA4;&#x6216;&#x5173;&#x95ED;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x4E2A;<a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a>&#x4E00;&#x65E6;&#x88AB;&#x7ED3;&#x675F;&#x7ACB;&#x5373;&#x88AB;&#x65B0;&#x7684;&#x66FF;&#x6362;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-434">&#x201C;Transaction mode&#x201D; does <em>not</em> indicate whether or not actual database connection resources are in use; the <a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a> object coordinates among zero or more actual database transactions, and starts out with none, accumulating individual DBAPI connections as different data sources are used within its scope. </span><span class="yiyi-st" id="yiyi-435">The best way to track when a particular <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> has actually begun to use DBAPI resources is to implement a listener using the <a class="reference internal" href="events.html#sqlalchemy.orm.events.SessionEvents.after_begin" title="sqlalchemy.orm.events.SessionEvents.after_begin"><code class="xref py py-meth docutils literal"><span class="pre">SessionEvents.after_begin()</span></code></a> method, which will deliver both the <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> as well as the target <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a> to a user-defined event listener.</span></p><p><span class="yiyi-st" id="yiyi-436">&#x201C;&#x90E8;&#x5206;&#x56DE;&#x6EDA;&#x201D;&#x72B6;&#x6001;&#x662F;&#x6307;&#x901A;&#x5E38;&#x5728;&#x5237;&#x65B0;&#x671F;&#x95F4;&#x4F7F;&#x7528;&#x7684;&#x201C;&#x5185;&#x90E8;&#x201D;&#x4E8B;&#x52A1;&#x9047;&#x5230;&#x9519;&#x8BEF;&#x5E76;&#x53D1;&#x51FA;DBAPI&#x8FDE;&#x63A5;&#x7684;&#x56DE;&#x6EDA;&#x65F6;&#x3002;</span><span class="yiyi-st" id="yiyi-437">&#x6B64;&#x65F6;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5904;&#x4E8E;&#x201C;&#x90E8;&#x5206;&#x56DE;&#x6EDA;&#x201D;&#x5E76;&#x7B49;&#x5F85;&#x7528;&#x6237;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.rollback" title="sqlalchemy.orm.session.Session.rollback"><code class="xref py py-meth docutils literal"><span class="pre">Session.rollback()</span></code></a>&#xFF0C;&#x4EE5;&#x5173;&#x95ED;&#x4E8B;&#x52A1;&#x5806;&#x6808;&#x3002;</span><span class="yiyi-st" id="yiyi-438">&#x6B63;&#x662F;&#x5728;&#x8FD9;&#x4E2A;&#x201C;&#x90E8;&#x5206;&#x56DE;&#x6EDA;&#x201D;&#x671F;&#x95F4;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.session.Session.is_active" title="sqlalchemy.orm.session.Session.is_active"><code class="xref py py-attr docutils literal"><span class="pre">is_active</span></code></a>&#x6807;&#x5FD7;&#x8FD4;&#x56DE;False&#x3002;</span><span class="yiyi-st" id="yiyi-439">After the call to <a class="reference internal" href="#sqlalchemy.orm.session.Session.rollback" title="sqlalchemy.orm.session.Session.rollback"><code class="xref py py-meth docutils literal"><span class="pre">Session.rollback()</span></code></a>, the <a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a> is replaced with a new one and <a class="reference internal" href="#sqlalchemy.orm.session.Session.is_active" title="sqlalchemy.orm.session.Session.is_active"><code class="xref py py-attr docutils literal"><span class="pre">is_active</span></code></a> returns <code class="docutils literal"><span class="pre">True</span></code> again.</span></p><p><span class="yiyi-st" id="yiyi-440">&#x5728;<code class="docutils literal"><span class="pre">autocommit=True</span></code>&#x6A21;&#x5F0F;&#x4E0B;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x65F6;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a>&#x4EC5;&#x5728;flush&#x8C03;&#x7528;&#x7684;&#x8303;&#x56F4;&#x5185;&#x5B9E;&#x4F8B;&#x5316;&#xFF0C;&#x6216;<a class="reference internal" href="#sqlalchemy.orm.session.Session.begin" title="sqlalchemy.orm.session.Session.begin"><code class="xref py py-meth docutils literal"><span class="pre">Session.begin()</span></code></a>&#x88AB;&#x8C03;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-441">So <a class="reference internal" href="#sqlalchemy.orm.session.Session.is_active" title="sqlalchemy.orm.session.Session.is_active"><code class="xref py py-attr docutils literal"><span class="pre">is_active</span></code></a> will always be <code class="docutils literal"><span class="pre">False</span></code> outside of a flush or <a class="reference internal" href="#sqlalchemy.orm.session.Session.begin" title="sqlalchemy.orm.session.Session.begin"><code class="xref py py-meth docutils literal"><span class="pre">Session.begin()</span></code></a> block in this mode, and will be <code class="docutils literal"><span class="pre">True</span></code> within the <a class="reference internal" href="#sqlalchemy.orm.session.Session.begin" title="sqlalchemy.orm.session.Session.begin"><code class="xref py py-meth docutils literal"><span class="pre">Session.begin()</span></code></a> block as long as it doesn&#x2019;t enter &#x201C;partial rollback&#x201D; state.</span></p><p><span class="yiyi-st" id="yiyi-442">&#x4ECE;&#x4EE5;&#x4E0A;&#x6240;&#x8FF0;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5BF9;&#x4E8E;&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x552F;&#x4E00;&#x7684;&#x76EE;&#x7684;&#x662F;&#x5E0C;&#x671B;&#x68C0;&#x6D4B;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6846;&#x67B6;&#x5728;&#x901A;&#x7528;&#x9519;&#x8BEF;&#x5904;&#x7406;&#x4F8B;&#x7A0B;&#x4E2D;&#x662F;&#x5FC5;&#x9700;&#x7684;&#xFF0C;&#x5BF9;&#x4E8E;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5BF9;&#x8C61;&#x5728;&#x201C;&#x90E8;&#x5206;&#x56DE;&#x6EDA;&#x201D;&#x6A21;&#x5F0F;&#x4E0B;&#x3002;</span><span class="yiyi-st" id="yiyi-443">&#x5728;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;&#x96C6;&#x6210;&#x6848;&#x4F8B;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E5F;&#x4E0D;&#x662F;&#x5FC5;&#x987B;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x6807;&#x51C6;&#x505A;&#x6CD5;&#x662F;&#x65E0;&#x6761;&#x4EF6;&#x5730;&#x5728;&#x6700;&#x5916;&#x9762;&#x7684;&#x5F02;&#x5E38;&#x6355;&#x83B7;&#x4E2D;&#x53D1;&#x5E03;<a class="reference internal" href="#sqlalchemy.orm.session.Session.rollback" title="sqlalchemy.orm.session.Session.rollback"><code class="xref py py-meth docutils literal"><span class="pre">Session.rollback()</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-444">To track the transactional state of a <a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> fully, use event listeners, primarily the <a class="reference internal" href="events.html#sqlalchemy.orm.events.SessionEvents.after_begin" title="sqlalchemy.orm.events.SessionEvents.after_begin"><code class="xref py py-meth docutils literal"><span class="pre">SessionEvents.after_begin()</span></code></a>, <a class="reference internal" href="events.html#sqlalchemy.orm.events.SessionEvents.after_commit" title="sqlalchemy.orm.events.SessionEvents.after_commit"><code class="xref py py-meth docutils literal"><span class="pre">SessionEvents.after_commit()</span></code></a>, <a class="reference internal" href="events.html#sqlalchemy.orm.events.SessionEvents.after_rollback" title="sqlalchemy.orm.events.SessionEvents.after_rollback"><code class="xref py py-meth docutils literal"><span class="pre">SessionEvents.after_rollback()</span></code></a> and related events.</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.is_modified"><span class="yiyi-st" id="yiyi-445"><code class="descname">is_modified</code> <span class="sig-paren">&#xFF08;</span> <em>&#x5B9E;&#x4F8B;</em>&#xFF0C;<em>include_collections = True</em>&#xFF0C;<em>passive = True</em> <span class="sig-paren">&#xFF09;  T5&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.is_modified" title="Permalink to this definition">&#xB6; T6&gt;</a></span></span></dt><dd><p><span class="yiyi-st" id="yiyi-446">&#x5982;&#x679C;&#x7ED9;&#x5B9A;&#x5B9E;&#x4F8B;&#x5177;&#x6709;&#x672C;&#x5730;&#x4FEE;&#x6539;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;<code class="docutils literal"><span class="pre">True</span></code>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-447">&#x6B64;&#x65B9;&#x6CD5;&#x68C0;&#x7D22;&#x5B9E;&#x4F8B;&#x4E0A;&#x6BCF;&#x4E2A;&#x5DF2;&#x63D2;&#x88C5;&#x5C5E;&#x6027;&#x7684;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#xFF0C;&#x5E76;&#x5C06;&#x5F53;&#x524D;&#x503C;&#x4E0E;&#x4E4B;&#x524D;&#x63D0;&#x4EA4;&#x7684;&#x503C;&#xFF08;&#x5982;&#x679C;&#x6709;&#xFF09;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-448">&#x5B83;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x68C0;&#x67E5;<a class="reference internal" href="#sqlalchemy.orm.session.Session.dirty" title="sqlalchemy.orm.session.Session.dirty"><code class="xref py py-attr docutils literal"><span class="pre">Session.dirty</span></code></a>&#x96C6;&#x5408;&#x4E2D;&#x7ED9;&#x5B9A;&#x5B9E;&#x4F8B;&#x7684;&#x66F4;&#x6602;&#x8D35;&#x548C;&#x51C6;&#x786E;&#x7684;&#x7248;&#x672C;&#xFF1B;&#x5BF9;&#x6BCF;&#x4E2A;&#x5C5E;&#x6027;&#x7684;&#x201C;&#x810F;&#x201D;&#x72B6;&#x6001;&#x8FDB;&#x884C;&#x5168;&#x9762;&#x6D4B;&#x8BD5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-449">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">session</span><span class="o">.</span><span class="n">is_modified</span><span class="p">(</span><span class="n">someobject</span><span class="p">)</span></pre></div></div><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-450"><span class="versionmodified">Changed in version 0.8: </span>When using SQLAlchemy 0.7 and earlier, the <code class="docutils literal"><span class="pre">passive</span></code> flag should <strong>always</strong> be explicitly set to <code class="docutils literal"><span class="pre">True</span></code>, else SQL loads/autoflushes may proceed which can affect the modified state itself: <code class="docutils literal"><span class="pre">session.is_modified(someobject,</span> <span class="pre">passive=True)</span></code>. </span><span class="yiyi-st" id="yiyi-451">&#x5728;0.8&#x548C;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#x4E2D;&#xFF0C;&#x884C;&#x4E3A;&#x88AB;&#x7EA0;&#x6B63;&#xFF0C;&#x5E76;&#x4E14;&#x8BE5;&#x6807;&#x5FD7;&#x88AB;&#x5FFD;&#x7565;&#x3002;</span></p></div><p><span class="yiyi-st" id="yiyi-452">&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x7684;&#x4E00;&#x4E9B;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#x9002;&#x7528;&#x4E8E;&#xFF1A;</span></p><ul><li><p class="first"><span class="yiyi-st" id="yiyi-453">&#x5F53;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x65F6;&#xFF0C;&#x5B58;&#x5728;&#x4E8E;<a class="reference internal" href="#sqlalchemy.orm.session.Session.dirty" title="sqlalchemy.orm.session.Session.dirty"><code class="xref py py-attr docutils literal"><span class="pre">Session.dirty</span></code></a>&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x5B9E;&#x4F8B;&#x53EF;&#x80FD;&#x4F1A;&#x62A5;&#x544A;<code class="docutils literal"><span class="pre">False</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-454">&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5BF9;&#x8C61;&#x53EF;&#x80FD;&#x901A;&#x8FC7;&#x5C5E;&#x6027;&#x7A81;&#x53D8;&#x63A5;&#x6536;&#x5230;&#x66F4;&#x6539;&#x4E8B;&#x4EF6;&#xFF0C;&#x56E0;&#x6B64;&#x5C06;&#x5176;&#x653E;&#x7F6E;&#x5728;<a class="reference internal" href="#sqlalchemy.orm.session.Session.dirty" title="sqlalchemy.orm.session.Session.dirty"><code class="xref py py-attr docutils literal"><span class="pre">Session.dirty</span></code></a>&#x4E2D;&#xFF0C;&#x4F46;&#x6700;&#x7EC8;&#x72B6;&#x6001;&#x4E0E;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x52A0;&#x8F7D;&#x7684;&#x72B6;&#x6001;&#x76F8;&#x540C;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x6B64;&#x5904;&#x6CA1;&#x6709;&#x51C0;&#x66F4;&#x6539;&#x3002;</span></p></li><li><p class="first"><span class="yiyi-st" id="yiyi-455">&#x6807;&#x91CF;&#x5C5E;&#x6027;&#x53EF;&#x80FD;&#x6CA1;&#x6709;&#x8BB0;&#x5F55;&#x5E94;&#x7528;&#x65B0;&#x503C;&#x7684;&#x65F6;&#x5019;&#x4EE5;&#x524D;&#x8BBE;&#x7F6E;&#x7684;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x63A5;&#x6536;&#x65B0;&#x503C;&#x65F6;&#x8BE5;&#x5C5E;&#x6027;&#x672A;&#x52A0;&#x8F7D;&#x6216;&#x5DF2;&#x8FC7;&#x671F; - &#x5728;&#x8FD9;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8BE5;&#x5C5E;&#x6027;&#x88AB;&#x5047;&#x5B9A;&#x4E3A;&#x6709;&#x53D8;&#x5316;&#xFF0C;&#x5373;&#x4F7F;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x503C;&#x6700;&#x7EC8;&#x6CA1;&#x6709;&#x51C0;&#x53D8;&#x5316;&#x3002;</span><span class="yiyi-st" id="yiyi-456">&#x5728;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;SQLAlchemy&#x5728;&#x8BBE;&#x7F6E;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x65F6;&#x4E0D;&#x9700;&#x8981;&#x201C;&#x65E7;&#x201D;&#x503C;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x65E7;&#x503C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x57FA;&#x4E8E;&#x5047;&#x5B9A;&#x9700;&#x8981;&#x66F4;&#x65B0;&#x6807;&#x91CF;&#x503C;&#xFF0C;&#x5219;&#x8DF3;&#x8FC7;SQL&#x8C03;&#x7528;&#x7684;&#x5F00;&#x9500;&#xFF0C;&#x800C;&#x5728;&#x5C11;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5E73;&#x5747;&#x6210;&#x672C;&#x4F4E;&#x4E8E;&#x53D1;&#x5E03;&#x9632;&#x5FA1;&#x6027;SELECT&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-457">&#x4EC5;&#x5F53;&#x5C5E;&#x6027;&#x5BB9;&#x5668;&#x7684;<code class="docutils literal"><span class="pre">active_history</span></code>&#x6807;&#x5FD7;&#x8BBE;&#x7F6E;&#x4E3A;<code class="docutils literal"><span class="pre">True</span></code>&#x65F6;&#xFF0C;&#x624D;&#x4F1A;&#x65E0;&#x6761;&#x4EF6;&#x5730;&#x83B7;&#x53D6;&#x201C;&#x65E7;&#x201D;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-458">&#x901A;&#x5E38;&#x4E3A;&#x4E3B;&#x952E;&#x5C5E;&#x6027;&#x548C;&#x6807;&#x91CF;&#x5BF9;&#x8C61;&#x5F15;&#x7528;&#x8BBE;&#x7F6E;&#x6B64;&#x6807;&#x5FD7;&#xFF0C;&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x4E0D;&#x662F;&#x7B80;&#x5355;&#x7684;&#x591A;&#x5BF9;&#x4E00;&#x3002;</span><span class="yiyi-st" id="yiyi-459">&#x8981;&#x4E3A;&#x4EFB;&#x610F;&#x6620;&#x5C04;&#x5217;&#x8BBE;&#x7F6E;&#x6B64;&#x6807;&#x5FD7;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;<a class="reference internal" href="mapping_columns.html#sqlalchemy.orm.column_property" title="sqlalchemy.orm.column_property"><code class="xref py py-func docutils literal"><span class="pre">column_property()</span></code></a>&#x7684;<code class="docutils literal"><span class="pre">active_history</span></code>&#x53C2;&#x6570;&#x3002;</span></p></li></ul><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-460">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-461"><span class="target" id="sqlalchemy.orm.session.Session.is_modified.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.is_modified.params.instance">&#xB6;</a> &#x2013; mapped instance to be tested for pending changes.</span></li><li><span class="yiyi-st" id="yiyi-462"><span class="target" id="sqlalchemy.orm.session.Session.is_modified.params.include_collections"></span> <strong>include_collections</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.is_modified.params.include_collections">&#xB6;</a>  - &#x6307;&#x793A;&#x662F;&#x5426;&#x5E94;&#x5C06;&#x591A;&#x503C;&#x96C6;&#x5408;&#x5305;&#x542B;&#x5728;&#x64CD;&#x4F5C;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-463">&#x5C06;&#x6B64;&#x8BBE;&#x7F6E;&#x4E3A;<code class="docutils literal"><span class="pre">False</span></code>&#x662F;&#x4E00;&#x79CD;&#x4EC5;&#x68C0;&#x6D4B;&#x57FA;&#x4E8E;&#x672C;&#x5730;&#x5217;&#x7684;&#x5C5E;&#x6027;&#xFF08;&#x5373;&#x6807;&#x91CF;&#x5217;&#x6216;&#x591A;&#x5BF9;&#x4E00;&#x5916;&#x952E;&#xFF09;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x5728;&#x5237;&#x65B0;&#x65F6;&#x4F1A;&#x5BFC;&#x81F4;&#x6B64;&#x5B9E;&#x4F8B;&#x7684;UPDATE&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-466"><span class="target" id="sqlalchemy.orm.session.Session.is_modified.params.passive"></span> <strong>&#x88AB;&#x52A8;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.is_modified.params.passive">&#xB6;</a>  - </span><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-464"><span class="versionmodified">Changed in version 0.8: </span>Ignored for backwards compatibility. </span><span class="yiyi-st" id="yiyi-465">&#x4F7F;&#x7528;SQLAlchemy 0.7&#x53CA;&#x66F4;&#x65E9;&#x7248;&#x672C;&#x65F6;&#xFF0C;&#x8BE5;&#x6807;&#x5FD7;&#x5E94;&#x59CB;&#x7EC8;&#x8BBE;&#x7F6E;&#x4E3A;<code class="docutils literal"><span class="pre">True</span></code>&#x3002;</span></p></div></li></ul></td></tr></tbody></table></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.merge"><span class="yiyi-st" id="yiyi-467"><code class="descname">merge</code> <span class="sig-paren">&#xFF08;</span> <em>instance</em>&#xFF0C;<em>load = True</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.session.Session.merge" title="Permalink to this definition"> t5 &gt;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-468">&#x5C06;&#x7ED9;&#x5B9A;&#x5B9E;&#x4F8B;&#x7684;&#x72B6;&#x6001;&#x590D;&#x5236;&#x5230;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5185;&#x7684;&#x76F8;&#x5E94;&#x5B9E;&#x4F8B;&#x4E2D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-469"><a class="reference internal" href="#sqlalchemy.orm.session.Session.merge" title="sqlalchemy.orm.session.Session.merge"><code class="xref py py-meth docutils literal"><span class="pre">Session.merge()</span></code></a> examines the primary key attributes of the source instance, and attempts to reconcile it with an instance of the same primary key in the session. </span><span class="yiyi-st" id="yiyi-470">&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5728;&#x672C;&#x5730;&#x627E;&#x5230;&#xFF0C;&#x5B83;&#x5C06;&#x5C1D;&#x8BD5;&#x4ECE;&#x57FA;&#x4E8E;&#x4E3B;&#x952E;&#x7684;&#x6570;&#x636E;&#x5E93;&#x52A0;&#x8F7D;&#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x53EF;&#x627E;&#x5230;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x5B9E;&#x4F8B;&#x3002;</span><span class="yiyi-st" id="yiyi-471">&#x7136;&#x540E;&#x5C06;&#x6E90;&#x5B9E;&#x4F8B;&#x4E0A;&#x7684;&#x6BCF;&#x4E2A;&#x5C5E;&#x6027;&#x7684;&#x72B6;&#x6001;&#x590D;&#x5236;&#x5230;&#x76EE;&#x6807;&#x5B9E;&#x4F8B;&#x3002;</span><span class="yiyi-st" id="yiyi-472">&#x7136;&#x540E;&#x7531;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x76EE;&#x6807;&#x5B9E;&#x4F8B;&#xFF1B;&#x539F;&#x59CB;&#x6E90;&#x5B9E;&#x4F8B;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#xFF0C;&#x5E76;&#x4E14;&#x5982;&#x679C;&#x5C1A;&#x672A;&#x4E0E;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5173;&#x8054;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-473">&#x5982;&#x679C;&#x5173;&#x8054;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">cascade=&quot;merge&quot;</span></code>&#x6620;&#x200B;&#x200B;&#x5C04;&#xFF0C;&#x5219;&#x6B64;&#x64CD;&#x4F5C;&#x5C06;&#x7EA7;&#x8054;&#x5230;&#x5173;&#x8054;&#x7684;&#x5B9E;&#x4F8B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-474">&#x6709;&#x5173;&#x5408;&#x5E76;&#x7684;&#x8BE6;&#x7EC6;&#x8BA8;&#x8BBA;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="session_state_management.html#unitofwork-merging"><span>Merging</span></a>&#x3002;</span></p><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-475"><span class="versionmodified">&#x5728;&#x7248;&#x672C;1.1&#x4E2D;&#x66F4;&#x6539;&#xFF1A;</span>  -  <a class="reference internal" href="#sqlalchemy.orm.session.Session.merge" title="sqlalchemy.orm.session.Session.merge"><code class="xref py py-meth docutils literal"><span class="pre">Session.merge()</span></code></a>&#x73B0;&#x5728;&#x5C06;&#x4EE5;&#x4E0E;&#x6301;&#x4E45;&#x6027;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#x534F;&#x8C03;&#x5177;&#x6709;&#x91CD;&#x53E0;&#x4E3B;&#x952E;&#x7684;&#x6302;&#x8D77;&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-476">&#x6709;&#x5173;&#x8BA8;&#x8BBA;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="changelog_migration_11.html#change-3601"><span>Session.merge resolves pending conflicts the same as persistent</span></a>&#x76F8;&#x540C;&#x7684;&#x672A;&#x51B3;&#x51B2;&#x7A81;&#x3002;</span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-477">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-478"><span class="target" id="sqlalchemy.orm.session.Session.merge.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.merge.params.instance">&#xB6;</a> &#x2013; Instance to be merged.</span></li><li><span class="yiyi-st" id="yiyi-484"><span class="target" id="sqlalchemy.orm.session.Session.merge.params.load"></span> <strong>&#x8F7D;&#x5165;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.merge.params.load">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-479">Boolean, when False, <a class="reference internal" href="#sqlalchemy.orm.session.Session.merge" title="sqlalchemy.orm.session.Session.merge"><code class="xref py py-meth docutils literal"><span class="pre">merge()</span></code></a> switches into a &#x201C;high performance&#x201D; mode which causes it to forego emitting history events as well as all database access. </span><span class="yiyi-st" id="yiyi-480">&#x8BE5;&#x6807;&#x5FD7;&#x7528;&#x4E8E;&#x5C06;&#x5BF9;&#x8C61;&#x56FE;&#x5F62;&#x4ECE;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x8F6C;&#x79FB;&#x5230;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x4E2D;&#xFF0C;&#x6216;&#x5C06;&#x521A;&#x521A;&#x52A0;&#x8F7D;&#x7684;&#x5BF9;&#x8C61;&#x8F6C;&#x79FB;&#x5230;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#x62E5;&#x6709;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x4E2D;&#x6216;&#x8FC7;&#x7A0B;&#x800C;&#x4E0D;&#x91CD;&#x65B0;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-481"><code class="docutils literal"><span class="pre">load=False</span></code>&#x7528;&#x4F8B;&#x589E;&#x52A0;&#x4E86;&#x7ED9;&#x5B9A;&#x5BF9;&#x8C61;&#x5FC5;&#x987B;&#x5904;&#x4E8E;&#x201C;&#x5E72;&#x51C0;&#x201D;&#x72B6;&#x6001;&#x7684;&#x8B66;&#x544A;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x6CA1;&#x6709;&#x5F85;&#x5904;&#x7406;&#x7684;&#x66F4;&#x6539;&#x88AB;&#x5237;&#x65B0; - &#x5373;&#x4F7F;&#x4F20;&#x5165;&#x5BF9;&#x8C61;&#x4E0E;&#x4EFB;&#x4F55;&#x5BF9;&#x8C61;&#x5206;&#x79BB;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a></span><span class="yiyi-st" id="yiyi-482">&#x8FD9;&#x6837;&#xFF0C;&#x5F53;&#x5408;&#x5E76;&#x64CD;&#x4F5C;&#x5C06;&#x672C;&#x5730;&#x5C5E;&#x6027;&#x548C;&#x7EA7;&#x8054;&#x586B;&#x5145;&#x5230;&#x76F8;&#x5173;&#x5BF9;&#x8C61;&#x548C;&#x96C6;&#x5408;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x6309;&#x539F;&#x6837;&#x5C06;&#x8FD9;&#x4E9B;&#x503C;&#x201C;&#x52A0;&#x76D6;&#x201D;&#x5230;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#x4E0A;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x751F;&#x6210;&#x4EFB;&#x4F55;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x6216;&#x5C5E;&#x6027;&#x4E8B;&#x4EF6;&#xFF0C;&#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x534F;&#x8C03;&#x4F20;&#x5165;&#x6570;&#x636E;&#x4E0E;&#x4EFB;&#x4F55;&#x73B0;&#x6709;&#x7684;&#x76F8;&#x5173;&#x5BF9;&#x8C61;&#x6216;&#x96C6;&#x5408;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x88AB;&#x52A0;&#x8F7D;&#x3002;</span><span class="yiyi-st" id="yiyi-483">&#x6765;&#x81EA;<code class="docutils literal"><span class="pre">load=False</span></code>&#x7684;&#x7ED3;&#x679C;&#x5BF9;&#x8C61;&#x603B;&#x662F;&#x4EA7;&#x751F;&#x4E3A;&#x201C;&#x5E72;&#x51C0;&#x201D;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x6709;&#x7ED9;&#x5B9A;&#x7684;&#x5BF9;&#x8C61;&#x4E5F;&#x5E94;&#x8BE5;&#x662F;&#x201C;&#x5E72;&#x51C0;&#x201D;&#x7684;&#xFF0C;&#x5426;&#x5219;&#x8FD9;&#x8868;&#x660E;&#x8BE5;&#x65B9;&#x6CD5;&#x88AB;&#x9519;&#x8BEF;&#x4F7F;&#x7528;&#x3002;</span></p></li></ul></td></tr></tbody></table></dd></dl><dl class="attribute"><dt id="sqlalchemy.orm.session.Session.new"><span class="yiyi-st" id="yiyi-485"><code class="descname">&#x65B0;&#x7684; T0&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.new" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-486">&#x5728;<code class="docutils literal"><span class="pre">Session</span></code>&#x4E2D;&#x6807;&#x8BB0;&#x4E3A;&#x201C;&#x65B0;&#x201D;&#x7684;&#x6240;&#x6709;&#x5B9E;&#x4F8B;&#x7684;&#x96C6;&#x5408;&#x3002;</span></p></dd></dl><dl class="attribute"><dt id="sqlalchemy.orm.session.Session.no_autoflush"><span class="yiyi-st" id="yiyi-487"><code class="descname"> no_autoflush  T0&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.no_autoflush" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-488">&#x8FD4;&#x56DE;&#x7981;&#x7528;&#x81EA;&#x52A8;&#x5237;&#x65B0;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x7BA1;&#x7406;&#x5668;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-489">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">no_autoflush</span><span class="p">:</span>

    <span class="n">some_object</span> <span class="o">=</span> <span class="n">SomeClass</span><span class="p">()</span>
    <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">some_object</span><span class="p">)</span>
    <span class="c1"># won&apos;t autoflush</span>
    <span class="n">some_object</span><span class="o">.</span><span class="n">related_thing</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">SomeRelated</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span></pre></div></div><p><span class="yiyi-st" id="yiyi-490">&#x5728;<code class="docutils literal"><span class="pre">with:</span></code>&#x5757;&#x8FDB;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#x5728;&#x67E5;&#x8BE2;&#x8BBF;&#x95EE;&#x65F6;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x5237;&#x65B0;&#x3002;</span><span class="yiyi-st" id="yiyi-491">&#x8FD9;&#x5728;&#x521D;&#x59CB;&#x5316;&#x4E00;&#x7CFB;&#x5217;&#x6D89;&#x53CA;&#x73B0;&#x6709;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x7684;&#x5BF9;&#x8C61;&#x65F6;&#x5F88;&#x6709;&#x7528;&#xFF0C;&#x5176;&#x4E2D;&#x672A;&#x5B8C;&#x6210;&#x7684;&#x5BF9;&#x8C61;&#x5E94;&#x8BE5;&#x5C1A;&#x672A;&#x5237;&#x65B0;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-492"><span class="versionmodified">New in version 0.7.6.</span></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.object_session"><span class="yiyi-st" id="yiyi-493"><code class="descname"> object_session  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x5B9E;&#x4F8B; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.object_session" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-494"> <em>inherited from the</em> <code class="xref py py-meth docutils literal"><span class="pre">object_session()</span></code> <em>method of</em> <code class="xref py py-class docutils literal"><span class="pre">_SessionClassMethods</span></code></span></div><p><span class="yiyi-st" id="yiyi-495">&#x8FD4;&#x56DE;&#x5BF9;&#x8C61;&#x6240;&#x5C5E;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-496">&#x8FD9;&#x662F;<a class="reference internal" href="#sqlalchemy.orm.session.object_session" title="sqlalchemy.orm.session.object_session"><code class="xref py py-func docutils literal"><span class="pre">object_session()</span></code></a>&#x7684;&#x522B;&#x540D;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.prepare"><span class="yiyi-st" id="yiyi-497"><code class="descname">&#x5236;&#x5907; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.prepare" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-498">&#x51C6;&#x5907;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x7684;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-499">&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4E8B;&#x52A1;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#xFF0C;&#x5219;&#x6B64;&#x65B9;&#x6CD5;&#x5F15;&#x53D1;&#x4E00;&#x4E2A;<a class="reference internal" href="core_exceptions.html#sqlalchemy.exc.InvalidRequestError" title="sqlalchemy.exc.InvalidRequestError"><code class="xref py py-exc docutils literal"><span class="pre">InvalidRequestError</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-500">&#x53EA;&#x80FD;&#x51C6;&#x5907;&#x4E24;&#x9636;&#x6BB5;&#x4F1A;&#x8BDD;&#x7684;&#x6839;&#x4EA4;&#x6613;&#x3002;</span><span class="yiyi-st" id="yiyi-501">&#x5982;&#x679C;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x4E0D;&#x662F;&#x8FD9;&#x6837;&#xFF0C;&#x5219;&#x5F15;&#x53D1;&#x4E00;&#x4E2A;<a class="reference internal" href="core_exceptions.html#sqlalchemy.exc.InvalidRequestError" title="sqlalchemy.exc.InvalidRequestError"><code class="xref py py-exc docutils literal"><span class="pre">InvalidRequestError</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.prune"><span class="yiyi-st" id="yiyi-502"><code class="descname">&#x526A;&#x679D; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.prune" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-503">&#x79FB;&#x9664;&#x6807;&#x8BC6;&#x6620;&#x5C04;&#x4E2D;&#x7F13;&#x5B58;&#x7684;&#x672A;&#x5F15;&#x7528;&#x5B9E;&#x4F8B;&#x3002;</span></p><div class="deprecated"><p><span class="yiyi-st" id="yiyi-504"><span class="versionmodified">&#x4ECE;&#x7248;&#x672C;0.7&#x5F00;&#x59CB;&#x5F03;&#x7528;&#xFF1A;</span>&#x4E0D;&#x518D;&#x9700;&#x8981;&#x975E;&#x5F31;&#x5F15;&#x7528;&#x6807;&#x8BC6;&#x6620;&#x5C04;&#x529F;&#x80FD;&#x3002;</span></p></div><p><span class="yiyi-st" id="yiyi-505">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x6B64;&#x65B9;&#x6CD5;&#x4EC5;&#x5728;&#x201C;weak_identity_map&#x201D;&#x8BBE;&#x7F6E;&#x4E3A;False&#x65F6;&#x624D;&#x6709;&#x610F;&#x4E49;&#x3002;</span><span class="yiyi-st" id="yiyi-506">&#x9ED8;&#x8BA4;&#x7684;&#x5F31;&#x8EAB;&#x4EFD;&#x5730;&#x56FE;&#x662F;&#x81EA;&#x6211;&#x4FEE;&#x526A;&#x7684;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-507">&#x79FB;&#x9664;&#x6B64;&#x4F1A;&#x8BDD;&#x8EAB;&#x4EFD;&#x5730;&#x56FE;&#x4E2D;&#x672A;&#x5728;&#x7528;&#x6237;&#x4EE3;&#x7801;&#x4E2D;&#x5F15;&#x7528;&#xFF0C;&#x4FEE;&#x6539;&#xFF0C;&#x65B0;&#x5EFA;&#x6216;&#x8BA1;&#x5212;&#x5220;&#x9664;&#x7684;&#x4EFB;&#x4F55;&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-508">&#x8FD4;&#x56DE;&#x4FEE;&#x526A;&#x7684;&#x5BF9;&#x8C61;&#x6570;&#x91CF;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.query"><span class="yiyi-st" id="yiyi-509"><code class="descname">&#x67E5;&#x8BE2;</code> <span class="sig-paren">&#xFF08;</span> <em>*&#x5B9E;&#x4F53;</em>&#xFF0C;<em>** kwargs</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.session.Session.query" title="Permalink to this definition">T5&gt;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-510">&#x8FD4;&#x56DE;&#x4E0E;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5BF9;&#x5E94;&#x7684;&#x65B0;<a class="reference internal" href="query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.refresh"><span class="yiyi-st" id="yiyi-511"><code class="descname">refresh</code> <span class="sig-paren">&#xFF08;</span> <em>instance</em>&#xFF0C;<em>attribute_names = None</em>&#xFF0C;<em>lockmode = None</em> <span class="sig-paren">&#xFF09;  T5&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.refresh" title="Permalink to this definition">&#xB6; T6&gt;</a></span></span></dt><dd><p><span class="yiyi-st" id="yiyi-512">&#x8FC7;&#x671F;&#x5E76;&#x5237;&#x65B0;&#x7ED9;&#x5B9A;&#x5B9E;&#x4F8B;&#x4E0A;&#x7684;&#x5C5E;&#x6027;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-513">&#x67E5;&#x8BE2;&#x5C06;&#x53D1;&#x5E03;&#x5230;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6240;&#x6709;&#x5C5E;&#x6027;&#x5C06;&#x4F7F;&#x7528;&#x5176;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;&#x503C;&#x8FDB;&#x884C;&#x5237;&#x65B0;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-514">&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x7684;&#x5173;&#x7CFB;&#x5C5E;&#x6027;&#x5C06;&#x4FDD;&#x6301;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x72B6;&#x6001;&#xFF0C;&#x4EE5;&#x4FBF;&#x5B9E;&#x4F8B;&#x8303;&#x56F4;&#x5185;&#x7684;&#x5237;&#x65B0;&#x64CD;&#x4F5C;&#x5C06;&#x7ACB;&#x5373;&#x8DDF;&#x968F;&#x8BE5;&#x5C5E;&#x6027;&#x7684;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-515">&#x6025;&#x5207;&#x52A0;&#x8F7D;&#x7684;&#x5173;&#x7CFB;&#x5C5E;&#x6027;&#x5C06;&#x5728;&#x5355;&#x5237;&#x65B0;&#x64CD;&#x4F5C;&#x4E2D;&#x6025;&#x5207;&#x52A0;&#x8F7D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-516">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x9AD8;&#x5EA6;&#x9694;&#x79BB;&#x7684;&#x4E8B;&#x52A1;&#x5C06;&#x8FD4;&#x56DE;&#x4E0E;&#x5148;&#x524D;&#x5728;&#x540C;&#x4E00;&#x4E8B;&#x52A1;&#x4E2D;&#x8BFB;&#x53D6;&#x7684;&#x503C;&#x76F8;&#x540C;&#x7684;&#x503C;&#xFF0C;&#x800C;&#x4E0D;&#x8003;&#x8651;&#x8BE5;&#x4E8B;&#x52A1;&#x4E4B;&#x5916;&#x7684;&#x6570;&#x636E;&#x5E93;&#x72B6;&#x6001;&#x66F4;&#x6539; - &#x901A;&#x5E38;&#x53EA;&#x6709;&#x5728;&#x975E;&#x4E8B;&#x52A1;&#x65F6;&#x624D;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.refresh" title="sqlalchemy.orm.session.Session.refresh"><code class="xref py py-meth docutils literal"><span class="pre">refresh()</span></code></a>&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x7684;&#x4E8B;&#x52A1;&#x4E2D;&#x53D1;&#x51FA;ORM SQL&#x8BED;&#x53E5;&#xFF0C;&#x6216;&#x8005;&#x81EA;&#x52A8;&#x63D0;&#x4EA4;&#x6A21;&#x5F0F;&#x5DF2;&#x6253;&#x5F00;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-517">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-518"><span class="target" id="sqlalchemy.orm.session.Session.refresh.params.attribute_names"></span> <strong>attribute_names</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.refresh.params.attribute_names">&#xB6;</a>  - &#x53EF;&#x9009;&#x3002;</span><span class="yiyi-st" id="yiyi-519">&#x6307;&#x793A;&#x8981;&#x5237;&#x65B0;&#x7684;&#x5C5E;&#x6027;&#x5B50;&#x96C6;&#x7684;&#x53EF;&#x8FED;&#x4EE3;&#x5B57;&#x7B26;&#x4E32;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x96C6;&#x5408;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-520"><span class="target" id="sqlalchemy.orm.session.Session.refresh.params.lockmode"></span><strong>lockmode</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.session.Session.refresh.params.lockmode">&#xB6;</a> &#x2013; Passed to the <a class="reference internal" href="query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a> as used by <a class="reference internal" href="query.html#sqlalchemy.orm.query.Query.with_lockmode" title="sqlalchemy.orm.query.Query.with_lockmode"><code class="xref py py-meth docutils literal"><span class="pre">with_lockmode()</span></code></a>.</span></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-521">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-522"><a class="reference internal" href="session_state_management.html#session-expire"><span>Refreshing / Expiring</span></a>  - &#x4ECB;&#x7ECD;&#x6750;&#x6599;</span></p><p><span class="yiyi-st" id="yiyi-523"><a class="reference internal" href="#sqlalchemy.orm.session.Session.expire" title="sqlalchemy.orm.session.Session.expire"><code class="xref py py-meth docutils literal"><span class="pre">Session.expire()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-524"><a class="reference internal" href="#sqlalchemy.orm.session.Session.expire_all" title="sqlalchemy.orm.session.Session.expire_all"><code class="xref py py-meth docutils literal"><span class="pre">Session.expire_all()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.rollback"><span class="yiyi-st" id="yiyi-525"><code class="descname">&#x56DE;&#x6EDA; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.session.Session.rollback" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-526">&#x56DE;&#x6EDA;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x7684;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-527">&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4EA4;&#x6613;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#xFF0C;&#x5219;&#x6B64;&#x65B9;&#x6CD5;&#x662F;&#x8F6C;&#x4EA4;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-528">&#x6B64;&#x65B9;&#x6CD5;&#x56DE;&#x6EDA;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x6216;&#x5D4C;&#x5957;&#x4E8B;&#x52A1;&#xFF0C;&#x800C;&#x4E0D;&#x7BA1;&#x5B50;&#x4E8B;&#x52A1;&#x662F;&#x5426;&#x6709;&#x6548;&#x3002;</span><span class="yiyi-st" id="yiyi-529">&#x76F4;&#x5230;&#x7B2C;&#x4E00;&#x6B21;&#x5B9E;&#x9645;&#x4EA4;&#x6613;&#x7684;&#x6240;&#x6709;&#x5B50;&#x4EA4;&#x6613;&#x90FD;&#x5173;&#x95ED;&#x3002;</span><span class="yiyi-st" id="yiyi-530">&#x5F53;<a class="reference internal" href="#sqlalchemy.orm.session.Session.begin" title="sqlalchemy.orm.session.Session.begin"><code class="xref py py-meth docutils literal"><span class="pre">begin()</span></code></a>&#x88AB;&#x591A;&#x6B21;&#x8C03;&#x7528;&#x65F6;&#x53D1;&#x751F;&#x5B50;&#x4EA4;&#x6362;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-531">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-532"><a class="reference internal" href="session_basics.html#session-rollback"><span>Rolling Back</span></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.orm.session.Session.scalar"><span class="yiyi-st" id="yiyi-533"> <code class="descname">scalar</code><span class="sig-paren">(</span><em>clause</em>, <em>params=None</em>, <em>mapper=None</em>, <em>bind=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.session.Session.scalar" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-534">&#x50CF;<a class="reference internal" href="#sqlalchemy.orm.session.Session.execute" title="sqlalchemy.orm.session.Session.execute"><code class="xref py py-meth docutils literal"><span class="pre">execute()</span></code></a>&#x4E00;&#x6837;&#xFF0C;&#x4F46;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6807;&#x91CF;&#x7ED3;&#x679C;&#x3002;</span></p></dd></dl><dl class="attribute"><dt id="sqlalchemy.orm.session.Session.transaction"><span class="yiyi-st" id="yiyi-535"><code class="descname">&#x4EA4;&#x6613;</code> <em class="property">=&#x65E0;</em> <a class="headerlink" href="#sqlalchemy.orm.session.Session.transaction" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-536">&#x5F53;&#x524D;&#x6D3B;&#x52A8;&#x6216;&#x4E0D;&#x6D3B;&#x52A8;<a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a>&#x3002;</span></p></dd></dl></dd></dl><dl class="class"><dt id="sqlalchemy.orm.session.SessionTransaction"><span class="yiyi-st" id="yiyi-537"><em class="property">class</em> <code class="descclassname">sqlalchemy.orm.session&#x3002;</code> <code class="descname">SessionTransaction</code> <span class="sig-paren">&#xFF08;</span> <em>session</em>&#xFF0C;<em>parent = None</em>&#xFF0C;<em>nested = False</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.orm.session.SessionTransaction" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-538">&#x4E00;&#x4E2A;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x7EA7;&#x522B;&#x7684;&#x4E8B;&#x52A1;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-539"><a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a> is a mostly behind-the-scenes object not normally referenced directly by application code. </span><span class="yiyi-st" id="yiyi-540">&#x5B83;&#x5728;&#x591A;&#x4E2A;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x534F;&#x8C03;&#xFF0C;&#x4E3A;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x5355;&#x72EC;&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x4E8B;&#x52A1;&#xFF0C;&#x4E00;&#x6B21;&#x63D0;&#x4EA4;&#x6216;&#x56DE;&#x6EDA;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-541">&#x5B83;&#x8FD8;&#x63D0;&#x4F9B;&#x53EF;&#x9009;&#x7684;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x884C;&#x4E3A;&#xFF0C;&#x53EF;&#x4EE5;&#x589E;&#x5F3A;&#x6B64;&#x534F;&#x8C03;&#x64CD;&#x4F5C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-542"><a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.Session.transaction" title="sqlalchemy.orm.session.Session.transaction"><code class="xref py py-attr docutils literal"><span class="pre">Session.transaction</span></code></a>&#x5C5E;&#x6027;&#x662F;&#x6307;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a>&#x5BF9;&#x8C61;&#xFF08;&#x5982;&#x679C;&#x6709;&#x7684;&#x8BDD;&#xFF09;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-543">&#x4E00;&#x4E2A;<a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a>&#x5728;&#x9ED8;&#x8BA4;&#x7684;<code class="docutils literal"><span class="pre">autocommit=False</span></code>&#x6A21;&#x5F0F;&#x4E0B;&#x4E0E;&#x4E00;&#x4E2A;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5173;&#x8054;&#xFF0C;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x3002;</span><span class="yiyi-st" id="yiyi-544">&#x7531;&#x4E8E;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x88AB;&#x8C03;&#x7528;&#x6765;&#x4EE3;&#x8868;&#x5404;&#x79CD;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>&#x6216;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#x5BF9;&#x8C61;&#x53D1;&#x51FA;SQL&#xFF0C;&#x56E0;&#x6B64;&#x76F8;&#x5E94;&#x7684;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#x548C;&#x5C06;&#x5173;&#x8054;&#x7684;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Transaction" title="sqlalchemy.engine.Transaction"><code class="xref py py-class docutils literal"><span class="pre">Transaction</span></code></a>&#x6DFB;&#x52A0;&#x5230;<a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a>&#x5BF9;&#x8C61;&#x5185;&#x7684;&#x96C6;&#x5408;&#x4E2D;&#xFF0C;&#x6210;&#x4E3A;&#x7531;<a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a>&#x7EF4;&#x62A4;&#x7684;&#x8FDE;&#x63A5;/&#x4E8B;&#x52A1;&#x5BF9;&#x4E4B;&#x4E00;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-545">The lifespan of the <a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a> ends when the <a class="reference internal" href="#sqlalchemy.orm.session.Session.commit" title="sqlalchemy.orm.session.Session.commit"><code class="xref py py-meth docutils literal"><span class="pre">Session.commit()</span></code></a>, <a class="reference internal" href="#sqlalchemy.orm.session.Session.rollback" title="sqlalchemy.orm.session.Session.rollback"><code class="xref py py-meth docutils literal"><span class="pre">Session.rollback()</span></code></a> or <a class="reference internal" href="#sqlalchemy.orm.session.Session.close" title="sqlalchemy.orm.session.Session.close"><code class="xref py py-meth docutils literal"><span class="pre">Session.close()</span></code></a> methods are called. </span><span class="yiyi-st" id="yiyi-546">&#x6B64;&#x65F6;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a>&#x5220;&#x9664;&#x4E0E;&#x5176;&#x7236;&#x8282;&#x70B9;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x7684;&#x5173;&#x8054;&#x3002;</span><span class="yiyi-st" id="yiyi-547">&#x5728;<code class="docutils literal"><span class="pre">autocommit=False</span></code>&#x6A21;&#x5F0F;&#x4E0B;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a>&#x6765;&#x7ACB;&#x5373;&#x66FF;&#x6362;&#x5B83;&#xFF0C;&#x800C;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x90A3;&#x4E48;&#x5728;<code class="docutils literal"><span class="pre">autocommit=True</span></code>&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x5728;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.begin" title="sqlalchemy.orm.session.Session.begin"><code class="xref py py-meth docutils literal"><span class="pre">Session.begin()</span></code></a>&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#xFF0C;&#x5B83;&#x5C06;&#x4FDD;&#x6301;&#x4E0D;&#x5B58;&#x5728;<a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-548"><a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a>&#x884C;&#x4E3A;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x7EC6;&#x8282;&#x662F;&#x5B83;&#x80FD;&#x591F;&#x201C;&#x5D4C;&#x5957;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-549">&#x8FD9;&#x610F;&#x5473;&#x7740;&#x53EF;&#x4EE5;&#x5728;&#x5B58;&#x5728;<a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a>&#x65F6;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.begin" title="sqlalchemy.orm.session.Session.begin"><code class="xref py py-meth docutils literal"><span class="pre">Session.begin()</span></code></a>&#x65B9;&#x6CD5;&#xFF0C;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a>&#x6765;&#x4E34;&#x65F6;&#x66FF;&#x6362;&#x7236;<a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a>&#x3002;</span><span class="yiyi-st" id="yiyi-550">&#x5F53;<a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a>&#x4EA7;&#x751F;&#x4E3A;&#x5D4C;&#x5957;&#x65F6;&#xFF0C;&#x5B83;&#x5C06;&#x81EA;&#x5DF1;&#x5206;&#x914D;&#x7ED9;<a class="reference internal" href="#sqlalchemy.orm.session.Session.transaction" title="sqlalchemy.orm.session.Session.transaction"><code class="xref py py-attr docutils literal"><span class="pre">Session.transaction</span></code></a>&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-551">When it is ended via <a class="reference internal" href="#sqlalchemy.orm.session.Session.commit" title="sqlalchemy.orm.session.Session.commit"><code class="xref py py-meth docutils literal"><span class="pre">Session.commit()</span></code></a> or <a class="reference internal" href="#sqlalchemy.orm.session.Session.rollback" title="sqlalchemy.orm.session.Session.rollback"><code class="xref py py-meth docutils literal"><span class="pre">Session.rollback()</span></code></a>, it restores its parent <a class="reference internal" href="#sqlalchemy.orm.session.SessionTransaction" title="sqlalchemy.orm.session.SessionTransaction"><code class="xref py py-class docutils literal"><span class="pre">SessionTransaction</span></code></a> back onto the <a class="reference internal" href="#sqlalchemy.orm.session.Session.transaction" title="sqlalchemy.orm.session.Session.transaction"><code class="xref py py-attr docutils literal"><span class="pre">Session.transaction</span></code></a> attribute. </span><span class="yiyi-st" id="yiyi-552">&#x884C;&#x4E3A;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4E00;&#x4E2A;&#x5806;&#x6808;&#xFF0C;&#x5176;&#x4E2D;<a class="reference internal" href="#sqlalchemy.orm.session.Session.transaction" title="sqlalchemy.orm.session.Session.transaction"><code class="xref py py-attr docutils literal"><span class="pre">Session.transaction</span></code></a>&#x6307;&#x5411;&#x5F53;&#x524D;&#x5806;&#x6808;&#x7684;&#x5934;&#x90E8;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-553">The purpose of this stack is to allow nesting of <a class="reference internal" href="#sqlalchemy.orm.session.Session.rollback" title="sqlalchemy.orm.session.Session.rollback"><code class="xref py py-meth docutils literal"><span class="pre">Session.rollback()</span></code></a> or <a class="reference internal" href="#sqlalchemy.orm.session.Session.commit" title="sqlalchemy.orm.session.Session.commit"><code class="xref py py-meth docutils literal"><span class="pre">Session.commit()</span></code></a> calls in context with various flavors of <a class="reference internal" href="#sqlalchemy.orm.session.Session.begin" title="sqlalchemy.orm.session.Session.begin"><code class="xref py py-meth docutils literal"><span class="pre">Session.begin()</span></code></a>. </span><span class="yiyi-st" id="yiyi-554">&#x6B64;&#x5D4C;&#x5957;&#x884C;&#x4E3A;&#x9002;&#x7528;&#x4E8E;<a class="reference internal" href="#sqlalchemy.orm.session.Session.begin_nested" title="sqlalchemy.orm.session.Session.begin_nested"><code class="xref py py-meth docutils literal"><span class="pre">Session.begin_nested()</span></code></a>&#x7528;&#x4E8E;&#x53D1;&#x51FA;SAVEPOINT&#x4E8B;&#x52A1;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x4E5F;&#x7528;&#x4E8E;&#x4EA7;&#x751F;&#x6240;&#x8C13;&#x7684;&#x201C;&#x5B50;&#x4E8B;&#x52A1;&#x201D;&#xFF0C;&#x8BE5;&#x5B50;&#x4E8B;&#x52A1;&#x5141;&#x8BB8;&#x4E00;&#x6BB5;&#x4EE3;&#x7801;&#x4F7F;&#x7528;&#x5F00;&#x59CB;/&#x56DE;&#x6EDA;/&#x63D0;&#x4EA4;&#x5E8F;&#x5217;&#xFF0C;&#x800C;&#x4E0D;&#x7BA1;&#x5176;&#x5C01;&#x95ED;&#x4EE3;&#x7801;&#x5757;&#x662F;&#x5426;&#x5DF2;&#x5F00;&#x59CB;&#x4E8B;&#x52A1;&#x3002;</span><span class="yiyi-st" id="yiyi-555">&#x65E0;&#x8BBA;&#x662F;&#x5426;&#x663E;&#x5F0F;&#x8C03;&#x7528;&#x6216;&#x901A;&#x8FC7;autoflush&#x8C03;&#x7528;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.session.Session.flush" title="sqlalchemy.orm.session.Session.flush"><code class="xref py py-meth docutils literal"><span class="pre">flush()</span></code></a>&#x65B9;&#x6CD5;&#x90FD;&#x662F;&#x201C;&#x5B50;&#x4E8B;&#x52A1;&#x201D;&#x529F;&#x80FD;&#x7684;&#x4E3B;&#x8981;&#x4F7F;&#x7528;&#x8005;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x5E0C;&#x671B;&#x4FDD;&#x8BC1;&#x5B83;&#x5728;&#x4E8B;&#x52A1;&#x5757;&#x5185;&#x5DE5;&#x4F5C;&#xFF0C;&#x800C;&#x4E0D;&#x7BA1;&#x662F;&#x5426;&#x5728;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5904;&#x4E8E;&#x4E8B;&#x52A1;&#x6A21;&#x5F0F;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-556">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;&#xFF1A;</span></p><p><span class="yiyi-st" id="yiyi-557"><a class="reference internal" href="#sqlalchemy.orm.session.Session.rollback" title="sqlalchemy.orm.session.Session.rollback"><code class="xref py py-meth docutils literal"><span class="pre">Session.rollback()</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-558"><a class="reference internal" href="#sqlalchemy.orm.session.Session.commit" title="sqlalchemy.orm.session.Session.commit"><code class="xref py py-meth docutils literal"><span class="pre">Session.commit()</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-559"><a class="reference internal" href="#sqlalchemy.orm.session.Session.begin" title="sqlalchemy.orm.session.Session.begin"><code class="xref py py-meth docutils literal"><span class="pre">Session.begin()</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-560"><a class="reference internal" href="#sqlalchemy.orm.session.Session.begin_nested" title="sqlalchemy.orm.session.Session.begin_nested"><code class="xref py py-meth docutils literal"><span class="pre">Session.begin_nested()</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-561"><a class="reference internal" href="#sqlalchemy.orm.session.Session.is_active" title="sqlalchemy.orm.session.Session.is_active"><code class="xref py py-attr docutils literal"><span class="pre">Session.is_active</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-562"><a class="reference internal" href="events.html#sqlalchemy.orm.events.SessionEvents.after_commit" title="sqlalchemy.orm.events.SessionEvents.after_commit"><code class="xref py py-meth docutils literal"><span class="pre">SessionEvents.after_commit()</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-563"><a class="reference internal" href="events.html#sqlalchemy.orm.events.SessionEvents.after_rollback" title="sqlalchemy.orm.events.SessionEvents.after_rollback"><code class="xref py py-meth docutils literal"><span class="pre">SessionEvents.after_rollback()</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-564"><a class="reference internal" href="events.html#sqlalchemy.orm.events.SessionEvents.after_soft_rollback" title="sqlalchemy.orm.events.SessionEvents.after_soft_rollback"><code class="xref py py-meth docutils literal"><span class="pre">SessionEvents.after_soft_rollback()</span></code></a></span></p></dd></dl></div><div class="section" id="session-utilites"><h2><span class="yiyi-st" id="yiyi-565">&#x4F1A;&#x8BDD;&#x5B9E;&#x7528;&#x7A0B;&#x5E8F;<a class="headerlink" href="#session-utilites" title="Permalink to this headline">&#xB6;</a></span></h2><dl class="function"><dt id="sqlalchemy.orm.session.make_transient"><span class="yiyi-st" id="yiyi-566"><code class="descclassname"> sqlalchemy.orm.session&#x3002; T0&gt; <code class="descname"> make_transient  T1&gt; <span class="sig-paren">&#xFF08; T2&gt; <em>&#x5B9E;&#x4F8B; T3&gt; <span class="sig-paren">&#xFF09; T4&gt; <a class="headerlink" href="#sqlalchemy.orm.session.make_transient" title="Permalink to this definition">&#xB6;&lt; / T5&gt;</a></span></em></span></code></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-567">&#x6539;&#x53D8;&#x7ED9;&#x5B9A;&#x5B9E;&#x4F8B;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x4F7F;&#x5176;<a class="reference internal" href="glossary.html#term-transient"><span class="xref std std-term">transient</span></a>&#x3002;</span></p><div class="admonition note"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-568">&#x6CE8;&#x610F;</span></p><p class="last"><span class="yiyi-st" id="yiyi-569"><a class="reference internal" href="#sqlalchemy.orm.session.make_transient" title="sqlalchemy.orm.session.make_transient"><code class="xref py py-func docutils literal"><span class="pre">make_transient()</span></code></a>&#x4EC5;&#x662F;&#x9AD8;&#x7EA7;&#x7528;&#x4F8B;&#x7684;&#x7279;&#x4F8B;&#x51FD;&#x6570;&#x3002;</span></p></div><p><span class="yiyi-st" id="yiyi-570">&#x5047;&#x5B9A;&#x7ED9;&#x5B9A;&#x7684;&#x6620;&#x5C04;&#x5B9E;&#x4F8B;&#x5904;&#x4E8E;<a class="reference internal" href="glossary.html#term-persistent"><span class="xref std std-term">persistent</span></a>&#x6216;<a class="reference internal" href="glossary.html#term-detached"><span class="xref std std-term">detached</span></a>&#x72B6;&#x6001;&#x3002;</span><span class="yiyi-st" id="yiyi-571">&#x8BE5;&#x51FD;&#x6570;&#x5C06;&#x5220;&#x9664;&#x5176;&#x4E0E;&#x4EFB;&#x4F55;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x53CA;&#x5176;<a class="reference internal" href="internals.html#sqlalchemy.orm.state.InstanceState.identity" title="sqlalchemy.orm.state.InstanceState.identity"><code class="xref py py-attr docutils literal"><span class="pre">InstanceState.identity</span></code></a>&#x7684;&#x5173;&#x8054;&#x3002;</span><span class="yiyi-st" id="yiyi-572">&#x5176;&#x6548;&#x679C;&#x662F;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x884C;&#x4E3A;&#x5C31;&#x50CF;&#x5B83;&#x662F;&#x65B0;&#x6784;&#x5EFA;&#x7684;&#xFF0C;&#x9664;&#x4E86;&#x4FDD;&#x7559;&#x5728;&#x8C03;&#x7528;&#x65F6;&#x52A0;&#x8F7D;&#x7684;&#x4EFB;&#x4F55;&#x5C5E;&#x6027;/&#x96C6;&#x5408;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-573">&#x5982;&#x679C;&#x7531;&#x4E8E;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.Session.delete" title="sqlalchemy.orm.session.Session.delete"><code class="xref py py-meth docutils literal"><span class="pre">Session.delete()</span></code></a>&#x800C;&#x5220;&#x9664;&#x4E86;&#x6B64;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;<a class="reference internal" href="internals.html#sqlalchemy.orm.state.InstanceState.deleted" title="sqlalchemy.orm.state.InstanceState.deleted"><code class="xref py py-attr docutils literal"><span class="pre">InstanceState.deleted</span></code></a>&#x6807;&#x5FD7;&#x4E5F;&#x4F1A;&#x91CD;&#x7F6E;&#x3002;</span></p><div class="admonition warning"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-574">&#x8B66;&#x544A;</span></p><p><span class="yiyi-st" id="yiyi-575"><a class="reference internal" href="#sqlalchemy.orm.session.make_transient" title="sqlalchemy.orm.session.make_transient"><code class="xref py py-func docutils literal"><span class="pre">make_transient()</span></code></a> does <strong>not</strong> &#x201C;unexpire&#x201D; or otherwise eagerly load ORM-mapped attributes that are not currently loaded at the time the function is called. </span><span class="yiyi-st" id="yiyi-576">&#x8FD9;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;&#x5C5E;&#x6027;&#xFF1A;</span></p><ul class="simple"><li><span class="yiyi-st" id="yiyi-577">&#x901A;&#x8FC7;<a class="reference internal" href="#sqlalchemy.orm.session.Session.expire" title="sqlalchemy.orm.session.Session.expire"><code class="xref py py-meth docutils literal"><span class="pre">Session.expire()</span></code></a>&#x8FC7;&#x671F;</span></li><li><span class="yiyi-st" id="yiyi-578">&#x4F5C;&#x4E3A;&#x63D0;&#x4EA4;&#x4F1A;&#x8BDD;&#x4E8B;&#x52A1;&#x7684;&#x81EA;&#x7136;&#x6548;&#x679C;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C; <a class="reference internal" href="#sqlalchemy.orm.session.Session.commit" title="sqlalchemy.orm.session.Session.commit"><code class="xref py py-meth docutils literal"><span class="pre">Session.commit()</span></code></a></span></li><li><span class="yiyi-st" id="yiyi-579">&#x901A;&#x5E38;&#x662F;<a class="reference internal" href="glossary.html#term-lazy-loaded"><span class="xref std std-term">lazy loaded</span></a>&#xFF0C;&#x4F46;&#x76EE;&#x524D;&#x672A;&#x52A0;&#x8F7D;</span></li><li><span class="yiyi-st" id="yiyi-580">&#x662F;&#x901A;&#x8FC7;<a class="reference internal" href="loading_columns.html#deferred"><span>Deferred Column Loading</span></a>&#x201C;&#x5EF6;&#x671F;&#x201D;&#xFF0C;&#x5E76;&#x4E14;&#x5C1A;&#x672A;&#x52A0;&#x8F7D;</span></li><li><span class="yiyi-st" id="yiyi-581">&#x5728;&#x52A0;&#x8F7D;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x67E5;&#x8BE2;&#x4E2D;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x4F8B;&#x5982;&#x5728;&#x8FDE;&#x63A5;&#x8868;&#x7EE7;&#x627F;&#x548C;&#x5176;&#x4ED6;&#x573A;&#x666F;&#x4E2D;&#x5E38;&#x89C1;&#x7684;&#x90A3;&#x4E2A;&#x3002;</span></li></ul><p class="last"><span class="yiyi-st" id="yiyi-582">&#x5728;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.orm.session.make_transient" title="sqlalchemy.orm.session.make_transient"><code class="xref py py-func docutils literal"><span class="pre">make_transient()</span></code></a>&#x4E4B;&#x540E;&#xFF0C;&#x5982;&#x4E0A;&#x6240;&#x8FF0;&#x7684;&#x5378;&#x8F7D;&#x5C5E;&#x6027;&#x5728;&#x8BBF;&#x95EE;&#x65F6;&#x901A;&#x5E38;&#x4F1A;&#x89E3;&#x6790;&#x4E3A;&#x503C;<code class="docutils literal"><span class="pre">None</span></code>&#xFF0C;&#x6216;&#x8005;&#x9762;&#x5411;&#x96C6;&#x5408;&#x7684;&#x5C5E;&#x6027;&#x4E3A;&#x7A7A;&#x96C6;&#x5408;&#x3002;</span><span class="yiyi-st" id="yiyi-583">&#x7531;&#x4E8E;&#x5BF9;&#x8C61;&#x662F;&#x6682;&#x65F6;&#x7684;&#x5E76;&#x4E14;&#x4E0E;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x5E93;&#x6807;&#x8BC6;&#x65E0;&#x5173;&#xFF0C;&#x56E0;&#x6B64;&#x5C06;&#x4E0D;&#x518D;&#x68C0;&#x7D22;&#x8FD9;&#x4E9B;&#x503C;&#x3002;</span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-584">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-585"><a class="reference internal" href="#sqlalchemy.orm.session.make_transient_to_detached" title="sqlalchemy.orm.session.make_transient_to_detached"><code class="xref py py-func docutils literal"><span class="pre">make_transient_to_detached()</span></code></a></span></p></div></dd></dl><dl class="function"><dt id="sqlalchemy.orm.session.make_transient_to_detached"><span class="yiyi-st" id="yiyi-586"><code class="descclassname"> sqlalchemy.orm.session&#x3002; T0&gt; <code class="descname"> make_transient_to_detached  T1&gt; <span class="sig-paren">&#xFF08; T2&gt; <em>&#x5B9E;&#x4F8B; T3&gt; <span class="sig-paren">&#xFF09; T4&gt; <a class="headerlink" href="#sqlalchemy.orm.session.make_transient_to_detached" title="Permalink to this definition">&#xB6;&lt; / T5&gt;</a></span></em></span></code></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-587">&#x4F7F;&#x7ED9;&#x5B9A;&#x7684;&#x77AC;&#x6001;&#x5B9E;&#x4F8B;<a class="reference internal" href="glossary.html#term-detached"><span class="xref std std-term">detached</span></a>&#x3002;</span></p><div class="admonition note"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-588">&#x6CE8;&#x610F;</span></p><p class="last"><span class="yiyi-st" id="yiyi-589"><a class="reference internal" href="#sqlalchemy.orm.session.make_transient_to_detached" title="sqlalchemy.orm.session.make_transient_to_detached"><code class="xref py py-func docutils literal"><span class="pre">make_transient_to_detached()</span></code></a>&#x4EC5;&#x662F;&#x9AD8;&#x7EA7;&#x7528;&#x4F8B;&#x7684;&#x4E00;&#x79CD;&#x7279;&#x4F8B;&#x51FD;&#x6570;&#x3002;</span></p></div><p><span class="yiyi-st" id="yiyi-590">&#x7ED9;&#x5B9A;&#x5B9E;&#x4F8B;&#x4E0A;&#x7684;&#x6240;&#x6709;&#x5C5E;&#x6027;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x5C06;&#x88AB;&#x91CD;&#x7F6E;&#xFF0C;&#x5C31;&#x50CF;&#x8BE5;&#x5B9E;&#x4F8B;&#x662F;&#x4ECE;&#x67E5;&#x8BE2;&#x4E2D;&#x65B0;&#x52A0;&#x8F7D;&#x7684;&#x4E00;&#x6837;&#x3002;</span><span class="yiyi-st" id="yiyi-591">&#x7F3A;&#x5C11;&#x7684;&#x5C5E;&#x6027;&#x5C06;&#x88AB;&#x6807;&#x8BB0;&#x4E3A;&#x8FC7;&#x671F;&#x3002;</span><span class="yiyi-st" id="yiyi-592">&#x9700;&#x8981;&#x7684;&#x5BF9;&#x8C61;&#x7684;&#x4E3B;&#x952E;&#x5C5E;&#x6027;&#x5C06;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;&#x5B9E;&#x4F8B;&#x7684;&#x201C;&#x5173;&#x952E;&#x201D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-593">&#x7136;&#x540E;&#x53EF;&#x4EE5;&#x5C06;&#x8BE5;&#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x5230;&#x4F1A;&#x8BDD;&#x4E2D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;load = False&#x6807;&#x5FD7;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#xFF0C;&#x6B64;&#x65F6;&#x5B83;&#x770B;&#x8D77;&#x6765;&#x597D;&#x50CF;&#x662F;&#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x52A0;&#x8F7D;&#x7684;&#xFF0C;&#x800C;&#x4E0D;&#x53D1;&#x51FA;SQL&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-594">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x7528;&#x4F8B;&#x51FD;&#x6570;&#xFF0C;&#x5B83;&#x4E0D;&#x540C;&#x4E8E;&#x5BF9;<a class="reference internal" href="#sqlalchemy.orm.session.Session.merge" title="sqlalchemy.orm.session.Session.merge"><code class="xref py py-meth docutils literal"><span class="pre">Session.merge()</span></code></a>&#x7684;&#x6B63;&#x5E38;&#x8C03;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x7ED9;&#x5B9A;&#x7684;&#x6301;&#x4E45;&#x72B6;&#x6001;&#x53EF;&#x4EE5;&#x5728;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;SQL&#x8C03;&#x7528;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x751F;&#x6210;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-595"><span class="versionmodified">&#x7248;&#x672C;0.9.5&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-596">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-597"><a class="reference internal" href="#sqlalchemy.orm.session.make_transient" title="sqlalchemy.orm.session.make_transient"><code class="xref py py-func docutils literal"><span class="pre">make_transient()</span></code></a></span></p></div></dd></dl><dl class="function"><dt id="sqlalchemy.orm.session.object_session"><span class="yiyi-st" id="yiyi-598"><code class="descclassname"> sqlalchemy.orm.session&#x3002; T0&gt; <code class="descname"> object_session  T1&gt; <span class="sig-paren">&#xFF08; T2&gt; <em>&#x5B9E;&#x4F8B; T3&gt; <span class="sig-paren">&#xFF09; T4&gt; <a class="headerlink" href="#sqlalchemy.orm.session.object_session" title="Permalink to this definition">&#xB6;&lt; / T5&gt;</a></span></em></span></code></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-599">&#x8FD4;&#x56DE;&#x7ED9;&#x5B9A;&#x5B9E;&#x4F8B;&#x6240;&#x5C5E;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-600">&#x8FD9;&#x4E0E;<a class="reference internal" href="internals.html#sqlalchemy.orm.state.InstanceState.session" title="sqlalchemy.orm.state.InstanceState.session"><code class="xref py py-attr docutils literal"><span class="pre">InstanceState.session</span></code></a>&#x8BBF;&#x95EE;&#x5668;&#x57FA;&#x672C;&#x76F8;&#x540C;&#x3002;</span><span class="yiyi-st" id="yiyi-601">&#x8BE6;&#x60C5;&#x8BF7;&#x53C2;&#x9605;&#x8BE5;&#x5C5E;&#x6027;&#x3002;</span></p></dd></dl><dl class="function"><dt id="sqlalchemy.orm.util.was_deleted"><span class="yiyi-st" id="yiyi-602"><code class="descclassname"> sqlalchemy.orm.util&#x3002; T0&gt; <code class="descname"> was_deleted  T1&gt; <span class="sig-paren">&#xFF08; T2&gt; <em>&#x5BF9;&#x8C61; T3&gt; <span class="sig-paren">&#xFF09; T4&gt; <a class="headerlink" href="#sqlalchemy.orm.util.was_deleted" title="Permalink to this definition">&#xB6;&lt; / T5&gt;</a></span></em></span></code></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-603">&#x5982;&#x679C;&#x7ED9;&#x5B9A;&#x5BF9;&#x8C61;&#x5728;&#x4F1A;&#x8BDD;&#x5237;&#x65B0;&#x4E2D;&#x88AB;&#x5220;&#x9664;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;True&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-604">&#x8FD9;&#x4E0E;&#x5BF9;&#x8C61;&#x662F;&#x5426;&#x6301;&#x4E45;&#x6216;&#x5206;&#x79BB;&#x65E0;&#x5173;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-605"><span class="versionmodified">0.8.0&#x7248;&#x672C;&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-606">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-607"><a class="reference internal" href="internals.html#sqlalchemy.orm.state.InstanceState.was_deleted" title="sqlalchemy.orm.state.InstanceState.was_deleted"><code class="xref py py-attr docutils literal"><span class="pre">InstanceState.was_deleted</span></code></a></span></p></div></dd></dl></div><div class="section" id="attribute-and-state-management-utilities"><h2><span class="yiyi-st" id="yiyi-608">&#x5C5E;&#x6027;&#x548C;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x5B9E;&#x7528;&#x7A0B;&#x5E8F;<a class="headerlink" href="#attribute-and-state-management-utilities" title="Permalink to this headline">&#xB6;</a></span></h2><p><span class="yiyi-st" id="yiyi-609">&#x8FD9;&#x4E9B;&#x51FD;&#x6570;&#x7531;SQLAlchemy&#x5C5E;&#x6027;&#x68C0;&#x6D4B;API&#x63D0;&#x4F9B;&#xFF0C;&#x4EE5;&#x63D0;&#x4F9B;&#x5904;&#x7406;&#x5B9E;&#x4F8B;&#xFF0C;&#x5C5E;&#x6027;&#x503C;&#x548C;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x7684;&#x8BE6;&#x7EC6;&#x754C;&#x9762;&#x3002;</span><span class="yiyi-st" id="yiyi-610">&#x5B83;&#x4EEC;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x5728;&#x6784;&#x5EFA;&#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x5668;&#x51FD;&#x6570;&#x65F6;&#x5F88;&#x6709;&#x7528;&#xFF0C;&#x6BD4;&#x5982;<a class="reference internal" href="events.html"><em>ORM Events</em></a>&#x4E2D;&#x63CF;&#x8FF0;&#x7684;&#x90A3;&#x4E9B;&#x51FD;&#x6570;&#x3002;</span></p><dl class="function"><dt id="sqlalchemy.orm.util.object_state"><span class="yiyi-st" id="yiyi-611"><code class="descclassname"> sqlalchemy.orm.util&#x3002; T0&gt; <code class="descname"> object_state  T1&gt; <span class="sig-paren">&#xFF08; T2&gt; <em>&#x5B9E;&#x4F8B; T3&gt; <span class="sig-paren">&#xFF09; T4&gt; <a class="headerlink" href="#sqlalchemy.orm.util.object_state" title="Permalink to this definition">&#xB6;&lt; / T5&gt;</a></span></em></span></code></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-612">&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x8FD4;&#x56DE;&#x4E0E;&#x8BE5;&#x5BF9;&#x8C61;&#x5173;&#x8054;&#x7684;<a class="reference internal" href="internals.html#sqlalchemy.orm.state.InstanceState" title="sqlalchemy.orm.state.InstanceState"><code class="xref py py-class docutils literal"><span class="pre">InstanceState</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-613">&#x5982;&#x679C;&#x672A;&#x914D;&#x7F6E;&#x6620;&#x5C04;&#xFF0C;&#x5219;&#x5F15;&#x53D1;<a class="reference internal" href="exceptions.html#sqlalchemy.orm.exc.UnmappedInstanceError" title="sqlalchemy.orm.exc.UnmappedInstanceError"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.orm.exc.UnmappedInstanceError</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-614">&#x7B49;&#x6548;&#x529F;&#x80FD;&#x53EF;&#x901A;&#x8FC7;<a class="reference internal" href="core_inspection.html#sqlalchemy.inspection.inspect" title="sqlalchemy.inspection.inspect"><code class="xref py py-func docutils literal"><span class="pre">inspect()</span></code></a>&#x51FD;&#x6570;&#x4F7F;&#x7528;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">inspect</span><span class="p">(</span><span class="n">instance</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-615">&#x5982;&#x679C;&#x5B9E;&#x4F8B;&#x4E0D;&#x662F;&#x6620;&#x5C04;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5219;&#x4F7F;&#x7528;&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x5C06;&#x5F15;&#x53D1;<a class="reference internal" href="core_exceptions.html#sqlalchemy.exc.NoInspectionAvailable" title="sqlalchemy.exc.NoInspectionAvailable"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.exc.NoInspectionAvailable</span></code></a>&#x3002;</span></p></dd></dl><dl class="function"><dt id="sqlalchemy.orm.attributes.del_attribute"><span class="yiyi-st" id="yiyi-616"> <code class="descclassname">sqlalchemy.orm.attributes.</code><code class="descname">del_attribute</code><span class="sig-paren">(</span><em>instance</em>, <em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.attributes.del_attribute" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-617">&#x5220;&#x9664;&#x5C5E;&#x6027;&#x7684;&#x503C;&#xFF0C;&#x6FC0;&#x53D1;&#x5386;&#x53F2;&#x4E8B;&#x4EF6;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-618">&#x65E0;&#x8BBA;&#x76F4;&#x63A5;&#x5E94;&#x7528;&#x4E8E;&#x8BE5;&#x7C7B;&#x7684;&#x4EEA;&#x5668;&#x5982;&#x4F55;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BE5;&#x51FD;&#x6570;&#xFF0C;&#x5373;&#x4E0D;&#x9700;&#x8981;&#x63CF;&#x8FF0;&#x7B26;&#x3002;</span><span class="yiyi-st" id="yiyi-619">&#x81EA;&#x5B9A;&#x4E49;&#x5C5E;&#x6027;&#x7BA1;&#x7406;&#x65B9;&#x6848;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x6765;&#x5EFA;&#x7ACB;SQLAlchemy&#x6240;&#x7406;&#x89E3;&#x7684;&#x5C5E;&#x6027;&#x72B6;&#x6001;&#x3002;</span></p></dd></dl><dl class="function"><dt id="sqlalchemy.orm.attributes.get_attribute"><span class="yiyi-st" id="yiyi-620"><code class="descclassname">sqlalchemy.orm.attributes&#x3002;</code> <code class="descname">get_attribute</code> <span class="sig-paren">&#xFF08;</span> <em>&#x5B9E;&#x4F8B;</em>&#xFF0C;<em>&#x952E;</em> <span class="sig-paren">&#xFF09;  T5&gt; <a class="headerlink" href="#sqlalchemy.orm.attributes.get_attribute" title="Permalink to this definition">&#xB6; T6&gt;</a></span></span></dt><dd><p><span class="yiyi-st" id="yiyi-621">&#x83B7;&#x53D6;&#x5C5E;&#x6027;&#x7684;&#x503C;&#xFF0C;&#x89E6;&#x53D1;&#x6240;&#x9700;&#x7684;&#x53EF;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-622">&#x65E0;&#x8BBA;&#x76F4;&#x63A5;&#x5E94;&#x7528;&#x4E8E;&#x8BE5;&#x7C7B;&#x7684;&#x4EEA;&#x5668;&#x5982;&#x4F55;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BE5;&#x51FD;&#x6570;&#xFF0C;&#x5373;&#x4E0D;&#x9700;&#x8981;&#x63CF;&#x8FF0;&#x7B26;&#x3002;</span><span class="yiyi-st" id="yiyi-623">&#x81EA;&#x5B9A;&#x4E49;&#x5C5E;&#x6027;&#x7BA1;&#x7406;&#x65B9;&#x6848;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x6765;&#x4F7F;&#x7528;SQLAlchemy&#x6240;&#x7406;&#x89E3;&#x7684;&#x5C5E;&#x6027;&#x72B6;&#x6001;&#x3002;</span></p></dd></dl><dl class="function"><dt id="sqlalchemy.orm.attributes.get_history"><span class="yiyi-st" id="yiyi-624"> <code class="descclassname">sqlalchemy.orm.attributes.</code><code class="descname">get_history</code><span class="sig-paren">(</span><em>obj</em>, <em>key</em>, <em>passive=symbol(&apos;PASSIVE_OFF&apos;)</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.attributes.get_history" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-625">&#x8FD4;&#x56DE;&#x7ED9;&#x5B9A;&#x5BF9;&#x8C61;&#x548C;&#x5C5E;&#x6027;&#x952E;&#x7684;<a class="reference internal" href="#sqlalchemy.orm.attributes.History" title="sqlalchemy.orm.attributes.History"><code class="xref py py-class docutils literal"><span class="pre">History</span></code></a>&#x8BB0;&#x5F55;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-626">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-627"><span class="target" id="sqlalchemy.orm.attributes.get_history.params.obj"></span><strong>obj</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.attributes.get_history.params.obj">&#xB6;</a> &#x2013; an object whose class is instrumented by the attributes package.</span></li><li><span class="yiyi-st" id="yiyi-628"><span class="target" id="sqlalchemy.orm.attributes.get_history.params.key"></span> <strong>&#x952E;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.attributes.get_history.params.key">&#xB6;</a>  - &#x5B57;&#x7B26;&#x4E32;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-629"><span class="target" id="sqlalchemy.orm.attributes.get_history.params.passive"></span><strong>passive</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.orm.attributes.get_history.params.passive">&#xB6;</a> &#x2013; indicates loading behavior for the attribute if the value is not already present. </span><span class="yiyi-st" id="yiyi-630">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;bitflag&#x5C5E;&#x6027;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x7B26;&#x53F7;<code class="xref py py-attr docutils literal"><span class="pre">PASSIVE_OFF</span></code>&#xFF0C;&#x8868;&#x793A;&#x5E94;&#x53D1;&#x51FA;&#x6240;&#x6709;&#x5FC5;&#x9700;&#x7684;SQL&#x3002;</span></li></ul></td></tr></tbody></table></dd></dl><dl class="function"><dt id="sqlalchemy.orm.attributes.init_collection"><span class="yiyi-st" id="yiyi-631"> <code class="descclassname">sqlalchemy.orm.attributes.</code><code class="descname">init_collection</code><span class="sig-paren">(</span><em>obj</em>, <em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.attributes.init_collection" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-632">&#x521D;&#x59CB;&#x5316;&#x96C6;&#x5408;&#x5C5E;&#x6027;&#x5E76;&#x8FD4;&#x56DE;&#x96C6;&#x5408;&#x9002;&#x914D;&#x5668;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-633">&#x6B64;&#x51FD;&#x6570;&#x7528;&#x4E8E;&#x63D0;&#x4F9B;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x4EE5;&#x524D;&#x5378;&#x8F7D;&#x7684;&#x5C5E;&#x6027;&#x7684;&#x96C6;&#x5408;&#x5185;&#x90E8;&#x4FE1;&#x606F;&#x3002;</span><span class="yiyi-st" id="yiyi-634">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">collection_adapter</span> <span class="o">=</span> <span class="n">init_collection</span><span class="p">(</span><span class="n">someobject</span><span class="p">,</span> <span class="s1">&apos;elements&apos;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
    <span class="n">collection_adapter</span><span class="o">.</span><span class="n">append_without_event</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-635">&#x8981;&#x83B7;&#x5F97;&#x66F4;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="#sqlalchemy.orm.attributes.set_committed_value" title="sqlalchemy.orm.attributes.set_committed_value"><code class="xref py py-func docutils literal"><span class="pre">set_committed_value()</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-636">obj&#x662F;&#x4E00;&#x4E2A;&#x68C0;&#x6D4B;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#x3002;</span><span class="yiyi-st" id="yiyi-637">&#x4E3A;&#x4E86;&#x5411;&#x540E;&#x517C;&#x5BB9;&#xFF0C;&#x76F4;&#x63A5;&#x63A5;&#x53D7;InstanceState&#xFF0C;&#x4F46;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x6B64;&#x7528;&#x6CD5;&#x3002;</span></p></dd></dl><dl class="function"><dt id="sqlalchemy.orm.attributes.flag_modified"><span class="yiyi-st" id="yiyi-638"><code class="descclassname">sqlalchemy.orm.attributes&#x3002;</code> <code class="descname">flag_modified</code> <span class="sig-paren">&#xFF08;</span> <em>&#x5B9E;&#x4F8B;</em>&#xFF0C;<em>&#x952E;</em> <span class="sig-paren">&#xFF09;  T5&gt; <a class="headerlink" href="#sqlalchemy.orm.attributes.flag_modified" title="Permalink to this definition">&#xB6; T6&gt;</a></span></span></dt><dd><p><span class="yiyi-st" id="yiyi-639">&#x5C06;&#x5B9E;&#x4F8B;&#x4E0A;&#x7684;&#x5C5E;&#x6027;&#x6807;&#x8BB0;&#x4E3A;&#x201C;&#x5DF2;&#x4FEE;&#x6539;&#x201D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-640">&#x8FD9;&#x5C06;&#x5728;&#x5B9E;&#x4F8B;&#x4E0A;&#x8BBE;&#x7F6E;&apos;&#x4FEE;&#x6539;&apos;&#x6807;&#x5FD7;&#x5E76;&#x4E3A;&#x7ED9;&#x5B9A;&#x5C5E;&#x6027;&#x5EFA;&#x7ACB;&#x65E0;&#x6761;&#x4EF6;&#x66F4;&#x6539;&#x4E8B;&#x4EF6;&#x3002;</span></p></dd></dl><dl class="function"><dt id="sqlalchemy.orm.attributes.instance_state"><span class="yiyi-st" id="yiyi-641"><code class="descclassname"> sqlalchemy.orm.attributes&#x3002; T0&gt; <code class="descname"> instance_state  T1&gt; <span class="sig-paren">&#xFF08; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.orm.attributes.instance_state" title="Permalink to this definition">&#xB6; T4&gt;</a></span></span></code></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-642">&#x4E3A;&#x7ED9;&#x5B9A;&#x7684;&#x6620;&#x5C04;&#x5BF9;&#x8C61;&#x8FD4;&#x56DE;<a class="reference internal" href="internals.html#sqlalchemy.orm.state.InstanceState" title="sqlalchemy.orm.state.InstanceState"><code class="xref py py-class docutils literal"><span class="pre">InstanceState</span></code></a>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-643">&#x8BE5;&#x51FD;&#x6570;&#x662F;<a class="reference internal" href="#sqlalchemy.orm.util.object_state" title="sqlalchemy.orm.util.object_state"><code class="xref py py-func docutils literal"><span class="pre">object_state()</span></code></a>&#x7684;&#x5185;&#x90E8;&#x7248;&#x672C;&#x3002;</span><span class="yiyi-st" id="yiyi-644"><a class="reference internal" href="#sqlalchemy.orm.util.object_state" title="sqlalchemy.orm.util.object_state"><code class="xref py py-func docutils literal"><span class="pre">object_state()</span></code></a>&#x548C;/&#x6216;<a class="reference internal" href="core_inspection.html#sqlalchemy.inspection.inspect" title="sqlalchemy.inspection.inspect"><code class="xref py py-func docutils literal"><span class="pre">inspect()</span></code></a>&#x51FD;&#x6570;&#x5728;&#x8FD9;&#x91CC;&#x662F;&#x9996;&#x9009;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x5982;&#x679C;&#x7ED9;&#x5B9A;&#x7684;&#x5BF9;&#x8C61;&#x672A;&#x88AB;&#x6620;&#x5C04;&#xFF0C;&#x5B83;&#x4EEC;&#x6BCF;&#x4E2A;&#x90FD;&#x4F1A;&#x53D1;&#x51FA;&#x4FE1;&#x606F;&#x5F02;&#x5E38;&#x3002;</span></p></dd></dl><dl class="function"><dt id="sqlalchemy.orm.instrumentation.is_instrumented"><span class="yiyi-st" id="yiyi-645"> <code class="descclassname">sqlalchemy.orm.instrumentation.</code><code class="descname">is_instrumented</code><span class="sig-paren">(</span><em>instance</em>, <em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.instrumentation.is_instrumented" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-646">&#x5982;&#x679C;&#x7ED9;&#x5B9A;&#x5B9E;&#x4F8B;&#x7684;&#x7ED9;&#x5B9A;&#x5C5E;&#x6027;&#x7531;&#x5C5E;&#x6027;&#x5305;&#x8FDB;&#x884C;&#x68C0;&#x6D4B;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;True&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-647">&#x65E0;&#x8BBA;&#x76F4;&#x63A5;&#x5E94;&#x7528;&#x4E8E;&#x8BE5;&#x7C7B;&#x7684;&#x4EEA;&#x5668;&#x5982;&#x4F55;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BE5;&#x51FD;&#x6570;&#xFF0C;&#x5373;&#x4E0D;&#x9700;&#x8981;&#x63CF;&#x8FF0;&#x7B26;&#x3002;</span></p></dd></dl><dl class="function"><dt id="sqlalchemy.orm.attributes.set_attribute"><span class="yiyi-st" id="yiyi-648"> <code class="descclassname">sqlalchemy.orm.attributes.</code><code class="descname">set_attribute</code><span class="sig-paren">(</span><em>instance</em>, <em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.attributes.set_attribute" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-649">&#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#x7684;&#x503C;&#xFF0C;&#x89E6;&#x53D1;&#x5386;&#x53F2;&#x4E8B;&#x4EF6;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-650">&#x65E0;&#x8BBA;&#x76F4;&#x63A5;&#x5E94;&#x7528;&#x4E8E;&#x8BE5;&#x7C7B;&#x7684;&#x4EEA;&#x5668;&#x5982;&#x4F55;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BE5;&#x51FD;&#x6570;&#xFF0C;&#x5373;&#x4E0D;&#x9700;&#x8981;&#x63CF;&#x8FF0;&#x7B26;&#x3002;</span><span class="yiyi-st" id="yiyi-651">&#x81EA;&#x5B9A;&#x4E49;&#x5C5E;&#x6027;&#x7BA1;&#x7406;&#x65B9;&#x6848;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x6765;&#x5EFA;&#x7ACB;SQLAlchemy&#x6240;&#x7406;&#x89E3;&#x7684;&#x5C5E;&#x6027;&#x72B6;&#x6001;&#x3002;</span></p></dd></dl><dl class="function"><dt id="sqlalchemy.orm.attributes.set_committed_value"><span class="yiyi-st" id="yiyi-652"> <code class="descclassname">sqlalchemy.orm.attributes.</code><code class="descname">set_committed_value</code><span class="sig-paren">(</span><em>instance</em>, <em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.orm.attributes.set_committed_value" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-653">&#x8BBE;&#x7F6E;&#x6CA1;&#x6709;&#x5386;&#x53F2;&#x4E8B;&#x4EF6;&#x7684;&#x5C5E;&#x6027;&#x7684;&#x503C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-654">&#x53D6;&#x6D88;&#x4EFB;&#x4F55;&#x4EE5;&#x524D;&#x7684;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x3002;</span><span class="yiyi-st" id="yiyi-655">&#x8BE5;&#x503C;&#x5E94;&#x8BE5;&#x662F;&#x6807;&#x91CF;&#x4FDD;&#x6301;&#x5C5E;&#x6027;&#x7684;&#x6807;&#x91CF;&#x503C;&#xFF0C;&#x6216;&#x8005;&#x4EFB;&#x4F55;&#x96C6;&#x5408;&#x4FDD;&#x6301;&#x5C5E;&#x6027;&#x7684;&#x8FED;&#x4EE3;&#x503C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-656">&#x8FD9;&#x4E0E;&#x61D2;&#x60F0;&#x52A0;&#x8F7D;&#x5668;&#x5173;&#x95ED;&#x5E76;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x52A0;&#x8F7D;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x57FA;&#x7840;&#x65B9;&#x6CD5;&#x76F8;&#x540C;&#x3002;</span><span class="yiyi-st" id="yiyi-657">&#x7279;&#x522B;&#x662F;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x88AB;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;&#x4F7F;&#x7528;&#xFF0C;&#x8BE5;&#x4EE3;&#x7801;&#x901A;&#x8FC7;&#x5355;&#x72EC;&#x7684;&#x67E5;&#x8BE2;&#x52A0;&#x8F7D;&#x4E86;&#x9644;&#x52A0;&#x5C5E;&#x6027;&#x6216;&#x96C6;&#x5408;&#xFF0C;&#x7136;&#x540E;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x9644;&#x52A0;&#x5230;&#x5B9E;&#x4F8B;&#xFF0C;&#x5C31;&#x50CF;&#x5B83;&#x662F;&#x5176;&#x539F;&#x59CB;&#x52A0;&#x8F7D;&#x72B6;&#x6001;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x4E00;&#x6837;&#x3002;</span></p></dd></dl><dl class="class"><dt id="sqlalchemy.orm.attributes.History"><span class="yiyi-st" id="yiyi-658"><em class="property">class</em> <code class="descclassname">sqlalchemy.orm.attributes&#x3002;</code> <code class="descname">&#x5386;&#x53F2;&#x8BB0;&#x5F55;</code> <a class="headerlink" href="#sqlalchemy.orm.attributes.History" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-659">&#x57FA;&#x7840;&#xFF1A;<a class="reference internal" href="#sqlalchemy.orm.attributes.History" title="sqlalchemy.orm.attributes.History"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.orm.attributes.History</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-660">&#x5DF2;&#x6DFB;&#x52A0;&#xFF0C;&#x672A;&#x66F4;&#x6539;&#x548C;&#x5DF2;&#x5220;&#x9664;&#x503C;&#x7684;&#x4E09;&#x5143;&#x7EC4;&#xFF0C;&#x8868;&#x793A;&#x5728;&#x5DF2;&#x68C0;&#x6D4B;&#x5C5E;&#x6027;&#x4E0A;&#x53D1;&#x751F;&#x7684;&#x66F4;&#x6539;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-661">&#x4E3A;&#x5BF9;&#x8C61;&#x7684;&#x7279;&#x5B9A;&#x5C5E;&#x6027;&#x83B7;&#x53D6;<a class="reference internal" href="#sqlalchemy.orm.attributes.History" title="sqlalchemy.orm.attributes.History"><code class="xref py py-class docutils literal"><span class="pre">History</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x6700;&#x7B80;&#x5355;&#x65B9;&#x6CD5;&#x662F;&#x4F7F;&#x7528;<a class="reference internal" href="core_inspection.html#sqlalchemy.inspection.inspect" title="sqlalchemy.inspection.inspect"><code class="xref py py-func docutils literal"><span class="pre">inspect()</span></code></a>&#x51FD;&#x6570;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">inspect</span>

<span class="n">hist</span> <span class="o">=</span> <span class="n">inspect</span><span class="p">(</span><span class="n">myobject</span><span class="p">)</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">myattribute</span><span class="o">.</span><span class="n">history</span></pre></div></div><p><span class="yiyi-st" id="yiyi-662">&#x6BCF;&#x4E2A;&#x5143;&#x7EC4;&#x6210;&#x5458;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x8FED;&#x4EE3;&#x7684;&#x5E8F;&#x5217;&#xFF1A;</span></p><ul class="simple"><li><span class="yiyi-st" id="yiyi-663"><code class="docutils literal"><span class="pre">added</span></code>  - &#x6DFB;&#x52A0;&#x5230;&#x5C5E;&#x6027;&#xFF08;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7EC4;&#x5143;&#x7D20;&#xFF09;&#x7684;&#x9879;&#x76EE;&#x96C6;&#x5408;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-664"><code class="docutils literal"><span class="pre">unchanged</span></code>  - &#x5C5E;&#x6027;&#xFF08;&#x7B2C;&#x4E8C;&#x4E2A;&#x5143;&#x7EC4;&#x5143;&#x7D20;&#xFF09;&#x4E0A;&#x6CA1;&#x6709;&#x6539;&#x53D8;&#x7684;&#x9879;&#x76EE;&#x7684;&#x96C6;&#x5408;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-665"><code class="docutils literal"><span class="pre">deleted</span></code>  - &#x5DF2;&#x4ECE;&#x5C5E;&#x6027;&#xFF08;&#x7B2C;&#x4E09;&#x4E2A;&#x5143;&#x7EC4;&#x5143;&#x7D20;&#xFF09;&#x4E2D;&#x5220;&#x9664;&#x7684;&#x9879;&#x7684;&#x96C6;&#x5408;&#x3002;</span></li></ul><dl class="method"><dt id="sqlalchemy.orm.attributes.History.empty"><span class="yiyi-st" id="yiyi-666"><code class="descname">&#x7A7A; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.attributes.History.empty" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-667">&#x5982;&#x679C;<a class="reference internal" href="#sqlalchemy.orm.attributes.History" title="sqlalchemy.orm.attributes.History"><code class="xref py py-class docutils literal"><span class="pre">History</span></code></a>&#x6CA1;&#x6709;&#x66F4;&#x6539;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x73B0;&#x6709;&#x7684;&#x672A;&#x66F4;&#x6539;&#x72B6;&#x6001;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;True&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.attributes.History.has_changes"><span class="yiyi-st" id="yiyi-668"><code class="descname"> has_changes  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.attributes.History.has_changes" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-669">&#x5982;&#x679C;<a class="reference internal" href="#sqlalchemy.orm.attributes.History" title="sqlalchemy.orm.attributes.History"><code class="xref py py-class docutils literal"><span class="pre">History</span></code></a>&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;True&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.attributes.History.non_added"><span class="yiyi-st" id="yiyi-670"><code class="descname"> non_added  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.attributes.History.non_added" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-671">&#x8FD4;&#x56DE;&#x672A;&#x66F4;&#x6539;+&#x5220;&#x9664;&#x7684;&#x96C6;&#x5408;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.attributes.History.non_deleted"><span class="yiyi-st" id="yiyi-672"><code class="descname"> non_deleted  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.attributes.History.non_deleted" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-673">&#x8FD4;&#x56DE;&#x6DFB;&#x52A0;&#x7684;+&#x7684;&#x96C6;&#x5408;&#x4E0D;&#x53D8;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.orm.attributes.History.sum"><span class="yiyi-st" id="yiyi-674"><code class="descname">&#x603B;&#x548C; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <span class="sig-paren">&#xFF09; T2&gt; <a class="headerlink" href="#sqlalchemy.orm.attributes.History.sum" title="Permalink to this definition">&#xB6; T3&gt;</a></span></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-675">&#x8FD4;&#x56DE;&#x6DFB;&#x52A0;&#x7684;+&#x4E0D;&#x53D8;+&#x5220;&#x9664;&#x7684;&#x96C6;&#x5408;&#x3002;</span></p></dd></dl></dd></dl></div>