<h1><span class="yiyi-st" id="yiyi-40">&#x63D2;&#x5165;&#x3001;&#x66F4;&#x65B0;&#x3001;&#x5220;&#x9664;<a class="headerlink" href="#insert-updates-deletes" title="Permalink to this headline">&#xB6;</a></span></h1><p><span class="yiyi-st" id="yiyi-41">INSERT&#xFF0C;UPDATE&#x548C;DELETE&#x8BED;&#x53E5;&#x5EFA;&#x7ACB;&#x5728;&#x4ECE;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a>&#x5F00;&#x59CB;&#x7684;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x4E0A;&#x3002;</span><span class="yiyi-st" id="yiyi-42"><a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x548C;<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a>&#x6784;&#x5EFA;&#x4E86;&#x57FA;&#x4E8E;&#x4E2D;&#x95F4;&#x503C;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal"><span class="pre">ValuesBase</span></code></a>&#x7684;&#x6784;&#x5EFA;&#x3002;</span></p><dl class="function"><dt id="sqlalchemy.sql.expression.delete"><span class="yiyi-st" id="yiyi-43"> <code class="descclassname">sqlalchemy.sql.expression.</code><code class="descname">delete</code><span class="sig-paren">(</span><em>table</em>, <em>whereclause=None</em>, <em>bind=None</em>, <em>returning=None</em>, <em>prefixes=None</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.delete" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-44">&#x6784;&#x5EFA;<a class="reference internal" href="#sqlalchemy.sql.expression.Delete" title="sqlalchemy.sql.expression.Delete"><code class="xref py py-class docutils literal"><span class="pre">&#x5220;&#x9664;</span></code></a>&#x5BF9;&#x8C61;.</span></p><p><span class="yiyi-st" id="yiyi-45">&#x7C7B;&#x4F3C;&#x7684;&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x4E0A;&#x7684;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.TableClause.delete" title="sqlalchemy.sql.expression.TableClause.delete"><code class="xref py py-meth docutils literal"><span class="pre">delete()</span></code></a>&#x65B9;&#x6CD5;&#x83B7;&#x5F97;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-46">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-47"><span class="target" id="sqlalchemy.sql.expression.delete.params.table"></span> <strong>&#x8868;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.delete.params.table">&#xB6;</a>  - &#x4ECE;&#x4E2D;&#x200B;&#x200B;&#x5220;&#x9664;&#x884C;&#x7684;&#x8868;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-48"><span class="target" id="sqlalchemy.sql.expression.delete.params.whereclause"></span><strong>whereclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.delete.params.whereclause">&#xB6;</a> &#x2013; A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a> describing the <code class="docutils literal"><span class="pre">WHERE</span></code> condition of the <code class="docutils literal"><span class="pre">DELETE</span></code> statement. </span><span class="yiyi-st" id="yiyi-49">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.Delete.where" title="sqlalchemy.sql.expression.Delete.where"><code class="xref py py-meth docutils literal"><span class="pre">where()</span></code></a>&#x751F;&#x6210;&#x65B9;&#x6CD5;&#x3002;</span></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-50">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-51"><a class="reference internal" href="tutorial.html#deletes"><span>Deletes</span></a>  -  SQL&#x8868;&#x8FBE;&#x5F0F;&#x6559;&#x7A0B;</span></p></div></dd></dl><dl class="function"><dt id="sqlalchemy.sql.expression.insert"><span class="yiyi-st" id="yiyi-52"> <code class="descclassname">sqlalchemy.sql.expression.</code><code class="descname">insert</code><span class="sig-paren">(</span><em>table</em>, <em>values=None</em>, <em>inline=False</em>, <em>bind=None</em>, <em>prefixes=None</em>, <em>returning=None</em>, <em>return_defaults=False</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.insert" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-53">&#x6784;&#x5EFA;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">&#x63D2;&#x5165;</span></code></a>&#x5BF9;&#x8C61;.</span></p><p><span class="yiyi-st" id="yiyi-54">&#x7C7B;&#x4F3C;&#x7684;&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.TableClause.insert" title="sqlalchemy.sql.expression.TableClause.insert"><code class="xref py py-meth docutils literal"><span class="pre">insert()</span></code></a> &#x65B9;&#x6CD5; <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">&#x5F97;&#x5230;</span></code></a>.</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-55">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-56"><span class="target" id="sqlalchemy.sql.expression.insert.params.table"></span><strong>table</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.insert.params.table">&#xB6;</a> &#x2013; <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.TableClause" title="sqlalchemy.sql.expression.TableClause"><code class="xref py py-class docutils literal"><span class="pre">TableClause</span></code></a> &#x662F;&#x63D2;&#x5165;&#x7684;&#x4E3B;&#x9898;</span></li><li><span class="yiyi-st" id="yiyi-57"><span class="target" id="sqlalchemy.sql.expression.insert.params.values"></span><strong>values</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.insert.params.values">&#xB6;</a> &#x2013; collection of values to be inserted; see <a class="reference internal" href="#sqlalchemy.sql.expression.Insert.values" title="sqlalchemy.sql.expression.Insert.values"><code class="xref py py-meth docutils literal"><span class="pre">Insert.values()</span></code></a> for a description of allowed formats here. </span><span class="yiyi-st" id="yiyi-58">&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#xFF1B;&#x6839;&#x636E;&#x4F20;&#x9012;&#x7ED9;<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execute()</span></code></a>&#x7684;&#x53C2;&#x6570;&#xFF0C;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x6784;&#x9020;&#x4E5F;&#x5C06;&#x5728;&#x6267;&#x884C;&#x65F6;&#x52A8;&#x6001;&#x5448;&#x73B0;VALUES&#x5B50;&#x53E5;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-59"><span class="target" id="sqlalchemy.sql.expression.insert.params.inline"></span><strong>inline</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.insert.params.inline">&#xB6;</a> &#x2013; if True, no attempt will be made to retrieve the SQL-generated default values to be provided within the statement; in particular, this allows SQL expressions to be rendered &#x2018;inline&#x2019; within the statement without the need to pre-execute them beforehand; for backends that support &#x201C;returning&#x201D;, this turns off the &#x201C;implicit returning&#x201D; feature for the statement.</span></li></ul></td></tr></tbody></table><p><span class="yiyi-st" id="yiyi-60">&#x5982;&#x679C;&#x540C;&#x65F6;&#x5B58;&#x5728;<cite>&#x503C;</cite>&#x548C;&#x7F16;&#x8BD1;&#x65F6;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x7F16;&#x8BD1;&#x65F6;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x5C06;&#x57FA;&#x4E8E;&#x6BCF;&#x4E2A;&#x952E;&#x8986;&#x76D6;<cite>&#x503C;</cite>&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x4FE1;&#x606F;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-61"><cite>&#x503C;</cite>&#x4E2D;&#x7684;&#x952E;&#x53EF;&#x4EE5;&#x662F;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x5BF9;&#x8C61;&#x6216;&#x5B83;&#x4EEC;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x6807;&#x8BC6;&#x7B26;&#x3002;</span><span class="yiyi-st" id="yiyi-62">&#x6BCF;&#x4E2A;&#x952E;&#x53EF;&#x4EE5;&#x5F15;&#x7528;&#x4EE5;&#x4E0B;&#x4E4B;&#x4E00;&#xFF1A;</span></p><ul class="simple"><li><span class="yiyi-st" id="yiyi-63">&#x6587;&#x5B57;&#x6570;&#x636E;&#x503C;&#xFF08;&#x5373;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x6570;&#x5B57;&#x7B49;&#xFF09;</span><span class="yiyi-st" id="yiyi-64">&#xFF09;&#xFF1B;</span></li><li><span class="yiyi-st" id="yiyi-65">&#x4E00;&#x4E2A;Column&#x5BF9;&#x8C61;&#xFF1B;</span></li><li><span class="yiyi-st" id="yiyi-66">&#x4E00;&#x4E2A;SELECT&#x8BED;&#x53E5;&#x3002;</span></li></ul><p><span class="yiyi-st" id="yiyi-67">&#x5982;&#x679C;&#x6307;&#x5B9A;&#x4E86;&#x5F15;&#x7528;&#x6B64;<code class="docutils literal"><span class="pre">INSERT</span></code>&#x8BED;&#x53E5;&#x8868;&#x7684;<code class="docutils literal"><span class="pre">SELECT</span></code>&#x8BED;&#x53E5;&#xFF0C;&#x5219;&#x8BE5;&#x8BED;&#x53E5;&#x5C06;&#x4E0E;<code class="docutils literal"><span class="pre">INSERT</span></code>&#x8BED;&#x53E5;&#x5173;&#x8054;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-68">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-69"><a class="reference internal" href="tutorial.html#coretutorial-insert-expressions"><span>Insert Expressions</span></a>  -  SQL&#x8868;&#x8FBE;&#x5F0F;&#x6559;&#x7A0B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-70"><a class="reference internal" href="tutorial.html#inserts-and-updates"><span>Inserts, Updates and Deletes</span></a>  -  SQL&#x8868;&#x8FBE;&#x5F0F;&#x6559;&#x7A0B;</span></p></div></dd></dl><dl class="function"><dt id="sqlalchemy.sql.expression.update"><span class="yiyi-st" id="yiyi-71"> <code class="descclassname">sqlalchemy.sql.expression.</code><code class="descname">update</code><span class="sig-paren">(</span><em>table</em>, <em>whereclause=None</em>, <em>values=None</em>, <em>inline=False</em>, <em>bind=None</em>, <em>prefixes=None</em>, <em>returning=None</em>, <em>return_defaults=False</em>, <em>preserve_parameter_order=False</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.update" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-72">&#x6784;&#x5EFA;&#x4E00;&#x4E2A;<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-73">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">update</span>

<span class="n">stmt</span> <span class="o">=</span> <span class="n">update</span><span class="p">(</span><span class="n">users</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">users</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="o">==</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&apos;user #5&apos;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-74">&#x7C7B;&#x4F3C;&#x7684;&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x4E2D;&#x7684;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.TableClause.update" title="sqlalchemy.sql.expression.TableClause.update"><code class="xref py py-meth docutils literal"><span class="pre">update()</span></code></a>&#x65B9;&#x6CD5;&#x6765;&#x4F7F;&#x7528;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span>\
            <span class="n">where</span><span class="p">(</span><span class="n">users</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="o">==</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span>\
            <span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&apos;user #5&apos;</span><span class="p">)</span></pre></div></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-75">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-76"><span class="target" id="sqlalchemy.sql.expression.update.params.table"></span><strong>table</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.update.params.table">&#xB6;</a> &#x2013; A <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> object representing the database table to be updated.</span></li><li><span class="yiyi-st" id="yiyi-84"><span class="target" id="sqlalchemy.sql.expression.update.params.whereclause"></span> <strong>whereclause</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.update.params.whereclause">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-77">&#x53EF;&#x9009;SQL&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x7528;&#x4E8E;&#x63CF;&#x8FF0;<code class="docutils literal"><span class="pre">UPDATE</span></code>&#x8BED;&#x53E5;&#x7684;<code class="docutils literal"><span class="pre">WHERE</span></code>&#x6761;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-78">&#x73B0;&#x4EE3;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EF;&#x80FD;&#x66F4;&#x559C;&#x6B22;&#x4F7F;&#x7528;&#x751F;&#x6210;&#x7684;<a class="reference internal" href="#sqlalchemy.sql.expression.Update.where" title="sqlalchemy.sql.expression.Update.where"><code class="xref py py-meth docutils literal"><span class="pre">where()</span></code></a>&#x65B9;&#x6CD5;&#x6765;&#x6307;&#x5B9A;<code class="docutils literal"><span class="pre">WHERE</span></code>&#x5B50;&#x53E5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-79">WHERE&#x5B50;&#x53E5;&#x53EF;&#x4EE5;&#x5F15;&#x7528;&#x591A;&#x4E2A;&#x8868;&#x3002;</span><span class="yiyi-st" id="yiyi-80">&#x5BF9;&#x4E8E;&#x652F;&#x6301;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5C06;&#x751F;&#x6210;&#x4E00;&#x4E2A;<code class="docutils literal"><span class="pre">UPDATE</span> <span class="pre">FROM</span></code>&#x5B50;&#x53E5;&#xFF0C;&#x6216;&#x8005;&#x5728;MySQL&#x4E0A;&#x6267;&#x884C;&#x591A;&#x8868;&#x66F4;&#x65B0;&#x3002;</span><span class="yiyi-st" id="yiyi-81">&#x8BE5;&#x8BED;&#x53E5;&#x5C06;&#x5728;&#x4E0D;&#x652F;&#x6301;&#x591A;&#x8868;&#x66F4;&#x65B0;&#x8BED;&#x53E5;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E0A;&#x5931;&#x8D25;&#x3002;</span><span class="yiyi-st" id="yiyi-82">&#x5F15;&#x7528;WHERE&#x5B50;&#x53E5;&#x4E2D;&#x5176;&#x4ED6;&#x8868;&#x7684;SQL&#x6807;&#x51C6;&#x65B9;&#x6CD5;&#x662F;&#x4F7F;&#x7528;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&apos;ed&apos;</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
        <span class="n">users</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="o">==</span><span class="n">select</span><span class="p">([</span><span class="n">addresses</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">email_address</span><span class="p">])</span><span class="o">.</span>\
                    <span class="n">where</span><span class="p">(</span><span class="n">addresses</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="o">==</span><span class="n">users</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span>\
                    <span class="n">as_scalar</span><span class="p">()</span>
        <span class="p">)</span></pre></div></div><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-83"><span class="versionmodified">Changed in version 0.7.4: </span>The WHERE clause can refer to multiple tables.</span></p></div></li><li><span class="yiyi-st" id="yiyi-89"><span class="target" id="sqlalchemy.sql.expression.update.params.values"></span> <strong>&#x503C;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.update.params.values">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-85">&#x53EF;&#x9009;&#x5B57;&#x5178;&#xFF0C;&#x5B83;&#x6307;&#x5B9A;<code class="docutils literal"><span class="pre">UPDATE</span></code>&#x7684;<code class="docutils literal"><span class="pre">SET</span></code>&#x6761;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-86">&#x5982;&#x679C;&#x4FDD;&#x7559;&#x4E3A;<code class="docutils literal"><span class="pre">None</span></code>&#xFF0C;&#x5219;&#x5728;&#x6267;&#x884C;&#x548C;/&#x6216;&#x7F16;&#x8BD1;&#x8BED;&#x53E5;&#x671F;&#x95F4;&#xFF0C;&#x6839;&#x636E;&#x4F20;&#x9012;&#x7ED9;&#x8BED;&#x53E5;&#x7684;&#x90A3;&#x4E9B;&#x53C2;&#x6570;&#x786E;&#x5B9A;<code class="docutils literal"><span class="pre">SET</span></code>&#x6761;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-87">&#x5F53;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x53C2;&#x6570;&#x7684;&#x72EC;&#x7ACB;&#x7F16;&#x8BD1;&#x65F6;&#xFF0C;<code class="docutils literal"><span class="pre">SET</span></code>&#x5B50;&#x53E5;&#x4E3A;&#x6240;&#x6709;&#x5217;&#x751F;&#x6210;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-88">&#x73B0;&#x4EE3;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EF;&#x80FD;&#x66F4;&#x559C;&#x6B22;&#x4F7F;&#x7528;&#x751F;&#x6210;&#x7684;<a class="reference internal" href="#sqlalchemy.sql.expression.Update.values" title="sqlalchemy.sql.expression.Update.values"><code class="xref py py-meth docutils literal"><span class="pre">Update.values()</span></code></a>&#x65B9;&#x6CD5;&#x6765;&#x8BBE;&#x7F6E;UPDATE&#x8BED;&#x53E5;&#x7684;&#x503C;&#x3002;</span></p></li><li><span class="yiyi-st" id="yiyi-90"><span class="target" id="sqlalchemy.sql.expression.update.params.inline"></span><strong>inline</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.update.params.inline">&#xB6;</a> &#x2013; if True, SQL defaults present on <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> objects via the <code class="docutils literal"><span class="pre">default</span></code> keyword will be compiled &#x2018;inline&#x2019; into the statement and not pre-executed. </span><span class="yiyi-st" id="yiyi-91">&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5B83;&#x4EEC;&#x7684;&#x503C;&#x5728;&#x4ECE;<a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.last_updated_params" title="sqlalchemy.engine.ResultProxy.last_updated_params"><code class="xref py py-meth docutils literal"><span class="pre">ResultProxy.last_updated_params()</span></code></a>&#x8FD4;&#x56DE;&#x7684;&#x5B57;&#x5178;&#x4E2D;&#x4E0D;&#x53EF;&#x7528;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-97"><span class="target" id="sqlalchemy.sql.expression.update.params.preserve_parameter_order"></span> <strong>preserve_parameter_order</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.update.params.preserve_parameter_order">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-92">&#x5982;&#x679C;&#x4E3A;True&#xFF0C;&#x5219;&#x66F4;&#x65B0;&#x8BED;&#x53E5;&#x9884;&#x671F;&#x4EC5;&#x901A;&#x8FC7;<a class="reference internal" href="#sqlalchemy.sql.expression.Update.values" title="sqlalchemy.sql.expression.Update.values"><code class="xref py py-meth docutils literal"><span class="pre">Update.values()</span></code></a>&#x65B9;&#x6CD5;&#x63A5;&#x6536;<strong>&#x53C2;&#x6570;</strong>&#xFF0C;&#x5E76;&#x4E14;&#x5B83;&#x4EEC;&#x5FC5;&#x987B;&#x4F5C;&#x4E3A;Python <code class="docutils literal"><span class="pre">list</span></code></span><span class="yiyi-st" id="yiyi-93">&#x5448;&#x73B0;&#x7684;UPDATE&#x8BED;&#x53E5;&#x5C06;&#x4E3A;&#x7EF4;&#x6301;&#x6B64;&#x987A;&#x5E8F;&#x7684;&#x6BCF;&#x4E2A;&#x5F15;&#x7528;&#x5217;&#x53D1;&#x51FA;SET&#x5B50;&#x53E5;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-94"><span class="versionmodified">&#x7248;&#x672C;1.0.10&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-95">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-96"><a class="reference internal" href="tutorial.html#updates-order-parameters"><span>Parameter-Ordered Updates</span></a>  -  <a class="reference internal" href="#sqlalchemy.sql.expression.update.params.preserve_parameter_order" title="sqlalchemy.sql.expression.update"><code class="xref py py-paramref docutils literal"><span class="pre">preserve_parameter_order</span></code></a>&#x6807;&#x5FD7;&#x7684;&#x5B8C;&#x6574;&#x793A;&#x4F8B;</span></p></div></li></ul></td></tr></tbody></table><p><span class="yiyi-st" id="yiyi-98">&#x5982;&#x679C;<code class="docutils literal"><span class="pre">values</span></code>&#x548C;&#x7F16;&#x8BD1;&#x65F6;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x5747;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x7F16;&#x8BD1;&#x65F6;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x5C06;&#x57FA;&#x4E8E;&#x6BCF;&#x4E2A;&#x952E;&#x8986;&#x76D6;<code class="docutils literal"><span class="pre">values</span></code>&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x4FE1;&#x606F;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-99"><code class="docutils literal"><span class="pre">values</span></code>&#x4E2D;&#x7684;&#x952E;&#x53EF;&#x4EE5;&#x662F;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x5BF9;&#x8C61;&#x6216;&#x5B83;&#x4EEC;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x6807;&#x8BC6;&#x7B26;&#xFF08;&#x7279;&#x522B;&#x662F;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x7684;&#x201C;&#x952E;&#x201D;&#xFF0C;&#x901A;&#x5E38;&#x4F46;&#x4E0D;&#x4E00;&#x5B9A;&#x7B49;&#x540C;&#x4E8E;&#x5176;&#x540D;&#x79F0;&#x201D;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-100">&#x901A;&#x5E38;&#xFF0C;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x7684;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x5BF9;&#x8C61;&#x5E94;&#x8BE5;&#x662F;&#x8981;&#x66F4;&#x65B0;&#x7684;&#x8868;&#x7684;&#x76EE;&#x6807;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;</span><span class="yiyi-st" id="yiyi-101">&#x4F46;&#x662F;&#xFF0C;&#x5728;&#x4F7F;&#x7528;MySQL&#x65F6;&#xFF0C;&#x591A;&#x8868;UPDATE&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x5F15;&#x7528;&#x6765;&#x81EA;WHERE&#x5B50;&#x53E5;&#x4E2D;&#x5F15;&#x7528;&#x7684;&#x4EFB;&#x4F55;&#x8868;&#x7684;&#x5217;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-102">&#x5728;<code class="docutils literal"><span class="pre">values</span></code>&#x4E2D;&#x5F15;&#x7528;&#x7684;&#x503C;&#x901A;&#x5E38;&#x662F;&#xFF1A;</span></p><ul class="simple"><li><span class="yiyi-st" id="yiyi-103">&#x6587;&#x5B57;&#x6570;&#x636E;&#x503C;&#xFF08;&#x5373;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x6570;&#x5B57;&#x7B49;&#xFF09;</span></li><li><span class="yiyi-st" id="yiyi-104">&#x4E00;&#x4E2A;SQL&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#x76F8;&#x5173;&#x7684;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#xFF0C;&#x4E00;&#x4E2A;&#x6807;&#x91CF;&#x8FD4;&#x56DE;&#x7684;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>&#x6784;&#x9020;&#x7B49;&#x3002;</span></li></ul><p><span class="yiyi-st" id="yiyi-105">&#x5F53;&#x5728;<a class="reference internal" href="#sqlalchemy.sql.expression.update" title="sqlalchemy.sql.expression.update"><code class="xref py py-func docutils literal"><span class="pre">update()</span></code></a>&#x7ED3;&#x6784;&#x7684;values&#x5B50;&#x53E5;&#x4E2D;&#x7ED3;&#x5408;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>&#x7ED3;&#x6784;&#x65F6;&#xFF0C;&#x7531;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>&#x8868;&#x793A;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x5E94;&#x8BE5;&#x662F;<em>&#x76F8;&#x5173;</em>&#x5230;&#x7236;&#x8868;&#xFF0C;&#x5373;&#x63D0;&#x4F9B;&#x5C06;&#x5B50;&#x67E5;&#x8BE2;&#x5185;&#x90E8;&#x7684;&#x8868;&#x94FE;&#x63A5;&#x5230;&#x6B63;&#x5728;&#x66F4;&#x65B0;&#x7684;&#x5916;&#x90E8;&#x8868;&#x7684;&#x51C6;&#x5219;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">select</span><span class="p">([</span><span class="n">addresses</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">email_address</span><span class="p">])</span><span class="o">.</span>\
                <span class="n">where</span><span class="p">(</span><span class="n">addresses</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="o">==</span><span class="n">users</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span>\
                <span class="n">as_scalar</span><span class="p">()</span>
    <span class="p">)</span></pre></div></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-106">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-107"><a class="reference internal" href="tutorial.html#inserts-and-updates"><span>Inserts, Updates and Deletes</span></a>  -  SQL&#x8868;&#x8FBE;&#x5F0F;&#x8BED;&#x8A00;&#x6559;&#x7A0B;</span></p></div></dd></dl><dl class="class"><dt id="sqlalchemy.sql.expression.Delete"><span class="yiyi-st" id="yiyi-108"> <em class="property">class </em><code class="descclassname">sqlalchemy.sql.expression.</code><code class="descname">Delete</code><span class="sig-paren">(</span><em>table</em>, <em>whereclause=None</em>, <em>bind=None</em>, <em>returning=None</em>, <em>prefixes=None</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-109">&#x57FA;&#x7840;&#xFF1A;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.sql.expression.UpdateBase</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-110">&#x8868;&#x793A;&#x4E00;&#x4E2A;DELETE&#x6784;&#x9020;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-111">&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.delete" title="sqlalchemy.sql.expression.delete"><code class="xref py py-func docutils literal"><span class="pre">delete()</span></code></a>&#x51FD;&#x6570;&#x521B;&#x5EFA;<a class="reference internal" href="#sqlalchemy.sql.expression.Delete" title="sqlalchemy.sql.expression.Delete"><code class="xref py py-class docutils literal"><span class="pre">Delete</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><dl class="method"><dt id="sqlalchemy.sql.expression.Delete.__init__"><span class="yiyi-st" id="yiyi-112"> <code class="descname">__init__</code><span class="sig-paren">(</span><em>table</em>, <em>whereclause=None</em>, <em>bind=None</em>, <em>returning=None</em>, <em>prefixes=None</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.__init__" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-113">&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.sql.expression.Delete" title="sqlalchemy.sql.expression.Delete"><code class="xref py py-class docutils literal"><span class="pre">Delete</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-114">&#x8FD9;&#x4E2A;&#x6784;&#x9020;&#x51FD;&#x6570;&#x88AB;&#x955C;&#x50CF;&#x4E3A;&#x516C;&#x5171;API&#x51FD;&#x6570;&#xFF1B;&#x6709;&#x5173;&#x5B8C;&#x6574;&#x7684;&#x7528;&#x6CD5;&#x548C;&#x53C2;&#x6570;&#x8BF4;&#x660E;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="#sqlalchemy.sql.expression.delete" title="sqlalchemy.sql.expression.delete"><code class="xref py py-func docutils literal"><span class="pre">delete()</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Delete.argument_for"><span class="yiyi-st" id="yiyi-115"><code class="descname">argument_for</code> <span class="sig-paren">&#xFF08;</span> <em>dialect_name</em>&#xFF0C;<em>argument_name</em>&#xFF0C;<em>&#x9ED8;&#x8BA4;</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Delete.argument_for" title="Permalink to this definition">&#xB6; T6&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-116"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal"><span class="pre">argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-117">&#x4E3A;&#x6B64;&#x8BFE;&#x7A0B;&#x6DFB;&#x52A0;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x7279;&#x5B9A;&#x4E8E;&#x65B9;&#x8A00;&#x7684;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-118">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&apos;a&apos;</span><span class="p">,</span> <span class="s1">&apos;b&apos;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-119">The <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument way adding extra arguments to the <a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal"><span class="pre">DefaultDialect.construct_arguments</span></code></a> dictionary. </span><span class="yiyi-st" id="yiyi-120">&#x8FD9;&#x672C;&#x8BCD;&#x5178;&#x63D0;&#x4F9B;&#x4E86;&#x4EE3;&#x8868;&#x65B9;&#x8A00;&#x7684;&#x5404;&#x79CD;&#x6A21;&#x5F0F;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x6240;&#x63A5;&#x53D7;&#x7684;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x5217;&#x8868;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-121">&#x65B0;&#x65B9;&#x8A00;&#x901A;&#x5E38;&#x5E94;&#x8BE5;&#x4E00;&#x6B21;&#x6027;&#x5C06;&#x8BE5;&#x5B57;&#x5178;&#x6307;&#x5B9A;&#x4E3A;&#x65B9;&#x8A00;&#x7C7B;&#x7684;&#x6570;&#x636E;&#x6210;&#x5458;&#x3002;</span><span class="yiyi-st" id="yiyi-122">&#x7528;&#x4E8E;&#x4E34;&#x65F6;&#x6DFB;&#x52A0;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x7684;&#x7528;&#x4F8B;&#x901A;&#x5E38;&#x7528;&#x4E8E;&#x6700;&#x7EC8;&#x7528;&#x6237;&#x4EE3;&#x7801;&#xFF0C;&#x8BE5;&#x4EE3;&#x7801;&#x4E5F;&#x4F7F;&#x7528;&#x4E86;&#x4F7F;&#x7528;&#x989D;&#x5916;&#x53C2;&#x6570;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x7F16;&#x8BD1;&#x65B9;&#x6848;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-123">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-124"><span class="target" id="sqlalchemy.sql.expression.Delete.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.argument_for.params.dialect_name">&#xB6;</a> &#x2013; name of a dialect. </span><span class="yiyi-st" id="yiyi-125">The dialect must be locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal"><span class="pre">NoSuchModuleError</span></code></a> is raised. </span><span class="yiyi-st" id="yiyi-126">&#x8BE5;&#x65B9;&#x8A00;&#x8FD8;&#x5FC5;&#x987B;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x73B0;&#x6709;&#x7684;<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal"><span class="pre">DefaultDialect.construct_arguments</span></code></a>&#x96C6;&#x5408;&#xFF0C;&#x6307;&#x793A;&#x5B83;&#x53C2;&#x4E0E;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;&#x548C;&#x9ED8;&#x8BA4;&#x7CFB;&#x7EDF;&#xFF0C;&#x5426;&#x5219;&#x5F15;&#x53D1;<a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal"><span class="pre">ArgumentError</span></code></a>&#x3002;</span><span class="yiyi-st" id="yiyi-127">&#x5982;&#x679C;&#x65B9;&#x8A00;&#x4E0D;&#x5305;&#x62EC;&#x8FD9;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x90A3;&#x4E48;&#x4EFB;&#x4F55;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x90FD;&#x53EF;&#x4EE5;&#x4EE3;&#x8868;&#x8FD9;&#x4E2A;&#x65B9;&#x8A00;&#x6307;&#x5B9A;&#x3002;</span><span class="yiyi-st" id="yiyi-128">&#x6240;&#x6709;&#x5305;&#x542B;&#x5728;SQLAlchemy&#x4E2D;&#x7684;&#x65B9;&#x8A00;&#x90FD;&#x5305;&#x542B;&#x8FD9;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x7B2C;&#x4E09;&#x65B9;&#x65B9;&#x8A00;&#xFF0C;&#x652F;&#x6301;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-129"><span class="target" id="sqlalchemy.sql.expression.Delete.argument_for.params.argument_name"></span> <strong>argument_name</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.argument_for.params.argument_name">&#xB6;</a>  - &#x53C2;&#x6570;&#x7684;&#x540D;&#x79F0;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-130"><span class="target" id="sqlalchemy.sql.expression.Delete.argument_for.params.default"></span> <strong>&#x9ED8;&#x8BA4;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.argument_for.params.default">&#xB6;</a>  - &#x53C2;&#x6570;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span></li></ul></td></tr></tbody></table><div class="versionadded"><p><span class="yiyi-st" id="yiyi-131"><span class="versionmodified">&#x7248;&#x672C;0.9.4&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.Delete.bind"><span class="yiyi-st" id="yiyi-132"><code class="descname">&#x7ED3;&#x5408; T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Delete.bind" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-133"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.bind" title="sqlalchemy.sql.expression.UpdateBase.bind"><code class="xref py py-attr docutils literal"><span class="pre">bind</span></code></a> <em>&#x5C5E;&#x6027;</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-134">&#x8FD4;&#x56DE;&#x4E0E;&#x6B64;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a>&#x6216;&#x4E0E;&#x4E4B;&#x5173;&#x8054;&#x7684;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x7684;&#x201C;&#x7ED1;&#x5B9A;&#x201D;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Delete.compare"><span class="yiyi-st" id="yiyi-135"><code class="descname">&#x6BD4;&#x8F83;</code> <span class="sig-paren">&#xFF08;</span> <em>&#x5176;&#x4ED6;</em>&#xFF0C;<em>** kw</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Delete.compare" title="Permalink to this definition"> t5 &gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-136"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compare" title="sqlalchemy.sql.expression.ClauseElement.compare"><code class="xref py py-meth docutils literal"><span class="pre">compare()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-137">&#x5C06;&#x6B64;ClauseElement&#x4E0E;&#x7ED9;&#x5B9A;&#x7684;ClauseElement&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-138">&#x5B50;&#x7C7B;&#x5E94;&#x8BE5;&#x8986;&#x76D6;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x76F4;&#x63A5;&#x7684;&#x8EAB;&#x4EFD;&#x6BD4;&#x8F83;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-139">** kw&#x662F;&#x7531;subclass compare()&#x65B9;&#x6CD5;&#x6D88;&#x8017;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x4FEE;&#x6539;&#x6BD4;&#x8F83;&#x6761;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-140">&#xFF08;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal"><span class="pre">ColumnElement</span></code></a>&#xFF09;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Delete.compile"><span class="yiyi-st" id="yiyi-141"><code class="descname">&#x7F16;&#x8BD1;</code> <span class="sig-paren">&#xFF08;</span> <em>bind = None</em>&#xFF0C;<em>dialect = None</em>&#xFF0C;<em>** kw</em> <span class="sig-paren">&#xFF09; T5&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Delete.compile" title="Permalink to this definition">&#xB6; T6&gt;</a></span></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-142"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compile" title="sqlalchemy.sql.expression.ClauseElement.compile"><code class="xref py py-meth docutils literal"><span class="pre">compile()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-143">&#x7F16;&#x8BD1;&#x8FD9;&#x4E2A;SQL&#x8868;&#x8FBE;&#x5F0F;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-144">&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x4E2A;<a class="reference internal" href="internals.html#sqlalchemy.engine.interfaces.Compiled" title="sqlalchemy.engine.interfaces.Compiled"><code class="xref py py-class docutils literal"><span class="pre">Compiled</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-145">&#x5BF9;&#x8FD4;&#x56DE;&#x503C;&#x8C03;&#x7528;<code class="docutils literal"><span class="pre">str()</span></code>&#x6216;<code class="docutils literal"><span class="pre">unicode()</span></code>&#x5C06;&#x4EA7;&#x751F;&#x7ED3;&#x679C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-146"><a class="reference internal" href="internals.html#sqlalchemy.engine.interfaces.Compiled" title="sqlalchemy.engine.interfaces.Compiled"><code class="xref py py-class docutils literal"><span class="pre">Compiled</span></code></a>&#x5BF9;&#x8C61;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">params</span></code>&#x8BBF;&#x95EE;&#x5668;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x548C;&#x503C;&#x7684;&#x5B57;&#x5178;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-147">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-148"><span class="target" id="sqlalchemy.sql.expression.Delete.compile.params.bind"></span><strong>bind</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.compile.params.bind">&#xB6;</a> &#x2013; An <code class="docutils literal"><span class="pre">Engine</span></code> or <code class="docutils literal"><span class="pre">Connection</span></code> from which a <code class="docutils literal"><span class="pre">Compiled</span></code> will be acquired. </span><span class="yiyi-st" id="yiyi-149">&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4F18;&#x5148;&#x4E8E;&#x8FD9;&#x4E2A;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x7684;&#x7ED1;&#x5B9A;&#x5F15;&#x64CE;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x7684;&#x8BDD;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-150"><span class="target" id="sqlalchemy.sql.expression.Delete.compile.params.column_keys"></span><strong>column_keys</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.compile.params.column_keys">&#xB6;</a> &#x2013; Used for INSERT and UPDATE statements, a list of column names which should be present in the VALUES clause of the compiled statement. </span><span class="yiyi-st" id="yiyi-151">&#x5982;&#x679C;<code class="docutils literal"><span class="pre">None</span></code>&#xFF0C;&#x5219;&#x5448;&#x73B0;&#x76EE;&#x6807;&#x8868;&#x683C;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5217;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-152"><span class="target" id="sqlalchemy.sql.expression.Delete.compile.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.compile.params.dialect">&#xB6;</a> &#x2013; A <code class="docutils literal"><span class="pre">Dialect</span></code> instance from which a <code class="docutils literal"><span class="pre">Compiled</span></code> will be acquired. </span><span class="yiyi-st" id="yiyi-153">&#x8BE5;&#x53C2;&#x6570;&#x4F18;&#x5148;&#x4E8E;<cite>bind</cite>&#x53C2;&#x6570;&#x4EE5;&#x53CA;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x7684;&#x7ED1;&#x5B9A;&#x5F15;&#x64CE;&#xFF08;&#x5982;&#x679C;&#x6709;&#x7684;&#x8BDD;&#xFF09;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-154"><span class="target" id="sqlalchemy.sql.expression.Delete.compile.params.inline"></span><strong>inline</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.compile.params.inline">&#xB6;</a> &#x2013; Used for INSERT statements, for a dialect which does not support inline retrieval of newly generated primary key columns, will force the expression used to create the new primary key value to be rendered inline within the INSERT statement&#x2019;s VALUES clause. </span><span class="yiyi-st" id="yiyi-155">&#x8FD9;&#x901A;&#x5E38;&#x662F;&#x6307;&#x5E8F;&#x5217;&#x6267;&#x884C;&#xFF0C;&#x4F46;&#x4E5F;&#x53EF;&#x80FD;&#x6307;&#x4E0E;&#x4E3B;&#x952E;<cite>Column</cite>&#x5173;&#x8054;&#x7684;&#x4EFB;&#x4F55;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x9ED8;&#x8BA4;&#x751F;&#x6210;&#x51FD;&#x6570;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-160"><span class="target" id="sqlalchemy.sql.expression.Delete.compile.params.compile_kwargs"></span> <strong>compile_kwargs</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.compile.params.compile_kwargs">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-156">&#x5728;&#x6240;&#x6709;&#x201C;&#x8BBF;&#x95EE;&#x201D;&#x65B9;&#x6CD5;&#x4E2D;&#x5C06;&#x4F20;&#x9012;&#x7ED9;&#x7F16;&#x8BD1;&#x5668;&#x7684;&#x9644;&#x52A0;&#x53C2;&#x6570;&#x7684;&#x53EF;&#x9009;&#x5B57;&#x5178;&#x3002;</span><span class="yiyi-st" id="yiyi-157">&#x4F8B;&#x5982;&#xFF0C;&#x8FD9;&#x5141;&#x8BB8;&#x5C06;&#x81EA;&#x5B9A;&#x4E49;&#x6807;&#x5FD7;&#x4F20;&#x9012;&#x7ED9;&#x81EA;&#x5B9A;&#x4E49;&#x7F16;&#x8BD1;&#x6784;&#x9020;&#x3002;</span><span class="yiyi-st" id="yiyi-158">&#x5B83;&#x4E5F;&#x7528;&#x4E8E;&#x4F20;&#x9012;<code class="docutils literal"><span class="pre">literal_binds</span></code>&#x6807;&#x5FD7;&#x7684;&#x60C5;&#x51B5;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.sql</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">select</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s1">&apos;t&apos;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s1">&apos;x&apos;</span><span class="p">))</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">t</span><span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>

<span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">compile_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;literal_binds&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">})</span></pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-159"><span class="versionmodified">&#x7248;&#x672C;0.9.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-161">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-162"><a class="reference internal" href="faq_sqlexpressions.html#faq-sql-expression-string"><span>How do I render SQL expressions as strings, possibly with bound parameters inlined?</span></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Delete.cte"><span class="yiyi-st" id="yiyi-163"> <code class="descname">cte</code><span class="sig-paren">(</span><em>name=None</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.cte" title="Permalink to this definition">&#xB6;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-164"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal"><span class="pre">cte()</span></code></a> <em>&#x65B9;&#x6CD5;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal"><span class="pre">HasCTE</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-165">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal"><span class="pre">CTE</span></code></a>&#x6216;&#x516C;&#x5171;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x5B9E;&#x4F8B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-166">&#x516C;&#x7528;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x4E00;&#x79CD;SQL&#x6807;&#x51C6;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;&#x201C;WITH&#x201D;&#x7684;&#x5B50;&#x53E5;&#xFF0C;SELECT&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0E;&#x4E3B;&#x8BED;&#x53E5;&#x4E00;&#x8D77;&#x6307;&#x5B9A;&#x7684;&#x6B21;&#x8981;&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-167">&#x6709;&#x5173;UNION&#x7684;&#x7279;&#x6B8A;&#x8BED;&#x4E49;&#x4E5F;&#x53EF;&#x7528;&#x4E8E;&#x5141;&#x8BB8;&#x201C;&#x9012;&#x5F52;&#x201D;&#x67E5;&#x8BE2;&#xFF0C;&#x5176;&#x4E2D;SELECT&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x5728;&#x5148;&#x524D;&#x5DF2;&#x9009;&#x62E9;&#x7684;&#x4E00;&#x7EC4;&#x884C;&#x4E0A;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-168">CTE&#x4E5F;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x4E8E;DML&#x6784;&#x9020;&#x5BF9;&#x67D0;&#x4E9B;&#x6570;&#x636E;&#x5E93;&#x7684;UPDATE&#xFF0C;INSERT&#x548C;DELETE&#xFF0C;&#x4E0E;RETURNING&#x4E00;&#x8D77;&#x4F5C;&#x4E3A;CTE&#x884C;&#x7684;&#x6765;&#x6E90;&#x4EE5;&#x53CA;CTE&#x884C;&#x7684;&#x4F7F;&#x7528;&#x8005;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-169">SQLAlchemy&#x5C06;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal"><span class="pre">CTE</span></code></a>&#x5BF9;&#x8C61;&#x68C0;&#x6D4B;&#x4E3A;&#x4E0E;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal"><span class="pre">Alias</span></code></a>&#x5BF9;&#x8C61;&#x7C7B;&#x4F3C;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x4F5C;&#x4E3A;&#x8981;&#x4F20;&#x9012;&#x5230;&#x8BED;&#x53E5;&#x7684;FROM&#x5B50;&#x53E5;&#x7684;&#x7279;&#x6B8A;&#x5143;&#x7D20;&#x4EE5;&#x53CA;&#x9876;&#x90E8;&#x7684;WITH&#x5B50;&#x53E5;&#x7684;&#x58F0;&#x660E;&#x3002;</span></p><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-170"><span class="versionmodified">&#x5728;&#x7248;&#x672C;1.1&#x4E2D;&#x8FDB;&#x884C;&#x4E86;&#x66F4;&#x6539;&#xFF1A;</span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;CTE&#xFF0C;CTE&#x6DFB;&#x52A0;&#x5230;UPDATE / INSERT / DELETE&#x7684;UPDATE / INSERT / DELETE&#x7684;&#x652F;&#x6301;&#x3002;</span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-171">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-172"><span class="target" id="sqlalchemy.sql.expression.Delete.cte.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.cte.params.name">&#xB6;</a> &#x2013; name given to the common table expression. </span><span class="yiyi-st" id="yiyi-173">&#x50CF;<code class="xref py py-meth docutils literal"><span class="pre">_FromClause.alias()</span></code>&#x4E00;&#x6837;&#xFF0C;&#x540D;&#x79F0;&#x53EF;&#x4EE5;&#x4FDD;&#x7559;&#x4E3A;<code class="docutils literal"><span class="pre">None</span></code>&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x67E5;&#x8BE2;&#x7F16;&#x8BD1;&#x65F6;&#x5C06;&#x4F7F;&#x7528;&#x533F;&#x540D;&#x7B26;&#x53F7;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-174"><span class="target" id="sqlalchemy.sql.expression.Delete.cte.params.recursive"></span><strong>recursive</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.cte.params.recursive">&#xB6;</a> &#x2013; if <code class="docutils literal"><span class="pre">True</span></code>, will render <code class="docutils literal"><span class="pre">WITH</span> <span class="pre">RECURSIVE</span></code>. </span><span class="yiyi-st" id="yiyi-175">&#x9012;&#x5F52;&#x516C;&#x7528;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x65E8;&#x5728;&#x4E0E;UNION ALL&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x4EE5;&#x4FBF;&#x4ECE;&#x5DF2;&#x9009;&#x62E9;&#x7684;&#x884C;&#x4E2D;&#x6D3E;&#x751F;&#x884C;&#x3002;</span></li></ul></td></tr></tbody></table><p><span class="yiyi-st" id="yiyi-176">&#x4EE5;&#x4E0B;&#x793A;&#x4F8B;&#x5305;&#x542B;&#x4E24;&#x7BC7;&#x6765;&#x81EA;Postgresql&#x7684;&#x6587;&#x6863;&#xFF0C;&#x4F4D;&#x4E8E;<a class="reference external" href="http://www.postgresql.org/docs/current/static/queries-with.html">http://www.postgresql.org/docs/current/static/queries-with.html</a>&#x4EE5;&#x53CA;&#x5176;&#x4ED6;&#x793A;&#x4F8B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-177">&#x4F8B;1&#xFF0C;&#x975E;&#x9012;&#x5F52;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">orders</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&apos;orders&apos;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;region&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;amount&apos;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;product&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;quantity&apos;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">regional_sales</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&apos;total_sales&apos;</span><span class="p">)</span>
                <span class="p">])</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;regional_sales&quot;</span><span class="p">)</span>


<span class="n">top_regions</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span><span class="o">.</span>\
        <span class="n">where</span><span class="p">(</span>
            <span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span> <span class="o">&gt;</span>
            <span class="n">select</span><span class="p">([</span>
                <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span>
            <span class="p">])</span>
        <span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;top_regions&quot;</span><span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_units&quot;</span><span class="p">),</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_sales&quot;</span><span class="p">)</span>
    <span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span>
        <span class="n">select</span><span class="p">([</span><span class="n">top_regions</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span>
    <span class="p">))</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span> <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div></div><p><span class="yiyi-st" id="yiyi-178">&#x4F8B;2&#xFF0C;&#x4E0E;RECURSIVE&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">parts</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&apos;parts&apos;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;part&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;sub_part&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;quantity&apos;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">included_parts</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">])</span><span class="o">.</span>\
                    <span class="n">where</span><span class="p">(</span><span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="s1">&apos;our part&apos;</span><span class="p">)</span><span class="o">.</span>\
                    <span class="n">cte</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>


<span class="n">incl_alias</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">parts_alias</span> <span class="o">=</span> <span class="n">parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">included_parts</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">union_all</span><span class="p">(</span>
    <span class="n">select</span><span class="p">([</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>
    <span class="p">])</span><span class="o">.</span>
        <span class="n">where</span><span class="p">(</span><span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="n">incl_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span>
              <span class="n">label</span><span class="p">(</span><span class="s1">&apos;total_quantity&apos;</span><span class="p">)</span>
        <span class="p">])</span><span class="o">.</span>\
        <span class="n">group_by</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div></div><p><span class="yiyi-st" id="yiyi-179">&#x4F8B;3&#xFF0C;&#x4F7F;&#x7528;&#x5E26;CTE&#x7684;UPDATE&#x548C;INSERT&#x7684;upsert&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>orders = table(
    &apos;orders&apos;,
    column(&apos;region&apos;),
    column(&apos;amount&apos;),
    column(&apos;product&apos;),
    column(&apos;quantity&apos;)
)

upsert = (
    orders.update()
    .where(orders.c.region == &apos;Region1&apos;)
    .values(amount=1.0, product=&apos;Product1&apos;, quantity=1)
    .returning(*(orders.c._all_columns)).cte(&apos;upsert&apos;))

insert = orders.insert().from_select(
    orders.c.keys(),
    select([
        literal(&apos;Region1&apos;), literal(1.0),
        literal(&apos;Product1&apos;), literal(1)
    ).where(exists(upsert.select()))
)

connection.execute(insert)</pre></div></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-180">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-181"><a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.cte" title="sqlalchemy.orm.query.Query.cte"><code class="xref py py-meth docutils literal"><span class="pre">orm.query.Query.cte()</span></code></a>  -  <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal"><span class="pre">HasCTE.cte()</span></code></a>&#x7684;ORM&#x7248;&#x672C;&#x3002;</span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.Delete.dialect_kwargs"><span class="yiyi-st" id="yiyi-182"><code class="descname"> dialect_kwargs  T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Delete.dialect_kwargs" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-183"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">dialect_kwargs</span></code></a> <em>&#x5C5E;&#x6027;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-184">&#x6307;&#x5B9A;&#x4E3A;&#x6B64;&#x6784;&#x9020;&#x7684;&#x65B9;&#x8A00;&#x7279;&#x5B9A;&#x9009;&#x9879;&#x7684;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x7684;&#x96C6;&#x5408;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-185">&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x5728;&#x5B83;&#x4EEC;&#x7684;&#x539F;&#x59CB;<code class="docutils literal"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>&#x683C;&#x5F0F;&#x4E2D;&#x5448;&#x73B0;&#x3002;</span><span class="yiyi-st" id="yiyi-186">&#x53EA;&#x5305;&#x62EC;&#x5B9E;&#x9645;&#x901A;&#x8FC7;&#x7684;&#x8BBA;&#x70B9;&#xFF1B;&#x4E0D;&#x540C;&#x4E8E;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_options</span></code></a>&#x96C6;&#x5408;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x6B64;&#x65B9;&#x8A00;&#x5DF2;&#x77E5;&#x7684;&#x6240;&#x6709;&#x9009;&#x9879;&#xFF0C;&#x5305;&#x62EC;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-187">&#x8BE5;&#x96C6;&#x5408;&#x4E5F;&#x662F;&#x53EF;&#x5199;&#x7684;&#xFF1B;&#x952E;&#x88AB;&#x63A5;&#x53D7;&#x4E3A;&#x5F62;&#x5F0F;<code class="docutils literal"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>&#xFF0C;&#x5176;&#x4E2D;&#x503C;&#x5C06;&#x88AB;&#x7EC4;&#x5408;&#x5230;&#x9009;&#x9879;&#x5217;&#x8868;&#x4E2D;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-188"><span class="versionmodified">&#x7248;&#x672C;0.9.2&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-189"><span class="versionmodified">&#x5728;&#x7248;&#x672C;0.9.4&#x4E2D;&#x66F4;&#x6539;&#xFF1A;</span> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>&#x96C6;&#x5408;&#x73B0;&#x5728;&#x53EF;&#x5199;&#x5165;&#x3002;</span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-190">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-191"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.Delete.dialect_options"><span class="yiyi-st" id="yiyi-192"><code class="descname"> dialect_options  T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Delete.dialect_options" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-193"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal"><span class="pre">dialect_options</span></code></a> <em>&#x5C5E;&#x6027;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-194">&#x6307;&#x5B9A;&#x4E3A;&#x6B64;&#x6784;&#x9020;&#x7684;&#x65B9;&#x8A00;&#x7279;&#x5B9A;&#x9009;&#x9879;&#x7684;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x7684;&#x96C6;&#x5408;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-195">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4E24;&#x7EA7;&#x5D4C;&#x5957;&#x6CE8;&#x518C;&#x8868;&#xFF0C;&#x952E;&#x5165;<code class="docutils literal"><span class="pre">&lt;dialect_name&gt;</span></code>&#x548C;<code class="docutils literal"><span class="pre">&lt;argument_name&gt;</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-196">&#x4F8B;&#x5982;&#xFF0C;<code class="docutils literal"><span class="pre">postgresql_where</span></code>&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x5B9A;&#x4F4D;&#x4E3A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&apos;postgresql&apos;</span><span class="p">][</span><span class="s1">&apos;where&apos;</span><span class="p">]</span></pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-197"><span class="versionmodified">&#x7248;&#x672C;0.9.2&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-198">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-199"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Delete.execute"><span class="yiyi-st" id="yiyi-200"><code class="descname">&#x6267;&#x884C; tt&gt; <span class="sig-paren">&#xFF08;</span> <em>* multiparams</em>&#xFF0C;<em>** params</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Delete.execute" title="Permalink to this definition">T5&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-201"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execute" title="sqlalchemy.sql.expression.Executable.execute"><code class="xref py py-meth docutils literal"><span class="pre">execute()</span></code></a> <em>&#x65B9;&#x6CD5;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-202">&#x7F16;&#x8BD1;&#x5E76;&#x6267;&#x884C;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Delete.execution_options"><span class="yiyi-st" id="yiyi-203"><code class="descname"> execution_options  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> **&#x5343;&#x74E6; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Delete.execution_options" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-204"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">execution_options()</span></code></a> <em>&#x65B9;&#x6CD5; tt&gt; <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a></em></span></div><p><span class="yiyi-st" id="yiyi-205">&#x4E3A;&#x6267;&#x884C;&#x671F;&#x95F4;&#x751F;&#x6548;&#x7684;&#x8BED;&#x53E5;&#x8BBE;&#x7F6E;&#x975E;SQL&#x9009;&#x9879;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-206">&#x6267;&#x884C;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x8BED;&#x53E5;&#x6216;&#x6BCF;&#x4E2A;<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x8BBE;&#x7F6E;&#x3002;</span><span class="yiyi-st" id="yiyi-207">&#x6B64;&#x5916;&#xFF0C;<a class="reference internal" href="connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>&#x548C;ORM <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x63D0;&#x4F9B;&#x5BF9;&#x6267;&#x884C;&#x9009;&#x9879;&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x800C;&#x8FD9;&#x4E9B;&#x6267;&#x884C;&#x9009;&#x9879;&#x5728;&#x8FDE;&#x63A5;&#x65F6;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-208"><a class="reference internal" href="#sqlalchemy.sql.expression.Delete.execution_options" title="sqlalchemy.sql.expression.Delete.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">execution_options()</span></code></a>&#x65B9;&#x6CD5;&#x662F;&#x751F;&#x6210;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-209">&#x8FD4;&#x56DE;&#x6B64;&#x8BED;&#x53E5;&#x7684;&#x65B0;&#x5B9E;&#x4F8B;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x4EE5;&#x4E0B;&#x9009;&#x9879;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y</span><span class="p">])</span>
<span class="n">statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">execution_options</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-210">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x90E8;&#x5206;&#x53EF;&#x80FD;&#x7684;&#x6267;&#x884C;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x4E8E;&#x8BED;&#x53E5; - &#x8FD9;&#x4E9B;&#x9009;&#x9879;&#x5305;&#x62EC;&#x201C;autocommit&#x201D;&#x548C;&#x201C;stream_results&#x201D;&#xFF0C;&#x4F46;&#x4E0D;&#x5305;&#x62EC;&#x201C;isolation_level&#x201D;&#x6216;&#x201C;c&#x200B;&#x200B;ompiled_cache&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-211">&#x6709;&#x5173;&#x53EF;&#x80FD;&#x7684;&#x9009;&#x9879;&#x7684;&#x5B8C;&#x6574;&#x5217;&#x8868;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execution_options()</span></code></a>&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-212">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-213"><a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execution_options()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-214"><a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.execution_options" title="sqlalchemy.orm.query.Query.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Query.execution_options()</span></code></a></span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.Delete.kwargs"><span class="yiyi-st" id="yiyi-215"><code class="descname"> kwargs  T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Delete.kwargs" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-216"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal"><span class="pre">kwargs</span></code></a> <em>&#x5C5E;&#x6027;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-217"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>&#x7684;&#x540C;&#x4E49;&#x8BCD;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Delete.params"><span class="yiyi-st" id="yiyi-218"> <code class="descname">params</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.params" title="Permalink to this definition">&#xB6;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-219"> <em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.params" title="sqlalchemy.sql.expression.UpdateBase.params"><code class="xref py py-meth docutils literal"><span class="pre">params()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-220">&#x8BBE;&#x7F6E;&#x8BED;&#x53E5;&#x7684;&#x53C2;&#x6570;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-221">&#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x57FA;&#x7C7B;&#x4E0A;&#x5F15;&#x53D1;<code class="docutils literal"><span class="pre">NotImplementedError</span></code>&#xFF0C;&#x5E76;&#x7531;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal"><span class="pre">ValuesBase</span></code></a>&#x8986;&#x76D6;&#xFF0C;&#x4EE5;&#x63D0;&#x4F9B;UPDATE&#x548C;INSERT&#x7684;SET / VALUES&#x5B50;&#x53E5;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Delete.prefix_with"><span class="yiyi-st" id="yiyi-222"><code class="descname">prefix_with</code> <span class="sig-paren">&#xFF08;</span> <em>* expr</em>&#xFF0C;<em>** kw</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Delete.prefix_with" title="Permalink to this definition">T5&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-223"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes.prefix_with" title="sqlalchemy.sql.expression.HasPrefixes.prefix_with"><code class="xref py py-meth docutils literal"><span class="pre">prefix_with()</span></code></a> <em>&#x65B9;&#x6CD5; <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes" title="sqlalchemy.sql.expression.HasPrefixes"><code class="xref py py-class docutils literal"><span class="pre">HasPrefixes</span></code></a></em></span></div><p><span class="yiyi-st" id="yiyi-224">&#x5728;&#x8BED;&#x53E5;&#x5173;&#x952E;&#x5B57;&#x540E;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5373;</span><span class="yiyi-st" id="yiyi-225">SELECT&#xFF0C;INSERT&#xFF0C;UPDATE&#x6216;DELETE&#x3002;</span><span class="yiyi-st" id="yiyi-226">&#x751F;&#x6210;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-227">&#x8FD9;&#x7528;&#x4E8E;&#x652F;&#x6301;&#x540E;&#x7AEF;&#x7279;&#x5B9A;&#x7684;&#x524D;&#x7F00;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x4F8B;&#x5982;&#x7531;MySQL&#x63D0;&#x4F9B;&#x7684;&#x524D;&#x7F00;&#x5173;&#x952E;&#x5B57;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-228">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">prefix_with</span><span class="p">(</span><span class="s2">&quot;LOW_PRIORITY&quot;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;mysql&quot;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-229">&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x591A;&#x6B21;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.Delete.prefix_with" title="sqlalchemy.sql.expression.Delete.prefix_with"><code class="xref py py-meth docutils literal"><span class="pre">prefix_with()</span></code></a>&#x6765;&#x6307;&#x5B9A;&#x591A;&#x4E2A;&#x524D;&#x7F00;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-230">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-231"><span class="target" id="sqlalchemy.sql.expression.Delete.prefix_with.params.*expr"></span><strong>*expr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.prefix_with.params.*expr">&#xB6;</a> &#x2013; textual or <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a> construct which will be rendered following the INSERT, UPDATE, or DELETE keyword.</span></li><li><span class="yiyi-st" id="yiyi-232"><span class="target" id="sqlalchemy.sql.expression.Delete.prefix_with.params.**kw"></span> <strong>** kw</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.prefix_with.params.**kw">&#xB6;</a>  - &#x63A5;&#x53D7;&#x5355;&#x4E2A;&#x5173;&#x952E;&#x5B57;&apos;dialect&apos;&#x3002;</span><span class="yiyi-st" id="yiyi-233">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x65B9;&#x8A00;&#x540D;&#x79F0;&#xFF0C;&#x5B83;&#x5C06;&#x9650;&#x5236;&#x5C06;&#x8BE5;&#x524D;&#x7F00;&#x7684;&#x5448;&#x73B0;&#x4EC5;&#x9650;&#x4E8E;&#x8BE5;&#x65B9;&#x8A00;&#x3002;</span></li></ul></td></tr></tbody></table></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Delete.returning"><span class="yiyi-st" id="yiyi-234"><code class="descname">&#x8FD4;&#x56DE; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * COLS  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Delete.returning" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-235"> <em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">returning()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-236">&#x5728;&#x6B64;&#x8BED;&#x53E5;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;<a class="reference internal" href="glossary.html#term-returning"><span class="xref std std-term">RETURNING</span></a>&#x6216;&#x7B49;&#x540C;&#x7684;&#x5B50;&#x53E5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-237">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span>\
          <span class="n">where</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&apos;value&apos;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">values</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&apos;X&apos;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">returning</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">server_flag</span><span class="p">,</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">updated_timestamp</span><span class="p">)</span>

<span class="k">for</span> <span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span> <span class="ow">in</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-238">&#x7ED9;&#x5B9A;&#x7684;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x96C6;&#x5408;&#x5E94;&#x8BE5;&#x4ECE;&#x4F5C;&#x4E3A;INSERT&#xFF0C;UPDATE&#x6216;DELETE&#x76EE;&#x6807;&#x7684;&#x8868;&#x4E2D;&#x6D3E;&#x751F;&#x3002;</span><span class="yiyi-st" id="yiyi-239">&#x867D;&#x7136;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x5BF9;&#x8C61;&#x662F;&#x5178;&#x578B;&#x7684;&#xFF0C;&#x4F46;&#x5143;&#x7D20;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">returning</span><span class="p">(</span>
    <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">first_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">last_name</span><span class="p">)</span><span class="o">.</span>
    <span class="n">label</span><span class="p">(</span><span class="s1">&apos;fullname&apos;</span><span class="p">))</span></pre></div></div><p><span class="yiyi-st" id="yiyi-240">&#x7F16;&#x8BD1;&#x540E;&#xFF0C;&#x5C06;&#x5728;&#x8BED;&#x53E5;&#x4E2D;&#x5448;&#x73B0;RETURNING&#x5B50;&#x53E5;&#x6216;&#x6570;&#x636E;&#x5E93;&#x7B49;&#x6548;&#x9879;&#x3002;</span><span class="yiyi-st" id="yiyi-241">&#x5BF9;&#x4E8E;INSERT&#x548C;UPDATE&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x662F;&#x65B0;&#x63D2;&#x5165;/&#x66F4;&#x65B0;&#x7684;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-242">&#x5BF9;&#x4E8E;DELETE&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x662F;&#x90A3;&#x4E9B;&#x88AB;&#x5220;&#x9664;&#x7684;&#x884C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-243">&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x5217;&#x7684;&#x503C;&#x901A;&#x8FC7;&#x7ED3;&#x679C;&#x96C6;&#x53EF;&#x7528;&#xFF0C;&#x5E76;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.fetchone" title="sqlalchemy.engine.ResultProxy.fetchone"><code class="xref py py-meth docutils literal"><span class="pre">ResultProxy.fetchone()</span></code></a>&#x548C;&#x7C7B;&#x4F3C;&#x7684;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x8FED;&#x4EE3;&#x3002;</span><span class="yiyi-st" id="yiyi-244">&#x5BF9;&#x4E8E;&#x672C;&#x8EAB;&#x4E0D;&#x652F;&#x6301;&#x8FD4;&#x56DE;&#x503C;&#x7684;DBAPI&#xFF08;&#x5373;cx_oracle&#xFF09;&#xFF0C;SQLAlchemy&#x5C06;&#x5728;&#x7ED3;&#x679C;&#x7EA7;&#x63A5;&#x8FD1;&#x6B64;&#x884C;&#x4E3A;&#xFF0C;&#x4EE5;&#x4FBF;&#x63D0;&#x4F9B;&#x5408;&#x7406;&#x7684;&#x884C;&#x4E3A;&#x4E2D;&#x7ACB;&#x6027;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-245">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5E76;&#x975E;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;/ DBAPI&#x90FD;&#x652F;&#x6301;RETURNING&#x3002;</span><span class="yiyi-st" id="yiyi-246">&#x5BF9;&#x4E8E;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x540E;&#x7AEF;&#xFF0C;&#x7F16;&#x8BD1;&#x548C;/&#x6216;&#x6267;&#x884C;&#x65F6;&#x4F1A;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x3002;</span><span class="yiyi-st" id="yiyi-247">&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x652F;&#x6301;&#x5B83;&#x7684;&#x4EBA;&#x6765;&#x8BF4;&#xFF0C;&#x540E;&#x7AEF;&#x7684;&#x529F;&#x80FD;&#x5DEE;&#x5F02;&#x5F88;&#x5927;&#xFF0C;&#x5305;&#x62EC;&#x5BF9;executemany()&#x548C;&#x5176;&#x4ED6;&#x8FD4;&#x56DE;&#x591A;&#x884C;&#x7684;&#x8BED;&#x53E5;&#x7684;&#x9650;&#x5236;&#x3002;</span><span class="yiyi-st" id="yiyi-248">&#x8BF7;&#x9605;&#x8BFB;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x6863;&#x8BF4;&#x660E;&#xFF0C;&#x4EE5;&#x786E;&#x5B9A;RETURNING&#x7684;&#x53EF;&#x7528;&#x6027;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-249">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-250"><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>  - &#x9488;&#x5BF9;&#x5355;&#x4E2A;&#x884C;INSERT&#x6216;UPDATE&#x7684;&#x9AD8;&#x6548;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x9ED8;&#x8BA4;&#x503C;&#x548C;&#x89E6;&#x53D1;&#x5668;&#x7684;&#x4E00;&#x79CD;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#x3002;</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Delete.scalar"><span class="yiyi-st" id="yiyi-251"><code class="descname">&#x6807;&#x91CF;</code> <span class="sig-paren">&#xFF08;</span> <em>* multiparams</em>&#xFF0C;<em>** params</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Delete.scalar" title="Permalink to this definition">T5&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-252"> <em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.scalar" title="sqlalchemy.sql.expression.Executable.scalar"><code class="xref py py-meth docutils literal"><span class="pre">scalar()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-253">&#x7F16;&#x8BD1;&#x5E76;&#x6267;&#x884C;&#x6B64;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a>&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x6807;&#x91CF;&#x8868;&#x793A;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Delete.self_group"><span class="yiyi-st" id="yiyi-254"><code class="descname"> self_group  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x9488;&#x5BF9;=&#x65E0; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Delete.self_group" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-255"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.self_group" title="sqlalchemy.sql.expression.ClauseElement.self_group"><code class="xref py py-meth docutils literal"><span class="pre">self_group()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-256">&#x5BF9;&#x8FD9;&#x4E2A;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x5E94;&#x7528;&#x201C;&#x5206;&#x7EC4;&#x201D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-257">&#x5B50;&#x7C7B;&#x91CD;&#x5199;&#x6B64;&#x65B9;&#x6CD5;&#x4EE5;&#x8FD4;&#x56DE;&#x201C;&#x5206;&#x7EC4;&#x201D;&#x7ED3;&#x6784;&#xFF0C;&#x5373;&#x62EC;&#x53F7;&#x3002;</span><span class="yiyi-st" id="yiyi-258">In particular it&#x2019;s used by &#x201C;binary&#x201D; expressions to provide a grouping around themselves when placed into a larger expression, as well as by <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a> constructs when placed into the FROM clause of another <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>. </span><span class="yiyi-st" id="yiyi-259">&#xFF08;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x901A;&#x5E38;&#x5E94;&#x4F7F;&#x7528;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Select.alias" title="sqlalchemy.sql.expression.Select.alias"><code class="xref py py-meth docutils literal"><span class="pre">Select.alias()</span></code></a>&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x5B50;&#x67E5;&#x8BE2;&#xFF0C;&#x56E0;&#x4E3A;&#x8BB8;&#x591A;&#x5E73;&#x53F0;&#x9700;&#x8981;&#x547D;&#x540D;&#x5D4C;&#x5957;&#x7684;SELECT&#x8BED;&#x53E5;&#xFF09;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-260">&#x7531;&#x4E8E;&#x8868;&#x8FBE;&#x5F0F;&#x7EC4;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x6240;&#x4EE5;<a class="reference internal" href="#sqlalchemy.sql.expression.Delete.self_group" title="sqlalchemy.sql.expression.Delete.self_group"><code class="xref py py-meth docutils literal"><span class="pre">self_group()</span></code></a>&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x662F;&#x81EA;&#x52A8;&#x7684; - &#x6700;&#x7EC8;&#x7528;&#x6237;&#x4EE3;&#x7801;&#x4E0D;&#x9700;&#x8981;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-261">Note that SQLAlchemy&#x2019;s clause constructs take operator precedence into account - so parenthesis might not be needed, for example, in an expression like <code class="docutils literal"><span class="pre">x</span> <span class="pre">OR</span> <span class="pre">(y</span> <span class="pre">AND</span> <span class="pre">z)</span></code> - AND takes precedence over OR.</span></p><p><span class="yiyi-st" id="yiyi-262"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x7684;base <a class="reference internal" href="#sqlalchemy.sql.expression.Delete.self_group" title="sqlalchemy.sql.expression.Delete.self_group"><code class="xref py py-meth docutils literal"><span class="pre">self_group()</span></code></a>&#x65B9;&#x6CD5;&#x4EC5;&#x8FD4;&#x56DE;self&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Delete.unique_params"><span class="yiyi-st" id="yiyi-263"><code class="descname">unique_params</code> <span class="sig-paren">&#xFF08;</span> <em>* optionaldict</em>&#xFF0C;<em>** kwargs</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Delete.unique_params" title="Permalink to this definition">T5&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-264"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.unique_params" title="sqlalchemy.sql.expression.ClauseElement.unique_params"><code class="xref py py-meth docutils literal"><span class="pre">unique_params()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-265">&#x8FD4;&#x56DE;&#x5E26;&#x6709;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.bindparam" title="sqlalchemy.sql.expression.bindparam"><code class="xref py py-func docutils literal"><span class="pre">bindparam()</span></code></a>&#x5143;&#x7D20;&#x7684;&#x526F;&#x672C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-266">&#x4E0E;<code class="docutils literal"><span class="pre">params()</span></code>&#x529F;&#x80FD;&#x76F8;&#x540C;&#xFF0C;&#x9664;&#x4E86;&#x5C06;<cite>unique = True</cite>&#x6DFB;&#x52A0;&#x5230;&#x53D7;&#x5F71;&#x54CD;&#x7684;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x4EE5;&#x4FBF;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x591A;&#x4E2A;&#x8BED;&#x53E5;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Delete.where"><span class="yiyi-st" id="yiyi-267"><code class="descname">&#x5176;&#x4E2D; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> whereclause  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Delete.where" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-268">&#x5C06;&#x7ED9;&#x5B9A;&#x7684;WHERE&#x5B50;&#x53E5;&#x6DFB;&#x52A0;&#x5230;&#x65B0;&#x8FD4;&#x56DE;&#x7684;&#x5220;&#x9664;&#x7ED3;&#x6784;&#x4E2D;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Delete.with_hint"><span class="yiyi-st" id="yiyi-269"> <code class="descname">with_hint</code><span class="sig-paren">(</span><em>text</em>, <em>selectable=None</em>, <em>dialect_name=&apos;*&apos;</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.with_hint" title="Permalink to this definition">&#xB6;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-270"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint" title="sqlalchemy.sql.expression.UpdateBase.with_hint"><code class="xref py py-meth docutils literal"><span class="pre">with_hint()</span></code></a> <em>&#x65B9;&#x6CD5;</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-271">&#x4E3A;&#x8FD9;&#x4E2A;INSERT / UPDATE / DELETE&#x8BED;&#x53E5;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x8868;&#x63D0;&#x793A;&#x7ED9;&#x5355;&#x4E2A;&#x8868;&#x3002;</span></p><div class="admonition note"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-272">&#x6CE8;&#x610F;</span></p><p class="last"><span class="yiyi-st" id="yiyi-273"><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint" title="sqlalchemy.sql.expression.UpdateBase.with_hint"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.with_hint()</span></code></a> currently applies only to Microsoft SQL Server. </span><span class="yiyi-st" id="yiyi-274">&#x5BF9;&#x4E8E;MySQL INSERT / UPDATE / DELETE&#x63D0;&#x793A;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.prefix_with" title="sqlalchemy.sql.expression.UpdateBase.prefix_with"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.prefix_with()</span></code></a>&#x3002;</span></p></div><p><span class="yiyi-st" id="yiyi-275">The text of the hint is rendered in the appropriate location for the database backend in use, relative to the <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> that is the subject of this statement, or optionally to that of the given <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> passed as the <code class="docutils literal"><span class="pre">selectable</span></code> argument.</span></p><p><span class="yiyi-st" id="yiyi-276">The <code class="docutils literal"><span class="pre">dialect_name</span></code> option will limit the rendering of a particular hint to a particular backend. </span><span class="yiyi-st" id="yiyi-277">&#x4F8B;&#x5982;&#xFF0C;&#x6DFB;&#x52A0;&#x4EC5;&#x5BF9;SQL Server&#x6709;&#x6548;&#x7684;&#x63D0;&#x793A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">mytable</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">with_hint</span><span class="p">(</span><span class="s2">&quot;WITH (PAGLOCK)&quot;</span><span class="p">,</span> <span class="n">dialect_name</span><span class="o">=</span><span class="s2">&quot;mssql&quot;</span><span class="p">)</span></pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-278"><span class="versionmodified">New in version 0.7.6.</span></span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-279">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-280"><span class="target" id="sqlalchemy.sql.expression.Delete.with_hint.params.text"></span> <strong>&#x6587;&#x672C;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.with_hint.params.text">&#xB6;</a>  - &#x63D0;&#x793A;&#x7684;&#x6587;&#x672C;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-281"><span class="target" id="sqlalchemy.sql.expression.Delete.with_hint.params.selectable"></span><strong>selectable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.with_hint.params.selectable">&#xB6;</a> &#x2013; optional <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> that specifies an element of the FROM clause within an UPDATE or DELETE to be the subject of the hint - applies only to certain backends.</span></li><li><span class="yiyi-st" id="yiyi-282"><span class="target" id="sqlalchemy.sql.expression.Delete.with_hint.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.with_hint.params.dialect_name">&#xB6;</a> &#x2013; defaults to <code class="docutils literal"><span class="pre">*</span></code>, if specified as the name of a particular dialect, will apply these hints only when that dialect is in use.</span></li></ul></td></tr></tbody></table></dd></dl></dd></dl><dl class="class"><dt id="sqlalchemy.sql.expression.Insert"><span class="yiyi-st" id="yiyi-283"> <em class="property">class </em><code class="descclassname">sqlalchemy.sql.expression.</code><code class="descname">Insert</code><span class="sig-paren">(</span><em>table</em>, <em>values=None</em>, <em>inline=False</em>, <em>bind=None</em>, <em>prefixes=None</em>, <em>returning=None</em>, <em>return_defaults=False</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-284">&#x57FA;&#x7840;&#xFF1A;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.sql.expression.ValuesBase</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-285">&#x8868;&#x793A;&#x4E00;&#x4E2A;INSERT&#x6784;&#x9020;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-286"><a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x5BF9;&#x8C61;&#x662F;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><code class="xref py py-func docutils literal"><span class="pre">insert()</span></code></a>&#x51FD;&#x6570;&#x521B;&#x5EFA;&#x7684;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-287">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-288"><a class="reference internal" href="tutorial.html#coretutorial-insert-expressions"><span>Insert Expressions</span></a></span></p></div><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.__init__"><span class="yiyi-st" id="yiyi-289"> <code class="descname">__init__</code><span class="sig-paren">(</span><em>table</em>, <em>values=None</em>, <em>inline=False</em>, <em>bind=None</em>, <em>prefixes=None</em>, <em>returning=None</em>, <em>return_defaults=False</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.__init__" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-290">&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-291">&#x8FD9;&#x4E2A;&#x6784;&#x9020;&#x51FD;&#x6570;&#x88AB;&#x955C;&#x50CF;&#x4E3A;&#x516C;&#x5171;API&#x51FD;&#x6570;&#xFF1B;&#x6709;&#x5173;&#x5B8C;&#x6574;&#x7684;&#x7528;&#x6CD5;&#x548C;&#x53C2;&#x6570;&#x8BF4;&#x660E;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><code class="xref py py-func docutils literal"><span class="pre">insert()</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.argument_for"><span class="yiyi-st" id="yiyi-292"><code class="descname">argument_for</code> <span class="sig-paren">&#xFF08;</span> <em>dialect_name</em>&#xFF0C;<em>argument_name</em>&#xFF0C;<em>&#x9ED8;&#x8BA4;</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.argument_for" title="Permalink to this definition">&#xB6; T6&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-293"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal"><span class="pre">argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-294">&#x4E3A;&#x6B64;&#x8BFE;&#x7A0B;&#x6DFB;&#x52A0;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x7279;&#x5B9A;&#x4E8E;&#x65B9;&#x8A00;&#x7684;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-295">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&apos;a&apos;</span><span class="p">,</span> <span class="s1">&apos;b&apos;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-296">The <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument way adding extra arguments to the <a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal"><span class="pre">DefaultDialect.construct_arguments</span></code></a> dictionary. </span><span class="yiyi-st" id="yiyi-297">&#x8FD9;&#x672C;&#x8BCD;&#x5178;&#x63D0;&#x4F9B;&#x4E86;&#x4EE3;&#x8868;&#x65B9;&#x8A00;&#x7684;&#x5404;&#x79CD;&#x6A21;&#x5F0F;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x6240;&#x63A5;&#x53D7;&#x7684;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x5217;&#x8868;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-298">&#x65B0;&#x65B9;&#x8A00;&#x901A;&#x5E38;&#x5E94;&#x8BE5;&#x4E00;&#x6B21;&#x6027;&#x5C06;&#x8BE5;&#x5B57;&#x5178;&#x6307;&#x5B9A;&#x4E3A;&#x65B9;&#x8A00;&#x7C7B;&#x7684;&#x6570;&#x636E;&#x6210;&#x5458;&#x3002;</span><span class="yiyi-st" id="yiyi-299">&#x7528;&#x4E8E;&#x4E34;&#x65F6;&#x6DFB;&#x52A0;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x7684;&#x7528;&#x4F8B;&#x901A;&#x5E38;&#x7528;&#x4E8E;&#x6700;&#x7EC8;&#x7528;&#x6237;&#x4EE3;&#x7801;&#xFF0C;&#x8BE5;&#x4EE3;&#x7801;&#x4E5F;&#x4F7F;&#x7528;&#x4E86;&#x4F7F;&#x7528;&#x989D;&#x5916;&#x53C2;&#x6570;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x7F16;&#x8BD1;&#x65B9;&#x6848;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-300">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-301"><span class="target" id="sqlalchemy.sql.expression.Insert.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.argument_for.params.dialect_name">&#xB6;</a> &#x2013; name of a dialect. </span><span class="yiyi-st" id="yiyi-302">The dialect must be locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal"><span class="pre">NoSuchModuleError</span></code></a> is raised. </span><span class="yiyi-st" id="yiyi-303">&#x8BE5;&#x65B9;&#x8A00;&#x8FD8;&#x5FC5;&#x987B;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x73B0;&#x6709;&#x7684;<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal"><span class="pre">DefaultDialect.construct_arguments</span></code></a>&#x96C6;&#x5408;&#xFF0C;&#x6307;&#x793A;&#x5B83;&#x53C2;&#x4E0E;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;&#x548C;&#x9ED8;&#x8BA4;&#x7CFB;&#x7EDF;&#xFF0C;&#x5426;&#x5219;&#x5F15;&#x53D1;<a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal"><span class="pre">ArgumentError</span></code></a>&#x3002;</span><span class="yiyi-st" id="yiyi-304">&#x5982;&#x679C;&#x65B9;&#x8A00;&#x4E0D;&#x5305;&#x62EC;&#x8FD9;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x90A3;&#x4E48;&#x4EFB;&#x4F55;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x90FD;&#x53EF;&#x4EE5;&#x4EE3;&#x8868;&#x8FD9;&#x4E2A;&#x65B9;&#x8A00;&#x6307;&#x5B9A;&#x3002;</span><span class="yiyi-st" id="yiyi-305">&#x6240;&#x6709;&#x5305;&#x542B;&#x5728;SQLAlchemy&#x4E2D;&#x7684;&#x65B9;&#x8A00;&#x90FD;&#x5305;&#x542B;&#x8FD9;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x7B2C;&#x4E09;&#x65B9;&#x65B9;&#x8A00;&#xFF0C;&#x652F;&#x6301;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-306"><span class="target" id="sqlalchemy.sql.expression.Insert.argument_for.params.argument_name"></span> <strong>argument_name</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.argument_for.params.argument_name">&#xB6;</a>  - &#x53C2;&#x6570;&#x7684;&#x540D;&#x79F0;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-307"><span class="target" id="sqlalchemy.sql.expression.Insert.argument_for.params.default"></span> <strong>&#x9ED8;&#x8BA4;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.argument_for.params.default">&#xB6;</a>  - &#x53C2;&#x6570;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span></li></ul></td></tr></tbody></table><div class="versionadded"><p><span class="yiyi-st" id="yiyi-308"><span class="versionmodified">&#x7248;&#x672C;0.9.4&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.Insert.bind"><span class="yiyi-st" id="yiyi-309"><code class="descname">&#x7ED3;&#x5408; T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.bind" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-310"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.bind" title="sqlalchemy.sql.expression.UpdateBase.bind"><code class="xref py py-attr docutils literal"><span class="pre">bind</span></code></a> <em>&#x5C5E;&#x6027;</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-311">&#x8FD4;&#x56DE;&#x4E0E;&#x6B64;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a>&#x6216;&#x4E0E;&#x4E4B;&#x5173;&#x8054;&#x7684;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x7684;&#x201C;&#x7ED1;&#x5B9A;&#x201D;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.compare"><span class="yiyi-st" id="yiyi-312"><code class="descname">&#x6BD4;&#x8F83;</code> <span class="sig-paren">&#xFF08;</span> <em>&#x5176;&#x4ED6;</em>&#xFF0C;<em>** kw</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.compare" title="Permalink to this definition"> t5 &gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-313"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compare" title="sqlalchemy.sql.expression.ClauseElement.compare"><code class="xref py py-meth docutils literal"><span class="pre">compare()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-314">&#x5C06;&#x6B64;ClauseElement&#x4E0E;&#x7ED9;&#x5B9A;&#x7684;ClauseElement&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-315">&#x5B50;&#x7C7B;&#x5E94;&#x8BE5;&#x8986;&#x76D6;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x76F4;&#x63A5;&#x7684;&#x8EAB;&#x4EFD;&#x6BD4;&#x8F83;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-316">** kw&#x662F;&#x7531;subclass compare()&#x65B9;&#x6CD5;&#x6D88;&#x8017;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x4FEE;&#x6539;&#x6BD4;&#x8F83;&#x6761;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-317">&#xFF08;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal"><span class="pre">ColumnElement</span></code></a>&#xFF09;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.compile"><span class="yiyi-st" id="yiyi-318"><code class="descname">&#x7F16;&#x8BD1;</code> <span class="sig-paren">&#xFF08;</span> <em>bind = None</em>&#xFF0C;<em>dialect = None</em>&#xFF0C;<em>** kw</em> <span class="sig-paren">&#xFF09; T5&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.compile" title="Permalink to this definition">&#xB6; T6&gt;</a></span></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-319"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compile" title="sqlalchemy.sql.expression.ClauseElement.compile"><code class="xref py py-meth docutils literal"><span class="pre">compile()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-320">&#x7F16;&#x8BD1;&#x8FD9;&#x4E2A;SQL&#x8868;&#x8FBE;&#x5F0F;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-321">&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x4E2A;<a class="reference internal" href="internals.html#sqlalchemy.engine.interfaces.Compiled" title="sqlalchemy.engine.interfaces.Compiled"><code class="xref py py-class docutils literal"><span class="pre">Compiled</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-322">&#x5BF9;&#x8FD4;&#x56DE;&#x503C;&#x8C03;&#x7528;<code class="docutils literal"><span class="pre">str()</span></code>&#x6216;<code class="docutils literal"><span class="pre">unicode()</span></code>&#x5C06;&#x4EA7;&#x751F;&#x7ED3;&#x679C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-323"><a class="reference internal" href="internals.html#sqlalchemy.engine.interfaces.Compiled" title="sqlalchemy.engine.interfaces.Compiled"><code class="xref py py-class docutils literal"><span class="pre">Compiled</span></code></a>&#x5BF9;&#x8C61;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">params</span></code>&#x8BBF;&#x95EE;&#x5668;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x548C;&#x503C;&#x7684;&#x5B57;&#x5178;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-324">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-325"><span class="target" id="sqlalchemy.sql.expression.Insert.compile.params.bind"></span><strong>bind</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.compile.params.bind">&#xB6;</a> &#x2013; An <code class="docutils literal"><span class="pre">Engine</span></code> or <code class="docutils literal"><span class="pre">Connection</span></code> from which a <code class="docutils literal"><span class="pre">Compiled</span></code> will be acquired. </span><span class="yiyi-st" id="yiyi-326">&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4F18;&#x5148;&#x4E8E;&#x8FD9;&#x4E2A;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x7684;&#x7ED1;&#x5B9A;&#x5F15;&#x64CE;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x7684;&#x8BDD;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-327"><span class="target" id="sqlalchemy.sql.expression.Insert.compile.params.column_keys"></span><strong>column_keys</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.compile.params.column_keys">&#xB6;</a> &#x2013; Used for INSERT and UPDATE statements, a list of column names which should be present in the VALUES clause of the compiled statement. </span><span class="yiyi-st" id="yiyi-328">&#x5982;&#x679C;<code class="docutils literal"><span class="pre">None</span></code>&#xFF0C;&#x5219;&#x5448;&#x73B0;&#x76EE;&#x6807;&#x8868;&#x683C;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5217;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-329"><span class="target" id="sqlalchemy.sql.expression.Insert.compile.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.compile.params.dialect">&#xB6;</a> &#x2013; A <code class="docutils literal"><span class="pre">Dialect</span></code> instance from which a <code class="docutils literal"><span class="pre">Compiled</span></code> will be acquired. </span><span class="yiyi-st" id="yiyi-330">&#x8BE5;&#x53C2;&#x6570;&#x4F18;&#x5148;&#x4E8E;<cite>bind</cite>&#x53C2;&#x6570;&#x4EE5;&#x53CA;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x7684;&#x7ED1;&#x5B9A;&#x5F15;&#x64CE;&#xFF08;&#x5982;&#x679C;&#x6709;&#x7684;&#x8BDD;&#xFF09;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-331"><span class="target" id="sqlalchemy.sql.expression.Insert.compile.params.inline"></span><strong>inline</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.compile.params.inline">&#xB6;</a> &#x2013; Used for INSERT statements, for a dialect which does not support inline retrieval of newly generated primary key columns, will force the expression used to create the new primary key value to be rendered inline within the INSERT statement&#x2019;s VALUES clause. </span><span class="yiyi-st" id="yiyi-332">&#x8FD9;&#x901A;&#x5E38;&#x662F;&#x6307;&#x5E8F;&#x5217;&#x6267;&#x884C;&#xFF0C;&#x4F46;&#x4E5F;&#x53EF;&#x80FD;&#x6307;&#x4E0E;&#x4E3B;&#x952E;<cite>Column</cite>&#x5173;&#x8054;&#x7684;&#x4EFB;&#x4F55;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x9ED8;&#x8BA4;&#x751F;&#x6210;&#x51FD;&#x6570;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-337"><span class="target" id="sqlalchemy.sql.expression.Insert.compile.params.compile_kwargs"></span> <strong>compile_kwargs</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.compile.params.compile_kwargs">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-333">&#x5728;&#x6240;&#x6709;&#x201C;&#x8BBF;&#x95EE;&#x201D;&#x65B9;&#x6CD5;&#x4E2D;&#x5C06;&#x4F20;&#x9012;&#x7ED9;&#x7F16;&#x8BD1;&#x5668;&#x7684;&#x9644;&#x52A0;&#x53C2;&#x6570;&#x7684;&#x53EF;&#x9009;&#x5B57;&#x5178;&#x3002;</span><span class="yiyi-st" id="yiyi-334">&#x4F8B;&#x5982;&#xFF0C;&#x8FD9;&#x5141;&#x8BB8;&#x5C06;&#x81EA;&#x5B9A;&#x4E49;&#x6807;&#x5FD7;&#x4F20;&#x9012;&#x7ED9;&#x81EA;&#x5B9A;&#x4E49;&#x7F16;&#x8BD1;&#x6784;&#x9020;&#x3002;</span><span class="yiyi-st" id="yiyi-335">&#x5B83;&#x4E5F;&#x7528;&#x4E8E;&#x4F20;&#x9012;<code class="docutils literal"><span class="pre">literal_binds</span></code>&#x6807;&#x5FD7;&#x7684;&#x60C5;&#x51B5;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.sql</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">select</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s1">&apos;t&apos;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s1">&apos;x&apos;</span><span class="p">))</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">t</span><span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>

<span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">compile_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;literal_binds&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">})</span></pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-336"><span class="versionmodified">&#x7248;&#x672C;0.9.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-338">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-339"><a class="reference internal" href="faq_sqlexpressions.html#faq-sql-expression-string"><span>How do I render SQL expressions as strings, possibly with bound parameters inlined?</span></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.cte"><span class="yiyi-st" id="yiyi-340"> <code class="descname">cte</code><span class="sig-paren">(</span><em>name=None</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.cte" title="Permalink to this definition">&#xB6;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-341"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal"><span class="pre">cte()</span></code></a> <em>&#x65B9;&#x6CD5;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal"><span class="pre">HasCTE</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-342">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal"><span class="pre">CTE</span></code></a>&#x6216;&#x516C;&#x5171;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x5B9E;&#x4F8B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-343">&#x516C;&#x7528;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x4E00;&#x79CD;SQL&#x6807;&#x51C6;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;&#x201C;WITH&#x201D;&#x7684;&#x5B50;&#x53E5;&#xFF0C;SELECT&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0E;&#x4E3B;&#x8BED;&#x53E5;&#x4E00;&#x8D77;&#x6307;&#x5B9A;&#x7684;&#x6B21;&#x8981;&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-344">&#x6709;&#x5173;UNION&#x7684;&#x7279;&#x6B8A;&#x8BED;&#x4E49;&#x4E5F;&#x53EF;&#x7528;&#x4E8E;&#x5141;&#x8BB8;&#x201C;&#x9012;&#x5F52;&#x201D;&#x67E5;&#x8BE2;&#xFF0C;&#x5176;&#x4E2D;SELECT&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x5728;&#x5148;&#x524D;&#x5DF2;&#x9009;&#x62E9;&#x7684;&#x4E00;&#x7EC4;&#x884C;&#x4E0A;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-345">CTE&#x4E5F;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x4E8E;DML&#x6784;&#x9020;&#x5BF9;&#x67D0;&#x4E9B;&#x6570;&#x636E;&#x5E93;&#x7684;UPDATE&#xFF0C;INSERT&#x548C;DELETE&#xFF0C;&#x4E0E;RETURNING&#x4E00;&#x8D77;&#x4F5C;&#x4E3A;CTE&#x884C;&#x7684;&#x6765;&#x6E90;&#x4EE5;&#x53CA;CTE&#x884C;&#x7684;&#x4F7F;&#x7528;&#x8005;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-346">SQLAlchemy&#x5C06;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal"><span class="pre">CTE</span></code></a>&#x5BF9;&#x8C61;&#x68C0;&#x6D4B;&#x4E3A;&#x4E0E;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal"><span class="pre">Alias</span></code></a>&#x5BF9;&#x8C61;&#x7C7B;&#x4F3C;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x4F5C;&#x4E3A;&#x8981;&#x4F20;&#x9012;&#x5230;&#x8BED;&#x53E5;&#x7684;FROM&#x5B50;&#x53E5;&#x7684;&#x7279;&#x6B8A;&#x5143;&#x7D20;&#x4EE5;&#x53CA;&#x9876;&#x90E8;&#x7684;WITH&#x5B50;&#x53E5;&#x7684;&#x58F0;&#x660E;&#x3002;</span></p><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-347"><span class="versionmodified">&#x5728;&#x7248;&#x672C;1.1&#x4E2D;&#x8FDB;&#x884C;&#x4E86;&#x66F4;&#x6539;&#xFF1A;</span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;CTE&#xFF0C;CTE&#x6DFB;&#x52A0;&#x5230;UPDATE / INSERT / DELETE&#x7684;UPDATE / INSERT / DELETE&#x7684;&#x652F;&#x6301;&#x3002;</span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-348">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-349"><span class="target" id="sqlalchemy.sql.expression.Insert.cte.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.cte.params.name">&#xB6;</a> &#x2013; name given to the common table expression. </span><span class="yiyi-st" id="yiyi-350">&#x50CF;<code class="xref py py-meth docutils literal"><span class="pre">_FromClause.alias()</span></code>&#x4E00;&#x6837;&#xFF0C;&#x540D;&#x79F0;&#x53EF;&#x4EE5;&#x4FDD;&#x7559;&#x4E3A;<code class="docutils literal"><span class="pre">None</span></code>&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x67E5;&#x8BE2;&#x7F16;&#x8BD1;&#x65F6;&#x5C06;&#x4F7F;&#x7528;&#x533F;&#x540D;&#x7B26;&#x53F7;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-351"><span class="target" id="sqlalchemy.sql.expression.Insert.cte.params.recursive"></span><strong>recursive</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.cte.params.recursive">&#xB6;</a> &#x2013; if <code class="docutils literal"><span class="pre">True</span></code>, will render <code class="docutils literal"><span class="pre">WITH</span> <span class="pre">RECURSIVE</span></code>. </span><span class="yiyi-st" id="yiyi-352">&#x9012;&#x5F52;&#x516C;&#x7528;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x65E8;&#x5728;&#x4E0E;UNION ALL&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x4EE5;&#x4FBF;&#x4ECE;&#x5DF2;&#x9009;&#x62E9;&#x7684;&#x884C;&#x4E2D;&#x6D3E;&#x751F;&#x884C;&#x3002;</span></li></ul></td></tr></tbody></table><p><span class="yiyi-st" id="yiyi-353">&#x4EE5;&#x4E0B;&#x793A;&#x4F8B;&#x5305;&#x542B;&#x4E24;&#x7BC7;&#x6765;&#x81EA;Postgresql&#x7684;&#x6587;&#x6863;&#xFF0C;&#x4F4D;&#x4E8E;<a class="reference external" href="http://www.postgresql.org/docs/current/static/queries-with.html">http://www.postgresql.org/docs/current/static/queries-with.html</a>&#x4EE5;&#x53CA;&#x5176;&#x4ED6;&#x793A;&#x4F8B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-354">&#x4F8B;1&#xFF0C;&#x975E;&#x9012;&#x5F52;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">orders</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&apos;orders&apos;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;region&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;amount&apos;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;product&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;quantity&apos;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">regional_sales</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&apos;total_sales&apos;</span><span class="p">)</span>
                <span class="p">])</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;regional_sales&quot;</span><span class="p">)</span>


<span class="n">top_regions</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span><span class="o">.</span>\
        <span class="n">where</span><span class="p">(</span>
            <span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span> <span class="o">&gt;</span>
            <span class="n">select</span><span class="p">([</span>
                <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span>
            <span class="p">])</span>
        <span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;top_regions&quot;</span><span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_units&quot;</span><span class="p">),</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_sales&quot;</span><span class="p">)</span>
    <span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span>
        <span class="n">select</span><span class="p">([</span><span class="n">top_regions</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span>
    <span class="p">))</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span> <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div></div><p><span class="yiyi-st" id="yiyi-355">&#x4F8B;2&#xFF0C;&#x4E0E;RECURSIVE&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">parts</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&apos;parts&apos;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;part&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;sub_part&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;quantity&apos;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">included_parts</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">])</span><span class="o">.</span>\
                    <span class="n">where</span><span class="p">(</span><span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="s1">&apos;our part&apos;</span><span class="p">)</span><span class="o">.</span>\
                    <span class="n">cte</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>


<span class="n">incl_alias</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">parts_alias</span> <span class="o">=</span> <span class="n">parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">included_parts</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">union_all</span><span class="p">(</span>
    <span class="n">select</span><span class="p">([</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>
    <span class="p">])</span><span class="o">.</span>
        <span class="n">where</span><span class="p">(</span><span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="n">incl_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span>
              <span class="n">label</span><span class="p">(</span><span class="s1">&apos;total_quantity&apos;</span><span class="p">)</span>
        <span class="p">])</span><span class="o">.</span>\
        <span class="n">group_by</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div></div><p><span class="yiyi-st" id="yiyi-356">&#x4F8B;3&#xFF0C;&#x4F7F;&#x7528;&#x5E26;CTE&#x7684;UPDATE&#x548C;INSERT&#x7684;upsert&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>orders = table(
    &apos;orders&apos;,
    column(&apos;region&apos;),
    column(&apos;amount&apos;),
    column(&apos;product&apos;),
    column(&apos;quantity&apos;)
)

upsert = (
    orders.update()
    .where(orders.c.region == &apos;Region1&apos;)
    .values(amount=1.0, product=&apos;Product1&apos;, quantity=1)
    .returning(*(orders.c._all_columns)).cte(&apos;upsert&apos;))

insert = orders.insert().from_select(
    orders.c.keys(),
    select([
        literal(&apos;Region1&apos;), literal(1.0),
        literal(&apos;Product1&apos;), literal(1)
    ).where(exists(upsert.select()))
)

connection.execute(insert)</pre></div></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-357">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-358"><a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.cte" title="sqlalchemy.orm.query.Query.cte"><code class="xref py py-meth docutils literal"><span class="pre">orm.query.Query.cte()</span></code></a>  -  <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal"><span class="pre">HasCTE.cte()</span></code></a>&#x7684;ORM&#x7248;&#x672C;&#x3002;</span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.Insert.dialect_kwargs"><span class="yiyi-st" id="yiyi-359"><code class="descname"> dialect_kwargs  T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.dialect_kwargs" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-360"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">dialect_kwargs</span></code></a> <em>&#x5C5E;&#x6027;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-361">&#x6307;&#x5B9A;&#x4E3A;&#x6B64;&#x6784;&#x9020;&#x7684;&#x65B9;&#x8A00;&#x7279;&#x5B9A;&#x9009;&#x9879;&#x7684;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x7684;&#x96C6;&#x5408;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-362">&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x5728;&#x5B83;&#x4EEC;&#x7684;&#x539F;&#x59CB;<code class="docutils literal"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>&#x683C;&#x5F0F;&#x4E2D;&#x5448;&#x73B0;&#x3002;</span><span class="yiyi-st" id="yiyi-363">&#x53EA;&#x5305;&#x62EC;&#x5B9E;&#x9645;&#x901A;&#x8FC7;&#x7684;&#x8BBA;&#x70B9;&#xFF1B;&#x4E0D;&#x540C;&#x4E8E;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_options</span></code></a>&#x96C6;&#x5408;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x6B64;&#x65B9;&#x8A00;&#x5DF2;&#x77E5;&#x7684;&#x6240;&#x6709;&#x9009;&#x9879;&#xFF0C;&#x5305;&#x62EC;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-364">&#x8BE5;&#x96C6;&#x5408;&#x4E5F;&#x662F;&#x53EF;&#x5199;&#x7684;&#xFF1B;&#x952E;&#x88AB;&#x63A5;&#x53D7;&#x4E3A;&#x5F62;&#x5F0F;<code class="docutils literal"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>&#xFF0C;&#x5176;&#x4E2D;&#x503C;&#x5C06;&#x88AB;&#x7EC4;&#x5408;&#x5230;&#x9009;&#x9879;&#x5217;&#x8868;&#x4E2D;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-365"><span class="versionmodified">&#x7248;&#x672C;0.9.2&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-366"><span class="versionmodified">&#x5728;&#x7248;&#x672C;0.9.4&#x4E2D;&#x66F4;&#x6539;&#xFF1A;</span> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>&#x96C6;&#x5408;&#x73B0;&#x5728;&#x53EF;&#x5199;&#x5165;&#x3002;</span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-367">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-368"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.Insert.dialect_options"><span class="yiyi-st" id="yiyi-369"><code class="descname"> dialect_options  T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.dialect_options" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-370"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal"><span class="pre">dialect_options</span></code></a> <em>&#x5C5E;&#x6027;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-371">&#x6307;&#x5B9A;&#x4E3A;&#x6B64;&#x6784;&#x9020;&#x7684;&#x65B9;&#x8A00;&#x7279;&#x5B9A;&#x9009;&#x9879;&#x7684;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x7684;&#x96C6;&#x5408;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-372">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4E24;&#x7EA7;&#x5D4C;&#x5957;&#x6CE8;&#x518C;&#x8868;&#xFF0C;&#x952E;&#x5165;<code class="docutils literal"><span class="pre">&lt;dialect_name&gt;</span></code>&#x548C;<code class="docutils literal"><span class="pre">&lt;argument_name&gt;</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-373">&#x4F8B;&#x5982;&#xFF0C;<code class="docutils literal"><span class="pre">postgresql_where</span></code>&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x5B9A;&#x4F4D;&#x4E3A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&apos;postgresql&apos;</span><span class="p">][</span><span class="s1">&apos;where&apos;</span><span class="p">]</span></pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-374"><span class="versionmodified">&#x7248;&#x672C;0.9.2&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-375">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-376"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.execute"><span class="yiyi-st" id="yiyi-377"><code class="descname">&#x6267;&#x884C; tt&gt; <span class="sig-paren">&#xFF08;</span> <em>* multiparams</em>&#xFF0C;<em>** params</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.execute" title="Permalink to this definition">T5&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-378"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execute" title="sqlalchemy.sql.expression.Executable.execute"><code class="xref py py-meth docutils literal"><span class="pre">execute()</span></code></a> <em>&#x65B9;&#x6CD5;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-379">&#x7F16;&#x8BD1;&#x5E76;&#x6267;&#x884C;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.execution_options"><span class="yiyi-st" id="yiyi-380"><code class="descname"> execution_options  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> **&#x5343;&#x74E6; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.execution_options" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-381"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">execution_options()</span></code></a> <em>&#x65B9;&#x6CD5; tt&gt; <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a></em></span></div><p><span class="yiyi-st" id="yiyi-382">&#x4E3A;&#x6267;&#x884C;&#x671F;&#x95F4;&#x751F;&#x6548;&#x7684;&#x8BED;&#x53E5;&#x8BBE;&#x7F6E;&#x975E;SQL&#x9009;&#x9879;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-383">&#x6267;&#x884C;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x8BED;&#x53E5;&#x6216;&#x6BCF;&#x4E2A;<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x8BBE;&#x7F6E;&#x3002;</span><span class="yiyi-st" id="yiyi-384">&#x6B64;&#x5916;&#xFF0C;<a class="reference internal" href="connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>&#x548C;ORM <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x63D0;&#x4F9B;&#x5BF9;&#x6267;&#x884C;&#x9009;&#x9879;&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x800C;&#x8FD9;&#x4E9B;&#x6267;&#x884C;&#x9009;&#x9879;&#x5728;&#x8FDE;&#x63A5;&#x65F6;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-385"><a class="reference internal" href="#sqlalchemy.sql.expression.Insert.execution_options" title="sqlalchemy.sql.expression.Insert.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">execution_options()</span></code></a>&#x65B9;&#x6CD5;&#x662F;&#x751F;&#x6210;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-386">&#x8FD4;&#x56DE;&#x6B64;&#x8BED;&#x53E5;&#x7684;&#x65B0;&#x5B9E;&#x4F8B;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x4EE5;&#x4E0B;&#x9009;&#x9879;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y</span><span class="p">])</span>
<span class="n">statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">execution_options</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-387">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x90E8;&#x5206;&#x53EF;&#x80FD;&#x7684;&#x6267;&#x884C;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x4E8E;&#x8BED;&#x53E5; - &#x8FD9;&#x4E9B;&#x9009;&#x9879;&#x5305;&#x62EC;&#x201C;autocommit&#x201D;&#x548C;&#x201C;stream_results&#x201D;&#xFF0C;&#x4F46;&#x4E0D;&#x5305;&#x62EC;&#x201C;isolation_level&#x201D;&#x6216;&#x201C;c&#x200B;&#x200B;ompiled_cache&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-388">&#x6709;&#x5173;&#x53EF;&#x80FD;&#x7684;&#x9009;&#x9879;&#x7684;&#x5B8C;&#x6574;&#x5217;&#x8868;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execution_options()</span></code></a>&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-389">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-390"><a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execution_options()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-391"><a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.execution_options" title="sqlalchemy.orm.query.Query.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Query.execution_options()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.from_select"><span class="yiyi-st" id="yiyi-392"> <code class="descname">from_select</code><span class="sig-paren">(</span><em>names</em>, <em>select</em>, <em>include_defaults=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.from_select" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-393">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x4EE3;&#x8868;<code class="docutils literal"><span class="pre">INSERT ... FROM</span> <span class="pre">SELECT</span></code>&#x8BED;&#x53E5;&#x7684;&#x65B0;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x7ED3;&#x6784;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-394">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">sel</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">b</span><span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">c</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">ins</span> <span class="o">=</span> <span class="n">table2</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">from_select</span><span class="p">([</span><span class="s1">&apos;a&apos;</span><span class="p">,</span> <span class="s1">&apos;b&apos;</span><span class="p">],</span> <span class="n">sel</span><span class="p">)</span></pre></div></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-395">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-396"><span class="target" id="sqlalchemy.sql.expression.Insert.from_select.params.names"></span><strong>names</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.from_select.params.names">&#xB6;</a> &#x2013; a sequence of string column names or <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> objects representing the target columns.</span></li><li><span class="yiyi-st" id="yiyi-397"><span class="target" id="sqlalchemy.sql.expression.Insert.from_select.params.select"></span><strong>select</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.from_select.params.select">&#xB6;</a> &#x2013; a <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a> construct, <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal"><span class="pre">FromClause</span></code></a> or other construct which resolves into a <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal"><span class="pre">FromClause</span></code></a>, such as an ORM <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a> object, etc. </span><span class="yiyi-st" id="yiyi-398">&#x4ECE;&#x6B64;FROM&#x5B50;&#x53E5;&#x8FD4;&#x56DE;&#x7684;&#x5217;&#x7684;&#x987A;&#x5E8F;&#x5E94;&#x4E0E;&#x4F5C;&#x4E3A;<code class="docutils literal"><span class="pre">names</span></code>&#x53C2;&#x6570;&#x53D1;&#x9001;&#x7684;&#x5217;&#x987A;&#x5E8F;&#x76F8;&#x5BF9;&#x5E94;&#xFF1B;&#x867D;&#x7136;&#x5728;&#x4F20;&#x9012;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E4B;&#x524D;&#x6CA1;&#x6709;&#x68C0;&#x67E5;&#x8FC7;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x8FD9;&#x4E9B;&#x5217;&#x5217;&#x8868;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x901A;&#x5E38;&#x4F1A;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-403"><span class="target" id="sqlalchemy.sql.expression.Insert.from_select.params.include_defaults"></span> <strong>include_defaults</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.from_select.params.include_defaults">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-399">&#x5982;&#x679C;&#x4E3A;True&#xFF0C;&#x5219;&#x5728;&#x540D;&#x79F0;&#x5217;&#x8868;&#x4E2D;&#x672A;&#x6307;&#x5B9A;&#x7684;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x5BF9;&#x8C61;&#xFF08;&#x5982;<a class="reference internal" href="defaults.html"><span>Column Insert/Update Defaults</span></a>&#x4E2D;&#x6240;&#x8FF0;&#xFF09;&#x6307;&#x5B9A;&#x7684;&#x975E;&#x670D;&#x52A1;&#x5668;&#x9ED8;&#x8BA4;&#x503C;&#x548C;SQL&#x8868;&#x8FBE;&#x5F0F;&#x5C06;&#x5448;&#x73B0;&#x5230;INSERT&#x548C;SELECT&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x4EE5;&#x4FBF;&#x8FD9;&#x4E9B;&#x503C;&#x4E5F;&#x5305;&#x542B;&#x5728;&#x8981;&#x63D2;&#x5165;&#x7684;&#x6570;&#x636E;&#x4E2D;&#x3002;</span></p><div class="admonition note"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-400">&#x6CE8;&#x610F;</span></p><p class="last"><span class="yiyi-st" id="yiyi-401">&#x4E00;&#x4E2A;&#x4F7F;&#x7528;Python&#x53EF;&#x8C03;&#x7528;&#x51FD;&#x6570;&#x7684;Python&#x65B9;&#x9762;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x53EA;&#x4F1A;&#x5728;&#x6574;&#x4E2A;&#x8BED;&#x53E5;&#x4E2D;&#x8C03;&#x7528;<strong>&#x4E00;&#x6B21;</strong>&#xFF0C;&#x800C;<strong>&#x4E0D;&#x662F;&#x6BCF;&#x884C;</strong>&#x3002;</span></p></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-402"><span class="versionmodified">&#x7248;&#x672C;1.0.0&#x4E2D;&#x7684;&#x65B0;&#x589E;&#x529F;&#x80FD;&#xFF1A;</span>  -  <a class="reference internal" href="#sqlalchemy.sql.expression.Insert.from_select" title="sqlalchemy.sql.expression.Insert.from_select"><code class="xref py py-meth docutils literal"><span class="pre">Insert.from_select()</span></code></a>&#x73B0;&#x5728;&#x5C06;Python&#x7AEF;&#x548C;SQL&#x8868;&#x8FBE;&#x5F0F;&#x5217;&#x9ED8;&#x8BA4;&#x503C;&#x663E;&#x793A;&#x4E3A;SELECT&#x8BED;&#x53E5;&#x4E2D;&#x7684;&#x5217;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x5305;&#x542B;&#x5728;&#x5217;&#x8868;&#x4E2D;&#x5217;&#x540D;&#x79F0;&#x3002;</span></p></div></li></ul></td></tr></tbody></table><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-404"><span class="versionmodified">&#x5728;&#x7248;&#x672C;1.0.0&#x4E2D;&#x66F4;&#x6539;&#xFF1A;</span>&#x4F7F;&#x7528;FROM SELECT&#x7684;INSERT&#x610F;&#x5473;&#x7740;<a class="reference internal" href="#sqlalchemy.sql.expression.insert.params.inline" title="sqlalchemy.sql.expression.insert"><code class="xref py py-paramref docutils literal"><span class="pre">insert.inline</span></code></a>&#x6807;&#x5FD7;&#x8BBE;&#x7F6E;&#x4E3A;True&#xFF0C;&#x8868;&#x793A;&#x8BE5;&#x8BED;&#x53E5;&#x4E0D;&#x4F1A;&#x5C1D;&#x8BD5;&#x83B7;&#x53D6;&#x201C;&#x6700;&#x540E;&#x63D2;&#x5165;&#x7684;&#x4E3B;&#x952E;&#x201C;&#x6216;&#x5176;&#x4ED6;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-405">&#x8BE5;&#x8BED;&#x53E5;&#x5904;&#x7406;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x884C;&#xFF0C;&#x56E0;&#x6B64;<a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.inserted_primary_key" title="sqlalchemy.engine.ResultProxy.inserted_primary_key"><code class="xref py py-attr docutils literal"><span class="pre">ResultProxy.inserted_primary_key</span></code></a>&#x8BBF;&#x95EE;&#x5668;&#x4E0D;&#x9002;&#x7528;&#x3002;</span></p></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-406"><span class="versionmodified">0.8.3&#x7248;&#x672C;&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.Insert.kwargs"><span class="yiyi-st" id="yiyi-407"><code class="descname"> kwargs  T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.kwargs" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-408"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal"><span class="pre">kwargs</span></code></a> <em>&#x5C5E;&#x6027;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-409"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>&#x7684;&#x540C;&#x4E49;&#x8BCD;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.params"><span class="yiyi-st" id="yiyi-410"> <code class="descname">params</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.params" title="Permalink to this definition">&#xB6;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-411"> <em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.params" title="sqlalchemy.sql.expression.UpdateBase.params"><code class="xref py py-meth docutils literal"><span class="pre">params()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-412">&#x8BBE;&#x7F6E;&#x8BED;&#x53E5;&#x7684;&#x53C2;&#x6570;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-413">&#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x57FA;&#x7C7B;&#x4E0A;&#x5F15;&#x53D1;<code class="docutils literal"><span class="pre">NotImplementedError</span></code>&#xFF0C;&#x5E76;&#x7531;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal"><span class="pre">ValuesBase</span></code></a>&#x8986;&#x76D6;&#xFF0C;&#x4EE5;&#x63D0;&#x4F9B;UPDATE&#x548C;INSERT&#x7684;SET / VALUES&#x5B50;&#x53E5;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.prefix_with"><span class="yiyi-st" id="yiyi-414"><code class="descname">prefix_with</code> <span class="sig-paren">&#xFF08;</span> <em>* expr</em>&#xFF0C;<em>** kw</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.prefix_with" title="Permalink to this definition">T5&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-415"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes.prefix_with" title="sqlalchemy.sql.expression.HasPrefixes.prefix_with"><code class="xref py py-meth docutils literal"><span class="pre">prefix_with()</span></code></a> <em>&#x65B9;&#x6CD5; <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes" title="sqlalchemy.sql.expression.HasPrefixes"><code class="xref py py-class docutils literal"><span class="pre">HasPrefixes</span></code></a></em></span></div><p><span class="yiyi-st" id="yiyi-416">&#x5728;&#x8BED;&#x53E5;&#x5173;&#x952E;&#x5B57;&#x540E;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5373;</span><span class="yiyi-st" id="yiyi-417">SELECT&#xFF0C;INSERT&#xFF0C;UPDATE&#x6216;DELETE&#x3002;</span><span class="yiyi-st" id="yiyi-418">&#x751F;&#x6210;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-419">&#x8FD9;&#x7528;&#x4E8E;&#x652F;&#x6301;&#x540E;&#x7AEF;&#x7279;&#x5B9A;&#x7684;&#x524D;&#x7F00;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x4F8B;&#x5982;&#x7531;MySQL&#x63D0;&#x4F9B;&#x7684;&#x524D;&#x7F00;&#x5173;&#x952E;&#x5B57;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-420">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">prefix_with</span><span class="p">(</span><span class="s2">&quot;LOW_PRIORITY&quot;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;mysql&quot;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-421">&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x591A;&#x6B21;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert.prefix_with" title="sqlalchemy.sql.expression.Insert.prefix_with"><code class="xref py py-meth docutils literal"><span class="pre">prefix_with()</span></code></a>&#x6765;&#x6307;&#x5B9A;&#x591A;&#x4E2A;&#x524D;&#x7F00;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-422">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-423"><span class="target" id="sqlalchemy.sql.expression.Insert.prefix_with.params.*expr"></span><strong>*expr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.prefix_with.params.*expr">&#xB6;</a> &#x2013; textual or <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a> construct which will be rendered following the INSERT, UPDATE, or DELETE keyword.</span></li><li><span class="yiyi-st" id="yiyi-424"><span class="target" id="sqlalchemy.sql.expression.Insert.prefix_with.params.**kw"></span> <strong>** kw</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.prefix_with.params.**kw">&#xB6;</a>  - &#x63A5;&#x53D7;&#x5355;&#x4E2A;&#x5173;&#x952E;&#x5B57;&apos;dialect&apos;&#x3002;</span><span class="yiyi-st" id="yiyi-425">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x65B9;&#x8A00;&#x540D;&#x79F0;&#xFF0C;&#x5B83;&#x5C06;&#x9650;&#x5236;&#x5C06;&#x8BE5;&#x524D;&#x7F00;&#x7684;&#x5448;&#x73B0;&#x4EC5;&#x9650;&#x4E8E;&#x8BE5;&#x65B9;&#x8A00;&#x3002;</span></li></ul></td></tr></tbody></table></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.return_defaults"><span class="yiyi-st" id="yiyi-426"><code class="descname"> return_defaults  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * COLS  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.return_defaults" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-427"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">return_defaults()</span></code></a> <em>&#x65B9;&#x6CD5;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal"><span class="pre">ValuesBase</span></code></a></em></span></div><p><span class="yiyi-st" id="yiyi-428">&#x5229;&#x7528;<a class="reference internal" href="glossary.html#term-returning"><span class="xref std std-term">RETURNING</span></a>&#x5B50;&#x53E5;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x8868;&#x8FBE;&#x5F0F;&#x548C;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-429">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&apos;newdata&apos;</span><span class="p">)</span><span class="o">.</span><span class="n">return_defaults</span><span class="p">()</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>

<span class="n">server_created_at</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">returned_defaults</span><span class="p">[</span><span class="s1">&apos;created_at&apos;</span><span class="p">]</span></pre></div></div><p><span class="yiyi-st" id="yiyi-430">&#x5F53;&#x7528;&#x4E8E;&#x652F;&#x6301;RETURNING&#x7684;&#x540E;&#x7AEF;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x540C;&#x65F6;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.returning()</span></code></a>&#xFF0C;&#x5219;&#x7531;SQL&#x8868;&#x8FBE;&#x5F0F;&#x6216;server-side-default&#x751F;&#x6210;&#x7684;&#x6240;&#x6709;&#x5217;&#x503C;&#x5C06;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x4EFB;&#x4F55;&#x73B0;&#x6709;&#x7684;RETURNING&#x5B50;&#x53E5;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-431">&#x7136;&#x540E;&#xFF0C;&#x4F7F;&#x7528;<a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.returned_defaults" title="sqlalchemy.engine.ResultProxy.returned_defaults"><code class="xref py py-attr docutils literal"><span class="pre">ResultProxy.returned_defaults</span></code></a>&#x5B58;&#x53D6;&#x5668;&#x4F5C;&#x4E3A;&#x5B57;&#x5178;&#xFF0C;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x5728;&#x7ED3;&#x679C;&#x4E0A;&#x4F7F;&#x7528;&#x5217;&#x503C;&#xFF0C;&#x8BE5;&#x503C;&#x6307;&#x7684;&#x662F;&#x952E;&#x5165;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x5BF9;&#x8C61;&#x53CA;&#x5176;<code class="docutils literal"><span class="pre">.key</span></code></span></p><p><span class="yiyi-st" id="yiyi-432">&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x4E0E;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.returning()</span></code></a>&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#xFF1A;</span></p><ol class="arabic simple"><li><span class="yiyi-st" id="yiyi-433"><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>&#x4EC5;&#x7528;&#x4E8E;&#x4E0E;&#x4E00;&#x884C;&#x5339;&#x914D;&#x7684;INSERT&#x6216;UPDATE&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-434">&#x5C3D;&#x7BA1;&#x4E00;&#x822C;&#x610F;&#x4E49;&#x4E0A;&#x7684;RETURNING&#x6784;&#x9020;&#x652F;&#x6301;&#x591A;&#x884C;UPDATE&#x6216;DELETE&#x8BED;&#x53E5;&#x7684;&#x591A;&#x884C;&#xFF0C;&#x6216;&#x8005;&#x5BF9;&#x4E8E;&#x8FD4;&#x56DE;&#x591A;&#x884C;&#x7684;INSERT&#x7684;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x6765;&#x81EA;SELECT&#xFF0C;&#x591A;&#x503C;VALUES&#x5B50;&#x53E5;&#x7684;INSERT&#xFF09;&#xFF0C;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>&#x4EC5;&#x7528;&#x4E8E;&#x201C;ORM&#x6837;&#x5F0F;&#x201D;&#x5355;&#x884C;INSERT / UPDATE&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-435">&#x5F53;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>&#x65F6;&#xFF0C;&#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x7684;&#x884C;&#x4E5F;&#x4F1A;&#x9690;&#x5F0F;&#x6D88;&#x8017;&#x3002;</span><span class="yiyi-st" id="yiyi-436">By contrast, <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.returning()</span></code></a> leaves the RETURNING result-set intact with a collection of any number of rows.</span></li><li><span class="yiyi-st" id="yiyi-437">&#x5B83;&#x4E0E;&#x73B0;&#x6709;&#x903B;&#x8F91;&#x517C;&#x5BB9;&#xFF0C;&#x4EE5;&#x83B7;&#x53D6;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x4E3B;&#x952E;&#x503C;&#xFF0C;&#x4E5F;&#x79F0;&#x4E3A;&#x201C;&#x9690;&#x5F0F;&#x8FD4;&#x56DE;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-438">&#x652F;&#x6301;RETURNING&#x7684;&#x540E;&#x7AEF;&#x5C06;&#x81EA;&#x52A8;&#x4F7F;&#x7528;RETURNING&#x6765;&#x83B7;&#x53D6;&#x65B0;&#x751F;&#x6210;&#x7684;&#x4E3B;&#x952E;&#x503C;&#xFF1B;&#x800C;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.returning()</span></code></a>&#x65B9;&#x6CD5;&#x7ED5;&#x8FC7;&#x4E86;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#xFF0C;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-439">&#x5B83;&#x53EF;&#x4EE5;&#x88AB;&#x79F0;&#x4E3A;&#x53CD;&#x5BF9;&#x4EFB;&#x4F55;&#x540E;&#x7AEF;&#x3002;</span><span class="yiyi-st" id="yiyi-440">&#x4E0D;&#x652F;&#x6301;RETURNING&#x7684;&#x540E;&#x7AEF;&#x5C06;&#x8DF3;&#x8FC7;&#x529F;&#x80FD;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x3002;</span><span class="yiyi-st" id="yiyi-441"><a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.returned_defaults" title="sqlalchemy.engine.ResultProxy.returned_defaults"><code class="xref py py-attr docutils literal"><span class="pre">ResultProxy.returned_defaults</span></code></a>&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x5C06;&#x4E3A;<code class="docutils literal"><span class="pre">None</span></code></span></li></ol><p><span class="yiyi-st" id="yiyi-442"><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a> is used by the ORM to provide an efficient implementation for the <code class="docutils literal"><span class="pre">eager_defaults</span></code> feature of <a class="reference internal" href="orm_mapping_api.html#sqlalchemy.orm.mapper" title="sqlalchemy.orm.mapper"><code class="xref py py-func docutils literal"><span class="pre">mapper()</span></code></a>.</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-443">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><span class="yiyi-st" id="yiyi-444"><span class="target" id="sqlalchemy.sql.expression.Insert.return_defaults.params.cols"></span><strong>cols</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.return_defaults.params.cols">&#xB6;</a> &#x2013; optional list of column key names or <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> objects. </span><span class="yiyi-st" id="yiyi-445">&#x5982;&#x679C;&#x7701;&#x7565;&#xFF0C;&#x5219;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8BC4;&#x4F30;&#x7684;&#x6240;&#x6709;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x90FD;&#x5C06;&#x6DFB;&#x52A0;&#x5230;&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x3002;</span></td></tr></tbody></table><div class="versionadded"><p><span class="yiyi-st" id="yiyi-446"><span class="versionmodified">&#x7248;&#x672C;0.9.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-447">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-448"><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.returning()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-449"><a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.returned_defaults" title="sqlalchemy.engine.ResultProxy.returned_defaults"><code class="xref py py-attr docutils literal"><span class="pre">ResultProxy.returned_defaults</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.returning"><span class="yiyi-st" id="yiyi-450"><code class="descname">&#x8FD4;&#x56DE; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * COLS  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.returning" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-451"> <em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">returning()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-452">&#x5728;&#x6B64;&#x8BED;&#x53E5;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;<a class="reference internal" href="glossary.html#term-returning"><span class="xref std std-term">RETURNING</span></a>&#x6216;&#x7B49;&#x540C;&#x7684;&#x5B50;&#x53E5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-453">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span>\
          <span class="n">where</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&apos;value&apos;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">values</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&apos;X&apos;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">returning</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">server_flag</span><span class="p">,</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">updated_timestamp</span><span class="p">)</span>

<span class="k">for</span> <span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span> <span class="ow">in</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-454">&#x7ED9;&#x5B9A;&#x7684;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x96C6;&#x5408;&#x5E94;&#x8BE5;&#x4ECE;&#x4F5C;&#x4E3A;INSERT&#xFF0C;UPDATE&#x6216;DELETE&#x76EE;&#x6807;&#x7684;&#x8868;&#x4E2D;&#x6D3E;&#x751F;&#x3002;</span><span class="yiyi-st" id="yiyi-455">&#x867D;&#x7136;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x5BF9;&#x8C61;&#x662F;&#x5178;&#x578B;&#x7684;&#xFF0C;&#x4F46;&#x5143;&#x7D20;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">returning</span><span class="p">(</span>
    <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">first_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">last_name</span><span class="p">)</span><span class="o">.</span>
    <span class="n">label</span><span class="p">(</span><span class="s1">&apos;fullname&apos;</span><span class="p">))</span></pre></div></div><p><span class="yiyi-st" id="yiyi-456">&#x7F16;&#x8BD1;&#x540E;&#xFF0C;&#x5C06;&#x5728;&#x8BED;&#x53E5;&#x4E2D;&#x5448;&#x73B0;RETURNING&#x5B50;&#x53E5;&#x6216;&#x6570;&#x636E;&#x5E93;&#x7B49;&#x6548;&#x9879;&#x3002;</span><span class="yiyi-st" id="yiyi-457">&#x5BF9;&#x4E8E;INSERT&#x548C;UPDATE&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x662F;&#x65B0;&#x63D2;&#x5165;/&#x66F4;&#x65B0;&#x7684;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-458">&#x5BF9;&#x4E8E;DELETE&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x662F;&#x90A3;&#x4E9B;&#x88AB;&#x5220;&#x9664;&#x7684;&#x884C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-459">&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x5217;&#x7684;&#x503C;&#x901A;&#x8FC7;&#x7ED3;&#x679C;&#x96C6;&#x53EF;&#x7528;&#xFF0C;&#x5E76;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.fetchone" title="sqlalchemy.engine.ResultProxy.fetchone"><code class="xref py py-meth docutils literal"><span class="pre">ResultProxy.fetchone()</span></code></a>&#x548C;&#x7C7B;&#x4F3C;&#x7684;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x8FED;&#x4EE3;&#x3002;</span><span class="yiyi-st" id="yiyi-460">&#x5BF9;&#x4E8E;&#x672C;&#x8EAB;&#x4E0D;&#x652F;&#x6301;&#x8FD4;&#x56DE;&#x503C;&#x7684;DBAPI&#xFF08;&#x5373;cx_oracle&#xFF09;&#xFF0C;SQLAlchemy&#x5C06;&#x5728;&#x7ED3;&#x679C;&#x7EA7;&#x63A5;&#x8FD1;&#x6B64;&#x884C;&#x4E3A;&#xFF0C;&#x4EE5;&#x4FBF;&#x63D0;&#x4F9B;&#x5408;&#x7406;&#x7684;&#x884C;&#x4E3A;&#x4E2D;&#x7ACB;&#x6027;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-461">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5E76;&#x975E;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;/ DBAPI&#x90FD;&#x652F;&#x6301;RETURNING&#x3002;</span><span class="yiyi-st" id="yiyi-462">&#x5BF9;&#x4E8E;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x540E;&#x7AEF;&#xFF0C;&#x7F16;&#x8BD1;&#x548C;/&#x6216;&#x6267;&#x884C;&#x65F6;&#x4F1A;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x3002;</span><span class="yiyi-st" id="yiyi-463">&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x652F;&#x6301;&#x5B83;&#x7684;&#x4EBA;&#x6765;&#x8BF4;&#xFF0C;&#x540E;&#x7AEF;&#x7684;&#x529F;&#x80FD;&#x5DEE;&#x5F02;&#x5F88;&#x5927;&#xFF0C;&#x5305;&#x62EC;&#x5BF9;executemany()&#x548C;&#x5176;&#x4ED6;&#x8FD4;&#x56DE;&#x591A;&#x884C;&#x7684;&#x8BED;&#x53E5;&#x7684;&#x9650;&#x5236;&#x3002;</span><span class="yiyi-st" id="yiyi-464">&#x8BF7;&#x9605;&#x8BFB;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x6863;&#x8BF4;&#x660E;&#xFF0C;&#x4EE5;&#x786E;&#x5B9A;RETURNING&#x7684;&#x53EF;&#x7528;&#x6027;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-465">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-466"><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>  - &#x9488;&#x5BF9;&#x5355;&#x4E2A;&#x884C;INSERT&#x6216;UPDATE&#x7684;&#x9AD8;&#x6548;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x9ED8;&#x8BA4;&#x503C;&#x548C;&#x89E6;&#x53D1;&#x5668;&#x7684;&#x4E00;&#x79CD;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#x3002;</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.scalar"><span class="yiyi-st" id="yiyi-467"><code class="descname">&#x6807;&#x91CF;</code> <span class="sig-paren">&#xFF08;</span> <em>* multiparams</em>&#xFF0C;<em>** params</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.scalar" title="Permalink to this definition">T5&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-468"> <em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.scalar" title="sqlalchemy.sql.expression.Executable.scalar"><code class="xref py py-meth docutils literal"><span class="pre">scalar()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-469">&#x7F16;&#x8BD1;&#x5E76;&#x6267;&#x884C;&#x6B64;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a>&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x6807;&#x91CF;&#x8868;&#x793A;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.self_group"><span class="yiyi-st" id="yiyi-470"><code class="descname"> self_group  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x9488;&#x5BF9;=&#x65E0; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.self_group" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-471"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.self_group" title="sqlalchemy.sql.expression.ClauseElement.self_group"><code class="xref py py-meth docutils literal"><span class="pre">self_group()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-472">&#x5BF9;&#x8FD9;&#x4E2A;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x5E94;&#x7528;&#x201C;&#x5206;&#x7EC4;&#x201D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-473">&#x5B50;&#x7C7B;&#x91CD;&#x5199;&#x6B64;&#x65B9;&#x6CD5;&#x4EE5;&#x8FD4;&#x56DE;&#x201C;&#x5206;&#x7EC4;&#x201D;&#x7ED3;&#x6784;&#xFF0C;&#x5373;&#x62EC;&#x53F7;&#x3002;</span><span class="yiyi-st" id="yiyi-474">In particular it&#x2019;s used by &#x201C;binary&#x201D; expressions to provide a grouping around themselves when placed into a larger expression, as well as by <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a> constructs when placed into the FROM clause of another <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>. </span><span class="yiyi-st" id="yiyi-475">&#xFF08;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x901A;&#x5E38;&#x5E94;&#x4F7F;&#x7528;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Select.alias" title="sqlalchemy.sql.expression.Select.alias"><code class="xref py py-meth docutils literal"><span class="pre">Select.alias()</span></code></a>&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x5B50;&#x67E5;&#x8BE2;&#xFF0C;&#x56E0;&#x4E3A;&#x8BB8;&#x591A;&#x5E73;&#x53F0;&#x9700;&#x8981;&#x547D;&#x540D;&#x5D4C;&#x5957;&#x7684;SELECT&#x8BED;&#x53E5;&#xFF09;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-476">&#x7531;&#x4E8E;&#x8868;&#x8FBE;&#x5F0F;&#x7EC4;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x6240;&#x4EE5;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert.self_group" title="sqlalchemy.sql.expression.Insert.self_group"><code class="xref py py-meth docutils literal"><span class="pre">self_group()</span></code></a>&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x662F;&#x81EA;&#x52A8;&#x7684; - &#x6700;&#x7EC8;&#x7528;&#x6237;&#x4EE3;&#x7801;&#x4E0D;&#x9700;&#x8981;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-477">Note that SQLAlchemy&#x2019;s clause constructs take operator precedence into account - so parenthesis might not be needed, for example, in an expression like <code class="docutils literal"><span class="pre">x</span> <span class="pre">OR</span> <span class="pre">(y</span> <span class="pre">AND</span> <span class="pre">z)</span></code> - AND takes precedence over OR.</span></p><p><span class="yiyi-st" id="yiyi-478"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x7684;base <a class="reference internal" href="#sqlalchemy.sql.expression.Insert.self_group" title="sqlalchemy.sql.expression.Insert.self_group"><code class="xref py py-meth docutils literal"><span class="pre">self_group()</span></code></a>&#x65B9;&#x6CD5;&#x4EC5;&#x8FD4;&#x56DE;self&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.unique_params"><span class="yiyi-st" id="yiyi-479"><code class="descname">unique_params</code> <span class="sig-paren">&#xFF08;</span> <em>* optionaldict</em>&#xFF0C;<em>** kwargs</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.unique_params" title="Permalink to this definition">T5&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-480"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.unique_params" title="sqlalchemy.sql.expression.ClauseElement.unique_params"><code class="xref py py-meth docutils literal"><span class="pre">unique_params()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-481">&#x8FD4;&#x56DE;&#x5E26;&#x6709;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.bindparam" title="sqlalchemy.sql.expression.bindparam"><code class="xref py py-func docutils literal"><span class="pre">bindparam()</span></code></a>&#x5143;&#x7D20;&#x7684;&#x526F;&#x672C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-482">&#x4E0E;<code class="docutils literal"><span class="pre">params()</span></code>&#x529F;&#x80FD;&#x76F8;&#x540C;&#xFF0C;&#x9664;&#x4E86;&#x5C06;<cite>unique = True</cite>&#x6DFB;&#x52A0;&#x5230;&#x53D7;&#x5F71;&#x54CD;&#x7684;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x4EE5;&#x4FBF;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x591A;&#x4E2A;&#x8BED;&#x53E5;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.values"><span class="yiyi-st" id="yiyi-483"><code class="descname">&#x503C;</code> <span class="sig-paren">&#xFF08;</span> <em>* args</em>&#xFF0C;<em>** kwargs</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Insert.values" title="Permalink to this definition">T5&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-484"> <em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal"><span class="pre">values()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal"><span class="pre">ValuesBase</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-485">&#x4E3A;INSERT&#x8BED;&#x53E5;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x7684;VALUES&#x5B50;&#x53E5;&#xFF0C;&#x6216;&#x8005;&#x4E3A;UPDATE&#x6307;&#x5B9A;&#x4E00;&#x4E2A;SET&#x5B50;&#x53E5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-486">Note that the <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a> and <a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a> constructs support per-execution time formatting of the VALUES and/or SET clauses, based on the arguments passed to <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execute()</span></code></a>. </span><span class="yiyi-st" id="yiyi-487">&#x4F46;&#x662F;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.values()</span></code></a>&#x65B9;&#x6CD5;&#x5C06;&#x7279;&#x5B9A;&#x7684;&#x4E00;&#x7EC4;&#x53C2;&#x6570;&#x201C;&#x4FEE;&#x590D;&#x201D;&#x5230;&#x8BED;&#x53E5;&#x4E2D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-488">&#x591A;&#x6B21;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.values()</span></code></a>&#x5C06;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x6BCF;&#x4E2A;&#x7ED3;&#x6784;&#x90FD;&#x4FEE;&#x6539;&#x53C2;&#x6570;&#x5217;&#x8868;&#x4EE5;&#x5305;&#x542B;&#x53D1;&#x9001;&#x7684;&#x65B0;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-489">&#x5728;&#x5355;&#x4E2A;&#x53C2;&#x6570;&#x5B57;&#x5178;&#x7684;&#x5178;&#x578B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x65B0;&#x4F20;&#x9012;&#x7684;&#x952E;&#x5C06;&#x66FF;&#x6362;&#x4EE5;&#x524D;&#x6784;&#x9020;&#x4E2D;&#x7684;&#x76F8;&#x540C;&#x952E;&#x3002;</span><span class="yiyi-st" id="yiyi-490">&#x5728;&#x57FA;&#x4E8E;&#x5217;&#x8868;&#x7684;&#x201C;&#x591A;&#x503C;&#x201D;&#x7ED3;&#x6784;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6BCF;&#x4E2A;&#x65B0;&#x7684;&#x503C;&#x5217;&#x8868;&#x90FD;&#x88AB;&#x6269;&#x5C55;&#x5230;&#x73B0;&#x6709;&#x7684;&#x503C;&#x5217;&#x8868;&#x4E2D;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-491">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-493"><span class="target" id="sqlalchemy.sql.expression.Insert.values.params.**kwargs"></span> <strong>** kwargs</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.values.params.**kwargs">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-492">&#x952E;&#x503C;&#x5BF9;&#x8868;&#x793A;&#x6620;&#x5C04;&#x5230;&#x8981;&#x5448;&#x73B0;&#x5230;VALUES&#x6216;SET&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x503C;&#x7684;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x952E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;some name&quot;</span><span class="p">)</span>

<span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">users</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="o">==</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;some name&quot;</span><span class="p">)</span></pre></div></div></li><li><span class="yiyi-st" id="yiyi-514"><span class="target" id="sqlalchemy.sql.expression.Insert.values.params.*args"></span> <strong>* args</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.values.params.*args">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-494">&#x4F5C;&#x4E3A;&#x4F20;&#x9012;&#x952E;/&#x503C;&#x53C2;&#x6570;&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#xFF0C;&#x5B57;&#x5178;&#xFF0C;&#x5143;&#x7EC4;&#x6216;&#x5B57;&#x5178;&#x6216;&#x5143;&#x7EC4;&#x5217;&#x8868;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x5355;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x4F20;&#x9012;&#xFF0C;&#x4EE5;&#x5F62;&#x6210;&#x8BED;&#x53E5;&#x7684;VALUES&#x6216;SET&#x5B50;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-495">&#x63A5;&#x53D7;&#x7684;&#x8868;&#x5355;&#x6839;&#x636E;&#x662F;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x8FD8;&#x662F;<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a>&#x7ED3;&#x6784;&#x800C;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-496">&#x5BF9;&#x4E8E;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x6216;<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a>&#x7ED3;&#x6784;&#xFF0C;&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x5355;&#x4E2A;&#x5B57;&#x5178;&#xFF0C;&#x5176;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x4E0E;kwargs&#x8868;&#x5355;&#x76F8;&#x540C;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some name&quot;</span><span class="p">})</span>

<span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some new name&quot;</span><span class="p">})</span></pre></div></div><p><span class="yiyi-st" id="yiyi-497">&#x5BF9;&#x4E8E;&#x4EFB;&#x4F55;&#x4E00;&#x79CD;&#x5F62;&#x5F0F;&#xFF0C;&#x4F46;&#x5BF9;&#x4E8E;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x6784;&#x9020;&#x66F4;&#x5178;&#x578B;&#xFF0C;&#x4E5F;&#x63A5;&#x53D7;&#x5305;&#x542B;&#x8868;&#x4E2D;&#x6BCF;&#x5217;&#x7684;&#x6761;&#x76EE;&#x7684;&#x5143;&#x7EC4;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;some name&quot;</span><span class="p">))</span></pre></div></div><p><span class="yiyi-st" id="yiyi-498"><a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x7ED3;&#x6784;&#x8FD8;&#x652F;&#x6301;&#x4F20;&#x9012;&#x5B57;&#x5178;&#x6216;&#x5168;&#x8868;&#x5143;&#x7EC4;&#x5217;&#x8868;&#xFF0C;&#x8FD9;&#x4E9B;&#x5143;&#x7EC4;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5C06;&#x5448;&#x73B0;&#x4E0D;&#x592A;&#x5E38;&#x89C1;&#x7684;&#x201C;&#x591A;&#x503C;&#x201D;SQL&#x8BED;&#x6CD5; - &#x540E;&#x7AEF;&#x652F;&#x6301;&#x6B64;&#x8BED;&#x6CD5;&#xFF0C;&#x5982;SQLite&#xFF0C;Postgresql&#xFF0C;MySQL&#xFF0C;&#x4F46;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x5176;&#x4ED6;&#x7684;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">([</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some name&quot;</span><span class="p">},</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some other name&quot;</span><span class="p">},</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;yet another name&quot;</span><span class="p">},</span>
                <span class="p">])</span></pre></div></div><p><span class="yiyi-st" id="yiyi-499">&#x4E0A;&#x9762;&#x7684;&#x8868;&#x5355;&#x5C06;&#x5448;&#x73B0;&#x591A;&#x4E2A;VALUES&#x8BED;&#x53E5;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>INSERT INTO users (name) VALUES
                (:name_1),
                (:name_2),
                (:name_3)</pre></div></div><p><span class="yiyi-st" id="yiyi-500">It is essential to note that <strong>passing multiple values is NOT the same as using traditional executemany() form</strong>. </span><span class="yiyi-st" id="yiyi-501">&#x4E0A;&#x9762;&#x7684;&#x8BED;&#x6CD5;&#x662F;&#x4E0D;&#x5E38;&#x7528;&#x7684;<strong>&#x7279;&#x6B8A;</strong>&#x8BED;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-502">&#x8981;&#x9488;&#x5BF9;&#x591A;&#x884C;&#x53D1;&#x51FA;INSERT&#x8BED;&#x53E5;&#xFF0C;&#x5E38;&#x89C4;&#x65B9;&#x6CD5;&#x662F;&#x5C06;&#x591A;&#x4E2A;&#x503C;&#x5217;&#x8868;&#x4F20;&#x9012;&#x7ED9;<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execute()</span></code></a>&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x7531;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;&#x540E;&#x7AEF;&#x652F;&#x6301;&#xFF0C;&#x5E76;&#x4E14;&#x901A;&#x5E38;&#x5BF9;&#x4E8E;&#x975E;&#x5E38;&#x9AD8;&#x6548;&#x7684;&#x5927;&#x91CF;&#x7684;&#x53C2;&#x6570;&#x3002;</span></p><blockquote><div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-503">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-504"><a class="reference internal" href="tutorial.html#execute-multiple"><span>Executing Multiple Statements</span></a>  - &#x4ECB;&#x7ECD;&#x7528;&#x4E8E;INSERT&#x548C;&#x5176;&#x4ED6;&#x8BED;&#x53E5;&#x7684;&#x591A;&#x53C2;&#x6570;&#x96C6;&#x8C03;&#x7528;&#x7684;&#x4F20;&#x7EDF;Core&#x65B9;&#x6CD5;&#x3002;</span></p></div><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-505"><span class="versionmodified">&#x7248;&#x672C;1.0.0&#x4E2D;&#x5DF2;&#x66F4;&#x6539;&#xFF1A;</span>&#x4F7F;&#x7528;&#x591A;&#x4E2A;VALUES&#x5B50;&#x53E5;&#xFF08;&#x5373;&#x4F7F;&#x662F;&#x957F;&#x5EA6;&#x4E3A;1&#x7684;&#x5217;&#x8868;&#xFF09;&#x7684;INSERT&#x610F;&#x5473;&#x7740;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert.params.inline" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-paramref docutils literal"><span class="pre">Insert.inline</span></code></a>&#x6807;&#x5FD7;&#x8BBE;&#x7F6E;&#x4E3A;True&#xFF0C;&#x8868;&#x660E;&#x8BE5;&#x8BED;&#x53E5;&#x4E0D;&#x4F1A;&#x5C1D;&#x8BD5;&#x83B7;&#x53D6;&#x201C;&#x6700;&#x540E;&#x63D2;&#x5165;&#x7684;&#x4E3B;&#x952E;&#x201D;&#x6216;&#x5176;&#x4ED6;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-506">&#x8BE5;&#x8BED;&#x53E5;&#x5904;&#x7406;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x884C;&#xFF0C;&#x56E0;&#x6B64;<a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.inserted_primary_key" title="sqlalchemy.engine.ResultProxy.inserted_primary_key"><code class="xref py py-attr docutils literal"><span class="pre">ResultProxy.inserted_primary_key</span></code></a>&#x8BBF;&#x95EE;&#x5668;&#x4E0D;&#x9002;&#x7528;&#x3002;</span></p></div><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-507"><span class="versionmodified">&#x5728;1.0.0&#x7248;&#x672C;&#x4E2D;&#x5DF2;&#x66F4;&#x6539;&#xFF1A;</span>&#x591A;&#x503C;&#x63D2;&#x5165;&#x73B0;&#x5728;&#x652F;&#x6301;&#x5177;&#x6709;Python&#x4FA7;&#x7F3A;&#x7701;&#x503C;&#x548C;&#x53EF;&#x8C03;&#x53C2;&#x6570;&#x7684;&#x5217;&#xFF0C;&#x65B9;&#x5F0F;&#x4E0E;&#x201C;executemany&#x201D;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x76F8;&#x540C;&#xFF1B;&#x53EF;&#x8C03;&#x7528;&#x7684;&#x662F;&#x6BCF;&#x884C;&#x8C03;&#x7528;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-508">&#x5BF9;&#x4E8E;&#x5176;&#x4ED6;&#x7EC6;&#x8282;&#xFF0C;&#x5F53;&#x4F7F;&#x7528;&#x591A;&#x503C;&#x63D2;&#x5165;&#x65F6;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="changelog_migration_10.html#bug-3288"><span>Python-side defaults invoked for each row invidually when using a multivalued insert</span></a></span></p></div></div></blockquote><p><span class="yiyi-st" id="yiyi-509"><a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a>&#x7ED3;&#x6784;&#x652F;&#x6301;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x4E2A;2&#x5143;&#x7EC4;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x5F53;&#x63D0;&#x4F9B;&#x7684;&#x65F6;&#x5019;&#x5FC5;&#x987B;&#x548C;<a class="reference internal" href="#sqlalchemy.sql.expression.update.params.preserve_parameter_order" title="sqlalchemy.sql.expression.update"><code class="xref py py-paramref docutils literal"><span class="pre">preserve_parameter_order</span></code></a>&#x53C2;&#x6570;&#x4E00;&#x8D77;&#x4F20;&#x9012;&#x3002;</span><span class="yiyi-st" id="yiyi-510">&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x5BFC;&#x81F4;UPDATE&#x8BED;&#x53E5;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.Update.values" title="sqlalchemy.sql.expression.Update.values"><code class="xref py py-meth docutils literal"><span class="pre">Update.values()</span></code></a>&#x7ED9;&#x51FA;&#x7684;&#x53C2;&#x6570;&#x987A;&#x5E8F;&#x6765;&#x5448;&#x73B0;SET&#x5B50;&#x53E5;&#xFF0C;&#x800C;&#x4E0D;&#x662F;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x4E2D;&#x7ED9;&#x51FA;&#x7684;&#x5217;&#x7684;&#x987A;&#x5E8F;&#x3002;</span></p><blockquote><div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-511"><span class="versionmodified">&#x7248;&#x672C;1.0.10&#x4E2D;&#x7684;&#x65B0;&#x589E;&#x529F;&#x80FD;&#xFF1A;</span>  - &#x901A;&#x8FC7;<a class="reference internal" href="#sqlalchemy.sql.expression.update.params.preserve_parameter_order" title="sqlalchemy.sql.expression.update"><code class="xref py py-paramref docutils literal"><span class="pre">preserve_parameter_order</span></code></a>&#x6807;&#x5FD7;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x53C2;&#x6570;&#x6392;&#x5E8F;&#x7684;UPDATE&#x8BED;&#x53E5;&#x7684;&#x652F;&#x6301;&#x3002;</span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-512">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-513"><a class="reference internal" href="tutorial.html#updates-order-parameters"><span>Parameter-Ordered Updates</span></a>  -  <a class="reference internal" href="#sqlalchemy.sql.expression.update.params.preserve_parameter_order" title="sqlalchemy.sql.expression.update"><code class="xref py py-paramref docutils literal"><span class="pre">preserve_parameter_order</span></code></a>&#x6807;&#x5FD7;&#x7684;&#x5B8C;&#x6574;&#x793A;&#x4F8B;</span></p></div></div></blockquote></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-515">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-516"><a class="reference internal" href="tutorial.html#inserts-and-updates"><span>Inserts, Updates and Deletes</span></a>  -  SQL&#x8868;&#x8FBE;&#x5F0F;&#x8BED;&#x8A00;&#x6559;&#x7A0B;</span></p><p><span class="yiyi-st" id="yiyi-517"><a class="reference internal" href="#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><code class="xref py py-func docutils literal"><span class="pre">insert()</span></code></a>  - &#x4EA7;&#x751F;&#x4E00;&#x4E2A;<code class="docutils literal"><span class="pre">INSERT</span></code>&#x8BED;&#x53E5;</span></p><p class="last"><span class="yiyi-st" id="yiyi-518"><a class="reference internal" href="#sqlalchemy.sql.expression.update" title="sqlalchemy.sql.expression.update"><code class="xref py py-func docutils literal"><span class="pre">update()</span></code></a>  - &#x4EA7;&#x751F;&#x4E00;&#x4E2A;<code class="docutils literal"><span class="pre">UPDATE</span></code>&#x8BED;&#x53E5;</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Insert.with_hint"><span class="yiyi-st" id="yiyi-519"> <code class="descname">with_hint</code><span class="sig-paren">(</span><em>text</em>, <em>selectable=None</em>, <em>dialect_name=&apos;*&apos;</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.with_hint" title="Permalink to this definition">&#xB6;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-520"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint" title="sqlalchemy.sql.expression.UpdateBase.with_hint"><code class="xref py py-meth docutils literal"><span class="pre">with_hint()</span></code></a> <em>&#x65B9;&#x6CD5;</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-521">&#x4E3A;&#x8FD9;&#x4E2A;INSERT / UPDATE / DELETE&#x8BED;&#x53E5;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x8868;&#x63D0;&#x793A;&#x7ED9;&#x5355;&#x4E2A;&#x8868;&#x3002;</span></p><div class="admonition note"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-522">&#x6CE8;&#x610F;</span></p><p class="last"><span class="yiyi-st" id="yiyi-523"><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint" title="sqlalchemy.sql.expression.UpdateBase.with_hint"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.with_hint()</span></code></a> currently applies only to Microsoft SQL Server. </span><span class="yiyi-st" id="yiyi-524">&#x5BF9;&#x4E8E;MySQL INSERT / UPDATE / DELETE&#x63D0;&#x793A;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.prefix_with" title="sqlalchemy.sql.expression.UpdateBase.prefix_with"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.prefix_with()</span></code></a>&#x3002;</span></p></div><p><span class="yiyi-st" id="yiyi-525">The text of the hint is rendered in the appropriate location for the database backend in use, relative to the <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> that is the subject of this statement, or optionally to that of the given <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> passed as the <code class="docutils literal"><span class="pre">selectable</span></code> argument.</span></p><p><span class="yiyi-st" id="yiyi-526">The <code class="docutils literal"><span class="pre">dialect_name</span></code> option will limit the rendering of a particular hint to a particular backend. </span><span class="yiyi-st" id="yiyi-527">&#x4F8B;&#x5982;&#xFF0C;&#x6DFB;&#x52A0;&#x4EC5;&#x5BF9;SQL Server&#x6709;&#x6548;&#x7684;&#x63D0;&#x793A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">mytable</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">with_hint</span><span class="p">(</span><span class="s2">&quot;WITH (PAGLOCK)&quot;</span><span class="p">,</span> <span class="n">dialect_name</span><span class="o">=</span><span class="s2">&quot;mssql&quot;</span><span class="p">)</span></pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-528"><span class="versionmodified">New in version 0.7.6.</span></span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-529">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-530"><span class="target" id="sqlalchemy.sql.expression.Insert.with_hint.params.text"></span> <strong>&#x6587;&#x672C;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.with_hint.params.text">&#xB6;</a>  - &#x63D0;&#x793A;&#x7684;&#x6587;&#x672C;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-531"><span class="target" id="sqlalchemy.sql.expression.Insert.with_hint.params.selectable"></span><strong>selectable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.with_hint.params.selectable">&#xB6;</a> &#x2013; optional <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> that specifies an element of the FROM clause within an UPDATE or DELETE to be the subject of the hint - applies only to certain backends.</span></li><li><span class="yiyi-st" id="yiyi-532"><span class="target" id="sqlalchemy.sql.expression.Insert.with_hint.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.with_hint.params.dialect_name">&#xB6;</a> &#x2013; defaults to <code class="docutils literal"><span class="pre">*</span></code>, if specified as the name of a particular dialect, will apply these hints only when that dialect is in use.</span></li></ul></td></tr></tbody></table></dd></dl></dd></dl><dl class="class"><dt id="sqlalchemy.sql.expression.Update"><span class="yiyi-st" id="yiyi-533"> <em class="property">class </em><code class="descclassname">sqlalchemy.sql.expression.</code><code class="descname">Update</code><span class="sig-paren">(</span><em>table</em>, <em>whereclause=None</em>, <em>values=None</em>, <em>inline=False</em>, <em>bind=None</em>, <em>prefixes=None</em>, <em>returning=None</em>, <em>return_defaults=False</em>, <em>preserve_parameter_order=False</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-534">&#x57FA;&#x7840;&#xFF1A;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.sql.expression.ValuesBase</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-535">&#x8868;&#x793A;&#x66F4;&#x65B0;&#x6784;&#x9020;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-536"><a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a>&#x5BF9;&#x8C61;&#x662F;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.update" title="sqlalchemy.sql.expression.update"><code class="xref py py-func docutils literal"><span class="pre">update()</span></code></a>&#x51FD;&#x6570;&#x521B;&#x5EFA;&#x7684;&#x3002;</span></p><dl class="method"><dt id="sqlalchemy.sql.expression.Update.__init__"><span class="yiyi-st" id="yiyi-537"> <code class="descname">__init__</code><span class="sig-paren">(</span><em>table</em>, <em>whereclause=None</em>, <em>values=None</em>, <em>inline=False</em>, <em>bind=None</em>, <em>prefixes=None</em>, <em>returning=None</em>, <em>return_defaults=False</em>, <em>preserve_parameter_order=False</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.__init__" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-538">&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-539">&#x8FD9;&#x4E2A;&#x6784;&#x9020;&#x51FD;&#x6570;&#x88AB;&#x955C;&#x50CF;&#x4E3A;&#x516C;&#x5171;API&#x51FD;&#x6570;&#xFF1B;&#x6709;&#x5173;&#x5B8C;&#x6574;&#x7684;&#x7528;&#x6CD5;&#x548C;&#x53C2;&#x6570;&#x8BF4;&#x660E;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="#sqlalchemy.sql.expression.update" title="sqlalchemy.sql.expression.update"><code class="xref py py-func docutils literal"><span class="pre">update()</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.argument_for"><span class="yiyi-st" id="yiyi-540"><code class="descname">argument_for</code> <span class="sig-paren">&#xFF08;</span> <em>dialect_name</em>&#xFF0C;<em>argument_name</em>&#xFF0C;<em>&#x9ED8;&#x8BA4;</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Update.argument_for" title="Permalink to this definition">&#xB6; T6&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-541"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal"><span class="pre">argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-542">&#x4E3A;&#x6B64;&#x8BFE;&#x7A0B;&#x6DFB;&#x52A0;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x7279;&#x5B9A;&#x4E8E;&#x65B9;&#x8A00;&#x7684;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-543">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&apos;a&apos;</span><span class="p">,</span> <span class="s1">&apos;b&apos;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-544">The <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument way adding extra arguments to the <a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal"><span class="pre">DefaultDialect.construct_arguments</span></code></a> dictionary. </span><span class="yiyi-st" id="yiyi-545">&#x8FD9;&#x672C;&#x8BCD;&#x5178;&#x63D0;&#x4F9B;&#x4E86;&#x4EE3;&#x8868;&#x65B9;&#x8A00;&#x7684;&#x5404;&#x79CD;&#x6A21;&#x5F0F;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x6240;&#x63A5;&#x53D7;&#x7684;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x5217;&#x8868;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-546">&#x65B0;&#x65B9;&#x8A00;&#x901A;&#x5E38;&#x5E94;&#x8BE5;&#x4E00;&#x6B21;&#x6027;&#x5C06;&#x8BE5;&#x5B57;&#x5178;&#x6307;&#x5B9A;&#x4E3A;&#x65B9;&#x8A00;&#x7C7B;&#x7684;&#x6570;&#x636E;&#x6210;&#x5458;&#x3002;</span><span class="yiyi-st" id="yiyi-547">&#x7528;&#x4E8E;&#x4E34;&#x65F6;&#x6DFB;&#x52A0;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x7684;&#x7528;&#x4F8B;&#x901A;&#x5E38;&#x7528;&#x4E8E;&#x6700;&#x7EC8;&#x7528;&#x6237;&#x4EE3;&#x7801;&#xFF0C;&#x8BE5;&#x4EE3;&#x7801;&#x4E5F;&#x4F7F;&#x7528;&#x4E86;&#x4F7F;&#x7528;&#x989D;&#x5916;&#x53C2;&#x6570;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x7F16;&#x8BD1;&#x65B9;&#x6848;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-548">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-549"><span class="target" id="sqlalchemy.sql.expression.Update.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.argument_for.params.dialect_name">&#xB6;</a> &#x2013; name of a dialect. </span><span class="yiyi-st" id="yiyi-550">The dialect must be locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal"><span class="pre">NoSuchModuleError</span></code></a> is raised. </span><span class="yiyi-st" id="yiyi-551">&#x8BE5;&#x65B9;&#x8A00;&#x8FD8;&#x5FC5;&#x987B;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x73B0;&#x6709;&#x7684;<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal"><span class="pre">DefaultDialect.construct_arguments</span></code></a>&#x96C6;&#x5408;&#xFF0C;&#x6307;&#x793A;&#x5B83;&#x53C2;&#x4E0E;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;&#x548C;&#x9ED8;&#x8BA4;&#x7CFB;&#x7EDF;&#xFF0C;&#x5426;&#x5219;&#x5F15;&#x53D1;<a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal"><span class="pre">ArgumentError</span></code></a>&#x3002;</span><span class="yiyi-st" id="yiyi-552">&#x5982;&#x679C;&#x65B9;&#x8A00;&#x4E0D;&#x5305;&#x62EC;&#x8FD9;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x90A3;&#x4E48;&#x4EFB;&#x4F55;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x90FD;&#x53EF;&#x4EE5;&#x4EE3;&#x8868;&#x8FD9;&#x4E2A;&#x65B9;&#x8A00;&#x6307;&#x5B9A;&#x3002;</span><span class="yiyi-st" id="yiyi-553">&#x6240;&#x6709;&#x5305;&#x542B;&#x5728;SQLAlchemy&#x4E2D;&#x7684;&#x65B9;&#x8A00;&#x90FD;&#x5305;&#x542B;&#x8FD9;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x7B2C;&#x4E09;&#x65B9;&#x65B9;&#x8A00;&#xFF0C;&#x652F;&#x6301;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-554"><span class="target" id="sqlalchemy.sql.expression.Update.argument_for.params.argument_name"></span> <strong>argument_name</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.argument_for.params.argument_name">&#xB6;</a>  - &#x53C2;&#x6570;&#x7684;&#x540D;&#x79F0;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-555"><span class="target" id="sqlalchemy.sql.expression.Update.argument_for.params.default"></span> <strong>&#x9ED8;&#x8BA4;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.argument_for.params.default">&#xB6;</a>  - &#x53C2;&#x6570;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span></li></ul></td></tr></tbody></table><div class="versionadded"><p><span class="yiyi-st" id="yiyi-556"><span class="versionmodified">&#x7248;&#x672C;0.9.4&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.Update.bind"><span class="yiyi-st" id="yiyi-557"><code class="descname">&#x7ED3;&#x5408; T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Update.bind" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-558"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.bind" title="sqlalchemy.sql.expression.UpdateBase.bind"><code class="xref py py-attr docutils literal"><span class="pre">bind</span></code></a> <em>&#x5C5E;&#x6027;</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-559">&#x8FD4;&#x56DE;&#x4E0E;&#x6B64;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a>&#x6216;&#x4E0E;&#x4E4B;&#x5173;&#x8054;&#x7684;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x7684;&#x201C;&#x7ED1;&#x5B9A;&#x201D;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.compare"><span class="yiyi-st" id="yiyi-560"><code class="descname">&#x6BD4;&#x8F83;</code> <span class="sig-paren">&#xFF08;</span> <em>&#x5176;&#x4ED6;</em>&#xFF0C;<em>** kw</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Update.compare" title="Permalink to this definition"> t5 &gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-561"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compare" title="sqlalchemy.sql.expression.ClauseElement.compare"><code class="xref py py-meth docutils literal"><span class="pre">compare()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-562">&#x5C06;&#x6B64;ClauseElement&#x4E0E;&#x7ED9;&#x5B9A;&#x7684;ClauseElement&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-563">&#x5B50;&#x7C7B;&#x5E94;&#x8BE5;&#x8986;&#x76D6;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x76F4;&#x63A5;&#x7684;&#x8EAB;&#x4EFD;&#x6BD4;&#x8F83;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-564">** kw&#x662F;&#x7531;subclass compare()&#x65B9;&#x6CD5;&#x6D88;&#x8017;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x4FEE;&#x6539;&#x6BD4;&#x8F83;&#x6761;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-565">&#xFF08;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal"><span class="pre">ColumnElement</span></code></a>&#xFF09;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.compile"><span class="yiyi-st" id="yiyi-566"><code class="descname">&#x7F16;&#x8BD1;</code> <span class="sig-paren">&#xFF08;</span> <em>bind = None</em>&#xFF0C;<em>dialect = None</em>&#xFF0C;<em>** kw</em> <span class="sig-paren">&#xFF09; T5&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Update.compile" title="Permalink to this definition">&#xB6; T6&gt;</a></span></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-567"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compile" title="sqlalchemy.sql.expression.ClauseElement.compile"><code class="xref py py-meth docutils literal"><span class="pre">compile()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-568">&#x7F16;&#x8BD1;&#x8FD9;&#x4E2A;SQL&#x8868;&#x8FBE;&#x5F0F;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-569">&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x4E2A;<a class="reference internal" href="internals.html#sqlalchemy.engine.interfaces.Compiled" title="sqlalchemy.engine.interfaces.Compiled"><code class="xref py py-class docutils literal"><span class="pre">Compiled</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-570">&#x5BF9;&#x8FD4;&#x56DE;&#x503C;&#x8C03;&#x7528;<code class="docutils literal"><span class="pre">str()</span></code>&#x6216;<code class="docutils literal"><span class="pre">unicode()</span></code>&#x5C06;&#x4EA7;&#x751F;&#x7ED3;&#x679C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-571"><a class="reference internal" href="internals.html#sqlalchemy.engine.interfaces.Compiled" title="sqlalchemy.engine.interfaces.Compiled"><code class="xref py py-class docutils literal"><span class="pre">Compiled</span></code></a>&#x5BF9;&#x8C61;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">params</span></code>&#x8BBF;&#x95EE;&#x5668;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x548C;&#x503C;&#x7684;&#x5B57;&#x5178;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-572">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-573"><span class="target" id="sqlalchemy.sql.expression.Update.compile.params.bind"></span><strong>bind</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.compile.params.bind">&#xB6;</a> &#x2013; An <code class="docutils literal"><span class="pre">Engine</span></code> or <code class="docutils literal"><span class="pre">Connection</span></code> from which a <code class="docutils literal"><span class="pre">Compiled</span></code> will be acquired. </span><span class="yiyi-st" id="yiyi-574">&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4F18;&#x5148;&#x4E8E;&#x8FD9;&#x4E2A;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x7684;&#x7ED1;&#x5B9A;&#x5F15;&#x64CE;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x7684;&#x8BDD;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-575"><span class="target" id="sqlalchemy.sql.expression.Update.compile.params.column_keys"></span><strong>column_keys</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.compile.params.column_keys">&#xB6;</a> &#x2013; Used for INSERT and UPDATE statements, a list of column names which should be present in the VALUES clause of the compiled statement. </span><span class="yiyi-st" id="yiyi-576">&#x5982;&#x679C;<code class="docutils literal"><span class="pre">None</span></code>&#xFF0C;&#x5219;&#x5448;&#x73B0;&#x76EE;&#x6807;&#x8868;&#x683C;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5217;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-577"><span class="target" id="sqlalchemy.sql.expression.Update.compile.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.compile.params.dialect">&#xB6;</a> &#x2013; A <code class="docutils literal"><span class="pre">Dialect</span></code> instance from which a <code class="docutils literal"><span class="pre">Compiled</span></code> will be acquired. </span><span class="yiyi-st" id="yiyi-578">&#x8BE5;&#x53C2;&#x6570;&#x4F18;&#x5148;&#x4E8E;<cite>bind</cite>&#x53C2;&#x6570;&#x4EE5;&#x53CA;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x7684;&#x7ED1;&#x5B9A;&#x5F15;&#x64CE;&#xFF08;&#x5982;&#x679C;&#x6709;&#x7684;&#x8BDD;&#xFF09;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-579"><span class="target" id="sqlalchemy.sql.expression.Update.compile.params.inline"></span><strong>inline</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.compile.params.inline">&#xB6;</a> &#x2013; Used for INSERT statements, for a dialect which does not support inline retrieval of newly generated primary key columns, will force the expression used to create the new primary key value to be rendered inline within the INSERT statement&#x2019;s VALUES clause. </span><span class="yiyi-st" id="yiyi-580">&#x8FD9;&#x901A;&#x5E38;&#x662F;&#x6307;&#x5E8F;&#x5217;&#x6267;&#x884C;&#xFF0C;&#x4F46;&#x4E5F;&#x53EF;&#x80FD;&#x6307;&#x4E0E;&#x4E3B;&#x952E;<cite>Column</cite>&#x5173;&#x8054;&#x7684;&#x4EFB;&#x4F55;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x9ED8;&#x8BA4;&#x751F;&#x6210;&#x51FD;&#x6570;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-585"><span class="target" id="sqlalchemy.sql.expression.Update.compile.params.compile_kwargs"></span> <strong>compile_kwargs</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.compile.params.compile_kwargs">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-581">&#x5728;&#x6240;&#x6709;&#x201C;&#x8BBF;&#x95EE;&#x201D;&#x65B9;&#x6CD5;&#x4E2D;&#x5C06;&#x4F20;&#x9012;&#x7ED9;&#x7F16;&#x8BD1;&#x5668;&#x7684;&#x9644;&#x52A0;&#x53C2;&#x6570;&#x7684;&#x53EF;&#x9009;&#x5B57;&#x5178;&#x3002;</span><span class="yiyi-st" id="yiyi-582">&#x4F8B;&#x5982;&#xFF0C;&#x8FD9;&#x5141;&#x8BB8;&#x5C06;&#x81EA;&#x5B9A;&#x4E49;&#x6807;&#x5FD7;&#x4F20;&#x9012;&#x7ED9;&#x81EA;&#x5B9A;&#x4E49;&#x7F16;&#x8BD1;&#x6784;&#x9020;&#x3002;</span><span class="yiyi-st" id="yiyi-583">&#x5B83;&#x4E5F;&#x7528;&#x4E8E;&#x4F20;&#x9012;<code class="docutils literal"><span class="pre">literal_binds</span></code>&#x6807;&#x5FD7;&#x7684;&#x60C5;&#x51B5;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.sql</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">select</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s1">&apos;t&apos;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s1">&apos;x&apos;</span><span class="p">))</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">t</span><span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>

<span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">compile_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;literal_binds&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">})</span></pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-584"><span class="versionmodified">&#x7248;&#x672C;0.9.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-586">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-587"><a class="reference internal" href="faq_sqlexpressions.html#faq-sql-expression-string"><span>How do I render SQL expressions as strings, possibly with bound parameters inlined?</span></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.cte"><span class="yiyi-st" id="yiyi-588"> <code class="descname">cte</code><span class="sig-paren">(</span><em>name=None</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.cte" title="Permalink to this definition">&#xB6;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-589"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal"><span class="pre">cte()</span></code></a> <em>&#x65B9;&#x6CD5;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal"><span class="pre">HasCTE</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-590">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal"><span class="pre">CTE</span></code></a>&#x6216;&#x516C;&#x5171;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x5B9E;&#x4F8B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-591">&#x516C;&#x7528;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x4E00;&#x79CD;SQL&#x6807;&#x51C6;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;&#x201C;WITH&#x201D;&#x7684;&#x5B50;&#x53E5;&#xFF0C;SELECT&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0E;&#x4E3B;&#x8BED;&#x53E5;&#x4E00;&#x8D77;&#x6307;&#x5B9A;&#x7684;&#x6B21;&#x8981;&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-592">&#x6709;&#x5173;UNION&#x7684;&#x7279;&#x6B8A;&#x8BED;&#x4E49;&#x4E5F;&#x53EF;&#x7528;&#x4E8E;&#x5141;&#x8BB8;&#x201C;&#x9012;&#x5F52;&#x201D;&#x67E5;&#x8BE2;&#xFF0C;&#x5176;&#x4E2D;SELECT&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x5728;&#x5148;&#x524D;&#x5DF2;&#x9009;&#x62E9;&#x7684;&#x4E00;&#x7EC4;&#x884C;&#x4E0A;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-593">CTE&#x4E5F;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x4E8E;DML&#x6784;&#x9020;&#x5BF9;&#x67D0;&#x4E9B;&#x6570;&#x636E;&#x5E93;&#x7684;UPDATE&#xFF0C;INSERT&#x548C;DELETE&#xFF0C;&#x4E0E;RETURNING&#x4E00;&#x8D77;&#x4F5C;&#x4E3A;CTE&#x884C;&#x7684;&#x6765;&#x6E90;&#x4EE5;&#x53CA;CTE&#x884C;&#x7684;&#x4F7F;&#x7528;&#x8005;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-594">SQLAlchemy&#x5C06;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal"><span class="pre">CTE</span></code></a>&#x5BF9;&#x8C61;&#x68C0;&#x6D4B;&#x4E3A;&#x4E0E;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal"><span class="pre">Alias</span></code></a>&#x5BF9;&#x8C61;&#x7C7B;&#x4F3C;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x4F5C;&#x4E3A;&#x8981;&#x4F20;&#x9012;&#x5230;&#x8BED;&#x53E5;&#x7684;FROM&#x5B50;&#x53E5;&#x7684;&#x7279;&#x6B8A;&#x5143;&#x7D20;&#x4EE5;&#x53CA;&#x9876;&#x90E8;&#x7684;WITH&#x5B50;&#x53E5;&#x7684;&#x58F0;&#x660E;&#x3002;</span></p><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-595"><span class="versionmodified">&#x5728;&#x7248;&#x672C;1.1&#x4E2D;&#x8FDB;&#x884C;&#x4E86;&#x66F4;&#x6539;&#xFF1A;</span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;CTE&#xFF0C;CTE&#x6DFB;&#x52A0;&#x5230;UPDATE / INSERT / DELETE&#x7684;UPDATE / INSERT / DELETE&#x7684;&#x652F;&#x6301;&#x3002;</span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-596">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-597"><span class="target" id="sqlalchemy.sql.expression.Update.cte.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.cte.params.name">&#xB6;</a> &#x2013; name given to the common table expression. </span><span class="yiyi-st" id="yiyi-598">&#x50CF;<code class="xref py py-meth docutils literal"><span class="pre">_FromClause.alias()</span></code>&#x4E00;&#x6837;&#xFF0C;&#x540D;&#x79F0;&#x53EF;&#x4EE5;&#x4FDD;&#x7559;&#x4E3A;<code class="docutils literal"><span class="pre">None</span></code>&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x67E5;&#x8BE2;&#x7F16;&#x8BD1;&#x65F6;&#x5C06;&#x4F7F;&#x7528;&#x533F;&#x540D;&#x7B26;&#x53F7;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-599"><span class="target" id="sqlalchemy.sql.expression.Update.cte.params.recursive"></span><strong>recursive</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.cte.params.recursive">&#xB6;</a> &#x2013; if <code class="docutils literal"><span class="pre">True</span></code>, will render <code class="docutils literal"><span class="pre">WITH</span> <span class="pre">RECURSIVE</span></code>. </span><span class="yiyi-st" id="yiyi-600">&#x9012;&#x5F52;&#x516C;&#x7528;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x65E8;&#x5728;&#x4E0E;UNION ALL&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x4EE5;&#x4FBF;&#x4ECE;&#x5DF2;&#x9009;&#x62E9;&#x7684;&#x884C;&#x4E2D;&#x6D3E;&#x751F;&#x884C;&#x3002;</span></li></ul></td></tr></tbody></table><p><span class="yiyi-st" id="yiyi-601">&#x4EE5;&#x4E0B;&#x793A;&#x4F8B;&#x5305;&#x542B;&#x4E24;&#x7BC7;&#x6765;&#x81EA;Postgresql&#x7684;&#x6587;&#x6863;&#xFF0C;&#x4F4D;&#x4E8E;<a class="reference external" href="http://www.postgresql.org/docs/current/static/queries-with.html">http://www.postgresql.org/docs/current/static/queries-with.html</a>&#x4EE5;&#x53CA;&#x5176;&#x4ED6;&#x793A;&#x4F8B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-602">&#x4F8B;1&#xFF0C;&#x975E;&#x9012;&#x5F52;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">orders</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&apos;orders&apos;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;region&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;amount&apos;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;product&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;quantity&apos;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">regional_sales</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&apos;total_sales&apos;</span><span class="p">)</span>
                <span class="p">])</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;regional_sales&quot;</span><span class="p">)</span>


<span class="n">top_regions</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span><span class="o">.</span>\
        <span class="n">where</span><span class="p">(</span>
            <span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span> <span class="o">&gt;</span>
            <span class="n">select</span><span class="p">([</span>
                <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span>
            <span class="p">])</span>
        <span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;top_regions&quot;</span><span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_units&quot;</span><span class="p">),</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_sales&quot;</span><span class="p">)</span>
    <span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span>
        <span class="n">select</span><span class="p">([</span><span class="n">top_regions</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span>
    <span class="p">))</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span> <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div></div><p><span class="yiyi-st" id="yiyi-603">&#x4F8B;2&#xFF0C;&#x4E0E;RECURSIVE&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">parts</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&apos;parts&apos;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;part&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;sub_part&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;quantity&apos;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">included_parts</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">])</span><span class="o">.</span>\
                    <span class="n">where</span><span class="p">(</span><span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="s1">&apos;our part&apos;</span><span class="p">)</span><span class="o">.</span>\
                    <span class="n">cte</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>


<span class="n">incl_alias</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">parts_alias</span> <span class="o">=</span> <span class="n">parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">included_parts</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">union_all</span><span class="p">(</span>
    <span class="n">select</span><span class="p">([</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>
    <span class="p">])</span><span class="o">.</span>
        <span class="n">where</span><span class="p">(</span><span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="n">incl_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span>
              <span class="n">label</span><span class="p">(</span><span class="s1">&apos;total_quantity&apos;</span><span class="p">)</span>
        <span class="p">])</span><span class="o">.</span>\
        <span class="n">group_by</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div></div><p><span class="yiyi-st" id="yiyi-604">&#x4F8B;3&#xFF0C;&#x4F7F;&#x7528;&#x5E26;CTE&#x7684;UPDATE&#x548C;INSERT&#x7684;upsert&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>orders = table(
    &apos;orders&apos;,
    column(&apos;region&apos;),
    column(&apos;amount&apos;),
    column(&apos;product&apos;),
    column(&apos;quantity&apos;)
)

upsert = (
    orders.update()
    .where(orders.c.region == &apos;Region1&apos;)
    .values(amount=1.0, product=&apos;Product1&apos;, quantity=1)
    .returning(*(orders.c._all_columns)).cte(&apos;upsert&apos;))

insert = orders.insert().from_select(
    orders.c.keys(),
    select([
        literal(&apos;Region1&apos;), literal(1.0),
        literal(&apos;Product1&apos;), literal(1)
    ).where(exists(upsert.select()))
)

connection.execute(insert)</pre></div></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-605">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-606"><a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.cte" title="sqlalchemy.orm.query.Query.cte"><code class="xref py py-meth docutils literal"><span class="pre">orm.query.Query.cte()</span></code></a>  -  <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal"><span class="pre">HasCTE.cte()</span></code></a>&#x7684;ORM&#x7248;&#x672C;&#x3002;</span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.Update.dialect_kwargs"><span class="yiyi-st" id="yiyi-607"><code class="descname"> dialect_kwargs  T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Update.dialect_kwargs" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-608"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">dialect_kwargs</span></code></a> <em>&#x5C5E;&#x6027;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-609">&#x6307;&#x5B9A;&#x4E3A;&#x6B64;&#x6784;&#x9020;&#x7684;&#x65B9;&#x8A00;&#x7279;&#x5B9A;&#x9009;&#x9879;&#x7684;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x7684;&#x96C6;&#x5408;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-610">&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x5728;&#x5B83;&#x4EEC;&#x7684;&#x539F;&#x59CB;<code class="docutils literal"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>&#x683C;&#x5F0F;&#x4E2D;&#x5448;&#x73B0;&#x3002;</span><span class="yiyi-st" id="yiyi-611">&#x53EA;&#x5305;&#x62EC;&#x5B9E;&#x9645;&#x901A;&#x8FC7;&#x7684;&#x8BBA;&#x70B9;&#xFF1B;&#x4E0D;&#x540C;&#x4E8E;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_options</span></code></a>&#x96C6;&#x5408;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x6B64;&#x65B9;&#x8A00;&#x5DF2;&#x77E5;&#x7684;&#x6240;&#x6709;&#x9009;&#x9879;&#xFF0C;&#x5305;&#x62EC;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-612">&#x8BE5;&#x96C6;&#x5408;&#x4E5F;&#x662F;&#x53EF;&#x5199;&#x7684;&#xFF1B;&#x952E;&#x88AB;&#x63A5;&#x53D7;&#x4E3A;&#x5F62;&#x5F0F;<code class="docutils literal"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>&#xFF0C;&#x5176;&#x4E2D;&#x503C;&#x5C06;&#x88AB;&#x7EC4;&#x5408;&#x5230;&#x9009;&#x9879;&#x5217;&#x8868;&#x4E2D;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-613"><span class="versionmodified">&#x7248;&#x672C;0.9.2&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-614"><span class="versionmodified">&#x5728;&#x7248;&#x672C;0.9.4&#x4E2D;&#x66F4;&#x6539;&#xFF1A;</span> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>&#x96C6;&#x5408;&#x73B0;&#x5728;&#x53EF;&#x5199;&#x5165;&#x3002;</span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-615">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-616"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.Update.dialect_options"><span class="yiyi-st" id="yiyi-617"><code class="descname"> dialect_options  T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Update.dialect_options" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-618"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal"><span class="pre">dialect_options</span></code></a> <em>&#x5C5E;&#x6027;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-619">&#x6307;&#x5B9A;&#x4E3A;&#x6B64;&#x6784;&#x9020;&#x7684;&#x65B9;&#x8A00;&#x7279;&#x5B9A;&#x9009;&#x9879;&#x7684;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x7684;&#x96C6;&#x5408;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-620">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4E24;&#x7EA7;&#x5D4C;&#x5957;&#x6CE8;&#x518C;&#x8868;&#xFF0C;&#x952E;&#x5165;<code class="docutils literal"><span class="pre">&lt;dialect_name&gt;</span></code>&#x548C;<code class="docutils literal"><span class="pre">&lt;argument_name&gt;</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-621">&#x4F8B;&#x5982;&#xFF0C;<code class="docutils literal"><span class="pre">postgresql_where</span></code>&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x5B9A;&#x4F4D;&#x4E3A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&apos;postgresql&apos;</span><span class="p">][</span><span class="s1">&apos;where&apos;</span><span class="p">]</span></pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-622"><span class="versionmodified">&#x7248;&#x672C;0.9.2&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-623">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-624"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.execute"><span class="yiyi-st" id="yiyi-625"><code class="descname">&#x6267;&#x884C; tt&gt; <span class="sig-paren">&#xFF08;</span> <em>* multiparams</em>&#xFF0C;<em>** params</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Update.execute" title="Permalink to this definition">T5&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-626"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execute" title="sqlalchemy.sql.expression.Executable.execute"><code class="xref py py-meth docutils literal"><span class="pre">execute()</span></code></a> <em>&#x65B9;&#x6CD5;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-627">&#x7F16;&#x8BD1;&#x5E76;&#x6267;&#x884C;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.execution_options"><span class="yiyi-st" id="yiyi-628"><code class="descname"> execution_options  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> **&#x5343;&#x74E6; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Update.execution_options" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-629"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">execution_options()</span></code></a> <em>&#x65B9;&#x6CD5; tt&gt; <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a></em></span></div><p><span class="yiyi-st" id="yiyi-630">&#x4E3A;&#x6267;&#x884C;&#x671F;&#x95F4;&#x751F;&#x6548;&#x7684;&#x8BED;&#x53E5;&#x8BBE;&#x7F6E;&#x975E;SQL&#x9009;&#x9879;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-631">&#x6267;&#x884C;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x8BED;&#x53E5;&#x6216;&#x6BCF;&#x4E2A;<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x8BBE;&#x7F6E;&#x3002;</span><span class="yiyi-st" id="yiyi-632">&#x6B64;&#x5916;&#xFF0C;<a class="reference internal" href="connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>&#x548C;ORM <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x63D0;&#x4F9B;&#x5BF9;&#x6267;&#x884C;&#x9009;&#x9879;&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x800C;&#x8FD9;&#x4E9B;&#x6267;&#x884C;&#x9009;&#x9879;&#x5728;&#x8FDE;&#x63A5;&#x65F6;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-633"><a class="reference internal" href="#sqlalchemy.sql.expression.Update.execution_options" title="sqlalchemy.sql.expression.Update.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">execution_options()</span></code></a>&#x65B9;&#x6CD5;&#x662F;&#x751F;&#x6210;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-634">&#x8FD4;&#x56DE;&#x6B64;&#x8BED;&#x53E5;&#x7684;&#x65B0;&#x5B9E;&#x4F8B;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x4EE5;&#x4E0B;&#x9009;&#x9879;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y</span><span class="p">])</span>
<span class="n">statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">execution_options</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-635">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x90E8;&#x5206;&#x53EF;&#x80FD;&#x7684;&#x6267;&#x884C;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x4E8E;&#x8BED;&#x53E5; - &#x8FD9;&#x4E9B;&#x9009;&#x9879;&#x5305;&#x62EC;&#x201C;autocommit&#x201D;&#x548C;&#x201C;stream_results&#x201D;&#xFF0C;&#x4F46;&#x4E0D;&#x5305;&#x62EC;&#x201C;isolation_level&#x201D;&#x6216;&#x201C;c&#x200B;&#x200B;ompiled_cache&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-636">&#x6709;&#x5173;&#x53EF;&#x80FD;&#x7684;&#x9009;&#x9879;&#x7684;&#x5B8C;&#x6574;&#x5217;&#x8868;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execution_options()</span></code></a>&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-637">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-638"><a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execution_options()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-639"><a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.execution_options" title="sqlalchemy.orm.query.Query.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Query.execution_options()</span></code></a></span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.Update.kwargs"><span class="yiyi-st" id="yiyi-640"><code class="descname"> kwargs  T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Update.kwargs" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-641"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal"><span class="pre">kwargs</span></code></a> <em>&#x5C5E;&#x6027;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-642"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>&#x7684;&#x540C;&#x4E49;&#x8BCD;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.params"><span class="yiyi-st" id="yiyi-643"> <code class="descname">params</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.params" title="Permalink to this definition">&#xB6;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-644"> <em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.params" title="sqlalchemy.sql.expression.UpdateBase.params"><code class="xref py py-meth docutils literal"><span class="pre">params()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-645">&#x8BBE;&#x7F6E;&#x8BED;&#x53E5;&#x7684;&#x53C2;&#x6570;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-646">&#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x57FA;&#x7C7B;&#x4E0A;&#x5F15;&#x53D1;<code class="docutils literal"><span class="pre">NotImplementedError</span></code>&#xFF0C;&#x5E76;&#x7531;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal"><span class="pre">ValuesBase</span></code></a>&#x8986;&#x76D6;&#xFF0C;&#x4EE5;&#x63D0;&#x4F9B;UPDATE&#x548C;INSERT&#x7684;SET / VALUES&#x5B50;&#x53E5;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.prefix_with"><span class="yiyi-st" id="yiyi-647"><code class="descname">prefix_with</code> <span class="sig-paren">&#xFF08;</span> <em>* expr</em>&#xFF0C;<em>** kw</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Update.prefix_with" title="Permalink to this definition">T5&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-648"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes.prefix_with" title="sqlalchemy.sql.expression.HasPrefixes.prefix_with"><code class="xref py py-meth docutils literal"><span class="pre">prefix_with()</span></code></a> <em>&#x65B9;&#x6CD5; <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes" title="sqlalchemy.sql.expression.HasPrefixes"><code class="xref py py-class docutils literal"><span class="pre">HasPrefixes</span></code></a></em></span></div><p><span class="yiyi-st" id="yiyi-649">&#x5728;&#x8BED;&#x53E5;&#x5173;&#x952E;&#x5B57;&#x540E;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5373;</span><span class="yiyi-st" id="yiyi-650">SELECT&#xFF0C;INSERT&#xFF0C;UPDATE&#x6216;DELETE&#x3002;</span><span class="yiyi-st" id="yiyi-651">&#x751F;&#x6210;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-652">&#x8FD9;&#x7528;&#x4E8E;&#x652F;&#x6301;&#x540E;&#x7AEF;&#x7279;&#x5B9A;&#x7684;&#x524D;&#x7F00;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x4F8B;&#x5982;&#x7531;MySQL&#x63D0;&#x4F9B;&#x7684;&#x524D;&#x7F00;&#x5173;&#x952E;&#x5B57;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-653">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">prefix_with</span><span class="p">(</span><span class="s2">&quot;LOW_PRIORITY&quot;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;mysql&quot;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-654">&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x591A;&#x6B21;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.Update.prefix_with" title="sqlalchemy.sql.expression.Update.prefix_with"><code class="xref py py-meth docutils literal"><span class="pre">prefix_with()</span></code></a>&#x6765;&#x6307;&#x5B9A;&#x591A;&#x4E2A;&#x524D;&#x7F00;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-655">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-656"><span class="target" id="sqlalchemy.sql.expression.Update.prefix_with.params.*expr"></span><strong>*expr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.prefix_with.params.*expr">&#xB6;</a> &#x2013; textual or <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a> construct which will be rendered following the INSERT, UPDATE, or DELETE keyword.</span></li><li><span class="yiyi-st" id="yiyi-657"><span class="target" id="sqlalchemy.sql.expression.Update.prefix_with.params.**kw"></span> <strong>** kw</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.prefix_with.params.**kw">&#xB6;</a>  - &#x63A5;&#x53D7;&#x5355;&#x4E2A;&#x5173;&#x952E;&#x5B57;&apos;dialect&apos;&#x3002;</span><span class="yiyi-st" id="yiyi-658">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x65B9;&#x8A00;&#x540D;&#x79F0;&#xFF0C;&#x5B83;&#x5C06;&#x9650;&#x5236;&#x5C06;&#x8BE5;&#x524D;&#x7F00;&#x7684;&#x5448;&#x73B0;&#x4EC5;&#x9650;&#x4E8E;&#x8BE5;&#x65B9;&#x8A00;&#x3002;</span></li></ul></td></tr></tbody></table></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.return_defaults"><span class="yiyi-st" id="yiyi-659"><code class="descname"> return_defaults  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * COLS  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Update.return_defaults" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-660"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">return_defaults()</span></code></a> <em>&#x65B9;&#x6CD5;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal"><span class="pre">ValuesBase</span></code></a></em></span></div><p><span class="yiyi-st" id="yiyi-661">&#x5229;&#x7528;<a class="reference internal" href="glossary.html#term-returning"><span class="xref std std-term">RETURNING</span></a>&#x5B50;&#x53E5;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x8868;&#x8FBE;&#x5F0F;&#x548C;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-662">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&apos;newdata&apos;</span><span class="p">)</span><span class="o">.</span><span class="n">return_defaults</span><span class="p">()</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>

<span class="n">server_created_at</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">returned_defaults</span><span class="p">[</span><span class="s1">&apos;created_at&apos;</span><span class="p">]</span></pre></div></div><p><span class="yiyi-st" id="yiyi-663">&#x5F53;&#x7528;&#x4E8E;&#x652F;&#x6301;RETURNING&#x7684;&#x540E;&#x7AEF;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x540C;&#x65F6;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.returning()</span></code></a>&#xFF0C;&#x5219;&#x7531;SQL&#x8868;&#x8FBE;&#x5F0F;&#x6216;server-side-default&#x751F;&#x6210;&#x7684;&#x6240;&#x6709;&#x5217;&#x503C;&#x5C06;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x4EFB;&#x4F55;&#x73B0;&#x6709;&#x7684;RETURNING&#x5B50;&#x53E5;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-664">&#x7136;&#x540E;&#xFF0C;&#x4F7F;&#x7528;<a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.returned_defaults" title="sqlalchemy.engine.ResultProxy.returned_defaults"><code class="xref py py-attr docutils literal"><span class="pre">ResultProxy.returned_defaults</span></code></a>&#x5B58;&#x53D6;&#x5668;&#x4F5C;&#x4E3A;&#x5B57;&#x5178;&#xFF0C;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x5728;&#x7ED3;&#x679C;&#x4E0A;&#x4F7F;&#x7528;&#x5217;&#x503C;&#xFF0C;&#x8BE5;&#x503C;&#x6307;&#x7684;&#x662F;&#x952E;&#x5165;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x5BF9;&#x8C61;&#x53CA;&#x5176;<code class="docutils literal"><span class="pre">.key</span></code></span></p><p><span class="yiyi-st" id="yiyi-665">&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x4E0E;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.returning()</span></code></a>&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#xFF1A;</span></p><ol class="arabic simple"><li><span class="yiyi-st" id="yiyi-666"><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>&#x4EC5;&#x7528;&#x4E8E;&#x4E0E;&#x4E00;&#x884C;&#x5339;&#x914D;&#x7684;INSERT&#x6216;UPDATE&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-667">&#x5C3D;&#x7BA1;&#x4E00;&#x822C;&#x610F;&#x4E49;&#x4E0A;&#x7684;RETURNING&#x6784;&#x9020;&#x652F;&#x6301;&#x591A;&#x884C;UPDATE&#x6216;DELETE&#x8BED;&#x53E5;&#x7684;&#x591A;&#x884C;&#xFF0C;&#x6216;&#x8005;&#x5BF9;&#x4E8E;&#x8FD4;&#x56DE;&#x591A;&#x884C;&#x7684;INSERT&#x7684;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x6765;&#x81EA;SELECT&#xFF0C;&#x591A;&#x503C;VALUES&#x5B50;&#x53E5;&#x7684;INSERT&#xFF09;&#xFF0C;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>&#x4EC5;&#x7528;&#x4E8E;&#x201C;ORM&#x6837;&#x5F0F;&#x201D;&#x5355;&#x884C;INSERT / UPDATE&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-668">&#x5F53;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>&#x65F6;&#xFF0C;&#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x7684;&#x884C;&#x4E5F;&#x4F1A;&#x9690;&#x5F0F;&#x6D88;&#x8017;&#x3002;</span><span class="yiyi-st" id="yiyi-669">By contrast, <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.returning()</span></code></a> leaves the RETURNING result-set intact with a collection of any number of rows.</span></li><li><span class="yiyi-st" id="yiyi-670">&#x5B83;&#x4E0E;&#x73B0;&#x6709;&#x903B;&#x8F91;&#x517C;&#x5BB9;&#xFF0C;&#x4EE5;&#x83B7;&#x53D6;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x4E3B;&#x952E;&#x503C;&#xFF0C;&#x4E5F;&#x79F0;&#x4E3A;&#x201C;&#x9690;&#x5F0F;&#x8FD4;&#x56DE;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-671">&#x652F;&#x6301;RETURNING&#x7684;&#x540E;&#x7AEF;&#x5C06;&#x81EA;&#x52A8;&#x4F7F;&#x7528;RETURNING&#x6765;&#x83B7;&#x53D6;&#x65B0;&#x751F;&#x6210;&#x7684;&#x4E3B;&#x952E;&#x503C;&#xFF1B;&#x800C;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.returning()</span></code></a>&#x65B9;&#x6CD5;&#x7ED5;&#x8FC7;&#x4E86;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#xFF0C;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-672">&#x5B83;&#x53EF;&#x4EE5;&#x88AB;&#x79F0;&#x4E3A;&#x53CD;&#x5BF9;&#x4EFB;&#x4F55;&#x540E;&#x7AEF;&#x3002;</span><span class="yiyi-st" id="yiyi-673">&#x4E0D;&#x652F;&#x6301;RETURNING&#x7684;&#x540E;&#x7AEF;&#x5C06;&#x8DF3;&#x8FC7;&#x529F;&#x80FD;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x3002;</span><span class="yiyi-st" id="yiyi-674"><a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.returned_defaults" title="sqlalchemy.engine.ResultProxy.returned_defaults"><code class="xref py py-attr docutils literal"><span class="pre">ResultProxy.returned_defaults</span></code></a>&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x5C06;&#x4E3A;<code class="docutils literal"><span class="pre">None</span></code></span></li></ol><p><span class="yiyi-st" id="yiyi-675"><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a> is used by the ORM to provide an efficient implementation for the <code class="docutils literal"><span class="pre">eager_defaults</span></code> feature of <a class="reference internal" href="orm_mapping_api.html#sqlalchemy.orm.mapper" title="sqlalchemy.orm.mapper"><code class="xref py py-func docutils literal"><span class="pre">mapper()</span></code></a>.</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-676">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><span class="yiyi-st" id="yiyi-677"><span class="target" id="sqlalchemy.sql.expression.Update.return_defaults.params.cols"></span><strong>cols</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.return_defaults.params.cols">&#xB6;</a> &#x2013; optional list of column key names or <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> objects. </span><span class="yiyi-st" id="yiyi-678">&#x5982;&#x679C;&#x7701;&#x7565;&#xFF0C;&#x5219;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8BC4;&#x4F30;&#x7684;&#x6240;&#x6709;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x90FD;&#x5C06;&#x6DFB;&#x52A0;&#x5230;&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x3002;</span></td></tr></tbody></table><div class="versionadded"><p><span class="yiyi-st" id="yiyi-679"><span class="versionmodified">&#x7248;&#x672C;0.9.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-680">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-681"><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.returning()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-682"><a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.returned_defaults" title="sqlalchemy.engine.ResultProxy.returned_defaults"><code class="xref py py-attr docutils literal"><span class="pre">ResultProxy.returned_defaults</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.returning"><span class="yiyi-st" id="yiyi-683"><code class="descname">&#x8FD4;&#x56DE; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * COLS  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Update.returning" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-684"> <em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">returning()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-685">&#x5728;&#x6B64;&#x8BED;&#x53E5;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;<a class="reference internal" href="glossary.html#term-returning"><span class="xref std std-term">RETURNING</span></a>&#x6216;&#x7B49;&#x540C;&#x7684;&#x5B50;&#x53E5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-686">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span>\
          <span class="n">where</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&apos;value&apos;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">values</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&apos;X&apos;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">returning</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">server_flag</span><span class="p">,</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">updated_timestamp</span><span class="p">)</span>

<span class="k">for</span> <span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span> <span class="ow">in</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-687">&#x7ED9;&#x5B9A;&#x7684;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x96C6;&#x5408;&#x5E94;&#x8BE5;&#x4ECE;&#x4F5C;&#x4E3A;INSERT&#xFF0C;UPDATE&#x6216;DELETE&#x76EE;&#x6807;&#x7684;&#x8868;&#x4E2D;&#x6D3E;&#x751F;&#x3002;</span><span class="yiyi-st" id="yiyi-688">&#x867D;&#x7136;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x5BF9;&#x8C61;&#x662F;&#x5178;&#x578B;&#x7684;&#xFF0C;&#x4F46;&#x5143;&#x7D20;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">returning</span><span class="p">(</span>
    <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">first_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">last_name</span><span class="p">)</span><span class="o">.</span>
    <span class="n">label</span><span class="p">(</span><span class="s1">&apos;fullname&apos;</span><span class="p">))</span></pre></div></div><p><span class="yiyi-st" id="yiyi-689">&#x7F16;&#x8BD1;&#x540E;&#xFF0C;&#x5C06;&#x5728;&#x8BED;&#x53E5;&#x4E2D;&#x5448;&#x73B0;RETURNING&#x5B50;&#x53E5;&#x6216;&#x6570;&#x636E;&#x5E93;&#x7B49;&#x6548;&#x9879;&#x3002;</span><span class="yiyi-st" id="yiyi-690">&#x5BF9;&#x4E8E;INSERT&#x548C;UPDATE&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x662F;&#x65B0;&#x63D2;&#x5165;/&#x66F4;&#x65B0;&#x7684;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-691">&#x5BF9;&#x4E8E;DELETE&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x662F;&#x90A3;&#x4E9B;&#x88AB;&#x5220;&#x9664;&#x7684;&#x884C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-692">&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x5217;&#x7684;&#x503C;&#x901A;&#x8FC7;&#x7ED3;&#x679C;&#x96C6;&#x53EF;&#x7528;&#xFF0C;&#x5E76;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.fetchone" title="sqlalchemy.engine.ResultProxy.fetchone"><code class="xref py py-meth docutils literal"><span class="pre">ResultProxy.fetchone()</span></code></a>&#x548C;&#x7C7B;&#x4F3C;&#x7684;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x8FED;&#x4EE3;&#x3002;</span><span class="yiyi-st" id="yiyi-693">&#x5BF9;&#x4E8E;&#x672C;&#x8EAB;&#x4E0D;&#x652F;&#x6301;&#x8FD4;&#x56DE;&#x503C;&#x7684;DBAPI&#xFF08;&#x5373;cx_oracle&#xFF09;&#xFF0C;SQLAlchemy&#x5C06;&#x5728;&#x7ED3;&#x679C;&#x7EA7;&#x63A5;&#x8FD1;&#x6B64;&#x884C;&#x4E3A;&#xFF0C;&#x4EE5;&#x4FBF;&#x63D0;&#x4F9B;&#x5408;&#x7406;&#x7684;&#x884C;&#x4E3A;&#x4E2D;&#x7ACB;&#x6027;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-694">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5E76;&#x975E;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;/ DBAPI&#x90FD;&#x652F;&#x6301;RETURNING&#x3002;</span><span class="yiyi-st" id="yiyi-695">&#x5BF9;&#x4E8E;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x540E;&#x7AEF;&#xFF0C;&#x7F16;&#x8BD1;&#x548C;/&#x6216;&#x6267;&#x884C;&#x65F6;&#x4F1A;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x3002;</span><span class="yiyi-st" id="yiyi-696">&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x652F;&#x6301;&#x5B83;&#x7684;&#x4EBA;&#x6765;&#x8BF4;&#xFF0C;&#x540E;&#x7AEF;&#x7684;&#x529F;&#x80FD;&#x5DEE;&#x5F02;&#x5F88;&#x5927;&#xFF0C;&#x5305;&#x62EC;&#x5BF9;executemany()&#x548C;&#x5176;&#x4ED6;&#x8FD4;&#x56DE;&#x591A;&#x884C;&#x7684;&#x8BED;&#x53E5;&#x7684;&#x9650;&#x5236;&#x3002;</span><span class="yiyi-st" id="yiyi-697">&#x8BF7;&#x9605;&#x8BFB;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x6863;&#x8BF4;&#x660E;&#xFF0C;&#x4EE5;&#x786E;&#x5B9A;RETURNING&#x7684;&#x53EF;&#x7528;&#x6027;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-698">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-699"><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>  - &#x9488;&#x5BF9;&#x5355;&#x4E2A;&#x884C;INSERT&#x6216;UPDATE&#x7684;&#x9AD8;&#x6548;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x9ED8;&#x8BA4;&#x503C;&#x548C;&#x89E6;&#x53D1;&#x5668;&#x7684;&#x4E00;&#x79CD;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#x3002;</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.scalar"><span class="yiyi-st" id="yiyi-700"><code class="descname">&#x6807;&#x91CF;</code> <span class="sig-paren">&#xFF08;</span> <em>* multiparams</em>&#xFF0C;<em>** params</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Update.scalar" title="Permalink to this definition">T5&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-701"> <em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.scalar" title="sqlalchemy.sql.expression.Executable.scalar"><code class="xref py py-meth docutils literal"><span class="pre">scalar()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-702">&#x7F16;&#x8BD1;&#x5E76;&#x6267;&#x884C;&#x6B64;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a>&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x6807;&#x91CF;&#x8868;&#x793A;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.self_group"><span class="yiyi-st" id="yiyi-703"><code class="descname"> self_group  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x9488;&#x5BF9;=&#x65E0; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Update.self_group" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-704"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.self_group" title="sqlalchemy.sql.expression.ClauseElement.self_group"><code class="xref py py-meth docutils literal"><span class="pre">self_group()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-705">&#x5BF9;&#x8FD9;&#x4E2A;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x5E94;&#x7528;&#x201C;&#x5206;&#x7EC4;&#x201D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-706">&#x5B50;&#x7C7B;&#x91CD;&#x5199;&#x6B64;&#x65B9;&#x6CD5;&#x4EE5;&#x8FD4;&#x56DE;&#x201C;&#x5206;&#x7EC4;&#x201D;&#x7ED3;&#x6784;&#xFF0C;&#x5373;&#x62EC;&#x53F7;&#x3002;</span><span class="yiyi-st" id="yiyi-707">In particular it&#x2019;s used by &#x201C;binary&#x201D; expressions to provide a grouping around themselves when placed into a larger expression, as well as by <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a> constructs when placed into the FROM clause of another <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>. </span><span class="yiyi-st" id="yiyi-708">&#xFF08;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x901A;&#x5E38;&#x5E94;&#x4F7F;&#x7528;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Select.alias" title="sqlalchemy.sql.expression.Select.alias"><code class="xref py py-meth docutils literal"><span class="pre">Select.alias()</span></code></a>&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x5B50;&#x67E5;&#x8BE2;&#xFF0C;&#x56E0;&#x4E3A;&#x8BB8;&#x591A;&#x5E73;&#x53F0;&#x9700;&#x8981;&#x547D;&#x540D;&#x5D4C;&#x5957;&#x7684;SELECT&#x8BED;&#x53E5;&#xFF09;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-709">&#x7531;&#x4E8E;&#x8868;&#x8FBE;&#x5F0F;&#x7EC4;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x6240;&#x4EE5;<a class="reference internal" href="#sqlalchemy.sql.expression.Update.self_group" title="sqlalchemy.sql.expression.Update.self_group"><code class="xref py py-meth docutils literal"><span class="pre">self_group()</span></code></a>&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x662F;&#x81EA;&#x52A8;&#x7684; - &#x6700;&#x7EC8;&#x7528;&#x6237;&#x4EE3;&#x7801;&#x4E0D;&#x9700;&#x8981;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-710">Note that SQLAlchemy&#x2019;s clause constructs take operator precedence into account - so parenthesis might not be needed, for example, in an expression like <code class="docutils literal"><span class="pre">x</span> <span class="pre">OR</span> <span class="pre">(y</span> <span class="pre">AND</span> <span class="pre">z)</span></code> - AND takes precedence over OR.</span></p><p><span class="yiyi-st" id="yiyi-711"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x7684;base <a class="reference internal" href="#sqlalchemy.sql.expression.Update.self_group" title="sqlalchemy.sql.expression.Update.self_group"><code class="xref py py-meth docutils literal"><span class="pre">self_group()</span></code></a>&#x65B9;&#x6CD5;&#x4EC5;&#x8FD4;&#x56DE;self&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.unique_params"><span class="yiyi-st" id="yiyi-712"><code class="descname">unique_params</code> <span class="sig-paren">&#xFF08;</span> <em>* optionaldict</em>&#xFF0C;<em>** kwargs</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Update.unique_params" title="Permalink to this definition">T5&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-713"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.unique_params" title="sqlalchemy.sql.expression.ClauseElement.unique_params"><code class="xref py py-meth docutils literal"><span class="pre">unique_params()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-714">&#x8FD4;&#x56DE;&#x5E26;&#x6709;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.bindparam" title="sqlalchemy.sql.expression.bindparam"><code class="xref py py-func docutils literal"><span class="pre">bindparam()</span></code></a>&#x5143;&#x7D20;&#x7684;&#x526F;&#x672C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-715">&#x4E0E;<code class="docutils literal"><span class="pre">params()</span></code>&#x529F;&#x80FD;&#x76F8;&#x540C;&#xFF0C;&#x9664;&#x4E86;&#x5C06;<cite>unique = True</cite>&#x6DFB;&#x52A0;&#x5230;&#x53D7;&#x5F71;&#x54CD;&#x7684;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x4EE5;&#x4FBF;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x591A;&#x4E2A;&#x8BED;&#x53E5;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.values"><span class="yiyi-st" id="yiyi-716"><code class="descname">&#x503C;</code> <span class="sig-paren">&#xFF08;</span> <em>* args</em>&#xFF0C;<em>** kwargs</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.Update.values" title="Permalink to this definition">T5&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-717"> <em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal"><span class="pre">values()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal"><span class="pre">ValuesBase</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-718">&#x4E3A;INSERT&#x8BED;&#x53E5;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x7684;VALUES&#x5B50;&#x53E5;&#xFF0C;&#x6216;&#x8005;&#x4E3A;UPDATE&#x6307;&#x5B9A;&#x4E00;&#x4E2A;SET&#x5B50;&#x53E5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-719">Note that the <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a> and <a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a> constructs support per-execution time formatting of the VALUES and/or SET clauses, based on the arguments passed to <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execute()</span></code></a>. </span><span class="yiyi-st" id="yiyi-720">&#x4F46;&#x662F;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.values()</span></code></a>&#x65B9;&#x6CD5;&#x5C06;&#x7279;&#x5B9A;&#x7684;&#x4E00;&#x7EC4;&#x53C2;&#x6570;&#x201C;&#x4FEE;&#x590D;&#x201D;&#x5230;&#x8BED;&#x53E5;&#x4E2D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-721">&#x591A;&#x6B21;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.values()</span></code></a>&#x5C06;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x6BCF;&#x4E2A;&#x7ED3;&#x6784;&#x90FD;&#x4FEE;&#x6539;&#x53C2;&#x6570;&#x5217;&#x8868;&#x4EE5;&#x5305;&#x542B;&#x53D1;&#x9001;&#x7684;&#x65B0;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-722">&#x5728;&#x5355;&#x4E2A;&#x53C2;&#x6570;&#x5B57;&#x5178;&#x7684;&#x5178;&#x578B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x65B0;&#x4F20;&#x9012;&#x7684;&#x952E;&#x5C06;&#x66FF;&#x6362;&#x4EE5;&#x524D;&#x6784;&#x9020;&#x4E2D;&#x7684;&#x76F8;&#x540C;&#x952E;&#x3002;</span><span class="yiyi-st" id="yiyi-723">&#x5728;&#x57FA;&#x4E8E;&#x5217;&#x8868;&#x7684;&#x201C;&#x591A;&#x503C;&#x201D;&#x7ED3;&#x6784;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6BCF;&#x4E2A;&#x65B0;&#x7684;&#x503C;&#x5217;&#x8868;&#x90FD;&#x88AB;&#x6269;&#x5C55;&#x5230;&#x73B0;&#x6709;&#x7684;&#x503C;&#x5217;&#x8868;&#x4E2D;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-724">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-726"><span class="target" id="sqlalchemy.sql.expression.Update.values.params.**kwargs"></span> <strong>** kwargs</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.values.params.**kwargs">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-725">&#x952E;&#x503C;&#x5BF9;&#x8868;&#x793A;&#x6620;&#x5C04;&#x5230;&#x8981;&#x5448;&#x73B0;&#x5230;VALUES&#x6216;SET&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x503C;&#x7684;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x952E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;some name&quot;</span><span class="p">)</span>

<span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">users</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="o">==</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;some name&quot;</span><span class="p">)</span></pre></div></div></li><li><span class="yiyi-st" id="yiyi-747"><span class="target" id="sqlalchemy.sql.expression.Update.values.params.*args"></span> <strong>* args</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.values.params.*args">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-727">&#x4F5C;&#x4E3A;&#x4F20;&#x9012;&#x952E;/&#x503C;&#x53C2;&#x6570;&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#xFF0C;&#x5B57;&#x5178;&#xFF0C;&#x5143;&#x7EC4;&#x6216;&#x5B57;&#x5178;&#x6216;&#x5143;&#x7EC4;&#x5217;&#x8868;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x5355;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x4F20;&#x9012;&#xFF0C;&#x4EE5;&#x5F62;&#x6210;&#x8BED;&#x53E5;&#x7684;VALUES&#x6216;SET&#x5B50;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-728">&#x63A5;&#x53D7;&#x7684;&#x8868;&#x5355;&#x6839;&#x636E;&#x662F;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x8FD8;&#x662F;<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a>&#x7ED3;&#x6784;&#x800C;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-729">&#x5BF9;&#x4E8E;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x6216;<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a>&#x7ED3;&#x6784;&#xFF0C;&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x5355;&#x4E2A;&#x5B57;&#x5178;&#xFF0C;&#x5176;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x4E0E;kwargs&#x8868;&#x5355;&#x76F8;&#x540C;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some name&quot;</span><span class="p">})</span>

<span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some new name&quot;</span><span class="p">})</span></pre></div></div><p><span class="yiyi-st" id="yiyi-730">&#x5BF9;&#x4E8E;&#x4EFB;&#x4F55;&#x4E00;&#x79CD;&#x5F62;&#x5F0F;&#xFF0C;&#x4F46;&#x5BF9;&#x4E8E;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x6784;&#x9020;&#x66F4;&#x5178;&#x578B;&#xFF0C;&#x4E5F;&#x63A5;&#x53D7;&#x5305;&#x542B;&#x8868;&#x4E2D;&#x6BCF;&#x5217;&#x7684;&#x6761;&#x76EE;&#x7684;&#x5143;&#x7EC4;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;some name&quot;</span><span class="p">))</span></pre></div></div><p><span class="yiyi-st" id="yiyi-731"><a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x7ED3;&#x6784;&#x8FD8;&#x652F;&#x6301;&#x4F20;&#x9012;&#x5B57;&#x5178;&#x6216;&#x5168;&#x8868;&#x5143;&#x7EC4;&#x5217;&#x8868;&#xFF0C;&#x8FD9;&#x4E9B;&#x5143;&#x7EC4;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5C06;&#x5448;&#x73B0;&#x4E0D;&#x592A;&#x5E38;&#x89C1;&#x7684;&#x201C;&#x591A;&#x503C;&#x201D;SQL&#x8BED;&#x6CD5; - &#x540E;&#x7AEF;&#x652F;&#x6301;&#x6B64;&#x8BED;&#x6CD5;&#xFF0C;&#x5982;SQLite&#xFF0C;Postgresql&#xFF0C;MySQL&#xFF0C;&#x4F46;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x5176;&#x4ED6;&#x7684;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">([</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some name&quot;</span><span class="p">},</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some other name&quot;</span><span class="p">},</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;yet another name&quot;</span><span class="p">},</span>
                <span class="p">])</span></pre></div></div><p><span class="yiyi-st" id="yiyi-732">&#x4E0A;&#x9762;&#x7684;&#x8868;&#x5355;&#x5C06;&#x5448;&#x73B0;&#x591A;&#x4E2A;VALUES&#x8BED;&#x53E5;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>INSERT INTO users (name) VALUES
                (:name_1),
                (:name_2),
                (:name_3)</pre></div></div><p><span class="yiyi-st" id="yiyi-733">It is essential to note that <strong>passing multiple values is NOT the same as using traditional executemany() form</strong>. </span><span class="yiyi-st" id="yiyi-734">&#x4E0A;&#x9762;&#x7684;&#x8BED;&#x6CD5;&#x662F;&#x4E0D;&#x5E38;&#x7528;&#x7684;<strong>&#x7279;&#x6B8A;</strong>&#x8BED;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-735">&#x8981;&#x9488;&#x5BF9;&#x591A;&#x884C;&#x53D1;&#x51FA;INSERT&#x8BED;&#x53E5;&#xFF0C;&#x5E38;&#x89C4;&#x65B9;&#x6CD5;&#x662F;&#x5C06;&#x591A;&#x4E2A;&#x503C;&#x5217;&#x8868;&#x4F20;&#x9012;&#x7ED9;<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execute()</span></code></a>&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x7531;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;&#x540E;&#x7AEF;&#x652F;&#x6301;&#xFF0C;&#x5E76;&#x4E14;&#x901A;&#x5E38;&#x5BF9;&#x4E8E;&#x975E;&#x5E38;&#x9AD8;&#x6548;&#x7684;&#x5927;&#x91CF;&#x7684;&#x53C2;&#x6570;&#x3002;</span></p><blockquote><div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-736">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-737"><a class="reference internal" href="tutorial.html#execute-multiple"><span>Executing Multiple Statements</span></a>  - &#x4ECB;&#x7ECD;&#x7528;&#x4E8E;INSERT&#x548C;&#x5176;&#x4ED6;&#x8BED;&#x53E5;&#x7684;&#x591A;&#x53C2;&#x6570;&#x96C6;&#x8C03;&#x7528;&#x7684;&#x4F20;&#x7EDF;Core&#x65B9;&#x6CD5;&#x3002;</span></p></div><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-738"><span class="versionmodified">&#x7248;&#x672C;1.0.0&#x4E2D;&#x5DF2;&#x66F4;&#x6539;&#xFF1A;</span>&#x4F7F;&#x7528;&#x591A;&#x4E2A;VALUES&#x5B50;&#x53E5;&#xFF08;&#x5373;&#x4F7F;&#x662F;&#x957F;&#x5EA6;&#x4E3A;1&#x7684;&#x5217;&#x8868;&#xFF09;&#x7684;INSERT&#x610F;&#x5473;&#x7740;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert.params.inline" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-paramref docutils literal"><span class="pre">Insert.inline</span></code></a>&#x6807;&#x5FD7;&#x8BBE;&#x7F6E;&#x4E3A;True&#xFF0C;&#x8868;&#x660E;&#x8BE5;&#x8BED;&#x53E5;&#x4E0D;&#x4F1A;&#x5C1D;&#x8BD5;&#x83B7;&#x53D6;&#x201C;&#x6700;&#x540E;&#x63D2;&#x5165;&#x7684;&#x4E3B;&#x952E;&#x201D;&#x6216;&#x5176;&#x4ED6;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-739">&#x8BE5;&#x8BED;&#x53E5;&#x5904;&#x7406;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x884C;&#xFF0C;&#x56E0;&#x6B64;<a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.inserted_primary_key" title="sqlalchemy.engine.ResultProxy.inserted_primary_key"><code class="xref py py-attr docutils literal"><span class="pre">ResultProxy.inserted_primary_key</span></code></a>&#x8BBF;&#x95EE;&#x5668;&#x4E0D;&#x9002;&#x7528;&#x3002;</span></p></div><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-740"><span class="versionmodified">&#x5728;1.0.0&#x7248;&#x672C;&#x4E2D;&#x5DF2;&#x66F4;&#x6539;&#xFF1A;</span>&#x591A;&#x503C;&#x63D2;&#x5165;&#x73B0;&#x5728;&#x652F;&#x6301;&#x5177;&#x6709;Python&#x4FA7;&#x7F3A;&#x7701;&#x503C;&#x548C;&#x53EF;&#x8C03;&#x53C2;&#x6570;&#x7684;&#x5217;&#xFF0C;&#x65B9;&#x5F0F;&#x4E0E;&#x201C;executemany&#x201D;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x76F8;&#x540C;&#xFF1B;&#x53EF;&#x8C03;&#x7528;&#x7684;&#x662F;&#x6BCF;&#x884C;&#x8C03;&#x7528;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-741">&#x5BF9;&#x4E8E;&#x5176;&#x4ED6;&#x7EC6;&#x8282;&#xFF0C;&#x5F53;&#x4F7F;&#x7528;&#x591A;&#x503C;&#x63D2;&#x5165;&#x65F6;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="changelog_migration_10.html#bug-3288"><span>Python-side defaults invoked for each row invidually when using a multivalued insert</span></a></span></p></div></div></blockquote><p><span class="yiyi-st" id="yiyi-742"><a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a>&#x7ED3;&#x6784;&#x652F;&#x6301;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x4E2A;2&#x5143;&#x7EC4;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x5F53;&#x63D0;&#x4F9B;&#x7684;&#x65F6;&#x5019;&#x5FC5;&#x987B;&#x548C;<a class="reference internal" href="#sqlalchemy.sql.expression.update.params.preserve_parameter_order" title="sqlalchemy.sql.expression.update"><code class="xref py py-paramref docutils literal"><span class="pre">preserve_parameter_order</span></code></a>&#x53C2;&#x6570;&#x4E00;&#x8D77;&#x4F20;&#x9012;&#x3002;</span><span class="yiyi-st" id="yiyi-743">&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x5BFC;&#x81F4;UPDATE&#x8BED;&#x53E5;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.Update.values" title="sqlalchemy.sql.expression.Update.values"><code class="xref py py-meth docutils literal"><span class="pre">Update.values()</span></code></a>&#x7ED9;&#x51FA;&#x7684;&#x53C2;&#x6570;&#x987A;&#x5E8F;&#x6765;&#x5448;&#x73B0;SET&#x5B50;&#x53E5;&#xFF0C;&#x800C;&#x4E0D;&#x662F;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x4E2D;&#x7ED9;&#x51FA;&#x7684;&#x5217;&#x7684;&#x987A;&#x5E8F;&#x3002;</span></p><blockquote><div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-744"><span class="versionmodified">&#x7248;&#x672C;1.0.10&#x4E2D;&#x7684;&#x65B0;&#x589E;&#x529F;&#x80FD;&#xFF1A;</span>  - &#x901A;&#x8FC7;<a class="reference internal" href="#sqlalchemy.sql.expression.update.params.preserve_parameter_order" title="sqlalchemy.sql.expression.update"><code class="xref py py-paramref docutils literal"><span class="pre">preserve_parameter_order</span></code></a>&#x6807;&#x5FD7;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x53C2;&#x6570;&#x6392;&#x5E8F;&#x7684;UPDATE&#x8BED;&#x53E5;&#x7684;&#x652F;&#x6301;&#x3002;</span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-745">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-746"><a class="reference internal" href="tutorial.html#updates-order-parameters"><span>Parameter-Ordered Updates</span></a>  -  <a class="reference internal" href="#sqlalchemy.sql.expression.update.params.preserve_parameter_order" title="sqlalchemy.sql.expression.update"><code class="xref py py-paramref docutils literal"><span class="pre">preserve_parameter_order</span></code></a>&#x6807;&#x5FD7;&#x7684;&#x5B8C;&#x6574;&#x793A;&#x4F8B;</span></p></div></div></blockquote></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-748">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-749"><a class="reference internal" href="tutorial.html#inserts-and-updates"><span>Inserts, Updates and Deletes</span></a>  -  SQL&#x8868;&#x8FBE;&#x5F0F;&#x8BED;&#x8A00;&#x6559;&#x7A0B;</span></p><p><span class="yiyi-st" id="yiyi-750"><a class="reference internal" href="#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><code class="xref py py-func docutils literal"><span class="pre">insert()</span></code></a>  - &#x4EA7;&#x751F;&#x4E00;&#x4E2A;<code class="docutils literal"><span class="pre">INSERT</span></code>&#x8BED;&#x53E5;</span></p><p class="last"><span class="yiyi-st" id="yiyi-751"><a class="reference internal" href="#sqlalchemy.sql.expression.update" title="sqlalchemy.sql.expression.update"><code class="xref py py-func docutils literal"><span class="pre">update()</span></code></a>  - &#x4EA7;&#x751F;&#x4E00;&#x4E2A;<code class="docutils literal"><span class="pre">UPDATE</span></code>&#x8BED;&#x53E5;</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.where"><span class="yiyi-st" id="yiyi-752"><code class="descname">&#x5176;&#x4E2D; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> whereclause  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.Update.where" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-753">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;update()&#x6784;&#x9020;&#xFF0C;&#x5C06;&#x7ED9;&#x5B9A;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x6DFB;&#x52A0;&#x5230;&#x5176;WHERE&#x5B50;&#x53E5;&#x4E2D;&#xFF0C;&#x901A;&#x8FC7;AND&#x8FDE;&#x63A5;&#x5230;&#x73B0;&#x6709;&#x5B50;&#x53E5;&#xFF08;&#x5982;&#x679C;&#x6709;&#x7684;&#x8BDD;&#xFF09;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.Update.with_hint"><span class="yiyi-st" id="yiyi-754"> <code class="descname">with_hint</code><span class="sig-paren">(</span><em>text</em>, <em>selectable=None</em>, <em>dialect_name=&apos;*&apos;</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.with_hint" title="Permalink to this definition">&#xB6;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-755"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint" title="sqlalchemy.sql.expression.UpdateBase.with_hint"><code class="xref py py-meth docutils literal"><span class="pre">with_hint()</span></code></a> <em>&#x65B9;&#x6CD5;</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-756">&#x4E3A;&#x8FD9;&#x4E2A;INSERT / UPDATE / DELETE&#x8BED;&#x53E5;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x8868;&#x63D0;&#x793A;&#x7ED9;&#x5355;&#x4E2A;&#x8868;&#x3002;</span></p><div class="admonition note"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-757">&#x6CE8;&#x610F;</span></p><p class="last"><span class="yiyi-st" id="yiyi-758"><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint" title="sqlalchemy.sql.expression.UpdateBase.with_hint"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.with_hint()</span></code></a> currently applies only to Microsoft SQL Server. </span><span class="yiyi-st" id="yiyi-759">&#x5BF9;&#x4E8E;MySQL INSERT / UPDATE / DELETE&#x63D0;&#x793A;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.prefix_with" title="sqlalchemy.sql.expression.UpdateBase.prefix_with"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.prefix_with()</span></code></a>&#x3002;</span></p></div><p><span class="yiyi-st" id="yiyi-760">The text of the hint is rendered in the appropriate location for the database backend in use, relative to the <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> that is the subject of this statement, or optionally to that of the given <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> passed as the <code class="docutils literal"><span class="pre">selectable</span></code> argument.</span></p><p><span class="yiyi-st" id="yiyi-761">The <code class="docutils literal"><span class="pre">dialect_name</span></code> option will limit the rendering of a particular hint to a particular backend. </span><span class="yiyi-st" id="yiyi-762">&#x4F8B;&#x5982;&#xFF0C;&#x6DFB;&#x52A0;&#x4EC5;&#x5BF9;SQL Server&#x6709;&#x6548;&#x7684;&#x63D0;&#x793A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">mytable</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">with_hint</span><span class="p">(</span><span class="s2">&quot;WITH (PAGLOCK)&quot;</span><span class="p">,</span> <span class="n">dialect_name</span><span class="o">=</span><span class="s2">&quot;mssql&quot;</span><span class="p">)</span></pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-763"><span class="versionmodified">New in version 0.7.6.</span></span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-764">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-765"><span class="target" id="sqlalchemy.sql.expression.Update.with_hint.params.text"></span> <strong>&#x6587;&#x672C;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.with_hint.params.text">&#xB6;</a>  - &#x63D0;&#x793A;&#x7684;&#x6587;&#x672C;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-766"><span class="target" id="sqlalchemy.sql.expression.Update.with_hint.params.selectable"></span><strong>selectable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.with_hint.params.selectable">&#xB6;</a> &#x2013; optional <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> that specifies an element of the FROM clause within an UPDATE or DELETE to be the subject of the hint - applies only to certain backends.</span></li><li><span class="yiyi-st" id="yiyi-767"><span class="target" id="sqlalchemy.sql.expression.Update.with_hint.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.with_hint.params.dialect_name">&#xB6;</a> &#x2013; defaults to <code class="docutils literal"><span class="pre">*</span></code>, if specified as the name of a particular dialect, will apply these hints only when that dialect is in use.</span></li></ul></td></tr></tbody></table></dd></dl></dd></dl><dl class="class"><dt id="sqlalchemy.sql.expression.UpdateBase"><span class="yiyi-st" id="yiyi-768"><em class="property">class</em> <code class="descclassname">sqlalchemy.sql.expression&#x3002;</code> <code class="descname">UpdateBase</code> <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-769">&#x57FA;&#x7840;&#xFF1A;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.sql.expression.HasCTE</span></code></a>&#xFF0C;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.sql.base.DialectKWArgs</span></code></a>&#xFF0C;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes" title="sqlalchemy.sql.expression.HasPrefixes"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.sql.expression.HasPrefixes</span></code></a>&#xFF0C;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.sql.expression.Executable</span></code></a>&#xFF0C;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.sql.expression.ClauseElement</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-770">&#x4E3A;<code class="docutils literal"><span class="pre">INSERT</span></code>&#xFF0C;<code class="docutils literal"><span class="pre">UPDATE</span></code>&#x548C;<code class="docutils literal"><span class="pre">DELETE</span></code>&#x8BED;&#x53E5;&#x5F62;&#x6210;&#x57FA;&#x7840;&#x3002;</span></p><dl class="attribute"><dt id="sqlalchemy.sql.expression.UpdateBase.__init__"><span class="yiyi-st" id="yiyi-771"><code class="descname"> __&#x521D;&#x59CB;&#x5316;__  T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.__init__" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-772"><em>&#x7EE7;&#x627F;&#x81EA;</em> <code class="xref py py-attr docutils literal"><span class="pre">__init__</span></code> <em>&#x5C5E;&#x6027;</em> <code class="xref py py-class docutils literal"><span class="pre">object</span></code></span></div><p><span class="yiyi-st" id="yiyi-773">x .__ init __&#xFF08;...&#xFF09;&#x521D;&#x59CB;&#x5316;x&#xFF1B;&#x8BF7;&#x53C2;&#x9605;&#x5E2E;&#x52A9;&#xFF08;&#x7C7B;&#x578B;&#xFF08;x&#xFF09;&#xFF09;&#x8FDB;&#x884C;&#x7B7E;&#x540D;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.UpdateBase.argument_for"><span class="yiyi-st" id="yiyi-774"><code class="descname">argument_for</code> <span class="sig-paren">&#xFF08;</span> <em>dialect_name</em>&#xFF0C;<em>argument_name</em>&#xFF0C;<em>&#x9ED8;&#x8BA4;</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.argument_for" title="Permalink to this definition">&#xB6; T6&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-775"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal"><span class="pre">argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-776">&#x4E3A;&#x6B64;&#x8BFE;&#x7A0B;&#x6DFB;&#x52A0;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x7279;&#x5B9A;&#x4E8E;&#x65B9;&#x8A00;&#x7684;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-777">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&apos;a&apos;</span><span class="p">,</span> <span class="s1">&apos;b&apos;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-778">The <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument way adding extra arguments to the <a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal"><span class="pre">DefaultDialect.construct_arguments</span></code></a> dictionary. </span><span class="yiyi-st" id="yiyi-779">&#x8FD9;&#x672C;&#x8BCD;&#x5178;&#x63D0;&#x4F9B;&#x4E86;&#x4EE3;&#x8868;&#x65B9;&#x8A00;&#x7684;&#x5404;&#x79CD;&#x6A21;&#x5F0F;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x6240;&#x63A5;&#x53D7;&#x7684;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x5217;&#x8868;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-780">&#x65B0;&#x65B9;&#x8A00;&#x901A;&#x5E38;&#x5E94;&#x8BE5;&#x4E00;&#x6B21;&#x6027;&#x5C06;&#x8BE5;&#x5B57;&#x5178;&#x6307;&#x5B9A;&#x4E3A;&#x65B9;&#x8A00;&#x7C7B;&#x7684;&#x6570;&#x636E;&#x6210;&#x5458;&#x3002;</span><span class="yiyi-st" id="yiyi-781">&#x7528;&#x4E8E;&#x4E34;&#x65F6;&#x6DFB;&#x52A0;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x7684;&#x7528;&#x4F8B;&#x901A;&#x5E38;&#x7528;&#x4E8E;&#x6700;&#x7EC8;&#x7528;&#x6237;&#x4EE3;&#x7801;&#xFF0C;&#x8BE5;&#x4EE3;&#x7801;&#x4E5F;&#x4F7F;&#x7528;&#x4E86;&#x4F7F;&#x7528;&#x989D;&#x5916;&#x53C2;&#x6570;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x7F16;&#x8BD1;&#x65B9;&#x6848;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-782">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-783"><span class="target" id="sqlalchemy.sql.expression.UpdateBase.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.argument_for.params.dialect_name">&#xB6;</a> &#x2013; name of a dialect. </span><span class="yiyi-st" id="yiyi-784">The dialect must be locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal"><span class="pre">NoSuchModuleError</span></code></a> is raised. </span><span class="yiyi-st" id="yiyi-785">&#x8BE5;&#x65B9;&#x8A00;&#x8FD8;&#x5FC5;&#x987B;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x73B0;&#x6709;&#x7684;<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal"><span class="pre">DefaultDialect.construct_arguments</span></code></a>&#x96C6;&#x5408;&#xFF0C;&#x6307;&#x793A;&#x5B83;&#x53C2;&#x4E0E;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;&#x548C;&#x9ED8;&#x8BA4;&#x7CFB;&#x7EDF;&#xFF0C;&#x5426;&#x5219;&#x5F15;&#x53D1;<a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal"><span class="pre">ArgumentError</span></code></a>&#x3002;</span><span class="yiyi-st" id="yiyi-786">&#x5982;&#x679C;&#x65B9;&#x8A00;&#x4E0D;&#x5305;&#x62EC;&#x8FD9;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x90A3;&#x4E48;&#x4EFB;&#x4F55;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x90FD;&#x53EF;&#x4EE5;&#x4EE3;&#x8868;&#x8FD9;&#x4E2A;&#x65B9;&#x8A00;&#x6307;&#x5B9A;&#x3002;</span><span class="yiyi-st" id="yiyi-787">&#x6240;&#x6709;&#x5305;&#x542B;&#x5728;SQLAlchemy&#x4E2D;&#x7684;&#x65B9;&#x8A00;&#x90FD;&#x5305;&#x542B;&#x8FD9;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x7B2C;&#x4E09;&#x65B9;&#x65B9;&#x8A00;&#xFF0C;&#x652F;&#x6301;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-788"><span class="target" id="sqlalchemy.sql.expression.UpdateBase.argument_for.params.argument_name"></span> <strong>argument_name</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.argument_for.params.argument_name">&#xB6;</a>  - &#x53C2;&#x6570;&#x7684;&#x540D;&#x79F0;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-789"><span class="target" id="sqlalchemy.sql.expression.UpdateBase.argument_for.params.default"></span> <strong>&#x9ED8;&#x8BA4;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.argument_for.params.default">&#xB6;</a>  - &#x53C2;&#x6570;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span></li></ul></td></tr></tbody></table><div class="versionadded"><p><span class="yiyi-st" id="yiyi-790"><span class="versionmodified">&#x7248;&#x672C;0.9.4&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.UpdateBase.bind"><span class="yiyi-st" id="yiyi-791"><code class="descname">&#x7ED3;&#x5408; T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.bind" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-792">&#x8FD4;&#x56DE;&#x4E0E;&#x6B64;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">UpdateBase</span></code></a>&#x6216;&#x4E0E;&#x4E4B;&#x5173;&#x8054;&#x7684;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x7684;&#x201C;&#x7ED1;&#x5B9A;&#x201D;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.UpdateBase.compare"><span class="yiyi-st" id="yiyi-793"><code class="descname">&#x6BD4;&#x8F83;</code> <span class="sig-paren">&#xFF08;</span> <em>&#x5176;&#x4ED6;</em>&#xFF0C;<em>** kw</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.compare" title="Permalink to this definition"> t5 &gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-794"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compare" title="sqlalchemy.sql.expression.ClauseElement.compare"><code class="xref py py-meth docutils literal"><span class="pre">compare()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-795">&#x5C06;&#x6B64;ClauseElement&#x4E0E;&#x7ED9;&#x5B9A;&#x7684;ClauseElement&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-796">&#x5B50;&#x7C7B;&#x5E94;&#x8BE5;&#x8986;&#x76D6;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x76F4;&#x63A5;&#x7684;&#x8EAB;&#x4EFD;&#x6BD4;&#x8F83;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-797">** kw&#x662F;&#x7531;subclass compare()&#x65B9;&#x6CD5;&#x6D88;&#x8017;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x4FEE;&#x6539;&#x6BD4;&#x8F83;&#x6761;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-798">&#xFF08;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal"><span class="pre">ColumnElement</span></code></a>&#xFF09;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.UpdateBase.compile"><span class="yiyi-st" id="yiyi-799"><code class="descname">&#x7F16;&#x8BD1;</code> <span class="sig-paren">&#xFF08;</span> <em>bind = None</em>&#xFF0C;<em>dialect = None</em>&#xFF0C;<em>** kw</em> <span class="sig-paren">&#xFF09; T5&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.compile" title="Permalink to this definition">&#xB6; T6&gt;</a></span></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-800"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compile" title="sqlalchemy.sql.expression.ClauseElement.compile"><code class="xref py py-meth docutils literal"><span class="pre">compile()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-801">&#x7F16;&#x8BD1;&#x8FD9;&#x4E2A;SQL&#x8868;&#x8FBE;&#x5F0F;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-802">&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x4E2A;<a class="reference internal" href="internals.html#sqlalchemy.engine.interfaces.Compiled" title="sqlalchemy.engine.interfaces.Compiled"><code class="xref py py-class docutils literal"><span class="pre">Compiled</span></code></a>&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-803">&#x5BF9;&#x8FD4;&#x56DE;&#x503C;&#x8C03;&#x7528;<code class="docutils literal"><span class="pre">str()</span></code>&#x6216;<code class="docutils literal"><span class="pre">unicode()</span></code>&#x5C06;&#x4EA7;&#x751F;&#x7ED3;&#x679C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-804"><a class="reference internal" href="internals.html#sqlalchemy.engine.interfaces.Compiled" title="sqlalchemy.engine.interfaces.Compiled"><code class="xref py py-class docutils literal"><span class="pre">Compiled</span></code></a>&#x5BF9;&#x8C61;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">params</span></code>&#x8BBF;&#x95EE;&#x5668;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x548C;&#x503C;&#x7684;&#x5B57;&#x5178;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-805">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-806"><span class="target" id="sqlalchemy.sql.expression.UpdateBase.compile.params.bind"></span><strong>bind</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.compile.params.bind">&#xB6;</a> &#x2013; An <code class="docutils literal"><span class="pre">Engine</span></code> or <code class="docutils literal"><span class="pre">Connection</span></code> from which a <code class="docutils literal"><span class="pre">Compiled</span></code> will be acquired. </span><span class="yiyi-st" id="yiyi-807">&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4F18;&#x5148;&#x4E8E;&#x8FD9;&#x4E2A;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x7684;&#x7ED1;&#x5B9A;&#x5F15;&#x64CE;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x7684;&#x8BDD;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-808"><span class="target" id="sqlalchemy.sql.expression.UpdateBase.compile.params.column_keys"></span><strong>column_keys</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.compile.params.column_keys">&#xB6;</a> &#x2013; Used for INSERT and UPDATE statements, a list of column names which should be present in the VALUES clause of the compiled statement. </span><span class="yiyi-st" id="yiyi-809">&#x5982;&#x679C;<code class="docutils literal"><span class="pre">None</span></code>&#xFF0C;&#x5219;&#x5448;&#x73B0;&#x76EE;&#x6807;&#x8868;&#x683C;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5217;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-810"><span class="target" id="sqlalchemy.sql.expression.UpdateBase.compile.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.compile.params.dialect">&#xB6;</a> &#x2013; A <code class="docutils literal"><span class="pre">Dialect</span></code> instance from which a <code class="docutils literal"><span class="pre">Compiled</span></code> will be acquired. </span><span class="yiyi-st" id="yiyi-811">&#x8BE5;&#x53C2;&#x6570;&#x4F18;&#x5148;&#x4E8E;<cite>bind</cite>&#x53C2;&#x6570;&#x4EE5;&#x53CA;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x7684;&#x7ED1;&#x5B9A;&#x5F15;&#x64CE;&#xFF08;&#x5982;&#x679C;&#x6709;&#x7684;&#x8BDD;&#xFF09;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-812"><span class="target" id="sqlalchemy.sql.expression.UpdateBase.compile.params.inline"></span><strong>inline</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.compile.params.inline">&#xB6;</a> &#x2013; Used for INSERT statements, for a dialect which does not support inline retrieval of newly generated primary key columns, will force the expression used to create the new primary key value to be rendered inline within the INSERT statement&#x2019;s VALUES clause. </span><span class="yiyi-st" id="yiyi-813">&#x8FD9;&#x901A;&#x5E38;&#x662F;&#x6307;&#x5E8F;&#x5217;&#x6267;&#x884C;&#xFF0C;&#x4F46;&#x4E5F;&#x53EF;&#x80FD;&#x6307;&#x4E0E;&#x4E3B;&#x952E;<cite>Column</cite>&#x5173;&#x8054;&#x7684;&#x4EFB;&#x4F55;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x9ED8;&#x8BA4;&#x751F;&#x6210;&#x51FD;&#x6570;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-818"><span class="target" id="sqlalchemy.sql.expression.UpdateBase.compile.params.compile_kwargs"></span> <strong>compile_kwargs</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.compile.params.compile_kwargs">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-814">&#x5728;&#x6240;&#x6709;&#x201C;&#x8BBF;&#x95EE;&#x201D;&#x65B9;&#x6CD5;&#x4E2D;&#x5C06;&#x4F20;&#x9012;&#x7ED9;&#x7F16;&#x8BD1;&#x5668;&#x7684;&#x9644;&#x52A0;&#x53C2;&#x6570;&#x7684;&#x53EF;&#x9009;&#x5B57;&#x5178;&#x3002;</span><span class="yiyi-st" id="yiyi-815">&#x4F8B;&#x5982;&#xFF0C;&#x8FD9;&#x5141;&#x8BB8;&#x5C06;&#x81EA;&#x5B9A;&#x4E49;&#x6807;&#x5FD7;&#x4F20;&#x9012;&#x7ED9;&#x81EA;&#x5B9A;&#x4E49;&#x7F16;&#x8BD1;&#x6784;&#x9020;&#x3002;</span><span class="yiyi-st" id="yiyi-816">&#x5B83;&#x4E5F;&#x7528;&#x4E8E;&#x4F20;&#x9012;<code class="docutils literal"><span class="pre">literal_binds</span></code>&#x6807;&#x5FD7;&#x7684;&#x60C5;&#x51B5;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.sql</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">select</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s1">&apos;t&apos;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s1">&apos;x&apos;</span><span class="p">))</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">t</span><span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>

<span class="k">print</span> <span class="n">s</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">compile_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;literal_binds&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">})</span></pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-817"><span class="versionmodified">&#x7248;&#x672C;0.9.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-819">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-820"><a class="reference internal" href="faq_sqlexpressions.html#faq-sql-expression-string"><span>How do I render SQL expressions as strings, possibly with bound parameters inlined?</span></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.UpdateBase.cte"><span class="yiyi-st" id="yiyi-821"> <code class="descname">cte</code><span class="sig-paren">(</span><em>name=None</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.cte" title="Permalink to this definition">&#xB6;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-822"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal"><span class="pre">cte()</span></code></a> <em>&#x65B9;&#x6CD5;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal"><span class="pre">HasCTE</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-823">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal"><span class="pre">CTE</span></code></a>&#x6216;&#x516C;&#x5171;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x5B9E;&#x4F8B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-824">&#x516C;&#x7528;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x4E00;&#x79CD;SQL&#x6807;&#x51C6;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;&#x201C;WITH&#x201D;&#x7684;&#x5B50;&#x53E5;&#xFF0C;SELECT&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0E;&#x4E3B;&#x8BED;&#x53E5;&#x4E00;&#x8D77;&#x6307;&#x5B9A;&#x7684;&#x6B21;&#x8981;&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-825">&#x6709;&#x5173;UNION&#x7684;&#x7279;&#x6B8A;&#x8BED;&#x4E49;&#x4E5F;&#x53EF;&#x7528;&#x4E8E;&#x5141;&#x8BB8;&#x201C;&#x9012;&#x5F52;&#x201D;&#x67E5;&#x8BE2;&#xFF0C;&#x5176;&#x4E2D;SELECT&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x5728;&#x5148;&#x524D;&#x5DF2;&#x9009;&#x62E9;&#x7684;&#x4E00;&#x7EC4;&#x884C;&#x4E0A;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-826">CTE&#x4E5F;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x4E8E;DML&#x6784;&#x9020;&#x5BF9;&#x67D0;&#x4E9B;&#x6570;&#x636E;&#x5E93;&#x7684;UPDATE&#xFF0C;INSERT&#x548C;DELETE&#xFF0C;&#x4E0E;RETURNING&#x4E00;&#x8D77;&#x4F5C;&#x4E3A;CTE&#x884C;&#x7684;&#x6765;&#x6E90;&#x4EE5;&#x53CA;CTE&#x884C;&#x7684;&#x4F7F;&#x7528;&#x8005;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-827">SQLAlchemy&#x5C06;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal"><span class="pre">CTE</span></code></a>&#x5BF9;&#x8C61;&#x68C0;&#x6D4B;&#x4E3A;&#x4E0E;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal"><span class="pre">Alias</span></code></a>&#x5BF9;&#x8C61;&#x7C7B;&#x4F3C;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x4F5C;&#x4E3A;&#x8981;&#x4F20;&#x9012;&#x5230;&#x8BED;&#x53E5;&#x7684;FROM&#x5B50;&#x53E5;&#x7684;&#x7279;&#x6B8A;&#x5143;&#x7D20;&#x4EE5;&#x53CA;&#x9876;&#x90E8;&#x7684;WITH&#x5B50;&#x53E5;&#x7684;&#x58F0;&#x660E;&#x3002;</span></p><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-828"><span class="versionmodified">&#x5728;&#x7248;&#x672C;1.1&#x4E2D;&#x8FDB;&#x884C;&#x4E86;&#x66F4;&#x6539;&#xFF1A;</span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;CTE&#xFF0C;CTE&#x6DFB;&#x52A0;&#x5230;UPDATE / INSERT / DELETE&#x7684;UPDATE / INSERT / DELETE&#x7684;&#x652F;&#x6301;&#x3002;</span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-829">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-830"><span class="target" id="sqlalchemy.sql.expression.UpdateBase.cte.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.cte.params.name">&#xB6;</a> &#x2013; name given to the common table expression. </span><span class="yiyi-st" id="yiyi-831">&#x50CF;<code class="xref py py-meth docutils literal"><span class="pre">_FromClause.alias()</span></code>&#x4E00;&#x6837;&#xFF0C;&#x540D;&#x79F0;&#x53EF;&#x4EE5;&#x4FDD;&#x7559;&#x4E3A;<code class="docutils literal"><span class="pre">None</span></code>&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x67E5;&#x8BE2;&#x7F16;&#x8BD1;&#x65F6;&#x5C06;&#x4F7F;&#x7528;&#x533F;&#x540D;&#x7B26;&#x53F7;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-832"><span class="target" id="sqlalchemy.sql.expression.UpdateBase.cte.params.recursive"></span><strong>recursive</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.cte.params.recursive">&#xB6;</a> &#x2013; if <code class="docutils literal"><span class="pre">True</span></code>, will render <code class="docutils literal"><span class="pre">WITH</span> <span class="pre">RECURSIVE</span></code>. </span><span class="yiyi-st" id="yiyi-833">&#x9012;&#x5F52;&#x516C;&#x7528;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x65E8;&#x5728;&#x4E0E;UNION ALL&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x4EE5;&#x4FBF;&#x4ECE;&#x5DF2;&#x9009;&#x62E9;&#x7684;&#x884C;&#x4E2D;&#x6D3E;&#x751F;&#x884C;&#x3002;</span></li></ul></td></tr></tbody></table><p><span class="yiyi-st" id="yiyi-834">&#x4EE5;&#x4E0B;&#x793A;&#x4F8B;&#x5305;&#x542B;&#x4E24;&#x7BC7;&#x6765;&#x81EA;Postgresql&#x7684;&#x6587;&#x6863;&#xFF0C;&#x4F4D;&#x4E8E;<a class="reference external" href="http://www.postgresql.org/docs/current/static/queries-with.html">http://www.postgresql.org/docs/current/static/queries-with.html</a>&#x4EE5;&#x53CA;&#x5176;&#x4ED6;&#x793A;&#x4F8B;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-835">&#x4F8B;1&#xFF0C;&#x975E;&#x9012;&#x5F52;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">orders</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&apos;orders&apos;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;region&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;amount&apos;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;product&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;quantity&apos;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">regional_sales</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&apos;total_sales&apos;</span><span class="p">)</span>
                <span class="p">])</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;regional_sales&quot;</span><span class="p">)</span>


<span class="n">top_regions</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span><span class="o">.</span>\
        <span class="n">where</span><span class="p">(</span>
            <span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span> <span class="o">&gt;</span>
            <span class="n">select</span><span class="p">([</span>
                <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span>
            <span class="p">])</span>
        <span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;top_regions&quot;</span><span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_units&quot;</span><span class="p">),</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_sales&quot;</span><span class="p">)</span>
    <span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span>
        <span class="n">select</span><span class="p">([</span><span class="n">top_regions</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span>
    <span class="p">))</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span> <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div></div><p><span class="yiyi-st" id="yiyi-836">&#x4F8B;2&#xFF0C;&#x4E0E;RECURSIVE&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">parts</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&apos;parts&apos;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;part&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;sub_part&apos;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&apos;quantity&apos;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">included_parts</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">])</span><span class="o">.</span>\
                    <span class="n">where</span><span class="p">(</span><span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="s1">&apos;our part&apos;</span><span class="p">)</span><span class="o">.</span>\
                    <span class="n">cte</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>


<span class="n">incl_alias</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">parts_alias</span> <span class="o">=</span> <span class="n">parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">included_parts</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">union_all</span><span class="p">(</span>
    <span class="n">select</span><span class="p">([</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>
    <span class="p">])</span><span class="o">.</span>
        <span class="n">where</span><span class="p">(</span><span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="n">incl_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span>
              <span class="n">label</span><span class="p">(</span><span class="s1">&apos;total_quantity&apos;</span><span class="p">)</span>
        <span class="p">])</span><span class="o">.</span>\
        <span class="n">group_by</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div></div><p><span class="yiyi-st" id="yiyi-837">&#x4F8B;3&#xFF0C;&#x4F7F;&#x7528;&#x5E26;CTE&#x7684;UPDATE&#x548C;INSERT&#x7684;upsert&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>orders = table(
    &apos;orders&apos;,
    column(&apos;region&apos;),
    column(&apos;amount&apos;),
    column(&apos;product&apos;),
    column(&apos;quantity&apos;)
)

upsert = (
    orders.update()
    .where(orders.c.region == &apos;Region1&apos;)
    .values(amount=1.0, product=&apos;Product1&apos;, quantity=1)
    .returning(*(orders.c._all_columns)).cte(&apos;upsert&apos;))

insert = orders.insert().from_select(
    orders.c.keys(),
    select([
        literal(&apos;Region1&apos;), literal(1.0),
        literal(&apos;Product1&apos;), literal(1)
    ).where(exists(upsert.select()))
)

connection.execute(insert)</pre></div></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-838">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-839"><a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.cte" title="sqlalchemy.orm.query.Query.cte"><code class="xref py py-meth docutils literal"><span class="pre">orm.query.Query.cte()</span></code></a>  -  <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal"><span class="pre">HasCTE.cte()</span></code></a>&#x7684;ORM&#x7248;&#x672C;&#x3002;</span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.UpdateBase.dialect_kwargs"><span class="yiyi-st" id="yiyi-840"><code class="descname"> dialect_kwargs  T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.dialect_kwargs" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-841"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">dialect_kwargs</span></code></a> <em>&#x5C5E;&#x6027;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-842">&#x6307;&#x5B9A;&#x4E3A;&#x6B64;&#x6784;&#x9020;&#x7684;&#x65B9;&#x8A00;&#x7279;&#x5B9A;&#x9009;&#x9879;&#x7684;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x7684;&#x96C6;&#x5408;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-843">&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x5728;&#x5B83;&#x4EEC;&#x7684;&#x539F;&#x59CB;<code class="docutils literal"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>&#x683C;&#x5F0F;&#x4E2D;&#x5448;&#x73B0;&#x3002;</span><span class="yiyi-st" id="yiyi-844">&#x53EA;&#x5305;&#x62EC;&#x5B9E;&#x9645;&#x901A;&#x8FC7;&#x7684;&#x8BBA;&#x70B9;&#xFF1B;&#x4E0D;&#x540C;&#x4E8E;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_options</span></code></a>&#x96C6;&#x5408;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x6B64;&#x65B9;&#x8A00;&#x5DF2;&#x77E5;&#x7684;&#x6240;&#x6709;&#x9009;&#x9879;&#xFF0C;&#x5305;&#x62EC;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-845">&#x8BE5;&#x96C6;&#x5408;&#x4E5F;&#x662F;&#x53EF;&#x5199;&#x7684;&#xFF1B;&#x952E;&#x88AB;&#x63A5;&#x53D7;&#x4E3A;&#x5F62;&#x5F0F;<code class="docutils literal"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>&#xFF0C;&#x5176;&#x4E2D;&#x503C;&#x5C06;&#x88AB;&#x7EC4;&#x5408;&#x5230;&#x9009;&#x9879;&#x5217;&#x8868;&#x4E2D;&#x3002;</span></p><div class="versionadded"><p><span class="yiyi-st" id="yiyi-846"><span class="versionmodified">&#x7248;&#x672C;0.9.2&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-847"><span class="versionmodified">&#x5728;&#x7248;&#x672C;0.9.4&#x4E2D;&#x66F4;&#x6539;&#xFF1A;</span> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>&#x96C6;&#x5408;&#x73B0;&#x5728;&#x53EF;&#x5199;&#x5165;&#x3002;</span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-848">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-849"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</span></p></div></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.UpdateBase.dialect_options"><span class="yiyi-st" id="yiyi-850"><code class="descname"> dialect_options  T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.dialect_options" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-851"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal"><span class="pre">dialect_options</span></code></a> <em>&#x5C5E;&#x6027;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-852">&#x6307;&#x5B9A;&#x4E3A;&#x6B64;&#x6784;&#x9020;&#x7684;&#x65B9;&#x8A00;&#x7279;&#x5B9A;&#x9009;&#x9879;&#x7684;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x7684;&#x96C6;&#x5408;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-853">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4E24;&#x7EA7;&#x5D4C;&#x5957;&#x6CE8;&#x518C;&#x8868;&#xFF0C;&#x952E;&#x5165;<code class="docutils literal"><span class="pre">&lt;dialect_name&gt;</span></code>&#x548C;<code class="docutils literal"><span class="pre">&lt;argument_name&gt;</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-854">&#x4F8B;&#x5982;&#xFF0C;<code class="docutils literal"><span class="pre">postgresql_where</span></code>&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x5B9A;&#x4F4D;&#x4E3A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&apos;postgresql&apos;</span><span class="p">][</span><span class="s1">&apos;where&apos;</span><span class="p">]</span></pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-855"><span class="versionmodified">&#x7248;&#x672C;0.9.2&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-856">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-857"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.UpdateBase.execute"><span class="yiyi-st" id="yiyi-858"><code class="descname">&#x6267;&#x884C; tt&gt; <span class="sig-paren">&#xFF08;</span> <em>* multiparams</em>&#xFF0C;<em>** params</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.execute" title="Permalink to this definition">T5&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-859"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execute" title="sqlalchemy.sql.expression.Executable.execute"><code class="xref py py-meth docutils literal"><span class="pre">execute()</span></code></a> <em>&#x65B9;&#x6CD5;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-860">&#x7F16;&#x8BD1;&#x5E76;&#x6267;&#x884C;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a>&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.UpdateBase.execution_options"><span class="yiyi-st" id="yiyi-861"><code class="descname"> execution_options  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> **&#x5343;&#x74E6; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.execution_options" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-862"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">execution_options()</span></code></a> <em>&#x65B9;&#x6CD5; tt&gt; <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a></em></span></div><p><span class="yiyi-st" id="yiyi-863">&#x4E3A;&#x6267;&#x884C;&#x671F;&#x95F4;&#x751F;&#x6548;&#x7684;&#x8BED;&#x53E5;&#x8BBE;&#x7F6E;&#x975E;SQL&#x9009;&#x9879;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-864">&#x6267;&#x884C;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x8BED;&#x53E5;&#x6216;&#x6BCF;&#x4E2A;<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x8BBE;&#x7F6E;&#x3002;</span><span class="yiyi-st" id="yiyi-865">&#x6B64;&#x5916;&#xFF0C;<a class="reference internal" href="connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>&#x548C;ORM <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>&#x5BF9;&#x8C61;&#x63D0;&#x4F9B;&#x5BF9;&#x6267;&#x884C;&#x9009;&#x9879;&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x800C;&#x8FD9;&#x4E9B;&#x6267;&#x884C;&#x9009;&#x9879;&#x5728;&#x8FDE;&#x63A5;&#x65F6;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-866"><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.execution_options" title="sqlalchemy.sql.expression.UpdateBase.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">execution_options()</span></code></a>&#x65B9;&#x6CD5;&#x662F;&#x751F;&#x6210;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-867">&#x8FD4;&#x56DE;&#x6B64;&#x8BED;&#x53E5;&#x7684;&#x65B0;&#x5B9E;&#x4F8B;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x4EE5;&#x4E0B;&#x9009;&#x9879;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y</span><span class="p">])</span>
<span class="n">statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">execution_options</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-868">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x90E8;&#x5206;&#x53EF;&#x80FD;&#x7684;&#x6267;&#x884C;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x4E8E;&#x8BED;&#x53E5; - &#x8FD9;&#x4E9B;&#x9009;&#x9879;&#x5305;&#x62EC;&#x201C;autocommit&#x201D;&#x548C;&#x201C;stream_results&#x201D;&#xFF0C;&#x4F46;&#x4E0D;&#x5305;&#x62EC;&#x201C;isolation_level&#x201D;&#x6216;&#x201C;c&#x200B;&#x200B;ompiled_cache&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-869">&#x6709;&#x5173;&#x53EF;&#x80FD;&#x7684;&#x9009;&#x9879;&#x7684;&#x5B8C;&#x6574;&#x5217;&#x8868;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execution_options()</span></code></a>&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-870">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-871"><a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execution_options()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-872"><a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.execution_options" title="sqlalchemy.orm.query.Query.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Query.execution_options()</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.UpdateBase.get_children"><span class="yiyi-st" id="yiyi-873"><code class="descname"> get_children  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> ** kwargs  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.get_children" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-874"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.get_children" title="sqlalchemy.sql.expression.ClauseElement.get_children"><code class="xref py py-meth docutils literal"><span class="pre">get_children()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-875">&#x8FD4;&#x56DE;&#x8FD9;&#x4E2A;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x7684;&#x76F4;&#x63A5;&#x5B50;&#x5143;&#x7D20;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-876">&#x8FD9;&#x7528;&#x4E8E;&#x8BBF;&#x95EE;&#x904D;&#x5386;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-877">** kwargs&#x53EF;&#x80FD;&#x5305;&#x542B;&#x66F4;&#x6539;&#x8FD4;&#x56DE;&#x7684;&#x96C6;&#x5408;&#x7684;&#x6807;&#x5FD7;&#xFF0C;&#x4F8B;&#x5982;&#x4E3A;&#x4E86;&#x51CF;&#x5C11;&#x66F4;&#x5927;&#x7684;&#x904D;&#x5386;&#x800C;&#x8FD4;&#x56DE;&#x9879;&#x76EE;&#x7684;&#x5B50;&#x96C6;&#xFF0C;&#x6216;&#x8005;&#x4ECE;&#x4E0D;&#x540C;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x8FD4;&#x56DE;&#x5B50;&#x9879;&#x76EE;&#xFF08;&#x4F8B;&#x5982;&#x6A21;&#x5F0F;&#x7EA7;&#x96C6;&#x5408;&#x800C;&#x4E0D;&#x662F;&#x5B50;&#x53E5;-&#x6C34;&#x5E73;&#xFF09;&#x3002;</span></p></dd></dl><dl class="attribute"><dt id="sqlalchemy.sql.expression.UpdateBase.kwargs"><span class="yiyi-st" id="yiyi-878"><code class="descname"> kwargs  T0&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.kwargs" title="Permalink to this definition">&#xB6; T1&gt;</a></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-879"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal"><span class="pre">kwargs</span></code></a> <em>&#x5C5E;&#x6027;</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal"><span class="pre">DialectKWArgs</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-880"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>&#x7684;&#x540C;&#x4E49;&#x8BCD;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.UpdateBase.params"><span class="yiyi-st" id="yiyi-881"> <code class="descname">params</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.params" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-882">&#x8BBE;&#x7F6E;&#x8BED;&#x53E5;&#x7684;&#x53C2;&#x6570;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-883">&#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x57FA;&#x7C7B;&#x4E0A;&#x5F15;&#x53D1;<code class="docutils literal"><span class="pre">NotImplementedError</span></code>&#xFF0C;&#x5E76;&#x7531;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal"><span class="pre">ValuesBase</span></code></a>&#x8986;&#x76D6;&#xFF0C;&#x4EE5;&#x63D0;&#x4F9B;UPDATE&#x548C;INSERT&#x7684;SET / VALUES&#x5B50;&#x53E5;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.UpdateBase.prefix_with"><span class="yiyi-st" id="yiyi-884"><code class="descname">prefix_with</code> <span class="sig-paren">&#xFF08;</span> <em>* expr</em>&#xFF0C;<em>** kw</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.prefix_with" title="Permalink to this definition">T5&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-885"><em>&#x7EE7;&#x627F;&#x81EA;</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes.prefix_with" title="sqlalchemy.sql.expression.HasPrefixes.prefix_with"><code class="xref py py-meth docutils literal"><span class="pre">prefix_with()</span></code></a> <em>&#x65B9;&#x6CD5; <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes" title="sqlalchemy.sql.expression.HasPrefixes"><code class="xref py py-class docutils literal"><span class="pre">HasPrefixes</span></code></a></em></span></div><p><span class="yiyi-st" id="yiyi-886">&#x5728;&#x8BED;&#x53E5;&#x5173;&#x952E;&#x5B57;&#x540E;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5373;</span><span class="yiyi-st" id="yiyi-887">SELECT&#xFF0C;INSERT&#xFF0C;UPDATE&#x6216;DELETE&#x3002;</span><span class="yiyi-st" id="yiyi-888">&#x751F;&#x6210;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-889">&#x8FD9;&#x7528;&#x4E8E;&#x652F;&#x6301;&#x540E;&#x7AEF;&#x7279;&#x5B9A;&#x7684;&#x524D;&#x7F00;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x4F8B;&#x5982;&#x7531;MySQL&#x63D0;&#x4F9B;&#x7684;&#x524D;&#x7F00;&#x5173;&#x952E;&#x5B57;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-890">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">prefix_with</span><span class="p">(</span><span class="s2">&quot;LOW_PRIORITY&quot;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;mysql&quot;</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-891">&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x591A;&#x6B21;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.prefix_with" title="sqlalchemy.sql.expression.UpdateBase.prefix_with"><code class="xref py py-meth docutils literal"><span class="pre">prefix_with()</span></code></a>&#x6765;&#x6307;&#x5B9A;&#x591A;&#x4E2A;&#x524D;&#x7F00;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-892">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-893"><span class="target" id="sqlalchemy.sql.expression.UpdateBase.prefix_with.params.*expr"></span><strong>*expr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.prefix_with.params.*expr">&#xB6;</a> &#x2013; textual or <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a> construct which will be rendered following the INSERT, UPDATE, or DELETE keyword.</span></li><li><span class="yiyi-st" id="yiyi-894"><span class="target" id="sqlalchemy.sql.expression.UpdateBase.prefix_with.params.**kw"></span> <strong>** kw</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.prefix_with.params.**kw">&#xB6;</a>  - &#x63A5;&#x53D7;&#x5355;&#x4E2A;&#x5173;&#x952E;&#x5B57;&apos;dialect&apos;&#x3002;</span><span class="yiyi-st" id="yiyi-895">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x65B9;&#x8A00;&#x540D;&#x79F0;&#xFF0C;&#x5B83;&#x5C06;&#x9650;&#x5236;&#x5C06;&#x8BE5;&#x524D;&#x7F00;&#x7684;&#x5448;&#x73B0;&#x4EC5;&#x9650;&#x4E8E;&#x8BE5;&#x65B9;&#x8A00;&#x3002;</span></li></ul></td></tr></tbody></table></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.UpdateBase.returning"><span class="yiyi-st" id="yiyi-896"><code class="descname">&#x8FD4;&#x56DE; T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * COLS  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-897">&#x5728;&#x6B64;&#x8BED;&#x53E5;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;<a class="reference internal" href="glossary.html#term-returning"><span class="xref std std-term">RETURNING</span></a>&#x6216;&#x7B49;&#x540C;&#x7684;&#x5B50;&#x53E5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-898">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span>\
          <span class="n">where</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&apos;value&apos;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">values</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&apos;X&apos;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">returning</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">server_flag</span><span class="p">,</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">updated_timestamp</span><span class="p">)</span>

<span class="k">for</span> <span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span> <span class="ow">in</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-899">&#x7ED9;&#x5B9A;&#x7684;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x96C6;&#x5408;&#x5E94;&#x8BE5;&#x4ECE;&#x4F5C;&#x4E3A;INSERT&#xFF0C;UPDATE&#x6216;DELETE&#x76EE;&#x6807;&#x7684;&#x8868;&#x4E2D;&#x6D3E;&#x751F;&#x3002;</span><span class="yiyi-st" id="yiyi-900">&#x867D;&#x7136;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x5BF9;&#x8C61;&#x662F;&#x5178;&#x578B;&#x7684;&#xFF0C;&#x4F46;&#x5143;&#x7D20;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">returning</span><span class="p">(</span>
    <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">first_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">last_name</span><span class="p">)</span><span class="o">.</span>
    <span class="n">label</span><span class="p">(</span><span class="s1">&apos;fullname&apos;</span><span class="p">))</span></pre></div></div><p><span class="yiyi-st" id="yiyi-901">&#x7F16;&#x8BD1;&#x540E;&#xFF0C;&#x5C06;&#x5728;&#x8BED;&#x53E5;&#x4E2D;&#x5448;&#x73B0;RETURNING&#x5B50;&#x53E5;&#x6216;&#x6570;&#x636E;&#x5E93;&#x7B49;&#x6548;&#x9879;&#x3002;</span><span class="yiyi-st" id="yiyi-902">&#x5BF9;&#x4E8E;INSERT&#x548C;UPDATE&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x662F;&#x65B0;&#x63D2;&#x5165;/&#x66F4;&#x65B0;&#x7684;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-903">&#x5BF9;&#x4E8E;DELETE&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x662F;&#x90A3;&#x4E9B;&#x88AB;&#x5220;&#x9664;&#x7684;&#x884C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-904">&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x5217;&#x7684;&#x503C;&#x901A;&#x8FC7;&#x7ED3;&#x679C;&#x96C6;&#x53EF;&#x7528;&#xFF0C;&#x5E76;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.fetchone" title="sqlalchemy.engine.ResultProxy.fetchone"><code class="xref py py-meth docutils literal"><span class="pre">ResultProxy.fetchone()</span></code></a>&#x548C;&#x7C7B;&#x4F3C;&#x7684;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x8FED;&#x4EE3;&#x3002;</span><span class="yiyi-st" id="yiyi-905">&#x5BF9;&#x4E8E;&#x672C;&#x8EAB;&#x4E0D;&#x652F;&#x6301;&#x8FD4;&#x56DE;&#x503C;&#x7684;DBAPI&#xFF08;&#x5373;cx_oracle&#xFF09;&#xFF0C;SQLAlchemy&#x5C06;&#x5728;&#x7ED3;&#x679C;&#x7EA7;&#x63A5;&#x8FD1;&#x6B64;&#x884C;&#x4E3A;&#xFF0C;&#x4EE5;&#x4FBF;&#x63D0;&#x4F9B;&#x5408;&#x7406;&#x7684;&#x884C;&#x4E3A;&#x4E2D;&#x7ACB;&#x6027;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-906">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5E76;&#x975E;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;/ DBAPI&#x90FD;&#x652F;&#x6301;RETURNING&#x3002;</span><span class="yiyi-st" id="yiyi-907">&#x5BF9;&#x4E8E;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x540E;&#x7AEF;&#xFF0C;&#x7F16;&#x8BD1;&#x548C;/&#x6216;&#x6267;&#x884C;&#x65F6;&#x4F1A;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x3002;</span><span class="yiyi-st" id="yiyi-908">&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x652F;&#x6301;&#x5B83;&#x7684;&#x4EBA;&#x6765;&#x8BF4;&#xFF0C;&#x540E;&#x7AEF;&#x7684;&#x529F;&#x80FD;&#x5DEE;&#x5F02;&#x5F88;&#x5927;&#xFF0C;&#x5305;&#x62EC;&#x5BF9;executemany()&#x548C;&#x5176;&#x4ED6;&#x8FD4;&#x56DE;&#x591A;&#x884C;&#x7684;&#x8BED;&#x53E5;&#x7684;&#x9650;&#x5236;&#x3002;</span><span class="yiyi-st" id="yiyi-909">&#x8BF7;&#x9605;&#x8BFB;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x6863;&#x8BF4;&#x660E;&#xFF0C;&#x4EE5;&#x786E;&#x5B9A;RETURNING&#x7684;&#x53EF;&#x7528;&#x6027;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-910">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-911"><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>  - &#x9488;&#x5BF9;&#x5355;&#x4E2A;&#x884C;INSERT&#x6216;UPDATE&#x7684;&#x9AD8;&#x6548;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x9ED8;&#x8BA4;&#x503C;&#x548C;&#x89E6;&#x53D1;&#x5668;&#x7684;&#x4E00;&#x79CD;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#x3002;</span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.UpdateBase.scalar"><span class="yiyi-st" id="yiyi-912"><code class="descname">&#x6807;&#x91CF;</code> <span class="sig-paren">&#xFF08;</span> <em>* multiparams</em>&#xFF0C;<em>** params</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.scalar" title="Permalink to this definition">T5&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-913"> <em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.scalar" title="sqlalchemy.sql.expression.Executable.scalar"><code class="xref py py-meth docutils literal"><span class="pre">scalar()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-914">&#x7F16;&#x8BD1;&#x5E76;&#x6267;&#x884C;&#x6B64;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal"><span class="pre">Executable</span></code></a>&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x6807;&#x91CF;&#x8868;&#x793A;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.UpdateBase.self_group"><span class="yiyi-st" id="yiyi-915"><code class="descname"> self_group  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em>&#x9488;&#x5BF9;=&#x65E0; T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.self_group" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-916"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.self_group" title="sqlalchemy.sql.expression.ClauseElement.self_group"><code class="xref py py-meth docutils literal"><span class="pre">self_group()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-917">&#x5BF9;&#x8FD9;&#x4E2A;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x5E94;&#x7528;&#x201C;&#x5206;&#x7EC4;&#x201D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-918">&#x5B50;&#x7C7B;&#x91CD;&#x5199;&#x6B64;&#x65B9;&#x6CD5;&#x4EE5;&#x8FD4;&#x56DE;&#x201C;&#x5206;&#x7EC4;&#x201D;&#x7ED3;&#x6784;&#xFF0C;&#x5373;&#x62EC;&#x53F7;&#x3002;</span><span class="yiyi-st" id="yiyi-919">In particular it&#x2019;s used by &#x201C;binary&#x201D; expressions to provide a grouping around themselves when placed into a larger expression, as well as by <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a> constructs when placed into the FROM clause of another <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>. </span><span class="yiyi-st" id="yiyi-920">&#xFF08;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x901A;&#x5E38;&#x5E94;&#x4F7F;&#x7528;<a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Select.alias" title="sqlalchemy.sql.expression.Select.alias"><code class="xref py py-meth docutils literal"><span class="pre">Select.alias()</span></code></a>&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x5B50;&#x67E5;&#x8BE2;&#xFF0C;&#x56E0;&#x4E3A;&#x8BB8;&#x591A;&#x5E73;&#x53F0;&#x9700;&#x8981;&#x547D;&#x540D;&#x5D4C;&#x5957;&#x7684;SELECT&#x8BED;&#x53E5;&#xFF09;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-921">&#x7531;&#x4E8E;&#x8868;&#x8FBE;&#x5F0F;&#x7EC4;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x6240;&#x4EE5;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.self_group" title="sqlalchemy.sql.expression.UpdateBase.self_group"><code class="xref py py-meth docutils literal"><span class="pre">self_group()</span></code></a>&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x662F;&#x81EA;&#x52A8;&#x7684; - &#x6700;&#x7EC8;&#x7528;&#x6237;&#x4EE3;&#x7801;&#x4E0D;&#x9700;&#x8981;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-922">Note that SQLAlchemy&#x2019;s clause constructs take operator precedence into account - so parenthesis might not be needed, for example, in an expression like <code class="docutils literal"><span class="pre">x</span> <span class="pre">OR</span> <span class="pre">(y</span> <span class="pre">AND</span> <span class="pre">z)</span></code> - AND takes precedence over OR.</span></p><p><span class="yiyi-st" id="yiyi-923"><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a>&#x7684;base <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.self_group" title="sqlalchemy.sql.expression.UpdateBase.self_group"><code class="xref py py-meth docutils literal"><span class="pre">self_group()</span></code></a>&#x65B9;&#x6CD5;&#x4EC5;&#x8FD4;&#x56DE;self&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.UpdateBase.unique_params"><span class="yiyi-st" id="yiyi-924"><code class="descname">unique_params</code> <span class="sig-paren">&#xFF08;</span> <em>* optionaldict</em>&#xFF0C;<em>** kwargs</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.unique_params" title="Permalink to this definition">T5&gt;</a></span></dt><dd><div class="inherited-member container"><span class="yiyi-st" id="yiyi-925"> <em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.unique_params" title="sqlalchemy.sql.expression.ClauseElement.unique_params"><code class="xref py py-meth docutils literal"><span class="pre">unique_params()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal"><span class="pre">ClauseElement</span></code></a></span></div><p><span class="yiyi-st" id="yiyi-926">&#x8FD4;&#x56DE;&#x5E26;&#x6709;<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.bindparam" title="sqlalchemy.sql.expression.bindparam"><code class="xref py py-func docutils literal"><span class="pre">bindparam()</span></code></a>&#x5143;&#x7D20;&#x7684;&#x526F;&#x672C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-927">&#x4E0E;<code class="docutils literal"><span class="pre">params()</span></code>&#x529F;&#x80FD;&#x76F8;&#x540C;&#xFF0C;&#x9664;&#x4E86;&#x5C06;<cite>unique = True</cite>&#x6DFB;&#x52A0;&#x5230;&#x53D7;&#x5F71;&#x54CD;&#x7684;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x4EE5;&#x4FBF;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x591A;&#x4E2A;&#x8BED;&#x53E5;&#x3002;</span></p></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.UpdateBase.with_hint"><span class="yiyi-st" id="yiyi-928"> <code class="descname">with_hint</code><span class="sig-paren">(</span><em>text</em>, <em>selectable=None</em>, <em>dialect_name=&apos;*&apos;</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.with_hint" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-929">&#x4E3A;&#x8FD9;&#x4E2A;INSERT / UPDATE / DELETE&#x8BED;&#x53E5;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x8868;&#x63D0;&#x793A;&#x7ED9;&#x5355;&#x4E2A;&#x8868;&#x3002;</span></p><div class="admonition note"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-930">&#x6CE8;&#x610F;</span></p><p class="last"><span class="yiyi-st" id="yiyi-931"><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint" title="sqlalchemy.sql.expression.UpdateBase.with_hint"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.with_hint()</span></code></a> currently applies only to Microsoft SQL Server. </span><span class="yiyi-st" id="yiyi-932">&#x5BF9;&#x4E8E;MySQL INSERT / UPDATE / DELETE&#x63D0;&#x793A;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.prefix_with" title="sqlalchemy.sql.expression.UpdateBase.prefix_with"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.prefix_with()</span></code></a>&#x3002;</span></p></div><p><span class="yiyi-st" id="yiyi-933">The text of the hint is rendered in the appropriate location for the database backend in use, relative to the <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> that is the subject of this statement, or optionally to that of the given <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> passed as the <code class="docutils literal"><span class="pre">selectable</span></code> argument.</span></p><p><span class="yiyi-st" id="yiyi-934">The <code class="docutils literal"><span class="pre">dialect_name</span></code> option will limit the rendering of a particular hint to a particular backend. </span><span class="yiyi-st" id="yiyi-935">&#x4F8B;&#x5982;&#xFF0C;&#x6DFB;&#x52A0;&#x4EC5;&#x5BF9;SQL Server&#x6709;&#x6548;&#x7684;&#x63D0;&#x793A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">mytable</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">with_hint</span><span class="p">(</span><span class="s2">&quot;WITH (PAGLOCK)&quot;</span><span class="p">,</span> <span class="n">dialect_name</span><span class="o">=</span><span class="s2">&quot;mssql&quot;</span><span class="p">)</span></pre></div></div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-936"><span class="versionmodified">New in version 0.7.6.</span></span></p></div><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-937">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-938"><span class="target" id="sqlalchemy.sql.expression.UpdateBase.with_hint.params.text"></span> <strong>&#x6587;&#x672C;</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint.params.text">&#xB6;</a>  - &#x63D0;&#x793A;&#x7684;&#x6587;&#x672C;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-939"><span class="target" id="sqlalchemy.sql.expression.UpdateBase.with_hint.params.selectable"></span><strong>selectable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint.params.selectable">&#xB6;</a> &#x2013; optional <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> that specifies an element of the FROM clause within an UPDATE or DELETE to be the subject of the hint - applies only to certain backends.</span></li><li><span class="yiyi-st" id="yiyi-940"><span class="target" id="sqlalchemy.sql.expression.UpdateBase.with_hint.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint.params.dialect_name">&#xB6;</a> &#x2013; defaults to <code class="docutils literal"><span class="pre">*</span></code>, if specified as the name of a particular dialect, will apply these hints only when that dialect is in use.</span></li></ul></td></tr></tbody></table></dd></dl></dd></dl><dl class="class"><dt id="sqlalchemy.sql.expression.ValuesBase"><span class="yiyi-st" id="yiyi-941"> <em class="property">class </em><code class="descclassname">sqlalchemy.sql.expression.</code><code class="descname">ValuesBase</code><span class="sig-paren">(</span><em>table</em>, <em>values</em>, <em>prefixes</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.ValuesBase" title="Permalink to this definition">&#xB6;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-942">&#x57FA;&#x7840;&#xFF1A;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.sql.expression.UpdateBase</span></code></a></span></p><p><span class="yiyi-st" id="yiyi-943">&#x63D0;&#x4F9B;&#x5BF9;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.values()</span></code></a>&#x5230;INSERT&#x548C;UPDATE&#x7ED3;&#x6784;&#x7684;&#x652F;&#x6301;&#x3002;</span></p><dl class="method"><dt id="sqlalchemy.sql.expression.ValuesBase.return_defaults"><span class="yiyi-st" id="yiyi-944"><code class="descname"> return_defaults  T0&gt; <span class="sig-paren">&#xFF08; T1&gt; <em> * COLS  T2&gt; <span class="sig-paren">&#xFF09; T3&gt; <a class="headerlink" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="Permalink to this definition">&#xB6; T4&gt;</a></span></em></span></code></span></dt><dd><p><span class="yiyi-st" id="yiyi-945">&#x5229;&#x7528;<a class="reference internal" href="glossary.html#term-returning"><span class="xref std std-term">RETURNING</span></a>&#x5B50;&#x53E5;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x8868;&#x8FBE;&#x5F0F;&#x548C;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-946">&#x4F8B;&#x5982;&#x3002;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&apos;newdata&apos;</span><span class="p">)</span><span class="o">.</span><span class="n">return_defaults</span><span class="p">()</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>

<span class="n">server_created_at</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">returned_defaults</span><span class="p">[</span><span class="s1">&apos;created_at&apos;</span><span class="p">]</span></pre></div></div><p><span class="yiyi-st" id="yiyi-947">&#x5F53;&#x7528;&#x4E8E;&#x652F;&#x6301;RETURNING&#x7684;&#x540E;&#x7AEF;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x540C;&#x65F6;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.returning()</span></code></a>&#xFF0C;&#x5219;&#x7531;SQL&#x8868;&#x8FBE;&#x5F0F;&#x6216;server-side-default&#x751F;&#x6210;&#x7684;&#x6240;&#x6709;&#x5217;&#x503C;&#x5C06;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x4EFB;&#x4F55;&#x73B0;&#x6709;&#x7684;RETURNING&#x5B50;&#x53E5;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-948">&#x7136;&#x540E;&#xFF0C;&#x4F7F;&#x7528;<a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.returned_defaults" title="sqlalchemy.engine.ResultProxy.returned_defaults"><code class="xref py py-attr docutils literal"><span class="pre">ResultProxy.returned_defaults</span></code></a>&#x5B58;&#x53D6;&#x5668;&#x4F5C;&#x4E3A;&#x5B57;&#x5178;&#xFF0C;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x5728;&#x7ED3;&#x679C;&#x4E0A;&#x4F7F;&#x7528;&#x5217;&#x503C;&#xFF0C;&#x8BE5;&#x503C;&#x6307;&#x7684;&#x662F;&#x952E;&#x5165;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x5BF9;&#x8C61;&#x53CA;&#x5176;<code class="docutils literal"><span class="pre">.key</span></code></span></p><p><span class="yiyi-st" id="yiyi-949">&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x4E0E;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.returning()</span></code></a>&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#xFF1A;</span></p><ol class="arabic simple"><li><span class="yiyi-st" id="yiyi-950"><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>&#x4EC5;&#x7528;&#x4E8E;&#x4E0E;&#x4E00;&#x884C;&#x5339;&#x914D;&#x7684;INSERT&#x6216;UPDATE&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-951">&#x5C3D;&#x7BA1;&#x4E00;&#x822C;&#x610F;&#x4E49;&#x4E0A;&#x7684;RETURNING&#x6784;&#x9020;&#x652F;&#x6301;&#x591A;&#x884C;UPDATE&#x6216;DELETE&#x8BED;&#x53E5;&#x7684;&#x591A;&#x884C;&#xFF0C;&#x6216;&#x8005;&#x5BF9;&#x4E8E;&#x8FD4;&#x56DE;&#x591A;&#x884C;&#x7684;INSERT&#x7684;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x6765;&#x81EA;SELECT&#xFF0C;&#x591A;&#x503C;VALUES&#x5B50;&#x53E5;&#x7684;INSERT&#xFF09;&#xFF0C;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>&#x4EC5;&#x7528;&#x4E8E;&#x201C;ORM&#x6837;&#x5F0F;&#x201D;&#x5355;&#x884C;INSERT / UPDATE&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-952">&#x5F53;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>&#x65F6;&#xFF0C;&#x8BED;&#x53E5;&#x8FD4;&#x56DE;&#x7684;&#x884C;&#x4E5F;&#x4F1A;&#x9690;&#x5F0F;&#x6D88;&#x8017;&#x3002;</span><span class="yiyi-st" id="yiyi-953">By contrast, <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.returning()</span></code></a> leaves the RETURNING result-set intact with a collection of any number of rows.</span></li><li><span class="yiyi-st" id="yiyi-954">&#x5B83;&#x4E0E;&#x73B0;&#x6709;&#x903B;&#x8F91;&#x517C;&#x5BB9;&#xFF0C;&#x4EE5;&#x83B7;&#x53D6;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x4E3B;&#x952E;&#x503C;&#xFF0C;&#x4E5F;&#x79F0;&#x4E3A;&#x201C;&#x9690;&#x5F0F;&#x8FD4;&#x56DE;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-955">&#x652F;&#x6301;RETURNING&#x7684;&#x540E;&#x7AEF;&#x5C06;&#x81EA;&#x52A8;&#x4F7F;&#x7528;RETURNING&#x6765;&#x83B7;&#x53D6;&#x65B0;&#x751F;&#x6210;&#x7684;&#x4E3B;&#x952E;&#x503C;&#xFF1B;&#x800C;<a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.returning()</span></code></a>&#x65B9;&#x6CD5;&#x7ED5;&#x8FC7;&#x4E86;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#xFF0C;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a>&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-956">&#x5B83;&#x53EF;&#x4EE5;&#x88AB;&#x79F0;&#x4E3A;&#x53CD;&#x5BF9;&#x4EFB;&#x4F55;&#x540E;&#x7AEF;&#x3002;</span><span class="yiyi-st" id="yiyi-957">&#x4E0D;&#x652F;&#x6301;RETURNING&#x7684;&#x540E;&#x7AEF;&#x5C06;&#x8DF3;&#x8FC7;&#x529F;&#x80FD;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x3002;</span><span class="yiyi-st" id="yiyi-958"><a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.returned_defaults" title="sqlalchemy.engine.ResultProxy.returned_defaults"><code class="xref py py-attr docutils literal"><span class="pre">ResultProxy.returned_defaults</span></code></a>&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x5C06;&#x4E3A;<code class="docutils literal"><span class="pre">None</span></code></span></li></ol><p><span class="yiyi-st" id="yiyi-959"><a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.return_defaults()</span></code></a> is used by the ORM to provide an efficient implementation for the <code class="docutils literal"><span class="pre">eager_defaults</span></code> feature of <a class="reference internal" href="orm_mapping_api.html#sqlalchemy.orm.mapper" title="sqlalchemy.orm.mapper"><code class="xref py py-func docutils literal"><span class="pre">mapper()</span></code></a>.</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-960">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><span class="yiyi-st" id="yiyi-961"><span class="target" id="sqlalchemy.sql.expression.ValuesBase.return_defaults.params.cols"></span><strong>cols</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults.params.cols">&#xB6;</a> &#x2013; optional list of column key names or <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> objects. </span><span class="yiyi-st" id="yiyi-962">&#x5982;&#x679C;&#x7701;&#x7565;&#xFF0C;&#x5219;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8BC4;&#x4F30;&#x7684;&#x6240;&#x6709;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x90FD;&#x5C06;&#x6DFB;&#x52A0;&#x5230;&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x3002;</span></td></tr></tbody></table><div class="versionadded"><p><span class="yiyi-st" id="yiyi-963"><span class="versionmodified">&#x7248;&#x672C;0.9.0&#x4E2D;&#x7684;&#x65B0;&#x529F;&#x80FD;</span></span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-964">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-965"><a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal"><span class="pre">UpdateBase.returning()</span></code></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-966"><a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.returned_defaults" title="sqlalchemy.engine.ResultProxy.returned_defaults"><code class="xref py py-attr docutils literal"><span class="pre">ResultProxy.returned_defaults</span></code></a></span></p></div></dd></dl><dl class="method"><dt id="sqlalchemy.sql.expression.ValuesBase.values"><span class="yiyi-st" id="yiyi-967"><code class="descname">&#x503C;</code> <span class="sig-paren">&#xFF08;</span> <em>* args</em>&#xFF0C;<em>** kwargs</em> <span class="sig-paren">&#xFF09;</span> <a class="headerlink" href="#sqlalchemy.sql.expression.ValuesBase.values" title="Permalink to this definition">T5&gt;</a></span></dt><dd><p><span class="yiyi-st" id="yiyi-968">&#x4E3A;INSERT&#x8BED;&#x53E5;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x7684;VALUES&#x5B50;&#x53E5;&#xFF0C;&#x6216;&#x8005;&#x4E3A;UPDATE&#x6307;&#x5B9A;&#x4E00;&#x4E2A;SET&#x5B50;&#x53E5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-969">Note that the <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a> and <a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a> constructs support per-execution time formatting of the VALUES and/or SET clauses, based on the arguments passed to <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execute()</span></code></a>. </span><span class="yiyi-st" id="yiyi-970">&#x4F46;&#x662F;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.values()</span></code></a>&#x65B9;&#x6CD5;&#x5C06;&#x7279;&#x5B9A;&#x7684;&#x4E00;&#x7EC4;&#x53C2;&#x6570;&#x201C;&#x4FEE;&#x590D;&#x201D;&#x5230;&#x8BED;&#x53E5;&#x4E2D;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-971">&#x591A;&#x6B21;&#x8C03;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal"><span class="pre">ValuesBase.values()</span></code></a>&#x5C06;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x6BCF;&#x4E2A;&#x7ED3;&#x6784;&#x90FD;&#x4FEE;&#x6539;&#x53C2;&#x6570;&#x5217;&#x8868;&#x4EE5;&#x5305;&#x542B;&#x53D1;&#x9001;&#x7684;&#x65B0;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-972">&#x5728;&#x5355;&#x4E2A;&#x53C2;&#x6570;&#x5B57;&#x5178;&#x7684;&#x5178;&#x578B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x65B0;&#x4F20;&#x9012;&#x7684;&#x952E;&#x5C06;&#x66FF;&#x6362;&#x4EE5;&#x524D;&#x6784;&#x9020;&#x4E2D;&#x7684;&#x76F8;&#x540C;&#x952E;&#x3002;</span><span class="yiyi-st" id="yiyi-973">&#x5728;&#x57FA;&#x4E8E;&#x5217;&#x8868;&#x7684;&#x201C;&#x591A;&#x503C;&#x201D;&#x7ED3;&#x6784;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6BCF;&#x4E2A;&#x65B0;&#x7684;&#x503C;&#x5217;&#x8868;&#x90FD;&#x88AB;&#x6269;&#x5C55;&#x5230;&#x73B0;&#x6709;&#x7684;&#x503C;&#x5217;&#x8868;&#x4E2D;&#x3002;</span></p><table class="docutils field-list" frame="void" rules="none"><tbody valign="top"><tr class="field-odd field"><th class="field-name"><span class="yiyi-st" id="yiyi-974">&#x53C2;&#x6570;&#xFF1A;</span></th><td class="field-body"><ul class="first last simple"><li><span class="yiyi-st" id="yiyi-976"><span class="target" id="sqlalchemy.sql.expression.ValuesBase.values.params.**kwargs"></span> <strong>** kwargs</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values.params.**kwargs">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-975">&#x952E;&#x503C;&#x5BF9;&#x8868;&#x793A;&#x6620;&#x5C04;&#x5230;&#x8981;&#x5448;&#x73B0;&#x5230;VALUES&#x6216;SET&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x503C;&#x7684;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x952E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;some name&quot;</span><span class="p">)</span>

<span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">users</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="o">==</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;some name&quot;</span><span class="p">)</span></pre></div></div></li><li><span class="yiyi-st" id="yiyi-997"><span class="target" id="sqlalchemy.sql.expression.ValuesBase.values.params.*args"></span> <strong>* args</strong> <a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values.params.*args">&#xB6;</a>  - </span><p><span class="yiyi-st" id="yiyi-977">&#x4F5C;&#x4E3A;&#x4F20;&#x9012;&#x952E;/&#x503C;&#x53C2;&#x6570;&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#xFF0C;&#x5B57;&#x5178;&#xFF0C;&#x5143;&#x7EC4;&#x6216;&#x5B57;&#x5178;&#x6216;&#x5143;&#x7EC4;&#x5217;&#x8868;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x5355;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x4F20;&#x9012;&#xFF0C;&#x4EE5;&#x5F62;&#x6210;&#x8BED;&#x53E5;&#x7684;VALUES&#x6216;SET&#x5B50;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-978">&#x63A5;&#x53D7;&#x7684;&#x8868;&#x5355;&#x6839;&#x636E;&#x662F;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x8FD8;&#x662F;<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a>&#x7ED3;&#x6784;&#x800C;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-979">&#x5BF9;&#x4E8E;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x6216;<a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a>&#x7ED3;&#x6784;&#xFF0C;&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x5355;&#x4E2A;&#x5B57;&#x5178;&#xFF0C;&#x5176;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x4E0E;kwargs&#x8868;&#x5355;&#x76F8;&#x540C;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some name&quot;</span><span class="p">})</span>

<span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some new name&quot;</span><span class="p">})</span></pre></div></div><p><span class="yiyi-st" id="yiyi-980">&#x5BF9;&#x4E8E;&#x4EFB;&#x4F55;&#x4E00;&#x79CD;&#x5F62;&#x5F0F;&#xFF0C;&#x4F46;&#x5BF9;&#x4E8E;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x6784;&#x9020;&#x66F4;&#x5178;&#x578B;&#xFF0C;&#x4E5F;&#x63A5;&#x53D7;&#x5305;&#x542B;&#x8868;&#x4E2D;&#x6BCF;&#x5217;&#x7684;&#x6761;&#x76EE;&#x7684;&#x5143;&#x7EC4;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;some name&quot;</span><span class="p">))</span></pre></div></div><p><span class="yiyi-st" id="yiyi-981"><a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a>&#x7ED3;&#x6784;&#x8FD8;&#x652F;&#x6301;&#x4F20;&#x9012;&#x5B57;&#x5178;&#x6216;&#x5168;&#x8868;&#x5143;&#x7EC4;&#x5217;&#x8868;&#xFF0C;&#x8FD9;&#x4E9B;&#x5143;&#x7EC4;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5C06;&#x5448;&#x73B0;&#x4E0D;&#x592A;&#x5E38;&#x89C1;&#x7684;&#x201C;&#x591A;&#x503C;&#x201D;SQL&#x8BED;&#x6CD5; - &#x540E;&#x7AEF;&#x652F;&#x6301;&#x6B64;&#x8BED;&#x6CD5;&#xFF0C;&#x5982;SQLite&#xFF0C;Postgresql&#xFF0C;MySQL&#xFF0C;&#x4F46;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x5176;&#x4ED6;&#x7684;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">([</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some name&quot;</span><span class="p">},</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some other name&quot;</span><span class="p">},</span>
                    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;yet another name&quot;</span><span class="p">},</span>
                <span class="p">])</span></pre></div></div><p><span class="yiyi-st" id="yiyi-982">&#x4E0A;&#x9762;&#x7684;&#x8868;&#x5355;&#x5C06;&#x5448;&#x73B0;&#x591A;&#x4E2A;VALUES&#x8BED;&#x53E5;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>INSERT INTO users (name) VALUES
                (:name_1),
                (:name_2),
                (:name_3)</pre></div></div><p><span class="yiyi-st" id="yiyi-983">It is essential to note that <strong>passing multiple values is NOT the same as using traditional executemany() form</strong>. </span><span class="yiyi-st" id="yiyi-984">&#x4E0A;&#x9762;&#x7684;&#x8BED;&#x6CD5;&#x662F;&#x4E0D;&#x5E38;&#x7528;&#x7684;<strong>&#x7279;&#x6B8A;</strong>&#x8BED;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-985">&#x8981;&#x9488;&#x5BF9;&#x591A;&#x884C;&#x53D1;&#x51FA;INSERT&#x8BED;&#x53E5;&#xFF0C;&#x5E38;&#x89C4;&#x65B9;&#x6CD5;&#x662F;&#x5C06;&#x591A;&#x4E2A;&#x503C;&#x5217;&#x8868;&#x4F20;&#x9012;&#x7ED9;<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execute()</span></code></a>&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x7531;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;&#x540E;&#x7AEF;&#x652F;&#x6301;&#xFF0C;&#x5E76;&#x4E14;&#x901A;&#x5E38;&#x5BF9;&#x4E8E;&#x975E;&#x5E38;&#x9AD8;&#x6548;&#x7684;&#x5927;&#x91CF;&#x7684;&#x53C2;&#x6570;&#x3002;</span></p><blockquote><div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-986">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-987"><a class="reference internal" href="tutorial.html#execute-multiple"><span>Executing Multiple Statements</span></a>  - &#x4ECB;&#x7ECD;&#x7528;&#x4E8E;INSERT&#x548C;&#x5176;&#x4ED6;&#x8BED;&#x53E5;&#x7684;&#x591A;&#x53C2;&#x6570;&#x96C6;&#x8C03;&#x7528;&#x7684;&#x4F20;&#x7EDF;Core&#x65B9;&#x6CD5;&#x3002;</span></p></div><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-988"><span class="versionmodified">&#x7248;&#x672C;1.0.0&#x4E2D;&#x5DF2;&#x66F4;&#x6539;&#xFF1A;</span>&#x4F7F;&#x7528;&#x591A;&#x4E2A;VALUES&#x5B50;&#x53E5;&#xFF08;&#x5373;&#x4F7F;&#x662F;&#x957F;&#x5EA6;&#x4E3A;1&#x7684;&#x5217;&#x8868;&#xFF09;&#x7684;INSERT&#x610F;&#x5473;&#x7740;<a class="reference internal" href="#sqlalchemy.sql.expression.Insert.params.inline" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-paramref docutils literal"><span class="pre">Insert.inline</span></code></a>&#x6807;&#x5FD7;&#x8BBE;&#x7F6E;&#x4E3A;True&#xFF0C;&#x8868;&#x660E;&#x8BE5;&#x8BED;&#x53E5;&#x4E0D;&#x4F1A;&#x5C1D;&#x8BD5;&#x83B7;&#x53D6;&#x201C;&#x6700;&#x540E;&#x63D2;&#x5165;&#x7684;&#x4E3B;&#x952E;&#x201D;&#x6216;&#x5176;&#x4ED6;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-989">&#x8BE5;&#x8BED;&#x53E5;&#x5904;&#x7406;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x884C;&#xFF0C;&#x56E0;&#x6B64;<a class="reference internal" href="connections.html#sqlalchemy.engine.ResultProxy.inserted_primary_key" title="sqlalchemy.engine.ResultProxy.inserted_primary_key"><code class="xref py py-attr docutils literal"><span class="pre">ResultProxy.inserted_primary_key</span></code></a>&#x8BBF;&#x95EE;&#x5668;&#x4E0D;&#x9002;&#x7528;&#x3002;</span></p></div><div class="versionchanged"><p><span class="yiyi-st" id="yiyi-990"><span class="versionmodified">&#x5728;1.0.0&#x7248;&#x672C;&#x4E2D;&#x5DF2;&#x66F4;&#x6539;&#xFF1A;</span>&#x591A;&#x503C;&#x63D2;&#x5165;&#x73B0;&#x5728;&#x652F;&#x6301;&#x5177;&#x6709;Python&#x4FA7;&#x7F3A;&#x7701;&#x503C;&#x548C;&#x53EF;&#x8C03;&#x53C2;&#x6570;&#x7684;&#x5217;&#xFF0C;&#x65B9;&#x5F0F;&#x4E0E;&#x201C;executemany&#x201D;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x76F8;&#x540C;&#xFF1B;&#x53EF;&#x8C03;&#x7528;&#x7684;&#x662F;&#x6BCF;&#x884C;&#x8C03;&#x7528;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-991">&#x5BF9;&#x4E8E;&#x5176;&#x4ED6;&#x7EC6;&#x8282;&#xFF0C;&#x5F53;&#x4F7F;&#x7528;&#x591A;&#x503C;&#x63D2;&#x5165;&#x65F6;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="changelog_migration_10.html#bug-3288"><span>Python-side defaults invoked for each row invidually when using a multivalued insert</span></a></span></p></div></div></blockquote><p><span class="yiyi-st" id="yiyi-992"><a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal"><span class="pre">Update</span></code></a>&#x7ED3;&#x6784;&#x652F;&#x6301;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x4E2A;2&#x5143;&#x7EC4;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x5F53;&#x63D0;&#x4F9B;&#x7684;&#x65F6;&#x5019;&#x5FC5;&#x987B;&#x548C;<a class="reference internal" href="#sqlalchemy.sql.expression.update.params.preserve_parameter_order" title="sqlalchemy.sql.expression.update"><code class="xref py py-paramref docutils literal"><span class="pre">preserve_parameter_order</span></code></a>&#x53C2;&#x6570;&#x4E00;&#x8D77;&#x4F20;&#x9012;&#x3002;</span><span class="yiyi-st" id="yiyi-993">&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x5BFC;&#x81F4;UPDATE&#x8BED;&#x53E5;&#x4F7F;&#x7528;<a class="reference internal" href="#sqlalchemy.sql.expression.Update.values" title="sqlalchemy.sql.expression.Update.values"><code class="xref py py-meth docutils literal"><span class="pre">Update.values()</span></code></a>&#x7ED9;&#x51FA;&#x7684;&#x53C2;&#x6570;&#x987A;&#x5E8F;&#x6765;&#x5448;&#x73B0;SET&#x5B50;&#x53E5;&#xFF0C;&#x800C;&#x4E0D;&#x662F;<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x4E2D;&#x7ED9;&#x51FA;&#x7684;&#x5217;&#x7684;&#x987A;&#x5E8F;&#x3002;</span></p><blockquote><div><div class="versionadded"><p><span class="yiyi-st" id="yiyi-994"><span class="versionmodified">&#x7248;&#x672C;1.0.10&#x4E2D;&#x7684;&#x65B0;&#x589E;&#x529F;&#x80FD;&#xFF1A;</span>  - &#x901A;&#x8FC7;<a class="reference internal" href="#sqlalchemy.sql.expression.update.params.preserve_parameter_order" title="sqlalchemy.sql.expression.update"><code class="xref py py-paramref docutils literal"><span class="pre">preserve_parameter_order</span></code></a>&#x6807;&#x5FD7;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x53C2;&#x6570;&#x6392;&#x5E8F;&#x7684;UPDATE&#x8BED;&#x53E5;&#x7684;&#x652F;&#x6301;&#x3002;</span></p></div><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-995">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-996"><a class="reference internal" href="tutorial.html#updates-order-parameters"><span>Parameter-Ordered Updates</span></a>  -  <a class="reference internal" href="#sqlalchemy.sql.expression.update.params.preserve_parameter_order" title="sqlalchemy.sql.expression.update"><code class="xref py py-paramref docutils literal"><span class="pre">preserve_parameter_order</span></code></a>&#x6807;&#x5FD7;&#x7684;&#x5B8C;&#x6574;&#x793A;&#x4F8B;</span></p></div></div></blockquote></li></ul></td></tr></tbody></table><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-998">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-999"><a class="reference internal" href="tutorial.html#inserts-and-updates"><span>Inserts, Updates and Deletes</span></a>  -  SQL&#x8868;&#x8FBE;&#x5F0F;&#x8BED;&#x8A00;&#x6559;&#x7A0B;</span></p><p><span class="yiyi-st" id="yiyi-1000"><a class="reference internal" href="#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><code class="xref py py-func docutils literal"><span class="pre">insert()</span></code></a>  - &#x4EA7;&#x751F;&#x4E00;&#x4E2A;<code class="docutils literal"><span class="pre">INSERT</span></code>&#x8BED;&#x53E5;</span></p><p class="last"><span class="yiyi-st" id="yiyi-1001"><a class="reference internal" href="#sqlalchemy.sql.expression.update" title="sqlalchemy.sql.expression.update"><code class="xref py py-func docutils literal"><span class="pre">update()</span></code></a>  - &#x4EA7;&#x751F;&#x4E00;&#x4E2A;<code class="docutils literal"><span class="pre">UPDATE</span></code>&#x8BED;&#x53E5;</span></p></div></dd></dl></dd></dl>