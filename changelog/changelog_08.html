<h1><span class="yiyi-st" id="yiyi-138">0.8&#x66F4;&#x65B0;&#x65E5;&#x5FD7;<a class="headerlink" href="#changelog" title="Permalink to this headline">&#xB6;</a></span></h1><div class="section" id="change-0.8.7"><h2><span class="yiyi-st" id="yiyi-139">0.8.7 <a class="headerlink" href="#change-0.8.7" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-187">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2014&#x5E74;7&#x6708;22&#x65E5;</span><div class="section" id="change-0.8.7-orm"><h3><span class="yiyi-st" id="yiyi-140">ORM <a class="headerlink" href="#change-0.8.7-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.7-0"><span class="yiyi-st" id="yiyi-141"><span class="target" id="change-e10433635e670cc6b02866d5fca31d7f"><strong>[orm] [bug] </strong></span>Fixed bug in subquery eager loading where a long chain of eager loads across a polymorphic-subclass boundary in conjunction with polymorphic loading would fail to locate the subclass-link in the chain, erroring out with a missing property name on an <a class="reference internal" href="orm_query.html#sqlalchemy.orm.util.AliasedClass" title="sqlalchemy.orm.util.AliasedClass"><code class="xref py py-class docutils literal"><span class="pre">AliasedClass</span></code></a>.<a class="changeset-link headerlink reference internal" href="#change-e10433635e670cc6b02866d5fca31d7f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-142">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3055">&#xFF03;3055</a></span></p></li><li><p id="change-0.8.7-1"><span class="yiyi-st" id="yiyi-143"><span class="target" id="change-e8cf642e4e106568a47ada55df3ad138"><strong>[orm] [bug] </strong></span>Fixed ORM bug where the <a class="reference internal" href="orm_mapping_api.html#sqlalchemy.orm.class_mapper" title="sqlalchemy.orm.class_mapper"><code class="xref py py-func docutils literal"><span class="pre">class_mapper()</span></code></a> function would mask AttributeErrors or KeyErrors that should raise during mapper configuration due to user errors. </span><span class="yiyi-st" id="yiyi-144">&#x5BF9;&#x5C5E;&#x6027;/&#x952E;&#x9519;&#x8BEF;&#x7684;&#x6355;&#x83B7;&#x66F4;&#x5177;&#x4F53;&#xFF0C;&#x4E0D;&#x5305;&#x62EC;&#x914D;&#x7F6E;&#x6B65;&#x9AA4;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e8cf642e4e106568a47ada55df3ad138">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-145">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3047">&#xFF03;3047</a></span></p></li></ul></div><div class="section" id="change-0.8.7-sql"><h3><span class="yiyi-st" id="yiyi-146">SQL <a class="headerlink" href="#change-0.8.7-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.7-2"><span class="yiyi-st" id="yiyi-147"><span class="target" id="change-a15c47336c5543b3fc74834213c1b3bd"><strong>[sql] [bug] </strong></span>Fixed bug in <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal"><span class="pre">Enum</span></code></a> and other <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><code class="xref py py-class docutils literal"><span class="pre">SchemaType</span></code></a> subclasses where direct association of the type with a <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal"><span class="pre">MetaData</span></code></a> would lead to a hang when events (like create events) were emitted on the <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal"><span class="pre">MetaData</span></code></a>.<a class="changeset-link headerlink reference internal" href="#change-a15c47336c5543b3fc74834213c1b3bd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-148">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3124">&#xFF03;3124</a></span></p></li><li><p id="change-0.8.7-3"><span class="yiyi-st" id="yiyi-149"><span class="target" id="change-54a43ce4f9140ba4a030c184f23dc9f6"><strong>[sql] [bug] </strong></span>Fixed a bug within the custom operator plus <a class="reference internal" href="core_type_api.html#sqlalchemy.types.TypeEngine.with_variant" title="sqlalchemy.types.TypeEngine.with_variant"><code class="xref py py-meth docutils literal"><span class="pre">TypeEngine.with_variant()</span></code></a> system, whereby using a <a class="reference internal" href="core_custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal"><span class="pre">TypeDecorator</span></code></a> in conjunction with variant would fail with an MRO error when a comparison operator was used.<a class="changeset-link headerlink reference internal" href="#change-54a43ce4f9140ba4a030c184f23dc9f6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-150">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3102">&#xFF03;3102</a></span></p></li><li><p id="change-0.8.7-4"><span class="yiyi-st" id="yiyi-151"><span class="target" id="change-2d3949a5f46b25fe3382151b8669ae6b"><strong>[sql] [bug] </strong></span>Fixed bug in INSERT..FROM SELECT construct where selecting from a UNION would wrap the union in an anonymous (e.g. unlabled) subquery.<a class="changeset-link headerlink reference internal" href="#change-2d3949a5f46b25fe3382151b8669ae6b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-152">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3044">&#xFF03;3044</a></span></p></li><li><p id="change-0.8.7-5"><span class="yiyi-st" id="yiyi-153">&#x4FEE;&#x590D;&#x4E86;&#x5F53;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table.update" title="sqlalchemy.schema.Table.update"><code class="xref py py-meth docutils literal"><span class="pre">Table.update()</span></code></a>&#x548C;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table.delete" title="sqlalchemy.schema.Table.delete"><code class="xref py py-meth docutils literal"><span class="pre">Table.delete()</span></code></a>&#x5728;&#x7A7A;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;WHERE&#x5B50;&#x53E5;&#x7684;&#x95EE;&#x9898;&#x3002;<span class="target" id="change-f4de3727dd13fd61c02ae2721cfaafc5"><strong>[sql] [bug] </strong></span> <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.and_" title="sqlalchemy.sql.expression.and_"><code class="xref py py-func docutils literal"><span class="pre">and_()</span></code></a>&#x6216;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.or_" title="sqlalchemy.sql.expression.or_"><code class="xref py py-func docutils literal"><span class="pre">or_()</span></code></a>&#x6216;&#x5176;&#x4ED6;&#x7A7A;&#x767D;&#x8868;&#x8FBE;&#x3002;</span><span class="yiyi-st" id="yiyi-154">&#x8FD9;&#x4E0E;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>&#x7684;&#x4E00;&#x81F4;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f4de3727dd13fd61c02ae2721cfaafc5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-155">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3045">&#xFF03;3045</a></span></p></li></ul></div><div class="section" id="change-0.8.7-postgresql"><h3><span class="yiyi-st" id="yiyi-156">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.8.7-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.7-6"><span class="yiyi-st" id="yiyi-157"><span class="target" id="change-127ec92a16e57cf51809b91f2b78c9d6"><strong>[postgresql] [bug] </strong></span>&#x4E3A;PG <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.HSTORE" title="sqlalchemy.dialects.postgresql.HSTORE"><code class="xref py py-class docutils literal"><span class="pre">HSTORE</span></code></a>&#x7C7B;&#x578B;&#x6DFB;&#x52A0;&#x4E86;<code class="docutils literal"><span class="pre">hashable=False</span></code>&#x6807;&#x5FD7;&#xFF0C;&#x8FD9;&#x662F;&#x5141;&#x8BB8;ORM&#x8DF3;&#x8FC7;&#x5C1D;&#x8BD5;&#x5728;&#x6DF7;&#x5408;&#x5217;/&#x5B9E;&#x4F53;&#x5217;&#x8868;&#x4E2D;&#x8BF7;&#x6C42;ORM&#x6620;&#x5C04;&#x7684;HSTORE&#x5217;&#x65F6;&#x201C;&#x6563;&#x5217;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-158">&#x8865;&#x4E01;&#x793C;&#x8C8C;Gunnlaugur&#xDE;&#xF3;rBriem&#x3002;<a class="changeset-link headerlink reference internal" href="#change-127ec92a16e57cf51809b91f2b78c9d6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-159">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3053">&#xFF03;3053</a></span></p></li><li><p id="change-0.8.7-7"><span class="yiyi-st" id="yiyi-160"><span class="target" id="change-b3bdb51a69a9c0f277ff16a91bfc9e34"><strong>[postgresql] [bug] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x201C;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x201D;&#x6D88;&#x606F;&#x201C;&#x8FDE;&#x63A5;&#x610F;&#x5916;&#x5173;&#x95ED;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-161">&#x8FD9;&#x4F3C;&#x4E4E;&#x4E0E;&#x66F4;&#x65B0;&#x7248;&#x672C;&#x7684;SSL&#x6709;&#x5173;&#x3002;</span><span class="yiyi-st" id="yiyi-162">&#x62C9;&#x63D0;&#x8BF7;&#x6C42;Antti Haapala&#x793C;&#x8C8C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b3bdb51a69a9c0f277ff16a91bfc9e34">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-163">&#x53C2;&#x8003;&#xFF1A;<a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy/pull-request/13">&#x62C9;&#x53D6;&#x8BF7;&#x6C42;bitbucket&#xFF1A;13</a></span></p></li></ul></div><div class="section" id="change-0.8.7-mysql"><h3><span class="yiyi-st" id="yiyi-164">MySQL&#x7684;<a class="headerlink" href="#change-0.8.7-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.7-8"><span class="yiyi-st" id="yiyi-165"><span class="target" id="change-5e1d2173c0bc6f19d10fa839a3f575fc"><strong>[mysql] [bug] </strong></span>MySQL error 2014 &#x201C;commands out of sync&#x201D; appears to be raised as a ProgrammingError, not OperationalError, in modern MySQL-Python versions; all MySQL error codes that are tested for &#x201C;is disconnect&#x201D; are now checked within OperationalError and ProgrammingError regardless.<a class="changeset-link headerlink reference internal" href="#change-5e1d2173c0bc6f19d10fa839a3f575fc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-166">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3101">&#xFF03;3101</a></span></p></li><li><p id="change-0.8.7-9"><span class="yiyi-st" id="yiyi-167"><span class="target" id="change-6ebc4901dda2870745c197767107fd38"><strong>[mysql] [bug] </strong></span>Fixed bug where column names added to <code class="docutils literal"><span class="pre">mysql_length</span></code> parameter on an index needed to have the same quoting for quoted names in order to be recognized. </span><span class="yiyi-st" id="yiyi-168">&#x8BE5;&#x4FEE;&#x590D;&#x4F7F;&#x5F97;&#x5F15;&#x53F7;&#x662F;&#x53EF;&#x9009;&#x7684;&#xFF0C;&#x4F46;&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x65E7;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E0E;&#x4F7F;&#x7528;&#x53D8;&#x901A;&#x65B9;&#x6CD5;&#x7684;&#x5411;&#x540E;&#x517C;&#x5BB9;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6ebc4901dda2870745c197767107fd38">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-169">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3085">&#xFF03;3085</a></span></p></li><li><p id="change-0.8.7-10"><span class="yiyi-st" id="yiyi-170"><span class="target" id="change-adc1cf48426d16ff7afa412b798f7afb"><strong>[mysql] [bug] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x4F7F;&#x7528;&#x7B49;&#x53F7;&#x5728;&#x7D22;&#x5F15;&#x4E2D;&#x5305;&#x542B;KEY_BLOCK_SIZE&#x7684;&#x8868;&#x6765;&#x53CD;&#x6620;&#x8868;&#x7684;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-171">&#x62C9;&#x8BF7;&#x6C42;&#x793C;&#x8C8C;&#x8096;&#x6069;McGivern&#x3002;<a class="changeset-link headerlink reference internal" href="#change-adc1cf48426d16ff7afa412b798f7afb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-172">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy/pull-request/15">&#x62C9;&#x53D6;&#x8BF7;&#x6C42;bitbucket&#xFF1A;15</a></span></p></li></ul></div><div class="section" id="change-0.8.7-mssql"><h3><span class="yiyi-st" id="yiyi-173">MSSQL <a class="headerlink" href="#change-0.8.7-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.7-11"><span class="yiyi-st" id="yiyi-174"><span class="target" id="change-a332694f4a4dea710533a471230b2559"><strong>[mssql] [bug] </strong></span>Added statement encoding to the &#x201C;SET IDENTITY_INSERT&#x201D; statements which operate when an explicit INSERT is being interjected into an IDENTITY column, to support non-ascii table identifiers on drivers such as pyodbc + unix + py2k that don&#x2019;t support unicode statements.<a class="changeset-link headerlink reference internal" href="#change-a332694f4a4dea710533a471230b2559">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.7-12"><span class="yiyi-st" id="yiyi-175"><span class="target" id="change-abc172e784213b6cd1a62bf4af97acdd"><strong>[mssql] [bug] </strong></span>In the SQL Server pyodbc dialect, repaired the implementation for the <code class="docutils literal"><span class="pre">description_encoding</span></code> dialect parameter, which when not explicitly set was preventing cursor.description from being parsed correctly in the case of result sets that contained names in alternate encodings. </span><span class="yiyi-st" id="yiyi-176">&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4E0D;&#x5E94;&#x8BE5;&#x88AB;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-abc172e784213b6cd1a62bf4af97acdd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-177">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3091">&#xFF03;3091</a></span></p></li></ul></div><div class="section" id="change-0.8.7-misc"><h3><span class="yiyi-st" id="yiyi-178">&#x6742;&#x9879;<a class="headerlink" href="#change-0.8.7-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.7-13"><span class="yiyi-st" id="yiyi-179"><span class="target" id="change-4247b43502c3504d7399eff5dbaec535"><strong>[bug] [declarative] </strong></span>The <code class="docutils literal"><span class="pre">__mapper_args__</span></code> dictionary is copied from a declarative mixin or abstract class when accessed, so that modifications made to this dictionary by declarative itself won&#x2019;t conflict with that of other mappings. </span><span class="yiyi-st" id="yiyi-180">&#x5173;&#x4E8E;<code class="docutils literal"><span class="pre">version_id_col</span></code>&#x548C;<code class="docutils literal"><span class="pre">polymorphic_on</span></code>&#x53C2;&#x6570;&#x7684;&#x5B57;&#x5178;&#x88AB;&#x4FEE;&#x6539;&#xFF0C;&#x5C06;&#x5185;&#x90E8;&#x7684;&#x5217;&#x66FF;&#x6362;&#x4E3A;&#x6B63;&#x5F0F;&#x6620;&#x5C04;&#x5230;&#x672C;&#x5730;&#x7C7B;/&#x8868;&#x7684;&#x5217;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4247b43502c3504d7399eff5dbaec535">&#xB6; t4 &gt;</a></span></p><p><span class="yiyi-st" id="yiyi-181">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3062">&#xFF03;3062</a></span></p></li><li><p id="change-0.8.7-14"><span class="yiyi-st" id="yiyi-182"><span class="target" id="change-af885a6f2bdf7de42dea7ecbd89161c8"><strong>[bug] [ext] </strong></span>Fixed bug in mutable extension where <a class="reference internal" href="orm_extensions_mutable.html#sqlalchemy.ext.mutable.MutableDict" title="sqlalchemy.ext.mutable.MutableDict"><code class="xref py py-class docutils literal"><span class="pre">MutableDict</span></code></a> did not report change events for the <code class="docutils literal"><span class="pre">setdefault()</span></code> dictionary operation.<a class="changeset-link headerlink reference internal" href="#change-af885a6f2bdf7de42dea7ecbd89161c8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-183">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3093">&#xFF03;3093</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3051">&#xFF03;3051</a></span></p></li><li><p id="change-0.8.7-15"><span class="yiyi-st" id="yiyi-184"><span class="target" id="change-3fc56a563e46ae2b5aff7b904aae4ff9"><strong>[bug] [ext] </strong></span>Fixed bug where <a class="reference internal" href="orm_extensions_mutable.html#sqlalchemy.ext.mutable.MutableDict.setdefault" title="sqlalchemy.ext.mutable.MutableDict.setdefault"><code class="xref py py-meth docutils literal"><span class="pre">MutableDict.setdefault()</span></code></a> didn&#x2019;t return the existing or new value (this bug was not released in any 0.8 version). </span><span class="yiyi-st" id="yiyi-185">&#x8BF7;&#x6C42;&#x793C;&#x8C8C;&#x6258;&#x9A6C;&#x65AF;Herv&#xE9;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3fc56a563e46ae2b5aff7b904aae4ff9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-186">References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3093">#3093</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3051">#3051</a>, <a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy/pull-request/24">pull request bitbucket:24</a></span></p></li></ul></div></div><div class="section" id="change-0.8.6"><h2><span class="yiyi-st" id="yiyi-188">0.8.6 <a class="headerlink" href="#change-0.8.6" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-216">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2014&#x5E74;3&#x6708;28&#x65E5;</span><div class="section" id="change-0.8.6-general"><h3><span class="yiyi-st" id="yiyi-189">&#x4E00;&#x822C;<a class="headerlink" href="#change-0.8.6-general" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.6-0"><span class="yiyi-st" id="yiyi-190"><span class="target" id="change-4eb0725a9e53337556a261ca91f628e1"><strong>[general] [bug] </strong></span>Adjusted <code class="docutils literal"><span class="pre">setup.py</span></code> file to support the possible future removal of the <code class="docutils literal"><span class="pre">setuptools.Feature</span></code> extension from setuptools. </span><span class="yiyi-st" id="yiyi-191">&#x5982;&#x679C;&#x6B64;&#x5173;&#x952E;&#x5B57;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x4F7F;&#x7528;setuptools&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#x4ECD;&#x7136;&#x4F1A;&#x6210;&#x529F;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x9000;&#x56DE;&#x5230;distutils&#x3002;</span><span class="yiyi-st" id="yiyi-192">&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;DISABLE_SQLALCHEMY_CEXT&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x6765;&#x7981;&#x7528;C&#x6269;&#x5C55;&#x6784;&#x5EFA;&#x3002;</span><span class="yiyi-st" id="yiyi-193">&#x65E0;&#x8BBA;setuptools&#x662F;&#x5426;&#x53EF;&#x7528;&#xFF0C;&#x8BE5;&#x53D8;&#x91CF;&#x90FD;&#x9002;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4eb0725a9e53337556a261ca91f628e1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-194">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2986">&#xFF03;2986</a></span></p></li></ul></div><div class="section" id="change-0.8.6-orm"><h3><span class="yiyi-st" id="yiyi-195">ORM <a class="headerlink" href="#change-0.8.6-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.6-1"><span class="yiyi-st" id="yiyi-196"><span class="target" id="change-8aade2e05c6bfa4d19d23d28d5d85e3c"><strong>[orm] [bug] </strong></span>Fixed ORM bug where changing the primary key of an object, then marking it for DELETE would fail to target the correct row for DELETE.<a class="changeset-link headerlink reference internal" href="#change-8aade2e05c6bfa4d19d23d28d5d85e3c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-197">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3006">&#xFF03;3006</a></span></p></li><li><p id="change-0.8.6-2"><span class="yiyi-st" id="yiyi-198"><span class="target" id="change-3751a74e73168b0beaccedabc93166fc"><strong>[orm] [bug] </strong></span>Fixed regression from 0.8.3 as a result of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2818">#2818</a> where <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.exists" title="sqlalchemy.orm.query.Query.exists"><code class="xref py py-meth docutils literal"><span class="pre">Query.exists()</span></code></a> wouldn&#x2019;t work on a query that only had a <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_from()</span></code></a> entry but no other entities.<a class="changeset-link headerlink reference internal" href="#change-3751a74e73168b0beaccedabc93166fc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-199">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2995">&#xFF03;2995</a></span></p></li><li><p id="change-0.8.6-3"><span class="yiyi-st" id="yiyi-200"><span class="target" id="change-721de30f36994714bbaa71cb716e72e3"><strong>[orm] [bug] </strong></span>Improved an error message which would occur if a query() were made against a non-selectable, such as a <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.literal_column" title="sqlalchemy.sql.expression.literal_column"><code class="xref py py-func docutils literal"><span class="pre">literal_column()</span></code></a>, and then an attempt was made to use <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.join" title="sqlalchemy.orm.query.Query.join"><code class="xref py py-meth docutils literal"><span class="pre">Query.join()</span></code></a> such that the &#x201C;left&#x201D; side would be determined as <code class="docutils literal"><span class="pre">None</span></code> and then fail. </span><span class="yiyi-st" id="yiyi-201">&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x660E;&#x786E;&#x68C0;&#x6D4B;&#x5230;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-721de30f36994714bbaa71cb716e72e3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.6-4"><span class="yiyi-st" id="yiyi-202"><span class="target" id="change-1f6608c117a2d4b77f07a065788123ce"><strong>[orm] [bug] </strong></span>&#x4ECE;<code class="docutils literal"><span class="pre">sqlalchemy.orm.interfaces.__all__</span></code>&#x4E2D;&#x5220;&#x9664;&#x4E86;&#x8FC7;&#x671F;&#x540D;&#x79F0;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;&#x5F53;&#x524D;&#x540D;&#x79F0;&#x5237;&#x65B0;&#xFF0C;&#x4EE5;&#x4FBF;&#x5BFC;&#x5165;<span class="pre"><span class="pre">&gt; <span class="pre">*</span>&#x518D;&#x6B21;&#x8FD0;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1f6608c117a2d4b77f07a065788123ce">&#xB6;</a></span></span></span></p><p><span class="yiyi-st" id="yiyi-203">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2975">&#xFF03;2975</a></span></p></li></ul></div><div class="section" id="change-0.8.6-sql"><h3><span class="yiyi-st" id="yiyi-204">SQL <a class="headerlink" href="#change-0.8.6-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.6-5"><span class="yiyi-st" id="yiyi-205"><span class="target" id="change-c61526d344b80f9ac2ea48bdf871a1c8"><strong>[sql] [bug] </strong></span>Fixed bug in <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.tuple_" title="sqlalchemy.sql.expression.tuple_"><code class="xref py py-func docutils literal"><span class="pre">tuple_()</span></code></a> construct where the &#x201C;type&#x201D; of essentially the first SQL expression would be applied as the &#x201C;comparison type&#x201D; to a compared tuple value; this has the effect in some cases of an inappropriate &#x201C;type coersion&#x201D; occurring, such as when a tuple that has a mix of String and Binary values improperly coerces target values to Binary even though that&#x2019;s not what they are on the left side. </span><span class="yiyi-st" id="yiyi-206"><a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.tuple_" title="sqlalchemy.sql.expression.tuple_"><code class="xref py py-func docutils literal"><span class="pre">tuple_()</span></code></a> now expects heterogeneous types within its list of values.<a class="changeset-link headerlink reference internal" href="#change-c61526d344b80f9ac2ea48bdf871a1c8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-207">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2977">&#xFF03;2977</a></span></p></li></ul></div><div class="section" id="change-0.8.6-postgresql"><h3><span class="yiyi-st" id="yiyi-208">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.8.6-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.6-6"><span class="yiyi-st" id="yiyi-209"><span class="target" id="change-0e27187508dd3fc6a655238c01a756bd"><strong>[postgresql] [feature] </strong></span>&#x542F;&#x7528;&#x4E86;&#x201C;&#x7406;&#x667A;&#x7684;&#x591A;&#x884C;&#x8BA1;&#x6570;&#x201D;&#x68C0;&#x67E5;psycopg2 DBAPI&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4F3C;&#x4E4E;&#x5728;psycopg2 2.0.9&#x4E2D;&#x53D7;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0e27187508dd3fc6a655238c01a756bd">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.6-7"><span class="yiyi-st" id="yiyi-210"><span class="target" id="change-4ae0244a30e5c4a1057dc6ad07795cd1"><strong>[postgresql] [bug] </strong></span>Fixed regression caused by release 0.8.5 / 0.9.3&#x2019;s compatibility enhancements where index reflection on Postgresql versions specific to only the 8.1, 8.2 series again broke, surrounding the ever problematic int2vector type. </span><span class="yiyi-st" id="yiyi-211">&#x867D;&#x7136;int2vector&#x652F;&#x6301;&#x4ECE;8.1&#x5F00;&#x59CB;&#x7684;&#x6570;&#x7EC4;&#x64CD;&#x4F5C;&#xFF0C;&#x4F46;&#x663E;&#x7136;&#x5B83;&#x53EA;&#x652F;&#x6301;&#x4ECE;8.3&#x5F00;&#x59CB;&#x7684;&#x5BF9;&#x4E8E;varchar&#x7684;CAST&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4ae0244a30e5c4a1057dc6ad07795cd1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-212">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3000">&#xFF03;3000</a></span></p></li></ul></div><div class="section" id="change-0.8.6-misc"><h3><span class="yiyi-st" id="yiyi-213">&#x6742;&#x9879;<a class="headerlink" href="#change-0.8.6-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.6-8"><span class="yiyi-st" id="yiyi-214"><span class="target" id="change-9b1493eda7803b32e8d28a92c52071a4"><strong>[bug] [ext] </strong></span>Fixed bug in mutable extension as well as <a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.attributes.flag_modified" title="sqlalchemy.orm.attributes.flag_modified"><code class="xref py py-func docutils literal"><span class="pre">attributes.flag_modified()</span></code></a> where the change event would not be propagated if the attribute had been reassigned to itself.<a class="changeset-link headerlink reference internal" href="#change-9b1493eda7803b32e8d28a92c52071a4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-215">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2997">&#xFF03;2997</a></span></p></li></ul></div></div><div class="section" id="change-0.8.5"><h2><span class="yiyi-st" id="yiyi-217">0.8.5 <a class="headerlink" href="#change-0.8.5" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-291">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2014&#x5E74;2&#x6708;19&#x65E5;</span><div class="section" id="change-0.8.5-orm"><h3><span class="yiyi-st" id="yiyi-218">ORM <a class="headerlink" href="#change-0.8.5-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.5-0"><span class="yiyi-st" id="yiyi-219"><span class="target" id="change-963fd6f9e65ff48f7f940166e32ee918"><strong>[orm] [bug] </strong></span>Fixed bug where <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.get" title="sqlalchemy.orm.query.Query.get"><code class="xref py py-meth docutils literal"><span class="pre">Query.get()</span></code></a> would fail to consistently raise the <a class="reference internal" href="core_exceptions.html#sqlalchemy.exc.InvalidRequestError" title="sqlalchemy.exc.InvalidRequestError"><code class="xref py py-class docutils literal"><span class="pre">InvalidRequestError</span></code></a> that invokes when called on a query with existing criterion, when the given identity is already present in the identity map.<a class="changeset-link headerlink reference internal" href="#change-963fd6f9e65ff48f7f940166e32ee918">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-220">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2951">&#xFF03;2951</a></span></p></li><li><p id="change-0.8.5-1"><span class="yiyi-st" id="yiyi-221">&#x5F53;&#x4E00;&#x4E2A;&#x8FED;&#x4EE3;&#x5668;&#x5BF9;&#x8C61;&#x88AB;&#x4F20;&#x9012;&#x7ED9;<a class="reference internal" href="orm_mapping_api.html#sqlalchemy.orm.class_mapper" title="sqlalchemy.orm.class_mapper"><code class="xref py py-func docutils literal"><span class="pre">class_mapper()</span></code></a>&#x6216;&#x7C7B;&#x4F3C;&#x7684;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#x65F6;&#xFF0C;&#x4FEE;&#x6B63;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#xFF0C;&#x5176;&#x4E2D;&#x9519;&#x8BEF;&#x5C06;&#x65E0;&#x6CD5;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;&#x4E0A;&#x5448;&#x73B0;&#x3002;<span class="target" id="change-3c1858beb196d211a158e6b04a259e9e"><strong>[orm] [bug] </strong></span></span><span class="yiyi-st" id="yiyi-222">Pullleq&#x793C;&#x8C8C;Kyle Stark&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3c1858beb196d211a158e6b04a259e9e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-223">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/58">&#x8BF7;&#x6C42;github&#xFF1A;58</a></span></p></li><li><p id="change-0.8.5-2"><span class="yiyi-st" id="yiyi-224"><span class="target" id="change-299a27df663c00458dac3e27aa894641"><strong>[orm] [bug] </strong></span>&#x8C03;&#x6574;<a class="reference internal" href="orm_loading_relationships.html#sqlalchemy.orm.subqueryload" title="sqlalchemy.orm.subqueryload"><code class="xref py py-func docutils literal"><span class="pre">subqueryload()</span></code></a>&#x7B56;&#x7565;&#xFF0C;&#x786E;&#x4FDD;&#x67E5;&#x8BE2;&#x5728;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;&#x5F00;&#x59CB;&#x540E;&#x8FD0;&#x884C;&#xFF1B;&#x8FD9;&#x662F;&#x4E3A;&#x4E86;&#x4F7F;&#x5F97;&#x5B50;&#x67E5;&#x8BE2;&#x4F18;&#x5148;&#x4E8E;&#x5176;&#x4ED6;&#x88C5;&#x8F7D;&#x8005;&#xFF0C;&#x56E0;&#x4E3A;&#x5176;&#x4ED6;&#x7684;&#x52A0;&#x8F7D;&#x8005;&#x53EF;&#x80FD;&#x5728;&#x9519;&#x8BEF;&#x7684;&#x65F6;&#x95F4;&#x56E0;&#x4E3A;&#x5176;&#x4ED6;&#x7684;&#x9884;&#x5148;/&#x975E;&#x52A0;&#x8F7D;&#x60C5;&#x51B5;&#x800C;&#x89E6;&#x53CA;&#x76F8;&#x540C;&#x7684;&#x5C5E;&#x6027;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-299a27df663c00458dac3e27aa894641"></a></span></p><p><span class="yiyi-st" id="yiyi-225">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2887">&#xFF03;2887</a></span></p></li><li><p id="change-0.8.5-3"><span class="yiyi-st" id="yiyi-226"><span class="target" id="change-63f4633bd86bada94c11baebaccf2306"><strong>[orm] [bug] </strong></span>Fixed bug when using joined table inheritance from a table to a select/alias on the base, where the PK columns were also not same named; the persistence system would fail to copy primary key values from the base table to the inherited table upon INSERT.<a class="changeset-link headerlink reference internal" href="#change-63f4633bd86bada94c11baebaccf2306">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-227">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2885">&#xFF03;2885</a></span></p></li><li><p id="change-0.8.5-4"><span class="yiyi-st" id="yiyi-228"><span class="target" id="change-75ee98f66c5efa2d8d93820f1b4eaf74"><strong>[orm] [bug] </strong></span><a class="reference internal" href="orm_composites.html#sqlalchemy.orm.composite" title="sqlalchemy.orm.composite"><code class="xref py py-func docutils literal"><span class="pre">composite()</span></code></a> will raise an informative error message when the columns/attribute (names) passed don&#x2019;t resolve to a Column or mapped attribute (such as an erroneous tuple); previously raised an unbound local.<a class="changeset-link headerlink reference internal" href="#change-75ee98f66c5efa2d8d93820f1b4eaf74">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-229">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2889">&#xFF03;2889</a></span></p></li></ul></div><div class="section" id="change-0.8.5-engine"><h3><span class="yiyi-st" id="yiyi-230">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.8.5-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.5-5"><span class="yiyi-st" id="yiyi-231"><span class="target" id="change-b4da74a656ef5e3010bb13f8204f2fb0"><strong>[engine] [bug] [pool] </strong></span>Fixed a critical regression caused by <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2880">#2880</a> where the newly concurrent ability to return connections from the pool means that the &#x201C;first_connect&#x201D; event is now no longer synchronized either, thus leading to dialect mis-configurations under even minimal concurrency situations.<a class="changeset-link headerlink reference internal" href="#change-b4da74a656ef5e3010bb13f8204f2fb0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-232">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2964">&#xFF03;2964</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2880">&#xFF03;2880</a></span></p></li></ul></div><div class="section" id="change-0.8.5-sql"><h3><span class="yiyi-st" id="yiyi-233">SQL <a class="headerlink" href="#change-0.8.5-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.5-6"><span class="yiyi-st" id="yiyi-234"><span class="target" id="change-eaeab65db0f99940354a433b2c1757e7"><strong>[sql] [bug] </strong></span>Fixed bug where calling <a class="reference internal" href="core_dml.html#sqlalchemy.sql.expression.Insert.values" title="sqlalchemy.sql.expression.Insert.values"><code class="xref py py-meth docutils literal"><span class="pre">Insert.values()</span></code></a> with an empty list or tuple would raise an IndexError. </span><span class="yiyi-st" id="yiyi-235">&#x5B83;&#x73B0;&#x5728;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;&#x63D2;&#x5165;&#x7ED3;&#x6784;&#xFF0C;&#x5C31;&#x50CF;&#x7A7A;&#x5B57;&#x5178;&#x4E00;&#x6837;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-eaeab65db0f99940354a433b2c1757e7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-236">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2944">&#xFF03;2944</a></span></p></li><li><p id="change-0.8.5-7"><span class="yiyi-st" id="yiyi-237"><span class="target" id="change-33727fb51d625520dbf523e2021cb7ed"><strong>[sql] [bug] </strong></span>Fixed bug where <a class="reference internal" href="orm_internals.html#sqlalchemy.orm.properties.RelationshipProperty.Comparator.in_" title="sqlalchemy.orm.properties.RelationshipProperty.Comparator.in_"><code class="xref py py-meth docutils literal"><span class="pre">in_()</span></code></a> would go into an endless loop if erroneously passed a column expression whose comparator included the <code class="docutils literal"><span class="pre">__getitem__()</span></code> method, such as a column that uses the <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a> type.<a class="changeset-link headerlink reference internal" href="#change-33727fb51d625520dbf523e2021cb7ed">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-238">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2957">&#xFF03;2957</a></span></p></li><li><p id="change-0.8.5-8"><span class="yiyi-st" id="yiyi-239"><span class="target" id="change-a635a18f34a5c52c352eaacb7e5d45db"><strong>[sql] [bug] </strong></span>Fixed issue where a primary key column that has a Sequence on it, yet the column is not the &#x201C;auto increment&#x201D; column, either because it has a foreign key constraint or <code class="docutils literal"><span class="pre">autoincrement=False</span></code> set, would attempt to fire the Sequence on INSERT for backends that don&#x2019;t support sequences, when presented with an INSERT missing the primary key value. </span><span class="yiyi-st" id="yiyi-240">&#x8FD9;&#x5C06;&#x53D1;&#x751F;&#x5728;&#x50CF;SQLite&#xFF0C;MySQL&#x8FD9;&#x6837;&#x7684;&#x975E;&#x5E8F;&#x5217;&#x540E;&#x7AEF;&#x4E0A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a635a18f34a5c52c352eaacb7e5d45db">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-241">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2896">&#xFF03;2896</a></span></p></li><li><p id="change-0.8.5-9"><span class="yiyi-st" id="yiyi-242"><span class="target" id="change-2a68cc38f848658f1f726522b257ae30"><strong>[sql] [bug] </strong></span>Fixed bug with <a class="reference internal" href="core_dml.html#sqlalchemy.sql.expression.Insert.from_select" title="sqlalchemy.sql.expression.Insert.from_select"><code class="xref py py-meth docutils literal"><span class="pre">Insert.from_select()</span></code></a> method where the order of the given names would not be taken into account when generating the INSERT statement, thus producing a mismatch versus the column names in the given SELECT statement. </span><span class="yiyi-st" id="yiyi-243">&#x8FD8;&#x6CE8;&#x610F;&#x5230;<a class="reference internal" href="core_dml.html#sqlalchemy.sql.expression.Insert.from_select" title="sqlalchemy.sql.expression.Insert.from_select"><code class="xref py py-meth docutils literal"><span class="pre">Insert.from_select()</span></code></a>&#x610F;&#x5473;&#x7740;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;Python&#x7AEF;&#x63D2;&#x5165;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x56E0;&#x4E3A;&#x8BE5;&#x8BED;&#x53E5;&#x6CA1;&#x6709;VALUES&#x5B50;&#x53E5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2a68cc38f848658f1f726522b257ae30">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-244">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2895">&#xFF03;2895</a></span></p></li><li><p id="change-0.8.5-10"><span class="yiyi-st" id="yiyi-245"><span class="target" id="change-328b0d6b8c257eff2b4edfd2852eb628"><strong>[sql] [enhancement] </strong></span>The exception raised when a <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.BindParameter" title="sqlalchemy.sql.expression.BindParameter"><code class="xref py py-class docutils literal"><span class="pre">BindParameter</span></code></a> is present in a compiled statement without a value now includes the key name of the bound parameter in the error message.<a class="changeset-link headerlink reference internal" href="#change-328b0d6b8c257eff2b4edfd2852eb628">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.5-postgresql"><h3><span class="yiyi-st" id="yiyi-246">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.8.5-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.5-11"><span class="yiyi-st" id="yiyi-247"><span class="target" id="change-abe4e69a00c65c9fc72433a2a5aad465"><strong>[postgresql] [bug] </strong></span>&#x589E;&#x52A0;&#x4E86;psycopg2&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x68C0;&#x6D4B;&#x7684;&#x9644;&#x52A0;&#x4FE1;&#x606F;&#xFF0C;&#x201C;&#x65E0;&#x6CD5;&#x5C06;&#x6570;&#x636E;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#x201D;&#xFF0C;&#x8865;&#x5145;&#x4E86;&#x73B0;&#x6709;&#x7684;&#x201C;&#x65E0;&#x6CD5;&#x63A5;&#x6536;&#x6765;&#x81EA;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6570;&#x636E;&#x201D;&#x5E76;&#x88AB;&#x7528;&#x6237;&#x89C2;&#x5BDF;&#x5230;&#x3002; <a class="changeset-link headerlink reference internal" href="#change-abe4e69a00c65c9fc72433a2a5aad465">&#xB6; T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-248">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2936">&#xFF03;2936</a></span></p></li><li><p id="change-0.8.5-12"><span class="yiyi-st" id="yiyi-249"><span class="target" id="change-a3d203ef1bb5e3411e9e3e279194848f"><strong>[postgresql] [bug] </strong></span></span></p><blockquote><div><span class="yiyi-st" id="yiyi-250">Postgresql&#x5728;Postgresql&#x7684;&#x65E7;&#x7248;&#x672C;&#xFF08;&#x4E4B;&#x524D;&#x7684;&#x7248;&#x672C;&#xFF09;&#x4EE5;&#x53CA;&#x5176;&#x4ED6;PG&#x5F15;&#x64CE;&#xFF08;&#x5982;Redshift&#xFF09;&#xFF08;&#x5047;&#x8BBE;Redshift&#x7684;&#x7248;&#x672C;&#x62A5;&#x544A;&#x4E3A;<8.1）时对postgresql反射行为的支持得到了改进。< span=""><span class="yiyi-st" id="yiyi-251">&#x67E5;&#x8BE2;&#x201C;&#x7D22;&#x5F15;&#x201D;&#x4EE5;&#x53CA;&#x201C;&#x4E3B;&#x952E;&#x201D;&#x4F9D;&#x8D56;&#x4E8E;&#x68C0;&#x67E5;&#x6240;&#x8C13;&#x7684;&#x201C;int2vector&#x201D;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x8BE5;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5728;8.1&#x4E4B;&#x524D;&#x62D2;&#x7EDD;&#x80C1;&#x8FEB;&#x6570;&#x7EC4;&#xFF0C;&#x5BFC;&#x81F4;&#x67E5;&#x8BE2;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x201C;ANY()&#x201D;&#x8FD0;&#x7B97;&#x7B26;&#x5931;&#x8D25;&#x3002;</span><span class="yiyi-st" id="yiyi-252">&#x5F53;PG&#x7248;&#x672C;<8.1被使用时，大量的搜索引擎已经找到了非常黑客但推荐的pg核心开发者查询，因此索引和主键约束反映现在可用于这些版本。< span=""></8.1被使用时，大量的搜索引擎已经找到了非常黑客但推荐的pg核心开发者查询，因此索引和主键约束反映现在可用于这些版本。<></span></8.1）时对postgresql反射行为的支持得到了改进。<></span></div></blockquote><span class="yiyi-st" id="yiyi-253"> <a class="changeset-link headerlink reference internal" href="#change-a3d203ef1bb5e3411e9e3e279194848f">&#xB6;</a></span><p></p></li><li><p id="change-0.8.5-13"><span class="yiyi-st" id="yiyi-254"><span class="target" id="change-3d5d651a2c1822482b8645ec21a68973"><strong>[postgresql] [bug] </strong></span>Revised this very old issue where the Postgresql &#x201C;get primary key&#x201D; reflection query were updated to take into account primary key constraints that were renamed; the newer query fails on very old versions of Postgresql such as version 7, so the old query is restored in those cases when server_version_info &lt; (8, 0) is detected.<a class="changeset-link headerlink reference internal" href="#change-3d5d651a2c1822482b8645ec21a68973">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-255">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2291">&#xFF03;2291</a></span></p></li></ul></div><div class="section" id="change-0.8.5-mysql"><h3><span class="yiyi-st" id="yiyi-256">MySQL&#x7684;<a class="headerlink" href="#change-0.8.5-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.5-14"><span class="yiyi-st" id="yiyi-257"><span class="target" id="change-e61353bcbaeea335f62823591b2bd3df"><strong>[mysql] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x7279;&#x5B9A;&#x4E8E;MySQL&#x7684;<a class="reference internal" href="dialects_mysql.html#sqlalchemy.dialects.mysql.DATETIME" title="sqlalchemy.dialects.mysql.DATETIME"><code class="xref py py-class docutils literal"><span class="pre">mysql.DATETIME</span></code></a>&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x62EC;&#x5C0F;&#x6570;&#x79D2;&#x652F;&#x6301;&#xFF1B;&#x8FD8;&#x589E;&#x52A0;&#x4E86;&#x5BF9;<a class="reference internal" href="dialects_mysql.html#sqlalchemy.dialects.mysql.TIMESTAMP" title="sqlalchemy.dialects.mysql.TIMESTAMP"><code class="xref py py-class docutils literal"><span class="pre">mysql.TIMESTAMP</span></code></a>&#x7684;&#x5C0F;&#x6570;&#x79D2;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-258">DBAPI&#x652F;&#x6301;&#x662F;&#x6709;&#x9650;&#x7684;&#xFF0C;&#x5C3D;&#x7BA1;&#x5C0F;&#x6570;&#x79D2;&#x88AB;MySQL Connector / Python&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-259">&#x8865;&#x4E01;&#x7531;Geert JM Vanderkelen&#x63D0;&#x4F9B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e61353bcbaeea335f62823591b2bd3df">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-260">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2941">&#xFF03;2941</a></span></p></li><li><p id="change-0.8.5-15"><span class="yiyi-st" id="yiyi-261"><span class="target" id="change-dc53ea0fad376d114f411a9855e869fc"><strong>[mysql] [bug] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;<code class="docutils literal"><span class="pre">&#x5206;&#x533A;</span> <span class="pre">BY</span></code>&#x548C;<code class="docutils literal"><span class="pre">PARTITIONS</span></code> MySQL&#x7684;&#x652F;&#x6301;&#x5C06;&#x8868;&#x5173;&#x952E;&#x5B57;&#x6307;&#x5B9A;&#x4E3A;<code class="docutils literal"><span class="pre">mysql_partition_by=&apos;value&apos;</span></code>&#x548C;<code class="docutils literal"><span class="pre">mysql_partitions=&apos;value&apos;</span></code>&#x81F3;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x3002;</span><span class="yiyi-st" id="yiyi-262">&#x62C9;&#x739B;&#x8BF7;&#x6C42;&#x63D0;&#x4F9B;Marcus McCurdy&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dc53ea0fad376d114f411a9855e869fc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-263">References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2966">#2966</a>, <a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy/pull-request/12">pull request bitbucket:12</a></span></p></li><li><p id="change-0.8.5-16"><span class="yiyi-st" id="yiyi-264"><span class="target" id="change-e9165d6fdae23130302d540e3bc6d597"><strong>[mysql] [bug] </strong></span>Fixed bug which prevented MySQLdb-based dialects (e.g. pymysql) from working in Py3K, where a check for &#x201C;connection charset&#x201D; would fail due to Py3K&#x2019;s more strict value comparison rules. </span><span class="yiyi-st" id="yiyi-265">&#x8FD9;&#x4E2A;&#x8C03;&#x7528;&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x6CA1;&#x6709;&#x8003;&#x8651;&#x5230;&#x6570;&#x636E;&#x5E93;&#x7248;&#x672C;&#xFF0C;&#x56E0;&#x4E3A;&#x670D;&#x52A1;&#x5668;&#x7248;&#x672C;&#x5728;&#x90A3;&#x65F6;&#x4ECD;&#x7136;&#x662F;None&#xFF0C;&#x6240;&#x4EE5;&#x6574;&#x4E2A;&#x65B9;&#x6CD5;&#x88AB;&#x7B80;&#x5316;&#x4E3A;&#x4F9D;&#x8D56;&#x4E8E;connection.character_set_name()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e9165d6fdae23130302d540e3bc6d597">&#xB6; t0 &gt;</a></span></p><p><span class="yiyi-st" id="yiyi-266">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2933">&#xFF03;2933</a></span></p></li><li><p id="change-0.8.5-17"><span class="yiyi-st" id="yiyi-267"><span class="target" id="change-f55316fde4a189d8126b15e329332461"><strong>[mysql] [bug] </strong></span>&#x6DFB;&#x52A0;&#x5230;cymysql&#x65B9;&#x8A00;&#x7684;&#x4E00;&#x4E9B;&#x7F3A;&#x5931;&#x65B9;&#x6CD5;&#xFF0C;&#x5305;&#x62EC;_get_server_version_info()&#x548C;_detect_charset()&#x3002;</span><span class="yiyi-st" id="yiyi-268">Pullreq&#x793C;&#x8C8C;Hajime Nakagami&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f55316fde4a189d8126b15e329332461">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-269">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/61">pull request github&#xFF1A;61</a></span></p></li></ul></div><div class="section" id="change-0.8.5-sqlite"><h3><span class="yiyi-st" id="yiyi-270">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.8.5-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.5-18"><span class="yiyi-st" id="yiyi-271"><span class="target" id="change-ead78f92084767f32a375ae68accf5b5"><strong>[sqlite] [bug] </strong></span>&#x5C06;&#x552F;&#x4E00;&#x7EA6;&#x675F;&#x53CD;&#x5C04;&#x7684;&#x56DE;&#x6EAF;&#x7AEF;&#x53E3;&#x4E2D;&#x9057;&#x6F0F;&#x7684;&#x66F4;&#x6539;&#x6062;&#x590D;&#x4E3A;0.8&#xFF0C;&#x5982;&#x679C;&#x540D;&#x79F0;&#x4E2D;&#x5305;&#x542B;&#x4FDD;&#x7559;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x90A3;&#x4E48;&#x5E26;&#x6709;SQLite&#x7684;<a class="reference internal" href="core_constraints.html#sqlalchemy.schema.UniqueConstraint" title="sqlalchemy.schema.UniqueConstraint"><code class="xref py py-class docutils literal"><span class="pre">UniqueConstraint</span></code></a>&#x5217;&#x3002;</span><span class="yiyi-st" id="yiyi-272">&#x62C9;&#x8BF7;&#x6C42;&#x7F57;&#x9A6C;Podolyaka&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ead78f92084767f32a375ae68accf5b5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-273">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/72">&#x8BF7;&#x6C42;github&#xFF1A;72</a></span></p></li></ul></div><div class="section" id="change-0.8.5-mssql"><h3><span class="yiyi-st" id="yiyi-274">MSSQL <a class="headerlink" href="#change-0.8.5-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.5-19"><span class="yiyi-st" id="yiyi-275"><span class="target" id="change-02b8136f04eac946a40b7db8f2f4f0f3"><strong>[mssql] [bug] [firebird] </strong></span>The &#x201C;asdecimal&#x201D; flag used with the <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.Float" title="sqlalchemy.types.Float"><code class="xref py py-class docutils literal"><span class="pre">Float</span></code></a> type will now work with Firebird as well as the mssql+pyodbc dialects; previously the decimal conversion was not occurring.<a class="changeset-link headerlink reference internal" href="#change-02b8136f04eac946a40b7db8f2f4f0f3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.5-20"><span class="yiyi-st" id="yiyi-276"><span class="target" id="change-87840ae63e620637ec1dd97e9f1fbbfc"><strong>[mssql] [bug] [pymssql] </strong></span>Added &#x201C;Net-Lib error during Connection reset by peer&#x201D; message to the list of messages checked for &#x201C;disconnect&#x201D; within the pymssql dialect. </span><span class="yiyi-st" id="yiyi-277">&#x793C;&#x8C8C;John Anderson&#x3002;<a class="changeset-link headerlink reference internal" href="#change-87840ae63e620637ec1dd97e9f1fbbfc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-278">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/51">&#x8BF7;&#x6C42;github&#xFF1A;51</a></span></p></li></ul></div><div class="section" id="change-0.8.5-firebird"><h3><span class="yiyi-st" id="yiyi-279">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.8.5-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.5-21"><span class="yiyi-st" id="yiyi-280"><span class="target" id="change-491c479b04e5d70530ef87406332f723"><strong>[firebird] [bug] </strong></span>&#x706B;&#x9E1F;&#x65B9;&#x8A00;&#x4F1A;&#x5F15;&#x7528;&#x4EE5;&#x4E0B;&#x5212;&#x7EBF;&#x5F00;&#x5934;&#x7684;&#x6807;&#x8BC6;&#x7B26;&#x3002;</span><span class="yiyi-st" id="yiyi-281">Courtesy Treeve Jelbert&#x3002;<a class="changeset-link headerlink reference internal" href="#change-491c479b04e5d70530ef87406332f723">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-282">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2897">&#xFF03;2897</a></span></p></li><li><p id="change-0.8.5-22"><span class="yiyi-st" id="yiyi-283"><span class="target" id="change-8066c3961ec654ddd830fa2e4bb5a2b8"><strong>[firebird] [bug] </strong></span>&#x4FEE;&#x6B63;&#x4E86;Firebird&#x7D22;&#x5F15;&#x53CD;&#x5C04;&#x4E2D;&#x7D22;&#x5F15;&#x5185;&#x7684;&#x5217;&#x672A;&#x6B63;&#x786E;&#x6392;&#x5E8F;&#x7684;&#x9519;&#x8BEF;&#xFF1B;&#x73B0;&#x5728;&#x5B83;&#x4EEC;&#x6309;&#x7167;RDB $ FIELD_POSITION&#x7684;&#x987A;&#x5E8F;&#x6392;&#x5E8F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8066c3961ec654ddd830fa2e4bb5a2b8">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.5-misc"><h3><span class="yiyi-st" id="yiyi-284">&#x6742;&#x9879;<a class="headerlink" href="#change-0.8.5-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.5-23"><span class="yiyi-st" id="yiyi-285"><span class="target" id="change-5ab170daca7483efaf20de27592c8329"><strong>[bug] [py3k] </strong></span>Fixed Py3K bug where a missing import would cause &#x201C;literal binary&#x201D; mode to fail to import &#x201C;util.binary_type&#x201D; when rendering a bound parameter. </span><span class="yiyi-st" id="yiyi-286">0.9&#x4EE5;&#x4E0D;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#x5904;&#x7406;&#x3002;</span><span class="yiyi-st" id="yiyi-287">&#x8BF7;&#x6C42;&#x793C;&#x8C8C;Andreas Zeidler&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5ab170daca7483efaf20de27592c8329">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-288">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/63">pull request github&#xFF1A;63</a></span></p></li><li><p id="change-0.8.5-24"><span class="yiyi-st" id="yiyi-289"><span class="target" id="change-d707bd93370fc840f28c9d8faf6c209f"><strong>[bug] [declarative] </strong></span>&#x9519;&#x8BEF;&#x6D88;&#x606F;&#xFF0C;&#x5F53;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;arg&#x53D1;&#x9001;&#x5230;<a class="reference internal" href="orm_relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal"><span class="pre">relationship()</span></code></a>&#xFF0C;&#x5B83;&#x6CA1;&#x6709;&#x89E3;&#x6790;&#x4E3A;&#x7C7B;&#x6216;&#x6620;&#x5C04;&#x5668;&#x65F6;&#xFF0C;&#x5B83;&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x4E0E;&#x5F53;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x975E;&#x5B57;&#x7B26;&#x4E32;arg&#x65F6;&#xFF0C;&#x5B83;&#x8868;&#x660E;&#x6709;&#x914D;&#x7F6E;&#x9519;&#x8BEF;&#x7684;&#x5173;&#x7CFB;&#x7684;&#x540D;&#x5B57;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d707bd93370fc840f28c9d8faf6c209f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-290">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2888">&#xFF03;2888</a></span></p></li></ul></div></div><div class="section" id="change-0.8.4"><h2><span class="yiyi-st" id="yiyi-292">0.8.4 <a class="headerlink" href="#change-0.8.4" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-331">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2013&#x5E74;12&#x6708;8&#x65E5;</span><div class="section" id="change-0.8.4-orm"><h3><span class="yiyi-st" id="yiyi-293">ORM <a class="headerlink" href="#change-0.8.4-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.4-0"><span class="yiyi-st" id="yiyi-294"><span class="target" id="change-e092c358f026124d42419bc6ec0e6222"><strong>[orm] [bug] </strong></span>Fixed a regression introduced by <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2818">#2818</a> where the EXISTS query being generated would produce a &#x201C;columns being replaced&#x201D; warning for a statement with two same-named columns, as the internal SELECT wouldn&#x2019;t have use_labels set.<a class="changeset-link headerlink reference internal" href="#change-e092c358f026124d42419bc6ec0e6222">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-295">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2818">&#xFF03;2818</a></span></p></li></ul></div><div class="section" id="change-0.8.4-engine"><h3><span class="yiyi-st" id="yiyi-296">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.8.4-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.4-1"><span class="yiyi-st" id="yiyi-297"><span class="target" id="change-4c94e9eaf5cee7f9d244460416e5882e"><strong>[engine] [bug] </strong></span>A DBAPI that raises an error on <code class="docutils literal"><span class="pre">connect()</span></code> which is not a subclass of dbapi.Error (such as <code class="docutils literal"><span class="pre">TypeError</span></code>, <code class="docutils literal"><span class="pre">NotImplementedError</span></code>, etc.) </span><span class="yiyi-st" id="yiyi-298">&#x5C06;&#x4E0D;&#x4F1A;&#x4F20;&#x64AD;&#x5F02;&#x5E38;&#x3002;</span><span class="yiyi-st" id="yiyi-299">&#x4EE5;&#x524D;&#xFF0C;&#x7279;&#x5B9A;&#x4E8E;<code class="docutils literal"><span class="pre">connect()</span></code>&#x4F8B;&#x7A0B;&#x7684;&#x9519;&#x8BEF;&#x5904;&#x7406;&#x5C06;&#x901A;&#x8FC7;&#x65B9;&#x8A00;&#x7684;<a class="reference internal" href="core_internals.html#sqlalchemy.engine.interfaces.Dialect.is_disconnect" title="sqlalchemy.engine.interfaces.Dialect.is_disconnect"><code class="xref py py-meth docutils literal"><span class="pre">Dialect.is_disconnect()</span></code></a>&#x4F8B;&#x7A0B;&#x9519;&#x8BEF;&#x5730;&#x8FD0;&#x884C;&#x5F02;&#x5E38;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x5305;&#x88C5;&#x5728;<a class="reference internal" href="core_exceptions.html#sqlalchemy.exc.DBAPIError" title="sqlalchemy.exc.DBAPIError"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.exc.DBAPIError</span></code></a></span><span class="yiyi-st" id="yiyi-300">&#x5B83;&#x73B0;&#x5728;&#x4EE5;&#x4E0E;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x53D1;&#x751F;&#x7684;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#x4F20;&#x64AD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4c94e9eaf5cee7f9d244460416e5882e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-301">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2881">&#xFF03;2881</a></span></p></li><li><p id="change-0.8.4-2"><span class="yiyi-st" id="yiyi-302"><span class="target" id="change-f61deee220ca510a2a34634540647466"><strong>[engine] [bug] [pool] </strong></span>The <a class="reference internal" href="core_pooling.html#sqlalchemy.pool.QueuePool" title="sqlalchemy.pool.QueuePool"><code class="xref py py-class docutils literal"><span class="pre">QueuePool</span></code></a> has been enhanced to not block new connection attempts when an existing connection attempt is blocking. </span><span class="yiyi-st" id="yiyi-303">&#x4EE5;&#x524D;&#xFF0C;&#x5728;&#x76D1;&#x63A7;&#x6EA2;&#x51FA;&#x7684;&#x5757;&#x4E2D;&#xFF0C;&#x65B0;&#x8FDE;&#x63A5;&#x7684;&#x4EA7;&#x751F;&#x88AB;&#x4E32;&#x884C;&#x5316;&#xFF1B;&#x6EA2;&#x51FA;&#x8BA1;&#x6570;&#x5668;&#x73B0;&#x5728;&#x5728;&#x8FDE;&#x63A5;&#x8FC7;&#x7A0B;&#x672C;&#x8EAB;&#x4E4B;&#x5916;&#x7684;&#x5176;&#x81EA;&#x5DF1;&#x7684;&#x4E34;&#x754C;&#x533A;&#x5185;&#x88AB;&#x6539;&#x53D8;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f61deee220ca510a2a34634540647466">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-304">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2880">&#xFF03;2880</a></span></p></li><li><p id="change-0.8.4-3"><span class="yiyi-st" id="yiyi-305"><span class="target" id="change-9f50f03f97a15744f325f3b1f9efe144"><strong>[engine] [bug] [pool] </strong></span>Made a slight adjustment to the logic which waits for a pooled connection to be available, such that for a connection pool with no timeout specified, it will every half a second break out of the wait to check for the so-called &#x201C;abort&#x201D; flag, which allows the waiter to break out in case the whole connection pool was dumped; normally the waiter should break out due to a notify_all() but it&#x2019;s possible this notify_all() is missed in very slim cases. </span><span class="yiyi-st" id="yiyi-306">&#x8FD9;&#x662F;&#x5728;0.8.0&#x4E2D;&#x9996;&#x6B21;&#x5F15;&#x5165;&#x7684;&#x903B;&#x8F91;&#x7684;&#x6269;&#x5C55;&#xFF0C;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x5076;&#x5C14;&#x4F1A;&#x5728;&#x538B;&#x529B;&#x6D4B;&#x8BD5;&#x4E2D;&#x88AB;&#x89C2;&#x5BDF;&#x5230;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9f50f03f97a15744f325f3b1f9efe144">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-307">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2522">&#xFF03;2522</a></span></p></li><li><p id="change-0.8.4-4"><span class="yiyi-st" id="yiyi-308"><span class="target" id="change-93068fc8797e8560dedac1d5ab086a48"><strong>[engine] [bug] </strong></span>Fixed bug where SQL statement would be improperly ASCII-encoded when a pre-DBAPI <a class="reference internal" href="core_exceptions.html#sqlalchemy.exc.StatementError" title="sqlalchemy.exc.StatementError"><code class="xref py py-class docutils literal"><span class="pre">StatementError</span></code></a> were raised within <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execute()</span></code></a>, causing encoding errors for non-ASCII statements. </span><span class="yiyi-st" id="yiyi-309">&#x5B57;&#x7B26;&#x4E32;&#x5316;&#x73B0;&#x5728;&#x4FDD;&#x7559;&#x5728;Python unicode&#x4E2D;&#xFF0C;&#x4ECE;&#x800C;&#x907F;&#x514D;&#x7F16;&#x7801;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-93068fc8797e8560dedac1d5ab086a48">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-310">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2871">&#xFF03;2871</a></span></p></li></ul></div><div class="section" id="change-0.8.4-sql"><h3><span class="yiyi-st" id="yiyi-311">SQL <a class="headerlink" href="#change-0.8.4-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.4-5"><span class="yiyi-st" id="yiyi-312"><span class="target" id="change-fa2f32447a743902b48fa3efd6a94515"><strong>[sql] [feature] </strong></span>&#x901A;&#x8FC7;<a class="reference internal" href="core_reflection.html#sqlalchemy.engine.reflection.Inspector.get_unique_constraints" title="sqlalchemy.engine.reflection.Inspector.get_unique_constraints"><code class="xref py py-meth docutils literal"><span class="pre">Inspector.get_unique_constraints()</span></code></a>&#x65B9;&#x6CD5;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x201C;&#x552F;&#x4E00;&#x7EA6;&#x675F;&#x201D;&#x53CD;&#x5C04;&#x7684;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-313">&#x611F;&#x8C22;Roman Podolyaka&#x7684;&#x8865;&#x4E01;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fa2f32447a743902b48fa3efd6a94515">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-314">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1443">&#xFF03;1443</a></span></p></li></ul></div><div class="section" id="change-0.8.4-postgresql"><h3><span class="yiyi-st" id="yiyi-315">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.8.4-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.4-6"><span class="yiyi-st" id="yiyi-316"><span class="target" id="change-a45c250bf38e2c937f2650c53d1eba72"><strong>[postgresql] [bug] </strong></span>Fixed bug where index reflection would mis-interpret indkey values when using the pypostgresql adapter, which returns these values as lists vs. psycopg2&#x2019;s return type of string.<a class="changeset-link headerlink reference internal" href="#change-a45c250bf38e2c937f2650c53d1eba72">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-317">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2855">&#xFF03;2855</a></span></p></li></ul></div><div class="section" id="change-0.8.4-mssql"><h3><span class="yiyi-st" id="yiyi-318">MSSQL <a class="headerlink" href="#change-0.8.4-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.4-7"><span class="yiyi-st" id="yiyi-319"><span class="target" id="change-811ab40236ae0100f280d4d9293b5b0b"><strong>[mssql] [bug] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5728;0.8.0&#x7248;&#x672C;&#x4E2D;&#x5F15;&#x5165;&#x7D22;&#x5F15;&#x7684;<code class="docutils literal"><span class="pre">DROP</span> <span class="pre">INDEX</span></code>&#x5982;&#x679C;&#x7D22;&#x5F15;&#x5904;&#x4E8E;&#x5907;&#x7528;&#x6A21;&#x5F0F;&#x4E2D;&#xFF0C;MSSQL&#x5C06;&#x4E0D;&#x6B63;&#x786E;&#x5730;&#x6E32;&#x67D3;&#xFF1B; schemaname / tablename&#x5C06;&#x88AB;&#x98A0;&#x5012;&#x3002;</span><span class="yiyi-st" id="yiyi-320">&#x8BE5;&#x683C;&#x5F0F;&#x4E5F;&#x8FDB;&#x884C;&#x4E86;&#x4FEE;&#x6539;&#x4EE5;&#x7B26;&#x5408;&#x5F53;&#x524D;&#x7684;MSSQL&#x6587;&#x6863;&#x3002;</span><span class="yiyi-st" id="yiyi-321">Courtesy Derek Harland&#x3002;<a class="changeset-link headerlink reference internal" href="#change-811ab40236ae0100f280d4d9293b5b0b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-322">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy/pull-request/7">pull request bitbucket&#xFF1A;7</a></span></p></li></ul></div><div class="section" id="change-0.8.4-oracle"><h3><span class="yiyi-st" id="yiyi-323">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.8.4-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.4-8"><span class="yiyi-st" id="yiyi-324"><span class="target" id="change-6c4c2c6ed5c5a6fea521de2db0a7100d"><strong>[oracle] [bug] </strong></span>&#x589E;&#x52A0;&#x4E86;ORA-02396&#x201C;&#x6700;&#x5927;&#x7A7A;&#x95F2;&#x65F6;&#x95F4;&#x201D;&#x7684;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x5230;cx_oracle&#x7684;&#x201C;is disconnect&#x201D;&#x4EE3;&#x7801;&#x5217;&#x8868;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6c4c2c6ed5c5a6fea521de2db0a7100d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-325">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2864">&#xFF03;2864</a></span></p></li><li><p id="change-0.8.4-9"><span class="yiyi-st" id="yiyi-326"><span class="target" id="change-b899c8283eb4c7a1212dd4747c28ba83"><strong>[oracle] [bug] </strong></span>Fixed bug where Oracle <code class="docutils literal"><span class="pre">VARCHAR</span></code> types given with no length (e.g. for a <code class="docutils literal"><span class="pre">CAST</span></code> or similar) would incorrectly render <code class="docutils literal"><span class="pre">None</span> <span class="pre">CHAR</span></code> or similar.<a class="changeset-link headerlink reference internal" href="#change-b899c8283eb4c7a1212dd4747c28ba83">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-327">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2870">&#xFF03;2870</a></span></p></li></ul></div><div class="section" id="change-0.8.4-misc"><h3><span class="yiyi-st" id="yiyi-328">&#x6742;&#x9879;<a class="headerlink" href="#change-0.8.4-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.4-10"><span class="yiyi-st" id="yiyi-329"><span class="target" id="change-918754b17d70ee948a39721ec5fac1c0"><strong>[bug] [ext] </strong></span>Fixed bug which prevented the <code class="docutils literal"><span class="pre">serializer</span></code> extension from working correctly with table or column names that contain non-ASCII characters.<a class="changeset-link headerlink reference internal" href="#change-918754b17d70ee948a39721ec5fac1c0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-330">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2869">&#xFF03;2869</a></span></p></li></ul></div></div><div class="section" id="change-0.8.3"><h2><span class="yiyi-st" id="yiyi-332">0.8.3 <a class="headerlink" href="#change-0.8.3" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-451">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2013&#x5E74;10&#x6708;26&#x65E5;</span><div class="section" id="change-0.8.3-orm"><h3><span class="yiyi-st" id="yiyi-333">ORM <a class="headerlink" href="#change-0.8.3-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.3-0"><span class="yiyi-st" id="yiyi-334"><span class="target" id="change-5f2bdb197c797932107639ab179073f5"><strong>[orm] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;<a class="reference internal" href="orm_relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal"><span class="pre">relationship()</span></code></a> <code class="docutils literal"><span class="pre">distinct_target_key</span></code>&#x7684;&#x65B0;&#x9009;&#x9879;&#x3002;</span><span class="yiyi-st" id="yiyi-335">&#x8FD9;&#x4F7F;&#x5F97;&#x5B50;&#x67E5;&#x8BE2;&#x9884;&#x70ED;&#x52A0;&#x8F7D;&#x5668;&#x7B56;&#x7565;&#x80FD;&#x591F;&#x5C06;DISTINCT&#x5E94;&#x7528;&#x5230;&#x6700;&#x5185;&#x5C42;&#x7684;SELECT&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x4EE5;&#x534F;&#x52A9;&#x5904;&#x7406;&#x4E0E;&#x8BE5;&#x5173;&#x7CFB;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x6700;&#x5185;&#x5C42;&#x67E5;&#x8BE2;&#x751F;&#x6210;&#x91CD;&#x590D;&#x884C;&#x7684;&#x60C5;&#x51B5;&#xFF08;&#x76EE;&#x524D;&#x8FD8;&#x6CA1;&#x6709;&#x89E3;&#x51B3;&#x5185;&#x90E8;dupe&#x884C;&#x95EE;&#x9898;&#x7684;&#x4E00;&#x822C;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x4F46;&#x662F;&#xFF0C;&#x5F53;&#x52A0;&#x5165;&#x6700;&#x5185;&#x5C42;&#x5B50;&#x67E5;&#x8BE2;&#x4E4B;&#x5916;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x4F1A;&#x4EA7;&#x751F;&#x6B3A;&#x9A97;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-336">&#x5F53;&#x6807;&#x5FD7;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;<code class="docutils literal"><span class="pre">True</span></code>&#x65F6;&#xFF0C;DISTINCT&#x88AB;&#x65E0;&#x6761;&#x4EF6;&#x6E32;&#x67D3;&#xFF0C;&#x5F53;&#x5B83;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;<code class="docutils literal"><span class="pre">None</span></code>&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x6700;&#x5185;&#x5C42;&#x5173;&#x7CFB;&#x9488;&#x5BF9;&#x4E0D;&#x5305;&#x542B;&#x5B8C;&#x6574;&#x7684;&#x4E3B;&#x952E;&#x3002;</span><span class="yiyi-st" id="yiyi-337">&#x8BE5;&#x9009;&#x9879;&#x5728;0.8&#x4E2D;&#x9ED8;&#x8BA4;&#x4E3A;False&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x5728;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#x9ED8;&#x8BA4;&#x5173;&#x95ED;&#xFF09;&#xFF0C;0.9&#x4E2D;&#x7684;None&#xFF08;&#x4F8B;&#x5982;&#x9ED8;&#x8BA4;&#x4E3A;&#x81EA;&#x52A8;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-338">&#x611F;&#x8C22;Alexander Koval&#x4E3A;&#x6B64;&#x63D0;&#x4F9B;&#x5E2E;&#x52A9;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-339">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-340"><a class="reference internal" href="migration_09.html#change-2836"><span>Subquery Eager Loading will apply DISTINCT to the innermost SELECT for some queries</span></a></span></p></div><span class="yiyi-st" id="yiyi-342"> <a class="changeset-link headerlink reference internal" href="#change-5f2bdb197c797932107639ab179073f5">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-341">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2836">&#xFF03;2836</a></span></p></li><li><p id="change-0.8.3-1"><span class="yiyi-st" id="yiyi-343"><span class="target" id="change-312eebb9957781ee59f1076d9f996470"><strong>[orm] [bug] </strong></span>Fixed bug where list instrumentation would fail to represent a setslice of <code class="docutils literal"><span class="pre">[0:0]</span></code> correctly, which in particular could occur when using <code class="docutils literal"><span class="pre">insert(0,</span> <span class="pre">item)</span></code> with the association proxy. </span><span class="yiyi-st" id="yiyi-344">&#x7531;&#x4E8E;Python&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x602A;&#x7656;&#xFF0C;&#x4F7F;&#x7528;Python 3&#x800C;&#x4E0D;&#x662F;2&#x7684;&#x53EF;&#x80FD;&#x6027;&#x66F4;&#x5927;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-312eebb9957781ee59f1076d9f996470">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-345">This change is also <strong>backported</strong> to: 0.7.11</span></p><p><span class="yiyi-st" id="yiyi-346">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2807">&#xFF03;2807</a></span></p></li><li><p id="change-0.8.3-2"><span class="yiyi-st" id="yiyi-347"><span class="target" id="change-6e089c6d7cb9b25d826af89e8a72abbd"><strong>[orm] [bug] </strong></span>Fixed bug where using an annotation such as <a class="reference internal" href="orm_relationship_api.html#sqlalchemy.orm.remote" title="sqlalchemy.orm.remote"><code class="xref py py-func docutils literal"><span class="pre">remote()</span></code></a> or <a class="reference internal" href="orm_relationship_api.html#sqlalchemy.orm.foreign" title="sqlalchemy.orm.foreign"><code class="xref py py-func docutils literal"><span class="pre">foreign()</span></code></a> on a <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> before association with a parent <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> could produce issues related to the parent table not rendering within joins, due to the inherent copy operation performed by an annotation.<a class="changeset-link headerlink reference internal" href="#change-6e089c6d7cb9b25d826af89e8a72abbd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-348">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2813">&#xFF03;2813</a></span></p></li><li><p id="change-0.8.3-3"><span class="yiyi-st" id="yiyi-349"><span class="target" id="change-8a0f22e5cd148955e268067990e34736"><strong>[orm] [bug] </strong></span>Fixed bug where <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.exists" title="sqlalchemy.orm.query.Query.exists"><code class="xref py py-meth docutils literal"><span class="pre">Query.exists()</span></code></a> failed to work correctly without any WHERE criterion. </span><span class="yiyi-st" id="yiyi-350">&#x793C;&#x8C8C;&#x5F17;&#x62C9;&#x57FA;&#x7C73;&#x5C14;Magamedov&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8a0f22e5cd148955e268067990e34736">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-351">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2818">&#xFF03;2818</a></span></p></li><li><p id="change-0.8.3-4"><span class="yiyi-st" id="yiyi-352"><span class="target" id="change-bd6ff2bdbf0cd87d5d91cdb0b8bbaea3"><strong>[orm] [bug] </strong></span>&#x4ECE;0.9&#x53CD;&#x5411;&#x79FB;&#x690D;&#x4E86;&#x4E00;&#x4E2A;&#x53D8;&#x5316;&#xFF0C;&#x5373;&#x5728;&#x591A;&#x6001;&#x7EE7;&#x627F;&#x52A0;&#x8F7D;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x6620;&#x5C04;&#x5668;&#x5C42;&#x6B21;&#x7684;&#x8FED;&#x4EE3;&#x662F;&#x6392;&#x5E8F;&#x7684;&#xFF0C;&#x8FD9;&#x5141;&#x8BB8;&#x4E3A;&#x591A;&#x6001;&#x67E5;&#x8BE2;&#x751F;&#x6210;&#x7684;SELECT&#x8BED;&#x53E5;&#x5177;&#x6709;&#x786E;&#x5B9A;&#x6027;&#x6E32;&#x67D3;&#xFF0C;&#x8F6C;&#x5411;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x7F13;&#x5B58;SQL&#x5B57;&#x7B26;&#x4E32;&#x672C;&#x8EAB;&#x7684;&#x7F13;&#x5B58;&#x65B9;&#x6848;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bd6ff2bdbf0cd87d5d91cdb0b8bbaea3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-353">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2779">&#xFF03;2779</a></span></p></li><li><p id="change-0.8.3-5"><span class="yiyi-st" id="yiyi-354"><span class="target" id="change-e8bba6ebed4c7f4e046a964e48671559"><strong>[orm] [bug] </strong></span>Fixed a potential issue in an ordered sequence implementation used by the ORM to iterate mapper hierarchies; under the Jython interpreter this implementation wasn&#x2019;t ordered, even though cPython and Pypy maintained ordering.<a class="changeset-link headerlink reference internal" href="#change-e8bba6ebed4c7f4e046a964e48671559">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-355">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2794">&#xFF03;2794</a></span></p></li><li><p id="change-0.8.3-6"><span class="yiyi-st" id="yiyi-356"><span class="target" id="change-8ae1869183642491f4759b99ff363f50"><strong>[orm] [bug] </strong></span>Fixed bug in ORM-level event registration where the &#x201C;raw&#x201D; or &#x201C;propagate&#x201D; flags could potentially be mis-configured in some &#x201C;unmapped base class&#x201D; configurations.<a class="changeset-link headerlink reference internal" href="#change-8ae1869183642491f4759b99ff363f50">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-357">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2786">&#xFF03;2786</a></span></p></li><li><p id="change-0.8.3-7"><span class="yiyi-st" id="yiyi-358"><span class="target" id="change-e0c26c7eb00d470043e72cb138076e83"><strong>[orm] [bug] </strong></span>&#x6027;&#x80FD;&#x4FEE;&#x6B63;&#x4E0E;&#x52A0;&#x8F7D;&#x6620;&#x5C04;&#x5B9E;&#x4F53;&#x65F6;&#x4F7F;&#x7528;<a class="reference internal" href="orm_loading_columns.html#sqlalchemy.orm.defer" title="sqlalchemy.orm.defer"><code class="xref py py-func docutils literal"><span class="pre">defer()</span></code></a>&#x9009;&#x9879;&#x6709;&#x5173;&#x3002;</span><span class="yiyi-st" id="yiyi-359">&#x5728;&#x52A0;&#x8F7D;&#x65F6;&#x5C06;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x5EF6;&#x8FDF;&#x53EF;&#x8C03;&#x7528;&#x5E94;&#x7528;&#x4E8E;&#x5B9E;&#x4F8B;&#x7684;&#x51FD;&#x6570;&#x5F00;&#x9500;&#x663E;&#x7740;&#x9AD8;&#x4E8E;&#x4EC5;&#x4ECE;&#x8BE5;&#x884C;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x7684;&#x5F00;&#x9500;&#xFF08;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;<code class="docutils literal"><span class="pre">defer()</span></code>&#x65E8;&#x5728;&#x51CF;&#x5C11;DB /&#x7F51;&#x7EDC;&#x5F00;&#x9500;&#xFF0C;&#x4E0D;&#x4E00;&#x5B9A;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x8BA1;&#x6570;&#xFF09;&#xFF1B;&#x5728;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x5F00;&#x9500;&#x90FD;&#x5C0F;&#x4E8E;&#x4ECE;&#x5217;&#x4E2D;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x7684;&#x5F00;&#x9500;&#x3002;</span><span class="yiyi-st" id="yiyi-360">&#x6BCF;&#x4E2A;&#x8D1F;&#x8F7D;&#x521B;&#x5EFA;&#x7684;&#x201C;&#x60F0;&#x6027;&#x53EF;&#x8C03;&#x7528;&#x201D;&#x5BF9;&#x8C61;&#x7684;&#x6570;&#x91CF;&#x4E5F;&#x4ECE;N&#xFF08;&#x7ED3;&#x679C;&#x4E2D;&#x7684;&#x603B;&#x5EF6;&#x8FDF;&#x503C;&#xFF09;&#x51CF;&#x5C11;&#x5230;1&#xFF08;&#x5EF6;&#x8FDF;&#x5217;&#x7684;&#x603B;&#x6570;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e0c26c7eb00d470043e72cb138076e83">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-361">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2778">&#xFF03;2778</a></span></p></li><li><p id="change-0.8.3-8"><span class="yiyi-st" id="yiyi-362"><span class="target" id="change-9c03ac102f40e916dc98dab9b39dcff9"><strong>[orm] [bug] </strong></span>Fixed bug whereby attribute history functions would fail when an object we moved from &#x201C;persistent&#x201D; to &#x201C;pending&#x201D; using the <a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.make_transient" title="sqlalchemy.orm.session.make_transient"><code class="xref py py-func docutils literal"><span class="pre">make_transient()</span></code></a> function, for operations involving collection-based backrefs.<a class="changeset-link headerlink reference internal" href="#change-9c03ac102f40e916dc98dab9b39dcff9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-363">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2773">&#xFF03;2773</a></span></p></li></ul></div><div class="section" id="change-0.8.3-orm-declarative"><h3><span class="yiyi-st" id="yiyi-364">orm declarative <a class="headerlink" href="#change-0.8.3-orm-declarative" title="Permalink to this headline">&#xB6;</a></span></h3><ul class="simple"><li><p id="change-0.8.3-9"><span class="yiyi-st" id="yiyi-365"><span class="target" id="change-65c116799fbc9d1d40e71d7c9f431288"><strong>[feature] [orm] [declarative] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x4FBF;&#x6377;&#x7C7B;&#x88C5;&#x9970;&#x5668;<a class="reference internal" href="orm_extensions_declarative_api.html#sqlalchemy.ext.declarative.as_declarative" title="sqlalchemy.ext.declarative.as_declarative"><code class="xref py py-func docutils literal"><span class="pre">as_declarative()</span></code></a>&#xFF0C;&#x662F;<a class="reference internal" href="orm_extensions_declarative_api.html#sqlalchemy.ext.declarative.declarative_base" title="sqlalchemy.ext.declarative.declarative_base"><code class="xref py py-func docutils literal"><span class="pre">declarative_base()</span></code></a>&#x57FA;&#x7C7B;&#x7528;&#x4E8E;&#x4F7F;&#x7528;&#x6F02;&#x4EAE;&#x7684;&#x7C7B;&#x88C5;&#x9970;&#x65B9;&#x6CD5;&#x6765;&#x5E94;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-65c116799fbc9d1d40e71d7c9f431288">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.3-engine"><h3><span class="yiyi-st" id="yiyi-366">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.8.3-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.3-10"><span class="yiyi-st" id="yiyi-367"><span class="target" id="change-d9b738783ea84abacc41fd558aa182bf"><strong>[engine] [feature] </strong></span><code class="docutils literal"><span class="pre">repr()</span></code> for the <a class="reference internal" href="core_engines.html#sqlalchemy.engine.url.URL" title="sqlalchemy.engine.url.URL"><code class="xref py py-class docutils literal"><span class="pre">URL</span></code></a> of an <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a> will now conceal the password using asterisks. </span><span class="yiyi-st" id="yiyi-368">Courtesy Gunnlaugur&#xDE;&#xF3;rBriem&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d9b738783ea84abacc41fd558aa182bf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-369">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2821">&#xFF03;2821</a></span></p></li><li><p id="change-0.8.3-11"><span class="yiyi-st" id="yiyi-370"><span class="target" id="change-cf88a1675c925c94bf267aa8591d2ef4"><strong>[engine] [bug] </strong></span>The regexp used by the <a class="reference internal" href="core_engines.html#sqlalchemy.engine.url.make_url" title="sqlalchemy.engine.url.make_url"><code class="xref py py-func docutils literal"><span class="pre">make_url()</span></code></a> function now parses ipv6 addresses, e.g. surrounded by brackets.<a class="changeset-link headerlink reference internal" href="#change-cf88a1675c925c94bf267aa8591d2ef4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-371">This change is also <strong>backported</strong> to: 0.7.11</span></p><p><span class="yiyi-st" id="yiyi-372">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2851">&#xFF03;2851</a></span></p></li><li><p id="change-0.8.3-12"><span class="yiyi-st" id="yiyi-373"><span class="target" id="change-3c8c71f7f42cb422d498b573187ea739"><strong>[engine] [bug] [oracle] </strong></span>Dialect.initialize() is not called a second time if an <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a> is recreated, due to a disconnect error. </span><span class="yiyi-st" id="yiyi-374">&#x8FD9;&#x89E3;&#x51B3;&#x4E86;Oracle 8&#x65B9;&#x8A00;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x901A;&#x5E38;dialect.initialize()&#x9636;&#x6BB5;&#x5E94;&#x8BE5;&#x53EA;&#x80FD;&#x7528;&#x4E8E;&#x6BCF;&#x79CD;&#x65B9;&#x8A00;&#x4E00;&#x6B21;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3c8c71f7f42cb422d498b573187ea739">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-375">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2776">&#xFF03;2776</a></span></p></li><li><p id="change-0.8.3-13"><span class="yiyi-st" id="yiyi-376"><span class="target" id="change-a95b0f6765fdf5ebdf844806fb2aa122"><strong>[engine] [bug] [pool] </strong></span>Fixed bug where <a class="reference internal" href="core_pooling.html#sqlalchemy.pool.QueuePool" title="sqlalchemy.pool.QueuePool"><code class="xref py py-class docutils literal"><span class="pre">QueuePool</span></code></a> would lose the correct checked out count if an existing pooled connection failed to reconnect after an invalidate or recycle event.<a class="changeset-link headerlink reference internal" href="#change-a95b0f6765fdf5ebdf844806fb2aa122">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-377">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2772">&#xFF03;2772</a></span></p></li></ul></div><div class="section" id="change-0.8.3-sql"><h3><span class="yiyi-st" id="yiyi-378">SQL <a class="headerlink" href="#change-0.8.3-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.3-14"><span class="yiyi-st" id="yiyi-379"><span class="target" id="change-5c72fe0ff07c34ebffffec6a4542ae43"><strong>[sql] [feature] </strong></span>&#x4E3A;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.dml.insert" title="sqlalchemy.dialects.postgresql.dml.insert"><code class="xref py py-func docutils literal"><span class="pre">insert()</span></code></a>&#x7ED3;&#x6784;<a class="reference internal" href="core_dml.html#sqlalchemy.sql.expression.Insert.from_select" title="sqlalchemy.sql.expression.Insert.from_select"><code class="xref py py-meth docutils literal"><span class="pre">Insert.from_select()</span></code></a>&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-380">Given a list of columns and a selectable, renders <code class="docutils literal"><span class="pre">INSERT</span> <span class="pre">INTO</span> <span class="pre">(table)</span> <span class="pre">(columns)</span> <span class="pre">SELECT</span> <span class="pre">..</span></code>.<a class="changeset-link headerlink reference internal" href="#change-5c72fe0ff07c34ebffffec6a4542ae43">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-381">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/722">&#xFF03;722</a></span></p></li><li><p id="change-0.8.3-15"><span class="yiyi-st" id="yiyi-382"><span class="target" id="change-7770102ac46e881dbf4291237e0e33d6"><strong>[sql] [feature] </strong></span>The <a class="reference internal" href="core_dml.html#sqlalchemy.sql.expression.update" title="sqlalchemy.sql.expression.update"><code class="xref py py-func docutils literal"><span class="pre">update()</span></code></a>, <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.dml.insert" title="sqlalchemy.dialects.postgresql.dml.insert"><code class="xref py py-func docutils literal"><span class="pre">insert()</span></code></a>, and <a class="reference internal" href="core_dml.html#sqlalchemy.sql.expression.delete" title="sqlalchemy.sql.expression.delete"><code class="xref py py-func docutils literal"><span class="pre">delete()</span></code></a> constructs will now interpret ORM entities as target tables to be operated upon, e.g.:</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">insert</span><span class="p">,</span> <span class="n">update</span><span class="p">,</span> <span class="n">delete</span>

<span class="n">ins</span> <span class="o">=</span> <span class="n">insert</span><span class="p">(</span><span class="n">SomeMappedClass</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="n">del_</span> <span class="o">=</span> <span class="n">delete</span><span class="p">(</span><span class="n">SomeMappedClass</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">SomeMappedClass</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>

<span class="n">upd</span> <span class="o">=</span> <span class="n">update</span><span class="p">(</span><span class="n">SomeMappedClass</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">SomeMappedClass</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&apos;ed&apos;</span><span class="p">)</span></pre></div></div><span class="yiyi-st" id="yiyi-383"> <a class="changeset-link headerlink reference internal" href="#change-7770102ac46e881dbf4291237e0e33d6">&#xB6;</a></span><p></p></li><li><p id="change-0.8.3-16"><span class="yiyi-st" id="yiyi-384"><span class="target" id="change-f1bb3cb5a1c3bf0bb7fd96cfb5c1df32"><strong>[sql] [bug] </strong></span>&#x56FA;&#x5B9A;&#x56DE;&#x5F52;&#x5230;0.7.9&#xFF0C;&#x5982;&#x679C;CTE&#x7684;&#x540D;&#x79F0;&#x5728;&#x591A;&#x4E2A;FROM&#x5B50;&#x53E5;&#x4E2D;&#x88AB;&#x5F15;&#x7528;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x7684;&#x540D;&#x79F0;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x88AB;&#x6B63;&#x786E;&#x5F15;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f1bb3cb5a1c3bf0bb7fd96cfb5c1df32">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-385">This change is also <strong>backported</strong> to: 0.7.11</span></p><p><span class="yiyi-st" id="yiyi-386">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2801">&#xFF03;2801</a></span></p></li><li><p id="change-0.8.3-17"><span class="yiyi-st" id="yiyi-387"><span class="target" id="change-a320ea9f0d44002b0e0a79744920fcd9"><strong>[sql] [bug] [cte] </strong></span>Fixed bug in common table expression system where if the CTE were used only as an <code class="docutils literal"><span class="pre">alias()</span></code> construct, it would not render using the WITH keyword.<a class="changeset-link headerlink reference internal" href="#change-a320ea9f0d44002b0e0a79744920fcd9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-388">This change is also <strong>backported</strong> to: 0.7.11</span></p><p><span class="yiyi-st" id="yiyi-389">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2783">&#xFF03;2783</a></span></p></li><li><p id="change-0.8.3-18"><span class="yiyi-st" id="yiyi-390"><span class="target" id="change-68f18f76eb79a1699492214db9610cae"><strong>[sql] [bug] </strong></span>Fixed bug in <a class="reference internal" href="core_constraints.html#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal"><span class="pre">CheckConstraint</span></code></a> DDL where the &#x201C;quote&#x201D; flag from a <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> object would not be propagated.<a class="changeset-link headerlink reference internal" href="#change-68f18f76eb79a1699492214db9610cae">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-391">This change is also <strong>backported</strong> to: 0.7.11</span></p><p><span class="yiyi-st" id="yiyi-392">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2784">&#xFF03;2784</a></span></p></li><li><p id="change-0.8.3-19"><span class="yiyi-st" id="yiyi-393"><span class="target" id="change-e0ef7971da8c7643222fa1def3f24581"><strong>[sql] [bug] </strong></span>Fixed bug where <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.type_coerce" title="sqlalchemy.sql.expression.type_coerce"><code class="xref py py-func docutils literal"><span class="pre">type_coerce()</span></code></a> would not interpret ORM elements with a <code class="docutils literal"><span class="pre">__clause_element__()</span></code> method properly.<a class="changeset-link headerlink reference internal" href="#change-e0ef7971da8c7643222fa1def3f24581">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-394">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2849">&#xFF03;2849</a></span></p></li><li><p id="change-0.8.3-20"><span class="yiyi-st" id="yiyi-395"><span class="target" id="change-244a726e2b5227f5eb88f0feac261fef"><strong>[sql] [bug] </strong></span>The <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal"><span class="pre">Enum</span></code></a> and <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.Boolean" title="sqlalchemy.types.Boolean"><code class="xref py py-class docutils literal"><span class="pre">Boolean</span></code></a> types now bypass any custom (e.g. TypeDecorator) type in use when producing the CHECK constraint for the &#x201C;non native&#x201D; type. </span><span class="yiyi-st" id="yiyi-396">&#x8FD9;&#x6837;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;&#x4E0D;&#x4F1A;&#x88AB;&#x5305;&#x542B;&#x5728;CHECK&#x4E2D;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x8FDD;&#x80CC;&#x4E86;&#x201C;impl&#x201D;&#x503C;&#x800C;&#x4E0D;&#x662F;&#x201C;&#x88C5;&#x9970;&#x201D;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-244a726e2b5227f5eb88f0feac261fef">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-397">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2842">&#xFF03;2842</a></span></p></li><li><p id="change-0.8.3-21"><span class="yiyi-st" id="yiyi-398"><span class="target" id="change-a4428210d511f08c886403e951a6f7c5"><strong>[sql] [bug] </strong></span>The <code class="docutils literal"><span class="pre">.unique</span></code> flag on <a class="reference internal" href="core_constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal"><span class="pre">Index</span></code></a> could be produced as <code class="docutils literal"><span class="pre">None</span></code> if it was generated from a <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> that didn&#x2019;t specify <code class="docutils literal"><span class="pre">unique</span></code> (where it defaults to <code class="docutils literal"><span class="pre">None</span></code>). </span><span class="yiyi-st" id="yiyi-399">&#x8BE5;&#x6807;&#x5FD7;&#x73B0;&#x5728;&#x603B;&#x662F;<code class="docutils literal"><span class="pre">True</span></code>&#x6216;<code class="docutils literal"><span class="pre">False</span></code>&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a4428210d511f08c886403e951a6f7c5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-400">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2825">&#xFF03;2825</a></span></p></li><li><p id="change-0.8.3-22"><span class="yiyi-st" id="yiyi-401"><span class="target" id="change-487183f04e6da9aa27d8817bca9906d1"><strong>[sql] [bug] </strong></span>Fixed bug in default compiler plus those of postgresql, mysql, and mssql to ensure that any literal SQL expression values are rendered directly as literals, instead of as bound parameters, within a CREATE INDEX statement. </span><span class="yiyi-st" id="yiyi-402">&#x8FD9;&#x4E5F;&#x6539;&#x53D8;&#x4E86;&#x5176;&#x4ED6;DDL&#x7684;&#x6E32;&#x67D3;&#x65B9;&#x6848;&#xFF0C;&#x5982;&#x7EA6;&#x675F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-487183f04e6da9aa27d8817bca9906d1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-403">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2742">&#xFF03;2742</a></span></p></li><li><p id="change-0.8.3-23"><span class="yiyi-st" id="yiyi-404"><span class="target" id="change-f403fbb0f55df86dac079fb15eb4e7d7"><strong>[sql] [bug] </strong></span>A <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a> that is made to refer to itself in its FROM clause, typically via in-place mutation, will raise an informative error message rather than causing a recursion overflow.<a class="changeset-link headerlink reference internal" href="#change-f403fbb0f55df86dac079fb15eb4e7d7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-405">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2815">&#xFF03;2815</a></span></p></li><li><p id="change-0.8.3-24"><span class="yiyi-st" id="yiyi-406"><span class="target" id="change-5e6a31e42152647f14bf8bae4dab5ba4"><strong>[sql] [bug] </strong></span>&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;<a class="reference internal" href="core_constraints.html#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a>&#x4E0A;&#x7684;&#x975E;&#x5DE5;&#x4F5C;&#x201C;&#x6A21;&#x5F0F;&#x201D;&#x53C2;&#x6570;&#xFF1B;&#x63D0;&#x51FA;&#x8B66;&#x544A;&#x3002;</span><span class="yiyi-st" id="yiyi-407">&#x5728;0.9&#x4E2D;&#x5220;&#x9664;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5e6a31e42152647f14bf8bae4dab5ba4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-408">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2831">&#xFF03;2831</a></span></p></li><li><p id="change-0.8.3-25"><span class="yiyi-st" id="yiyi-409"><span class="target" id="change-675072698df0b30451fcea8d235d1e75"><strong>[sql] [bug] </strong></span>Fixed bug where using the <code class="docutils literal"><span class="pre">column_reflect</span></code> event to change the <code class="docutils literal"><span class="pre">.key</span></code> of the incoming <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> would prevent primary key constraints, indexes, and foreign key constraints from being correctly reflected.<a class="changeset-link headerlink reference internal" href="#change-675072698df0b30451fcea8d235d1e75">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-410">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2811">&#xFF03;2811</a></span></p></li><li><p id="change-0.8.3-26"><span class="yiyi-st" id="yiyi-411"><span class="target" id="change-7012bfcf9dece88f5446b4fd773cd291"><strong>[sql] [bug] </strong></span>The <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.notin_" title="sqlalchemy.sql.operators.ColumnOperators.notin_"><code class="xref py py-meth docutils literal"><span class="pre">ColumnOperators.notin_()</span></code></a> operator added in 0.8 now properly produces the negation of the expression &#x201C;IN&#x201D; returns when used against an empty collection.<a class="changeset-link headerlink reference internal" href="#change-7012bfcf9dece88f5446b4fd773cd291">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.3-27"><span class="yiyi-st" id="yiyi-412"><span class="target" id="change-1694faa8f6477c69858ec6cf648a0ca0"><strong>[sql] [bug] [postgresql] </strong></span>Fixed bug where the expression system relied upon the <code class="docutils literal"><span class="pre">str()</span></code> form of a some expressions when referring to the <code class="docutils literal"><span class="pre">.c</span></code> collection on a <code class="docutils literal"><span class="pre">select()</span></code> construct, but the <code class="docutils literal"><span class="pre">str()</span></code> form isn&#x2019;t available since the element relies on dialect-specific compilation constructs, notably the <code class="docutils literal"><span class="pre">__getitem__()</span></code> operator as used with a Postgresql <code class="docutils literal"><span class="pre">ARRAY</span></code> element. </span><span class="yiyi-st" id="yiyi-413">&#x8BE5;&#x4FEE;&#x8865;&#x7A0B;&#x5E8F;&#x8FD8;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5F02;&#x5E38;&#x7C7B;<a class="reference internal" href="core_exceptions.html#sqlalchemy.exc.UnsupportedCompilationError" title="sqlalchemy.exc.UnsupportedCompilationError"><code class="xref py py-exc docutils literal"><span class="pre">UnsupportedCompilationError</span></code></a>&#xFF0C;&#x8FD9;&#x662F;&#x5728;&#x7F16;&#x8BD1;&#x5668;&#x88AB;&#x8981;&#x6C42;&#x7F16;&#x8BD1;&#x4E00;&#x4E9B;&#x4E0D;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x53BB;&#x505A;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5F15;&#x53D1;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1694faa8f6477c69858ec6cf648a0ca0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-414">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2780">&#xFF03;2780</a></span></p></li></ul></div><div class="section" id="change-0.8.3-postgresql"><h3><span class="yiyi-st" id="yiyi-415">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.8.3-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.3-28"><span class="yiyi-st" id="yiyi-416"><span class="target" id="change-0d2fbae9923d9363bce65e24adefba23"><strong>[postgresql] [bug] </strong></span>&#x4ECE;&#x5217;&#x7684;&#x670D;&#x52A1;&#x5668;&#x9ED8;&#x8BA4;&#x503C;&#x7684;&#x53CD;&#x5C04;&#x4E2D;&#x5220;&#x9664;&#x4E86;128&#x4E2A;&#x5B57;&#x7B26;&#x7684;&#x622A;&#x65AD;&#xFF1B;&#x6B64;&#x4EE3;&#x7801;&#x539F;&#x59CB;&#x6765;&#x81EA;PG&#x7CFB;&#x7EDF;&#x89C6;&#x56FE;&#xFF0C;&#x5B83;&#x4E3A;&#x4E86;&#x53EF;&#x8BFB;&#x6027;&#x800C;&#x622A;&#x65AD;&#x4E86;&#x5B57;&#x7B26;&#x4E32;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0d2fbae9923d9363bce65e24adefba23">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-417">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2844">&#xFF03;2844</a></span></p></li><li><p id="change-0.8.3-29"><span class="yiyi-st" id="yiyi-418"><span class="target" id="change-b2f836d7e1ecf9fb536a07100e079cc5"><strong>[postgresql] [bug] </strong></span>&#x62EC;&#x53F7;&#x5C06;&#x5E94;&#x7528;&#x4E8E;&#x590D;&#x5408;SQL&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5E76;&#x5728;CREATE INDEX&#x8BED;&#x53E5;&#x7684;&#x5217;&#x8868;&#x4E2D;&#x5448;&#x73B0;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b2f836d7e1ecf9fb536a07100e079cc5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-419">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2742">&#xFF03;2742</a></span></p></li><li><p id="change-0.8.3-30"><span class="yiyi-st" id="yiyi-420"><span class="target" id="change-4b56ae5537f1f171e43b34d6b652deac"><strong>[postgresql] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;Postgresql&#x7248;&#x672C;&#x5B57;&#x7B26;&#x4E32;&#x5728;&#x524D;&#x7F00;&#x201C;Postgresql&#x201D;&#x6216;&#x201C;EnterpriseDB&#x201D;&#x4E4B;&#x524D;&#x7684;&#x524D;&#x7F00;&#x4E0D;&#x4F1A;&#x88AB;&#x89E3;&#x6790;&#x7684;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-421">Courtesy Scott Schaefer&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4b56ae5537f1f171e43b34d6b652deac">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-422">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2819">&#xFF03;2819</a></span></p></li></ul></div><div class="section" id="change-0.8.3-mysql"><h3><span class="yiyi-st" id="yiyi-423">MySQL&#x7684;<a class="headerlink" href="#change-0.8.3-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.3-31"><span class="yiyi-st" id="yiyi-424"><span class="target" id="change-e43f31fa51abb8d936a70e25174d7889"><strong>[mysql] [bug] </strong></span>&#x7248;&#x672C;5.5,5.6&#x7684;MySQL&#x4FDD;&#x7559;&#x5B57;&#x66F4;&#x65B0;&#xFF0C;Hanno Schlichting&#x63D0;&#x4F9B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e43f31fa51abb8d936a70e25174d7889">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-425">This change is also <strong>backported</strong> to: 0.7.11</span></p><p><span class="yiyi-st" id="yiyi-426">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2791">&#xFF03;2791</a></span></p></li><li><p id="change-0.8.3-32"><span class="yiyi-st" id="yiyi-427"><span class="target" id="change-f8980c12474534ac31102ea813a57a1b"><strong>[mysql] [bug] </strong></span>The change in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2721">#2721</a>, which is that the <code class="docutils literal"><span class="pre">deferrable</span></code> keyword of <a class="reference internal" href="core_constraints.html#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal"><span class="pre">ForeignKeyConstraint</span></code></a> is silently ignored on the MySQL backend, will be reverted as of 0.9; this keyword will now render again, raising errors on MySQL as it is not understood - the same behavior will also apply to the <code class="docutils literal"><span class="pre">initially</span></code> keyword. </span><span class="yiyi-st" id="yiyi-428">&#x5728;0.8&#x4E2D;&#xFF0C;&#x5173;&#x952E;&#x5B57;&#x5C06;&#x4FDD;&#x6301;&#x5FFD;&#x7565;&#xFF0C;&#x4F46;&#x4F1A;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x3002;</span><span class="yiyi-st" id="yiyi-429">&#x6B64;&#x5916;&#xFF0C;<code class="docutils literal"><span class="pre">match</span></code>&#x5173;&#x952E;&#x5B57;&#x73B0;&#x5728;&#x4F1A;&#x5728;0.9&#x4E0A;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;<a class="reference internal" href="core_exceptions.html#sqlalchemy.exc.CompileError" title="sqlalchemy.exc.CompileError"><code class="xref py py-exc docutils literal"><span class="pre">CompileError</span></code></a>&#xFF0C;&#x5E76;&#x5728;0.8&#x4E0A;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#xFF1B;&#x8FD9;&#x4E2A;&#x5173;&#x952E;&#x5B57;&#x4E0D;&#x4EC5;&#x88AB;MySQL&#x9ED8;&#x9ED8;&#x5730;&#x5FFD;&#x7565;&#xFF0C;&#x800C;&#x4E14;&#x6253;&#x7834;&#x4E86;ON UPDATE / ON DELETE&#x9009;&#x9879;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-430">&#x8981;&#x4F7F;&#x7528;&#x5728;MySQL&#x4E0A;&#x4E0D;&#x5448;&#x73B0;&#x6216;&#x5448;&#x73B0;&#x4E0D;&#x540C;&#x7684;<a class="reference internal" href="core_constraints.html#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal"><span class="pre">ForeignKeyConstraint</span></code></a>&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x7F16;&#x8BD1;&#x9009;&#x9879;&#x3002;</span><span class="yiyi-st" id="yiyi-431">&#x8FD9;&#x4E2A;&#x7528;&#x6CD5;&#x7684;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x5DF2;&#x7ECF;&#x6DFB;&#x52A0;&#x5230;&#x6587;&#x6863;&#x4E2D;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="dialects_mysql.html#mysql-foreign-keys"><span>MySQL Foreign Keys</span></a>&#x3002;</span></p><span class="yiyi-st" id="yiyi-433"> <a class="changeset-link headerlink reference internal" href="#change-f8980c12474534ac31102ea813a57a1b">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-432">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2721">&#xFF03;2721</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2839">&#xFF03;2839</a></span></p></li><li><p id="change-0.8.3-33"><span class="yiyi-st" id="yiyi-434"><span class="target" id="change-aada183c3aa9880e9262cd3ee6d0f047"><strong>[mysql] [bug] </strong></span>MySQL-connector dialect now allows options in the create_engine query string to override those defaults set up in the connect, including &#x201C;buffered&#x201D; and &#x201C;raise_on_warnings&#x201D;.<a class="changeset-link headerlink reference internal" href="#change-aada183c3aa9880e9262cd3ee6d0f047">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-435">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2515">&#xFF03;2515</a></span></p></li></ul></div><div class="section" id="change-0.8.3-sqlite"><h3><span class="yiyi-st" id="yiyi-436">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.8.3-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.3-34"><span class="yiyi-st" id="yiyi-437"><span class="target" id="change-15fd7971b2a7d12d88f6701df1068e0a"><strong>[sqlite] [bug] </strong></span>&#x65B0;&#x6DFB;&#x52A0;&#x7684;SQLite DATETIME&#x53C2;&#x6570;storage_format&#x548C;regexp&#x663E;&#x7136;&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x6B63;&#x786E;&#x5730;&#x5B9E;&#x73B0;&#xFF1B;&#x5F53;&#x8BBA;&#x636E;&#x88AB;&#x63A5;&#x53D7;&#x65F6;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x5B83;&#x4EEC;&#x5C06;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#xFF1B;&#x8FD9;&#x5DF2;&#x88AB;&#x4FEE;&#x590D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-15fd7971b2a7d12d88f6701df1068e0a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-438">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2781">&#xFF03;2781</a></span></p></li></ul></div><div class="section" id="change-0.8.3-oracle"><h3><span class="yiyi-st" id="yiyi-439">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.8.3-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.3-35"><span class="yiyi-st" id="yiyi-440"><span class="target" id="change-df45fec86fb2c3ba45a71dfaa6bc589b"><strong>[oracle] [bug] </strong></span>Fixed bug where Oracle table reflection using synonyms would fail if the synonym and the table were in different remote schemas. </span><span class="yiyi-st" id="yiyi-441">&#x8865;&#x4E01;&#x4FEE;&#x590D;Kyle Derr&#x793C;&#x8C8C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-df45fec86fb2c3ba45a71dfaa6bc589b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-442">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2853">&#xFF03;2853</a></span></p></li></ul></div><div class="section" id="change-0.8.3-misc"><h3><span class="yiyi-st" id="yiyi-443">&#x6742;&#x9879;<a class="headerlink" href="#change-0.8.3-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.3-36"><span class="yiyi-st" id="yiyi-444"><span class="target" id="change-77ffc6dfb1cfdfa745330bb19c5a7f09"><strong>[feature] </strong></span>&#x5C06;<code class="docutils literal"><span class="pre">system=True</span></code>&#x6DFB;&#x52A0;&#x5230;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x4E2D;&#xFF0C;&#x5C06;&#x5217;&#x6807;&#x8BB0;&#x4E3A;&#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x7684;&#x5217;&#x6570;&#x636E;&#x5E93;&#xFF08;&#x4F8B;&#x5982;Postgresql <code class="docutils literal"><span class="pre">oid</span></code>&#x6216;<code class="docutils literal"><span class="pre">xmin</span></code>&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-445">&#x8BE5;&#x5217;&#x5C06;&#x4ECE;<code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code>&#x8BED;&#x53E5;&#x4E2D;&#x7701;&#x7565;&#xFF0C;&#x4F46;&#x5426;&#x5219;&#x53EF;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x3002;</span><span class="yiyi-st" id="yiyi-446">&#x53E6;&#x5916;&#xFF0C;&#x901A;&#x8FC7;&#x751F;&#x6210;&#x8FD4;&#x56DE;<code class="docutils literal"><span class="pre">None</span></code>&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;<a class="reference internal" href="core_ddl.html#sqlalchemy.schema.CreateColumn" title="sqlalchemy.schema.CreateColumn"><code class="xref py py-class docutils literal"><span class="pre">CreateColumn</span></code></a>&#x7ED3;&#x6784;&#x5E94;&#x7528;&#x4E8E;&#x5141;&#x8BB8;&#x8DF3;&#x8FC7;&#x5217;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x7F16;&#x8BD1;&#x89C4;&#x5219;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-77ffc6dfb1cfdfa745330bb19c5a7f09">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.3-37"><span class="yiyi-st" id="yiyi-447"><span class="target" id="change-512d118321cd5025929f5f9fe0b5f82f"><strong>[feature] [examples] </strong></span>&#x6539;&#x8FDB;&#x4E86;<code class="docutils literal"><span class="pre">examples/generic_associations</span></code>&#x4E2D;&#x7684;&#x793A;&#x4F8B;&#xFF0C;&#x5305;&#x62EC;<code class="docutils literal"><span class="pre">discriminator_on_association.py</span></code>&#x5229;&#x7528;&#x5355;&#x4E2A;&#x8868;&#x7EE7;&#x627F;&#x8FDB;&#x884C;&#x5DE5;&#x4F5C;&#x201C;&#x9274;&#x522B;&#x8005;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-448">&#x8FD8;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x771F;&#x6B63;&#x7684;&#x201C;&#x901A;&#x7528;&#x5916;&#x952E;&#x201D;&#x793A;&#x4F8B;&#xFF0C;&#x8BE5;&#x793A;&#x4F8B;&#x4E0E;&#x5176;&#x4ED6;&#x6D41;&#x884C;&#x6846;&#x67B6;&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x7C7B;&#x4F3C;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4F7F;&#x7528;&#x5F00;&#x653E;&#x5F0F;&#x6574;&#x6570;&#x6307;&#x5411;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x8868;&#xFF0C;&#x524D;&#x9762;&#x63D0;&#x5230;&#x4E86;&#x4F20;&#x7EDF;&#x7684;&#x53C2;&#x7167;&#x5B8C;&#x6574;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-449">&#x867D;&#x7136;&#x6211;&#x4EEC;&#x4E0D;&#x63A8;&#x8350;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#xFF0C;&#x4F46;&#x4FE1;&#x606F;&#x8981;&#x514D;&#x8D39;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-512d118321cd5025929f5f9fe0b5f82f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.3-38"><span class="yiyi-st" id="yiyi-450"><span class="target" id="change-b9729e8544ea5c4cef86dc541f174f91"><strong>[bug] [examples] </strong></span>&#x5728;&#x7248;&#x672C;&#x63A7;&#x5236;&#x793A;&#x4F8B;&#x4E2D;&#x521B;&#x5EFA;&#x7684;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x8868;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x201C;autoincrement = False&#x201D;&#xFF0C;&#x56E0;&#x4E3A;&#x8BE5;&#x8868;&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x4E0D;&#x5E94;&#x8BE5;&#x6709;autoinc&#xFF0C;Patrick Schmid&#x63D0;&#x4F9B;<a class="changeset-link headerlink reference internal" href="#change-b9729e8544ea5c4cef86dc541f174f91">&#xB6; T2&gt;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.8.2"><h2><span class="yiyi-st" id="yiyi-452">0.8.2 <a class="headerlink" href="#change-0.8.2" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-561">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2013&#x5E74;7&#x6708;3&#x65E5;</span><div class="section" id="change-0.8.2-orm"><h3><span class="yiyi-st" id="yiyi-453">ORM <a class="headerlink" href="#change-0.8.2-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.2-0"><span class="yiyi-st" id="yiyi-454"><span class="target" id="change-c05bcdba9495b9c08f29a9a3304b5d70"><strong>[orm] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x65B9;&#x6CD5;<a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.select_entity_from" title="sqlalchemy.orm.query.Query.select_entity_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_entity_from()</span></code></a>&#xFF0C;&#x5B83;&#x5C06;&#x5728;0.9&#x4E2D;&#x66FF;&#x6362;<a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_from()</span></code></a></span><span class="yiyi-st" id="yiyi-455">&#x5728;0.8&#x4E2D;&#xFF0C;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x76F8;&#x540C;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4EE5;&#x4FBF;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x8FC1;&#x79FB;&#x4EE5;&#x4F7F;&#x7528;<a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.select_entity_from" title="sqlalchemy.orm.query.Query.select_entity_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_entity_from()</span></code></a>&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-456">&#x6709;&#x5173;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;0.9&#x8FC1;&#x79FB;&#x6307;&#x5357;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c05bcdba9495b9c08f29a9a3304b5d70">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-457">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2736">&#xFF03;2736</a></span></p></li><li><p id="change-0.8.2-1"><span class="yiyi-st" id="yiyi-458"><span class="target" id="change-2317157430cb5b525364054990497eb9"><strong>[orm] [bug] </strong></span>&#x5C1D;&#x8BD5;&#x5237;&#x65B0;&#x7EE7;&#x627F;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x65F6;&#x53D1;&#x51FA;&#x4E00;&#x4E2A;&#x8B66;&#x544A;&#xFF0C;&#x5176;&#x4E2D;&#x591A;&#x6001;&#x9274;&#x522B;&#x7B26;&#x5DF2;&#x88AB;&#x5206;&#x914D;&#x7ED9;&#x8BE5;&#x7C7B;&#x65E0;&#x6548;&#x7684;&#x503C;<a class="changeset-link headerlink reference internal" href="#change-2317157430cb5b525364054990497eb9">&#xB6; T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-459">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2750">&#xFF03;2750</a></span></p></li><li><p id="change-0.8.2-2"><span class="yiyi-st" id="yiyi-460"><span class="target" id="change-14c40b5830402d04cc5573ff79f332eb"><strong>[orm] [bug] </strong></span>Fixed bug in polymorphic SQL generation where multiple joined-inheritance entities against the same base class joined to each other as well would not track columns on the base table independently of each other if the string of joins were more than two entities long.<a class="changeset-link headerlink reference internal" href="#change-14c40b5830402d04cc5573ff79f332eb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-461">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2759">&#xFF03;2759</a></span></p></li><li><p id="change-0.8.2-3"><span class="yiyi-st" id="yiyi-462"><span class="target" id="change-3f06591039ab2c0ed2a898ffead8c351"><strong>[orm] [bug] </strong></span>Fixed bug where sending a composite attribute into <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.order_by" title="sqlalchemy.orm.query.Query.order_by"><code class="xref py py-meth docutils literal"><span class="pre">Query.order_by()</span></code></a> would produce a parenthesized expression not accepted by some databases.<a class="changeset-link headerlink reference internal" href="#change-3f06591039ab2c0ed2a898ffead8c351">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-463">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2754">&#xFF03;2754</a></span></p></li><li><p id="change-0.8.2-4"><span class="yiyi-st" id="yiyi-464"><span class="target" id="change-ee0ed481a7e6f8f589ed19bf4e7020b9"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x590D;&#x5408;&#x5C5E;&#x6027;&#x4E0E;<a class="reference internal" href="orm_query.html#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal"><span class="pre">aliased()</span></code></a>&#x51FD;&#x6570;&#x4E4B;&#x95F4;&#x7684;&#x4EA4;&#x4E92;&#x3002;</span><span class="yiyi-st" id="yiyi-465">&#x4EE5;&#x524D;&#xFF0C;&#x5F53;&#x5E94;&#x7528;&#x522B;&#x540D;&#x65F6;&#xFF0C;&#x7EC4;&#x5408;&#x5C5E;&#x6027;&#x5728;&#x6BD4;&#x8F83;&#x64CD;&#x4F5C;&#x4E2D;&#x65E0;&#x6CD5;&#x6B63;&#x786E;&#x5DE5;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ee0ed481a7e6f8f589ed19bf4e7020b9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-466">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2755">&#xFF03;2755</a></span></p></li><li><p id="change-0.8.2-5"><span class="yiyi-st" id="yiyi-467"><span class="target" id="change-6e0ede3310afa0c7b3abbffef4b0c705"><strong>[orm] [bug] [ext] </strong></span>Fixed bug where <a class="reference internal" href="orm_extensions_mutable.html#sqlalchemy.ext.mutable.MutableDict" title="sqlalchemy.ext.mutable.MutableDict"><code class="xref py py-class docutils literal"><span class="pre">MutableDict</span></code></a> didn&#x2019;t report a change event when <code class="docutils literal"><span class="pre">clear()</span></code> was called.<a class="changeset-link headerlink reference internal" href="#change-6e0ede3310afa0c7b3abbffef4b0c705">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-468">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2730">&#xFF03;2730</a></span></p></li><li><p id="change-0.8.2-6"><span class="yiyi-st" id="yiyi-469"><span class="target" id="change-12637c141bbfeb7bbcd46cd473878404"><strong>[orm] [bug] </strong></span>Fixed a regression caused by <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2682">#2682</a> whereby the evaluation invoked by <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.update" title="sqlalchemy.orm.query.Query.update"><code class="xref py py-meth docutils literal"><span class="pre">Query.update()</span></code></a> and <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.delete" title="sqlalchemy.orm.query.Query.delete"><code class="xref py py-meth docutils literal"><span class="pre">Query.delete()</span></code></a> would hit upon unsupported <code class="docutils literal"><span class="pre">True</span></code> and <code class="docutils literal"><span class="pre">False</span></code> symbols which now appear due to the usage of <code class="docutils literal"><span class="pre">IS</span></code>.<a class="changeset-link headerlink reference internal" href="#change-12637c141bbfeb7bbcd46cd473878404">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-470">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2737">&#xFF03;2737</a></span></p></li><li><p id="change-0.8.2-7"><span class="yiyi-st" id="yiyi-471"><span class="target" id="change-885c8bfa8d2c554bbf343bc9537b9b8e"><strong>[orm] [bug] </strong></span>Fixed a regression from 0.7 caused by this ticket, which made the check for recursion overflow in self-referential eager joining too loose, missing a particular circumstance where a subclass had lazy=&#x201D;joined&#x201D; or &#x201C;subquery&#x201D; configured and the load was a &#x201C;with_polymorphic&#x201D; against the base.<a class="changeset-link headerlink reference internal" href="#change-885c8bfa8d2c554bbf343bc9537b9b8e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-472">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2481">&#xFF03;2481</a></span></p></li><li><p id="change-0.8.2-8"><span class="yiyi-st" id="yiyi-473"><span class="target" id="change-8f7f445e4299f4950355f914240458aa"><strong>[orm] [bug] </strong></span>Fixed a regression from 0.7 where the contextmanager feature of <a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.Session.begin_nested" title="sqlalchemy.orm.session.Session.begin_nested"><code class="xref py py-meth docutils literal"><span class="pre">Session.begin_nested()</span></code></a> would fail to correctly roll back the transaction when a flush error occurred, instead raising its own exception while leaving the session still pending a rollback.<a class="changeset-link headerlink reference internal" href="#change-8f7f445e4299f4950355f914240458aa">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-474">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2718">&#xFF03;2718</a></span></p></li></ul></div><div class="section" id="change-0.8.2-orm-declarative"><h3><span class="yiyi-st" id="yiyi-475">orm declarative <a class="headerlink" href="#change-0.8.2-orm-declarative" title="Permalink to this headline">&#xB6;</a></span></h3><ul class="simple"><li><p id="change-0.8.2-9"><span class="yiyi-st" id="yiyi-476"><span class="target" id="change-4ff13b29211231fa799c3c09281ee426"><strong>[feature] [orm] [declarative] </strong></span>ORM descriptors such as hybrid properties can now be referenced by name in a string argument used with <code class="docutils literal"><span class="pre">order_by</span></code>, <code class="docutils literal"><span class="pre">primaryjoin</span></code>, or similar in <a class="reference internal" href="orm_relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal"><span class="pre">relationship()</span></code></a>, in addition to column-bound attributes.<a class="changeset-link headerlink reference internal" href="#change-4ff13b29211231fa799c3c09281ee426">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-477">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2761">&#xFF03;2761</a></span></p></li></ul></div><div class="section" id="change-0.8.2-engine"><h3><span class="yiyi-st" id="yiyi-478">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.8.2-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.2-10"><span class="yiyi-st" id="yiyi-479"><span class="target" id="change-50203a688fa4d9aeaca6bd82e0186374"><strong>[engine] [bug] </strong></span>Fixed bug where the <code class="docutils literal"><span class="pre">reset_on_return</span></code> argument to various <a class="reference internal" href="core_pooling.html#sqlalchemy.pool.Pool" title="sqlalchemy.pool.Pool"><code class="xref py py-class docutils literal"><span class="pre">Pool</span></code></a> implementations would not be propagated when the pool was regenerated. </span><span class="yiyi-st" id="yiyi-480">Courtesy Eevee&#x3002;<a class="changeset-link headerlink reference internal" href="#change-50203a688fa4d9aeaca6bd82e0186374">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-481">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/6">&#x8BF7;&#x6C42;github&#xFF1A;6</a></span></p></li><li><p id="change-0.8.2-11"><span class="yiyi-st" id="yiyi-482"><span class="target" id="change-1b593aa7c17313e714731fc32dac43e7"><strong>[engine] [bug] [sybase] </strong></span>Fixed a bug where the routine to detect the correct kwargs being sent to <a class="reference internal" href="core_engines.html#sqlalchemy.create_engine" title="sqlalchemy.create_engine"><code class="xref py py-func docutils literal"><span class="pre">create_engine()</span></code></a> would fail in some cases, such as with the Sybase dialect.<a class="changeset-link headerlink reference internal" href="#change-1b593aa7c17313e714731fc32dac43e7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-483">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2732">&#xFF03;2732</a></span></p></li></ul></div><div class="section" id="change-0.8.2-sql"><h3><span class="yiyi-st" id="yiyi-484">SQL <a class="headerlink" href="#change-0.8.2-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.2-12"><span class="yiyi-st" id="yiyi-485"><span class="target" id="change-4ed6ba3989c1e07968a5407fcfca903f"><strong>[sql] [feature] </strong></span>&#x4E3A;<a class="reference internal" href="core_custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal"><span class="pre">TypeDecorator</span></code></a>&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;<a class="reference internal" href="core_custom_types.html#sqlalchemy.types.TypeDecorator.coerce_to_is_types" title="sqlalchemy.types.TypeDecorator.coerce_to_is_types"><code class="xref py py-attr docutils literal"><span class="pre">TypeDecorator.coerce_to_is_types</span></code></a>&#x7684;&#x65B0;&#x5C5E;&#x6027;&#xFF0C;&#x4EE5;&#x4FBF;&#x66F4;&#x5BB9;&#x6613;&#x63A7;&#x5236;&#x5982;&#x4F55;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">==</span></code>&#x6216;<code class="docutils literal"><span class="pre">!=</span></code> to <code class="docutils literal"><span class="pre">None</span></code>&#x548C;&#x5E03;&#x5C14;&#x7C7B;&#x578B;&#x7528;&#x4E8E;&#x751F;&#x6210;<code class="docutils literal"><span class="pre">IS</span></code>&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4ed6ba3989c1e07968a5407fcfca903f">&#xB6; T16&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-486">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2734">&#xFF03;2734</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2744">&#xFF03;2744</a></span></p></li><li><p id="change-0.8.2-13"><span class="yiyi-st" id="yiyi-487"><span class="target" id="change-9a8da1a66f295972299d1917dabc5c6d"><strong>[sql] [bug] </strong></span>&#x5BF9;&#x4E8E;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal"><span class="pre">Select</span></code></a>&#x7ED3;&#x6784;&#x7684;&#x76F8;&#x5173;&#x884C;&#x4E3A;&#x7684;&#x591A;&#x4E2A;&#x4FEE;&#x590D;&#xFF0C;&#x5728;0.8.0&#x4E2D;&#x9996;&#x6B21;&#x5F15;&#x5165;&#xFF1A;</span></p><ul><li><span class="yiyi-st" id="yiyi-488">&#x4E3A;&#x4E86;&#x6EE1;&#x8DB3;&#x8FD9;&#x6837;&#x7684;&#x7528;&#x4F8B;&#xFF0C;&#x5176;&#x4E2D;FROM&#x6761;&#x76EE;&#x5E94;&#x8BE5;&#x5411;&#x5916;&#x5173;&#x8054;&#x5230;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x53E6;&#x4E00;&#x4E2A;&#x7684;SELECT&#xFF0C;&#x7136;&#x540E;&#x5305;&#x542B;&#x8FD9;&#x4E2A;SELECT&#xFF0C;&#x5F53;&#x901A;&#x8FC7;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Select.correlate" title="sqlalchemy.sql.expression.Select.correlate"><code class="xref py py-meth docutils literal"><span class="pre">Select.correlate()</span></code></a>&#x5EFA;&#x7ACB;&#x663E;&#x5F0F;&#x76F8;&#x5173;&#x6027;&#x65F6;&#xFF0C;&#x524D;&#x63D0;&#x662F;&#x76EE;&#x6807;&#x9009;&#x62E9;&#x4F4D;&#x4E8E;WHERE / ORDER BY / columns&#x5B50;&#x53E5;&#x6240;&#x5305;&#x542B;&#x7684;&#x94FE;&#x4E2D;&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x5D4C;&#x5957;&#x7684;FROM&#x5B50;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-489">This makes <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Select.correlate" title="sqlalchemy.sql.expression.Select.correlate"><code class="xref py py-meth docutils literal"><span class="pre">Select.correlate()</span></code></a> act more compatibly to that of 0.7 again while still maintaining the new &#x201C;smart&#x201D; correlation.</span></li><li><span class="yiyi-st" id="yiyi-490">&#x5F53;&#x4E0D;&#x4F7F;&#x7528;&#x663E;&#x5F0F;&#x5173;&#x8054;&#x65F6;&#xFF0C;&#x901A;&#x5E38;&#x7684;&#x201C;&#x9690;&#x5F0F;&#x201D;&#x5173;&#x8054;&#x5C06;&#x5176;&#x884C;&#x4E3A;&#x9650;&#x5236;&#x4E3A;&#x7ACB;&#x5373;&#x5C01;&#x95ED;&#x7684;SELECT&#xFF0C;&#x4EE5;&#x6700;&#x5927;&#x5316;&#x4E0E;0.7&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x5E76;&#x4E14;&#x8FD8;&#x9632;&#x6B62;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x5D4C;&#x5957;FROM&#x4E4B;&#x95F4;&#x7684;&#x76F8;&#x5173;&#x6027;&#xFF0C;&#x4FDD;&#x6301;&#x4E0E;0.8.0 / 0.8&#x7684;&#x517C;&#x5BB9;&#x6027;&#x3002; 1&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-491"><a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Select.correlate_except" title="sqlalchemy.sql.expression.Select.correlate_except"><code class="xref py py-meth docutils literal"><span class="pre">Select.correlate_except()</span></code></a>&#x65B9;&#x6CD5;&#x5728;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x4E0D;&#x4F1A;&#x963B;&#x6B62;&#x7ED9;&#x5B9A;&#x7684;FROM&#x5B50;&#x53E5;&#x76F8;&#x5173;&#xFF0C;&#x5E76;&#x4E14;&#x4E5F;&#x4F1A;&#x5BFC;&#x81F4;FROM&#x5B50;&#x53E5;&#x5B8C;&#x5168;&#x88AB;&#x9519;&#x8BEF;&#x5730;&#x7701;&#x7565;&#xFF08;&#x66F4;&#x50CF;0.7&#x4F1A;&#x505A;&#x7684;&#xFF09;&#xFF0C;&#x8FD9;&#x5DF2;&#x7ECF;&#x56FA;&#x5B9A;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-492">&#x8C03;&#x7528;<cite>select.correlate_except&#xFF08;None&#xFF09;</cite>&#x5C06;&#x6309;&#x7167;&#x9884;&#x671F;&#x5C06;&#x6240;&#x6709;FROM&#x5B50;&#x53E5;&#x8F93;&#x5165;&#x5230;&#x76F8;&#x5173;&#x4E2D;&#x3002;</span></li></ul><span class="yiyi-st" id="yiyi-494"> <a class="changeset-link headerlink reference internal" href="#change-9a8da1a66f295972299d1917dabc5c6d">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-493">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2668">&#xFF03;2668</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2746">&#xFF03;2746</a></span></p></li><li><p id="change-0.8.2-14"><span class="yiyi-st" id="yiyi-495"><span class="target" id="change-eb9b4feabd1d4a81b9f5f3d35270051b"><strong>[sql] [bug] </strong></span>Fixed bug whereby joining a select() of a table &#x201C;A&#x201D; with multiple foreign key paths to a table &#x201C;B&#x201D;, to that table &#x201C;B&#x201D;, would fail to produce the &#x201C;ambiguous join condition&#x201D; error that would be reported if you join table &#x201C;A&#x201D; directly to &#x201C;B&#x201D;; it would instead produce a join condition with multiple criteria.<a class="changeset-link headerlink reference internal" href="#change-eb9b4feabd1d4a81b9f5f3d35270051b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-496">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2738">&#xFF03;2738</a></span></p></li><li><p id="change-0.8.2-15"><span class="yiyi-st" id="yiyi-497"><span class="target" id="change-d7e911a245c7336acac6b0361173f15a"><strong>[sql] [bug] [reflection] </strong></span>Fixed bug whereby using <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.MetaData.reflect" title="sqlalchemy.schema.MetaData.reflect"><code class="xref py py-meth docutils literal"><span class="pre">MetaData.reflect()</span></code></a> across a remote schema as well as a local schema could produce wrong results in the case where both schemas had a table of the same name.<a class="changeset-link headerlink reference internal" href="#change-d7e911a245c7336acac6b0361173f15a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-498">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2728">&#xFF03;2728</a></span></p></li><li><p id="change-0.8.2-16"><span class="yiyi-st" id="yiyi-499"><span class="target" id="change-3910b8156b7ae7cf1764d821698814b1"><strong>[sql] [bug] </strong></span>&#x5220;&#x9664;&#x4E86;&#x6765;&#x81EA;&#x57FA;&#x7C7B;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal"><span class="pre">ColumnOperators</span></code></a>&#x7C7B;&#x7684;&#x201C;&#x672A;&#x5B9E;&#x73B0;&#x201D;<code class="docutils literal"><span class="pre">__iter__()</span></code>&#x8C03;&#x7528;&#xFF0C;&#x800C;&#x8FD9;&#x662F;&#x5728;0.8&#x4E2D;&#x5F15;&#x5165;&#x7684;&#x3002; 0&#xFF0C;&#x4EE5;&#x9632;&#x6B62;&#x5728;&#x81EA;&#x5B9A;&#x4E49;&#x8FD0;&#x7B97;&#x7B26;&#x4E0A;&#x5B9E;&#x73B0;<code class="docutils literal"><span class="pre">__getitem__()</span></code>&#x65B9;&#x6CD5;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x8BE5;&#x5BF9;&#x8C61;&#x4E0A;&#x9519;&#x8BEF;&#x5730;&#x8C03;&#x7528;<code class="docutils literal"><span class="pre">list()</span></code>&#x65F6;&#x51FA;&#x73B0;&#x65E0;&#x9650;&#x7684;&#x5185;&#x5B58;&#x589E;&#x957F;&#x5FAA;&#x73AF;&#xFF0C;&#x5BFC;&#x81F4;&#x5217;&#x5143;&#x7D20;&#x62A5;&#x544A;&#x5B83;&#x4EEC;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x53EF;&#x8FED;&#x4EE3;&#x7C7B;&#x578B;&#xFF0C;&#x5F53;&#x60A8;&#x5C1D;&#x8BD5;&#x8FED;&#x4EE3;&#x65F6;&#x4F1A;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-500">&#x6CA1;&#x6709;&#x771F;&#x6B63;&#x7684;&#x65B9;&#x5F0F;&#x8BA9;&#x53CC;&#x65B9;&#x90FD;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x575A;&#x6301;&#x4F7F;&#x7528;Python&#x7684;&#x6700;&#x4F73;&#x5B9E;&#x8DF5;&#x3002;</span><span class="yiyi-st" id="yiyi-501">&#x4ED4;&#x7EC6;&#x5728;&#x81EA;&#x5B9A;&#x4E49;&#x8FD0;&#x7B97;&#x7B26;&#x4E0A;&#x5B9E;&#x73B0;<code class="docutils literal"><span class="pre">__getitem__()</span></code>&#xFF01;<a class="changeset-link headerlink reference internal" href="#change-3910b8156b7ae7cf1764d821698814b1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-502">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2726">&#xFF03;2726</a></span></p></li><li><p id="change-0.8.2-17"><span class="yiyi-st" id="yiyi-503"><span class="target" id="change-540edefe60898115a13643ede2e44b1a"><strong>[sql] [bug] [mssql] </strong></span>&#x6765;&#x81EA;&#x6B64;&#x7968;&#x8BC1;&#x7684;&#x56DE;&#x5F52;&#x5BFC;&#x81F4;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x5173;&#x952E;&#x5B57;&#x201C;true&#x201D;&#x5448;&#x73B0;&#xFF0C;&#x5E76;&#x6DFB;&#x52A0;&#x4E86;&#x903B;&#x8F91;&#x4EE5;&#x5C06;&#x6B64;&#x8F6C;&#x6362;&#x4E3A;SQL&#x670D;&#x52A1;&#x5668;&#x7684;1/0. <a class="changeset-link headerlink reference internal" href="#change-540edefe60898115a13643ede2e44b1a">&#xB6; t2 &gt;</a></span></p><p><span class="yiyi-st" id="yiyi-504">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2682">&#xFF03;2682</a></span></p></li></ul></div><div class="section" id="change-0.8.2-postgresql"><h3><span class="yiyi-st" id="yiyi-505">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.8.2-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.2-18"><span class="yiyi-st" id="yiyi-506"><span class="target" id="change-520bac22f84f0ff81834e864a18c0232"><strong>[postgresql] [feature] </strong></span>&#x5DF2;&#x6DFB;&#x52A0;&#x5BF9;Postgresql 9.2&#x8303;&#x56F4;&#x7C7B;&#x578B;&#x7684;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-507">&#x76EE;&#x524D;&#xFF0C;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#xFF0C;&#x56E0;&#x6B64;&#x76EE;&#x524D;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x6216;psycopg2 2.5&#x8303;&#x56F4;&#x6269;&#x5C55;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-508">&#x8865;&#x4E01;&#x793C;&#x8C8C;Chris Withers&#x3002;<a class="changeset-link headerlink reference internal" href="#change-520bac22f84f0ff81834e864a18c0232">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.2-19"><span class="yiyi-st" id="yiyi-509"><span class="target" id="change-034ec567135f8813432798919e6a23ca"><strong>[postgresql] [feature] </strong></span>&#x5728;&#x4F7F;&#x7528;psycopg2 DBAPI&#x65F6;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x201C;AUTOCOMMIT&#x201D;&#x9694;&#x79BB;&#x7684;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-510">&#x8BE5;&#x5173;&#x952E;&#x5B57;&#x53EF;&#x901A;&#x8FC7;<code class="docutils literal"><span class="pre">isolation_level</span></code>&#x6267;&#x884C;&#x9009;&#x9879;&#x4F7F;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-511">Pope&#x793C;&#x8C8C;Roman Podolyaka&#x3002;<a class="changeset-link headerlink reference internal" href="#change-034ec567135f8813432798919e6a23ca">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-512">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2072">&#xFF03;2072</a></span></p></li><li><p id="change-0.8.2-20"><span class="yiyi-st" id="yiyi-513"><span class="target" id="change-7399d179ac6fd37c6153e7ba13dda7a9"><strong>[postgresql] [bug] </strong></span>The behavior of <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.extract" title="sqlalchemy.sql.expression.extract"><code class="xref py py-func docutils literal"><span class="pre">extract()</span></code></a> has been simplified on the Postgresql dialect to no longer inject a hardcoded <code class="docutils literal"><span class="pre">::timestamp</span></code> or similar cast into the given expression, as this interfered with types such as timezone-aware datetimes, but also does not appear to be at all necessary with modern versions of psycopg2.<a class="changeset-link headerlink reference internal" href="#change-7399d179ac6fd37c6153e7ba13dda7a9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-514">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2740">&#xFF03;2740</a></span></p></li><li><p id="change-0.8.2-21"><span class="yiyi-st" id="yiyi-515"><span class="target" id="change-ebde2a412e8b54710edc830176e62656"><strong>[postgresql] [bug] </strong></span>Fixed bug in HSTORE type where keys/values that contained backslashed quotes would not be escaped correctly when using the &#x201C;non native&#x201D; (i.e. non-psycopg2) means of translating HSTORE data. </span><span class="yiyi-st" id="yiyi-516">&#x8865;&#x4E01;&#x7531;Ryan Kelly&#x63D0;&#x4F9B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ebde2a412e8b54710edc830176e62656">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-517">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2766">&#xFF03;2766</a></span></p></li><li><p id="change-0.8.2-22"><span class="yiyi-st" id="yiyi-518"><span class="target" id="change-6d5da1fd63ce10ba7318dca30d36544c"><strong>[postgresql] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x591A;&#x5217;Postgresql&#x7D22;&#x5F15;&#x4E2D;&#x7684;&#x5217;&#x987A;&#x5E8F;&#x5C06;&#x4EE5;&#x9519;&#x8BEF;&#x987A;&#x5E8F;&#x53CD;&#x6620;&#x7684;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-519">Courtesy Roman Podolyaka&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6d5da1fd63ce10ba7318dca30d36544c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-520">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2767">&#xFF03;2767</a></span></p></li><li><p id="change-0.8.2-23"><span class="yiyi-st" id="yiyi-521"><span class="target" id="change-6badd661ef2ad66c13d5727dd91baf62"><strong>[postgresql] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;HSTORE&#x7C7B;&#x578B;&#x4EE5;&#x6B63;&#x786E;&#x7F16;&#x7801;/&#x89E3;&#x7801;unicode&#x3002;</span><span class="yiyi-st" id="yiyi-522">&#x8FD9;&#x4E00;&#x76F4;&#x662F;&#x5F00;&#x542F;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;hstore&#x662F;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x7C7B;&#x578B;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x4F7F;&#x7528;Python 3&#x65F6;&#x4E0E;psycopg2&#x7684;&#x884C;&#x4E3A;&#x76F8;&#x5339;&#x914D;&#x3002;</span><span class="yiyi-st" id="yiyi-523">&#x793C;&#x8C8C;&#x5FB7;&#x7C73;&#x7279;&#x91CC;Mugtasimov&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6badd661ef2ad66c13d5727dd91baf62">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-524">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2735">&#xFF03;2735</a>&#xFF0C;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/2">&#x8BF7;&#x6C42;github&#xFF1A;2</a></span></p></li></ul></div><div class="section" id="change-0.8.2-mysql"><h3><span class="yiyi-st" id="yiyi-525">MySQL&#x7684;<a class="headerlink" href="#change-0.8.2-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.2-24"><span class="yiyi-st" id="yiyi-526"><span class="target" id="change-449491292fcd4f1aff83eaa0524f783f"><strong>[mysql] [feature] </strong></span>The <code class="docutils literal"><span class="pre">mysql_length</span></code> parameter used with <a class="reference internal" href="core_constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal"><span class="pre">Index</span></code></a> can now be passed as a dictionary of column names/lengths, for use with composite indexes. </span><span class="yiyi-st" id="yiyi-527">&#x975E;&#x5E38;&#x611F;&#x8C22;Roman Podolyaka&#x63D0;&#x4F9B;&#x7684;&#x8865;&#x4E01;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-449491292fcd4f1aff83eaa0524f783f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-528">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2704">&#xFF03;2704</a></span></p></li><li><p id="change-0.8.2-25"><span class="yiyi-st" id="yiyi-529"><span class="target" id="change-a6e3228b98f64879f8cc5e7d941870a6"><strong>[mysql] [bug] </strong></span>Fixed bug when using multi-table UPDATE where a supplemental table is a SELECT with its own bound parameters, where the positioning of the bound parameters would be reversed versus the statement itself when using MySQL&#x2019;s special syntax.<a class="changeset-link headerlink reference internal" href="#change-a6e3228b98f64879f8cc5e7d941870a6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-530">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2768">&#xFF03;2768</a></span></p></li><li><p id="change-0.8.2-26"><span class="yiyi-st" id="yiyi-531"><span class="target" id="change-80436389fb1012b0dec8f741ede49f6e"><strong>[mysql] [bug] </strong></span>&#x4E3A;<code class="docutils literal"><span class="pre">mysql+gaerdbms</span></code>&#x65B9;&#x8A00;&#x6DFB;&#x52A0;&#x4E86;&#x53E6;&#x4E00;&#x4E2A;&#x6761;&#x4EF6;&#xFF0C;&#x7528;&#x4E8E;&#x68C0;&#x6D4B;&#x6240;&#x8C13;&#x7684;&#x201C;&#x5F00;&#x53D1;&#x201D;&#x6A21;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">rdbms_mysqldb</span></code></span><span class="yiyi-st" id="yiyi-532">&#x8865;&#x4E01;&#x793C;&#x8C8C;Brett Slatkin&#x3002;<a class="changeset-link headerlink reference internal" href="#change-80436389fb1012b0dec8f741ede49f6e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-533">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2715">&#xFF03;2715</a></span></p></li><li><p id="change-0.8.2-27"><span class="yiyi-st" id="yiyi-534"><span class="target" id="change-abda9a524f74a360af54e6a281537062"><strong>[mysql] [bug] </strong></span>The <code class="docutils literal"><span class="pre">deferrable</span></code> keyword argument on <a class="reference internal" href="core_constraints.html#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></code></a> and <a class="reference internal" href="core_constraints.html#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal"><span class="pre">ForeignKeyConstraint</span></code></a> will not render the <code class="docutils literal"><span class="pre">DEFERRABLE</span></code> keyword on the MySQL dialect. </span><span class="yiyi-st" id="yiyi-535">&#x5F88;&#x957F;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#xFF0C;&#x6211;&#x4EEC;&#x653E;&#x5F03;&#x4E86;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0D;&#x53EF;&#x5EF6;&#x8FDF;&#x7684;&#x5916;&#x952E;&#x4E0E;&#x5EF6;&#x8FDF;&#x7684;&#x5916;&#x952E;&#x7684;&#x884C;&#x4E3A;&#x4E0D;&#x540C;&#xFF0C;&#x4F46;&#x6709;&#x4E9B;&#x73AF;&#x5883;&#x53EA;&#x662F;&#x7981;&#x7528;MySQL&#x4E0A;&#x7684;FK&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5728;&#x8FD9;&#x91CC;&#x4E0D;&#x4F1A;&#x5F15;&#x8D77;&#x6CE8;&#x610F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-abda9a524f74a360af54e6a281537062"> t0 &gt;</a></span></p><p><span class="yiyi-st" id="yiyi-536">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2721">&#xFF03;2721</a></span></p></li><li><p id="change-0.8.2-28"><span class="yiyi-st" id="yiyi-537"><span class="target" id="change-21da2a634f095070d6fc59a7e9ed8ff6"><strong>[mysql] [bug] </strong></span>&#x66F4;&#x65B0;mysqlconnector&#x65B9;&#x8A00;&#xFF0C;&#x6839;&#x636E;&#x5F02;&#x5E38;&#x4E2D;&#x53D1;&#x9001;&#x7684;&#x660E;&#x663E;&#x5B57;&#x7B26;&#x4E32;&#x6D88;&#x606F;&#x68C0;&#x67E5;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#xFF1B;&#x9488;&#x5BF9;mysqlconnector 1.0.9&#x8FDB;&#x884C;&#x4E86;&#x6D4B;&#x8BD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-21da2a634f095070d6fc59a7e9ed8ff6">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.2-sqlite"><h3><span class="yiyi-st" id="yiyi-538">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.8.2-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.2-29"><span class="yiyi-st" id="yiyi-539"><span class="target" id="change-df893c816a04361e8ac3efbae7be0245"><strong>[sqlite] [bug] </strong></span>&#x5C06;<a class="reference internal" href="core_type_basics.html#sqlalchemy.types.BIGINT" title="sqlalchemy.types.BIGINT"><code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.types.BIGINT</span></code></a>&#x6DFB;&#x52A0;&#x5230;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;SQLite&#x65B9;&#x8A00;&#x53CD;&#x6620;&#x7684;&#x7C7B;&#x578B;&#x540D;&#x79F0;&#x5217;&#x8868;&#xFF1B;&#x793C;&#x8C8C;&#x7F57;&#x7D20;&#x65AF;&#x56FE;&#x5C14;&#x7279;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-df893c816a04361e8ac3efbae7be0245">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-540">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2764">&#xFF03;2764</a></span></p></li></ul></div><div class="section" id="change-0.8.2-mssql"><h3><span class="yiyi-st" id="yiyi-541">MSSQL <a class="headerlink" href="#change-0.8.2-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.2-30"><span class="yiyi-st" id="yiyi-542">&#x5F53;&#x5728;SQL Server 2000&#x4E0A;&#x67E5;&#x8BE2;&#x4FE1;&#x606F;&#x6A21;&#x5F0F;&#x65F6;&#xFF0C;&#x5220;&#x9664;&#x4E86;&#x5728;0.8.1&#x4E2D;&#x6DFB;&#x52A0;&#x7684;CAST&#x8C03;&#x7528;&#xFF0C;&#x4EE5;&#x5E2E;&#x52A9;&#x89E3;&#x51B3;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x95EE;&#x9898;&#xFF0C;&#x8FD9;&#x5728;2000&#x5E74;&#x663E;&#x7136;&#x4E0D;&#x517C;&#x5BB9;&#x3002;<span class="target" id="change-099b8a881a2fa57ff216a0199b78b136"><strong>[mssql] [bug] </strong></span></span><span class="yiyi-st" id="yiyi-543">CAST&#x4FDD;&#x6301;&#x9002;&#x7528;&#x4E8E;SQL Server 2005&#x53CA;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-099b8a881a2fa57ff216a0199b78b136">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-544">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2747">&#xFF03;2747</a></span></p></li></ul></div><div class="section" id="change-0.8.2-firebird"><h3><span class="yiyi-st" id="yiyi-545">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.8.2-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.2-31"><span class="yiyi-st" id="yiyi-546"><span class="target" id="change-69c1d3c5f9d948061e45bd3047fada44"><strong>[firebird] [feature] </strong></span>&#x4E3A;kinterbasdb&#x548C;fdb&#x65B9;&#x8A00;&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x6807;&#x5FD7;<code class="docutils literal"><span class="pre">retaining=True</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-547">&#x8FD9;&#x5C06;&#x63A7;&#x5236;&#x53D1;&#x9001;&#x5230;DBAPI&#x8FDE;&#x63A5;&#x7684;<code class="docutils literal"><span class="pre">commit()</span></code>&#x548C;<code class="docutils literal"><span class="pre">rollback()</span></code>&#x65B9;&#x6CD5;&#x7684;<code class="docutils literal"><span class="pre">retaining</span></code>&#x6807;&#x5FD7;&#x7684;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-548">&#x7531;&#x4E8E;&#x5386;&#x53F2;&#x539F;&#x56E0;&#xFF0C;&#x8BE5;&#x6807;&#x5FD7;&#x5728;0.8.2&#x4E2D;&#x9ED8;&#x8BA4;&#x4E3A;<code class="docutils literal"><span class="pre">True</span></code>&#xFF0C;&#x4F46;&#x5728;0.9.0b1&#x4E2D;&#xFF0C;&#x8BE5;&#x6807;&#x5FD7;&#x9ED8;&#x8BA4;&#x4E3A;<code class="docutils literal"><span class="pre">False</span></code>&#x3002;<a class="changeset-link headerlink reference internal" href="#change-69c1d3c5f9d948061e45bd3047fada44">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-549">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2763">&#xFF03;2763</a></span></p></li><li><p id="change-0.8.2-32"><span class="yiyi-st" id="yiyi-550"><span class="target" id="change-8ec28bdf32933102eee189870c53897d"><strong>[firebird] [bug] </strong></span>Type lookup when reflecting the Firebird types LONG and INT64 has been fixed so that LONG is treated as INTEGER, INT64 treated as BIGINT, unless the type has a &#x201C;precision&#x201D; in which case it&#x2019;s treated as NUMERIC. </span><span class="yiyi-st" id="yiyi-551">Patch courtesy Russell Stuart&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8ec28bdf32933102eee189870c53897d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-552">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2757">&#xFF03;2757</a></span></p></li></ul></div><div class="section" id="change-0.8.2-misc"><h3><span class="yiyi-st" id="yiyi-553">&#x6742;&#x9879;<a class="headerlink" href="#change-0.8.2-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.2-33"><span class="yiyi-st" id="yiyi-554"><span class="target" id="change-0a42d6a1f8163b19a30432f19fb736df"><strong>[bug] [ext] </strong></span>Fixed bug whereby if a composite type were set up with a function instead of a class, the mutable extension would trip up when it tried to check that column for being a <a class="reference internal" href="orm_extensions_mutable.html#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal"><span class="pre">MutableComposite</span></code></a> (which it isn&#x2019;t). </span><span class="yiyi-st" id="yiyi-555">&#x793C;&#x8C8C;asldevi&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0a42d6a1f8163b19a30432f19fb736df">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.2-34"><span class="yiyi-st" id="yiyi-556"><span class="target" id="change-ddb41e891832626d10e5a7619ddf6ab6"><strong>[bug] [examples] </strong></span>Fixed an issue with the &#x201C;versioning&#x201D; recipe whereby a many-to-one reference could produce a meaningless version for the target, even though it was not changed, when backrefs were present. </span><span class="yiyi-st" id="yiyi-557">&#x8865;&#x4E01;&#x7531;Matt Chisholm&#x63D0;&#x4F9B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ddb41e891832626d10e5a7619ddf6ab6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.2-35"><span class="yiyi-st" id="yiyi-558"><span class="target" id="change-15c9f4b96d85015500733b401d2d49ee"><strong>[bug] [examples] </strong></span>Fixed a small bug in the dogpile example where the generation of SQL cache keys wasn&#x2019;t applying deduping labels to the statement the same way <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a> normally does.<a class="changeset-link headerlink reference internal" href="#change-15c9f4b96d85015500733b401d2d49ee">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.2-36"><span class="yiyi-st" id="yiyi-559"><span class="target" id="change-b870fcaa80c275cd3aeaa0ba3d5ecdd2"><strong>[requirements] </strong></span>&#x73B0;&#x5728;&#x9700;&#x8981;Python <a class="reference external" href="https://pypi.python.org/pypi/mock">mock</a>&#x5E93;&#x6765;&#x8FD0;&#x884C;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x5957;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-560">&#x4F5C;&#x4E3A;Python 3.3&#x7684;&#x6807;&#x51C6;&#x5E93;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x4EE5;&#x524D;&#x7684;Python&#x5B89;&#x88C5;&#x5C06;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x5B83;&#xFF0C;&#x4EE5;&#x4FBF;&#x8FD0;&#x884C;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x6216;&#x4F7F;&#x7528;&#x5916;&#x90E8;&#x65B9;&#x8A00;&#x7684;<code class="docutils literal"><span class="pre">sqlalchemy.testing</span></code>&#x5305;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b870fcaa80c275cd3aeaa0ba3d5ecdd2"> T2&gt;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.8.1"><h2><span class="yiyi-st" id="yiyi-562">0.8.1 <a class="headerlink" href="#change-0.8.1" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-649">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2013&#x5E74;4&#x6708;27&#x65E5;</span><div class="section" id="change-0.8.1-orm"><h3><span class="yiyi-st" id="yiyi-563">ORM <a class="headerlink" href="#change-0.8.1-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.1-0"><span class="yiyi-st" id="yiyi-564"><span class="target" id="change-538cfca74b737d41cffcf811beddd163"><strong>[orm] [feature] </strong></span>Added a convenience method to Query that turns a query into an EXISTS subquery of the form <code class="docutils literal"><span class="pre">EXISTS</span> <span class="pre">(SELECT</span> <span class="pre">1</span> <span class="pre">FROM</span> <span class="pre">...</span> <span class="pre">WHERE</span> <span class="pre">...)</span></code>.<a class="changeset-link headerlink reference internal" href="#change-538cfca74b737d41cffcf811beddd163">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-565">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2673">&#xFF03;2673</a></span></p></li><li><p id="change-0.8.1-1"><span class="yiyi-st" id="yiyi-566"><span class="target" id="change-a85f346f7c5a45a6ec0bda0e5e3c792e"><strong>[orm] [bug] </strong></span>Fixed bug when a query of the form: <code class="docutils literal"><span class="pre">query(SubClass).options(subqueryload(Baseclass.attrname))</span></code>, where <code class="docutils literal"><span class="pre">SubClass</span></code> is a joined inh of <code class="docutils literal"><span class="pre">BaseClass</span></code>, would fail to apply the <code class="docutils literal"><span class="pre">JOIN</span></code> inside the subquery on the attribute load, producing a cartesian product. </span><span class="yiyi-st" id="yiyi-567">&#x586B;&#x5145;&#x7684;&#x7ED3;&#x679C;&#x4ECD;&#x7136;&#x662F;&#x6B63;&#x786E;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x989D;&#x5916;&#x7684;&#x884C;&#x53EA;&#x662F;&#x88AB;&#x5FFD;&#x7565;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x65F6;&#x6027;&#x80FD;&#x4E0B;&#x964D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a85f346f7c5a45a6ec0bda0e5e3c792e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-568">This change is also <strong>backported</strong> to: 0.7.11</span></p><p><span class="yiyi-st" id="yiyi-569">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2699">&#xFF03;2699</a></span></p></li><li><p id="change-0.8.1-2"><span class="yiyi-st" id="yiyi-570"><span class="target" id="change-33f72d18d004e2a614dd358f917e6949"><strong>[orm] [bug] </strong></span>Fixed bug in unit of work whereby a joined-inheritance subclass could insert the row for the &#x201C;sub&#x201D; table before the parent table, if the two tables had no ForeignKey constraints set up between them.<a class="changeset-link headerlink reference internal" href="#change-33f72d18d004e2a614dd358f917e6949">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-571">This change is also <strong>backported</strong> to: 0.7.11</span></p><p><span class="yiyi-st" id="yiyi-572">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2689">&#xFF03;2689</a></span></p></li><li><p id="change-0.8.1-3"><span class="yiyi-st" id="yiyi-573"><span class="target" id="change-6b5abc76b93639e02dbac6061c8b93ff"><strong>[orm] [bug] </strong></span>Fixes to the <code class="docutils literal"><span class="pre">sqlalchemy.ext.serializer</span></code> extension, including that the &#x201C;id&#x201D; passed from the pickler is turned into a string to prevent against bytes being parsed on Py3K, as well as that <code class="docutils literal"><span class="pre">relationship()</span></code> and <code class="docutils literal"><span class="pre">orm.join()</span></code> constructs are now properly serialized.<a class="changeset-link headerlink reference internal" href="#change-6b5abc76b93639e02dbac6061c8b93ff">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-574">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2698">&#xFF03;2698</a></span></p></li><li><p id="change-0.8.1-4"><span class="yiyi-st" id="yiyi-575"><span class="target" id="change-b8cd50e1714b608fa9a53cb51fb4c8ef"><strong>[orm] [bug] </strong></span>A significant improvement to the inner workings of query.join(), such that the decisionmaking involved on how to join has been dramatically simplified. </span><span class="yiyi-st" id="yiyi-576">&#x73B0;&#x5728;&#xFF0C;&#x65B0;&#x7684;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x901A;&#x8FC7;&#x4E86;&#x591A;&#x4E2A;&#x8FDE;&#x63A5;&#xFF0C;&#x8FD9;&#x4E9B;&#x8FDE;&#x63A5;&#x4ECE;&#x5DF2;&#x7ECF;&#x590D;&#x6742;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x6D89;&#x53CA;&#x7EE7;&#x627F;&#x7B49;&#x7684;&#x8FDE;&#x63A5;&#x4E2D;&#x5EF6;&#x4F38;&#x51FA;&#x6765;&#x3002;</span><span class="yiyi-st" id="yiyi-577">&#x4ECE;&#x6DF1;&#x5EA6;&#x5D4C;&#x5957;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x7ED3;&#x6784;&#x4E2D;&#x52A0;&#x5165;&#x4ECD;&#x7136;&#x5F88;&#x590D;&#x6742;&#xFF0C;&#x5E76;&#x975E;&#x6CA1;&#x6709;&#x8B66;&#x544A;&#xFF0C;&#x4F46;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x6539;&#x8FDB;&#xFF0C;&#x8FB9;&#x7F18;&#x6848;&#x4F8B;&#x6709;&#x671B;&#x88AB;&#x63A8;&#x5230;&#x66F4;&#x8FDC;&#x7684;&#x8FB9;&#x7F18;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b8cd50e1714b608fa9a53cb51fb4c8ef">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-578">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2714">&#xFF03;2714</a></span></p></li><li><p id="change-0.8.1-5"><span class="yiyi-st" id="yiyi-579"><span class="target" id="change-c9e76122e927bce00034de429959dcbc"><strong>[orm] [bug] </strong></span>Added a conditional to the unpickling process for ORM mapped objects, such that if the reference to the object were lost when the object was pickled, we don&#x2019;t erroneously try to set up _sa_instance_state - fixes a NoneType error.<a class="changeset-link headerlink reference internal" href="#change-c9e76122e927bce00034de429959dcbc">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.1-6"><span class="yiyi-st" id="yiyi-580"><span class="target" id="change-693cd23b4e1f3a578dceac48c89c5508"><strong>[orm] [bug] </strong></span>Fixed bug where many-to-many relationship with uselist=False would fail to delete the association row and raise an error if the scalar attribute were set to None. </span><span class="yiyi-st" id="yiyi-581">&#x8FD9;&#x662F;&#x7531;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2229">&#xFF03;2229</a>&#x3002;<a class="changeset-link headerlink reference internal" href="#change-693cd23b4e1f3a578dceac48c89c5508">&#xB6;</a>&#x66F4;&#x6539;&#x5F15;&#x5165;&#x7684;&#x56DE;&#x5F52;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-582">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2710">&#xFF03;2710</a></span></p></li><li><p id="change-0.8.1-7"><span class="yiyi-st" id="yiyi-583"><span class="target" id="change-7addcdb8589d1b8db248e399c8eff53b"><strong>[orm] [bug] </strong></span>&#x6539;&#x8FDB;&#x4E86;&#x5728;Session&#x5185;&#x521B;&#x5EFA;&#x5F3A;&#x5F15;&#x7528;&#x7684;&#x5B9E;&#x4F8B;&#x7BA1;&#x7406;&#x884C;&#x4E3A;&#xFF1B;&#x5982;&#x679C;&#x5BF9;&#x8C61;&#x5904;&#x4E8E;&#x8FC7;&#x6E21;&#x72B6;&#x6001;&#x6216;&#x8FDB;&#x5165;&#x5206;&#x79BB;&#x72B6;&#x6001;&#xFF0C;&#x5BF9;&#x8C61;&#x5C06;&#x4E0D;&#x518D;&#x521B;&#x5EFA;&#x5185;&#x90E8;&#x5F15;&#x7528;&#x5FAA;&#x73AF; - &#x4EC5;&#x5F53;&#x5BF9;&#x8C61;&#x8FDE;&#x63A5;&#x5230;&#x4F1A;&#x8BDD;&#x65F6;&#x624D;&#x4F1A;&#x521B;&#x5EFA;&#x5F3A;&#x5F15;&#x7528;&#xFF0C;&#x5E76;&#x5728;&#x5206;&#x79BB;&#x5BF9;&#x8C61;&#x65F6;&#x5C06;&#x5176;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-584">&#x8FD9;&#x4F7F;&#x5F97;&#x5BF9;&#x8C61;&#x62E5;&#x6709;&#x4E00;&#x4E2A;<cite>__ del __()</cite>&#x65B9;&#x6CD5;&#x66F4;&#x4E3A;&#x5B89;&#x5168;&#xFF0C;&#x5C3D;&#x7BA1;&#x4E0D;&#x63A8;&#x8350;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0E;backrefs&#x7684;&#x5173;&#x7CFB;&#x4E5F;&#x4F1A;&#x4EA7;&#x751F;&#x5FAA;&#x73AF;&#x3002;</span><span class="yiyi-st" id="yiyi-585">&#x5F53;&#x5E26;&#x6709;<cite>__ del __()</cite>&#x65B9;&#x6CD5;&#x7684;&#x7C7B;&#x88AB;&#x6620;&#x5C04;&#x65F6;&#xFF0C;&#x8B66;&#x544A;&#x5DF2;&#x88AB;&#x6DFB;&#x52A0;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7addcdb8589d1b8db248e399c8eff53b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-586">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2708">&#xFF03;2708</a></span></p></li><li><p id="change-0.8.1-8"><span class="yiyi-st" id="yiyi-587"><span class="target" id="change-f241aa4abf00fdb62f17b6161f0f1dc6"><strong>[orm] [bug] </strong></span>Fixed bug whereby ORM would run the wrong kind of query when refreshing an inheritance-mapped class where the superclass was mapped to a non-Table object, like a custom join() or a select(), running a query that assumed a hierarchy that&#x2019;s mapped to individual Table-per-class.<a class="changeset-link headerlink reference internal" href="#change-f241aa4abf00fdb62f17b6161f0f1dc6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-588">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2697">&#xFF03;2697</a></span></p></li><li><p id="change-0.8.1-9"><span class="yiyi-st" id="yiyi-589"><span class="target" id="change-cd903a647a5922f6bbc9db890e9f4304"><strong>[orm] [bug] </strong></span>Fixed <cite>__repr__()</cite> on mapper property constructs to work before the object is initialized, so that Sphinx builds with recent Sphinx versions can read them.<a class="changeset-link headerlink reference internal" href="#change-cd903a647a5922f6bbc9db890e9f4304">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.1-orm-declarative"><h3><span class="yiyi-st" id="yiyi-590">orm declarative <a class="headerlink" href="#change-0.8.1-orm-declarative" title="Permalink to this headline">&#xB6;</a></span></h3><ul class="simple"><li><p id="change-0.8.1-10"><span class="yiyi-st" id="yiyi-591"><span class="target" id="change-2b9d746e218c78a250148a29ad1fef34"><strong>[bug] [orm] [declarative] </strong></span>Fixed indirect regression regarding <a class="reference internal" href="orm_extensions_declarative_api.html#sqlalchemy.ext.declarative.has_inherited_table" title="sqlalchemy.ext.declarative.has_inherited_table"><code class="xref py py-func docutils literal"><span class="pre">has_inherited_table()</span></code></a>, where since it considers the current class&#x2019; <code class="docutils literal"><span class="pre">__table__</span></code>, was sensitive to when it was called. </span><span class="yiyi-st" id="yiyi-592">&#x8FD9;&#x4E5F;&#x662F;0.7&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x4F46;&#x5728;0.7&#x4E2D;&#xFF0C;&#x4E8B;&#x60C5;&#x503E;&#x5411;&#x4E8E;&#x5728;<code class="docutils literal"><span class="pre">__mapper_args__()</span></code>&#x4E4B;&#x7C7B;&#x7684;&#x4E8B;&#x4EF6;&#x4E2D;&#x201C;&#x89E3;&#x51B3;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-593"><a class="reference internal" href="orm_extensions_declarative_api.html#sqlalchemy.ext.declarative.has_inherited_table" title="sqlalchemy.ext.declarative.has_inherited_table"><code class="xref py py-func docutils literal"><span class="pre">has_inherited_table()</span></code></a>&#x73B0;&#x5728;&#x53EA;&#x8003;&#x8651;&#x8D85;&#x7C7B;&#xFF0C;&#x6240;&#x4EE5;&#x65E0;&#x8BBA;&#x4F55;&#x65F6;&#x5B83;&#x88AB;&#x8C03;&#x7528;&#xFF08;&#x663E;&#x7136;&#x5047;&#x8BBE;&#x8D85;&#x7C7B;&#x7684;&#x72B6;&#x6001;&#xFF09;&#xFF0C;&#x90FD;&#x5E94;&#x8BE5;&#x8FD4;&#x56DE;&#x4E0E;&#x5F53;&#x524D;&#x7C7B;&#x76F8;&#x540C;&#x7684;&#x7B54;&#x6848;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2b9d746e218c78a250148a29ad1fef34">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-594">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2656">&#xFF03;2656</a></span></p></li></ul></div><div class="section" id="change-0.8.1-sql"><h3><span class="yiyi-st" id="yiyi-595">SQL <a class="headerlink" href="#change-0.8.1-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.1-11"><span class="yiyi-st" id="yiyi-596"><span class="target" id="change-3686aff789b10fca55c71c0fe69557df"><strong>[sql] [feature] </strong></span>&#x677E;&#x6563;&#x68C0;&#x67E5;&#x4F20;&#x9012;&#x7ED9;Table()&#x7684;&#x65B9;&#x8A00;&#x7279;&#x5B9A;&#x53C2;&#x6570;&#x540D;&#x79F0;&#xFF1B;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x652F;&#x6301;&#x5916;&#x90E8;&#x65B9;&#x8A00;&#xFF0C;&#x5E76;&#x4E14;&#x60F3;&#x8981;&#x652F;&#x6301;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x67D0;&#x79CD;&#x65B9;&#x8A00;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x5B83;&#x73B0;&#x5728;&#x53EA;&#x68C0;&#x67E5;&#x53C2;&#x6570;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5728;sqlalchemy.dialects&#x4E2D;&#x67E5;&#x627E;&#x8FD9;&#x79CD;&#x65B9;&#x8A00;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3686aff789b10fca55c71c0fe69557df">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.1-12"><span class="yiyi-st" id="yiyi-597"><span class="target" id="change-a4d2a849342bd0b32b1a6f4a4c088ad6"><strong>[sql] [bug] [mysql] </strong></span>&#x5B8C;&#x5168;&#x5B9E;&#x73B0;&#x4E86;IS&#x548C;IS NOT&#x8FD0;&#x7B97;&#x7B26;&#x7684;True / False&#x5E38;&#x91CF;&#x3002;</span><span class="yiyi-st" id="yiyi-598">An expression like <code class="docutils literal"><span class="pre">col.is_(True)</span></code> will now render <code class="docutils literal"><span class="pre">col</span> <span class="pre">IS</span> <span class="pre">true</span></code> on the target platform, rather than converting the True/ False constant to an integer bound parameter. </span><span class="yiyi-st" id="yiyi-599">&#x5F53;&#x7ED9;&#x5B9A;True / False&#x5E38;&#x91CF;&#x65F6;&#xFF0C;&#x8FD9;&#x5141;&#x8BB8;<code class="docutils literal"><span class="pre">is_()</span></code>&#x8FD0;&#x7B97;&#x7B26;&#x5728;MySQL&#x4E0A;&#x5DE5;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a4d2a849342bd0b32b1a6f4a4c088ad6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-600">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2682">&#xFF03;2682</a></span></p></li><li><p id="change-0.8.1-13"><span class="yiyi-st" id="yiyi-601"><span class="target" id="change-e317ad63213b3197754a3d94f7507a58"><strong>[sql] [bug] </strong></span>A major fix to the way in which a select() object produces labeled columns when apply_labels() is used; this mode produces a SELECT where each column is labeled as in <tablename>_<columnname>, to remove column name collisions for a multiple table select. </columnname></tablename></span><span class="yiyi-st" id="yiyi-602">&#x89E3;&#x51B3;&#x7684;&#x529E;&#x6CD5;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x6807;&#x7B7E;&#x5728;&#x4E0E;&#x8868;&#x540D;&#x79F0;&#x76F8;&#x7ED3;&#x5408;&#x65F6;&#x53D1;&#x751F;&#x78B0;&#x649E;&#xFF0C;&#x5373;&#x201C;foo.bar_id&#x201D;&#x548C;&#x201C;foo_bar.id&#x201D;&#xFF0C;&#x533F;&#x540D;&#x522B;&#x540D;&#x5C06;&#x5E94;&#x7528;&#x4E8E;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x6B3A;&#x9A97;&#x3002;</span><span class="yiyi-st" id="yiyi-603">&#x8FD9;&#x5141;&#x8BB8;ORM&#x72EC;&#x7ACB;&#x5904;&#x7406;&#x4E24;&#x4E2A;&#x5217;&#xFF1B;&#x4EE5;&#x524D;&#xFF0C;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;0.7&#x4F1A;&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x4E3A;&#x88AB;&#x201C;&#x4F2A;&#x88C5;&#x201D;&#x7684;&#x5217;&#x53D1;&#x51FA;&#x7B2C;&#x4E8C;&#x4E2A;SELECT&#xFF0C;&#x5E76;&#x4E14;&#x5728;0.8&#x4E2D;&#x4F1A;&#x53D1;&#x51FA;&#x4E0D;&#x660E;&#x786E;&#x7684;&#x5217;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-604">&#x5E94;&#x7528;&#x4E8E;.c&#x7684;&#x201C;&#x952E;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-605">select()&#x7684;&#x96C6;&#x5408;&#x4E5F;&#x5C06;&#x88AB;&#x5220;&#x9664;&#xFF0C;&#x4EE5;&#x4FBF;&#x201C;&#x6307;&#x5B9A;&#x8981;&#x66FF;&#x6362;&#x7684;&#x201D;&#x8B66;&#x544A;&#x4E0D;&#x4F1A;&#x518D;&#x53D1;&#x51FA;&#x4EFB;&#x4F55;&#x6307;&#x5B9A;use_labels&#x7684;select()&#xFF0C;&#x5C3D;&#x7BA1;&#x8FD9;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x5BC6;&#x94A5;&#x4F1A;&#x88AB;&#x8D4B;&#x4E88;&#x4E00;&#x4E2A;&#x533F;&#x540D;&#x6807;&#x7B7E;&#xFF0C;&#x53CB;&#x597D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e317ad63213b3197754a3d94f7507a58">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-606">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2702">&#xFF03;2702</a></span></p></li><li><p id="change-0.8.1-14"><span class="yiyi-st" id="yiyi-607"><span class="target" id="change-1f28811ac556b12ce7c452b4a3408f2a"><strong>[sql] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x5728;Connection&#x5BF9;&#x8C61;&#x5DF2;&#x7ECF;&#x5173;&#x95ED;&#x540E;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x65F6;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x68C0;&#x6D4B;&#x9519;&#x8BEF;&#x4F1A;&#x5F15;&#x53D1;&#x5C5E;&#x6027;&#x9519;&#x8BEF;&#x7684;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1f28811ac556b12ce7c452b4a3408f2a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-608">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2691">&#xFF03;2691</a></span></p></li><li><p id="change-0.8.1-15"><span class="yiyi-st" id="yiyi-609"><span class="target" id="change-18be80dfecdf0ef6fc3df9f795f45ad4"><strong>[sql] [bug] </strong></span>Reworked internal exception raises that emit a rollback() before re-raising, so that the stack trace is preserved from sys.exc_info() before entering the rollback. </span><span class="yiyi-st" id="yiyi-610">&#x8FD9;&#x6837;&#x5F53;&#x4F7F;&#x7528;&#x5728;&#x56DE;&#x6EDA;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x524D;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x5207;&#x6362;&#x4E0A;&#x4E0B;&#x6587;&#x7684;&#x534F;&#x7A0B;&#x6846;&#x67B6;&#x65F6;&#xFF0C;&#x56DE;&#x6EAF;&#x88AB;&#x4FDD;&#x7559;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-18be80dfecdf0ef6fc3df9f795f45ad4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-611">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2703">&#xFF03;2703</a></span></p></li><li><p id="change-0.8.1-16"><span class="yiyi-st" id="yiyi-612"><span class="target" id="change-36fe44c142145d30fafc44b26a0b2de3"><strong>[sql] [bug] [postgresql] </strong></span>The _Binary base type now converts values through the bytes() callable when run on Python 3; in particular psycopg2 2.5 with Python 3.3 seems to now be returning the &#x201C;memoryview&#x201D; type, so this is converted to bytes before return.<a class="changeset-link headerlink reference internal" href="#change-36fe44c142145d30fafc44b26a0b2de3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.1-17"><span class="yiyi-st" id="yiyi-613"><span class="target" id="change-8f9807690202ed982e5ae96fe1e87a63"><strong>[sql] [bug] </strong></span>&#x6539;&#x8FDB;&#x4E86;&#x8FDE;&#x63A5;&#x81EA;&#x52A8;&#x5931;&#x6548;&#x5904;&#x7406;&#x3002;</span><span class="yiyi-st" id="yiyi-614">&#x5982;&#x679C;&#x53D1;&#x751F;&#x975E;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x9519;&#x8BEF;&#xFF0C;&#x4F46;&#x4F1A;&#x5BFC;&#x81F4;&#x9519;&#x8BEF;&#x5904;&#x7406;&#x4E2D;&#x7684;&#x5EF6;&#x8FDF;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x9519;&#x8BEF;&#xFF08;&#x53D1;&#x751F;&#x5728;MySQL&#x4E0A;&#xFF09;&#xFF0C;&#x5219;&#x4F1A;&#x68C0;&#x6D4B;&#x5230;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-615">&#x5F53;&#x5904;&#x4E8E;&#x65E0;&#x6548;&#x72B6;&#x6001;&#x65F6;&#xFF0C;&#x8FDE;&#x63A5;&#x73B0;&#x5728;&#x4E5F;&#x53EF;&#x4EE5;&#x5173;&#x95ED;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5728;&#x4E0B;&#x6B21;&#x4F7F;&#x7528;&#x65F6;&#x5B83;&#x4F1A;&#x63D0;&#x5347;&#x201C;&#x5173;&#x95ED;&#x201D;&#xFF0C;&#x53E6;&#x5916;&#xFF0C;&#x5373;&#x4F7F;&#x9519;&#x8BEF;&#x5904;&#x7406;&#x4F8B;&#x7A0B;&#x4E2D;&#x7684;&#x81EA;&#x52A8;&#x56DE;&#x9000;&#x5931;&#x8D25;&#xFF0C;&#x5E76;&#x4E14;&#x65E0;&#x8BBA;&#x6761;&#x4EF6;&#x662F;&#x5426;&#x65AD;&#x5F00;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8f9807690202ed982e5ae96fe1e87a63">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-616">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2695">&#xFF03;2695</a></span></p></li><li><p id="change-0.8.1-18"><span class="yiyi-st" id="yiyi-617"><span class="target" id="change-b320bbb422d328f3f84b0ac64d30eb7d"><strong>[sql] [bug] </strong></span>Fixed bug whereby a DBAPI that can return &#x201C;0&#x201D; for cursor.lastrowid would not function correctly in conjunction with <a class="reference internal" href="core_connections.html#sqlalchemy.engine.ResultProxy.inserted_primary_key" title="sqlalchemy.engine.ResultProxy.inserted_primary_key"><code class="xref py py-attr docutils literal"><span class="pre">ResultProxy.inserted_primary_key</span></code></a>.<a class="changeset-link headerlink reference internal" href="#change-b320bbb422d328f3f84b0ac64d30eb7d">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.1-postgresql"><h3><span class="yiyi-st" id="yiyi-618">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.8.1-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.1-19"><span class="yiyi-st" id="yiyi-619"><span class="target" id="change-f67787db3b9ef9d1cb3ccc779ae2d229"><strong>[postgresql] [bug] </strong></span>&#x6253;&#x5F00;psycopg2 / libpq&#x7684;&#x201C;disconnect&#x201D;&#x68C0;&#x67E5;&#x4EE5;&#x68C0;&#x67E5;&#x5B8C;&#x6574;&#x5F02;&#x5E38;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5404;&#x79CD;&#x201C;&#x65AD;&#x5F00;&#x201D;&#x6D88;&#x606F;&#x3002;</span><span class="yiyi-st" id="yiyi-620">&#x5177;&#x4F53;&#x6765;&#x8BF4;&#xFF0C;&#x81F3;&#x5C11;&#x6709;&#x4E09;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x5F02;&#x5E38;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x201C;&#x610F;&#x5916;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x201D;&#x6D88;&#x606F;&#x3002;</span><span class="yiyi-st" id="yiyi-621">Courtesy Eli Collins&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f67787db3b9ef9d1cb3ccc779ae2d229">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-622">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2712">&#xFF03;2712</a></span></p></li><li><p id="change-0.8.1-20"><span class="yiyi-st" id="yiyi-623"><span class="target" id="change-365654f1763bc018c6fea3d1adfe7f6d"><strong>[postgresql] [bug] </strong></span> Postgresql ARRAY&#x7C7B;&#x578B;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#x652F;&#x6301;&#x8F93;&#x5165;&#x7C7B;&#x578B;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x751F;&#x6210;&#x5668;&#x7B49;&#x3002;</span><span class="yiyi-st" id="yiyi-624">&#x5373;&#x4F7F;&#x672A;&#x6307;&#x5B9A;&#x7EF4;&#x5EA6;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x65E0;&#x6761;&#x4EF6;&#x5730;&#x5C06;&#x7ED9;&#x5B9A;&#x7684;&#x8FED;&#x4EE3;&#x8F6C;&#x6362;&#x4E3A;&#x96C6;&#x5408;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-365654f1763bc018c6fea3d1adfe7f6d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-625">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2681">&#xFF03;2681</a></span></p></li><li><p id="change-0.8.1-21"><span class="yiyi-st" id="yiyi-626"><span class="target" id="change-78ea5cd647f43b14fbd184b6c51042bd"><strong>[postgresql] [bug] </strong></span>&#x6DFB;&#x52A0;&#x7F3A;&#x5C11;HSTORE&#x7C7B;&#x578B;&#x5230;postgresql&#x7C7B;&#x578B;&#x540D;&#x79F0;&#xFF0C;&#x4EE5;&#x4FBF;&#x53EF;&#x4EE5;&#x53CD;&#x6620;&#x7C7B;&#x578B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-78ea5cd647f43b14fbd184b6c51042bd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-627">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2680">&#xFF03;2680</a></span></p></li></ul></div><div class="section" id="change-0.8.1-mysql"><h3><span class="yiyi-st" id="yiyi-628">MySQL&#x7684;<a class="headerlink" href="#change-0.8.1-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.1-22"><span class="yiyi-st" id="yiyi-629"><span class="target" id="change-4793f92820e9c93f772dd33adee75002"><strong>[mysql] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x652F;&#x6301;&#x6700;&#x65B0;&#x7684;cymysql DBAPI&#xFF0C;&#x793C;&#x8C8C;Hajime Nakagami&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4793f92820e9c93f772dd33adee75002">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.1-23"><span class="yiyi-st" id="yiyi-630"><span class="target" id="change-32eca569275c8c9405df1ae6e52e28a7"><strong>[mysql] [bug] </strong></span>&#x6539;&#x8FDB;&#x4E86;Python 3&#x4E0A;pymysql&#x65B9;&#x8A00;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5305;&#x62EC;&#x4E00;&#x4E9B;&#x91CD;&#x8981;&#x7684;&#x89E3;&#x7801;/&#x5B57;&#x8282;&#x6B65;&#x9AA4;&#x3002;</span><span class="yiyi-st" id="yiyi-631">&#x7531;&#x4E8E;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x95EE;&#x9898;&#xFF0C;BLOB&#x7C7B;&#x578B;&#x4ECD;&#x7136;&#x5B58;&#x5728;&#x95EE;&#x9898;&#x3002;</span><span class="yiyi-st" id="yiyi-632">&#x793C;&#x8C8C;Ben Trofatter&#x3002;<a class="changeset-link headerlink reference internal" href="#change-32eca569275c8c9405df1ae6e52e28a7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-633">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2663">&#xFF03;2663</a></span></p></li><li><p id="change-0.8.1-24"><span class="yiyi-st" id="yiyi-634"><span class="target" id="change-ad0d195d23c8846439e6fa6093c16c37"><strong>[mysql] [bug] </strong></span>&#x66F4;&#x65B0;&#x4E86;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4EE5;&#x6B63;&#x786E;&#x63D0;&#x53D6;&#x8C37;&#x6B4C;&#x5E94;&#x7528;&#x5F15;&#x64CE;v1.7.5&#x53CA;&#x66F4;&#x65B0;&#x7248;&#x672C;&#x7684;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x3002;</span><span class="yiyi-st" id="yiyi-635">&#x793C;&#x8C8C;Dan Ring&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ad0d195d23c8846439e6fa6093c16c37">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.1-mssql"><h3><span class="yiyi-st" id="yiyi-636">MSSQL <a class="headerlink" href="#change-0.8.1-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.1-25"><span class="yiyi-st" id="yiyi-637"><span class="target" id="change-577130fc7c7f3c64856c9b296fb83a6d"><strong>[mssql] [bug] </strong></span>Part of a longer series of fixes needed for pyodbc+ mssql, a CAST to NVARCHAR(max) has been added to the bound parameter for the table name and schema name in all information schema queries to avoid the issue of comparing NVARCHAR to NTEXT, which seems to be rejected by the ODBC driver in some cases, such as FreeTDS (0.91 only?) </span><span class="yiyi-st" id="yiyi-638">&#x52A0;&#x4E0A;&#x4F20;&#x9012;&#x7684;unicode&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-639">&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4F3C;&#x4E4E;&#x662F;&#x7279;&#x5B9A;&#x4E8E;SQL Server&#x4FE1;&#x606F;&#x67B6;&#x6784;&#x8868;&#x7684;&#xFF0C;&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x9996;&#x5148;&#x4E0D;&#x5B58;&#x5728;&#x95EE;&#x9898;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x662F;&#x65E0;&#x5BB3;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-577130fc7c7f3c64856c9b296fb83a6d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-640">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2355">&#xFF03;2355</a></span></p></li><li><p id="change-0.8.1-26"><span class="yiyi-st" id="yiyi-641"><span class="target" id="change-7f3aa37006984fd02c41a09398143685"><strong>[mssql] [bug] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;pymssql&#x65B9;&#x8A00;&#x9644;&#x52A0;&#x201C;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x201D;&#x6D88;&#x606F;&#x7684;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-642">&#x793C;&#x8C8C;John Anderson&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7f3aa37006984fd02c41a09398143685">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.1-27"><span class="yiyi-st" id="yiyi-643"><span class="target" id="change-b830f432c4ee6d47eefab9bd9b667c3f"><strong>[mssql] [bug] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5173;&#x4E8E;&#x201C;binary&#x201D;&#x7C7B;&#x578B;&#x548C;pymssql&#x7684;Py3K&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-644">&#x611F;&#x8C22;Marc Abramowitz&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b830f432c4ee6d47eefab9bd9b667c3f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-645">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2683">&#xFF03;2683</a></span></p></li></ul></div><div class="section" id="change-0.8.1-misc"><h3><span class="yiyi-st" id="yiyi-646">&#x6742;&#x9879;<a class="headerlink" href="#change-0.8.1-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.1-28"><span class="yiyi-st" id="yiyi-647"><span class="target" id="change-b873d75029d2d99647c05b161cb0c2c6"><strong>[bug] [examples] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x7F13;&#x5B58;&#x793A;&#x4F8B;&#x4E2D;&#x957F;&#x671F;&#x5B58;&#x5728;&#x7684;&#x4E00;&#x4E2A;bug&#xFF0C;&#x5176;&#x4E2D;&#x5728;&#x8BA1;&#x7B97;&#x7F13;&#x5B58;&#x952E;&#x65F6;&#xFF0C;&#x4E0D;&#x4F1A;&#x8003;&#x8651;limit / offset&#x53C2;&#x6570;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-648">_key_from_query()&#x51FD;&#x6570;&#x88AB;&#x7B80;&#x5316;&#x4E3A;&#x76F4;&#x63A5;&#x4ECE;&#x6700;&#x7EC8;&#x7F16;&#x8BD1;&#x8BED;&#x53E5;&#x5F00;&#x59CB;&#x5DE5;&#x4F5C;&#xFF0C;&#x4EE5;&#x4FBF;&#x83B7;&#x5F97;&#x5B8C;&#x6574;&#x8BED;&#x53E5;&#x4EE5;&#x53CA;&#x5B8C;&#x5168;&#x5904;&#x7406;&#x7684;&#x53C2;&#x6570;&#x5217;&#x8868;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b873d75029d2d99647c05b161cb0c2c6">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.8.0"><h2><span class="yiyi-st" id="yiyi-650">0.8.0 <a class="headerlink" href="#change-0.8.0" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-779">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2013&#x5E74;3&#x6708;9&#x65E5;</span><p></p><div class="admonition note"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-651">&#x6CE8;&#x610F;</span></p><p><span class="yiyi-st" id="yiyi-652">&#x5728;0.8.0b2&#x4E2D;&#x4E0D;&#x5B58;&#x5728;0.8.0&#x7684;&#x4E00;&#x4E9B;&#x65B0;&#x7684;&#x884C;&#x4E3A;&#x53D8;&#x5316;&#x3002;</span><span class="yiyi-st" id="yiyi-653">&#x5B83;&#x4EEC;&#x51FA;&#x73B0;&#x5728;&#x79FB;&#x6C11;&#x6587;&#x4EF6;&#x4E2D;&#x5982;&#x4E0B;&#xFF1A;</span></p><ul class="last simple"><li><span class="yiyi-st" id="yiyi-654"><a class="reference internal" href="migration_08.html#legacy-is-orphan-addition"><span>The consideration of a &#x201C;pending&#x201D; object as an &#x201C;orphan&#x201D; has been made more aggressive</span></a></span></li><li><span class="yiyi-st" id="yiyi-655"><a class="reference internal" href="migration_08.html#metadata-create-drop-tables"><span>create_all() and drop_all() will now honor an empty list as such</span></a></span></li><li><span class="yiyi-st" id="yiyi-656"><a class="reference internal" href="migration_08.html#correlation-context-specific"><span>Correlation is now always context-specific</span></a></span></li></ul></div><div class="section" id="change-0.8.0-orm"><h3><span class="yiyi-st" id="yiyi-657">ORM <a class="headerlink" href="#change-0.8.0-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0-0"><span class="yiyi-st" id="yiyi-658"><span class="target" id="change-0e7766217e564a69e3b6e7d65324ee7e"><strong>[orm] [feature] </strong></span>A meaningful <a class="reference internal" href="orm_internals.html#sqlalchemy.orm.attributes.QueryableAttribute.info" title="sqlalchemy.orm.attributes.QueryableAttribute.info"><code class="xref py py-attr docutils literal"><span class="pre">QueryableAttribute.info</span></code></a> attribute is added, which proxies down to the <code class="docutils literal"><span class="pre">.info</span></code> attribute on either the <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">schema.Column</span></code></a> object if directly present, or the <a class="reference internal" href="orm_internals.html#sqlalchemy.orm.interfaces.MapperProperty" title="sqlalchemy.orm.interfaces.MapperProperty"><code class="xref py py-class docutils literal"><span class="pre">MapperProperty</span></code></a> otherwise. </span><span class="yiyi-st" id="yiyi-659">&#x5B8C;&#x6574;&#x7684;&#x884C;&#x4E3A;&#x901A;&#x8FC7;&#x6D4B;&#x8BD5;&#x8BB0;&#x5F55;&#x5E76;&#x786E;&#x4FDD;&#x5176;&#x4FDD;&#x6301;&#x7A33;&#x5B9A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0e7766217e564a69e3b6e7d65324ee7e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-660">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2675">&#xFF03;2675</a></span></p></li><li><p id="change-0.8.0-1"><span class="yiyi-st" id="yiyi-661"><span class="target" id="change-eff531fde0b0d3b8012f08ac5f1465c8"><strong>[orm] [feature] </strong></span>&#x53EF;&#x4EE5;&#x5728;<a class="reference internal" href="orm_relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal"><span class="pre">relationship()</span></code></a>&#x6784;&#x9020;&#x5DF2;&#x7ECF;&#x6784;&#x5EFA;&#x4E4B;&#x540E;&#x8BBE;&#x7F6E;/&#x66F4;&#x6539;&#x201C;&#x7EA7;&#x8054;&#x201D;&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-662">&#x8FD9;&#x4E0D;&#x662F;&#x6B63;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x6A21;&#x5F0F;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x5728;&#x6559;&#x7A0B;&#x4E2D;&#x66F4;&#x6539;&#x8BBE;&#x7F6E;&#x4EE5;&#x4FBF;&#x6F14;&#x793A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-eff531fde0b0d3b8012f08ac5f1465c8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0-2"><span class="yiyi-st" id="yiyi-663"><span class="target" id="change-87e254a9ea3dc3d97f95489d3aaaec97"><strong>[orm] [feature] </strong></span>Added new helper function <a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.util.was_deleted" title="sqlalchemy.orm.util.was_deleted"><code class="xref py py-func docutils literal"><span class="pre">was_deleted()</span></code></a>, returns True if the given object was the subject of a <a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.Session.delete" title="sqlalchemy.orm.session.Session.delete"><code class="xref py py-meth docutils literal"><span class="pre">Session.delete()</span></code></a> operation.<a class="changeset-link headerlink reference internal" href="#change-87e254a9ea3dc3d97f95489d3aaaec97">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-664">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2658">&#xFF03;2658</a></span></p></li><li><p id="change-0.8.0-3"><span class="yiyi-st" id="yiyi-665"><span class="target" id="change-6dc63e609423ac03130a8b69d1f641ad"><strong>[orm] [feature] </strong></span>&#x6269;&#x5C55;&#x4E86;<a class="reference internal" href="core_inspection.html"><em>Runtime Inspection API</em></a>&#x7CFB;&#x7EDF;&#xFF0C;&#x4EE5;&#x4FBF;&#x53EF;&#x4EE5;&#x68C0;&#x7D22;&#x4E0E;ORM&#x6216;&#x5176;&#x6269;&#x5C55;&#x76F8;&#x5173;&#x8054;&#x7684;&#x6240;&#x6709;Python&#x63CF;&#x8FF0;&#x7B26;&#x3002;</span><span class="yiyi-st" id="yiyi-666">&#x8FD9;&#x6EE1;&#x8DB3;&#x4E86;&#x9664;&#x4E86;<a class="reference internal" href="orm_extensions_hybrid.html#sqlalchemy.ext.hybrid.hybrid_property" title="sqlalchemy.ext.hybrid.hybrid_property"><code class="xref py py-class docutils literal"><span class="pre">hybrid_property</span></code></a>&#x548C;<a class="reference internal" href="orm_extensions_associationproxy.html#sqlalchemy.ext.associationproxy.AssociationProxy" title="sqlalchemy.ext.associationproxy.AssociationProxy"><code class="xref py py-class docutils literal"><span class="pre">AssociationProxy</span></code></a>&#x4E4B;&#x7C7B;&#x7684;&#x6269;&#x5C55;&#x7C7B;&#x578B;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x80FD;&#x591F;&#x68C0;&#x67E5;&#x6240;&#x6709;<a class="reference internal" href="orm_internals.html#sqlalchemy.orm.attributes.QueryableAttribute" title="sqlalchemy.orm.attributes.QueryableAttribute"><code class="xref py py-class docutils literal"><span class="pre">QueryableAttribute</span></code></a>&#x63CF;&#x8FF0;&#x7B26;&#x7684;&#x5E38;&#x89C1;&#x8981;&#x6C42;&#x3002;</span><span class="yiyi-st" id="yiyi-667">&#x53C2;&#x89C1;<a class="reference internal" href="orm_mapping_api.html#sqlalchemy.orm.mapper.Mapper.all_orm_descriptors" title="sqlalchemy.orm.mapper.Mapper.all_orm_descriptors"><code class="xref py py-attr docutils literal"><span class="pre">Mapper.all_orm_descriptors</span></code></a>&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6dc63e609423ac03130a8b69d1f641ad">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0-4"><span class="yiyi-st" id="yiyi-668"><span class="target" id="change-29886b5ee0c5aaede3ccba82d95b9db9"><strong>[orm] [removed] </strong></span>The undocumented (and hopefully unused) system of producing custom collections using an <code class="docutils literal"><span class="pre">__instrumentation__</span></code> datastructure associated with the collection has been removed, as this was a complex and untested feature which was also essentially redundant versus the decorator approach. </span><span class="yiyi-st" id="yiyi-669">&#x5BF9;orm.collections&#x6A21;&#x5757;&#x7684;&#x5176;&#x4ED6;&#x5185;&#x90E8;&#x7B80;&#x5316;&#x4E5F;&#x5DF2;&#x5B8C;&#x6210;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-29886b5ee0c5aaede3ccba82d95b9db9">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0-5"><span class="yiyi-st" id="yiyi-670"><span class="target" id="change-70a1eb7113723617f2545f787b42926f"><strong>[orm] [bug] </strong></span>&#x6539;&#x8FDB;&#x4E86;&#x5728;&#x6620;&#x5C04;&#x5668;&#x914D;&#x7F6E;&#x671F;&#x95F4;&#x68C0;&#x67E5;&#x73B0;&#x6709;&#x540E;&#x7AEF;&#x540D;&#x79F0;&#x51B2;&#x7A81;&#x7684;&#x60C5;&#x51B5;&#xFF1B;&#x73B0;&#x5728;&#x5C06;&#x6D4B;&#x8BD5;&#x8D85;&#x7C7B;&#x548C;&#x5B50;&#x7C7B;&#x540D;&#x79F0;&#x51B2;&#x7A81;&#xFF0C;&#x9664;&#x4E86;&#x5F53;&#x524D;&#x7684;&#x6620;&#x5C04;&#x5668;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E9B;&#x51B2;&#x7A81;&#x540C;&#x6837;&#x4F1A;&#x7834;&#x574F;&#x4E8B;&#x7269;&#x3002;</span><span class="yiyi-st" id="yiyi-671">&#x8FD9;&#x662F;0.8&#x7684;&#x65B0;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x8BF7;&#x53C2;&#x9605;&#x4E0B;&#x9762;&#x7684;&#x8B66;&#x544A;&#xFF0C;&#x8BE5;&#x8B66;&#x544A;&#x4E5F;&#x5C06;&#x5728;0.7.11&#x4E2D;&#x89E6;&#x53D1;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-70a1eb7113723617f2545f787b42926f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-672">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2674">&#xFF03;2674</a></span></p></li><li><p id="change-0.8.0-6"><span class="yiyi-st" id="yiyi-673"><span class="target" id="change-3300e27b920eae11534316a004610e0b"><strong>[orm] [bug] </strong></span>Improved the error message emitted when a &#x201C;backref loop&#x201D; is detected, that is when an attribute event triggers a bidirectional assignment between two other attributes with no end. </span><span class="yiyi-st" id="yiyi-674">&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0D;&#x4EC5;&#x53D1;&#x751F;&#x5728;&#x5206;&#x914D;&#x4E86;&#x9519;&#x8BEF;&#x7C7B;&#x578B;&#x7684;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x800C;&#x4E14;&#x5F53;&#x67D0;&#x4E2A;&#x5C5E;&#x6027;&#x88AB;&#x9519;&#x8BEF;&#x5730;&#x914D;&#x7F6E;&#x4E3A;&#x53CD;&#x5411;&#x5F15;&#x7528;&#x5230;&#x73B0;&#x6709;&#x7684;backref&#x5BF9;&#x65F6;&#x3002;</span><span class="yiyi-st" id="yiyi-675">&#x4E5F;&#x5728;0.7.11. <a class="changeset-link headerlink reference internal" href="#change-3300e27b920eae11534316a004610e0b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-676">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2674">&#xFF03;2674</a></span></p></li><li><p id="change-0.8.0-7"><span class="yiyi-st" id="yiyi-677"><span class="target" id="change-451e4047465f0e6c6f21abba4b12df50"><strong>[orm] [bug] </strong></span>A warning is emitted when a MapperProperty is assigned to a mapper that replaces an existing property, if the properties in question aren&#x2019;t plain column-based properties. </span><span class="yiyi-st" id="yiyi-678">&#x5173;&#x7CFB;&#x5C5E;&#x6027;&#x7684;&#x66FF;&#x6362;&#x5F88;&#x5C11;&#xFF08;&#x4ECE;&#x6765;&#x6CA1;&#x6709;&#xFF1F;&#xFF09;</span><span class="yiyi-st" id="yiyi-679">&#x610F;&#x56FE;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x6307;&#x6620;&#x5C04;&#x5668;&#x9519;&#x8BEF;&#x914D;&#x7F6E;&#x3002;</span><span class="yiyi-st" id="yiyi-680">&#x4E5F;&#x5728;0.7.11. <a class="changeset-link headerlink reference internal" href="#change-451e4047465f0e6c6f21abba4b12df50">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-681">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2674">&#xFF03;2674</a></span></p></li><li><p id="change-0.8.0-8"><span class="yiyi-st" id="yiyi-682"><span class="target" id="change-d2bf87eacf9c1add55e6572d7d34ee88"><strong>[orm] [bug] </strong></span>A clear error message is emitted if an event handler attempts to emit SQL on a Session within the after_commit() handler, where there is not a viable transaction in progress.<a class="changeset-link headerlink reference internal" href="#change-d2bf87eacf9c1add55e6572d7d34ee88">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-683">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2662">&#xFF03;2662</a></span></p></li><li><p id="change-0.8.0-9"><span class="yiyi-st" id="yiyi-684"><span class="target" id="change-cc99daa35226bc12290009d2ecd52ada"><strong>[orm] [bug] </strong></span>&#x5728;&#x7EA7;&#x8054;&#x81EA;&#x7136;&#x4E3B;&#x952E;&#x66F4;&#x65B0;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x68C0;&#x6D4B;&#x5230;&#x4E3B;&#x952E;&#x66F4;&#x6539;&#x5C06;&#x6210;&#x529F;&#xFF0C;&#x5373;&#x4F7F;&#x952E;&#x662F;&#x590D;&#x5408;&#x7684;&#x5E76;&#x4E14;&#x53EA;&#x6709;&#x90E8;&#x5206;&#x5C5E;&#x6027;&#x53D1;&#x751F;&#x66F4;&#x6539;<a class="changeset-link headerlink reference internal" href="#change-cc99daa35226bc12290009d2ecd52ada">&#xB6;  T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-685">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2665">&#xFF03;2665</a></span></p></li><li><p id="change-0.8.0-10"><span class="yiyi-st" id="yiyi-686"><span class="target" id="change-0a139e7ac1f999ad55e5825206c80ac6"><strong>[orm] [bug] </strong></span>&#x5728;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x540E;&#xFF0C;&#x4ECE;&#x4F1A;&#x8BDD;&#x4E2D;&#x5220;&#x9664;&#x7684;&#x5BF9;&#x8C61;&#x5C06;&#x5B8C;&#x5168;&#x4E0E;&#x8BE5;&#x4F1A;&#x8BDD;&#x5173;&#x8054;&#xFF0C;&#x5373;<a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.object_session" title="sqlalchemy.orm.session.object_session"><code class="xref py py-func docutils literal"><span class="pre">object_session()</span></code></a>&#x51FD;&#x6570;&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;None&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0a139e7ac1f999ad55e5825206c80ac6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-687">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2658">&#xFF03;2658</a></span></p></li><li><p id="change-0.8.0-11"><span class="yiyi-st" id="yiyi-688"><span class="target" id="change-1d26b29a64556c35cdb8d59224b641f9"><strong>[orm] [bug] </strong></span>Fixed bug whereby <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.yield_per" title="sqlalchemy.orm.query.Query.yield_per"><code class="xref py py-meth docutils literal"><span class="pre">Query.yield_per()</span></code></a> would set the execution options incorrectly, thereby breaking subsequent usage of the <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.execution_options" title="sqlalchemy.orm.query.Query.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Query.execution_options()</span></code></a> method. </span><span class="yiyi-st" id="yiyi-689">&#x793C;&#x8C8C;Ryan Kelly&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1d26b29a64556c35cdb8d59224b641f9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-690">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2661">&#xFF03;2661</a></span></p></li><li><p id="change-0.8.0-12"><span class="yiyi-st" id="yiyi-691"><span class="target" id="change-f0fdbb71e66a3cb345017c0e32a9dfcc"><strong>[orm] [bug] </strong></span>Fixed the consideration of the <code class="docutils literal"><span class="pre">between()</span></code> operator so that it works correctly with the new relationship local/remote system.<a class="changeset-link headerlink reference internal" href="#change-f0fdbb71e66a3cb345017c0e32a9dfcc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-692">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1768">&#xFF03;1768</a></span></p></li><li><p id="change-0.8.0-13"><span class="yiyi-st" id="yiyi-693"><span class="target" id="change-e10fe28bb6aac9740cefe7a351f6bc84"><strong>[orm] [bug] </strong></span>the consideration of a pending object as an &#x201C;orphan&#x201D; has been modified to more closely match the behavior as that of persistent objects, which is that the object is expunged from the <a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> as soon as it is de-associated from any of its orphan-enabled parents. </span><span class="yiyi-st" id="yiyi-694">&#x4EE5;&#x524D;&#xFF0C;&#x6302;&#x8D77;&#x7684;&#x5BF9;&#x8C61;&#x53EA;&#x6709;&#x5728;&#x4E0E;&#x6240;&#x6709;&#x5B64;&#x7ACB;&#x542F;&#x7528;&#x7684;&#x7236;&#x6BCD;&#x5173;&#x8054;&#x65F6;&#x624D;&#x4F1A;&#x88AB;&#x6E05;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-695">&#x65B0;&#x6807;&#x5FD7;<code class="docutils literal"><span class="pre">legacy_is_orphan</span></code>&#x88AB;&#x6DFB;&#x52A0;&#x5230;<a class="reference internal" href="orm_mapping_api.html#sqlalchemy.orm.mapper" title="sqlalchemy.orm.mapper"><code class="xref py py-func docutils literal"><span class="pre">orm.mapper()</span></code></a>&#x4E2D;&#xFF0C;&#x4EE5;&#x91CD;&#x65B0;&#x5EFA;&#x7ACB;&#x4F20;&#x7EDF;&#x884C;&#x4E3A;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-696">&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="migration_08.html#legacy-is-orphan-addition"><span>The consideration of a &#x201C;pending&#x201D; object as an &#x201C;orphan&#x201D; has been made more aggressive</span></a>&#xFF0C;&#x4EE5;&#x4FBF;&#x8BE6;&#x7EC6;&#x8BA8;&#x8BBA;&#x6B64;&#x66F4;&#x6539;&#x3002;</span></p><span class="yiyi-st" id="yiyi-698"> <a class="changeset-link headerlink reference internal" href="#change-e10fe28bb6aac9740cefe7a351f6bc84">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-697">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2655">&#xFF03;2655</a></span></p></li><li><p id="change-0.8.0-14"><span class="yiyi-st" id="yiyi-699"><span class="target" id="change-7d72bd6c360c99b27ef15047489fcd85"><strong>[orm] [bug] </strong></span>Fixed the (most likely never used) &#x201C;@collection.link&#x201D; collection method, which fires off each time the collection is associated or de-associated with a mapped object - the decorator was not tested or functional. </span><span class="yiyi-st" id="yiyi-700">&#x88C5;&#x9970;&#x5668;&#x65B9;&#x6CD5;&#x73B0;&#x5728;&#x540D;&#x4E3A;<a class="reference internal" href="orm_collections.html#sqlalchemy.orm.collections.collection.linker" title="sqlalchemy.orm.collections.collection.linker"><code class="xref py py-meth docutils literal"><span class="pre">collection.linker()</span></code></a>&#xFF0C;&#x5C3D;&#x7BA1;&#x540D;&#x79F0;&#x201C;link&#x201D;&#x4FDD;&#x6301;&#x5411;&#x540E;&#x517C;&#x5BB9;&#x3002;</span><span class="yiyi-st" id="yiyi-701">&#x793C;&#x8C8C;Luca Wehrstedt&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7d72bd6c360c99b27ef15047489fcd85">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-702">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2653">&#xFF03;2653</a></span></p></li><li><p id="change-0.8.0-15"><span class="yiyi-st" id="yiyi-703"><span class="target" id="change-bd06b03d181458a8e51b61251f490b82"><strong>[orm] [bug] </strong></span>Made some fixes to the system of producing custom instrumented collections, mainly that the usage of the @collection decorators will now honor the __mro__ of the given class, applying the logic of the sub-most classes&#x2019; version of a particular collection method. </span><span class="yiyi-st" id="yiyi-704">&#x4EE5;&#x524D;&#xFF0C;&#x5F53;&#x5BF9;&#x73B0;&#x6709;&#x7684;&#x5DE5;&#x5177;&#x7C7B;&#xFF08;&#x5982;<a class="reference internal" href="orm_collections.html#sqlalchemy.orm.collections.MappedCollection" title="sqlalchemy.orm.collections.MappedCollection"><code class="xref py py-class docutils literal"><span class="pre">MappedCollection</span></code></a>&#xFF09;&#x8FDB;&#x884C;&#x5B50;&#x7C7B;&#x5316;&#x65F6;&#xFF0C;&#x65E0;&#x8BBA;&#x81EA;&#x5B9A;&#x4E49;&#x65B9;&#x6CD5;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6B63;&#x786E;&#x89E3;&#x6790;&#xFF0C;&#x90FD;&#x662F;&#x4E0D;&#x53EF;&#x9884;&#x6D4B;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bd06b03d181458a8e51b61251f490b82"></a></span></p><p><span class="yiyi-st" id="yiyi-705">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2654">&#xFF03;2654</a></span></p></li><li><p id="change-0.8.0-16"><span class="yiyi-st" id="yiyi-706"><span class="target" id="change-5bc655fd335b2e5ce6043db01e7e0070"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x521B;&#x5EFA;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;<a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.sessionmaker" title="sqlalchemy.orm.session.sessionmaker"><code class="xref py py-class docutils literal"><span class="pre">sessionmaker</span></code></a>&#x5BF9;&#x8C61;&#x65F6;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x7684;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-707">&#x7531;sessionmaker&#x521B;&#x5EFA;&#x7684;&#x533F;&#x540D;&#x5B50;&#x7C7B;&#x5728;&#x53D6;&#x6D88;&#x5F15;&#x7528;&#x65F6;&#x4E0D;&#x4F1A;&#x88AB;&#x5783;&#x573E;&#x6536;&#x96C6;&#xFF0C;&#x56E0;&#x4E3A;&#x4E8B;&#x4EF6;&#x5305;&#x4E2D;&#x5269;&#x4F59;&#x7684;&#x7C7B;&#x7EA7;&#x522B;&#x5F15;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-708">&#x6B64;&#x95EE;&#x9898;&#x4E5F;&#x9002;&#x7528;&#x4E8E;&#x4EFB;&#x4F55;&#x4F7F;&#x7528;ad-hoc&#x5B50;&#x7C7B;&#x4E0E;&#x4E8B;&#x4EF6;&#x5206;&#x6D3E;&#x5668;&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x7CFB;&#x7EDF;&#x3002;</span><span class="yiyi-st" id="yiyi-709">&#x540C;&#x6837;&#x5728;0.7.10. <a class="changeset-link headerlink reference internal" href="#change-5bc655fd335b2e5ce6043db01e7e0070">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-710">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2650">&#xFF03;2650</a></span></p></li><li><p id="change-0.8.0-17"><span class="yiyi-st" id="yiyi-711"><span class="target" id="change-89cccd82c603a3ec57c6fd0dd77dce2f"><strong>[orm] [bug] </strong></span><a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.merge_result" title="sqlalchemy.orm.query.Query.merge_result"><code class="xref py py-meth docutils literal"><span class="pre">Query.merge_result()</span></code></a> can now load rows from an outer join where an entity may be <code class="docutils literal"><span class="pre">None</span></code> without throwing an error. </span><span class="yiyi-st" id="yiyi-712">&#x540C;&#x6837;&#x5728;0.7.10. <a class="changeset-link headerlink reference internal" href="#change-89cccd82c603a3ec57c6fd0dd77dce2f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-713">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2640">&#xFF03;2640</a></span></p></li><li><p id="change-0.8.0-18"><span class="yiyi-st" id="yiyi-714"><span class="target" id="change-30c07492fc86836cb428a07cb6a8c472"><strong>[orm] [bug] </strong></span>Fixes to the &#x201C;dynamic&#x201D; loader on <a class="reference internal" href="orm_relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal"><span class="pre">relationship()</span></code></a>, includes that backrefs will work properly even when autoflush is disabled, history events are more accurate in scenarios where multiple add/remove of the same object occurs.<a class="changeset-link headerlink reference internal" href="#change-30c07492fc86836cb428a07cb6a8c472">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-715">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2637">&#xFF03;2637</a></span></p></li></ul></div><div class="section" id="change-0.8.0-sql"><h3><span class="yiyi-st" id="yiyi-716">SQL <a class="headerlink" href="#change-0.8.0-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0-19"><span class="yiyi-st" id="yiyi-717"><span class="target" id="change-aacb4e3939dfad091a7dc16bfbafa28d"><strong>[sql] [feature] </strong></span>Added a new argument to <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal"><span class="pre">Enum</span></code></a> and its base <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><code class="xref py py-class docutils literal"><span class="pre">SchemaType</span></code></a> <code class="docutils literal"><span class="pre">inherit_schema</span></code>. </span><span class="yiyi-st" id="yiyi-718">&#x5F53;&#x8BBE;&#x7F6E;&#x4E3A;<code class="docutils literal"><span class="pre">True</span></code>&#x65F6;&#xFF0C;&#x8BE5;&#x7C7B;&#x578B;&#x5C06;&#x8BBE;&#x7F6E;&#x4E0E;&#x5176;&#x76F8;&#x5173;&#x8054;&#x7684;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x7684;<code class="docutils literal"><span class="pre">schema</span></code>&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-719">&#x8FD9;&#x4E5F;&#x53D1;&#x751F;&#x5728;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table.tometadata" title="sqlalchemy.schema.Table.tometadata"><code class="xref py py-meth docutils literal"><span class="pre">Table.tometadata()</span></code></a>&#x64CD;&#x4F5C;&#x4E2D;&#xFF1B;&#x5728;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table.tometadata" title="sqlalchemy.schema.Table.tometadata"><code class="xref py py-meth docutils literal"><span class="pre">Table.tometadata()</span></code></a>&#x53D1;&#x751F;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x73B0;&#x5728;<a class="reference internal" href="core_type_basics.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><code class="xref py py-class docutils literal"><span class="pre">SchemaType</span></code></a>&#x88AB;&#x590D;&#x5236;&#xFF0C;&#x5E76;&#x4E14;&#x5982;&#x679C;<code class="docutils literal"><span class="pre">inherit_schema=True</span></code>&#xFF0C;&#x7C7B;&#x578B;&#x5C06;&#x91C7;&#x7528;&#x65B0;&#x6A21;&#x5F0F;&#x540D;&#x79F0;&#x4F20;&#x9012;&#x7ED9;&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-720">The <code class="docutils literal"><span class="pre">schema</span></code> is important when used with the Postgresql backend, as the type results in a <code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">TYPE</span></code> statement.<a class="changeset-link headerlink reference internal" href="#change-aacb4e3939dfad091a7dc16bfbafa28d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-721">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2657">&#xFF03;2657</a></span></p></li><li><p id="change-0.8.0-20"><span class="yiyi-st" id="yiyi-722"><span class="target" id="change-4a5b1d5566fb9e0e9cea5fc5b37a9779"><strong>[sql] [feature] </strong></span><a class="reference internal" href="core_constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal"><span class="pre">Index</span></code></a> now supports arbitrary SQL expressions and/or functions, in addition to straight columns. </span><span class="yiyi-st" id="yiyi-723">Common modifiers include using <code class="docutils literal"><span class="pre">somecolumn.desc()</span></code> for a descending index and <code class="docutils literal"><span class="pre">func.lower(somecolumn)</span></code> for a case-insensitive index, depending on the capabilities of the target backend.<a class="changeset-link headerlink reference internal" href="#change-4a5b1d5566fb9e0e9cea5fc5b37a9779">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-724">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/695">&#xFF03;695</a></span></p></li><li><p id="change-0.8.0-21"><span class="yiyi-st" id="yiyi-725"><span class="target" id="change-6a4406900f98dc286816c64340267f5e"><strong>[sql] [bug] </strong></span>The behavior of SELECT correlation has been improved such that the <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Select.correlate" title="sqlalchemy.sql.expression.Select.correlate"><code class="xref py py-meth docutils literal"><span class="pre">Select.correlate()</span></code></a> and <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Select.correlate_except" title="sqlalchemy.sql.expression.Select.correlate_except"><code class="xref py py-meth docutils literal"><span class="pre">Select.correlate_except()</span></code></a> methods, as well as their ORM analogues, will still retain &#x201C;auto-correlation&#x201D; behavior in that the FROM clause is modified only if the output would be legal SQL; that is, the FROM clause is left intact if the correlated SELECT is not used in the context of an enclosing SELECT inside of the WHERE, columns, or HAVING clause. </span><span class="yiyi-st" id="yiyi-726">&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x73B0;&#x5728;&#x53EA;&#x5C06;&#x6761;&#x4EF6;&#x6307;&#x5B9A;&#x4E3A;&#x9ED8;&#x8BA4;&#x7684;&#x201C;&#x81EA;&#x52A8;&#x5173;&#x8054;&#x201D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7EDD;&#x5BF9;&#x7684;FROM&#x5217;&#x8868;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6a4406900f98dc286816c64340267f5e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-727">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2668">&#xFF03;2668</a></span></p></li><li><p id="change-0.8.0-22"><span class="yiyi-st" id="yiyi-728"><span class="target" id="change-f4a089a10d8ca4d92ed313869806e9c1"><strong>[sql] [bug] </strong></span>Fixed a bug regarding column annotations which in particular could impact some usages of the new <a class="reference internal" href="orm_relationship_api.html#sqlalchemy.orm.remote" title="sqlalchemy.orm.remote"><code class="xref py py-func docutils literal"><span class="pre">orm.remote()</span></code></a> and <code class="xref py py-func docutils literal"><span class="pre">orm.local()</span></code> annotation functions, where annotations could be lost when the column were used in a subsequent expression.<a class="changeset-link headerlink reference internal" href="#change-f4a089a10d8ca4d92ed313869806e9c1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-729">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1768">&#xFF03;1768</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2660">&#xFF03;2660</a></span></p></li><li><p id="change-0.8.0-23"><span class="yiyi-st" id="yiyi-730"><span class="target" id="change-737388761f92767bc0e26a80c98df139"><strong>[sql] [bug] </strong></span>The <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.in_" title="sqlalchemy.sql.operators.ColumnOperators.in_"><code class="xref py py-meth docutils literal"><span class="pre">ColumnOperators.in_()</span></code></a> operator will now coerce values of <code class="docutils literal"><span class="pre">None</span></code> to <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.null" title="sqlalchemy.sql.expression.null"><code class="xref py py-func docutils literal"><span class="pre">null()</span></code></a>.<a class="changeset-link headerlink reference internal" href="#change-737388761f92767bc0e26a80c98df139">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-731">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2496">&#xFF03;2496</a></span></p></li><li><p id="change-0.8.0-24"><span class="yiyi-st" id="yiyi-732"><span class="target" id="change-88b4c4ede70d2e60146fa8c717f87544"><strong>[sql] [bug] </strong></span>Fixed bug where <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table.tometadata" title="sqlalchemy.schema.Table.tometadata"><code class="xref py py-meth docutils literal"><span class="pre">Table.tometadata()</span></code></a> would fail if a <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> had both a foreign key as well as an alternate &#x201D;.key&#x201D; name for the column. </span><span class="yiyi-st" id="yiyi-733">&#x540C;&#x6837;&#x5728;0.7.10. <a class="changeset-link headerlink reference internal" href="#change-88b4c4ede70d2e60146fa8c717f87544">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-734">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2643">&#xFF03;2643</a></span></p></li><li><p id="change-0.8.0-25"><span class="yiyi-st" id="yiyi-735"><span class="target" id="change-0ed8c15f1a7de2b4ffd2e65c7538bdf4"><strong>[sql] [bug] </strong></span>insert().returning() raises an informative CompileError if attempted to compile on a dialect that doesn&#x2019;t support RETURNING.<a class="changeset-link headerlink reference internal" href="#change-0ed8c15f1a7de2b4ffd2e65c7538bdf4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-736">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2629">&#xFF03;2629</a></span></p></li><li><p id="change-0.8.0-26"><span class="yiyi-st" id="yiyi-737"><span class="target" id="change-4e171b865fa50628413956ff3159317b"><strong>[sql] [bug] </strong></span>Tweaked the &#x201C;REQUIRED&#x201D; symbol used by the compiler to identify INSERT/UPDATE bound parameters that need to be passed, so that it&#x2019;s more easily identifiable when writing custom bind-handling code.<a class="changeset-link headerlink reference internal" href="#change-4e171b865fa50628413956ff3159317b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-738">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2648">&#xFF03;2648</a></span></p></li></ul></div><div class="section" id="change-0.8.0-schema"><h3><span class="yiyi-st" id="yiyi-739">&#x67B6;&#x6784;<a class="headerlink" href="#change-0.8.0-schema" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0-27"><span class="yiyi-st" id="yiyi-740"><span class="target" id="change-ae2a49c7e02214659343b36e72c31470"><strong>[schema] [bug] </strong></span><a class="reference internal" href="core_metadata.html#sqlalchemy.schema.MetaData.create_all" title="sqlalchemy.schema.MetaData.create_all"><code class="xref py py-meth docutils literal"><span class="pre">MetaData.create_all()</span></code></a> and <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.MetaData.drop_all" title="sqlalchemy.schema.MetaData.drop_all"><code class="xref py py-meth docutils literal"><span class="pre">MetaData.drop_all()</span></code></a> will now accommodate an empty list as an instruction to not create/drop any items, rather than ignoring the collection.<a class="changeset-link headerlink reference internal" href="#change-ae2a49c7e02214659343b36e72c31470">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-741">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2664">&#xFF03;2664</a></span></p></li></ul></div><div class="section" id="change-0.8.0-postgresql"><h3><span class="yiyi-st" id="yiyi-742">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.8.0-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0-28"><span class="yiyi-st" id="yiyi-743"><span class="target" id="change-32b040acc96cd80d58b6b4f3180b753b"><strong>[postgresql] [feature] </strong></span>Added support for Postgresql&#x2019;s traditional SUBSTRING function syntax, renders as &#x201C;SUBSTRING(x FROM y FOR z)&#x201D; when regular <code class="docutils literal"><span class="pre">func.substring()</span></code> is used. </span><span class="yiyi-st" id="yiyi-744">Courtesy Gunnlaugur&#xDE;&#xF3;rBriem&#x3002;<a class="changeset-link headerlink reference internal" href="#change-32b040acc96cd80d58b6b4f3180b753b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-745">This change is also <strong>backported</strong> to: 0.7.11</span></p><p><span class="yiyi-st" id="yiyi-746">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2676">&#xFF03;2676</a></span></p></li><li><p id="change-0.8.0-29"><span class="yiyi-st" id="yiyi-747"><span class="target" id="change-225a80e716cad9649123dc76e809d59b"><strong>[postgresql] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;<code class="xref py py-meth docutils literal"><span class="pre">postgresql.ARRAY.Comparator.any()</span></code>&#x548C;<code class="xref py py-meth docutils literal"><span class="pre">postgresql.ARRAY.Comparator.all()</span></code>&#x65B9;&#x6CD5;&#xFF0C;&#x4EE5;&#x53CA;&#x72EC;&#x7ACB;&#x7684;&#x8868;&#x8FBE;&#x7ED3;&#x6784;&#x3002;</span><span class="yiyi-st" id="yiyi-748">&#x975E;&#x5E38;&#x611F;&#x8C22;AudriusKa&#x17E;ukauskas&#x5728;&#x8FD9;&#x91CC;&#x7684;&#x51FA;&#x8272;&#x5DE5;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-225a80e716cad9649123dc76e809d59b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0-30"><span class="yiyi-st" id="yiyi-749"><span class="target" id="change-3adae518c55ff0255fefd5d431ef4a80"><strong>[postgresql] [bug] </strong></span>Fixed bug in <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.array" title="sqlalchemy.dialects.postgresql.array"><code class="xref py py-class docutils literal"><span class="pre">array()</span></code></a> construct whereby using it inside of an <a class="reference internal" href="core_dml.html#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><code class="xref py py-func docutils literal"><span class="pre">expression.insert()</span></code></a> construct would produce an error regarding a parameter issue in the <code class="docutils literal"><span class="pre">self_group()</span></code> method.<a class="changeset-link headerlink reference internal" href="#change-3adae518c55ff0255fefd5d431ef4a80">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.0-mysql"><h3><span class="yiyi-st" id="yiyi-750">MySQL&#x7684;<a class="headerlink" href="#change-0.8.0-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0-31"><span class="yiyi-st" id="yiyi-751"><span class="target" id="change-40fad96aac576545c0bcd7b6aaae7df4"><strong>[mysql] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;CyMySQL&#x65B9;&#x8A00;&#xFF0C;&#x7531;Hajime Nakagami&#x63D0;&#x4F9B;<a class="changeset-link headerlink reference internal" href="#change-40fad96aac576545c0bcd7b6aaae7df4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0-32"><span class="yiyi-st" id="yiyi-752"><span class="target" id="change-48dd3fb7a18df48d86387567167547c6"><strong>[mysql] [feature] </strong></span> GAE&#x65B9;&#x8A00;&#x73B0;&#x5728;&#x63A5;&#x53D7;URL&#x4E2D;&#x7684;&#x7528;&#x6237;&#x540D;/&#x5BC6;&#x7801;&#x53C2;&#x6570;&#xFF0C;&#x7531;Owen Nelson&#x63D0;&#x4F9B;<a class="changeset-link headerlink reference internal" href="#change-48dd3fb7a18df48d86387567167547c6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0-33"><span class="yiyi-st" id="yiyi-753"><span class="target" id="change-53062d4818f1d30f474a193f24789f87"><strong>[mysql] [bug] [gae] </strong></span>&#x4E3A;<code class="docutils literal"><span class="pre">gaerdbms</span></code>&#x65B9;&#x8A00;&#x6DFB;&#x52A0;&#x4E86;&#x6761;&#x4EF6;&#x5BFC;&#x5165;&#xFF0C;&#x5B83;&#x8BD5;&#x56FE;&#x5BFC;&#x5165;rdbms_apiproxy&#x4E0E;rdbms_googleapi&#x4EE5;&#x5728;&#x5F00;&#x53D1;&#x5E73;&#x53F0;&#x548C;&#x751F;&#x4EA7;&#x5E73;&#x53F0;&#x4E0A;&#x5DE5;&#x4F5C;&#x3002;</span><span class="yiyi-st" id="yiyi-754">&#x73B0;&#x5728;&#x4E5F;&#x5C0A;&#x91CD;<code class="docutils literal"><span class="pre">instance</span></code>&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-755">Courtesy Sean Lynch&#x3002;</span><span class="yiyi-st" id="yiyi-756">&#x540C;&#x6837;&#x5728;0.7.10. <a class="changeset-link headerlink reference internal" href="#change-53062d4818f1d30f474a193f24789f87">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-757">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2649">&#xFF03;2649</a></span></p></li><li><p id="change-0.8.0-34"><span class="yiyi-st" id="yiyi-758"><span class="target" id="change-99ff63b4d0d6fe8559114e5d7176cfb1"><strong>[mysql] [bug] </strong></span>&#x5982;&#x679C;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x65E0;&#x6CD5;&#x4ECE;&#x5F02;&#x5E38;&#x629B;&#x51FA;&#x4E2D;&#x63D0;&#x53D6;&#xFF0C;&#x5219;GAE&#x65B9;&#x8A00;&#x4E0D;&#x4F1A;&#x5931;&#x8D25;&#xFF1B;&#x793C;&#x8C8C;Owen Nelson&#x3002;<a class="changeset-link headerlink reference internal" href="#change-99ff63b4d0d6fe8559114e5d7176cfb1">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.0-mssql"><h3><span class="yiyi-st" id="yiyi-759">MSSQL <a class="headerlink" href="#change-0.8.0-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0-35"><span class="yiyi-st" id="yiyi-760"><span class="target" id="change-1569da9a13f31f585e340e65a8754534"><strong>[mssql] [feature] </strong></span>Added <code class="docutils literal"><span class="pre">mssql_include</span></code> and <code class="docutils literal"><span class="pre">mssql_clustered</span></code> options to <a class="reference internal" href="core_constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal"><span class="pre">Index</span></code></a>, renders the <code class="docutils literal"><span class="pre">INCLUDE</span></code> and <code class="docutils literal"><span class="pre">CLUSTERED</span></code> keywords, respectively. </span><span class="yiyi-st" id="yiyi-761">Courtesy Derek Harland&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1569da9a13f31f585e340e65a8754534">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0-36"><span class="yiyi-st" id="yiyi-762"><span class="target" id="change-deae19d4bb2ad7bbeee44fa1f771d04c"><strong>[mssql] [feature] </strong></span>DDL for IDENTITY columns is now supported on non-primary key columns, by establishing a <a class="reference internal" href="core_defaults.html#sqlalchemy.schema.Sequence" title="sqlalchemy.schema.Sequence"><code class="xref py py-class docutils literal"><span class="pre">Sequence</span></code></a> construct on any integer column. </span><span class="yiyi-st" id="yiyi-763">Courtesy Derek Harland&#x3002;<a class="changeset-link headerlink reference internal" href="#change-deae19d4bb2ad7bbeee44fa1f771d04c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-764">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2644">&#xFF03;2644</a></span></p></li><li><p id="change-0.8.0-37"><span class="yiyi-st" id="yiyi-765"><span class="target" id="change-99e9dd9a91aef22f4413c883adc1dc7c"><strong>[mssql] [bug] </strong></span>Added a py3K conditional around unnecessary .decode() call in mssql information schema, fixes reflection in Py3K. </span><span class="yiyi-st" id="yiyi-766">&#x540C;&#x6837;&#x5728;0.7.10. <a class="changeset-link headerlink reference internal" href="#change-99e9dd9a91aef22f4413c883adc1dc7c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-767">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2638">&#xFF03;2638</a></span></p></li><li><p id="change-0.8.0-38"><span class="yiyi-st" id="yiyi-768"><span class="target" id="change-a64f093c2a0a7670b2dbd000e77e230c"><strong>[mssql] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x5B57;&#x7B26;&#x7C7B;&#x578B;CHAR&#xFF0C;NCHAR&#x7B49;&#x7684;&#x201C;&#x6821;&#x5BF9;&#x201D;&#x53C2;&#x6570;&#x7684;&#x56DE;&#x5F52;</span><span class="yiyi-st" id="yiyi-769">&#x505C;&#x6B62;&#x5DE5;&#x4F5C;&#xFF0C;&#x56E0;&#x4E3A;&#x57FA;&#x672C;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x73B0;&#x5728;&#x652F;&#x6301;&#x201C;&#x6574;&#x7406;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-770">MSSQL&#x65B9;&#x8A00;&#x4E2D;&#x7684;TEXT&#xFF0C;NCHAR&#xFF0C;CHAR&#xFF0C;VARCHAR&#x7C7B;&#x578B;&#x73B0;&#x5728;&#x662F;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x7684;&#x540C;&#x4E49;&#x8BCD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a64f093c2a0a7670b2dbd000e77e230c">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.0-oracle"><h3><span class="yiyi-st" id="yiyi-771">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.8.0-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0-39"><span class="yiyi-st" id="yiyi-772"><span class="target" id="change-2cc0979a478f094fa54a8b0019792ae9"><strong>[oracle] [bug] </strong></span> cx_oracle&#x65B9;&#x8A00;&#x5C06;&#x4E0D;&#x518D;&#x901A;&#x8FC7;<code class="docutils literal"><span class="pre">encode()</span></code>&#x8FD0;&#x884C;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x540D;&#x79F0;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x5728;Python 3&#x4E2D;&#x65E0;&#x6548;&#xFF0C;&#x5E76;&#x4E14;&#x963B;&#x6B62;&#x4E86;&#x8BED;&#x53E5;&#x7684;&#x8FD0;&#x884C;&#x6B63;&#x786E;&#x4F7F;&#x7528;Python 3&#x3002;</span><span class="yiyi-st" id="yiyi-773">&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x53EA;&#x5728;<code class="docutils literal"><span class="pre">supports_unicode_binds</span></code>&#x4E3A;False&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#xFF0C;&#x81F3;&#x5C11;&#x5728;&#x4F7F;&#x7528;cx_oracle&#x7684;&#x7248;&#x672C;5&#x65F6;cx_oracle&#x4E0D;&#x662F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2cc0979a478f094fa54a8b0019792ae9">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.0-misc"><h3><span class="yiyi-st" id="yiyi-774">&#x6742;&#x9879;<a class="headerlink" href="#change-0.8.0-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0-40"><span class="yiyi-st" id="yiyi-775"><span class="target" id="change-3c5bac377a13b20bf0772508894cbe60"><strong>[bug] [tests] </strong></span>&#x4FEE;&#x590D;&#x4E86;test_execute&#x4E2D;&#x7684;&#x201C;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x201D;&#x5BFC;&#x5165;&#x95EE;&#x9898;&#xFF0C;&#x8BE5;&#x95EE;&#x9898;&#x5728;&#x67D0;&#x4E9B;Linux&#x5E73;&#x53F0;&#x4E0A;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-776">&#x4E5F;&#x5728;0.7.11. <a class="changeset-link headerlink reference internal" href="#change-3c5bac377a13b20bf0772508894cbe60">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-777">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2669">&#xFF03;2669</a></span></p></li><li><p id="change-0.8.0-41"><span class="yiyi-st" id="yiyi-778"><span class="target" id="change-5e896a6fed3501b6f3e9ee0f8e580fdc"><strong>[bug] [examples] </strong></span>Fixed a regression in the examples/dogpile_caching example which was due to the change in <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2614">#2614</a>.<a class="changeset-link headerlink reference internal" href="#change-5e896a6fed3501b6f3e9ee0f8e580fdc">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.8.0b2"><h2><span class="yiyi-st" id="yiyi-780">0.8.0b2 <a class="headerlink" href="#change-0.8.0b2" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-893">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2012&#x5E74;12&#x6708;14&#x65E5;</span><div class="section" id="change-0.8.0b2-orm"><h3><span class="yiyi-st" id="yiyi-781">ORM <a class="headerlink" href="#change-0.8.0b2-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b2-0"><span class="yiyi-st" id="yiyi-782"><span class="target" id="change-0440aa0e8373498cdeae16c5b150cb90"><strong>[orm] [feature] </strong></span>Added <a class="reference internal" href="orm_query.html#sqlalchemy.util.KeyedTuple._asdict" title="sqlalchemy.util.KeyedTuple._asdict"><code class="xref py py-meth docutils literal"><span class="pre">KeyedTuple._asdict()</span></code></a> and <a class="reference internal" href="orm_query.html#sqlalchemy.util.KeyedTuple._fields" title="sqlalchemy.util.KeyedTuple._fields"><code class="xref py py-attr docutils literal"><span class="pre">KeyedTuple._fields</span></code></a> to the <a class="reference internal" href="orm_query.html#sqlalchemy.util.KeyedTuple" title="sqlalchemy.util.KeyedTuple"><code class="xref py py-class docutils literal"><span class="pre">KeyedTuple</span></code></a> class to provide some degree of compatibility with the Python standard library <code class="docutils literal"><span class="pre">collections.namedtuple()</span></code>.<a class="changeset-link headerlink reference internal" href="#change-0440aa0e8373498cdeae16c5b150cb90">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-783">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2601">&#xFF03;2601</a></span></p></li><li><p id="change-0.8.0b2-1"><span class="yiyi-st" id="yiyi-784"><span class="target" id="change-cfadd6c030d66215e58af3ce677a864f"><strong>[orm] [feature] </strong></span>&#x5141;&#x8BB8;&#x5728;&#x4E3A;&#x5173;&#x7CFB;&#x5B9A;&#x4E49;&#x4E3B;&#x8981;&#x548C;&#x6B21;&#x8981;&#x8FDE;&#x63A5;&#x65F6;&#x4F7F;&#x7528;&#x540C;&#x4E49;&#x8BCD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cfadd6c030d66215e58af3ce677a864f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b2-2"><span class="yiyi-st" id="yiyi-785"><span class="target" id="change-c6b226a6956872361404c4b013d44c5d"><strong>[orm] [feature] [extensions] </strong></span>The <a class="reference internal" href="orm_extensions_mutable.html#module-sqlalchemy.ext.mutable" title="sqlalchemy.ext.mutable"><code class="xref py py-mod docutils literal"><span class="pre">sqlalchemy.ext.mutable</span></code></a> extension now includes the example <a class="reference internal" href="orm_extensions_mutable.html#sqlalchemy.ext.mutable.MutableDict" title="sqlalchemy.ext.mutable.MutableDict"><code class="xref py py-class docutils literal"><span class="pre">MutableDict</span></code></a> class as part of the extension.<a class="changeset-link headerlink reference internal" href="#change-c6b226a6956872361404c4b013d44c5d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b2-3"><span class="yiyi-st" id="yiyi-786"><span class="target" id="change-8d958f76ee47f7155365772401087d1f"><strong>[orm] [bug] </strong></span>The <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_from()</span></code></a> method can now be used with a <a class="reference internal" href="orm_query.html#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal"><span class="pre">aliased()</span></code></a> construct without it interfering with the entities being selected. </span><span class="yiyi-st" id="yiyi-787">&#x57FA;&#x672C;&#x4E0A;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x9648;&#x8FF0;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ua</span> <span class="o">=</span> <span class="n">aliased</span><span class="p">(</span><span class="n">User</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="n">ua</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">name</span> <span class="o">&gt;</span> <span class="n">ua</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-788">&#x5C06;&#x4FDD;&#x6301;SELECT&#x7684;&#x5217;&#x5B50;&#x53E5;&#x4F5C;&#x4E3A;&#x6765;&#x81EA;&#x672A;&#x6307;&#x5B9A;&#x7684;&#x201C;&#x7528;&#x6237;&#x201D;&#xFF0C;&#x5982;&#x6307;&#x5B9A;&#x7684;&#x90A3;&#x6837;&#xFF1B; select_from&#x53EA;&#x53D1;&#x751F;&#x5728;FROM&#x5B50;&#x53E5;&#x4E2D;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>SELECT users.name AS users_name FROM users AS users_1
JOIN users ON users.name &lt; users_1.name</pre></div></div><p><span class="yiyi-st" id="yiyi-789">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x6B64;&#x884C;&#x4E3A;&#x4E0E;<a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.select_from" title="sqlalchemy.orm.query.Query.select_from"><code class="xref py py-meth docutils literal"><span class="pre">Query.select_from()</span></code></a>&#x7684;&#x539F;&#x59CB;&#x8F83;&#x65E7;&#x7528;&#x4F8B;&#x5F62;&#x6210;&#x5BF9;&#x6BD4;&#xFF0C;&#x8FD9;&#x662F;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x53EF;&#x9009;&#x9879;&#x91CD;&#x65B0;&#x8868;&#x793A;&#x6620;&#x5C04;&#x5B9E;&#x4F53;&#x7684;&#x60C5;&#x51B5;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span>\
  <span class="n">select_from</span><span class="p">(</span><span class="n">user_table</span><span class="o">.</span><span class="n">select</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">))</span></pre></div></div><p><span class="yiyi-st" id="yiyi-790">&#x5176;&#x4E2D;&#x4EA7;&#x751F;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>SELECT anon_1.name AS anon_1_name FROM (SELECT users.id AS id,
users.name AS name FROM users WHERE users.id &gt; :id_1) AS anon_1</pre></div></div><p><span class="yiyi-st" id="yiyi-791">&#x540E;&#x4E00;&#x4E2A;&#x7528;&#x4F8B;&#x7684;&#x201C;&#x522B;&#x540D;&#x201D;&#x884C;&#x4E3A;&#x963B;&#x788D;&#x4E86;&#x524D;&#x4E00;&#x4E2A;&#x7528;&#x4F8B;&#x3002;</span><span class="yiyi-st" id="yiyi-792">&#x8BE5;&#x65B9;&#x6CD5;&#x73B0;&#x5728;&#x7279;&#x522B;&#x8003;&#x8651;&#x50CF;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">expression.select()</span></code></a>&#x6216;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.alias" title="sqlalchemy.sql.expression.alias"><code class="xref py py-func docutils literal"><span class="pre">expression.alias()</span></code></a>&#x8FD9;&#x6837;&#x7684;SQL&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4E0E;&#x50CF;<a class="reference internal" href="orm_query.html#sqlalchemy.orm.aliased" title="sqlalchemy.orm.aliased"><code class="xref py py-func docutils literal"><span class="pre">aliased()</span></code></a></span></p><span class="yiyi-st" id="yiyi-794"> <a class="changeset-link headerlink reference internal" href="#change-8d958f76ee47f7155365772401087d1f">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-793">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2635">&#xFF03;2635</a></span></p></li><li><p id="change-0.8.0b2-4"><span class="yiyi-st" id="yiyi-795"><span class="target" id="change-366b3ffffab4272d3ea9d5c58bc6bdaa"><strong>[orm] [bug] </strong></span>The <a class="reference internal" href="orm_extensions_mutable.html#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal"><span class="pre">MutableComposite</span></code></a> type did not allow for the <a class="reference internal" href="orm_extensions_mutable.html#sqlalchemy.ext.mutable.MutableBase.coerce" title="sqlalchemy.ext.mutable.MutableBase.coerce"><code class="xref py py-meth docutils literal"><span class="pre">MutableBase.coerce()</span></code></a> method to be used, even though the code seemed to indicate this intent, so this now works and a brief example is added. </span><span class="yiyi-st" id="yiyi-796">&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x526F;&#x4F5C;&#x7528;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x7684;&#x673A;&#x5236;&#x5DF2;&#x7ECF;&#x6539;&#x53D8;&#xFF0C;&#x6240;&#x4EE5;&#x65B0;&#x7684;<a class="reference internal" href="orm_extensions_mutable.html#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal"><span class="pre">MutableComposite</span></code></a>&#x7C7B;&#x578B;&#x4E0D;&#x518D;&#x6DFB;&#x52A0;&#x6BCF;&#x4E2A;&#x7C7B;&#x578B;&#x7684;&#x5168;&#x5C40;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x3002;</span><span class="yiyi-st" id="yiyi-797">&#x540C;&#x6837;&#x5728;0.7.10. <a class="changeset-link headerlink reference internal" href="#change-366b3ffffab4272d3ea9d5c58bc6bdaa">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-798">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2624">&#xFF03;2624</a></span></p></li><li><p id="change-0.8.0b2-5"><span class="yiyi-st" id="yiyi-799"><span class="target" id="change-64d3ae8c4166dd3b314fb1255ed2e4ed"><strong>[orm] [bug] </strong></span>A second overhaul of aliasing/internal pathing mechanics now allows two subclasses to have different relationships of the same name, supported with subquery or joined eager loading on both simultaneously when a full polymorphic load is used.<a class="changeset-link headerlink reference internal" href="#change-64d3ae8c4166dd3b314fb1255ed2e4ed">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-800">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2614">&#xFF03;2614</a></span></p></li><li><p id="change-0.8.0b2-6"><span class="yiyi-st" id="yiyi-801"><span class="target" id="change-e07c11d743d54ffa7ab235cbc3a58029"><strong>[orm] [bug] </strong></span>Fixed bug whereby a multi-hop subqueryload within a particular with_polymorphic load would produce a KeyError. </span><span class="yiyi-st" id="yiyi-802">&#x5229;&#x7528;&#x4E0E;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2614">&#xFF03;2614</a>&#x76F8;&#x540C;&#x7684;&#x5185;&#x90E8;&#x8DEF;&#x5F84;&#x68C0;&#x4FEE;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e07c11d743d54ffa7ab235cbc3a58029">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-803">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2617">&#xFF03;2617</a></span></p></li><li><p id="change-0.8.0b2-7"><span class="yiyi-st" id="yiyi-804"><span class="target" id="change-c8eac4ae99fd0082c6ae42044cda7547"><strong>[orm] [bug] </strong></span>Fixed regression where query.update() would produce an error if an object matched by the &#x201C;fetch&#x201D; synchronization strategy wasn&#x2019;t locally present. </span><span class="yiyi-st" id="yiyi-805">&#x611F;&#x8C22;Scott Torborg&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c8eac4ae99fd0082c6ae42044cda7547">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-806">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2602">&#xFF03;2602</a></span></p></li></ul></div><div class="section" id="change-0.8.0b2-engine"><h3><span class="yiyi-st" id="yiyi-807">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.8.0b2-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b2-8"><span class="yiyi-st" id="yiyi-808"><span class="target" id="change-28a54006aa013faf00f812929e7c24f9"><strong>[engine] [feature] </strong></span>The <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection.connect" title="sqlalchemy.engine.Connection.connect"><code class="xref py py-meth docutils literal"><span class="pre">Connection.connect()</span></code></a> and <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection.contextual_connect" title="sqlalchemy.engine.Connection.contextual_connect"><code class="xref py py-meth docutils literal"><span class="pre">Connection.contextual_connect()</span></code></a> methods now return a &#x201C;branched&#x201D; version so that the <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection.close" title="sqlalchemy.engine.Connection.close"><code class="xref py py-meth docutils literal"><span class="pre">Connection.close()</span></code></a> method can be called on the returned connection without affecting the original. </span><span class="yiyi-st" id="yiyi-809">&#x5728;&#x4F7F;&#x7528;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>&#x548C;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x4E0A;&#x4E0B;&#x6587;&#x7BA1;&#x7406;&#x5668;&#x65F6;&#x5141;&#x8BB8;&#x5BF9;&#x79F0;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">conn</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">c</span><span class="p">:</span> <span class="c1"># leaves the Connection open</span>
  <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">c</span><span class="p">:</span>  <span class="c1"># closes the Connection</span>
  <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">)</span></pre></div></div><span class="yiyi-st" id="yiyi-810"> <a class="changeset-link headerlink reference internal" href="#change-28a54006aa013faf00f812929e7c24f9">&#xB6;</a></span><p></p></li><li><p id="change-0.8.0b2-9"><span class="yiyi-st" id="yiyi-811"><span class="target" id="change-77b9a2a46687b7655e2116a17db1353e"><strong>[engine] [bug] </strong></span>Fixed <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.MetaData.reflect" title="sqlalchemy.schema.MetaData.reflect"><code class="xref py py-meth docutils literal"><span class="pre">MetaData.reflect()</span></code></a> to correctly use the given <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>, if given, without opening a second connection from that connection&#x2019;s <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>.<a class="changeset-link headerlink reference internal" href="#change-77b9a2a46687b7655e2116a17db1353e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-812">This change is also <strong>backported</strong> to: 0.7.10</span></p><p><span class="yiyi-st" id="yiyi-813">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2604">&#xFF03;2604</a></span></p></li><li><p id="change-0.8.0b2-10"><span class="yiyi-st" id="yiyi-814"><span class="target" id="change-3493b2118cfad669ab5817bd37983b18"><strong>[engine] </strong></span>&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal"><span class="pre">MetaData</span></code></a>&#x7684;&#x201C;reflect = True&#x201D;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-815">&#x8BF7;&#x4F7F;&#x7528;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.MetaData.reflect" title="sqlalchemy.schema.MetaData.reflect"><code class="xref py py-meth docutils literal"><span class="pre">MetaData.reflect()</span></code></a>&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3493b2118cfad669ab5817bd37983b18">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.0b2-sql"><h3><span class="yiyi-st" id="yiyi-816">SQL <a class="headerlink" href="#change-0.8.0b2-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b2-11"><span class="yiyi-st" id="yiyi-817"><span class="target" id="change-ccda1d442536d0ccedacde3786a7a049"><strong>[sql] [feature] </strong></span>The <a class="reference internal" href="core_dml.html#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal"><span class="pre">Insert</span></code></a> construct now supports multi-valued inserts, that is, an INSERT that renders like &#x201C;INSERT INTO table VALUES (...), (...), ...&#x201D;. </span><span class="yiyi-st" id="yiyi-818">Postgresql&#xFF0C;SQLite&#x548C;MySQL&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-819">&#x975E;&#x5E38;&#x611F;&#x8C22;Idan Kamara&#x4E3A;&#x6B64;&#x505A;&#x4E86;&#x4FEE;&#x6539;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-820">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-821"><a class="reference internal" href="migration_08.html#feature-2623"><span>Multiple-VALUES support for Insert</span></a>&#x7684;&#x591A;&#x4E2A;VALUES&#x652F;&#x6301;</span></p></div><span class="yiyi-st" id="yiyi-823"> <a class="changeset-link headerlink reference internal" href="#change-ccda1d442536d0ccedacde3786a7a049">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-822">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2623">&#xFF03;2623</a></span></p></li><li><p id="change-0.8.0b2-12"><span class="yiyi-st" id="yiyi-824"><span class="target" id="change-9b15516022fbd264038c54ed46d7b9c9"><strong>[sql] [bug] </strong></span>Fixed bug where using server_onupdate=<fetchedvalue|defaultclause> without passing the &#x201C;for_update=True&#x201D; flag would apply the default object to the server_default, blowing away whatever was there. </fetchedvalue|defaultclause></span><span class="yiyi-st" id="yiyi-825">&#x660E;&#x786E;&#x7684;for_update = True&#x53C2;&#x6570;&#x4E0D;&#x5E94;&#x8BE5;&#x4E0E;&#x6B64;&#x7528;&#x6CD5;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF08;&#x5C24;&#x5176;&#x662F;&#x56E0;&#x4E3A;&#x6587;&#x6863;&#x663E;&#x793A;&#x7684;&#x793A;&#x4F8B;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x5B83;&#xFF09;&#xFF0C;&#x56E0;&#x6B64;&#x73B0;&#x5728;&#x4F7F;&#x7528;&#x7ED9;&#x5B9A;&#x7684;&#x9ED8;&#x8BA4;&#x5BF9;&#x8C61;&#x7684;&#x526F;&#x672C;&#x5728;&#x5185;&#x90E8;&#x8FDB;&#x884C;&#x6392;&#x5217;&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x6807;&#x5FD7;&#x672A;&#x8BBE;&#x7F6E;&#x4E3A;&#x4EC0;&#x4E48;&#x5BF9;&#x5E94;&#x4E8E;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9b15516022fbd264038c54ed46d7b9c9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-826">This change is also <strong>backported</strong> to: 0.7.10</span></p><p><span class="yiyi-st" id="yiyi-827">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2631">&#xFF03;2631</a></span></p></li><li><p id="change-0.8.0b2-13"><span class="yiyi-st" id="yiyi-828"><span class="target" id="change-6a9d7c37dc85bb3ae8b5101236afc248"><strong>[sql] [bug] </strong></span>Fixed a regression caused by <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2410">#2410</a> whereby a <a class="reference internal" href="core_constraints.html#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal"><span class="pre">CheckConstraint</span></code></a> would apply itself back to the original table during a <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table.tometadata" title="sqlalchemy.schema.Table.tometadata"><code class="xref py py-meth docutils literal"><span class="pre">Table.tometadata()</span></code></a> operation, as it would parse the SQL expression for a parent table. </span><span class="yiyi-st" id="yiyi-829">&#x8BE5;&#x64CD;&#x4F5C;&#x73B0;&#x5728;&#x590D;&#x5236;&#x7ED9;&#x5B9A;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x4EE5;&#x5BF9;&#x5E94;&#x65B0;&#x8868;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6a9d7c37dc85bb3ae8b5101236afc248">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-830">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2633">&#xFF03;2633</a></span></p></li><li><p id="change-0.8.0b2-14"><span class="yiyi-st" id="yiyi-831"><span class="target" id="change-52d00ac5ac3a16908d185a9b7a5979bc"><strong>[sql] [bug] </strong></span>Fixed bug whereby using a label_length on dialect that was smaller than the size of actual column identifiers would fail to render the columns correctly in a SELECT statement.<a class="changeset-link headerlink reference internal" href="#change-52d00ac5ac3a16908d185a9b7a5979bc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-832">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2610">&#xFF03;2610</a></span></p></li><li><p id="change-0.8.0b2-15"><span class="yiyi-st" id="yiyi-833"><span class="target" id="change-d646ee623c01a51de03c5ab41dca6832"><strong>[sql] [bug] </strong></span>The <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.DECIMAL" title="sqlalchemy.types.DECIMAL"><code class="xref py py-class docutils literal"><span class="pre">DECIMAL</span></code></a> type now honors the &#x201C;precision&#x201D; and &#x201C;scale&#x201D; arguments when rendering DDL.<a class="changeset-link headerlink reference internal" href="#change-d646ee623c01a51de03c5ab41dca6832">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-834">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2618">&#xFF03;2618</a></span></p></li><li><p id="change-0.8.0b2-16"><span class="yiyi-st" id="yiyi-835"><span class="target" id="change-3a51c5d14168a9eb00ee8360c4058315"><strong>[sql] [bug] </strong></span>Made an adjustment to the &#x201C;boolean&#x201D;, (i.e. <code class="docutils literal"><span class="pre">__nonzero__</span></code>) evaluation of binary expressions, i.e. <code class="docutils literal"><span class="pre">x1</span> <span class="pre">==</span> <span class="pre">x2</span></code>, such that the &#x201C;auto-grouping&#x201D; applied by <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.BinaryExpression" title="sqlalchemy.sql.expression.BinaryExpression"><code class="xref py py-class docutils literal"><span class="pre">BinaryExpression</span></code></a> in some cases won&#x2019;t get in the way of this comparison. </span><span class="yiyi-st" id="yiyi-836">&#x4EE5;&#x524D;&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">expr1</span> <span class="o">=</span> <span class="n">mycolumn</span> <span class="o">&gt;</span> <span class="mi">2</span>
<span class="nb">bool</span><span class="p">(</span><span class="n">expr1</span> <span class="o">==</span> <span class="n">expr1</span><span class="p">)</span></pre></div></div><p><span class="yiyi-st" id="yiyi-837">Would evaluate as <code class="docutils literal"><span class="pre">False</span></code>, even though this is an identity comparison, because <code class="docutils literal"><span class="pre">mycolumn</span> <span class="pre">&gt;</span> <span class="pre">2</span></code> would be &#x201C;grouped&#x201D; before being placed into the <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.BinaryExpression" title="sqlalchemy.sql.expression.BinaryExpression"><code class="xref py py-class docutils literal"><span class="pre">BinaryExpression</span></code></a>, thus changing its identity. </span><span class="yiyi-st" id="yiyi-838"><a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.BinaryExpression" title="sqlalchemy.sql.expression.BinaryExpression"><code class="xref py py-class docutils literal"><span class="pre">BinaryExpression</span></code></a> now keeps track of the &#x201C;original&#x201D; objects passed in. </span><span class="yiyi-st" id="yiyi-839">Additionally the <code class="docutils literal"><span class="pre">__nonzero__</span></code> method now only returns if the operator is <code class="docutils literal"><span class="pre">==</span></code> or <code class="docutils literal"><span class="pre">!=</span></code> - all others raise <code class="docutils literal"><span class="pre">TypeError</span></code>.</span></p><span class="yiyi-st" id="yiyi-841"> <a class="changeset-link headerlink reference internal" href="#change-3a51c5d14168a9eb00ee8360c4058315">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-840">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2621">&#xFF03;2621</a></span></p></li><li><p id="change-0.8.0b2-17"><span class="yiyi-st" id="yiyi-842"><span class="target" id="change-bf1c1943e4cb7d7f56b4a8bf06cb5460"><strong>[sql] [bug] </strong></span>Fixed a gotcha where inadvertently calling list() on a <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal"><span class="pre">ColumnElement</span></code></a> would go into an endless loop, if <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.__getitem__" title="sqlalchemy.sql.operators.ColumnOperators.__getitem__"><code class="xref py py-meth docutils literal"><span class="pre">ColumnOperators.__getitem__()</span></code></a> were implemented. </span><span class="yiyi-st" id="yiyi-843">&#x65B0;&#x7684;NotImplementedError&#x901A;&#x8FC7;<code class="docutils literal"><span class="pre">__iter__()</span></code>&#x53D1;&#x51FA;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bf1c1943e4cb7d7f56b4a8bf06cb5460">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b2-18"><span class="yiyi-st" id="yiyi-844"><span class="target" id="change-ebd2310b4e33e8f897da33a8c13a6afd"><strong>[sql] [bug] </strong></span>Fixed bug in type_coerce() whereby typing information could be lost if the statement were used as a subquery inside of another statement, as well as other similar situations. </span><span class="yiyi-st" id="yiyi-845">&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x5F53;Oracle / mssql&#x65B9;&#x8A00;&#x5E94;&#x7528;&#x9650;&#x5236;/&#x504F;&#x79FB;&#x91CF;&#x5305;&#x88C5;&#x65F6;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x8F93;&#x5165;&#x4FE1;&#x606F;&#x4E22;&#x5931;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ebd2310b4e33e8f897da33a8c13a6afd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-846">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2603">&#xFF03;2603</a></span></p></li><li><p id="change-0.8.0b2-19"><span class="yiyi-st" id="yiyi-847"><span class="target" id="change-9f5dab3cd007a03e0d6c9ab38681ab97"><strong>[sql] [bug] </strong></span>Fixed bug whereby the &#x201D;.key&#x201D; of a Column wasn&#x2019;t being used when producing a &#x201C;proxy&#x201D; of the column against a selectable. </span><span class="yiyi-st" id="yiyi-848">&#x8FD9;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x5728;0.7&#x7248;&#x672C;&#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;0.7&#x5728;&#x66F4;&#x5E7F;&#x6CDB;&#x7684;&#x573A;&#x666F;&#x4E2D;&#x5E76;&#x4E0D;&#x5C0A;&#x91CD;&#x201C;.key&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9f5dab3cd007a03e0d6c9ab38681ab97">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-849">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2597">&#xFF03;2597</a></span></p></li></ul></div><div class="section" id="change-0.8.0b2-postgresql"><h3><span class="yiyi-st" id="yiyi-850">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.8.0b2-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b2-20"><span class="yiyi-st" id="yiyi-851"><span class="target" id="change-9d4ccc96c5c80a27fe89287588545998"><strong>[postgresql] [feature] </strong></span><a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.HSTORE" title="sqlalchemy.dialects.postgresql.HSTORE"><code class="xref py py-class docutils literal"><span class="pre">HSTORE</span></code></a> is now available in the Postgresql dialect. </span><span class="yiyi-st" id="yiyi-852">&#x5982;&#x679C;&#x6709;&#x7684;&#x8BDD;&#xFF0C;&#x4E5F;&#x4F1A;&#x4F7F;&#x7528;psycopg2&#x7684;&#x6269;&#x5C55;&#x3002;</span><span class="yiyi-st" id="yiyi-853">Courtesy AudriusKa&#x17E;ukauskas&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9d4ccc96c5c80a27fe89287588545998">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-854">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2606">&#xFF03;2606</a></span></p></li></ul></div><div class="section" id="change-0.8.0b2-sqlite"><h3><span class="yiyi-st" id="yiyi-855">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.8.0b2-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b2-21"><span class="yiyi-st" id="yiyi-856"><span class="target" id="change-b60ca8c89667c3fd095716b23d5c82dc"><strong>[sqlite] [bug] </strong></span>&#x5BF9;0.7.9&#x7248;&#x672C;&#x4E2D;&#x53D1;&#x5E03;&#x7684;SQLite&#x76F8;&#x5173;&#x95EE;&#x9898;&#x8FDB;&#x884C;&#x66F4;&#x591A;&#x8C03;&#x6574;&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;&#x53CD;&#x6620;&#x5916;&#x952E;&#x65F6;&#x62E6;&#x622A;&#x65E7;&#x7248;SQLite&#x5F15;&#x7528;&#x5B57;&#x7B26;&#x3002;</span><span class="yiyi-st" id="yiyi-857">&#x9664;&#x4E86;&#x62E6;&#x622A;&#x53CC;&#x5F15;&#x53F7;&#x5916;&#xFF0C;&#x5176;&#x4ED6;&#x5F15;&#x53F7;&#x5B57;&#x7B26;&#xFF08;&#x5982;&#x62EC;&#x53F7;&#xFF0C;&#x53CD;&#x5F15;&#x53F7;&#x548C;&#x5355;&#x5F15;&#x53F7;&#xFF09;&#x73B0;&#x5728;&#x4E5F;&#x88AB;&#x62E6;&#x622A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b60ca8c89667c3fd095716b23d5c82dc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-858">This change is also <strong>backported</strong> to: 0.7.10</span></p><p><span class="yiyi-st" id="yiyi-859">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2568">&#xFF03;2568</a></span></p></li></ul></div><div class="section" id="change-0.8.0b2-mssql"><h3><span class="yiyi-st" id="yiyi-860">MSSQL <a class="headerlink" href="#change-0.8.0b2-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b2-22"><span class="yiyi-st" id="yiyi-861"><span class="target" id="change-2cd1695c575daf74cad23ecb835cdd5c"><strong>[mssql] [feature] </strong></span>&#x652F;&#x6301;&#x53CD;&#x6620;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x7684;&#x201C;&#x540D;&#x79F0;&#x201D;&#xFF0C;&#x7531;Dave Moore&#x63D0;&#x4F9B;<a class="changeset-link headerlink reference internal" href="#change-2cd1695c575daf74cad23ecb835cdd5c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-862">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2600">&#xFF03;2600</a></span></p></li><li><p id="change-0.8.0b2-23"><span class="yiyi-st" id="yiyi-863"><span class="target" id="change-b5408177e747087a3a191d706d2ac7e9"><strong>[mssql] [bug] </strong></span>Fixed bug whereby using &#x201C;key&#x201D; with Column in conjunction with &#x201C;schema&#x201D; for the owning Table would fail to locate result rows due to the MSSQL dialect&#x2019;s &#x201C;schema rendering&#x201D; logic&#x2019;s failure to take .key into account.<a class="changeset-link headerlink reference internal" href="#change-b5408177e747087a3a191d706d2ac7e9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-864">This change is also <strong>backported</strong> to: 0.7.10</span></p><p></p></li></ul></div><div class="section" id="change-0.8.0b2-oracle"><h3><span class="yiyi-st" id="yiyi-865">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.8.0b2-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b2-24"><span class="yiyi-st" id="yiyi-866"><span class="target" id="change-106aeb155ae3728a0c919c289e4726eb"><strong>[oracle] [bug] </strong></span>Fixed table reflection for Oracle when accessing a synonym that refers to a DBLINK remote database; while the syntax has been present in the Oracle dialect for some time, up until now it has never been tested. </span><span class="yiyi-st" id="yiyi-867">&#x8BE5;&#x8BED;&#x6CD5;&#x5DF2;&#x9488;&#x5BF9;&#x94FE;&#x63A5;&#x5230;&#x81EA;&#x8EAB;&#x7684;&#x793A;&#x4F8B;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x4E86;&#x6D4B;&#x8BD5;&#xFF0C;&#x4F46;&#x5728;&#x67E5;&#x8BE2;&#x8FDC;&#x7A0B;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x627E;&#x8868;&#x4FE1;&#x606F;&#x65F6;&#xFF0C;&#x5BF9;&#x4E8E;&#x201C;&#x6240;&#x6709;&#x8005;&#x201D;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x4EC0;&#x4E48;&#x8FD8;&#x5B58;&#x5728;&#x4E00;&#x4E9B;&#x4E0D;&#x786E;&#x5B9A;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-868">&#x76EE;&#x524D;&#xFF0C;&#x6765;&#x81EA;user_db_links&#x7684;&#x201C;username&#x201D;&#x7684;&#x503C;&#x7528;&#x4E8E;&#x5339;&#x914D;&#x201C;&#x6240;&#x6709;&#x8005;&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-106aeb155ae3728a0c919c289e4726eb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-869">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2619">&#xFF03;2619</a></span></p></li><li><p id="change-0.8.0b2-25"><span class="yiyi-st" id="yiyi-870"><span class="target" id="change-ac22d47fb2190de7d5fdd45ea30d4bd0"><strong>[oracle] [bug] </strong></span>The Oracle LONG type, while an unbounded text type, does not appear to use the cx_Oracle.LOB type when result rows are returned, so the dialect has been repaired to exclude LONG from having cx_Oracle.LOB filtering applied. </span><span class="yiyi-st" id="yiyi-871">&#x540C;&#x6837;&#x5728;0.7.10. <a class="changeset-link headerlink reference internal" href="#change-ac22d47fb2190de7d5fdd45ea30d4bd0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-872">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2620">&#xFF03;2620</a></span></p></li><li><p id="change-0.8.0b2-26"><span class="yiyi-st" id="yiyi-873"><span class="target" id="change-cd9ec13cd0145a84de78a595fe61506f"><strong>[oracle] [bug] </strong></span>Repaired the usage of <code class="docutils literal"><span class="pre">.prepare()</span></code> in conjunction with cx_Oracle so that a return value of <code class="docutils literal"><span class="pre">False</span></code> will result in no call to <code class="docutils literal"><span class="pre">connection.commit()</span></code>, hence avoiding &#x201C;no transaction&#x201D; errors. </span><span class="yiyi-st" id="yiyi-874">&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x8BC1;&#x660E;&#x4E24;&#x9636;&#x6BB5;&#x4E8B;&#x52A1;&#x4EE5;SQLAlchemy&#x548C;cx_oracle&#x7684;&#x65B9;&#x5F0F;&#x53D1;&#x6325;&#x4F5C;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x4E2D;&#x89C2;&#x5BDF;&#x5230;&#x8B66;&#x544A;&#xFF1B;&#x68C0;&#x67E5;&#x6587;&#x6863;&#x7684;&#x7EC6;&#x8282;&#x3002;</span><span class="yiyi-st" id="yiyi-875">&#x540C;&#x6837;&#x5728;0.7.10. <a class="changeset-link headerlink reference internal" href="#change-cd9ec13cd0145a84de78a595fe61506f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-876">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2611">&#xFF03;2611</a></span></p></li></ul></div><div class="section" id="change-0.8.0b2-firebird"><h3><span class="yiyi-st" id="yiyi-877">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.8.0b2-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b2-27"><span class="yiyi-st" id="yiyi-878"><span class="target" id="change-9ff9e7628c1d8b7060924fafe6844fe0"><strong>[firebird] [bug] </strong></span>&#x4E3A;&#x5B9E;&#x9A8C;&#x6027;&#x7684;&#x201C;firebird + fdb&#x201D;&#x65B9;&#x8A00;&#x6DFB;&#x52A0;&#x4E86;&#x201C;fdb&#x201D;&#x7F3A;&#x5C11;&#x7684;&#x5BFC;&#x5165;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9ff9e7628c1d8b7060924fafe6844fe0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-879">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2622">&#xFF03;2622</a></span></p></li></ul></div><div class="section" id="change-0.8.0b2-misc"><h3><span class="yiyi-st" id="yiyi-880">&#x6742;&#x9879;<a class="headerlink" href="#change-0.8.0b2-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b2-28"><span class="yiyi-st" id="yiyi-881"><span class="target" id="change-cf6d50791e201a7d553f5aa10db3cbdc"><strong>[feature] [sybase] </strong></span>&#x53CD;&#x5C04;&#x652F;&#x6301;&#x5DF2;&#x6DFB;&#x52A0;&#x5230;Sybase&#x65B9;&#x8A00;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-882">&#x975E;&#x5E38;&#x611F;&#x8C22;Ben Trofatter&#x6240;&#x505A;&#x7684;&#x6240;&#x6709;&#x5F00;&#x53D1;&#x548C;&#x6D4B;&#x8BD5;&#x5DE5;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cf6d50791e201a7d553f5aa10db3cbdc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-883">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1753">&#xFF03;1753</a></span></p></li><li><p id="change-0.8.0b2-29"><span class="yiyi-st" id="yiyi-884"><span class="target" id="change-960a01e29400ef086e01dfbfafb4913c"><strong>[feature] [pool] </strong></span>The <a class="reference internal" href="core_pooling.html#sqlalchemy.pool.Pool" title="sqlalchemy.pool.Pool"><code class="xref py py-class docutils literal"><span class="pre">Pool</span></code></a> will now log all connection.close() operations equally, including closes which occur for invalidated connections, detached connections, and connections beyond the pool capacity.<a class="changeset-link headerlink reference internal" href="#change-960a01e29400ef086e01dfbfafb4913c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b2-30"><span class="yiyi-st" id="yiyi-885"><span class="target" id="change-e08369ab111a8e4b26bc44e495aa0d46"><strong>[feature] [pool] </strong></span>The <a class="reference internal" href="core_pooling.html#sqlalchemy.pool.Pool" title="sqlalchemy.pool.Pool"><code class="xref py py-class docutils literal"><span class="pre">Pool</span></code></a> now consults the <a class="reference internal" href="core_internals.html#sqlalchemy.engine.interfaces.Dialect" title="sqlalchemy.engine.interfaces.Dialect"><code class="xref py py-class docutils literal"><span class="pre">Dialect</span></code></a> for functionality regarding how the connection should be &#x201C;auto rolled back&#x201D;, as well as closed. </span><span class="yiyi-st" id="yiyi-886">&#x8FD9;&#x4E3A;&#x4E8B;&#x52A1;&#x8303;&#x56F4;&#x8D4B;&#x4E88;&#x4E86;&#x65B9;&#x8A00;&#x7684;&#x66F4;&#x591A;&#x63A7;&#x5236;&#x6743;&#xFF0C;&#x4EE5;&#x4FBF;&#x6211;&#x4EEC;&#x80FD;&#x591F;&#x66F4;&#x597D;&#x5730;&#x5B9E;&#x73B0;&#x50CF;pysqlite&#x548C;cx_oracle&#x53EF;&#x80FD;&#x9700;&#x8981;&#x7684;&#x4E8B;&#x52A1;&#x53D8;&#x901A;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e08369ab111a8e4b26bc44e495aa0d46">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-887">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2611">&#xFF03;2611</a></span></p></li><li><p id="change-0.8.0b2-31"><span class="yiyi-st" id="yiyi-888"><span class="target" id="change-a71308c2787ff6db34f03853edf6dff2"><strong>[feature] [pool] </strong></span>&#x6DFB;&#x52A0;&#x65B0;&#x7684;<a class="reference internal" href="core_events.html#sqlalchemy.events.PoolEvents.reset" title="sqlalchemy.events.PoolEvents.reset"><code class="xref py py-meth docutils literal"><span class="pre">PoolEvents.reset()</span></code></a>&#x6302;&#x94A9;&#x4EE5;&#x5728;&#x8FDE;&#x63A5;&#x81EA;&#x52A8;&#x56DE;&#x6EDA;&#x4E4B;&#x524D;&#x6355;&#x83B7;&#x8BE5;&#x4E8B;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;&#x5230;&#x6C60;&#x3002;</span><span class="yiyi-st" id="yiyi-889">&#x4E0E;<a class="reference internal" href="core_events.html#sqlalchemy.events.ConnectionEvents.rollback" title="sqlalchemy.events.ConnectionEvents.rollback"><code class="xref py py-meth docutils literal"><span class="pre">ConnectionEvents.rollback()</span></code></a>&#x4E00;&#x8D77;&#xFF0C;&#x8FD9;&#x5141;&#x8BB8;&#x62E6;&#x622A;&#x6240;&#x6709;&#x56DE;&#x6EDA;&#x4E8B;&#x4EF6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a71308c2787ff6db34f03853edf6dff2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b2-32"><span class="yiyi-st" id="yiyi-890"><span class="target" id="change-0f4be8723d2662b5128985703f1efe1b"><strong>[informix] </strong></span>Some cruft regarding informix transaction handling has been removed, including a feature that would skip calling commit()/rollback() as well as some hardcoded isolation level assumptions on begin().. </span><span class="yiyi-st" id="yiyi-891">&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x7528;&#x6237;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x4E5F;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5BF9;Informix&#x6570;&#x636E;&#x5E93;&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x8A00;&#x7684;&#x5730;&#x4F4D;&#x8FD8;&#x4E0D;&#x662F;&#x5F88;&#x6E05;&#x695A;&#x3002;</span><span class="yiyi-st" id="yiyi-892">&#x5982;&#x679C;&#x6709;&#x4EBA;&#x8BBF;&#x95EE;Informix&#x60F3;&#x8981;&#x5E2E;&#x52A9;&#x6D4B;&#x8BD5;&#x8FD9;&#x79CD;&#x65B9;&#x8A00;&#xFF0C;&#x8BF7;&#x544A;&#x8BC9;&#x6211;&#x4EEC;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0f4be8723d2662b5128985703f1efe1b">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.8.0b1"><h2><span class="yiyi-st" id="yiyi-894">0.8.0b1 <a class="headerlink" href="#change-0.8.0b1" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1241">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2012&#x5E74;10&#x6708;30&#x65E5;</span><div class="section" id="change-0.8.0b1-general"><h3><span class="yiyi-st" id="yiyi-895">&#x4E00;&#x822C;<a class="headerlink" href="#change-0.8.0b1-general" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b1-0"><span class="yiyi-st" id="yiyi-896"><span class="target" id="change-5cdfbadad1d1ab8b583def86bfe1c3b8"><strong>[general] [removed] </strong></span>&#x5B8C;&#x5168;&#x79FB;&#x9664;&#x201C;sqlalchemy.exc&#x201D;&#x7684;&#x540C;&#x4E49;&#x8BCD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5cdfbadad1d1ab8b583def86bfe1c3b8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-897">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2433">&#xFF03;2433</a></span></p></li><li><p id="change-0.8.0b1-1"><span class="yiyi-st" id="yiyi-898"><span class="target" id="change-5bd84bb0a379638a703e8d486a876539"><strong>[general] </strong></span> SQLAlchemy 0.8&#x73B0;&#x5728;&#x7684;&#x76EE;&#x6807;&#x662F;Python 2.5&#x53CA;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#x3002;</span><span class="yiyi-st" id="yiyi-899">Python 2.4&#x4E0D;&#x518D;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5bd84bb0a379638a703e8d486a876539">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.0b1-orm"><h3><span class="yiyi-st" id="yiyi-900">ORM <a class="headerlink" href="#change-0.8.0b1-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b1-2"><span class="yiyi-st" id="yiyi-901"><span class="target" id="change-2b5d7a236365a2a7ca5e6aca63d3dcad"><strong>[orm] [feature] </strong></span>Major rewrite of relationship() internals now allow join conditions which include columns pointing to themselves within composite foreign keys. </span><span class="yiyi-st" id="yiyi-902">&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x975E;&#x5E38;&#x4E13;&#x4E1A;&#x5316;&#x7684;&#x4E3B;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x7684;&#x65B0;API&#xFF0C;&#x5141;&#x8BB8;&#x57FA;&#x4E8E;SQL&#x51FD;&#x6570;&#xFF0C;CAST&#x7B49;&#x7684;&#x6761;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-903">&#x901A;&#x8FC7;&#x5728;&#x9700;&#x8981;&#x65F6;&#x5C06;&#x6CE8;&#x91CA;&#x51FD;&#x6570;remote()&#x548C;foreign()&#x5D4C;&#x5165;&#x5230;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;</span><span class="yiyi-st" id="yiyi-904">&#x4EE5;&#x524D;&#x4F7F;&#x7528;&#x534A;&#x79C1;&#x4EBA;_local_remote_pairs&#x65B9;&#x6CD5;&#x7684;&#x98DF;&#x8C31;&#x53EF;&#x4EE5;&#x5347;&#x7EA7;&#x4E3A;&#x8FD9;&#x79CD;&#x65B0;&#x65B9;&#x6CD5;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-905">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-906"><a class="reference internal" href="migration_08.html#feature-relationship-08"><span>Rewritten relationship() mechanics</span></a></span></p></div><span class="yiyi-st" id="yiyi-908"> <a class="changeset-link headerlink reference internal" href="#change-2b5d7a236365a2a7ca5e6aca63d3dcad">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-907">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1401">&#xFF03;1401</a></span></p></li><li><p id="change-0.8.0b1-3"><span class="yiyi-st" id="yiyi-909"><span class="target" id="change-bfb5af4d4d7644b298d000311189fabd"><strong>[orm] [feature] </strong></span>New standalone function with_polymorphic() provides the functionality of query.with_polymorphic() in a standalone form. </span><span class="yiyi-st" id="yiyi-910">&#x5B83;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x5B9E;&#x4F53;&#xFF0C;&#x5305;&#x62EC;&#x4F5C;&#x4E3A;&#x8FDE;&#x63A5;&#x7684;&#x76EE;&#x6807;&#x6765;&#x4EE3;&#x66FF;&#x201C;of_type()&#x201D;&#x4FEE;&#x9970;&#x7B26;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bfb5af4d4d7644b298d000311189fabd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-911">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2333">&#xFF03;2333</a></span></p></li><li><p id="change-0.8.0b1-4"><span class="yiyi-st" id="yiyi-912"><span class="target" id="change-78a51fb9614f402a7225108f99846c70"><strong>[orm] [feature] </strong></span>The of_type() construct on attributes now accepts aliased() class constructs as well as with_polymorphic constructs, and works with query.join(), any(), has(), and also eager loaders subqueryload(), joinedload(), contains_eager()<a class="changeset-link headerlink reference internal" href="#change-78a51fb9614f402a7225108f99846c70">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-913">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1106">&#xFF03;1106</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2438">&#xFF03;2438</a></span></p></li><li><p id="change-0.8.0b1-5"><span class="yiyi-st" id="yiyi-914"><span class="target" id="change-93ce3ef6116143e465e8824d6b1d1d77"><strong>[orm] [feature] </strong></span>&#x5BF9;&#x6620;&#x5C04;&#x7C7B;&#x8FDB;&#x884C;&#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x7684;&#x6539;&#x8FDB;&#x5141;&#x8BB8;&#x4E3A;&#x5B9E;&#x4F8B;&#x548C;&#x6620;&#x5C04;&#x5668;&#x4E8B;&#x4EF6;&#x6307;&#x5B9A;&#x672A;&#x6620;&#x5C04;&#x7684;&#x7C7B;&#x3002;</span><span class="yiyi-st" id="yiyi-915">&#x5F53;propagate = True&#x6807;&#x5FD7;&#x88AB;&#x4F20;&#x9012;&#x65F6;&#xFF0C;&#x5DF2;&#x5EFA;&#x7ACB;&#x7684;&#x4E8B;&#x4EF6;&#x5C06;&#x81EA;&#x52A8;&#x8BBE;&#x7F6E;&#x5728;&#x8BE5;&#x7C7B;&#x7684;&#x5B50;&#x7C7B;&#x4E0A;&#xFF0C;&#x5E76;&#x4E14;&#x4E8B;&#x4EF6;&#x5C06;&#x5728;&#x8BE5;&#x7C7B;&#x81EA;&#x8EAB;&#x88AB;&#x6700;&#x7EC8;&#x6620;&#x5C04;&#x65F6;&#x8BBE;&#x7F6E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-93ce3ef6116143e465e8824d6b1d1d77">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-916">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2585">&#xFF03;2585</a></span></p></li><li><p id="change-0.8.0b1-6"><span class="yiyi-st" id="yiyi-917"><span class="target" id="change-eb6e1bb92c5ceea0be162479d444103a"><strong>[orm] [feature] </strong></span>&#x4F7F;&#x7528;&#x65B0;&#x7684;DeferredReflection&#x7C7B;&#xFF0C;&#x201C;&#x5EF6;&#x8FDF;&#x58F0;&#x660E;&#x6027;&#x53CD;&#x5C04;&#x201D;&#x7CFB;&#x7EDF;&#x5DF2;&#x79FB;&#x5165;&#x58F0;&#x660E;&#x6027;&#x6269;&#x5C55;&#x672C;&#x8EAB;&#x3002;</span><span class="yiyi-st" id="yiyi-918">&#x8FD9;&#x4E2A;&#x7C7B;&#x73B0;&#x5728;&#x7528;&#x5355;&#x4E2A;&#x548C;&#x8FDE;&#x63A5;&#x8868;&#x7EE7;&#x627F;&#x7528;&#x4F8B;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-eb6e1bb92c5ceea0be162479d444103a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-919">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2485">&#xFF03;2485</a></span></p></li><li><p id="change-0.8.0b1-7"><span class="yiyi-st" id="yiyi-920"><span class="target" id="change-5a3967b4ed8af452ab323aaa3b5d27f2"><strong>[orm] [feature] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x6838;&#x5FC3;&#x51FD;&#x6570;&#x201C;inspect()&#x201D;&#xFF0C;&#x5B83;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x7684;&#x7F51;&#x5173;&#x6765;&#x6620;&#x5C04;&#x5230;&#x6620;&#x5C04;&#x5668;&#xFF0C;&#x5BF9;&#x8C61;&#x7B49;&#x7B49;&#x3002;</span><span class="yiyi-st" id="yiyi-921">Mapper&#x548C;InstanceState&#x5BF9;&#x8C61;&#x5DF2;&#x901A;&#x8FC7;&#x516C;&#x5171;API&#x8FDB;&#x884C;&#x4E86;&#x589E;&#x5F3A;&#xFF0C;&#x8BE5;API&#x5141;&#x8BB8;&#x68C0;&#x67E5;&#x6620;&#x5C04;&#x5C5E;&#x6027;&#xFF0C;&#x5305;&#x62EC;&#x5217;&#x7ED1;&#x5B9A;&#x6216;&#x5173;&#x7CFB;&#x7ED1;&#x5B9A;&#x5C5E;&#x6027;&#x7684;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x5F53;&#x524D;&#x5BF9;&#x8C61;&#x72B6;&#x6001;&#x7684;&#x68C0;&#x67E5;&#xFF0C;&#x5C5E;&#x6027;&#x7684;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x7B49;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5a3967b4ed8af452ab323aaa3b5d27f2">&#xB6; t0 &gt;</a></span></p><p><span class="yiyi-st" id="yiyi-922">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2208">&#xFF03;2208</a></span></p></li><li><p id="change-0.8.0b1-8"><span class="yiyi-st" id="yiyi-923"><span class="target" id="change-1df6e3552ee895cd48952f95c0f0730a"><strong>[orm] [feature] </strong></span>Calling rollback() within a session.begin_nested() will now only expire those objects that had net changes within the scope of that transaction, that is objects which were dirty or were modified on a flush. </span><span class="yiyi-st" id="yiyi-924">&#x8FD9;&#x5141;&#x8BB8;begin_nested()&#x7684;&#x5178;&#x578B;&#x7528;&#x4F8B;&#xFF08;&#x4FEE;&#x6539;&#x5BF9;&#x8C61;&#x7684;&#x4E00;&#x5C0F;&#x90E8;&#x5206;&#x5B50;&#x96C6;&#xFF09;&#x5C06;&#x6570;&#x636E;&#x4ECE;&#x672A;&#x5728;&#x8BE5;&#x5B50;&#x4E8B;&#x52A1;&#x4E2D;&#x4FEE;&#x6539;&#x7684;&#x8F83;&#x5927;&#x7684;&#x5C01;&#x95ED;&#x5BF9;&#x8C61;&#x96C6;&#x4E2D;&#x7559;&#x4E0B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1df6e3552ee895cd48952f95c0f0730a"> T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-925">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2452">&#xFF03;2452</a></span></p></li><li><p id="change-0.8.0b1-9"><span class="yiyi-st" id="yiyi-926"><span class="target" id="change-42a29b97f3f04fca95c888b8ebb68802"><strong>[orm] [feature] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5B9E;&#x7528;&#x7A0B;&#x5E8F;&#x529F;&#x80FD;Session.enable_relationship_loading()&#xFF0C;&#x53D6;&#x4EE3;&#x4E86;relationship.load_on_pending&#x3002;</span><span class="yiyi-st" id="yiyi-927">&#x4F46;&#x662F;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x529F;&#x80FD;&#x90FD;&#x5E94;&#x8BE5;&#x907F;&#x514D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-42a29b97f3f04fca95c888b8ebb68802">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-928">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2372">&#xFF03;2372</a></span></p></li><li><p id="change-0.8.0b1-10"><span class="yiyi-st" id="yiyi-929"><span class="target" id="change-d6ca8c5a4d9259ca52feb4e113633afe"><strong>[orm] [feature] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;column_property()&#xFF0C;relationship()&#xFF0C;composite()&#x7684;.info&#x5B57;&#x5178;&#x53C2;&#x6570;&#x7684;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-930">&#x6240;&#x6709;&#x7684;MapperProperty&#x7C7B;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x7684;.info&#x5B57;&#x5178;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d6ca8c5a4d9259ca52feb4e113633afe">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-11"><span class="yiyi-st" id="yiyi-931"><span class="target" id="change-9cbdee6462b2adb613d0260699424d93"><strong>[orm] [feature] </strong></span>&#x73B0;&#x5728;&#xFF0C;&#x4ECE;&#x6620;&#x5C04;&#x96C6;&#x5408;&#x4E2D;&#x6DFB;&#x52A0;/&#x5220;&#x9664;&#x65E0;&#x5C06;&#x751F;&#x6210;&#x5C5E;&#x6027;&#x4E8B;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-932">&#x4EE5;&#x524D;&#xFF0C;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x65E0;&#x8FFD;&#x52A0;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;</span><span class="yiyi-st" id="yiyi-933">&#x4E0E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9cbdee6462b2adb613d0260699424d93">&#xB6;</a>&#x76F8;&#x5173;</span></p><p><span class="yiyi-st" id="yiyi-934">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2229">&#xFF03;2229</a></span></p></li><li><p id="change-0.8.0b1-12"><span class="yiyi-st" id="yiyi-935"><span class="target" id="change-dfe35810c91fadc80cc26fafc4758932"><strong>[orm] [feature] </strong></span>&#x5728;&#x6620;&#x5C04;&#x96C6;&#x5408;&#x4E2D;&#x5B58;&#x5728;None&#x73B0;&#x5728;&#x5728;&#x5237;&#x65B0;&#x671F;&#x95F4;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-936">&#x4EE5;&#x524D;&#xFF0C;&#x96C6;&#x5408;&#x4E2D;&#x7684;None&#x503C;&#x5C06;&#x88AB;&#x9ED8;&#x9ED8;&#x5FFD;&#x7565;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dfe35810c91fadc80cc26fafc4758932">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-937">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2229">&#xFF03;2229</a></span></p></li><li><p id="change-0.8.0b1-13"><span class="yiyi-st" id="yiyi-938"><span class="target" id="change-6849b5ad20a8f598c90e058f7406607e"><strong>[orm] [feature] </strong></span>&#x5BF9;&#x4E8E;&#x6B63;&#x5728;&#x66F4;&#x65B0;&#x7684;&#x8868;&#xFF0C;Query.update()&#x65B9;&#x6CD5;&#x73B0;&#x5728;&#x66F4;&#x52A0;&#x5BBD;&#x677E;&#x3002;</span><span class="yiyi-st" id="yiyi-939">&#x73B0;&#x5728;&#x66F4;&#x597D;&#x5730;&#x652F;&#x6301;Plain Table&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x4E14;update()&#xFF1B;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x9644;&#x52A0;&#x7684;&#x7EE7;&#x627F;&#x5B50;&#x7C7B;&#x3002;&#x5B50;&#x7C7B;&#x8868;&#x5C06;&#x6210;&#x4E3A;&#x66F4;&#x65B0;&#x7684;&#x76EE;&#x6807;&#xFF0C;&#x5982;&#x679C;&#x5728;WHERE&#x5B50;&#x53E5;&#x4E2D;&#x5F15;&#x7528;&#x4E86;&#x7236;&#x8868;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x5C06;&#x8C03;&#x7528;UPDATE..FROM&#x8BED;&#x6CD5;&#xFF0C;&#x5982;&#x65B9;&#x8A00;&#x6240;&#x5141;&#x8BB8;&#x7684;&#xFF0C;&#x4EE5;&#x6EE1;&#x8DB3;WHERE&#x5B50;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-940">MySQL&#x7684;&#x591A;&#x8868;&#x66F4;&#x65B0;&#x529F;&#x80FD;&#x4E5F;&#x53D7;&#x652F;&#x6301;&#xFF0C;&#x5982;&#x679C;&#x5217;&#x5728;&#x201C;&#x503C;&#x201D;&#x5B57;&#x6BB5;&#x4E2D;&#x7531;&#x5BF9;&#x8C61;&#x6307;&#x5B9A;&#x3002;</span><span class="yiyi-st" id="yiyi-941">PG&#x7684;DELETE..USING&#x5728;Core&#x4E2D;&#x4E5F;&#x4E0D;&#x53EF;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6849b5ad20a8f598c90e058f7406607e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-14"><span class="yiyi-st" id="yiyi-942"><span class="target" id="change-b6a88424dffec42d164fbc0e90fbd47d"><strong>[orm] [feature] </strong></span>&#x65B0;&#x4F1A;&#x8BDD;&#x4E8B;&#x4EF6;after_transaction_create&#x548C;after_transaction_end&#x5141;&#x8BB8;&#x8DDF;&#x8E2A;&#x65B0;&#x7684;SessionTransaction&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-943">&#x5982;&#x679C;&#x68C0;&#x67E5;&#x5BF9;&#x8C61;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x786E;&#x5B9A;&#x4F1A;&#x8BDD;&#x9996;&#x6B21;&#x53D8;&#x4E3A;&#x6D3B;&#x52A8;&#x72B6;&#x6001;&#x4EE5;&#x53CA;&#x4F55;&#x65F6;&#x505C;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b6a88424dffec42d164fbc0e90fbd47d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-15"><span class="yiyi-st" id="yiyi-944"><span class="target" id="change-8da279230401738c29fde56b8e12e329"><strong>[orm] [feature] </strong></span>The Query can now load entity/scalar-mixed &#x201C;tuple&#x201D; rows that contain types which aren&#x2019;t hashable, by setting the flag &#x201C;hashable=False&#x201D; on the corresponding TypeEngine object in use. </span><span class="yiyi-st" id="yiyi-945">&#x8FD4;&#x56DE;&#x4E0D;&#x53EF;&#x4E92;&#x6362;&#x7C7B;&#x578B;&#xFF08;&#x901A;&#x5E38;&#x4E3A;&#x5217;&#x8868;&#xFF09;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x5C06;&#x6B64;&#x6807;&#x5FD7;&#x8BBE;&#x7F6E;&#x4E3A;False&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8da279230401738c29fde56b8e12e329">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-946">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2592">&#xFF03;2592</a></span></p></li><li><p id="change-0.8.0b1-16"><span class="yiyi-st" id="yiyi-947"><span class="target" id="change-895b051922d21bb69c4c67ce5309b066"><strong>[orm] [feature] </strong></span>&#x9ED8;&#x8BA4;&#x67E5;&#x8BE2;&#x201C;&#x81EA;&#x52A8;&#x5173;&#x8054;&#x201D;&#xFF0C;&#x4E0E;select()&#x4E00;&#x6837;&#x3002;</span><span class="yiyi-st" id="yiyi-948">&#x4EE5;&#x524D;&#xFF0C;&#x5728;&#x53E6;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x4E2D;&#x7528;&#x4F5C;&#x5B50;&#x67E5;&#x8BE2;&#x5C06;&#x9700;&#x8981;&#x663E;&#x5F0F;&#x8C03;&#x7528;correlate()&#x65B9;&#x6CD5;&#xFF0C;&#x4EE5;&#x4FBF;&#x5C06;&#x5185;&#x90E8;&#x8868;&#x4E0E;&#x5916;&#x90E8;&#x5173;&#x8054;&#x8D77;&#x6765;&#x3002;</span><span class="yiyi-st" id="yiyi-949">&#x4E0E;&#x5F80;&#x5E38;&#x4E00;&#x6837;&#xFF0C;&#x5173;&#x8054;&#xFF08;&#x65E0;&#xFF09;&#x7981;&#x7528;&#x5173;&#x8054;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-895b051922d21bb69c4c67ce5309b066">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-950">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2179">&#xFF03;2179</a></span></p></li><li><p id="change-0.8.0b1-17"><span class="yiyi-st" id="yiyi-951"><span class="target" id="change-8597db755973435d332ab67dcd0cd333"><strong>[orm] [feature] </strong></span>The after_attach event is now emitted after the object is established in Session.new or Session.identity_map upon Session.add(), Session.merge(), etc., so that the object is represented in these collections when the event is called. </span><span class="yiyi-st" id="yiyi-952">&#x6DFB;&#x52A0;before_attach&#x4E8B;&#x4EF6;&#x4EE5;&#x9002;&#x5E94;&#x9700;&#x8981;&#x81EA;&#x52A8;&#x5237;&#x65B0;&#x9884;&#x8FDE;&#x63A5;&#x5BF9;&#x8C61;&#x7684;&#x7528;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8597db755973435d332ab67dcd0cd333">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-953">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2464">&#xFF03;2464</a></span></p></li><li><p id="change-0.8.0b1-18"><span class="yiyi-st" id="yiyi-954"><span class="target" id="change-fe41acf149abee6a65a1785143121903"><strong>[orm] [feature] </strong></span>&#x5F53;&#x5728;flush&#x7684;&#x201C;execute&#x201D;&#x90E8;&#x5206;&#x4E2D;&#x4F7F;&#x7528;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x4F1A;&#x8BDD;&#x5C06;&#x4EA7;&#x751F;&#x8B66;&#x544A;&#x3002;</span><span class="yiyi-st" id="yiyi-955">&#x8FD9;&#x4E9B;&#x662F;&#x719F;&#x6089;&#x7684;&#x65B9;&#x6CD5;add()&#xFF0C;delete()&#x7B49;&#x3002;</span><span class="yiyi-st" id="yiyi-956">&#x4EE5;&#x53CA;&#x50CF;&#x5728;after_insert()&#xFF0C;after_update()&#x7B49;mapper&#x7EA7;&#x522B;&#x7684;&#x5237;&#x65B0;&#x4E8B;&#x4EF6;&#x4E2D;&#x8C03;&#x7528;&#x7684;&#x96C6;&#x5408;&#x548C;&#x76F8;&#x5173;&#x5BF9;&#x8C61;&#x64CD;&#x4F5C;&#x3002;</span><span class="yiyi-st" id="yiyi-957">&#x5F88;&#x957F;&#x65F6;&#x95F4;&#x4EE5;&#x6765;&#xFF0C;SQLAlchemy&#x65E0;&#x6CD5;&#x4FDD;&#x8BC1;&#x7ED3;&#x679C;&#x5728;&#x6267;&#x884C;flush&#x8BA1;&#x5212;&#x65F6;&#x88AB;&#x64CD;&#x7EB5;&#xFF0C;&#x4F46;&#x7528;&#x6237;&#x4ECD;&#x5728;&#x6267;&#x884C;&#x6B64;&#x64CD;&#x4F5C;&#xFF0C;&#x56E0;&#x6B64;&#x73B0;&#x5728;&#x6709;&#x8B66;&#x544A;&#x3002;</span><span class="yiyi-st" id="yiyi-958">&#x4E5F;&#x8BB8;&#x6709;&#x4E00;&#x5929;&#x4F1A;&#x8BDD;&#x4F1A;&#x88AB;&#x589E;&#x5F3A;&#x4EE5;&#x652F;&#x6301;flush&#x4E2D;&#x7684;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#xFF0C;&#x4F46;&#x73B0;&#x5728;&#xFF0C;&#x7ED3;&#x679C;&#x4E0D;&#x80FD;&#x5F97;&#x5230;&#x4FDD;&#x8BC1;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fe41acf149abee6a65a1785143121903">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-19"><span class="yiyi-st" id="yiyi-959"><span class="target" id="change-443927d0d360b2d45aec1f0edb4cd52e"><strong>[orm] [feature] </strong></span>ORM entities can be passed to the core select() construct as well as to the select_from(), correlate(), and correlate_except() methods of select(), where they will be unwrapped into selectables.<a class="changeset-link headerlink reference internal" href="#change-443927d0d360b2d45aec1f0edb4cd52e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-960">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2245">&#xFF03;2245</a></span></p></li><li><p id="change-0.8.0b1-20"><span class="yiyi-st" id="yiyi-961"><span class="target" id="change-a67dd1b9a7a101568b19a0bab8f0e7b1"><strong>[orm] [feature] </strong></span>&#x652F;&#x6301;&#x57FA;&#x4E8E;&#x6620;&#x5C04;&#x5C5E;&#x6027;&#x81EA;&#x52A8;&#x5448;&#x73B0;&#x5173;&#x7CFB;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;&#x6838;&#x5FC3;SQL&#x6784;&#x9020;&#x3002;</span><span class="yiyi-st" id="yiyi-962">&#x4F8B;&#x5982;&#x3002; select&#xFF08;[SomeClass]&#xFF09;&#x3002;&#x5176;&#x4E2D;&#xFF08;SomeClass.somerelationship&#xFF09;&#x5C06;&#x4ECE;&#x201C;someclass&#x201D;&#x5448;&#x73B0;SELECT&#xFF0C;&#x5E76;&#x5C06;&#x201C;somerelationship&#x201D;&#x7684;&#x4E3B;&#x8981;&#x8FDE;&#x63A5;&#x7528;&#x4F5C;WHERE&#x5B50;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-963">&#x5F53;&#x5728;&#x6838;&#x5FC3;SQL&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x8FD9;&#x6539;&#x53D8;&#x4E86;&#x201C;SomeClass.somerelationship&#x201D;&#x7684;&#x5148;&#x524D;&#x542B;&#x4E49;&#xFF1B;&#x4EE5;&#x524D;&#xFF0C;&#x5B83;&#x4F1A;&#x201C;&#x89E3;&#x51B3;&#x201D;&#x5230;&#x53EF;&#x9009;&#x7236;&#x9879;&#xFF0C;&#x8FD9;&#x901A;&#x5E38;&#x4E0D;&#x662F;&#x6709;&#x7528;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-964">&#x4E5F;&#x9002;&#x7528;&#x4E8E;query.filter()&#x3002;</span><span class="yiyi-st" id="yiyi-965">&#x4E0E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a67dd1b9a7a101568b19a0bab8f0e7b1">&#xB6;</a>&#x76F8;&#x5173;</span></p><p><span class="yiyi-st" id="yiyi-966">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2245">&#xFF03;2245</a></span></p></li><li><p id="change-0.8.0b1-21"><span class="yiyi-st" id="yiyi-967"><span class="target" id="change-f3c6355a218b2e87fd0f0703b6db668b"><strong>[orm] [feature] </strong></span> declarative_base()&#x4E2D;&#x7684;&#x7C7B;&#x7684;&#x6CE8;&#x518C;&#x8868;&#x73B0;&#x5728;&#x662F;&#x4E00;&#x4E2A;WeakValueDictionary&#x3002;</span><span class="yiyi-st" id="yiyi-968">&#x56E0;&#x6B64;&#xFF0C;&#x53D6;&#x6D88;&#x5F15;&#x7528;&#x7684;&#x201C;Base&#x201D;&#x7684;&#x5B50;&#x7C7B;&#x5C06;&#x88AB;&#x5783;&#x573E;&#x6536;&#x96C6;&#xFF0C;&#x5982;&#x679C;&#x5B83;&#x4EEC;&#x6CA1;&#x6709;&#x88AB;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x6620;&#x5C04;&#x5668;/&#x8D85;&#x7C7B;&#x6620;&#x5C04;&#x5668;&#x5F15;&#x7528;&#xFF0C;&#x5219;&#x4E3A;<em>&#x3002;</em></span><span class="yiyi-st" id="yiyi-969">&#x8BF7;&#x53C2;&#x9605;&#x6B64;&#x7968;&#x8BC1;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x6CE8;&#x91CA;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f3c6355a218b2e87fd0f0703b6db668b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-970">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2526">&#xFF03;2526</a></span></p></li><li><p id="change-0.8.0b1-22"><span class="yiyi-st" id="yiyi-971"><span class="target" id="change-60840075c7cfa8d1adae037d2c11e7ac"><strong>[orm] [feature] </strong></span>Conflicts between columns on single-inheritance declarative subclasses, with or without using a mixin, can be resolved using a new @declared_attr usage described in the documentation.<a class="changeset-link headerlink reference internal" href="#change-60840075c7cfa8d1adae037d2c11e7ac">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-972">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2472">&#xFF03;2472</a></span></p></li><li><p id="change-0.8.0b1-23"><span class="yiyi-st" id="yiyi-973"><span class="target" id="change-5cd3668a5182df1fe6b544b806615e64"><strong>[orm] [feature] </strong></span> declared_attr&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5728;&#x975E;mixin&#x7C7B;&#x4E0A;&#x4F7F;&#x7528;&#xFF0C;&#x5373;&#x4F7F;&#x8FD9;&#x901A;&#x5E38;&#x4EC5;&#x7528;&#x4E8E;&#x5355;&#x7EE7;&#x627F;&#x5B50;&#x7C7B;&#x5217;&#x51B2;&#x7A81;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5cd3668a5182df1fe6b544b806615e64">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-974">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2472">&#xFF03;2472</a></span></p></li><li><p id="change-0.8.0b1-24"><span class="yiyi-st" id="yiyi-975"><span class="target" id="change-b42d3e5638d89a011e7c711e5519fe42"><strong>[orm] [feature] </strong></span>declared_attr can now be used with attributes that are not Column or MapperProperty; including any user-defined value as well as association proxy objects.<a class="changeset-link headerlink reference internal" href="#change-b42d3e5638d89a011e7c711e5519fe42">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-976">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2517">&#xFF03;2517</a></span></p></li><li><p id="change-0.8.0b1-25"><span class="yiyi-st" id="yiyi-977"><span class="target" id="change-5e6f2f1fd27a664f943148e0e20be5cc"><strong>[orm] [feature] </strong></span><em>Very limited</em> support for inheriting mappers to be GC&#x2019;ed when the class itself is deferenced. </span><span class="yiyi-st" id="yiyi-978">&#x6620;&#x5C04;&#x5668;&#x4E0D;&#x80FD;&#x6709;&#x5176;&#x81EA;&#x5DF1;&#x7684;&#x8868;&#xFF08;&#x5373;&#x53EA;&#x6709;&#x5355;&#x4E2A;&#x8868;inh&#xFF09;&#xFF0C;&#x6CA1;&#x6709;&#x591A;&#x6001;&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-979">&#x8FD9;&#x5141;&#x8BB8;&#x521B;&#x5EFA;&#x58F0;&#x660E;&#x5F0F;&#x6620;&#x5C04;&#x7C7B;&#x7684;&#x4E34;&#x65F6;&#x5B50;&#x7C7B;&#x7684;&#x7528;&#x4F8B;&#xFF0C;&#x5728;&#x6CA1;&#x6709;&#x8868;&#x6216;&#x6620;&#x5C04;&#x6307;&#x4EE4;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x4EEC;&#x5728;&#x88AB;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x89E3;&#x9664;&#x5F15;&#x7528;&#x65F6;&#x88AB;&#x5783;&#x573E;&#x6536;&#x96C6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5e6f2f1fd27a664f943148e0e20be5cc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-980">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2526">&#xFF03;2526</a></span></p></li><li><p id="change-0.8.0b1-26"><span class="yiyi-st" id="yiyi-981"><span class="target" id="change-073653e77b313e22c14bb667583872c7"><strong>[orm] [feature] </strong></span>Declarative now maintains a registry of classes by string name as well as by full module-qualified name. </span><span class="yiyi-st" id="yiyi-982">&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x6839;&#x636E;relationship()&#x4E2D;&#x7684;&#x6A21;&#x5757;&#x9650;&#x5B9A;&#x5B57;&#x7B26;&#x4E32;&#x67E5;&#x627E;&#x5177;&#x6709;&#x76F8;&#x540C;&#x540D;&#x79F0;&#x7684;&#x591A;&#x4E2A;&#x7C7B;&#x3002;</span><span class="yiyi-st" id="yiyi-983">&#x7B80;&#x5355;&#x7684;&#x7C7B;&#x540D;&#x79F0;&#x67E5;&#x627E;&#xFF0C;&#x5176;&#x4E2D;&#x591A;&#x4E2A;&#x7C7B;&#x5171;&#x4EAB;&#x76F8;&#x540C;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x73B0;&#x5728;&#x5F15;&#x53D1;&#x4E00;&#x6761;&#x4FE1;&#x606F;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-073653e77b313e22c14bb667583872c7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-984">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2338">&#xFF03;2338</a></span></p></li><li><p id="change-0.8.0b1-27"><span class="yiyi-st" id="yiyi-985"><span class="target" id="change-04cfa3591fc1133acc153a1db8fb823a"><strong>[orm] [feature] </strong></span>&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x8986;&#x76D6;&#x4EFB;&#x4F55;&#x975E;ORM&#x7C7B;&#x578B;&#x5217;&#x7684;&#x7C7B;&#x7ED1;&#x5B9A;&#x5C5E;&#x6027;&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x63CF;&#x8FF0;&#x7B26;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-04cfa3591fc1133acc153a1db8fb823a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-986">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2535">&#xFF03;2535</a></span></p></li><li><p id="change-0.8.0b1-28"><span class="yiyi-st" id="yiyi-987"><span class="target" id="change-56649e7f35bc7153f0e7220eab4aec69"><strong>[orm] [feature] </strong></span>Added with_labels and reduce_columns keyword arguments to Query.subquery(), to provide two alternate strategies for producing queries with uniquely- named columns. </span><span class="yiyi-st" id="yiyi-988"><a class="changeset-link headerlink reference internal" href="#change-56649e7f35bc7153f0e7220eab4aec69">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-989">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1729">&#xFF03;1729</a></span></p></li><li><p id="change-0.8.0b1-29"><span class="yiyi-st" id="yiyi-990"><span class="target" id="change-89c7b068a74a5e4d7c5cd96c1fcdb81e"><strong>[orm] [feature] </strong></span>&#x7531;&#x4E8E;&#x8FC7;&#x671F;/&#x5C5E;&#x6027;&#x5237;&#x65B0;/&#x6536;&#x96C6;&#x66FF;&#x6362;&#x800C;&#x5BFC;&#x81F4;&#x5BF9;&#x5DF2;&#x63D2;&#x88C5;&#x96C6;&#x5408;&#x7684;&#x5F15;&#x7528;&#x4E0D;&#x518D;&#x4E0E;&#x7236;&#x7C7B;&#x5173;&#x8054;&#x65F6;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#xFF0C;&#x4F46;&#x63A5;&#x6536;&#x5230;&#x9644;&#x52A0;&#x6216;&#x79FB;&#x9664;&#x64CD;&#x4F5C;&#x5728;&#x73B0;&#x5728;&#x5206;&#x79BB;&#x7684;&#x96C6;&#x5408;&#x4E0A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-89c7b068a74a5e4d7c5cd96c1fcdb81e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-991">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2476">&#xFF03;2476</a></span></p></li><li><p id="change-0.8.0b1-30"><span class="yiyi-st" id="yiyi-992"><span class="target" id="change-9e38576183f7a6782b4f7506ccdf6a64"><strong>[orm] [removed] </strong></span>The legacy &#x201C;mutable&#x201D; system of the ORM, including the MutableType class as well as the mutable=True flag on PickleType and postgresql.ARRAY has been removed. </span><span class="yiyi-st" id="yiyi-993">ORM&#x4F7F;&#x7528;0.7&#x4E2D;&#x5F15;&#x5165;&#x7684;sqlalchemy.ext.mutable&#x6269;&#x5C55;&#x6765;&#x68C0;&#x6D4B;&#x5C31;&#x5730;&#x7A81;&#x53D8;&#x3002;</span><span class="yiyi-st" id="yiyi-994">&#x5220;&#x9664;MutableType&#x548C;&#x76F8;&#x5173;&#x7684;&#x7ED3;&#x6784;&#x53EF;&#x4EE5;&#x4ECE;SQLAlchemy&#x7684;&#x5185;&#x90E8;&#x6D88;&#x9664;&#x5927;&#x91CF;&#x7684;&#x590D;&#x6742;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-995">&#x8BE5;&#x65B9;&#x6CD5;&#x8868;&#x73B0;&#x4E0D;&#x4F73;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4F1A;&#x5728;&#x4F7F;&#x7528;&#x65F6;&#x626B;&#x63CF;&#x4F1A;&#x8BDD;&#x7684;&#x5168;&#x90E8;&#x5185;&#x5BB9;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9e38576183f7a6782b4f7506ccdf6a64">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-996">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2442">&#xFF03;2442</a></span></p></li><li><p id="change-0.8.0b1-31"><span class="yiyi-st" id="yiyi-997"><span class="target" id="change-dca2d3ea2b1c7196e57ba9c29726c984"><strong>[orm] [removed] </strong></span>&#x5DF2;&#x5220;&#x9664;&#x7684;&#x5DF2;&#x5220;&#x9664;&#x6807;&#x8BC6;&#x7B26;&#xFF1A;</span></p><ul><li><span class="yiyi-st" id="yiyi-998">allow_null_pks mapper()&#x53C2;&#x6570;&#xFF08;&#x4F7F;&#x7528;allow_partial_pks&#xFF09;</span></li><li><span class="yiyi-st" id="yiyi-999">_get_col_to_prop()&#x6620;&#x5C04;&#x5668;&#x65B9;&#x6CD5;&#xFF08;&#x4F7F;&#x7528;get_property_by_column()&#xFF09;</span></li><li><span class="yiyi-st" id="yiyi-1000">Session.merge()&#x7684;dont_load&#x53C2;&#x6570;&#xFF08;&#x4F7F;&#x7528;load = True&#xFF09;</span></li><li><span class="yiyi-st" id="yiyi-1001">sqlalchemy.orm.shard&#x6A21;&#x5757;&#xFF08;&#x4F7F;&#x7528;sqlalchemy.ext.horizo&#x200B;&#x200B;ntal_shard&#xFF09;</span></li></ul><span class="yiyi-st" id="yiyi-1002"> <a class="changeset-link headerlink reference internal" href="#change-dca2d3ea2b1c7196e57ba9c29726c984">&#xB6;</a></span><p></p></li><li><p id="change-0.8.0b1-32"><span class="yiyi-st" id="yiyi-1003"><span class="target" id="change-6b9cbc218fc7c96feb638b82e0510096"><strong>[orm] [bug] </strong></span>ORM will perform extra effort to determine that an FK dependency between two tables is not significant during flush if the tables are related via joined inheritance and the FK dependency is not part of the inherit_condition, saves the user a use_alter directive.<a class="changeset-link headerlink reference internal" href="#change-6b9cbc218fc7c96feb638b82e0510096">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1004">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2527">&#xFF03;2527</a></span></p></li><li><p id="change-0.8.0b1-33"><span class="yiyi-st" id="yiyi-1005"><span class="target" id="change-20d79523a1d3c898c75000b8432ad204"><strong>[orm] [bug] </strong></span>The instrumentation events class_instrument(), class_uninstrument(), and attribute_instrument() will now fire off only for descendant classes of the class assigned to listen(). </span><span class="yiyi-st" id="yiyi-1006">&#x4EE5;&#x524D;&#xFF0C;&#x65E0;&#x8BBA;&#x4F20;&#x9012;&#x7684;&#x201C;&#x76EE;&#x6807;&#x201D;&#x53C2;&#x6570;&#x5982;&#x4F55;&#xFF0C;&#x90FD;&#x4F1A;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x4FA6;&#x542C;&#x5668;&#x6765;&#x4FA6;&#x542C;&#x6240;&#x6709;&#x7C7B;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x7C7B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-20d79523a1d3c898c75000b8432ad204">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1007">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2590">&#xFF03;2590</a></span></p></li><li><p id="change-0.8.0b1-34"><span class="yiyi-st" id="yiyi-1008"><span class="target" id="change-d4fb10b3e74c7cfee50b305f21ad75ba"><strong>[orm] [bug] </strong></span>with_polymorphic() produces JOINs in the correct order and with correct inheriting tables in the case of sending multi-level subclasses in an arbitrary order or with intermediary classes missing.<a class="changeset-link headerlink reference internal" href="#change-d4fb10b3e74c7cfee50b305f21ad75ba">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1009">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1900">&#xFF03;1900</a></span></p></li><li><p id="change-0.8.0b1-35"><span class="yiyi-st" id="yiyi-1010"><span class="target" id="change-670f860895b1ac776c73a9f529b4ff01"><strong>[orm] [bug] </strong></span>&#x6539;&#x8FDB;&#x4E86;&#x52A0;&#x5165;/&#x5B50;&#x67E5;&#x8BE2;&#x52A0;&#x8F7D;&#x5904;&#x7406;&#x5171;&#x4EAB;&#x516C;&#x5171;&#x57FA;&#x7840;&#x7684;&#x5B50;&#x7C7B;&#x5B9E;&#x4F53;&#x94FE;&#xFF0C;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x7279;&#x5B9A;&#x7684;&#x201C;&#x8FDE;&#x63A5;&#x6DF1;&#x5EA6;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1011">&#x5728;&#x68C0;&#x6D4B;&#x5230;&#x201C;&#x5FAA;&#x73AF;&#x201D;&#x4E4B;&#x524D;&#xFF0C;&#x5C06;&#x5355;&#x72EC;&#x94FE;&#x63A5;&#x5230;&#x6BCF;&#x4E2A;&#x5B50;&#x7C7B;&#x6620;&#x5C04;&#x5668;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5C06;&#x57FA;&#x7C7B;&#x89C6;&#x4E3A;&#x201C;&#x5FAA;&#x73AF;&#x201D;&#x7684;&#x6E90;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-670f860895b1ac776c73a9f529b4ff01">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1012">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2481">&#xFF03;2481</a></span></p></li><li><p id="change-0.8.0b1-36"><span class="yiyi-st" id="yiyi-1013"><span class="target" id="change-43ab88968711042d804aba10f927a0e7"><strong>[orm] [bug] </strong></span> Session.is_modified()&#x4E0A;&#x7684;&#x201C;passive&#x201D;&#x6807;&#x5FD7;&#x4E0D;&#x518D;&#x6709;&#x4EFB;&#x4F55;&#x4F5C;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-1014">&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;is_modified()&#x90FD;&#x53EA;&#x4F1A;&#x67E5;&#x770B;&#x672C;&#x5730;&#x5185;&#x5B58;&#x4E2D;&#x5DF2;&#x4FEE;&#x6539;&#x7684;&#x6807;&#x5FD7;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x4F1A;&#x53D1;&#x51FA;&#x4EFB;&#x4F55;SQL&#x6216;&#x8C03;&#x7528;&#x52A0;&#x8F7D;&#x7A0B;&#x5E8F;&#x53EF;&#x8C03;&#x7528;/&#x521D;&#x59CB;&#x5316;&#x7A0B;&#x5E8F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-43ab88968711042d804aba10f927a0e7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1015">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2320">&#xFF03;2320</a></span></p></li><li><p id="change-0.8.0b1-37"><span class="yiyi-st" id="yiyi-1016"><span class="target" id="change-f6749307d43fd438dc2226c9c36cabdf"><strong>[orm] [bug] </strong></span>&#x4F7F;&#x7528;delete-orphan&#x7EA7;&#x8054;&#x4E0E;&#x4E00;&#x5BF9;&#x591A;&#x6216;&#x591A;&#x5BF9;&#x591A;&#x800C;&#x6CA1;&#x6709;single-parent = True&#x65F6;&#x53D1;&#x51FA;&#x7684;&#x8B66;&#x544A;&#x73B0;&#x5728;&#x662F;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-1017">&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;ORM&#x5C06;&#x65E0;&#x6CD5;&#x5728;&#x6B64;&#x8B66;&#x544A;&#x540E;&#x53D1;&#x6325;&#x4F5C;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f6749307d43fd438dc2226c9c36cabdf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1018">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2405">&#xFF03;2405</a></span></p></li><li><p id="change-0.8.0b1-38"><span class="yiyi-st" id="yiyi-1019"><span class="target" id="change-8983e9238cae7a3307091bab80843317"><strong>[orm] [bug] </strong></span>&#x5728;flush&#x4E8B;&#x4EF6;&#xFF08;&#x5982;before_flush()&#xFF0C;before_update()&#x7B49;&#xFF09;&#x5185;&#x53D1;&#x51FA;&#x7684;&#x60F0;&#x6027;&#x8D1F;&#x8F7D;&#x3002;</span><span class="yiyi-st" id="yiyi-1020">&#x73B0;&#x5728;&#x5C06;&#x50CF;&#x5728;&#x975E;&#x4E8B;&#x4EF6;&#x4EE3;&#x7801;&#x4E2D;&#x90A3;&#x6837;&#x8D77;&#x4F5C;&#x7528;&#xFF0C;&#x8003;&#x8651;&#x5728;&#x60F0;&#x6027;&#x53D1;&#x5C04;&#x67E5;&#x8BE2;&#x4E2D;&#x4F7F;&#x7528;&#x7684;PK / FK&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-1021">&#x4EE5;&#x524D;&#xFF0C;&#x7279;&#x6B8A;&#x6807;&#x5FD7;&#x5C06;&#x88AB;&#x5EFA;&#x7ACB;&#xFF0C;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x57FA;&#x4E8E;&#x7236;PK / FK&#x503C;&#x7684;&#x201C;&#x524D;&#x4E00;&#x4E2A;&#x201D;&#x503C;&#x52A0;&#x8F7D;&#x76F8;&#x5173;&#x9879;&#x76EE;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5728;&#x5237;&#x65B0;&#x671F;&#x95F4;&#x8C03;&#x7528;&#x65F6;&#xFF1B;&#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x52A0;&#x8F7D;&#x7684;&#x4FE1;&#x53F7;&#x73B0;&#x5728;&#x88AB;&#x672C;&#x5730;&#x5316;&#x5230;&#x5DE5;&#x4F5C;&#x5355;&#x5143;&#x5B9E;&#x9645;&#x9700;&#x8981;&#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x52A0;&#x8F7D;&#x7684;&#x4F4D;&#x7F6E;&#x3002;</span><span class="yiyi-st" id="yiyi-1022">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5728;&#x8C03;&#x7528;before_update()&#x4E8B;&#x4EF6;&#x4E4B;&#x524D;&#xFF0C;UOW&#x6709;&#x65F6;&#x4F1A;&#x52A0;&#x8F7D;&#x8FD9;&#x4E9B;&#x96C6;&#x5408;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x201C;passive_updates&#x201D;&#x7684;&#x4F7F;&#x7528;&#x4E0E;&#x5426;&#x53EF;&#x80FD;&#x4F1A;&#x5F71;&#x54CD;&#x96C6;&#x5408;&#x662F;&#x5426;&#x4EE3;&#x8868;&#x201C;&#x65E7;&#x201D;&#x6216;&#x201C;&#x65B0;&#x201D;&#x6570;&#x636E;&#x5237;&#x65B0;&#x4E8B;&#x4EF6;&#xFF0C;&#x57FA;&#x4E8E;&#x4F55;&#x65F6;&#x53D1;&#x51FA;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x3002;</span><span class="yiyi-st" id="yiyi-1023">&#x5728;&#x7528;&#x6237;&#x4E8B;&#x4EF6;&#x4EE3;&#x7801;&#x4F9D;&#x8D56;&#x4E8E;&#x65E7;&#x884C;&#x4E3A;&#x7684;&#x6781;&#x5C0F;&#x53EF;&#x80FD;&#x6027;&#x4E2D;&#xFF0C;&#x8FD9;&#x79CD;&#x6539;&#x53D8;&#x662F;&#x5411;&#x540E;&#x4E0D;&#x76F8;&#x5BB9;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8983e9238cae7a3307091bab80843317">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1024">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2350">&#xFF03;2350</a></span></p></li><li><p id="change-0.8.0b1-39"><span class="yiyi-st" id="yiyi-1025"><span class="target" id="change-dc5132d9120b849690569f05152a84cf"><strong>[orm] [bug] </strong></span>&#x7EE7;&#x7EED;&#x5904;&#x7406;&#x7531;&#x4E8E;&#x4E8B;&#x4EF6;&#x4FA6;&#x542C;&#x5668;&#x5F15;&#x8D77;&#x7684;&#x989D;&#x5916;&#x72B6;&#x6001;&#x540E;&#x51B2;&#x5237;&#xFF1B;&#x4EFB;&#x4F55;&#x4ECE;&#x5C5E;&#x6027;&#x89D2;&#x5EA6;&#x6807;&#x8BB0;&#x4E3A;&#x201C;&#x810F;&#x201D;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x901A;&#x8FC7;after_insert()&#xFF0C;after_update()&#x7B49;&#x5185;&#x7684;&#x5217;&#x5C5E;&#x6027;&#x8BBE;&#x7F6E;&#x4E8B;&#x4EF6;&#xFF0C;&#x90FD;&#x4F1A;&#x5728;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#x91CD;&#x7F6E;&#x201C;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x201D;&#x6807;&#x5FD7;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x53EA;&#x6709;&#x90A3;&#x4E9B;&#x5B9E;&#x4F8B;&#x90A3;&#x662F;&#x51B2;&#x6D17;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;</span><span class="yiyi-st" id="yiyi-1026">&#x8FD9;&#x5177;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x5373;&#x8BE5;&#x201C;&#x810F;&#x201D;&#x72B6;&#x6001;&#x5728;&#x5237;&#x65B0;&#x540E;&#x4E0D;&#x4F1A;&#x7ED3;&#x8F6C;&#x5E76;&#x4E14;&#x4E0D;&#x4F1A;&#x5BFC;&#x81F4;UPDATE&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-1027">&#x4E3A;&#x6B64;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#xFF1B; set_committed_state()&#x65B9;&#x6CD5;&#x53EF;&#x7528;&#x4E8E;&#x5728;&#x4E0D;&#x4EA7;&#x751F;&#x5386;&#x53F2;&#x4E8B;&#x4EF6;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4E3A;&#x5BF9;&#x8C61;&#x5206;&#x914D;&#x5C5E;&#x6027;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dc5132d9120b849690569f05152a84cf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1028">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2582">&#xFF03;2582</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2566">&#xFF03;2566</a></span></p></li><li><p id="change-0.8.0b1-40"><span class="yiyi-st" id="yiyi-1029"><span class="target" id="change-39a20209d28a327df9e9d29836c7c289"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;@declared_attr&#x5217;&#x548C;mixin&#x4E0A;&#x76F4;&#x63A5;&#x5B9A;&#x4E49;&#x7684;&#x5217;&#x4E4B;&#x95F4;&#x7F13;&#x6162;&#x53D1;&#x5C55;&#x7684;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x3002;</span><span class="yiyi-st" id="yiyi-1030">&#x5728;&#x8FD9;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5217;&#x5C06;&#x88AB;&#x5E94;&#x7528;&#x5230;&#x58F0;&#x660E;&#x7684;&#x7C7B;&#x7684;&#x8868;&#x4E2D;&#xFF0C;&#x4F46;&#x4E0D;&#x4F1A;&#x5E94;&#x7528;&#x5230;&#x5DF2;&#x8FDE;&#x63A5;&#x7684;&#x7EE7;&#x627F;&#x5B50;&#x7C7B;&#x7684;&#x8868;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-1031">&#x4EE5;&#x524D;&#xFF0C;&#x76F4;&#x63A5;&#x5B9A;&#x4E49;&#x7684;&#x5217;&#x5C06;&#x88AB;&#x653E;&#x7F6E;&#x5728;&#x57FA;&#x672C;&#x8868;&#x548C;&#x5B50;&#x8868;&#x4E0A;&#xFF0C;&#x8FD9;&#x901A;&#x5E38;&#x4E0D;&#x662F;&#x6211;&#x4EEC;&#x6240;&#x671F;&#x671B;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-39a20209d28a327df9e9d29836c7c289">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1032">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2565">&#xFF03;2565</a></span></p></li><li><p id="change-0.8.0b1-41"><span class="yiyi-st" id="yiyi-1033"><span class="target" id="change-2e38231d60a59df94e2c8460f26df0ac"><strong>[orm] [bug] </strong></span>Declarative can now propagate a column declared on a single-table inheritance subclass up to the parent class&#x2019; table, when the parent class is itself mapped to a join() or select() statement, directly or via joined inheritance, and not just a Table.<a class="changeset-link headerlink reference internal" href="#change-2e38231d60a59df94e2c8460f26df0ac">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1034">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2549">&#xFF03;2549</a></span></p></li><li><p id="change-0.8.0b1-42"><span class="yiyi-st" id="yiyi-1035"><span class="target" id="change-5f7f7241c49f5c13956148d68788a5b4"><strong>[orm] [bug] </strong></span> uselist = False&#x4E0E;&#x201C;&#x52A8;&#x6001;&#x201D;&#x52A0;&#x8F7D;&#x5668;&#x7ED3;&#x5408;&#x65F6;&#x4F1A;&#x53D1;&#x51FA;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-1036">&#x8FD9;&#x662F;0.7.9&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5f7f7241c49f5c13956148d68788a5b4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-43"><span class="yiyi-st" id="yiyi-1037"><span class="target" id="change-d949d8b3a5cfeff6d354df74627d5c86"><strong>[orm] [moved] </strong></span>The InstrumentationManager interface and the entire related system of alternate class implementation is now moved out to sqlalchemy.ext.instrumentation. </span><span class="yiyi-st" id="yiyi-1038">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x5C11;&#x4F7F;&#x7528;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x5B83;&#x589E;&#x52A0;&#x4E86;&#x7C7B;&#x4EEA;&#x5668;&#x673A;&#x5236;&#x7684;&#x590D;&#x6742;&#x6027;&#x548C;&#x5F00;&#x9500;&#x3002;</span><span class="yiyi-st" id="yiyi-1039">&#x65B0;&#x7684;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x5141;&#x8BB8;&#x5B83;&#x5728;InstrumentationManager&#x5B9E;&#x9645;&#x5BFC;&#x5165;&#x4E4B;&#x524D;&#x4FDD;&#x6301;&#x672A;&#x4F7F;&#x7528;&#x72B6;&#x6001;&#xFF0C;&#x6B64;&#x65F6;&#x5B83;&#x5C06;&#x88AB;&#x5F15;&#x5BFC;&#x5230;&#x5185;&#x6838;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d949d8b3a5cfeff6d354df74627d5c86">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.0b1-engine"><h3><span class="yiyi-st" id="yiyi-1040">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.8.0b1-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b1-44"><span class="yiyi-st" id="yiyi-1041"><span class="target" id="change-9351c132e3dc4f1e2351b2a8da2e25fa"><strong>[engine] [feature] </strong></span>&#x8FDE;&#x63A5;&#x4E8B;&#x4EF6;&#x4FA6;&#x542C;&#x5668;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x4E0E;&#x5355;&#x4E2A;Connection&#x5BF9;&#x8C61;&#x5173;&#x8054;&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;Engine&#x5BF9;&#x8C61;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9351c132e3dc4f1e2351b2a8da2e25fa">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1042">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2511">&#xFF03;2511</a></span></p></li><li><p id="change-0.8.0b1-45"><span class="yiyi-st" id="yiyi-1043"><span class="target" id="change-b45c2b0f2927b785ff1ecf351e774697"><strong>[engine] [feature] </strong></span>The before_cursor_execute event fires off for so-called &#x201C;_cursor_execute&#x201D; events, which are usually special-case executions of primary-key bound sequences and default-generation SQL phrases that invoke separately when RETURNING is not used with INSERT.<a class="changeset-link headerlink reference internal" href="#change-b45c2b0f2927b785ff1ecf351e774697">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1044">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2459">&#xFF03;2459</a></span></p></li><li><p id="change-0.8.0b1-46"><span class="yiyi-st" id="yiyi-1045"><span class="target" id="change-22463c2cfb9d39369a05c7604a115970"><strong>[engine] [feature] </strong></span>&#x6D4B;&#x8BD5;&#x5957;&#x4EF6;&#x4F7F;&#x7528;&#x7684;&#x5E93;&#x5DF2;&#x7ECF;&#x88AB;&#x79FB;&#x52A8;&#x4E86;&#x4E00;&#x4E9B;&#xFF0C;&#x4EE5;&#x4FBF;&#x5B83;&#x4EEC;&#x518D;&#x6B21;&#x6210;&#x4E3A;SQLAlchemy&#x5B89;&#x88C5;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;</span><span class="yiyi-st" id="yiyi-1046">&#x6B64;&#x5916;&#xFF0C;&#x65B0;&#x7684;sqlalchemy.testing.suite&#x8F6F;&#x4EF6;&#x5305;&#x4E2D;&#x8FD8;&#x6709;&#x4E00;&#x5957;&#x65B0;&#x7684;&#x6D4B;&#x8BD5;&#x3002;</span><span class="yiyi-st" id="yiyi-1047">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6B20;&#x53D1;&#x5C55;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x5E0C;&#x671B;&#x4E3A;&#x5916;&#x90E8;&#x65B9;&#x8A00;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x7684;&#x6D4B;&#x8BD5;&#x5957;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-1048">&#x5728;SQLAlchemy&#x4E4B;&#x5916;&#x7EF4;&#x62A4;&#x7684;&#x65B9;&#x8A00;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x65B0;&#x7684;&#x6D4B;&#x8BD5;&#x5939;&#x5177;&#x4F5C;&#x4E3A;&#x4ED6;&#x4EEC;&#x81EA;&#x5DF1;&#x7684;&#x6D4B;&#x8BD5;&#x6846;&#x67B6;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x514D;&#x8D39;&#x83B7;&#x5F97;&#x4E00;&#x5957;&#x201C;&#x5408;&#x89C4;&#x6027;&#x201D;&#x7684;&#x4EE5;&#x65B9;&#x8A00;&#x4E3A;&#x91CD;&#x70B9;&#x7684;&#x6D4B;&#x8BD5;&#x5957;&#x4EF6;&#xFF0C;&#x5305;&#x62EC;&#x6539;&#x8FDB;&#x7684;&#x201C;&#x9700;&#x6C42;&#x201D;&#x7CFB;&#x7EDF;&#xFF0C;&#x5176;&#x4E2D;&#x7279;&#x5B9A;&#x7684;&#x529F;&#x80FD;&#x548C;&#x7279;&#x6027;&#x53EF;&#x4EE5;&#x542F;&#x7528;&#x6216;&#x7981;&#x7528;&#x6D4B;&#x8BD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-22463c2cfb9d39369a05c7604a115970">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-47"><span class="yiyi-st" id="yiyi-1049"><span class="target" id="change-430f3e50d2f127fd14de43289d9a2f3c"><strong>[engine] [feature] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7CFB;&#x7EDF;&#xFF0C;&#x7528;&#x4E8E;&#x6CE8;&#x518C;&#x8FDB;&#x7A0B;&#x4E2D;&#x7684;&#x65B0;&#x65B9;&#x8A00;&#x800C;&#x4E0D;&#x4F7F;&#x7528;&#x5165;&#x53E3;&#x70B9;&#x3002;</span><span class="yiyi-st" id="yiyi-1050">&#x8BF7;&#x53C2;&#x9605;&#x201C;&#x6CE8;&#x518C;&#x65B0;&#x65B9;&#x8A00;&#x201D;&#x7684;&#x6587;&#x6863;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-430f3e50d2f127fd14de43289d9a2f3c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1051">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2462">&#xFF03;2462</a></span></p></li><li><p id="change-0.8.0b1-48"><span class="yiyi-st" id="yiyi-1052"><span class="target" id="change-e2fae5f65ab52a26ac82b7f60935da09"><strong>[engine] [feature] </strong></span>&#x5982;&#x679C;&#x672A;&#x4F20;&#x9012;&#x201C;value&#x201D;&#x6216;&#x201C;callable&#x201D;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x201C;required&#x201D;&#x6807;&#x5FD7;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x4E3A;True&#xFF0C;&#x5982;&#x679C;&#x672A;&#x663E;&#x5F0F;&#x4F20;&#x9012;&#xFF0C;&#x5219;&#x5728;bindparam()&#x4E0A;&#x3002;</span><span class="yiyi-st" id="yiyi-1053">&#x8FD9;&#x5C06;&#x5BFC;&#x81F4;&#x8BED;&#x53E5;&#x6267;&#x884C;&#x68C0;&#x67E5;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x7684;&#x6700;&#x7EC8;&#x96C6;&#x5408;&#x4E2D;&#x5B58;&#x5728;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x9690;&#x5F0F;&#x6307;&#x5B9A;None&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e2fae5f65ab52a26ac82b7f60935da09">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1054">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2556">&#xFF03;2556</a></span></p></li><li><p id="change-0.8.0b1-49"><span class="yiyi-st" id="yiyi-1055"><span class="target" id="change-fe0037e95612a977b51439e4b6c0eafb"><strong>[engine] [feature] </strong></span>Various API tweaks to the &#x201C;dialect&#x201D; API to better support highly specialized systems such as the Akiban database, including more hooks to allow an execution context to access type processors.<a class="changeset-link headerlink reference internal" href="#change-fe0037e95612a977b51439e4b6c0eafb">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-50"><span class="yiyi-st" id="yiyi-1056"><span class="target" id="change-9decb8479dcbbd65af523f2c6c173243"><strong>[engine] [feature] </strong></span> Inspector.get_primary_keys()&#x5DF2;&#x5F03;&#x7528;&#xFF1B;&#x4F7F;&#x7528;Inspector.get_pk_constraint()&#x3002;</span><span class="yiyi-st" id="yiyi-1057">Courtesy Diana Clarke&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9decb8479dcbbd65af523f2c6c173243">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1058">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2422">&#xFF03;2422</a></span></p></li><li><p id="change-0.8.0b1-51"><span class="yiyi-st" id="yiyi-1059"><span class="target" id="change-887967cc348c92cb22f612310ccfc257"><strong>[engine] [feature] </strong></span>&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x6709;&#x65F6;&#x95F4;&#x5B9E;&#x73B0;&#xFF0C;&#x65B0;&#x7684;C&#x6269;&#x5C55;&#x6A21;&#x5757;&#x201C;utils&#x201D;&#x5DF2;&#x88AB;&#x6DFB;&#x52A0;&#x7528;&#x4E8E;&#x5176;&#x4ED6;&#x529F;&#x80FD;&#x52A0;&#x901F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-887967cc348c92cb22f612310ccfc257">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-52"><span class="yiyi-st" id="yiyi-1060"><span class="target" id="change-1b4924eaec05f897fcafc0a386d7d0b1"><strong>[engine] [bug] </strong></span> Inspector.get_table_names()order_by =&#x201C;foreign_key&#x201D;&#x529F;&#x80FD;&#x73B0;&#x5728;&#x9996;&#x5148;&#x6309;&#x7167;dependee&#x5BF9;&#x8868;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#xFF0C;&#x4EE5;&#x4E0E;util.sort_tables&#x548C;metadata.sorted_tables&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1b4924eaec05f897fcafc0a386d7d0b1"> T2&gt;</a></span></p><p></p></li><li><p id="change-0.8.0b1-53"><span class="yiyi-st" id="yiyi-1061"><span class="target" id="change-73a085588ec93dbd5c85a150c70daa5e"><strong>[engine] [bug] </strong></span>Fixed bug whereby if a database restart affected multiple connections, each connection would individually invoke a new disposal of the pool, even though only one disposal is needed.<a class="changeset-link headerlink reference internal" href="#change-73a085588ec93dbd5c85a150c70daa5e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1062">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2522">&#xFF03;2522</a></span></p></li><li><p id="change-0.8.0b1-54"><span class="yiyi-st" id="yiyi-1063"><span class="target" id="change-07342ef0c4ddef6d0e85eb475b5f4ddf"><strong>[engine] [bug] </strong></span> .c&#x4E0A;&#x7684;&#x5217;&#x540D;&#x79F0;&#x3002;</span><span class="yiyi-st" id="yiyi-1064">&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x660E;&#x786E;&#x547D;&#x540D;&#x4E3A;.key&#x7684;&#x5217;&#xFF0C;apply_labels()&#x73B0;&#x5728;&#x57FA;&#x4E8E;<tablename>_ <colkey>&#x800C;&#x4E0D;&#x662F;<tablename>_ <colname>&#x3002;<a class="changeset-link headerlink reference internal" href="#change-07342ef0c4ddef6d0e85eb475b5f4ddf">&#xB6;</a>  T3&gt;  T2&gt;  T1&gt;  T0&gt;</colname></tablename></colkey></tablename></span></p><p><span class="yiyi-st" id="yiyi-1065">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2397">&#xFF03;2397</a></span></p></li><li><p id="change-0.8.0b1-55"><span class="yiyi-st" id="yiyi-1066"><span class="target" id="change-8d333a7e4e2cdba25bbd707e1969eb49"><strong>[engine] [bug] </strong></span>The autoload_replace flag on Table, when False, will cause any reflected foreign key constraints which refer to already-declared columns to be skipped, assuming that the in-Python declared column will take over the task of specifying in-Python ForeignKey or ForeignKeyConstraint declarations.<a class="changeset-link headerlink reference internal" href="#change-8d333a7e4e2cdba25bbd707e1969eb49">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-56"><span class="yiyi-st" id="yiyi-1067"><span class="target" id="change-1e7b3421e138590585f3eaeed284bf5a"><strong>[engine] [bug] </strong></span>The ResultProxy methods inserted_primary_key, last_updated_params(), last_inserted_params(), postfetch_cols(), prefetch_cols() all assert that the given statement is a compiled construct, and is an insert() or update() statement as is appropriate, else raise InvalidRequestError.<a class="changeset-link headerlink reference internal" href="#change-1e7b3421e138590585f3eaeed284bf5a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1068">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2498">&#xFF03;2498</a></span></p></li><li><p id="change-0.8.0b1-57"><span class="yiyi-st" id="yiyi-1069"><span class="target" id="change-b9d4ab67bbed4b4cbf58ffa3665cc480"><strong>[engine] </strong></span>&#x5220;&#x9664;ResultProxy.last_inserted_ids&#xFF0C;&#x66FF;&#x6362;&#x4E3A;inserted_primary_key&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b9d4ab67bbed4b4cbf58ffa3665cc480">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.0b1-sql"><h3><span class="yiyi-st" id="yiyi-1070">SQL <a class="headerlink" href="#change-0.8.0b1-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b1-58"><span class="yiyi-st" id="yiyi-1071"><span class="target" id="change-01459b01c904c45c34254ac95c8db643"><strong>[sql] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x65B9;&#x6CD5;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine.execution_options" title="sqlalchemy.engine.Engine.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Engine.execution_options()</span></code></a>&#x5230;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>&#x3002;</span><span class="yiyi-st" id="yiyi-1072">&#x6B64;&#x65B9;&#x6CD5;&#x4E0E;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Connection.execution_options()</span></code></a>&#x7C7B;&#x4F3C;&#xFF0C;&#x5B83;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x7236;&#x5BF9;&#x8C61;&#x7684;&#x526F;&#x672C;&#xFF0C;&#x5B83;&#x5C06;&#x5F15;&#x7528;&#x65B0;&#x7684;&#x9009;&#x9879;&#x96C6;&#x3002;</span><span class="yiyi-st" id="yiyi-1073">&#x8BE5;&#x65B9;&#x6CD5;&#x53EF;&#x7528;&#x4E8E;&#x6784;&#x5EFA;&#x6BCF;&#x4E2A;&#x5F15;&#x64CE;&#x5171;&#x4EAB;&#x76F8;&#x540C;&#x57FA;&#x7840;&#x8FDE;&#x63A5;&#x6C60;&#x7684;&#x5206;&#x7247;&#x65B9;&#x6848;&#x3002;</span><span class="yiyi-st" id="yiyi-1074">&#x8BE5;&#x65B9;&#x6CD5;&#x4E5F;&#x9488;&#x5BF9;ORM&#x4E2D;&#x7684;&#x6C34;&#x5E73;&#x788E;&#x7247;&#x914D;&#x65B9;&#x8FDB;&#x884C;&#x4E86;&#x6D4B;&#x8BD5;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-1075">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-1076"><a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine.execution_options" title="sqlalchemy.engine.Engine.execution_options"><code class="xref py py-meth docutils literal"><span class="pre">Engine.execution_options()</span></code></a></span></p></div><span class="yiyi-st" id="yiyi-1077"> <a class="changeset-link headerlink reference internal" href="#change-01459b01c904c45c34254ac95c8db643">&#xB6;</a></span><p></p></li><li><p id="change-0.8.0b1-59"><span class="yiyi-st" id="yiyi-1078"><span class="target" id="change-f532690d0ec3e3a93859eaea05b6f1c3"><strong>[sql] [feature] </strong></span>Major rework of operator system in Core, to allow redefinition of existing operators as well as addition of new operators at the type level. </span><span class="yiyi-st" id="yiyi-1079">&#x65B0;&#x7684;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x4ECE;&#x73B0;&#x6709;&#x7684;&#x7C7B;&#x578B;&#x521B;&#x5EFA;&#xFF0C;&#x8FD9;&#x4E9B;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x6216;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#x8F93;&#x51FA;&#x5230;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;ORM&#x5982;&#x4F55;&#x5141;&#x8BB8;comparator_factory&#x3002;</span><span class="yiyi-st" id="yiyi-1080">&#x65B0;&#x67B6;&#x6784;&#x5C06;&#x6B64;&#x529F;&#x80FD;&#x79FB;&#x5165;Core&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#x59CB;&#x7EC8;&#x5982;&#x4E00;&#x5730;&#x4F7F;&#x7528;&#x8BE5;&#x529F;&#x80FD;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;&#x73B0;&#x6709;&#x7C7B;&#x578B;&#x7684;&#x4F20;&#x64AD;&#x884C;&#x4E3A;&#x5E72;&#x51C0;&#x5730;&#x4F20;&#x64AD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f532690d0ec3e3a93859eaea05b6f1c3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1081">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2547">&#xFF03;2547</a></span></p></li><li><p id="change-0.8.0b1-60"><span class="yiyi-st" id="yiyi-1082"><span class="target" id="change-157798fc4c22471e5ffcc78196bc2037"><strong>[sql] [feature] </strong></span>To complement, types can now provide &#x201C;bind expressions&#x201D; and &#x201C;column expressions&#x201D; which allow compile-time injection of SQL expressions into statements on a per-column or per-bind level. </span><span class="yiyi-st" id="yiyi-1083">&#x8FD9;&#x9002;&#x7528;&#x4E8E;&#x9700;&#x8981;&#x5728;SQL&#x7EA7;&#x522B;&#x589E;&#x52A0;&#x7ED1;&#x5B9A;&#x548C;&#x7ED3;&#x679C;&#x884C;&#x4E3A;&#x7684;&#x7C7B;&#x578B;&#x7684;&#x7528;&#x4F8B;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5728;Python&#x7EA7;&#x522B;&#x3002;</span><span class="yiyi-st" id="yiyi-1084">&#x5141;&#x8BB8;&#x900F;&#x660E;&#x52A0;&#x5BC6;/&#x89E3;&#x5BC6;&#xFF0C;&#x4F7F;&#x7528;Postgis&#x51FD;&#x6570;&#x7B49;&#x65B9;&#x6848;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-157798fc4c22471e5ffcc78196bc2037">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1085">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1534">&#xFF03;1534</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2547">&#xFF03;2547</a></span></p></li><li><p id="change-0.8.0b1-61"><span class="yiyi-st" id="yiyi-1086"><span class="target" id="change-b3d03e37a80f9e08cd56e7135f530268"><strong>[sql] [feature] </strong></span>The Core oeprator system now includes the <cite>getitem</cite> operator, i.e. the bracket operator in Python. </span><span class="yiyi-st" id="yiyi-1087">&#x8FD9;&#x9996;&#x5148;&#x7528;&#x4E8E;&#x4E3A;Postgresql ARRAY&#x7C7B;&#x578B;&#x63D0;&#x4F9B;&#x7D22;&#x5F15;&#x548C;&#x5207;&#x7247;&#x884C;&#x4E3A;&#xFF0C;&#x5E76;&#x4E3A;&#x5B9A;&#x5236;__getitem__&#x65B9;&#x6848;&#x7684;&#x6700;&#x7EC8;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x94A9;&#x5B50;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x7C7B;&#x578B;&#x7EA7;&#x522B;&#x4EE5;&#x53CA;&#x5728;ORM&#x7EA7;&#x522B;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x8FD0;&#x7B97;&#x7B26;&#x65B9;&#x6848;&#x4E2D;&#x5E94;&#x7528;&#x8FD9;&#x4E9B;&#x65B9;&#x6848;&#x3002;</span><span class="yiyi-st" id="yiyi-1088"><cite>lshift</cite> (&lt;<) and="" <cite="">rshift (&gt;&gt;) are also supported as optional operators.</)></span></p><p><span class="yiyi-st" id="yiyi-1089">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x6B64;&#x66F4;&#x6539;&#x7684;&#x6548;&#x679C;&#x662F;ORM&#x4E0E;synonym()&#x6216;&#x5176;&#x4ED6;&#x201C;&#x63CF;&#x8FF0;&#x7B26;&#x5305;&#x88C5;&#x201D;&#x65B9;&#x6848;&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x7684;&#x57FA;&#x4E8E;&#x63CF;&#x8FF0;&#x7B26;&#x7684;__getitem__&#x65B9;&#x6848;&#x9700;&#x8981;&#x5F00;&#x59CB;&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x6BD4;&#x8F83;&#x5668;&#x6765;&#x7EF4;&#x62A4;&#x6B64;&#x884C;&#x4E3A;&#x3002;</span></p><span class="yiyi-st" id="yiyi-1090"> <a class="changeset-link headerlink reference internal" href="#change-b3d03e37a80f9e08cd56e7135f530268">&#xB6;</a></span><p></p></li><li><p id="change-0.8.0b1-62"><span class="yiyi-st" id="yiyi-1091"><span class="target" id="change-d5fa44003fbe6e1007f3b136de356241"><strong>[sql] [feature] </strong></span>Revised the rules used to determine the operator precedence for the user-defined operator, i.e. that granted using the <code class="docutils literal"><span class="pre">op()</span></code> method. </span><span class="yiyi-st" id="yiyi-1092">&#x4EE5;&#x524D;&#xFF0C;&#x5728;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x5E94;&#x7528;&#x4E86;&#x6700;&#x5C0F;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x73B0;&#x5728;&#x9ED8;&#x8BA4;&#x4F18;&#x5148;&#x7EA7;&#x4E3A;&#x96F6;&#xFF0C;&#x4F4E;&#x4E8E;&#x9664;&#x201C;&#x9017;&#x53F7;&#x201D;&#x4E4B;&#x5916;&#x7684;&#x6240;&#x6709;&#x8FD0;&#x7B97;&#x7B26;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x7528;&#x4E8E;<code class="docutils literal"><span class="pre">func</span></code>&#x8C03;&#x7528;&#x7684;&#x53C2;&#x6570;&#x5217;&#x8868;&#xFF09;&#x548C;&#x201C;AS &#x201C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code class="docutils literal"><span class="pre">op()</span></code>&#x65B9;&#x6CD5;&#x7684;&#x201D;precedence&#x201C;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x81EA;&#x5B9A;&#x4E49;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d5fa44003fbe6e1007f3b136de356241">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1093">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2537">&#xFF03;2537</a></span></p></li><li><p id="change-0.8.0b1-63"><span class="yiyi-st" id="yiyi-1094"><span class="target" id="change-510b1889868d9947ad1950a2e512d61d"><strong>[sql] [feature] </strong></span>&#x5C06;&#x201C;&#x6392;&#x5E8F;&#x89C4;&#x5219;&#x201D;&#x53C2;&#x6570;&#x6DFB;&#x52A0;&#x5230;&#x6240;&#x6709;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1095">&#x5F53;&#x5B58;&#x5728;&#x65F6;&#xFF0C;&#x5448;&#x73B0;&#x4E3A;COLLATE <collation>&#x3002;  T0&gt;</collation></span><span class="yiyi-st" id="yiyi-1096">&#x8FD9;&#x53EF;&#x4EE5;&#x652F;&#x6301;COLLATE&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x73B0;&#x5728;&#x652F;&#x6301;&#x5305;&#x62EC;MySQL&#xFF0C;SQLite&#x548C;Postgresql&#x5728;&#x5185;&#x7684;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-510b1889868d9947ad1950a2e512d61d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1097">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2276">&#xFF03;2276</a></span></p></li><li><p id="change-0.8.0b1-64"><span class="yiyi-st" id="yiyi-1098"><span class="target" id="change-800e35771b07bd8b83965890465964c3"><strong>[sql] [feature] </strong></span>&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5C06;operators.custom_op()&#x4E0E;UnaryExpression()&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x4E00;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-800e35771b07bd8b83965890465964c3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-65"><span class="yiyi-st" id="yiyi-1099"><span class="target" id="change-5fabc53dcd5920c9dd6725c67706b1cb"><strong>[sql] [feature] </strong></span>&#x589E;&#x5F3A;&#x7684;GenericFunction&#x548C;func&#x3002;</span><span class="yiyi-st" id="yiyi-1100">*&#x5141;&#x8BB8;&#x901A;&#x8FC7;func&#x4F7F;&#x7528;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;GenericFunction&#x5B50;&#x7C7B;&#x3002;</span><span class="yiyi-st" id="yiyi-1101">*&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x81EA;&#x52A8;&#x6309;&#x7C7B;&#x540D;&#xFF0C;&#x53EF;&#x9009;&#x5730;&#x4F7F;&#x7528;&#x5305;&#x540D;&#x79F0;&#xFF0C;&#x4EE5;&#x53CA;&#x80FD;&#x591F;&#x4F7F;&#x6240;&#x5448;&#x73B0;&#x7684;&#x540D;&#x79F0;&#x4E0E;func&#x4E2D;&#x8BC6;&#x522B;&#x7684;&#x540D;&#x79F0;&#x4E0D;&#x540C;&#x3002;</span><span class="yiyi-st" id="yiyi-1102">* <a class="changeset-link headerlink reference internal" href="#change-5fabc53dcd5920c9dd6725c67706b1cb">&#xB6; T0&gt;</a></span></p><p></p></li><li><p id="change-0.8.0b1-66"><span class="yiyi-st" id="yiyi-1103"><span class="target" id="change-c456cfbbef249505af02d4bed46a65a2"><strong>[sql] [feature] </strong></span>The cast() and extract() constructs will now be produced via the func. </span><span class="yiyi-st" id="yiyi-1104">*&#x8BBF;&#x95EE;&#x5668;&#xFF0C;&#x56E0;&#x4E3A;&#x7528;&#x6237;&#x81EA;&#x7136;&#x4F1A;&#x5C1D;&#x8BD5;&#x4ECE;func&#x8BBF;&#x95EE;&#x8FD9;&#x4E9B;&#x540D;&#x79F0;&#x3002;</span><span class="yiyi-st" id="yiyi-1105">*&#x5C3D;&#x7BA1;&#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61;&#x4E0D;&#x662F;FunctionElement&#xFF0C;&#x5B83;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x505A;&#x9884;&#x671F;&#x7684;&#x4E8B;&#x60C5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c456cfbbef249505af02d4bed46a65a2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1106">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2562">&#xFF03;2562</a></span></p></li><li><p id="change-0.8.0b1-67"><span class="yiyi-st" id="yiyi-1107">&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x65B0;&#x7684;inspect()&#x670D;&#x52A1;&#x6765;&#x83B7;&#x53D6;Inspector&#x5BF9;&#x8C61;&#xFF0C;&#x5B83;&#x662F;<a class="changeset-link headerlink reference internal" href="#change-a82ec299dc0d072667ab30cb57b59f22">&#xB6;</a>&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;<span class="target" id="change-a82ec299dc0d072667ab30cb57b59f22"><strong>[sql] [feature] </strong></span></span></p><p><span class="yiyi-st" id="yiyi-1108">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2208">&#xFF03;2208</a></span></p></li><li><p id="change-0.8.0b1-68"><span class="yiyi-st" id="yiyi-1109"><span class="target" id="change-d58191ed252657f9d6fb0178b62abf4c"><strong>[sql] [feature] </strong></span> column_reflect&#x4E8B;&#x4EF6;&#x73B0;&#x5728;&#x63A5;&#x53D7;Inspector&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x4F4D;&#x4E8E;&#x201C;table&#x201D;&#x4E4B;&#x524D;&#x3002;</span><span class="yiyi-st" id="yiyi-1110">&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x65B0;&#x4E8B;&#x4EF6;&#x7684;0.7&#x7248;&#x672C;&#x7684;&#x4EE3;&#x7801;&#x5C06;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4EE5;&#x6DFB;&#x52A0;&#x201C;&#x68C0;&#x67E5;&#x5668;&#x201D;&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d58191ed252657f9d6fb0178b62abf4c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1111">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2418">&#xFF03;2418</a></span></p></li><li><p id="change-0.8.0b1-69"><span class="yiyi-st" id="yiyi-1112"><span class="target" id="change-6c39aca731482d07a19bb63fffd1db07"><strong>[sql] [feature] </strong></span>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7ED3;&#x679C;&#x96C6;&#x4E2D;&#x5217;&#x5B9A;&#x4F4D;&#x7684;&#x884C;&#x4E3A;&#x73B0;&#x5728;&#x662F;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-1113">&#x591A;&#x5E74;&#x6765;&#xFF0C;SQLAlchemy&#x4F1A;&#x5BF9;&#x8FD9;&#x4E9B;&#x503C;&#x6267;&#x884C;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x8F6C;&#x6362;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x51CF;&#x5C11;&#x50CF;Oracle&#x548C;Firebird&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x8A00;&#x7684;&#x65E9;&#x671F;&#x5927;&#x5C0F;&#x5199;&#x654F;&#x611F;&#x95EE;&#x9898;&#x3002;</span><span class="yiyi-st" id="yiyi-1114">&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x5DF2;&#x7ECF;&#x5728;&#x66F4;&#x73B0;&#x4EE3;&#x7684;&#x7248;&#x672C;&#x4E2D;&#x5F97;&#x5230;&#x4E86;&#x66F4;&#x6E05;&#x6670;&#x7684;&#x89E3;&#x51B3;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x6807;&#x8BC6;&#x7B26;&#x4E0A;&#x8C03;&#x7528;lower()&#x7684;&#x6027;&#x80FD;&#x53D7;&#x5230;&#x5F71;&#x54CD;&#x3002;</span><span class="yiyi-st" id="yiyi-1115">&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x6BD4;&#x8F83;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;create_engine()&#x4E0A;&#x8BBE;&#x7F6E;&#x201C;case_insensitive = False&#x201D;&#x6765;&#x91CD;&#x65B0;&#x542F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6c39aca731482d07a19bb63fffd1db07">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1116">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2423">&#xFF03;2423</a></span></p></li><li><p id="change-0.8.0b1-70"><span class="yiyi-st" id="yiyi-1117"><span class="target" id="change-f0476d1e752c1114226c2f7b1733e959"><strong>[sql] [feature] </strong></span>The &#x201C;unconsumed column names&#x201D; warning emitted when keys are present in insert.values() or update.values() that aren&#x2019;t in the target table is now an exception.<a class="changeset-link headerlink reference internal" href="#change-f0476d1e752c1114226c2f7b1733e959">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1118">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2415">&#xFF03;2415</a></span></p></li><li><p id="change-0.8.0b1-71"><span class="yiyi-st" id="yiyi-1119"><span class="target" id="change-fbcc82d903c96f4fc45ae1118e05f293"><strong>[sql] [feature] </strong></span>&#x5C06;&#x201C;MATCH&#x201D;&#x5B50;&#x53E5;&#x6DFB;&#x52A0;&#x5230;ForeignKey&#xFF0C;ForeignKeyConstraint&#xFF0C;&#x793C;&#x8C8C;Ryan Kelly&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fbcc82d903c96f4fc45ae1118e05f293">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1120">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2502">&#xFF03;2502</a></span></p></li><li><p id="change-0.8.0b1-72"><span class="yiyi-st" id="yiyi-1121"><span class="target" id="change-d72952e44e63b0fc2012138b67d47086"><strong>[sql] [feature] </strong></span>&#x4ECE;&#x8868;&#x7684;&#x522B;&#x540D;&#x4E2D;&#x589E;&#x52A0;&#x4E86;&#x5BF9;DELETE&#x548C;UPDATE&#x7684;&#x652F;&#x6301;&#xFF0C;&#x5047;&#x5B9A;&#x5B83;&#x4E0E;&#x67E5;&#x8BE2;&#x4E2D;&#x7684;&#x5176;&#x4ED6;&#x5730;&#x65B9;&#x76F8;&#x5173;&#xFF0C;Ryan Kelly&#x63D0;&#x4F9B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d72952e44e63b0fc2012138b67d47086">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1122">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2507">&#xFF03;2507</a></span></p></li><li><p id="change-0.8.0b1-73"><span class="yiyi-st" id="yiyi-1123"><span class="target" id="change-0ad7f438f6e23fa71b85a5f8d68a4196"><strong>[sql] [feature] </strong></span>select() features a correlate_except() method, auto correlates all selectables except those passed.<a class="changeset-link headerlink reference internal" href="#change-0ad7f438f6e23fa71b85a5f8d68a4196">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-74"><span class="yiyi-st" id="yiyi-1124"><span class="target" id="change-f4bff6e966d77ff6d933f92d367dcae4"><strong>[sql] [feature] </strong></span>The prefix_with() method is now available on each of select(), insert(), update(), delete(), all with the same API, accepting multiple prefix calls, as well as a &#x201C;dialect name&#x201D; so that the prefix can be limited to one kind of dialect.<a class="changeset-link headerlink reference internal" href="#change-f4bff6e966d77ff6d933f92d367dcae4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1125">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2431">&#xFF03;2431</a></span></p></li><li><p id="change-0.8.0b1-75"><span class="yiyi-st" id="yiyi-1126"><span class="target" id="change-7dbf816368fe65f3b7de2d522397a8a6"><strong>[sql] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;reduce_columns()&#x65B9;&#x6CD5;&#x6765;&#x9009;&#x62E9;()&#x6784;&#x9020;&#xFF0C;&#x4F7F;&#x7528;util.reduce_columns&#x5B9E;&#x7528;&#x7A0B;&#x5E8F;&#x51FD;&#x6570;&#x5185;&#x8054;&#x5217;&#x66FF;&#x6362;&#x5217;&#x4EE5;&#x5220;&#x9664;&#x7B49;&#x6548;&#x5217;&#x3002;</span><span class="yiyi-st" id="yiyi-1127">reduce_columns()&#x8FD8;&#x6DFB;&#x52A0;&#x4E86;&#x201C;with_only_synonyms&#x201D;&#xFF0C;&#x4EE5;&#x5C06;&#x7F29;&#x51CF;&#x9650;&#x5236;&#x4E3A;&#x5177;&#x6709;&#x76F8;&#x540C;&#x540D;&#x79F0;&#x7684;&#x5217;&#x3002;</span><span class="yiyi-st" id="yiyi-1128">&#x5F03;&#x7528;&#x7684;fold_equivalents()&#x529F;&#x80FD;&#x88AB;&#x5220;&#x9664;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7dbf816368fe65f3b7de2d522397a8a6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1129">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1729">&#xFF03;1729</a></span></p></li><li><p id="change-0.8.0b1-76"><span class="yiyi-st" id="yiyi-1130"><span class="target" id="change-8d8e593e41bb7a19ee46c22bc0decfa1"><strong>[sql] [feature] </strong></span>Reworked the startswith(), endswith(), contains() operators to do a better job with negation (NOT LIKE), and also to assemble them at compilation time so that their rendered SQL can be altered, such as in the case for Firebird STARTING WITH<a class="changeset-link headerlink reference internal" href="#change-8d8e593e41bb7a19ee46c22bc0decfa1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1131">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2470">&#xFF03;2470</a></span></p></li><li><p id="change-0.8.0b1-77"><span class="yiyi-st" id="yiyi-1132"><span class="target" id="change-120cab828675e93105c9e93717edec27"><strong>[sql] [feature] </strong></span>&#x4E3A;&#x6E32;&#x67D3;CREATE TABLE&#x7684;&#x7CFB;&#x7EDF;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x94A9;&#x5B50;&#xFF0C;&#x901A;&#x8FC7;&#x9488;&#x5BF9;&#x65B0;&#x7684;schema.CreateColumn&#x6784;&#x9020;&#x51FD;&#x6570;&#x6784;&#x9020;&#x4E00;&#x4E2A;@compiles&#x51FD;&#x6570;&#xFF0C;&#x4E3A;&#x6BCF;&#x4E2A;Column&#x5355;&#x72EC;&#x63D0;&#x4F9B;&#x5BF9;&#x6E32;&#x67D3;&#x7684;&#x8BBF;&#x95EE;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-120cab828675e93105c9e93717edec27">&#xB6; T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-1133">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2463">&#xFF03;2463</a></span></p></li><li><p id="change-0.8.0b1-78"><span class="yiyi-st" id="yiyi-1134"><span class="target" id="change-9f7e29fc75f561268d93f465d8982eb1"><strong>[sql] [feature] </strong></span>&#x201C;&#x6807;&#x91CF;&#x201D;&#x9009;&#x62E9;&#x73B0;&#x5728;&#x6709;&#x4E00;&#x4E2A;WHERE&#x65B9;&#x6CD5;&#x6765;&#x5E2E;&#x52A9;&#x751F;&#x6210;&#x6784;&#x5EFA;&#x3002;</span><span class="yiyi-st" id="yiyi-1135">&#x5173;&#x4E8E;SS&#x5982;&#x4F55;&#x201C;&#x5173;&#x8054;&#x201D;&#x5217;&#x7684;&#x7EC6;&#x5FAE;&#x8C03;&#x6574;&#xFF1B;&#x65B0;&#x65B9;&#x6CD5;&#x4E0D;&#x518D;&#x9002;&#x7528;&#x4E8E;&#x6240;&#x9009;&#x57FA;&#x7840;Table&#x5217;&#x7684;&#x542B;&#x4E49;&#x3002;</span><span class="yiyi-st" id="yiyi-1136">&#x8FD9;&#x6539;&#x5584;&#x4E86;&#x4E00;&#x4E9B;&#x76F8;&#x5F53;&#x6DF1;&#x5965;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5E76;&#x4E14;&#x90A3;&#x91CC;&#x7684;&#x903B;&#x8F91;&#x4F3C;&#x4E4E;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x76EE;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9f7e29fc75f561268d93f465d8982eb1">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-79"><span class="yiyi-st" id="yiyi-1137"><span class="target" id="change-aaa07a086b42d588284232c42691223e"><strong>[sql] [feature] </strong></span>&#x9996;&#x6B21;&#x4F7F;&#x7528;&#x6784;&#x9020;&#x6210;&#x5F15;&#x7528;&#x591A;&#x4E2A;&#x8FDC;&#x7A0B;&#x8868;&#x7684;ForeignKeyConstraint()&#x65F6;&#xFF0C;&#x4F1A;&#x5F15;&#x53D1;&#x4E00;&#x4E2A;&#x663E;&#x5F0F;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-aaa07a086b42d588284232c42691223e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1138">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2455">&#xFF03;2455</a></span></p></li><li><p id="change-0.8.0b1-80"><span class="yiyi-st" id="yiyi-1139"><span class="target" id="change-7d11577fe3de5f05b5b85e20a72c5d30"><strong>[sql] [feature] </strong></span>Added <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.notin_" title="sqlalchemy.sql.operators.ColumnOperators.notin_"><code class="xref py py-meth docutils literal"><span class="pre">ColumnOperators.notin_()</span></code></a>, <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.notlike" title="sqlalchemy.sql.operators.ColumnOperators.notlike"><code class="xref py py-meth docutils literal"><span class="pre">ColumnOperators.notlike()</span></code></a>, <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.notilike" title="sqlalchemy.sql.operators.ColumnOperators.notilike"><code class="xref py py-meth docutils literal"><span class="pre">ColumnOperators.notilike()</span></code></a> to <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.operators.ColumnOperators" title="sqlalchemy.sql.operators.ColumnOperators"><code class="xref py py-class docutils literal"><span class="pre">ColumnOperators</span></code></a>.<a class="changeset-link headerlink reference internal" href="#change-7d11577fe3de5f05b5b85e20a72c5d30">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1140">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2580">&#xFF03;2580</a></span></p></li><li><p id="change-0.8.0b1-81"><span class="yiyi-st" id="yiyi-1141"><span class="target" id="change-25bf00fd616dfde5e75310390171c9cb"><strong>[sql] [changed] </strong></span>Most classes in expression.sql are no longer preceded with an underscore, i.e. Label, SelectBase, Generative, CompareMixin. </span><span class="yiyi-st" id="yiyi-1142">_BindParamClause&#x4E5F;&#x88AB;&#x91CD;&#x547D;&#x540D;&#x4E3A;BindParameter&#x3002;</span><span class="yiyi-st" id="yiyi-1143">&#x8FD9;&#x4E9B;&#x7C7B;&#x7684;&#x65E7;&#x4E0B;&#x5212;&#x7EBF;&#x540D;&#x79F0;&#x5728;&#x53EF;&#x9884;&#x89C1;&#x7684;&#x5C06;&#x6765;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x540C;&#x4E49;&#x8BCD;&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-25bf00fd616dfde5e75310390171c9cb">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-82"><span class="yiyi-st" id="yiyi-1144"><span class="target" id="change-ad44af79c886d1bb283042deb64f9cbe"><strong>[sql] [removed] </strong></span>The long-deprecated and non-functional <code class="docutils literal"><span class="pre">assert_unicode</span></code> flag on <a class="reference internal" href="core_engines.html#sqlalchemy.create_engine" title="sqlalchemy.create_engine"><code class="xref py py-func docutils literal"><span class="pre">create_engine()</span></code></a> as well as <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.String" title="sqlalchemy.types.String"><code class="xref py py-class docutils literal"><span class="pre">String</span></code></a> is removed.<a class="changeset-link headerlink reference internal" href="#change-ad44af79c886d1bb283042deb64f9cbe">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-83"><span class="yiyi-st" id="yiyi-1145"><span class="target" id="change-9f11c14207568ba3d31a17ff11ff6602"><strong>[sql] [bug] </strong></span>Fixed bug where keyword arguments passed to <code class="xref py py-meth docutils literal"><span class="pre">Compiler.process()</span></code> wouldn&#x2019;t get propagated to the column expressions present in the columns clause of a SELECT statement. </span><span class="yiyi-st" id="yiyi-1146">&#x7279;&#x522B;&#x662F;&#x5F53;&#x7531;&#x4F9D;&#x8D56;&#x7279;&#x6B8A;&#x6807;&#x5FD7;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x7F16;&#x8BD1;&#x65B9;&#x6848;&#x4F7F;&#x7528;&#x65F6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9f11c14207568ba3d31a17ff11ff6602">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1147">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2593">&#xFF03;2593</a></span></p></li><li><p id="change-0.8.0b1-84"><span class="yiyi-st" id="yiyi-1148"><span class="target" id="change-a732049d950faee01eefaa41df6d9bcf"><strong>[sql] [bug] [orm] </strong></span>The auto-correlation feature of <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal"><span class="pre">select()</span></code></a>, and by proxy that of <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a>, will not take effect for a SELECT statement that is being rendered directly in the FROM list of the enclosing SELECT. </span><span class="yiyi-st" id="yiyi-1149">SQL&#x4E2D;&#x7684;&#x5173;&#x8054;&#x4EC5;&#x9002;&#x7528;&#x4E8E;&#x8BF8;&#x5982;WHERE&#xFF0C;ORDER BY&#xFF0C;columns&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a732049d950faee01eefaa41df6d9bcf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1150">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2595">&#xFF03;2595</a></span></p></li><li><p id="change-0.8.0b1-85"><span class="yiyi-st" id="yiyi-1151"><span class="target" id="change-4f0b1f3585efc63ec1286fc3774c09b9"><strong>[sql] [bug] </strong></span>&#x8C03;&#x6574;&#x5217;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x4F7F;&#x201C;concat&#x201D;&#x548C;&#x201C;match&#x201D;&#x8FD0;&#x7B97;&#x7B26;&#x4E0E;&#x201C;is&#x201D;&#xFF0C;&#x201C;like&#x201D;&#x7B49;&#x76F8;&#x540C;&#x3002;&#x5F53;&#x4E0E;&#x201C;IS&#x201D;&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x8FD9;&#x6709;&#x52A9;&#x4E8E;&#x52A0;&#x62EC;&#x53F7;&#x6E32;&#x67D3;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4f0b1f3585efc63ec1286fc3774c09b9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1152">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2564">&#xFF03;2564</a></span></p></li><li><p id="change-0.8.0b1-86"><span class="yiyi-st" id="yiyi-1153"><span class="target" id="change-e9e2da86a8c37003cda9737252a22e66"><strong>[sql] [bug] </strong></span>&#x4F7F;&#x7528;&#x5E26;&#x6709;&#x6216;&#x4E0D;&#x5E26;&#x6709;&#x5176;&#x4ED6;&#x4FEE;&#x9970;&#x7ED3;&#x6784;&#x7684;&#x6807;&#x7B7E;&#x5C06;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x5E94;&#x7528;&#x4E8E;select&#x8BED;&#x53E5;&#x5C06;&#x4E0D;&#x518D;&#x5C06;&#x8BE5;&#x8868;&#x8FBE;&#x201C;&#x5B9A;&#x4F4D;&#x5230;&#x201D;&#x5E95;&#x5C42;Column&#xFF1B;&#x8FD9;&#x4F1A;&#x5F71;&#x54CD;&#x4F9D;&#x8D56;&#x5217;&#x5B9A;&#x4F4D;&#x4EE5;&#x68C0;&#x7D22;&#x7ED3;&#x679C;&#x7684;ORM&#x64CD;&#x4F5C;&#x3002;</span><span class="yiyi-st" id="yiyi-1154">&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x67E5;&#x8BE2;&#xFF08;User.id&#xFF0C;User.id.label&#xFF08;&apos;foo&apos;&#xFF09;&#xFF09;&#x8FD9;&#x6837;&#x7684;&#x67E5;&#x8BE2;&#x73B0;&#x5728;&#x5C06;&#x5206;&#x522B;&#x8DDF;&#x8E2A;&#x6BCF;&#x4E2A;&#x201C;User.id&#x201D;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5C06;&#x5B83;&#x4EEC;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-1155">&#x9884;&#x8BA1;&#x4EFB;&#x4F55;&#x7528;&#x6237;&#x90FD;&#x4E0D;&#x4F1A;&#x53D7;&#x5230;&#x6B64;&#x5F71;&#x54CD;&#xFF1B;&#x7136;&#x800C;&#xFF0C;&#x5982;&#x679C;select()&#x547D;&#x540D;&#x7684;Column&#x5BF9;&#x8C61;&#x5177;&#x6709;&#x4EFB;&#x610F;&#x7684;.label()&#x540D;&#x79F0;&#xFF0C;&#x5219;&#x4F7F;&#x7528;select()&#x4E0E;query.from_statement()&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x5E76;&#x8BD5;&#x56FE;&#x52A0;&#x8F7D;&#x5B8C;&#x5168;&#x7EC4;&#x5408;&#x7684;ORM&#x5B9E;&#x4F53;&#x7684;&#x529F;&#x80FD;&#x53EF;&#x80FD;&#x65E0;&#x6CD5;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E9B;&#x5C06;&#x4E0D;&#x4F1A;&#x5BF9;&#x8BE5;&#x5B9E;&#x4F53;&#x6620;&#x5C04;&#x7684;Column&#x5BF9;&#x8C61;&#x66F4;&#x957F;&#x7684;&#x76EE;&#x6807;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e9e2da86a8c37003cda9737252a22e66">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1156">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2591">&#xFF03;2591</a></span></p></li><li><p id="change-0.8.0b1-87"><span class="yiyi-st" id="yiyi-1157"><span class="target" id="change-609b199612bf01e7e2389e4bc22e0058"><strong>[sql] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;Column&#x201C;default&#x201D;&#x53C2;&#x6570;&#x7684;&#x89E3;&#x91CA;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x662F;&#x53EF;&#x8C03;&#x7528;&#x7684;&#xFF0C;&#x4E0D;&#x4F1A;&#x5C06;ExecutionContext&#x4F20;&#x9012;&#x7ED9;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-609b199612bf01e7e2389e4bc22e0058">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1158">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2520">&#xFF03;2520</a></span></p></li><li><p id="change-0.8.0b1-88"><span class="yiyi-st" id="yiyi-1159"><span class="target" id="change-da559086155956288e47dfe0ce6c6f63"><strong>[sql] [bug] </strong></span>All of UniqueConstraint, ForeignKeyConstraint, CheckConstraint, and PrimaryKeyConstraint will attach themselves to their parent table automatically when they refer to a Table-bound Column object directly (i.e. not just string column name), and refer to one and only one Table. </span><span class="yiyi-st" id="yiyi-1160">&#x5728;0.8&#x4E4B;&#x524D;&#xFF0C;&#x6B64;&#x884C;&#x4E3A;&#x53D1;&#x751F;&#x5728;UniqueConstraint&#x548C;PrimaryKeyConstraint&#xFF0C;&#x800C;&#x4E0D;&#x662F;ForeignKeyConstraint&#x6216;CheckConstraint&#x3002;<a class="changeset-link headerlink reference internal" href="#change-da559086155956288e47dfe0ce6c6f63">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1161">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2410">&#xFF03;2410</a></span></p></li><li><p id="change-0.8.0b1-89"><span class="yiyi-st" id="yiyi-1162"><span class="target" id="change-b11441c88863d587366a61b22f263c2d"><strong>[sql] [bug] </strong></span>TypeDecorator now includes a generic repr() that works in terms of the &#x201C;impl&#x201D; type by default. </span><span class="yiyi-st" id="yiyi-1163">&#x8FD9;&#x662F;&#x6307;&#x5B9A;&#x81EA;&#x5B9A;&#x4E49;__init__&#x65B9;&#x6CD5;&#x7684;TypeDecorator&#x7C7B;&#x7684;&#x884C;&#x4E3A;&#x66F4;&#x6539;&#xFF1B;&#x5982;&#x679C;&#x9700;&#x8981;__repr __()&#x6765;&#x63D0;&#x4F9B;&#x5FE0;&#x5B9E;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x8868;&#x793A;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E9B;&#x7C7B;&#x578B;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;__repr __()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b11441c88863d587366a61b22f263c2d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1164">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2594">&#xFF03;2594</a></span></p></li><li><p id="change-0.8.0b1-90"><span class="yiyi-st" id="yiyi-1165"><span class="target" id="change-8893c427938842218beba495ac8f76f1"><strong>[sql] [bug] </strong></span>column.label(None) now produces an anonymous label, instead of returning the column object itself, consistent with the behavior of label(column, None).<a class="changeset-link headerlink reference internal" href="#change-8893c427938842218beba495ac8f76f1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1166">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2168">&#xFF03;2168</a></span></p></li><li><p id="change-0.8.0b1-91"><span class="yiyi-st" id="yiyi-1167"><span class="target" id="change-fb3c268a1d6d367b1d196ef3b07b4d9e"><strong>[sql] [change] </strong></span>&#x5982;&#x679C;&#x6307;&#x5B9A;&#x4E86;&#x957F;&#x5EA6;&#xFF0C;&#x5219;Text()&#x7C7B;&#x578B;&#x4F1A;&#x5448;&#x73B0;&#x7ED9;&#x5B9A;&#x957F;&#x5EA6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fb3c268a1d6d367b1d196ef3b07b4d9e">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.0b1-postgresql"><h3><span class="yiyi-st" id="yiyi-1168">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.8.0b1-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b1-92"><span class="yiyi-st" id="yiyi-1169"><span class="target" id="change-2e5a63d698d0ebd04785ccf495e9bad5"><strong>[postgresql] [feature] </strong></span>postgresql.ARRAY features an optional &#x201C;dimension&#x201D; argument, will assign a specific number of dimensions to the array which will render in DDL as ARRAY[][]..., also improves performance of bind/result processing.<a class="changeset-link headerlink reference internal" href="#change-2e5a63d698d0ebd04785ccf495e9bad5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1170">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2441">&#xFF03;2441</a></span></p></li><li><p id="change-0.8.0b1-93"><span class="yiyi-st" id="yiyi-1171"><span class="target" id="change-78619b6fa31af74f1144a57dae7a4f70"><strong>[postgresql] [feature] </strong></span> postgresql.ARRAY&#x73B0;&#x5728;&#x652F;&#x6301;&#x7D22;&#x5F15;&#x548C;&#x5207;&#x7247;&#x3002;</span><span class="yiyi-st" id="yiyi-1172">Python []&#x8FD0;&#x7B97;&#x7B26;&#x5728;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x4E3A;ARRAY&#x7684;SQL&#x8868;&#x8FBE;&#x5F0F;&#x4E0A;&#x53EF;&#x7528;&#xFF1B;&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x6574;&#x6570;&#x6216;&#x7B80;&#x5355;&#x7684;&#x7247;&#x6BB5;&#x3002;</span><span class="yiyi-st" id="yiyi-1173">&#x5207;&#x7247;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;UPDATE&#x8BED;&#x53E5;&#x7684;SET&#x5B50;&#x53E5;&#x7684;&#x8D4B;&#x503C;&#x7AEF;&#x4F7F;&#x7528;&#xFF0C;&#x65B9;&#x6CD5;&#x662F;&#x5C06;&#x5B83;&#x4EEC;&#x4F20;&#x5165;Update.values()&#xFF1B;&#x8BF7;&#x53C2;&#x9605;&#x6587;&#x6863;&#x4EE5;&#x83B7;&#x53D6;&#x793A;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-78619b6fa31af74f1144a57dae7a4f70">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-94"><span class="yiyi-st" id="yiyi-1174"><span class="target" id="change-9b6a5818e07607737947ddcbdae34829"><strong>[postgresql] [feature] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x201C;&#x6570;&#x7EC4;&#x5B57;&#x9762;&#x91CF;&#x201D;&#x7ED3;&#x6784;postgresql.array()&#x3002;</span><span class="yiyi-st" id="yiyi-1175">&#x57FA;&#x672C;&#x4E0A;&#x662F;&#x4E00;&#x4E2A;&#x201C;&#x5143;&#x7EC4;&#x201D;&#xFF0C;&#x5448;&#x73B0;&#x4E3A;ARRAY [1,2,3]&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9b6a5818e07607737947ddcbdae34829">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-95"><span class="yiyi-st" id="yiyi-1176"><span class="target" id="change-041d6fd58a2b6ecaa456a0230daca193"><strong>[postgresql] [feature] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;Postgresql ONLY&#x5173;&#x952E;&#x5B57;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x8BE5;&#x5173;&#x952E;&#x5B57;&#x53EF;&#x4EE5;&#x5BF9;&#x5E94;&#x4E8E;SELECT&#xFF0C;UPDATE&#x6216;DELETE&#x8BED;&#x53E5;&#x4E2D;&#x7684;&#x8868;&#x3002;</span><span class="yiyi-st" id="yiyi-1177">&#x8BE5;&#x77ED;&#x8BED;&#x4F7F;&#x7528;with_hint()&#x5EFA;&#x7ACB;&#x3002;</span><span class="yiyi-st" id="yiyi-1178">&#x793C;&#x8C8C;Ryan Kelly <a class="changeset-link headerlink reference internal" href="#change-041d6fd58a2b6ecaa456a0230daca193">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1179">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2506">&#xFF03;2506</a></span></p></li><li><p id="change-0.8.0b1-96"><span class="yiyi-st" id="yiyi-1180"><span class="target" id="change-0e11be03f42037dd59265040930eb6b6"><strong>[postgresql] [feature] </strong></span>The &#x201C;ischema_names&#x201D; dictionary of the Postgresql dialect is &#x201C;unofficially&#x201D; customizable. </span><span class="yiyi-st" id="yiyi-1181">&#x8FD9;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x4E2A;&#x5B57;&#x5178;&#x4E2D;&#x6DFB;&#x52A0;&#x65B0;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x4F8B;&#x5982;PostGIS&#x7C7B;&#x578B;&#xFF0C;&#x5E76;&#x4E14;PG&#x7C7B;&#x578B;&#x7684;&#x53CD;&#x5C04;&#x4EE3;&#x7801;&#x5E94;&#x8BE5;&#x80FD;&#x591F;&#x5904;&#x7406;&#x5177;&#x6709;&#x53EF;&#x53D8;&#x6570;&#x91CF;&#x53C2;&#x6570;&#x7684;&#x7B80;&#x5355;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1182">&#x8FD9;&#x91CC;&#x7684;&#x529F;&#x80FD;&#x201C;&#x975E;&#x5B98;&#x65B9;&#x201D;&#x6709;&#x4E09;&#x4E2A;&#x539F;&#x56E0;&#xFF1A;</span></p><ol class="arabic"><li><span class="yiyi-st" id="yiyi-1183">&#x8FD9;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x201C;&#x5B98;&#x65B9;&#x201D;API&#x3002;</span><span class="yiyi-st" id="yiyi-1184">&#x7406;&#x60F3;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x201C;&#x5B98;&#x65B9;&#x201D;API&#x5C06;&#x5141;&#x8BB8;&#x4EE5;&#x901A;&#x7528;&#x65B9;&#x5F0F;&#x5728;&#x65B9;&#x8A00;&#x6216;&#x5168;&#x5C40;&#x7EA7;&#x522B;&#x5B9A;&#x5236;&#x7C7B;&#x578B;&#x5904;&#x7406;&#x53EF;&#x8C03;&#x7528;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1185">&#x8FD9;&#x4EC5;&#x9002;&#x7528;&#x4E8E;PG&#x65B9;&#x8A00;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x56E0;&#x4E3A;PG&#x5BF9;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;&#x4E0E;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5E93;&#x540E;&#x7AEF;&#x6709;&#x5E7F;&#x6CDB;&#x7684;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-1186">&#x4E00;&#x4E2A;&#x771F;&#x6B63;&#x7684;API&#x5C06;&#x5728;&#x9ED8;&#x8BA4;&#x7684;&#x65B9;&#x8A00;&#x7EA7;&#x522B;&#x5B9E;&#x73B0;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1187">&#x6B64;&#x5904;&#x7684;&#x53CD;&#x5C04;&#x4EE3;&#x7801;&#x4EC5;&#x9488;&#x5BF9;&#x7B80;&#x5355;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x66F4;&#x591A;&#x6784;&#x56FE;&#x7C7B;&#x578B;&#x7684;&#x95EE;&#x9898;&#x3002;</span></li></ol><p><span class="yiyi-st" id="yiyi-1188">&#x8865;&#x4E01;&#x793C;&#x8C8C;&#xC9;ricLemoine&#x3002;</span></p><span class="yiyi-st" id="yiyi-1189"> <a class="changeset-link headerlink reference internal" href="#change-0e11be03f42037dd59265040930eb6b6">&#xB6;</a></span><p></p></li></ul></div><div class="section" id="change-0.8.0b1-mysql"><h3><span class="yiyi-st" id="yiyi-1190">MySQL&#x7684;<a class="headerlink" href="#change-0.8.0b1-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b1-97"><span class="yiyi-st" id="yiyi-1191"><span class="target" id="change-2d129ed854bd771095a45bdf0613705c"><strong>[mysql] [feature] </strong></span>&#x4E3A;mysql&#x8BED;&#x8A00;&#x6DFB;&#x52A0;&#x4E86;TIME&#x7C7B;&#x578B;&#xFF0C;&#x63A5;&#x53D7;&#x201C;fst&#x201D;&#x53C2;&#x6570;&#xFF0C;&#x5B83;&#x662F;&#x6700;&#x8FD1;MySQL&#x7248;&#x672C;&#x7684;&#x65B0;&#x201C;&#x5C0F;&#x6570;&#x79D2;&#x201D;&#x8BF4;&#x660E;&#x7B26;&#x3002;</span><span class="yiyi-st" id="yiyi-1192">&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5C06;&#x89E3;&#x91CA;&#x4ECE;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x63A5;&#x6536;&#x7684;&#x5FAE;&#x79D2;&#x90E8;&#x5206;&#xFF0C;&#x4F46;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x6B64;&#x65F6;&#x5927;&#x591A;&#x6570;/&#x6240;&#x6709;MySQL DBAPI&#x90FD;&#x4E0D;&#x652F;&#x6301;&#x8FD4;&#x56DE;&#x8BE5;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2d129ed854bd771095a45bdf0613705c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1193">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2534">&#xFF03;2534</a></span></p></li><li><p id="change-0.8.0b1-98"><span class="yiyi-st" id="yiyi-1194"><span class="target" id="change-700a963887f5381be78374ee6cbab43e"><strong>[mysql] [bug] </strong></span>&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x8FDE;&#x63A5;&#x65F6;&#xFF0C;Dialect&#x4E0D;&#x518D;&#x53D1;&#x9001;&#x6602;&#x8D35;&#x7684;&#x670D;&#x52A1;&#x5668;&#x6392;&#x5E8F;&#x89C4;&#x5219;&#x67E5;&#x8BE2;&#x4EE5;&#x53CA;&#x670D;&#x52A1;&#x5668;&#x5C01;&#x5957;&#x3002;</span><span class="yiyi-st" id="yiyi-1195">&#x8FD9;&#x4E9B;&#x529F;&#x80FD;&#x4ECD;&#x7136;&#x662F;&#x534A;&#x4E13;&#x7528;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-700a963887f5381be78374ee6cbab43e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1196">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2404">&#xFF03;2404</a></span></p></li></ul></div><div class="section" id="change-0.8.0b1-sqlite"><h3><span class="yiyi-st" id="yiyi-1197">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.8.0b1-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b1-99"><span class="yiyi-st" id="yiyi-1198"><span class="target" id="change-b5f1f9bec1b77fa7e12fe21090980fcc"><strong>[sqlite] [feature] </strong></span>the SQLite date and time types have been overhauled to support a more open ended format for input and output, using name based format strings and regexps. </span><span class="yiyi-st" id="yiyi-1199">&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x53C2;&#x6570;&#x201C;&#x5FAE;&#x79D2;&#x201D;&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x7701;&#x7565;&#x65F6;&#x95F4;&#x6233;&#x7684;&#x201C;&#x5FAE;&#x79D2;&#x201D;&#x90E8;&#x5206;&#x7684;&#x9009;&#x9879;&#x3002;</span><span class="yiyi-st" id="yiyi-1200">&#x611F;&#x8C22;Nathan Wright&#x5BF9;&#x6B64;&#x7684;&#x5DE5;&#x4F5C;&#x548C;&#x6D4B;&#x8BD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b5f1f9bec1b77fa7e12fe21090980fcc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1201">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2363">&#xFF03;2363</a></span></p></li><li><p id="change-0.8.0b1-100"><span class="yiyi-st" id="yiyi-1202"><span class="target" id="change-5d430ab66984e1839fc49a94ccc5dacb"><strong>[sqlite] </strong></span>Added <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.NCHAR" title="sqlalchemy.types.NCHAR"><code class="xref py py-class docutils literal"><span class="pre">types.NCHAR</span></code></a>, <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.NVARCHAR" title="sqlalchemy.types.NVARCHAR"><code class="xref py py-class docutils literal"><span class="pre">types.NVARCHAR</span></code></a> to the SQLite dialect&#x2019;s list of recognized type names for reflection. </span><span class="yiyi-st" id="yiyi-1203">SQLite&#x8FD4;&#x56DE;&#x7ED9;&#x5B9A;&#x7C7B;&#x578B;&#x7684;&#x540D;&#x79F0;&#x4F5C;&#x4E3A;&#x8FD4;&#x56DE;&#x7684;&#x540D;&#x79F0;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5d430ab66984e1839fc49a94ccc5dacb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1204">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/changeset/c3addcc9ffad">rc3addcc9ffad</a></span></p></li></ul></div><div class="section" id="change-0.8.0b1-mssql"><h3><span class="yiyi-st" id="yiyi-1205">MSSQL <a class="headerlink" href="#change-0.8.0b1-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b1-101"><span class="yiyi-st" id="yiyi-1206"><span class="target" id="change-8e3f4625a47111ef4767a2ef9ba24c73"><strong>[mssql] [feature] </strong></span>SQL Server dialect can be given database-qualified schema names, i.e. &#x201C;schema=&#x2019;mydatabase.dbo&#x2019;&#x201D;; reflection operations will detect this, split the schema among the &#x201D;.&#x201D; to get the owner separately, and emit a &#x201C;USE mydatabase&#x201D; statement before reflecting targets within the &#x201C;dbo&#x201D; owner; the existing database returned from DB_NAME() is then restored.<a class="changeset-link headerlink reference internal" href="#change-8e3f4625a47111ef4767a2ef9ba24c73">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-102"><span class="yiyi-st" id="yiyi-1207"><span class="target" id="change-6322f3d6024c987d549a01d768b12959"><strong>[mssql] [feature] </strong></span>updated support for the mxodbc driver; mxodbc 3.2.1 is recommended for full compatibility.<a class="changeset-link headerlink reference internal" href="#change-6322f3d6024c987d549a01d768b12959">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-103"><span class="yiyi-st" id="yiyi-1208"><span class="target" id="change-38d801b4255682b32f9a913a78a9a3b3"><strong>[mssql] [bug] </strong></span>&#x5220;&#x9664;&#x4E86;&#x4F20;&#x7EDF;&#x884C;&#x4E3A;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5C06;&#x6807;&#x91CF;SELECT via ==&#x7684;&#x5217;&#x6BD4;&#x8F83;&#x5F3A;&#x5236;&#x8F6C;&#x6362;&#x4E3A;SQL&#x670D;&#x52A1;&#x5668;&#x65B9;&#x8A00;&#x7684;IN&#x3002;</span><span class="yiyi-st" id="yiyi-1209">&#x8FD9;&#x662F;&#x9690;&#x542B;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x5728;&#x5176;&#x4ED6;&#x60C5;&#x51B5;&#x4E0B;&#x5931;&#x8D25;&#xFF0C;&#x56E0;&#x6B64;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1210">&#x4F9D;&#x8D56;&#x4E8E;&#x6B64;&#x7684;&#x4EE3;&#x7801;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4EE5;&#x660E;&#x786E;&#x4F7F;&#x7528;column.in_&#xFF08;select&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-38d801b4255682b32f9a913a78a9a3b3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1211">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2277">&#xFF03;2277</a></span></p></li></ul></div><div class="section" id="change-0.8.0b1-oracle"><h3><span class="yiyi-st" id="yiyi-1212">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.8.0b1-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b1-104"><span class="yiyi-st" id="yiyi-1213"><span class="target" id="change-ce42a727e4d7a0a75bab19dbddbbfc73"><strong>[oracle] [feature] </strong></span>&#x4F7F;&#x7528;exclude_setinputsizes dialect&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x53D1;&#x9001;&#x8981;&#x6392;&#x9664;&#x7684;&#x5B57;&#x7B26;&#x4E32;DBAPI&#x7C7B;&#x578B;&#x540D;&#x79F0;&#x5217;&#x8868;&#x6765;&#x5B9A;&#x5236;&#x4ECE;setinputsizes()&#x96C6;&#x4E2D;&#x6392;&#x9664;&#x7684;&#x5217;&#x7684;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1214">&#x6B64;&#x5217;&#x8868;&#x5148;&#x524D;&#x5DF2;&#x4FEE;&#x590D;&#x3002;</span><span class="yiyi-st" id="yiyi-1215">&#x8BE5;&#x5217;&#x8868;&#x73B0;&#x5728;&#x9ED8;&#x8BA4;&#x4E3A;STRING&#xFF0C;UNICODE&#xFF0C;&#x4ECE;&#x5217;&#x8868;&#x4E2D;&#x5220;&#x9664;CLOB&#xFF0C;NCLOB&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ce42a727e4d7a0a75bab19dbddbbfc73">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1216">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2561">&#xFF03;2561</a></span></p></li><li><p id="change-0.8.0b1-105"><span class="yiyi-st" id="yiyi-1217"><span class="target" id="change-d8885a06585445bdffa3bb5ab8597e77"><strong>[oracle] [bug] </strong></span>Quoting information is now passed along from a Column with quote=True when generating a same-named bound parameter to the bindparam() object, as is the case in generated INSERT and UPDATE statements, so that unknown reserved names can be fully supported.<a class="changeset-link headerlink reference internal" href="#change-d8885a06585445bdffa3bb5ab8597e77">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1218">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2437">&#xFF03;2437</a></span></p></li><li><p id="change-0.8.0b1-106"><span class="yiyi-st" id="yiyi-1219"><span class="target" id="change-260439d04d4ab56d9b30d9ac80fbca60"><strong>[oracle] [bug] </strong></span> Oracle&#x4E2D;&#x7684;CreateIndex&#x6784;&#x9020;&#x73B0;&#x5728;&#x5C06;&#x7D22;&#x5F15;&#x7684;&#x540D;&#x79F0;&#x9650;&#x5B9A;&#x4E3A;&#x7236;&#x8868;&#x7684;&#x540D;&#x79F0;&#x3002;</span><span class="yiyi-st" id="yiyi-1220">&#x4EE5;&#x524D;&#x8FD9;&#x4E2A;&#x540D;&#x5B57;&#x88AB;&#x7701;&#x7565;&#x4E86;&#xFF0C;&#x8FD9;&#x663E;&#x7136;&#x662F;&#x5728;&#x9ED8;&#x8BA4;&#x6A21;&#x5F0F;&#x4E2D;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x8868;&#x4E2D;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-260439d04d4ab56d9b30d9ac80fbca60">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.0b1-firebird"><h3><span class="yiyi-st" id="yiyi-1221">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.8.0b1-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b1-107"><span class="yiyi-st" id="yiyi-1222"><span class="target" id="change-55352f849d8075f34ab05c59513144de"><strong>[firebird] [feature] </strong></span>The &#x201C;startswith()&#x201D; operator renders as &#x201C;STARTING WITH&#x201D;, &#x201C;~startswith()&#x201D; renders as &#x201C;NOT STARTING WITH&#x201D;, using FB&#x2019;s more efficient operator.<a class="changeset-link headerlink reference internal" href="#change-55352f849d8075f34ab05c59513144de">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1223">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2470">&#xFF03;2470</a></span></p></li><li><p id="change-0.8.0b1-108"><span class="yiyi-st" id="yiyi-1224"><span class="target" id="change-274d52dddd6cd76f57ce87648cc1473c"><strong>[firebird] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;fdb&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x7684;&#x5B9E;&#x9A8C;&#x6027;&#x65B9;&#x8A00;&#xFF0C;&#x4F46;&#x672A;&#x7ECF;&#x6D4B;&#x8BD5;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x65E0;&#x6CD5;&#x83B7;&#x53D6;fdb&#x8F6F;&#x4EF6;&#x5305;&#x6765;&#x6784;&#x5EFA;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-274d52dddd6cd76f57ce87648cc1473c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1225">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2504">&#xFF03;2504</a></span></p></li><li><p id="change-0.8.0b1-109"><span class="yiyi-st" id="yiyi-1226"><span class="target" id="change-1a137fa5bc1551eb7474d03095eebc94"><strong>[firebird] [bug] </strong></span>&#x5F53;&#x5C1D;&#x8BD5;&#x4EE5;&#x4E0E;MySQL&#x76F8;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#x53D1;&#x51FA;&#x6CA1;&#x6709;&#x957F;&#x5EA6;&#x7684;VARCHAR&#x65F6;&#xFF0C;&#x4F1A;&#x5F15;&#x53D1;CompileError&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1a137fa5bc1551eb7474d03095eebc94">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1227">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2505">&#xFF03;2505</a></span></p></li><li><p id="change-0.8.0b1-110"><span class="yiyi-st" id="yiyi-1228"><span class="target" id="change-12e7c07b97df9409c6cb6b31012fa796"><strong>[firebird] [bug] </strong></span>Firebird now uses strict &#x201C;ansi bind rules&#x201D; so that bound parameters don&#x2019;t render in the columns clause of a statement - they render literally instead.<a class="changeset-link headerlink reference internal" href="#change-12e7c07b97df9409c6cb6b31012fa796">&#xB6;</a></span></p><p></p></li><li><p id="change-0.8.0b1-111"><span class="yiyi-st" id="yiyi-1229"><span class="target" id="change-41375c1893b68568e7e9fca8159598fc"><strong>[firebird] [bug] </strong></span>&#x652F;&#x6301;&#x5728;Firebird&#x4E2D;&#x4F7F;&#x7528;DateTime&#x7C7B;&#x578B;&#x65F6;&#x4F20;&#x9012;datetime&#x4F5C;&#x4E3A;&#x65E5;&#x671F;&#xFF1B;&#x5176;&#x4ED6;&#x65B9;&#x8A00;&#x652F;&#x6301;&#x8FD9;&#x4E00;&#x70B9;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-41375c1893b68568e7e9fca8159598fc">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.8.0b1-misc"><h3><span class="yiyi-st" id="yiyi-1230">&#x6742;&#x9879;<a class="headerlink" href="#change-0.8.0b1-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.8.0b1-112"><span class="yiyi-st" id="yiyi-1231"><span class="target" id="change-fd39f8f8e11ef48c87654cb42253c2bc"><strong>[feature] [access] </strong></span>&#x5229;&#x7528;&#x65B0;&#x7684;SQLAlchemy&#x65B9;&#x8A00;&#x5408;&#x89C4;&#x6027;&#x5957;&#x4EF6;&#xFF0C;MS Access&#x65B9;&#x8A00;&#x5DF2;&#x88AB;&#x79FB;&#x81F3;Bitbucket&#x4E0A;&#x7684;&#x5176;&#x81EA;&#x5DF1;&#x7684;&#x9879;&#x76EE;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-1232">The dialect is still in very rough shape and probably not ready for general use yet, however it does have <em>extremely</em> rudimental functionality now. </span><span class="yiyi-st" id="yiyi-1233"><a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy-access"> https://bitbucket.org/zzzeek/sqlalchemy-access  T0&gt; <a class="changeset-link headerlink reference internal" href="#change-fd39f8f8e11ef48c87654cb42253c2bc">&#xB6; T1&gt;</a></a></span></p><p></p></li><li><p id="change-0.8.0b1-113"><span class="yiyi-st" id="yiyi-1234"><span class="target" id="change-b7848d7bbe509cb980a185cb57f2a3af"><strong>[moved] [maxdb] </strong></span>&#x51E0;&#x5E74;&#x524D;&#x672A;&#x8FD0;&#x884C;&#x7684;MaxDB&#x65B9;&#x8A00;&#x88AB;&#x79FB;&#x51FA;&#x5230;&#x4E00;&#x4E2A;&#x672A;&#x51B3;&#x7684;bitbucket&#x9879;&#x76EE;&#x4E2D;&#xFF0C;<a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy-maxdb">https://bitbucket.org/zzzeek/sqlalchemy -maxdb  T2&gt; <a class="changeset-link headerlink reference internal" href="#change-b7848d7bbe509cb980a185cb57f2a3af">&#xB6; T3&gt;</a></a></span></p><p></p></li><li><p id="change-0.8.0b1-114"><span class="yiyi-st" id="yiyi-1235"><span class="target" id="change-1523176dc77fb5a2a38ee7073b45df68"><strong>[examples] </strong></span>&#x70E7;&#x676F;&#x7F13;&#x5B58;&#x793A;&#x4F8B;&#x5DF2;&#x8F6C;&#x6362;&#x4E3A;&#x4F7F;&#x7528;<a class="reference external" href="https://dogpilecache.readthedocs.io/">dogpile.cache</a>&#x3002;</span><span class="yiyi-st" id="yiyi-1236">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x7531;Beaker&#x7F13;&#x5B58;&#x5185;&#x90E8;&#x90E8;&#x4EF6;&#x7684;&#x76F8;&#x540C;&#x521B;&#x5EFA;&#x8005;&#x7F16;&#x5199;&#x7684;&#x65B0;&#x7F13;&#x5B58;&#x5E93;&#xFF0C;&#x4EE3;&#x8868;&#x4E86;&#x4E00;&#x4E2A;&#x5927;&#x5927;&#x6539;&#x8FDB;&#xFF0C;&#x7B80;&#x5316;&#x548C;&#x73B0;&#x4EE3;&#x5316;&#x7684;&#x7F13;&#x5B58;&#x7CFB;&#x7EDF;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-1237">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-1238"><a class="reference internal" href="orm_examples.html#examples-caching"><span>Dogpile Caching</span></a></span></p></div><span class="yiyi-st" id="yiyi-1240"> <a class="changeset-link headerlink reference internal" href="#change-1523176dc77fb5a2a38ee7073b45df68">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-1239">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2589">&#xFF03;2589</a></span></p></li></ul></div></div>