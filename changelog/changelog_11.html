<h1><span class="yiyi-st" id="yiyi-61">1.1&#x66F4;&#x65B0;&#x65E5;&#x5FD7;<a class="headerlink" href="#changelog" title="Permalink to this headline">&#xB6;</a></span></h1><div class="section" id="change-1.1.0b2"><h2><span class="yiyi-st" id="yiyi-62">1.1.0b2 <a class="headerlink" href="#change-1.1.0b2" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-89">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2016&#x5E74;7&#x6708;1&#x65E5;</span><div class="section" id="change-1.1.0b2-sql"><h3><span class="yiyi-st" id="yiyi-63">SQL <a class="headerlink" href="#change-1.1.0b2-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-1.1.0b2-0"><span class="yiyi-st" id="yiyi-64"><span class="target" id="change-7006ffe86a58284eda862bbc60b8bc4b"><strong>[sql] [bug] </strong></span>Fixed issue in SQL math negation operator where the type of the expression would no longer be the numeric type of the original. </span><span class="yiyi-st" id="yiyi-65">&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x7C7B;&#x578B;&#x786E;&#x5B9A;&#x7ED3;&#x679C;&#x96C6;&#x884C;&#x4E3A;&#x7684;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7006ffe86a58284eda862bbc60b8bc4b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-66">&#x8FD9;&#x4E2A;&#x6539;&#x53D8;&#x4E5F;&#x88AB;<strong>backported</strong>&#x6539;&#x4E3A;&#xFF1A;1.0.14</span></p><p><span class="yiyi-st" id="yiyi-67">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3735">&#xFF03;3735</a></span></p></li><li><p id="change-1.1.0b2-1"><span class="yiyi-st" id="yiyi-68"><span class="target" id="change-5699ea1e56391cae80ed2aa84bf2c6e2"><strong>[sql] [bug] </strong></span>Fixed bug whereby the <code class="docutils literal"><span class="pre">__getstate__</span></code> / <code class="docutils literal"><span class="pre">__setstate__</span></code> methods for sqlalchemy.util.Properties were non-working due to the transition in the 1.0 series to <code class="docutils literal"><span class="pre">__slots__</span></code>. </span><span class="yiyi-st" id="yiyi-69">&#x8BE5;&#x95EE;&#x9898;&#x53EF;&#x80FD;&#x4F1A;&#x5F71;&#x54CD;&#x67D0;&#x4E9B;&#x7B2C;&#x4E09;&#x65B9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;</span><span class="yiyi-st" id="yiyi-70">Pull&#x8BF7;&#x6C42;Pieter Mulder&#x63D0;&#x4F9B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5699ea1e56391cae80ed2aa84bf2c6e2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-71">&#x8FD9;&#x4E2A;&#x6539;&#x53D8;&#x4E5F;&#x88AB;<strong>backported</strong>&#x6539;&#x4E3A;&#xFF1A;1.0.14</span></p><p><span class="yiyi-st" id="yiyi-72">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3728">&#xFF03;3728</a></span></p></li><li><p id="change-1.1.0b2-2"><span class="yiyi-st" id="yiyi-73"><span class="target" id="change-f3088aa888b7e3a90f1814ce21c0b220"><strong>[sql] [bug] </strong></span>&#x5728;&#x7EAF;Python&#x548C;C-extensions&#x7248;&#x672C;&#x4E4B;&#x95F4;&#xFF0C;&#x53EA;&#x6709;&#x7279;&#x5F81;&#x6574;&#x6570;&#x7C7B;&#x578B;&#x7684;&#x540E;&#x7AEF;<a class="reference internal" href="core_type_basics.html#sqlalchemy.types.Boolean" title="sqlalchemy.types.Boolean"><code class="xref py py-class docutils literal"><span class="pre">Boolean</span></code></a>&#x6570;&#x636E;&#x7C7B;&#x578B;&#x6240;&#x6267;&#x884C;&#x7684;&#x5904;&#x7406;&#x5DF2;&#x7ECF;&#x53D8;&#x5F97;&#x4E00;&#x81F4;&#xFF0C; C-extension&#x7248;&#x672C;&#x5C06;&#x63A5;&#x53D7;&#x6765;&#x81EA;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4EFB;&#x4F55;&#x6574;&#x6570;&#x503C;&#x4F5C;&#x4E3A;&#x5E03;&#x5C14;&#x503C;&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x96F6;&#x548C;&#x4E00;&#xFF1B;&#x53E6;&#x5916;&#xFF0C;&#x53D1;&#x9001;&#x5230;&#x6570;&#x636E;&#x5E93;&#x7684;&#x975E;&#x5E03;&#x5C14;&#x6574;&#x578B;&#x503C;&#x88AB;&#x5F3A;&#x5236;&#x4E3A;0&#x6216;1&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4F5C;&#x4E3A;&#x539F;&#x59CB;&#x6574;&#x6570;&#x503C;&#x4F20;&#x9012;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-74">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-75"><a class="reference internal" href="migration_11.html#change-3730"><span>Non-native boolean integer values coerced to zero/one/None in all cases</span></a></span></p></div><span class="yiyi-st" id="yiyi-77"> <a class="changeset-link headerlink reference internal" href="#change-f3088aa888b7e3a90f1814ce21c0b220">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-76">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3730">&#xFF03;3730</a></span></p></li><li><p id="change-1.1.0b2-3"><span class="yiyi-st" id="yiyi-78"><span class="target" id="change-61ec601e4af58a2d337d455e2abcc9da"><strong>[sql] [bug] </strong></span>&#x56DE;&#x6EDA;<a class="reference internal" href="core_type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal"><span class="pre">Enum</span></code></a>&#x4E2D;&#x7684;&#x9A8C;&#x8BC1;&#x89C4;&#x5219;&#x4EE5;&#x5141;&#x8BB8;&#x672A;&#x77E5;&#x5B57;&#x7B26;&#x4E32;&#x503C;&#x901A;&#x8FC7;&#xFF0C;&#x9664;&#x975E;&#x6807;&#x5FD7;<code class="docutils literal"><span class="pre">validate_string=True</span></code></span><span class="yiyi-st" id="yiyi-79">While the immediate use is to allow comparisons to enums with LIKE, the fact that this use exists indicates there may be more unknown-string-comparsion use cases than we expected, which hints that perhaps there are some unknown string-INSERT cases too.<a class="changeset-link headerlink reference internal" href="#change-61ec601e4af58a2d337d455e2abcc9da">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-80">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3725">&#xFF03;3725</a></span></p></li></ul></div><div class="section" id="change-1.1.0b2-postgresql"><h3><span class="yiyi-st" id="yiyi-81">&#x7684;PostgreSQL <a class="headerlink" href="#change-1.1.0b2-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-1.1.0b2-4"><span class="yiyi-st" id="yiyi-82"><span class="target" id="change-a5fce71fb2e30fdf321b95c31697aa26"><strong>[postgresql] [bug] [ext] </strong></span>Made a slight behavioral change in the <code class="docutils literal"><span class="pre">sqlalchemy.ext.compiler</span></code> extension, whereby the existing compilation schemes for an established construct would be removed if that construct was itself didn&#x2019;t already have its own dedicated <code class="docutils literal"><span class="pre">__visit_name__</span></code>. </span><span class="yiyi-st" id="yiyi-83">&#x8FD9;&#x5728;1.0&#x4E2D;&#x5F88;&#x5C11;&#x89C1;&#xFF0C;&#x4F46;&#x5728;1.1 <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a>&#x5B50;&#x7C7B;<code class="xref py py-class docutils literal"><span class="pre">sqltypes.ARRAY</span></code>&#x4E2D;&#x6709;&#x6B64;&#x73B0;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-84">&#x56E0;&#x6B64;&#xFF0C;&#x4E3A;&#x53E6;&#x4E00;&#x79CD;&#x65B9;&#x8A00;&#xFF08;&#x5982;SQLite&#xFF09;&#x8BBE;&#x7F6E;&#x7F16;&#x8BD1;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x4F1A;&#x4F7F;&#x4E3B;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a>&#x5BF9;&#x8C61;&#x4E0D;&#x518D;&#x53EF;&#x7F16;&#x8BD1;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a5fce71fb2e30fdf321b95c31697aa26"></a></span></p><p><span class="yiyi-st" id="yiyi-85">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3732">&#xFF03;3732</a></span></p></li></ul></div><div class="section" id="change-1.1.0b2-mysql"><h3><span class="yiyi-st" id="yiyi-86">MySQL&#x7684;<a class="headerlink" href="#change-1.1.0b2-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-1.1.0b2-5"><span class="yiyi-st" id="yiyi-87"><span class="target" id="change-8e0948ee4b6cb64315abc0156aeb1fd6"><strong>[mysql] [bug] </strong></span>&#x5728;<a class="reference internal" href="migration_11.html#change-mysql-3216"><span>No more generation of an implicit KEY for composite primary key w/ AUTO_INCREMENT</span></a>&#x751F;&#x6210;&#x9690;&#x5F0F;&#x952E;&#x6709;&#x4E00;&#x70B9;&#xFF0C;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x660E;&#x786E;&#x5B9A;&#x4E49;&#x4E86;<a class="reference internal" href="core_constraints.html#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal"><span class="pre">PrimaryKeyConstraint</span></code></a>&#xFF0C;&#x90A3;&#x4E48;&#x5217;&#x7684;&#x987A;&#x5E8F;&#x5C31;&#x4F1A;&#x88AB;&#x7CBE;&#x786E;&#x5730;&#x4FDD;&#x7559;&#x4E0B;&#x6765;&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;&#x5FC5;&#x8981;&#x65F6;&#x63A7;&#x5236;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8e0948ee4b6cb64315abc0156aeb1fd6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-88">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3726">&#xFF03;3726</a></span></p></li></ul></div></div><div class="section" id="change-1.1.0b1"><h2><span class="yiyi-st" id="yiyi-90">1.1.0b1 <a class="headerlink" href="#change-1.1.0b1" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-529">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2016&#x5E74;6&#x6708;16&#x65E5;</span><div class="section" id="change-1.1.0b1-orm"><h3><span class="yiyi-st" id="yiyi-91">ORM <a class="headerlink" href="#change-1.1.0b1-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-1.1.0b1-0"><span class="yiyi-st" id="yiyi-92"><span class="target" id="change-b3c884910b59a35c1b5267eca4bbe2b5"><strong>[orm] [feature] [ext] </strong></span>A new ORM extension <a class="reference internal" href="orm_extensions_indexable.html"><span>Indexable</span></a> is added, which allows construction of Python attributes which refer to specific elements of &#x201C;indexed&#x201D; structures such as arrays and JSON fields. </span><span class="yiyi-st" id="yiyi-93">&#x8BF7;&#x6C42;Jeong YunWon&#x63D0;&#x4F9B;&#x7684;&#x8BF7;&#x6C42;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-94">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-95"><a class="reference internal" href="migration_11.html#feature-indexable"><span>New Indexable ORM extension</span></a></span></p></div><span class="yiyi-st" id="yiyi-96"> <a class="changeset-link headerlink reference internal" href="#change-b3c884910b59a35c1b5267eca4bbe2b5">&#xB6;</a></span><p></p></li><li><p id="change-1.1.0b1-1"><span class="yiyi-st" id="yiyi-97"><span class="target" id="change-5acfb1b58ae42f608a8630f796d96e7e"><strong>[orm] [feature] </strong></span>Added new flag <a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.Session.bulk_insert_mappings.params.render_nulls" title="sqlalchemy.orm.session.Session.bulk_insert_mappings"><code class="xref py py-paramref docutils literal"><span class="pre">Session.bulk_insert_mappings.render_nulls</span></code></a> which allows an ORM bulk INSERT to occur with NULL values rendered; this bypasses server side defaults, however allows all statements to be formed with the same set of columns, allowing them to be batched. </span><span class="yiyi-st" id="yiyi-98">&#x8BF7;&#x6C42;&#x793C;&#x62DC;Tobias Sauerwein&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5acfb1b58ae42f608a8630f796d96e7e">&#xB6;</a></span></p><p></p></li><li><p id="change-1.1.0b1-2"><span class="yiyi-st" id="yiyi-99"><span class="target" id="change-532ef99ecd1dd5bb8ee5ee6a8a2401db"><strong>[orm] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x4E8B;&#x4EF6;<a class="reference internal" href="orm_events.html#sqlalchemy.orm.events.AttributeEvents.init_scalar" title="sqlalchemy.orm.events.AttributeEvents.init_scalar"><code class="xref py py-meth docutils literal"><span class="pre">AttributeEvents.init_scalar()</span></code></a>&#xFF0C;&#x4EE5;&#x53CA;&#x4E00;&#x4E2A;&#x8BF4;&#x660E;&#x5176;&#x7528;&#x6CD5;&#x7684;&#x65B0;&#x793A;&#x4F8B;&#x5957;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-100">&#x5728;&#x6301;&#x4E45;&#x5BF9;&#x8C61;&#x4E4B;&#x524D;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6B64;&#x4E8B;&#x4EF6;&#x5411;Python&#x7AEF;&#x5C5E;&#x6027;&#x63D0;&#x4F9B;Core&#x751F;&#x6210;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-101">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-102"><a class="reference internal" href="migration_11.html#change-1311"><span>New init_scalar() event intercepts default values at ORM level</span></a></span></p></div><span class="yiyi-st" id="yiyi-104"> <a class="changeset-link headerlink reference internal" href="#change-532ef99ecd1dd5bb8ee5ee6a8a2401db">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-103">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1311">&#xFF03;1311</a></span></p></li><li><p id="change-1.1.0b1-3"><span class="yiyi-st" id="yiyi-105"><span class="target" id="change-6b828691a60c4907d089b06e95f44234"><strong>[orm] [feature] </strong></span>&#x5C06;<a class="reference internal" href="orm_extensions_automap.html#sqlalchemy.ext.automap.AutomapBase.prepare.params.schema" title="sqlalchemy.ext.automap.AutomapBase.prepare"><code class="xref py py-paramref docutils literal"><span class="pre">AutomapBase.prepare.schema</span></code></a>&#x6DFB;&#x52A0;&#x5230;<a class="reference internal" href="orm_extensions_automap.html#sqlalchemy.ext.automap.AutomapBase.prepare" title="sqlalchemy.ext.automap.AutomapBase.prepare"><code class="xref py py-meth docutils literal"><span class="pre">AutomapBase.prepare()</span></code></a>&#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x4EE5;&#x6307;&#x793A;&#x5E94;&#x53CD;&#x6620;&#x54EA;&#x4E9B;&#x6A21;&#x5F0F;&#x8868;&#x5982;&#x679C;&#x4E0D;&#x662F;&#x9ED8;&#x8BA4;&#x6A21;&#x5F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-106">&#x62C9;&#x8BF7;&#x6C42;&#x7531;Josh Marlow&#x63D0;&#x4F9B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6b828691a60c4907d089b06e95f44234">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-107">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/237">pull request github&#xFF1A;237</a></span></p></li><li><p id="change-1.1.0b1-4"><span class="yiyi-st" id="yiyi-108"><span class="target" id="change-ebaee83acc1f8f12b712ab57c6ce231d"><strong>[orm] [feature] </strong></span>&#x5C06;&#x65B0;&#x53C2;&#x6570;<a class="reference internal" href="orm_mapping_api.html#sqlalchemy.orm.mapper.params.passive_deletes" title="sqlalchemy.orm.mapper"><code class="xref py py-paramref docutils literal"><span class="pre">orm.mapper.passive_deletes</span></code></a>&#x6DFB;&#x52A0;&#x5230;&#x53EF;&#x7528;&#x7684;&#x6620;&#x5C04;&#x5668;&#x9009;&#x9879;&#x3002;</span><span class="yiyi-st" id="yiyi-109">&#x8FD9;&#x5141;&#x8BB8;DELETE&#x8FDB;&#x884C;&#x4EC5;&#x9488;&#x5BF9;&#x57FA;&#x8868;&#x7684;&#x8FDE;&#x63A5;&#x8868;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#xFF0C;&#x540C;&#x65F6;&#x5141;&#x8BB8;ON DELETE CASCADE&#x5904;&#x7406;&#x4ECE;&#x5B50;&#x7C7B;&#x8868;&#x4E2D;&#x5220;&#x9664;&#x884C;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-110">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-111"><a class="reference internal" href="migration_11.html#change-2349"><span>passive_deletes feature for joined-inheritance mappings</span></a>&#x7684;passive_deletes&#x529F;&#x80FD;</span></p></div><span class="yiyi-st" id="yiyi-113"> <a class="changeset-link headerlink reference internal" href="#change-ebaee83acc1f8f12b712ab57c6ce231d">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-112">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2349">&#xFF03;2349</a></span></p></li><li><p id="change-1.1.0b1-5"><span class="yiyi-st" id="yiyi-114"><span class="target" id="change-678ae60d4035b7177656f7d144cea811"><strong>[orm] [feature] </strong></span>Calling str() on a core SQL construct has been made more &#x201C;friendly&#x201D;, when the construct contains non-standard SQL elements such as RETURNING, array index operations, or dialect-specific or custom datatypes. </span><span class="yiyi-st" id="yiyi-115">&#x73B0;&#x5728;&#x5728;&#x8FD9;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4EE5;&#x8868;&#x793A;&#x8BE5;&#x6784;&#x9020;&#x7684;&#x8FD1;&#x4F3C;&#x503C;&#xFF08;&#x901A;&#x5E38;&#x662F;Postgresql&#x98CE;&#x683C;&#x7684;&#x7248;&#x672C;&#xFF09;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-116">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-117"><a class="reference internal" href="migration_11.html#change-3631"><span>&#x201C;Friendly&#x201D; stringification of Core SQL constructs without a dialect</span></a></span></p></div><span class="yiyi-st" id="yiyi-119"> <a class="changeset-link headerlink reference internal" href="#change-678ae60d4035b7177656f7d144cea811">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-118">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3631">&#xFF03;3631</a></span></p></li><li><p id="change-1.1.0b1-6"><span class="yiyi-st" id="yiyi-120"><span class="target" id="change-b748efc9574b29a2ea49e7c0333742a1"><strong>[orm] [feature] </strong></span>The <code class="docutils literal"><span class="pre">str()</span></code> call for <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal"><span class="pre">Query</span></code></a> will now take into account the <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a> to which the <a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> is bound, when generating the string form of the SQL, so that the actual SQL that would be emitted to the database is shown, if possible. </span><span class="yiyi-st" id="yiyi-121">Previously, only the engine associated with the <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal"><span class="pre">MetaData</span></code></a> to which the mappings are associated would be used, if present. </span><span class="yiyi-st" id="yiyi-122">&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7ED1;&#x5B9A;&#x53EF;&#x4EE5;&#x4F4D;&#x4E8E;&#x6620;&#x5C04;&#x5173;&#x8054;&#x7684;<a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x6216;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal"><span class="pre">MetaData</span></code></a>&#x4E0A;&#xFF0C;&#x90A3;&#x4E48;&#x201C;&#x9ED8;&#x8BA4;&#x201D;&#x65B9;&#x8A00;&#x7528;&#x4E8E;&#x5448;&#x73B0;SQL&#xFF0C;&#x5C31;&#x50CF;&#x4EE5;&#x524D;&#x7684;&#x60C5;&#x51B5;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-123">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-124"><a class="reference internal" href="migration_11.html#change-3081"><span>Stringify of Query will consult the Session for the correct dialect</span></a></span></p></div><span class="yiyi-st" id="yiyi-126"> <a class="changeset-link headerlink reference internal" href="#change-b748efc9574b29a2ea49e7c0333742a1">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-125">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3081">&#xFF03;3081</a></span></p></li><li><p id="change-1.1.0b1-7"><span class="yiyi-st" id="yiyi-127"><span class="target" id="change-d5cf16064aa92922d05395b09c928698"><strong>[orm] [feature] </strong></span>The <a class="reference internal" href="orm_events.html#sqlalchemy.orm.events.SessionEvents" title="sqlalchemy.orm.events.SessionEvents"><code class="xref py py-class docutils literal"><span class="pre">SessionEvents</span></code></a> suite now includes events to allow unambiguous tracking of all object lifecycle state transitions in terms of the <a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a> itself, e.g. pending, transient, persistent, detached. </span><span class="yiyi-st" id="yiyi-128">&#x6BCF;&#x4E2A;&#x4E8B;&#x4EF6;&#x4E2D;&#x5BF9;&#x8C61;&#x7684;&#x72B6;&#x6001;&#x4E5F;&#x88AB;&#x5B9A;&#x4E49;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-129">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-130"><a class="reference internal" href="migration_11.html#change-2677"><span>New Session lifecycle events</span></a></span></p></div><span class="yiyi-st" id="yiyi-132"> <a class="changeset-link headerlink reference internal" href="#change-d5cf16064aa92922d05395b09c928698">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-131">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2677">&#xFF03;2677</a></span></p></li><li><p id="change-1.1.0b1-8"><span class="yiyi-st" id="yiyi-133"><span class="target" id="change-df3d7ca7a278488ea611b03405eb14fd"><strong>[orm] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4F1A;&#x8BDD;&#x751F;&#x547D;&#x5468;&#x671F;&#x72B6;&#x6001;<a class="reference internal" href="glossary.html#term-deleted"><span class="xref std std-term">deleted</span></a>&#x3002;</span><span class="yiyi-st" id="yiyi-134">&#x8FD9;&#x4E2A;&#x65B0;&#x7684;&#x72B6;&#x6001;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x4ECE;<a class="reference internal" href="glossary.html#term-persistent"><span class="xref std std-term">persistent</span></a>&#x72B6;&#x6001;&#x4E2D;&#x88AB;&#x5220;&#x9664;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x4E14;&#x4E00;&#x65E6;&#x4E8B;&#x52A1;&#x88AB;&#x63D0;&#x4EA4;&#x5C31;&#x4F1A;&#x79FB;&#x52A8;&#x5230;<a class="reference internal" href="glossary.html#term-detached"><span class="xref std std-term">detached</span></a>&#x72B6;&#x6001;&#x3002;</span><span class="yiyi-st" id="yiyi-135">&#x8FD9;&#x89E3;&#x51B3;&#x4E86;&#x957F;&#x671F;&#x5B58;&#x5728;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5373;&#x88AB;&#x5220;&#x9664;&#x7684;&#x5BF9;&#x8C61;&#x5B58;&#x5728;&#x4E8E;&#x7070;&#x8272;&#x533A;&#x57DF;&#x4E2D;&#x7684;&#x6301;&#x4E45;&#x5BF9;&#x8C61;&#x548C;&#x5206;&#x79BB;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x3002;</span><span class="yiyi-st" id="yiyi-136">The <a class="reference internal" href="orm_internals.html#sqlalchemy.orm.state.InstanceState.persistent" title="sqlalchemy.orm.state.InstanceState.persistent"><code class="xref py py-attr docutils literal"><span class="pre">InstanceState.persistent</span></code></a> accessor will <strong>no longer</strong> report on a deleted object as persistent; the <a class="reference internal" href="orm_internals.html#sqlalchemy.orm.state.InstanceState.deleted" title="sqlalchemy.orm.state.InstanceState.deleted"><code class="xref py py-attr docutils literal"><span class="pre">InstanceState.deleted</span></code></a> accessor will instead be True for these objects, until they become detached.</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-137">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-138"><a class="reference internal" href="migration_11.html#change-2677"><span>New Session lifecycle events</span></a></span></p></div><span class="yiyi-st" id="yiyi-140"> <a class="changeset-link headerlink reference internal" href="#change-df3d7ca7a278488ea611b03405eb14fd">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-139">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2677">&#xFF03;2677</a></span></p></li><li><p id="change-1.1.0b1-9"><span class="yiyi-st" id="yiyi-141"><span class="target" id="change-09452835bc692d53fcd69eaae680cdf6"><strong>[orm] [feature] </strong></span>&#x4E3A;&#x5C06;&#x6620;&#x5C04;&#x7C7B;&#x6216;&#x6620;&#x5C04;&#x5B9E;&#x4F8B;&#x4F20;&#x9012;&#x5230;&#x89E3;&#x91CA;&#x4E3A;SQL&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x7684;&#x5E38;&#x89C1;&#x9519;&#x8BEF;&#x60C5;&#x51B5;&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x68C0;&#x67E5;&#xFF1B;&#x4E3A;&#x6B64;&#x63D0;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4F8B;&#x5916;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-142">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-143"><a class="reference internal" href="migration_11.html#change-3321"><span>Specific checks added for passing mapped classes, instances as SQL literals</span></a></span></p></div><span class="yiyi-st" id="yiyi-145"> <a class="changeset-link headerlink reference internal" href="#change-09452835bc692d53fcd69eaae680cdf6">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-144">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3321">&#xFF03;3321</a></span></p></li><li><p id="change-1.1.0b1-10"><span class="yiyi-st" id="yiyi-146"><span class="target" id="change-ceee86d0abb726cd008560b25849fd6d"><strong>[orm] [feature] </strong></span>Added new relationship loading strategy <a class="reference internal" href="orm_loading_relationships.html#sqlalchemy.orm.raiseload" title="sqlalchemy.orm.raiseload"><code class="xref py py-func docutils literal"><span class="pre">orm.raiseload()</span></code></a> (also accessible via <code class="docutils literal"><span class="pre">lazy=&apos;raise&apos;</span></code>). </span><span class="yiyi-st" id="yiyi-147">&#x8FD9;&#x79CD;&#x7B56;&#x7565;&#x7684;&#x884C;&#x4E3A;&#x51E0;&#x4E4E;&#x4E0E;<a class="reference internal" href="orm_loading_relationships.html#sqlalchemy.orm.noload" title="sqlalchemy.orm.noload"><code class="xref py py-func docutils literal"><span class="pre">orm.noload()</span></code></a>&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x4E0D;&#x662F;&#x8FD4;&#x56DE;<code class="docutils literal"><span class="pre">None</span></code>&#xFF0C;&#x800C;&#x662F;&#x5F15;&#x53D1;&#x4E00;&#x4E2A;InvalidRequestError&#x3002;</span><span class="yiyi-st" id="yiyi-148">&#x62C9;&#x8BF7;&#x6C42;&#x963F;&#x5FB7;&#x91CC;&#x5B89;Moennich&#x793C;&#x8C8C;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-149">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-150"><a class="reference internal" href="migration_11.html#change-3512"><span>New &#x201C;raise&#x201D; loader strategy</span></a></span></p></div><span class="yiyi-st" id="yiyi-152"> <a class="changeset-link headerlink reference internal" href="#change-ceee86d0abb726cd008560b25849fd6d">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-151">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3512">&#xFF03;3512</a>&#xFF0C;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/193">&#x8BF7;&#x6C42;github&#xFF1A;193</a></span></p></li><li><p id="change-1.1.0b1-11"><span class="yiyi-st" id="yiyi-153"><span class="target" id="change-9093c4c590e858f7a6341c361cd97105"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x5C06;&#x5BF9;&#x8C61;&#x4ECE;&#x4E00;&#x4E2A;&#x7236;&#x5BF9;&#x8C61;&#x591A;&#x5BF9;&#x4E00;&#x5730;&#x66F4;&#x6539;&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x65F6;&#x4E0E;&#x5916;&#x952E;&#x5C5E;&#x6027;&#x7684;&#x672A;&#x5237;&#x65B0;&#x4FEE;&#x6539;&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x65F6;&#x53EF;&#x80FD;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x95EE;&#x9898;&#x3002;</span><span class="yiyi-st" id="yiyi-154">&#x5C5E;&#x6027;&#x79FB;&#x52A8;&#x73B0;&#x5728;&#x8003;&#x8651;&#x5916;&#x952E;&#x7684;&#x6570;&#x636E;&#x5E93;&#x63D0;&#x4EA4;&#x503C;&#xFF0C;&#x4EE5;&#x4FBF;&#x627E;&#x5230;&#x8981;&#x79FB;&#x52A8;&#x7684;&#x5BF9;&#x8C61;&#x7684;&#x201C;&#x4E0A;&#x4E00;&#x4E2A;&#x201D;&#x7236;&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-155">&#x8FD9;&#x5141;&#x8BB8;&#x4E8B;&#x4EF6;&#x6B63;&#x786E;&#x542F;&#x52A8;&#xFF0C;&#x5305;&#x62EC;backref&#x4E8B;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-156">&#x4EE5;&#x524D;&#xFF0C;&#x8FD9;&#x4E9B;&#x4E8B;&#x4EF6;&#x5E76;&#x4E0D;&#x603B;&#x662F;&#x4F1A;&#x53D1;&#x751F;&#x3002;</span><span class="yiyi-st" id="yiyi-157">&#x53EF;&#x80FD;&#x4F9D;&#x8D56;&#x4E8E;&#x5148;&#x524D;&#x7834;&#x574F;&#x884C;&#x4E3A;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EF;&#x80FD;&#x4F1A;&#x53D7;&#x5230;&#x5F71;&#x54CD;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-158">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-159"><a class="reference internal" href="migration_11.html#change-3708"><span>Fix involving many-to-one object moves with user-initiated foriegn key manipulations</span></a></span></p></div><span class="yiyi-st" id="yiyi-161"> <a class="changeset-link headerlink reference internal" href="#change-9093c4c590e858f7a6341c361cd97105">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-160">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3708">&#xFF03;3708</a></span></p></li><li><p id="change-1.1.0b1-12"><span class="yiyi-st" id="yiyi-162"><span class="target" id="change-649f635edb55d8224f0ebeb39df69dd6"><strong>[orm] [bug] </strong></span>Fixed bug where deferred columns would inadvertently be set up for database load on the next object-wide unexpire, when the object were merged into the session with <code class="docutils literal"><span class="pre">session.merge(obj,</span> <span class="pre">load=False)</span></code>.<a class="changeset-link headerlink reference internal" href="#change-649f635edb55d8224f0ebeb39df69dd6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-163">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3488">&#xFF03;3488</a></span></p></li><li><p id="change-1.1.0b1-13"><span class="yiyi-st" id="yiyi-164"><span class="target" id="change-f28176c3e7691799da5b2674680209c0"><strong>[orm] [bug] [mysql] </strong></span>&#x8FDB;&#x4E00;&#x6B65;&#x7EE7;&#x7EED;&#x8BA8;&#x8BBA;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2696">&#xFF03;2696</a>&#x4E2D;&#x9996;&#x5148;&#x8986;&#x76D6;&#x7684;&#x4FDD;&#x5B58;&#x70B9;&#x7684;&#x5E38;&#x89C1;MySQL&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#xFF0C;&#x5176;&#x4E2D;<a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x653E;&#x7F6E;&#x5728;SAVEPOINT&#x5728;&#x56DE;&#x6EDA;&#x5DF2;&#x6539;&#x8FDB;&#x4E4B;&#x524D;&#x6D88;&#x5931;&#xFF0C;&#x4EE5;&#x5141;&#x8BB8;<a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.Session" title="sqlalchemy.orm.session.Session"><code class="xref py py-class docutils literal"><span class="pre">Session</span></code></a>&#x5728;&#x8BE5;&#x4FDD;&#x5B58;&#x70B9;&#x4E4B;&#x5916;&#x4ECD;&#x7136;&#x8D77;&#x4F5C;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-165">&#x5047;&#x5B9A;&#x4FDD;&#x5B58;&#x70B9;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&#x5E76;&#x88AB;&#x53D6;&#x6D88;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-166">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-167"><a class="reference internal" href="migration_11.html#change-3680"><span>Improved Session state when a SAVEPOINT is cancelled by the database</span></a>&#x53D6;&#x6D88;SAVEPOINT&#x65F6;&#x6539;&#x8FDB;&#x4E86;&#x4F1A;&#x8BDD;&#x72B6;&#x6001;</span></p></div><span class="yiyi-st" id="yiyi-169"> <a class="changeset-link headerlink reference internal" href="#change-f28176c3e7691799da5b2674680209c0">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-168">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3680">&#xFF03;3680</a></span></p></li><li><p id="change-1.1.0b1-14"><span class="yiyi-st" id="yiyi-170"><span class="target" id="change-8a920447463b0b57def835f194bc947f"><strong>[orm] [bug] </strong></span>Fixed bug where a newly inserted instance that is rolled back would still potentially cause persistence conflicts on the next transaction, because the instance would not be checked that it was expired. </span><span class="yiyi-st" id="yiyi-171">&#x6B64;&#x4FEE;&#x590D;&#x7A0B;&#x5E8F;&#x5C06;&#x89E3;&#x51B3;&#x5927;&#x91CF;&#x5BFC;&#x81F4;&#x201C;&#x8EAB;&#x4EFD;X&#x4E0E;&#x6301;&#x4E45;&#x5B9E;&#x4F8B;Y&#x51B2;&#x7A81;&#x7684;&#x65B0;&#x5B9E;&#x4F8B;&#x201D;&#x9519;&#x8BEF;&#x7684;&#x5927;&#x7C7B;&#x75C5;&#x4F8B;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-172">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-173"><a class="reference internal" href="migration_11.html#change-3677"><span>Erroneous &#x201C;new instance X conflicts with persistent instance Y&#x201D; flush errors fixed</span></a></span></p></div><span class="yiyi-st" id="yiyi-175"> <a class="changeset-link headerlink reference internal" href="#change-8a920447463b0b57def835f194bc947f">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-174">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3677">&#xFF03;3677</a></span></p></li><li><p id="change-1.1.0b1-15"><span class="yiyi-st" id="yiyi-176"><span class="target" id="change-8d8169201233ee410bfb943fcbd64e8f"><strong>[orm] [bug] </strong></span>An improvement to the workings of <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.correlate" title="sqlalchemy.orm.query.Query.correlate"><code class="xref py py-meth docutils literal"><span class="pre">Query.correlate()</span></code></a> such that when a &#x201C;polymorphic&#x201D; entity is used which represents a straight join of several tables, the statement will ensure that all the tables within the join are part of what&#x2019;s correlating.</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-177">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-178"><a class="reference internal" href="migration_11.html#change-3662"><span>Improvements to the Query.correlate method with polymoprhic entities</span></a>&#x6539;&#x8FDB;Query.correlate&#x65B9;&#x6CD5;</span></p></div><span class="yiyi-st" id="yiyi-180"> <a class="changeset-link headerlink reference internal" href="#change-8d8169201233ee410bfb943fcbd64e8f">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-179">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3662">&#xFF03;3662</a></span></p></li><li><p id="change-1.1.0b1-16"><span class="yiyi-st" id="yiyi-181"><span class="target" id="change-4654a27da3f75152d9bb46cdb7469e40"><strong>[orm] [bug] </strong></span>Fixed bug which would cause an eagerly loaded many-to-one attribute to not be loaded, if the joined eager load were from a row where the same entity were present multiple times, some calling for the attribute to be eagerly loaded and others not. </span><span class="yiyi-st" id="yiyi-182">&#x5C3D;&#x7BA1;&#x4E0D;&#x540C;&#x7684;&#x52A0;&#x8F7D;&#x7A0B;&#x5E8F;&#x8DEF;&#x5F84;&#x5DF2;&#x7ECF;&#x5904;&#x7406;&#x7236;&#x5B9E;&#x4F53;&#xFF0C;&#x4F46;&#x4FEE;&#x6539;&#x6B64;&#x5904;&#x7684;&#x903B;&#x8F91;&#x4EE5;&#x63A5;&#x53D7;&#x5C5E;&#x6027;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-183">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-184"><a class="reference internal" href="migration_11.html#change-3431"><span>Joined eager loading where the same entity is present multiple times in one row</span></a></span></p></div><span class="yiyi-st" id="yiyi-186"> <a class="changeset-link headerlink reference internal" href="#change-4654a27da3f75152d9bb46cdb7469e40">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-185">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3431">&#xFF03;3431</a></span></p></li><li><p id="change-1.1.0b1-17"><span class="yiyi-st" id="yiyi-187"><span class="target" id="change-3e46993e39e8cecdbbf5cb968b80c4eb"><strong>[orm] [bug] </strong></span>A refinement to the logic which adds columns to the resulting SQL when <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.distinct" title="sqlalchemy.orm.query.Query.distinct"><code class="xref py py-meth docutils literal"><span class="pre">Query.distinct()</span></code></a> is combined with <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.order_by" title="sqlalchemy.orm.query.Query.order_by"><code class="xref py py-meth docutils literal"><span class="pre">Query.order_by()</span></code></a> such that columns which are already present will not be added a second time, even if they are labeled with a different name. </span><span class="yiyi-st" id="yiyi-188">&#x65E0;&#x8BBA;&#x5982;&#x4F55;&#x6539;&#x53D8;&#xFF0C;&#x6DFB;&#x52A0;&#x5230;SQL&#x4E2D;&#x7684;&#x989D;&#x5916;&#x5217;&#x4ECE;&#x672A;&#x5728;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x4E2D;&#x8FD4;&#x56DE;&#xFF0C;&#x56E0;&#x6B64;&#x6B64;&#x66F4;&#x6539;&#x4EC5;&#x5F71;&#x54CD;&#x8BED;&#x53E5;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5F62;&#x5F0F;&#x4EE5;&#x53CA;&#x5728;Core&#x6267;&#x884C;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x4F7F;&#x7528;&#x65F6;&#x7684;&#x884C;&#x4E3A;&#x3002;</span><span class="yiyi-st" id="yiyi-189">&#x6B64;&#x5916;&#xFF0C;&#x4F7F;&#x7528;DISTINCT ON&#x683C;&#x5F0F;&#x65F6;&#x4E0D;&#x518D;&#x6DFB;&#x52A0;&#x5217;&#xFF0C;&#x53EA;&#x8981;&#x7531;&#x4E8E;&#x52A0;&#x5165;&#x4E86;&#x9884;&#x5148;&#x52A0;&#x8F7D;&#x800C;&#x4E0D;&#x5C06;&#x67E5;&#x8BE2;&#x5305;&#x88C5;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-190">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-191"><a class="reference internal" href="migration_11.html#change-3641"><span>Columns no longer added redundantly with DISTINCT + ORDER BY</span></a>&#x6DFB;&#x52A0;&#x5217;</span></p></div><span class="yiyi-st" id="yiyi-193"> <a class="changeset-link headerlink reference internal" href="#change-3e46993e39e8cecdbbf5cb968b80c4eb">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-192">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3641">&#xFF03;3641</a></span></p></li><li><p id="change-1.1.0b1-18"><span class="yiyi-st" id="yiyi-194"><span class="target" id="change-89b5808175cb646ca27aee96edc8813f"><strong>[orm] [bug] </strong></span>Fixed issue where two same-named relationships that refer to a base class and a concrete-inherited subclass would raise an error if those relationships were set up using &#x201C;backref&#x201D;, while setting up the identical configuration using relationship() instead with the conflicting names would succeed, as is allowed in the case of a concrete mapping.</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-195">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-196"><a class="reference internal" href="migration_11.html#change-3630"><span>Same-named backrefs will not raise an error when applied to concrete inheritance subclasses</span></a>&#x65F6;&#xFF0C;&#x76F8;&#x540C;&#x540D;&#x79F0;&#x7684;backrefs&#x4E0D;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;</span></p></div><span class="yiyi-st" id="yiyi-198"> <a class="changeset-link headerlink reference internal" href="#change-89b5808175cb646ca27aee96edc8813f">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-197">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3630">&#xFF03;3630</a></span></p></li><li><p id="change-1.1.0b1-19"><span class="yiyi-st" id="yiyi-199"><span class="target" id="change-ac6144457b07a73e68843f65fff61adb"><strong>[orm] [bug] </strong></span>The <a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.Session.merge" title="sqlalchemy.orm.session.Session.merge"><code class="xref py py-meth docutils literal"><span class="pre">Session.merge()</span></code></a> method now tracks pending objects by primary key before emitting an INSERT, and merges distinct objects with duplicate primary keys together as they are encountered, which is essentially semi-deterministic at best. </span><span class="yiyi-st" id="yiyi-200">&#x6B64;&#x884C;&#x4E3A;&#x4E0E;&#x6301;&#x4E45;&#x5BF9;&#x8C61;&#x5DF2;&#x53D1;&#x751F;&#x7684;&#x60C5;&#x51B5;&#x76F8;&#x5339;&#x914D;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-201">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-202"><a class="reference internal" href="migration_11.html#change-3601"><span>Session.merge resolves pending conflicts the same as persistent</span></a></span></p></div><span class="yiyi-st" id="yiyi-204"> <a class="changeset-link headerlink reference internal" href="#change-ac6144457b07a73e68843f65fff61adb">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-203">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3601">&#xFF03;3601</a></span></p></li><li><p id="change-1.1.0b1-20"><span class="yiyi-st" id="yiyi-205"><span class="target" id="change-dd65aebe5daa65ac33d96732d8c19890"><strong>[orm] [bug] </strong></span>Fixed bug where the &#x201C;single table inheritance&#x201D; criteria would be added onto the end of a query in some inappropriate situations, such as when querying from an exists() of a single-inheritance subclass.</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-206">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-207"><a class="reference internal" href="migration_11.html#change-3582"><span>Further Fixes to single-table inheritance querying</span></a></span></p></div><span class="yiyi-st" id="yiyi-209"> <a class="changeset-link headerlink reference internal" href="#change-dd65aebe5daa65ac33d96732d8c19890">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-208">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3582">&#xFF03;3582</a></span></p></li><li><p id="change-1.1.0b1-21"><span class="yiyi-st" id="yiyi-210"><span class="target" id="change-ad8a491013281436a5ec669721de6d99"><strong>[orm] [bug] </strong></span>Added a new type-level modifier <a class="reference internal" href="core_type_api.html#sqlalchemy.types.TypeEngine.evaluates_none" title="sqlalchemy.types.TypeEngine.evaluates_none"><code class="xref py py-meth docutils literal"><span class="pre">TypeEngine.evaluates_none()</span></code></a> which indicates to the ORM that a positive set of None should be persisted as the value NULL, instead of omitting the column from the INSERT statement. </span><span class="yiyi-st" id="yiyi-211">&#x6B64;&#x529F;&#x80FD;&#x65E2;&#x53EF;&#x7528;&#x4F5C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3514">&#xFF03;3514</a>&#x5B9E;&#x73B0;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x4E5F;&#x53EF;&#x7528;&#x4E8E;&#x4EFB;&#x4F55;&#x7C7B;&#x578B;&#x7684;&#x72EC;&#x7ACB;&#x529F;&#x80FD;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-212">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-213"><a class="reference internal" href="migration_11.html#change-3250"><span>New options allowing explicit persistence of NULL over a default</span></a>&#x4E0A;&#x663E;&#x5F0F;&#x6301;&#x4E45;&#x5316;NULL&#x7684;&#x65B0;&#x9009;&#x9879;</span></p></div><span class="yiyi-st" id="yiyi-215"> <a class="changeset-link headerlink reference internal" href="#change-ad8a491013281436a5ec669721de6d99">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-214">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3250">&#xFF03;3250</a></span></p></li><li><p id="change-1.1.0b1-22"><span class="yiyi-st" id="yiyi-216"><span class="target" id="change-48c47319c947b658d154aa9c012b32e3"><strong>[orm] [bug] </strong></span>Internal calls to &#x201C;bookkeeping&#x201D; functions within <a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.Session.bulk_save_objects" title="sqlalchemy.orm.session.Session.bulk_save_objects"><code class="xref py py-meth docutils literal"><span class="pre">Session.bulk_save_objects()</span></code></a> and related bulk methods have been scaled back to the extent that this functionality is not currently used, e.g. checks for column default values to be fetched after an INSERT or UPDATE statement.<a class="changeset-link headerlink reference internal" href="#change-48c47319c947b658d154aa9c012b32e3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-217">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3526">&#xFF03;3526</a></span></p></li><li><p id="change-1.1.0b1-23"><span class="yiyi-st" id="yiyi-218"><span class="target" id="change-1b66765ab8f05691258b629037065a6e"><strong>[orm] [bug] [postgresql] </strong></span>&#x7ED3;&#x5408;Postgresql <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSON</span></code></a>&#x7C7B;&#x578B;&#x5BF9;<code class="docutils literal"><span class="pre">None</span></code>&#x7684;&#x503C;&#x8FDB;&#x884C;&#x4E86;&#x4FEE;&#x8865;&#x3002;</span><span class="yiyi-st" id="yiyi-219">&#x5F53;<a class="reference internal" href="dialects_mysql.html#sqlalchemy.dialects.mysql.JSON.params.none_as_null" title="sqlalchemy.dialects.mysql.JSON"><code class="xref py py-paramref docutils literal"><span class="pre">JSON.none_as_null</span></code></a>&#x6807;&#x5FD7;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;<code class="docutils literal"><span class="pre">False</span></code>&#x65F6;&#xFF0C;ORM&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x6B63;&#x786E;&#x63D2;&#x5165;Json&#x201C;&apos;null&apos;&#x201D;&#x5B57;&#x7B26;&#x4E32;&#x5230;&#x5217;&#x4E2D;ORM&#x5BF9;&#x8C61;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;&#x503C;<code class="docutils literal"><span class="pre">None</span></code>&#xFF0C;&#x6216;&#x8005;&#x5F53;<code class="docutils literal"><span class="pre">None</span></code>&#x503C;&#x4E0E;<a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.Session.bulk_insert_mappings" title="sqlalchemy.orm.session.Session.bulk_insert_mappings"><code class="xref py py-meth docutils literal"><span class="pre">Session.bulk_insert_mappings()</span></code></a>&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;<strong>t12&gt;&#x5982;&#x679C;&#x5217;&#x4E0A;&#x6709;&#x9ED8;&#x8BA4;&#x6216;&#x670D;&#x52A1;&#x5668;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</strong></span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-220">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-221"><a class="reference internal" href="migration_11.html#change-3514"><span>JSON &#x201C;null&#x201D; is inserted as expected with ORM operations, regardless of column default present</span></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-222"><a class="reference internal" href="migration_11.html#change-3250"><span>New options allowing explicit persistence of NULL over a default</span></a>&#x4E0A;&#x663E;&#x5F0F;&#x6301;&#x4E45;&#x5316;NULL&#x7684;&#x65B0;&#x9009;&#x9879;</span></p></div><span class="yiyi-st" id="yiyi-224"> <a class="changeset-link headerlink reference internal" href="#change-1b66765ab8f05691258b629037065a6e">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-223">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3514">&#xFF03;3514</a></span></p></li><li><p id="change-1.1.0b1-24"><span class="yiyi-st" id="yiyi-225"><span class="target" id="change-09669497f855398505a14d647f0b239c"><strong>[orm] [change] </strong></span>&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;<a class="reference internal" href="orm_mapping_api.html#sqlalchemy.orm.mapper.Mapper.params.order_by" title="sqlalchemy.orm.mapper.Mapper"><code class="xref py py-paramref docutils literal"><span class="pre">Mapper.order_by</span></code></a>&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-226">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x65E7;&#x53C2;&#x6570;&#xFF0C;&#x4E0D;&#x518D;&#x4E0E;SQLAlchemy&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x6709;&#x5173;&#xFF0C;&#x4E00;&#x65E6;Query&#x5BF9;&#x8C61;&#x88AB;&#x5F15;&#x5165;&#x3002;</span><span class="yiyi-st" id="yiyi-227">&#x901A;&#x8FC7;&#x8D2C;&#x4F4E;&#x5B83;&#xFF0C;&#x6211;&#x4EEC;&#x786E;&#x5B9A;&#x6211;&#x4EEC;&#x4E0D;&#x652F;&#x6301;&#x975E;&#x5DE5;&#x4F5C;&#x7528;&#x4F8B;&#xFF0C;&#x5E76;&#x9F13;&#x52B1;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x9000;&#x51FA;&#x4F7F;&#x7528;&#x6B64;&#x53C2;&#x6570;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-228">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-229"><a class="reference internal" href="migration_11.html#change-3394"><span>Mapper.order_by is deprecated</span></a></span></p></div><span class="yiyi-st" id="yiyi-231"> <a class="changeset-link headerlink reference internal" href="#change-09669497f855398505a14d647f0b239c">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-230">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3394">&#xFF03;3394</a></span></p></li><li><p id="change-1.1.0b1-25"><span class="yiyi-st" id="yiyi-232"><span class="target" id="change-32d6229592346b5ad6b2e70e7d6a902d"><strong>[orm] [change] </strong></span>&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;<a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.Session.params.weak_identity_map" title="sqlalchemy.orm.session.Session"><code class="xref py py-paramref docutils literal"><span class="pre">Session.weak_identity_map</span></code></a>&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-233">&#x8BF7;&#x53C2;&#x9605;<a class="reference internal" href="orm_session_state_management.html#session-referencing-behavior"><span>Session Referencing Behavior</span></a>&#x4E2D;&#x7684;&#x65B0;&#x914D;&#x65B9;&#xFF0C;&#x4E86;&#x89E3;&#x57FA;&#x4E8E;&#x4E8B;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x7EF4;&#x62A4;&#x5F3A;&#x8EAB;&#x4EFD;&#x56FE;&#x884C;&#x4E3A;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-234">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-235"><a class="reference internal" href="migration_11.html#change-2677"><span>New Session lifecycle events</span></a></span></p></div><span class="yiyi-st" id="yiyi-237"> <a class="changeset-link headerlink reference internal" href="#change-32d6229592346b5ad6b2e70e7d6a902d">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-236">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2677">&#xFF03;2677</a></span></p></li></ul></div><div class="section" id="change-1.1.0b1-engine"><h3><span class="yiyi-st" id="yiyi-238">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-1.1.0b1-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-1.1.0b1-26"><span class="yiyi-st" id="yiyi-239"><span class="target" id="change-a6533a6047f760f9f9ccee7003a447c2"><strong>[engine] [feature] </strong></span>Added connection pool events <code class="xref py py-meth docutils literal"><span class="pre">ConnectionEvents.close()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">ConnectionEvents.detach()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">ConnectionEvents.close_detached()</span></code>.<a class="changeset-link headerlink reference internal" href="#change-a6533a6047f760f9f9ccee7003a447c2">&#xB6;</a></span></p><p></p></li><li><p id="change-1.1.0b1-27"><span class="yiyi-st" id="yiyi-240"><span class="target" id="change-d0cb65da9fa15d19af196aad7ff5623e"><strong>[engine] [feature] </strong></span>&#x7528;&#x4E8E;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#xFF0C;&#x5F02;&#x5E38;&#x548C;<code class="docutils literal"><span class="pre">repr()</span></code>&#x76EE;&#x7684;&#x7684;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x96C6;&#x548C;&#x7ED3;&#x679C;&#x884C;&#x7684;&#x6240;&#x6709;&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;&#x73B0;&#x5728;&#x4F1A;&#x622A;&#x65AD;&#x6BCF;&#x4E2A;&#x96C6;&#x5408;&#x4E2D;&#x975E;&#x5E38;&#x5927;&#x7684;&#x6807;&#x91CF;&#x503C;&#xFF0C;&#x5305;&#x62EC;&#x201C;N&#x4E2A;&#x5B57;&#x7B26;&#x622A;&#x65AD;&#x201D;&#x7B26;&#x53F7;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x5927;&#x578B;&#x591A;&#x53C2;&#x6570;&#x96C6;&#x7684;&#x663E;&#x793A;&#x5982;&#x4F55;&#x88AB;&#x622A;&#x65AD;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-241">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-242"><a class="reference internal" href="migration_11.html#change-2837"><span>Large parameter and row values are now truncated in logging and exception displays</span></a>&#x4E2D;&#xFF0C;&#x5927;&#x53C2;&#x6570;&#x548C;&#x884C;&#x503C;&#x73B0;&#x5728;&#x88AB;&#x622A;&#x65AD;</span></p></div><span class="yiyi-st" id="yiyi-244"> <a class="changeset-link headerlink reference internal" href="#change-d0cb65da9fa15d19af196aad7ff5623e">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-243">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2837">&#xFF03;2837</a></span></p></li><li><p id="change-1.1.0b1-28"><span class="yiyi-st" id="yiyi-245"><span class="target" id="change-b54566e0a3f779d77ce78d1bb4807399"><strong>[engine] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x591A;&#x79DF;&#x6237;&#x6A21;&#x5F0F;&#x8F6C;&#x6362;&#x3002;</span><span class="yiyi-st" id="yiyi-246">&#x8FD9;&#x652F;&#x6301;&#x5728;&#x8BB8;&#x591A;&#x6A21;&#x5F0F;&#x4E2D;&#x4F7F;&#x7528;&#x540C;&#x4E00;&#x7EC4;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x7528;&#x4F8B;&#xFF0C;&#x4F8B;&#x5982;schema-per-user&#x3002;</span><span class="yiyi-st" id="yiyi-247">&#x6DFB;&#x52A0;&#x65B0;&#x7684;&#x6267;&#x884C;&#x9009;&#x9879;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection.execution_options.params.schema_translate_map" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-paramref docutils literal"><span class="pre">Connection.execution_options.schema_translate_map</span></code></a>&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-248">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-249"><a class="reference internal" href="migration_11.html#change-2685"><span>Multi-Tenancy Schema Translation for Table objects</span></a></span></p></div><span class="yiyi-st" id="yiyi-251"> <a class="changeset-link headerlink reference internal" href="#change-b54566e0a3f779d77ce78d1bb4807399">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-250">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2685">&#xFF03;2685</a></span></p></li><li><p id="change-1.1.0b1-29"><span class="yiyi-st" id="yiyi-252"><span class="target" id="change-1afaa182eadbbcdb22dd3e0761a0950f"><strong>[engine] [feature] </strong></span>&#x4E3A;&#x5F15;&#x64CE;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5165;&#x53E3;&#x70B9;&#x7CFB;&#x7EDF;&#xFF0C;&#x4EE5;&#x5141;&#x8BB8;&#x5728;URL&#x7684;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x58F0;&#x660E;&#x201C;&#x63D2;&#x4EF6;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-253">&#x53EF;&#x4EE5;&#x7F16;&#x5199;&#x81EA;&#x5B9A;&#x4E49;&#x63D2;&#x4EF6;&#xFF0C;&#x9884;&#x5148;&#x7ED9;&#x4E88;&#x673A;&#x4F1A;&#x6539;&#x53D8;&#x548C;/&#x6216;&#x4F7F;&#x7528;&#x5F15;&#x64CE;&#x7684;URL&#x548C;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x5F15;&#x64CE;&#x521B;&#x5EFA;&#x65F6;&#x5C06;&#x7ED9;&#x5F15;&#x64CE;&#x672C;&#x8EAB;&#x4EE5;&#x5141;&#x8BB8;&#x8FDB;&#x884C;&#x989D;&#x5916;&#x7684;&#x4FEE;&#x6539;&#x6216;&#x4E8B;&#x4EF6;&#x6CE8;&#x518C;&#x3002;</span><span class="yiyi-st" id="yiyi-254">&#x63D2;&#x4EF6;&#x88AB;&#x7F16;&#x5199;&#x4E3A;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.CreateEnginePlugin" title="sqlalchemy.engine.CreateEnginePlugin"><code class="xref py py-class docutils literal"><span class="pre">CreateEnginePlugin</span></code></a>&#x7684;&#x5B50;&#x7C7B;&#xFF1B;&#x8BE6;&#x60C5;&#x8BF7;&#x53C2;&#x89C1;&#x8BE5;&#x8BFE;&#x7A0B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1afaa182eadbbcdb22dd3e0761a0950f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-255">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3536">&#xFF03;3536</a></span></p></li></ul></div><div class="section" id="change-1.1.0b1-sql"><h3><span class="yiyi-st" id="yiyi-256">SQL <a class="headerlink" href="#change-1.1.0b1-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-1.1.0b1-30"><span class="yiyi-st" id="yiyi-257"><span class="target" id="change-360a40aabf1019e2f12d467220dd3e37"><strong>[sql] [feature] </strong></span>&#x901A;&#x8FC7;&#x65B0;&#x7684;<a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.FromClause.tablesample" title="sqlalchemy.sql.expression.FromClause.tablesample"><code class="xref py py-meth docutils literal"><span class="pre">FromClause.tablesample()</span></code></a>&#x65B9;&#x6CD5;&#x548C;&#x72EC;&#x7ACB;&#x51FD;&#x6570;&#x6DFB;&#x52A0;&#x4E86;TABLESAMPLE&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-258">&#x62C9;&#x5C14;&#x8BF7;&#x6C42;IljaEveril&#xE4;&#x793C;&#x8C8C;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-259">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-260"><a class="reference internal" href="migration_11.html#change-3718"><span>Support for TABLESAMPLE</span></a></span></p></div><span class="yiyi-st" id="yiyi-262"> <a class="changeset-link headerlink reference internal" href="#change-360a40aabf1019e2f12d467220dd3e37">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-261">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3718">&#xFF03;3718</a></span></p></li><li><p id="change-1.1.0b1-31"><span class="yiyi-st" id="yiyi-263"><span class="target" id="change-0fea1bc883b8c90b2f54079c0440f160"><strong>[sql] [feature] </strong></span>&#x4F7F;&#x7528;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.over.params.range_" title="sqlalchemy.sql.expression.over"><code class="xref py py-paramref docutils literal"><span class="pre">expression.over.range_</span></code></a>&#x548C;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.over.params.rows" title="sqlalchemy.sql.expression.over"><code class="xref py py-paramref docutils literal"><span class="pre">expression.over.rows</span></code></a>&#x53C2;&#x6570;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x7A97;&#x53E3;&#x51FD;&#x6570;&#x8303;&#x56F4;&#x7684;&#x652F;&#x6301;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-264">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-265"><a class="reference internal" href="migration_11.html#change-3049"><span>Support for RANGE and ROWS specification within window functions</span></a></span></p></div><span class="yiyi-st" id="yiyi-267"> <a class="changeset-link headerlink reference internal" href="#change-0fea1bc883b8c90b2f54079c0440f160">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-266">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3049">&#xFF03;3049</a></span></p></li><li><p id="change-1.1.0b1-32"><span class="yiyi-st" id="yiyi-268"><span class="target" id="change-9c0058e414df17a6d151e9268e00fc34"><strong>[sql] [feature] </strong></span>Implemented reflection of CHECK constraints for SQLite and Postgresql. </span><span class="yiyi-st" id="yiyi-269">&#x8FD9;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x65B0;&#x7684;&#x68C0;&#x67E5;&#x5668;&#x65B9;&#x6CD5;<a class="reference internal" href="core_reflection.html#sqlalchemy.engine.reflection.Inspector.get_check_constraints" title="sqlalchemy.engine.reflection.Inspector.get_check_constraints"><code class="xref py py-meth docutils literal"><span class="pre">Inspector.get_check_constraints()</span></code></a>&#x4EE5;&#x53CA;&#x4EE5;<a class="reference internal" href="core_constraints.html#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal"><span class="pre">CheckConstraint</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x5F62;&#x5F0F;&#x53CD;&#x6620;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x7EA6;&#x675F;&#x6536;&#x96C6;&#x3002;</span><span class="yiyi-st" id="yiyi-270">&#x62C9;&#x683C;&#x8BF7;&#x6C42;&#x793C;&#x8C8C;AlexGr&#xF6;nholm&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9c0058e414df17a6d151e9268e00fc34">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-271">&#x53C2;&#x8003;&#xFF1A;<a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy/pull-request/80">&#x8BF7;&#x6C42;&#x4F4D;&#x6876;&#xFF1A;80</a></span></p></li><li><p id="change-1.1.0b1-33"><span class="yiyi-st" id="yiyi-272"><span class="target" id="change-47ebc8c173b02b3858f2a91e5c4bc3d4"><strong>[sql] [feature] </strong></span>New <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.is_distinct_from" title="sqlalchemy.sql.operators.ColumnOperators.is_distinct_from"><code class="xref py py-meth docutils literal"><span class="pre">ColumnOperators.is_distinct_from()</span></code></a> and <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.isnot_distinct_from" title="sqlalchemy.sql.operators.ColumnOperators.isnot_distinct_from"><code class="xref py py-meth docutils literal"><span class="pre">ColumnOperators.isnot_distinct_from()</span></code></a> operators; pull request courtesy Sebastian Bank.</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-273">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-274"><a class="reference internal" href="migration_11.html#change-is-distinct-from"><span>Support for IS DISTINCT FROM and IS NOT DISTINCT FROM</span></a></span></p></div><span class="yiyi-st" id="yiyi-275"> <a class="changeset-link headerlink reference internal" href="#change-47ebc8c173b02b3858f2a91e5c4bc3d4">&#xB6;</a></span><p></p></li><li><p id="change-1.1.0b1-34"><span class="yiyi-st" id="yiyi-276"><span class="target" id="change-852081e60156f45afd19aa6656b45262"><strong>[sql] [feature] </strong></span>&#x5728;<code class="xref py py-meth docutils literal"><span class="pre">DDLCompiler.visit_create_table()</span></code>&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x540D;&#x4E3A;<code class="xref py py-meth docutils literal"><span class="pre">DDLCompiler.create_table_suffix()</span></code>&#x7684;&#x94A9;&#x5B50;&#xFF0C;&#x5141;&#x8BB8;&#x81EA;&#x5B9A;&#x4E49;&#x65B9;&#x8A00;&#x5728;&#x6DFB;&#x52A0;&#x5173;&#x952E;&#x5B57;&#x4E4B;&#x540E;&#x201C;CREATE TABLE&#x201D;&#x5B50;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-277">&#x62C9;&#x9A6C;&#x514B;&#x6851;&#x4E39;&#x8981;&#x6C42;&#x793C;&#x8C8C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-852081e60156f45afd19aa6656b45262">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-278">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/275">&#x8BF7;&#x6C42;github&#xFF1A;275</a></span></p></li><li><p id="change-1.1.0b1-35"><span class="yiyi-st" id="yiyi-279"><span class="target" id="change-0746e16f1e36084f02c6d55a068046a0"><strong>[sql] [feature] </strong></span>&#x73B0;&#x5728;&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.ResultProxy" title="sqlalchemy.engine.ResultProxy"><code class="xref py py-class docutils literal"><span class="pre">ResultProxy</span></code></a>&#x8FD4;&#x56DE;&#x7684;&#x884C;&#x5BB9;&#x7EB3;&#x8D1F;&#x6574;&#x6570;&#x7D22;&#x5F15;&#x3002;</span><span class="yiyi-st" id="yiyi-280">&#x8BF7;&#x6C42;&#x793C;&#x8C8C;Emanuele Gaifas&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-281">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-282"><a class="reference internal" href="migration_11.html#change-gh-231"><span>Negative integer indexes accommodated by Core result rows</span></a></span></p></div><span class="yiyi-st" id="yiyi-284"> <a class="changeset-link headerlink reference internal" href="#change-0746e16f1e36084f02c6d55a068046a0">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-283">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/231">&#x8BF7;&#x6C42;github&#xFF1A;231</a></span></p></li><li><p id="change-1.1.0b1-36"><span class="yiyi-st" id="yiyi-285"><span class="target" id="change-b96a97734ea3e708037e4856542e8e74"><strong>[sql] [feature] </strong></span>Added <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.Select.lateral" title="sqlalchemy.sql.expression.Select.lateral"><code class="xref py py-meth docutils literal"><span class="pre">Select.lateral()</span></code></a> and related constructs to allow for the SQL standard LATERAL keyword, currently only supported by Postgresql.</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-286">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-287"><a class="reference internal" href="migration_11.html#change-2857"><span>Support for the SQL LATERAL keyword</span></a></span></p></div><span class="yiyi-st" id="yiyi-289"> <a class="changeset-link headerlink reference internal" href="#change-b96a97734ea3e708037e4856542e8e74">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-288">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2857">&#xFF03;2857</a></span></p></li><li><p id="change-1.1.0b1-37"><span class="yiyi-st" id="yiyi-290"><span class="target" id="change-a91f9625fbd8a65e11808cecf7088895"><strong>[sql] [feature] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x201C;Core Full&#x201D;&#x548C;ORM&#x6E32;&#x67D3;&#x201C;FULL OUTER JOIN&#x201D;&#x7684;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-291">&#x62C9;&#x63D0;&#x8BF7;&#x6C42;Stefan Urbanek&#x63D0;&#x4F9B;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-292">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-293"><a class="reference internal" href="migration_11.html#change-1957"><span>Core and ORM support for FULL OUTER JOIN</span></a></span></p></div><span class="yiyi-st" id="yiyi-295"> <a class="changeset-link headerlink reference internal" href="#change-a91f9625fbd8a65e11808cecf7088895">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-294">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1957">&#xFF03;1957</a>&#xFF0C;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/209">&#x8BF7;&#x6C42;github&#xFF1A;209</a></span></p></li><li><p id="change-1.1.0b1-38"><span class="yiyi-st" id="yiyi-296"><span class="target" id="change-2e0fda4bfd6e2b5255952d61f70e148f"><strong>[sql] [feature] </strong></span>CTE functionality has been expanded to support all DML, allowing INSERT, UPDATE, and DELETE statements to both specify their own WITH clause, as well as for these statements themselves to be CTE expressions when they include a RETURNING clause.</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-297">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-298"><a class="reference internal" href="migration_11.html#change-2551"><span>CTE Support for INSERT, UPDATE, DELETE</span></a></span></p></div><span class="yiyi-st" id="yiyi-300"> <a class="changeset-link headerlink reference internal" href="#change-2e0fda4bfd6e2b5255952d61f70e148f">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-299">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2551">&#xFF03;2551</a></span></p></li><li><p id="change-1.1.0b1-39"><span class="yiyi-st" id="yiyi-301"><span class="target" id="change-9d6d98d7acabc8564b8eebb11c28a624"><strong>[sql] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;PEP-435&#x578B;&#x679A;&#x4E3E;&#x7C7B;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x5373;Python 3&#x7684;<code class="docutils literal"><span class="pre">enum.Enum</span></code>&#x7C7B;&#xFF0C;&#x4F46;&#x4E5F;&#x5305;&#x62EC;&#x517C;&#x5BB9;&#x7684;&#x679A;&#x4E3E;&#x5E93;&#xFF0C;&#x652F;&#x6301;<a class="reference internal" href="core_type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal"><span class="pre">types.Enum</span></code></a>&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-302"><a class="reference internal" href="core_type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal"><span class="pre">types.Enum</span></code></a>&#x6570;&#x636E;&#x7C7B;&#x578B;&#x73B0;&#x5728;&#x8FD8;&#x6267;&#x884C;&#x8F93;&#x5165;&#x503C;&#x7684;Python&#x9A8C;&#x8BC1;&#xFF0C;&#x5E76;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x9009;&#x9879;&#x4EE5;&#x653E;&#x5F03;&#x521B;&#x5EFA;CHECK&#x7EA6;&#x675F;<a class="reference internal" href="core_type_basics.html#sqlalchemy.types.Enum.params.create_constraint" title="sqlalchemy.types.Enum"><code class="xref py py-paramref docutils literal"><span class="pre">Enum.create_constraint</span></code></a>&#x3002;</span><span class="yiyi-st" id="yiyi-303">&#x62C9;&#x683C;&#x8BF7;&#x6C42;&#x793C;&#x8C8C;AlexGr&#xF6;nholm&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-304">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-305"><a class="reference internal" href="migration_11.html#change-3292"><span>Support for Python&#x2019;s native enum type and compatible forms</span></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-306"><a class="reference internal" href="migration_11.html#change-3095"><span>The Enum type now does in-Python validation of values</span></a></span></p></div><span class="yiyi-st" id="yiyi-308"> <a class="changeset-link headerlink reference internal" href="#change-9d6d98d7acabc8564b8eebb11c28a624">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-307">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3292">&#xFF03;3292</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3095">&#xFF03;3095</a></span></p></li><li><p id="change-1.1.0b1-40"><span class="yiyi-st" id="yiyi-309"><span class="target" id="change-62a0a934a2b0bba2ce629ca376fa5890"><strong>[sql] [feature] </strong></span>A deep improvement to the recently added <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.TextClause.columns" title="sqlalchemy.sql.expression.TextClause.columns"><code class="xref py py-meth docutils literal"><span class="pre">TextClause.columns()</span></code></a> method, and its interaction with result-row processing, now allows the columns passed to the method to be positionally matched with the result columns in the statement, rather than matching on name alone. </span><span class="yiyi-st" id="yiyi-310">&#x8FD9;&#x6837;&#x505A;&#x7684;&#x597D;&#x5904;&#x5305;&#x62EC;&#xFF0C;&#x5728;&#x5C06;&#x6587;&#x672C;SQL&#x8BED;&#x53E5;&#x94FE;&#x63A5;&#x5230;ORM&#x6216;Core&#x8868;&#x6A21;&#x578B;&#x65F6;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x4E3A;&#x516C;&#x5171;&#x5217;&#x540D;&#x79F0;&#x6DFB;&#x52A0;&#x6807;&#x7B7E;&#x6216;&#x91CD;&#x590D;&#x6570;&#x636E;&#x5220;&#x9664;&#x7CFB;&#x7EDF;&#xFF0C;&#x8FD9;&#x4E5F;&#x610F;&#x5473;&#x7740;&#x65E0;&#x9700;&#x62C5;&#x5FC3;&#x6807;&#x7B7E;&#x540D;&#x79F0;&#x5982;&#x4F55;&#x5339;&#x914D;ORM&#x5217;&#x7B49;&#x7B49;&#x3002;</span><span class="yiyi-st" id="yiyi-311">In addition, the <a class="reference internal" href="core_connections.html#sqlalchemy.engine.ResultProxy" title="sqlalchemy.engine.ResultProxy"><code class="xref py py-class docutils literal"><span class="pre">ResultProxy</span></code></a> has been further enhanced to map column and string keys to a row with greater precision in some cases.</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-312">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-313"><a class="reference internal" href="migration_11.html#change-3501"><span>ResultSet column matching enhancements; positional column setup for textual SQL</span></a> - feature overview</span></p><p class="last"><span class="yiyi-st" id="yiyi-314"><a class="reference internal" href="migration_11.html#behavior-change-3501"><span>TextClause.columns() will match columns positionally, not by name, when passed positionally</span></a> - backwards compatibility remarks</span></p></div><span class="yiyi-st" id="yiyi-316"> <a class="changeset-link headerlink reference internal" href="#change-62a0a934a2b0bba2ce629ca376fa5890">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-315">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3501">&#xFF03;3501</a></span></p></li><li><p id="change-1.1.0b1-41"><span class="yiyi-st" id="yiyi-317"><span class="target" id="change-17c3b4f058ed555d27ca96a245bdde91"><strong>[sql] [feature] </strong></span>&#x4E3A;&#x6838;&#x5FC3;<a class="reference internal" href="core_type_basics.html#sqlalchemy.types.JSON" title="sqlalchemy.types.JSON"><code class="xref py py-class docutils literal"><span class="pre">types.JSON</span></code></a>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-318">This is the base of the PostgreSQL <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSON</span></code></a> type as well as that of the new <a class="reference internal" href="dialects_mysql.html#sqlalchemy.dialects.mysql.JSON" title="sqlalchemy.dialects.mysql.JSON"><code class="xref py py-class docutils literal"><span class="pre">mysql.JSON</span></code></a> type, so that a PG/MySQL-agnostic JSON column may be used. </span><span class="yiyi-st" id="yiyi-319">&#x8BE5;&#x7C7B;&#x578B;&#x5177;&#x6709;&#x57FA;&#x672C;&#x7D22;&#x5F15;&#x548C;&#x8DEF;&#x5F84;&#x641C;&#x7D22;&#x652F;&#x6301;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-320">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-321"><a class="reference internal" href="migration_11.html#change-3619"><span>JSON support added to Core</span></a></span></p></div><span class="yiyi-st" id="yiyi-323"> <a class="changeset-link headerlink reference internal" href="#change-17c3b4f058ed555d27ca96a245bdde91">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-322">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3619">&#xFF03;3619</a></span></p></li><li><p id="change-1.1.0b1-42"><span class="yiyi-st" id="yiyi-324"><span class="target" id="change-f1a5b143ac2614a44c4d4be425086e5e"><strong>[sql] [feature] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;<code class="docutils literal"><span class="pre">&#xFF06;lt&#xFF1B; t2&#xFF06;gt&#xFF1B;</span> <span class="pre">WITHIN</span> <span class="pre">&#x5F62;&#x5F0F;&#x7684;&#x201C;&#x96C6;&#x5408;&#x201D; GROUP</span> <span class="pre">&#xFF08;ORDER  tt&gt;&gt; <span class="pre">BY</span> <span class="pre">&gt;&#xFF09;</span></span></code>&#xFF0C;&#x4F7F;&#x7528;<a class="reference internal" href="core_functions.html#sqlalchemy.sql.functions.FunctionElement.within_group" title="sqlalchemy.sql.functions.FunctionElement.within_group"><code class="xref py py-meth docutils literal"><span class="pre">FunctionElement.within_group()</span></code></a></span><span class="yiyi-st" id="yiyi-325">&#x5DF2;&#x7ECF;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x5177;&#x6709;&#x4ECE;&#x8BE5;&#x96C6;&#x5408;&#x6D3E;&#x751F;&#x7684;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x7684;&#x5E38;&#x89C1;&#x96C6;&#x5408;&#x96C6;&#x5408;&#x51FD;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-326">&#x8FD9;&#x5305;&#x62EC;<a class="reference internal" href="core_functions.html#sqlalchemy.sql.functions.percentile_cont" title="sqlalchemy.sql.functions.percentile_cont"><code class="xref py py-class docutils literal"><span class="pre">percentile_cont</span></code></a>&#xFF0C;<a class="reference internal" href="core_functions.html#sqlalchemy.sql.functions.dense_rank" title="sqlalchemy.sql.functions.dense_rank"><code class="xref py py-class docutils literal"><span class="pre">dense_rank</span></code></a>&#x7B49;&#x529F;&#x80FD;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-327">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-328"><a class="reference internal" href="migration_11.html#change-3132"><span>New Function features, &#x201C;WITHIN GROUP&#x201D;, array_agg and set aggregate functions</span></a></span></p></div><span class="yiyi-st" id="yiyi-330"> <a class="changeset-link headerlink reference internal" href="#change-f1a5b143ac2614a44c4d4be425086e5e">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-329">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1370">&#xFF03;1370</a></span></p></li><li><p id="change-1.1.0b1-43"><span class="yiyi-st" id="yiyi-331"><span class="target" id="change-1765f3641a6e264a7fe24088c46a4b59"><strong>[sql] [feature] [postgresql] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;SQL&#x6807;&#x51C6;&#x51FD;&#x6570;<a class="reference internal" href="core_functions.html#sqlalchemy.sql.functions.array_agg" title="sqlalchemy.sql.functions.array_agg"><code class="xref py py-class docutils literal"><span class="pre">array_agg</span></code></a>&#x7684;&#x652F;&#x6301;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x4F1A;&#x81EA;&#x52A8;&#x8FD4;&#x56DE;&#x6B63;&#x786E;&#x7684;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a>&#x952E;&#x5165;&#x548C;&#x652F;&#x6301;&#x7D22;&#x5F15;/&#x5207;&#x7247;&#x64CD;&#x4F5C;&#xFF0C;&#x4EE5;&#x53CA;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.array_agg" title="sqlalchemy.dialects.postgresql.array_agg"><code class="xref py py-func docutils literal"><span class="pre">postgresql.array_agg()</span></code></a>&#xFF0C;&#x5B83;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5E26;&#x6709;&#x9644;&#x52A0;&#x6BD4;&#x8F83;&#x7279;&#x5F81;&#x7684;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a>&#x3002;</span><span class="yiyi-st" id="yiyi-332">&#x7531;&#x4E8E;&#x76EE;&#x524D;&#x53EA;&#x6709;Postgresql&#x652F;&#x6301;&#x6570;&#x7EC4;&#xFF0C;&#x6240;&#x4EE5;&#x5B9E;&#x9645;&#x4E0A;&#x53EA;&#x80FD;&#x5728;Postgresql&#x4E0A;&#x8FD0;&#x884C;&#x3002;</span><span class="yiyi-st" id="yiyi-333">&#x8FD8;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6784;&#x9020;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.aggregate_order_by" title="sqlalchemy.dialects.postgresql.aggregate_order_by"><code class="xref py py-class docutils literal"><span class="pre">postgresql.aggregate_order_by</span></code></a>&#xFF0C;&#x4EE5;&#x652F;&#x6301;PG&#x7684;&#x201C;ORDER BY&#x201D;&#x6269;&#x5C55;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-334">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-335"><a class="reference internal" href="migration_11.html#change-3132"><span>New Function features, &#x201C;WITHIN GROUP&#x201D;, array_agg and set aggregate functions</span></a></span></p></div><span class="yiyi-st" id="yiyi-337"> <a class="changeset-link headerlink reference internal" href="#change-1765f3641a6e264a7fe24088c46a4b59">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-336">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3132">&#xFF03;3132</a></span></p></li><li><p id="change-1.1.0b1-44"><span class="yiyi-st" id="yiyi-338"><span class="target" id="change-073de265914ed4fee6ddbc41fb452906"><strong>[sql] [feature] </strong></span>&#x4E3A;&#x6838;&#x5FC3;<a class="reference internal" href="core_type_basics.html#sqlalchemy.types.ARRAY" title="sqlalchemy.types.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">types.ARRAY</span></code></a>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-339">&#x8FD9;&#x662F;PostgreSQL <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a>&#x7C7B;&#x578B;&#x7684;&#x57FA;&#x7840;&#xFF0C;&#x73B0;&#x5728;&#x6210;&#x4E3A;Core&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5F00;&#x59CB;&#x652F;&#x6301;&#x5404;&#x79CD;&#x652F;&#x6301;SQL&#x6807;&#x51C6;&#x6570;&#x7EC4;&#x7684;&#x652F;&#x6301;&#x529F;&#x80FD;&#xFF0C;&#x5305;&#x62EC;&#x4E00;&#x4E9B;&#x529F;&#x80FD;&#x548C;&#x6700;&#x7EC8;&#x652F;&#x6301;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5E93;&#x4E0A;&#x7684;&#x672C;&#x5730;&#x6570;&#x7EC4;&#x4E00;&#x4E2A;&#x201C;&#x6570;&#x7EC4;&#x201D;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x6BD4;&#x5982;DB2&#x6216;Oracle&#x3002;</span><span class="yiyi-st" id="yiyi-340">&#x6B64;&#x5916;&#xFF0C;&#x8FD8;&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x8FD0;&#x7B97;&#x7B26;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.any_" title="sqlalchemy.sql.expression.any_"><code class="xref py py-func docutils literal"><span class="pre">expression.any_()</span></code></a>&#x548C;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.all_" title="sqlalchemy.sql.expression.all_"><code class="xref py py-func docutils literal"><span class="pre">expression.all_()</span></code></a>&#x3002;</span><span class="yiyi-st" id="yiyi-341">&#x8FD9;&#x4E9B;&#x4E0D;&#x4EC5;&#x652F;&#x6301;Postgresql&#x4E0A;&#x7684;&#x6570;&#x7EC4;&#x6784;&#x9020;&#xFF0C;&#x8FD8;&#x652F;&#x6301;&#x5728;MySQL&#x4E0A;&#x53EF;&#x7528;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#xFF08;&#x4F46;&#x53EF;&#x60DC;&#x4E0D;&#x5728;Postgresql&#x4E0A;&#xFF09;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-342">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-343"><a class="reference internal" href="migration_11.html#change-3516"><span>Array support added to Core; new ANY and ALL operators</span></a></span></p></div><span class="yiyi-st" id="yiyi-345"> <a class="changeset-link headerlink reference internal" href="#change-073de265914ed4fee6ddbc41fb452906">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-344">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3516">&#xFF03;3516</a></span></p></li><li><p id="change-1.1.0b1-45"><span class="yiyi-st" id="yiyi-346"><span class="target" id="change-33f3b50c7e87df7564c217803f642cf6"><strong>[sql] [bug] </strong></span> <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.FromClause.count" title="sqlalchemy.sql.expression.FromClause.count"><code class="xref py py-meth docutils literal"><span class="pre">FromClause.count()</span></code></a>&#x5DF2;&#x5F03;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-347">&#x8BE5;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x8868;&#x4E2D;&#x7684;&#x4EFB;&#x610F;&#x5217;&#x5E76;&#x4E14;&#x4E0D;&#x53EF;&#x9760;&#xFF1B;&#x5BF9;&#x4E8E;&#x6838;&#x5FC3;&#x7528;&#x9014;&#xFF0C;&#x5E94;&#x8BE5;&#x9996;&#x9009;<code class="docutils literal"><span class="pre">func.count()</span></code>&#x3002;<a class="changeset-link headerlink reference internal" href="#change-33f3b50c7e87df7564c217803f642cf6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-348">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3724">&#xFF03;3724</a></span></p></li><li><p id="change-1.1.0b1-46"><span class="yiyi-st" id="yiyi-349"><span class="target" id="change-0555461d7e299c51372dcc39d1516f29"><strong>[sql] [bug] </strong></span>Fixed an assertion that would raise somewhat inappropriately if a <a class="reference internal" href="core_constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal"><span class="pre">Index</span></code></a> were associated with a <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> that is associated with a lower-case-t <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.TableClause" title="sqlalchemy.sql.expression.TableClause"><code class="xref py py-class docutils literal"><span class="pre">TableClause</span></code></a>; the association should be ignored for the purposes of associating the index with a <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>.<a class="changeset-link headerlink reference internal" href="#change-0555461d7e299c51372dcc39d1516f29">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-350">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3616">&#xFF03;3616</a></span></p></li><li><p id="change-1.1.0b1-47"><span class="yiyi-st" id="yiyi-351"><span class="target" id="change-4c12275c79c42b62d1c375f76c771599"><strong>[sql] [bug] </strong></span>The <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.type_coerce" title="sqlalchemy.sql.expression.type_coerce"><code class="xref py py-func docutils literal"><span class="pre">type_coerce()</span></code></a> construct is now a fully fledged Core expression element which is late-evaluated at compile time. </span><span class="yiyi-st" id="yiyi-352">&#x4EE5;&#x524D;&#xFF0C;&#x51FD;&#x6570;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x8F6C;&#x6362;&#x51FD;&#x6570;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x9762;&#x5411;&#x5217;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x6216;&#x4E00;&#x4E2A;&#x7ED9;&#x5B9A;&#x7684;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.BindParameter" title="sqlalchemy.sql.expression.BindParameter"><code class="xref py py-class docutils literal"><span class="pre">BindParameter</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x526F;&#x672C;&#x7684;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.Label" title="sqlalchemy.sql.expression.Label"><code class="xref py py-class docutils literal"><span class="pre">Label</span></code></a>&#x6765;&#x5904;&#x7406;&#x4E0D;&#x540C;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x8F93;&#x5165;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5F53;ORM&#x7EA7;&#x8868;&#x8FBE;&#x5F0F;&#x8F6C;&#x6362;&#x5C06;&#x5217;&#x8F6C;&#x6362;&#x4E3A;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x65F6;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x7528;&#x4E8E;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#xFF09;&#x65F6;&#xFF0C;&#x64CD;&#x4F5C;&#x65E0;&#x6CD5;&#x5728;&#x903B;&#x8F91;&#x4E0A;&#x7EF4;&#x62A4;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-353">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-354"><a class="reference internal" href="migration_11.html#change-3531"><span>The type_coerce function is now a persistent SQL element</span></a></span></p></div><span class="yiyi-st" id="yiyi-356"> <a class="changeset-link headerlink reference internal" href="#change-4c12275c79c42b62d1c375f76c771599">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-355">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3531">&#xFF03;3531</a></span></p></li><li><p id="change-1.1.0b1-48"><span class="yiyi-st" id="yiyi-357"><span class="target" id="change-6f4cf479ea625f2b2f5aa2a4e952959b"><strong>[sql] [bug] </strong></span>The <a class="reference internal" href="core_custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal"><span class="pre">TypeDecorator</span></code></a> type extender will now work in conjunction with a <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><code class="xref py py-class docutils literal"><span class="pre">SchemaType</span></code></a> implementation, typically <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal"><span class="pre">Enum</span></code></a> or <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.Boolean" title="sqlalchemy.types.Boolean"><code class="xref py py-class docutils literal"><span class="pre">Boolean</span></code></a> with regards to ensuring that the per-table events are propagated from the implementation type to the outer type. </span><span class="yiyi-st" id="yiyi-358">&#x8FD9;&#x4E9B;&#x4E8B;&#x4EF6;&#x7528;&#x4E8E;&#x786E;&#x4FDD;&#x7EA6;&#x675F;&#x6216;Postgresql&#x7C7B;&#x578B;&#xFF08;&#x4F8B;&#x5982;ENUM&#xFF09;&#x4E0E;&#x7236;&#x8868;&#x4E00;&#x8D77;&#x6B63;&#x786E;&#x521B;&#x5EFA;&#xFF08;&#x5E76;&#x53EF;&#x80FD;&#x88AB;&#x5220;&#x9664;&#xFF09;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-359">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-360"><a class="reference internal" href="migration_11.html#change-2919"><span>TypeDecorator now works with Enum, Boolean, &#x201C;schema&#x201D; types automatically</span></a></span></p></div><span class="yiyi-st" id="yiyi-362"> <a class="changeset-link headerlink reference internal" href="#change-6f4cf479ea625f2b2f5aa2a4e952959b">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-361">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2919">&#xFF03;2919</a></span></p></li><li><p id="change-1.1.0b1-49"><span class="yiyi-st" id="yiyi-363"><span class="target" id="change-e9e0e04652a369370f2eae50538498c9"><strong>[sql] [bug] </strong></span>The behavior of the <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.union" title="sqlalchemy.sql.expression.union"><code class="xref py py-func docutils literal"><span class="pre">union()</span></code></a> construct and related constructs such as <a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.union" title="sqlalchemy.orm.query.Query.union"><code class="xref py py-meth docutils literal"><span class="pre">Query.union()</span></code></a> now handle the case where the embedded SELECT statements need to be parenthesized due to the fact that they include LIMIT, OFFSET and/or ORDER BY. </span><span class="yiyi-st" id="yiyi-364">&#x8FD9;&#x4E9B;&#x67E5;&#x8BE2;<strong>&#x5728;SQLite</strong>&#x4E0A;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#xFF0C;&#x5E76;&#x4E14;&#x4F1A;&#x50CF;&#x4EE5;&#x524D;&#x90A3;&#x6837;&#x5728;&#x540E;&#x7AEF;&#x4E0A;&#x5931;&#x8D25;&#xFF0C;&#x4F46;&#x73B0;&#x5728;&#x5E94;&#x8BE5;&#x5728;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x540E;&#x7AEF;&#x4E0A;&#x8FD0;&#x884C;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-365">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-366"><a class="reference internal" href="migration_11.html#change-2528"><span>A UNION or similar of SELECTs with LIMIT/OFFSET/ORDER BY now parenthesizes the embedded selects</span></a></span></p></div><span class="yiyi-st" id="yiyi-368"> <a class="changeset-link headerlink reference internal" href="#change-e9e0e04652a369370f2eae50538498c9">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-367">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2528">&#xFF03;2528</a></span></p></li><li><p id="change-1.1.0b1-50"><span class="yiyi-st" id="yiyi-369"><span class="target" id="change-6d7175b6067e4d63a84c6dccbbda213f"><strong>[sql] [mysql] [change] </strong></span>The system by which a <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> considers itself to be an &#x201C;auto increment&#x201D; column has been changed, such that autoincrement is no longer implicitly enabled for a <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a> that has a composite primary key. </span><span class="yiyi-st" id="yiyi-370">&#x4E3A;&#x4E86;&#x9002;&#x5E94;&#x80FD;&#x591F;&#x4E3A;&#x590D;&#x5408;PK&#x6210;&#x5458;&#x5217;&#x542F;&#x7528;&#x81EA;&#x52A8;&#x589E;&#x91CF;&#x529F;&#x80FD;&#xFF0C;&#x540C;&#x65F6;&#x4FDD;&#x6301;SQLAlchemy&#x4E3A;&#x5355;&#x4E2A;&#x6574;&#x6570;&#x4E3B;&#x952E;&#x542F;&#x7528;&#x9690;&#x5F0F;&#x81EA;&#x52A8;&#x589E;&#x91CF;&#x7684;&#x957F;&#x671F;&#x884C;&#x4E3A;&#xFF0C;&#x7B2C;&#x4E09;&#x4E2A;&#x72B6;&#x6001;&#x5DF2;&#x6DFB;&#x52A0;&#x5230;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Column.params.autoincrement" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal"><span class="pre">Column.autoincrement</span></code></a>&#x53C2;&#x6570;<code class="docutils literal"><span class="pre">&quot;auto&quot;</span></code>&#xFF0C;&#x73B0;&#x5728;&#x662F;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-371">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-372"><a class="reference internal" href="migration_11.html#change-3216"><span>The .autoincrement directive is no longer implicitly enabled for a composite primary key column</span></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-373"><a class="reference internal" href="migration_11.html#change-mysql-3216"><span>No more generation of an implicit KEY for composite primary key w/ AUTO_INCREMENT</span></a>&#x7684;&#x7EC4;&#x5408;&#x4E3B;&#x952E;&#x751F;&#x6210;&#x9690;&#x5F0F;KEY</span></p></div><span class="yiyi-st" id="yiyi-375"> <a class="changeset-link headerlink reference internal" href="#change-6d7175b6067e4d63a84c6dccbbda213f">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-374">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3216">&#xFF03;3216</a></span></p></li></ul></div><div class="section" id="change-1.1.0b1-schema"><h3><span class="yiyi-st" id="yiyi-376">&#x67B6;&#x6784;<a class="headerlink" href="#change-1.1.0b1-schema" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-1.1.0b1-51"><span class="yiyi-st" id="yiyi-377"><span class="target" id="change-c7382e5258b1fe48e537f64ed89e23f6"><strong>[schema] [enhancement] </strong></span>&#x4F20;&#x9012;&#x7ED9;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a>&#x5BF9;&#x8C61;&#x7684;&#x9ED8;&#x8BA4;&#x751F;&#x6210;&#x51FD;&#x6570;&#x73B0;&#x5728;&#x901A;&#x8FC7;&#x201C;update_wrapper&#x201D;&#x8FD0;&#x884C;&#xFF0C;&#x6216;&#x8005;&#x5728;&#x4F20;&#x9012;&#x53EF;&#x8C03;&#x7528;&#x975E;&#x51FD;&#x6570;&#x65F6;&#x901A;&#x8FC7;&#x7B49;&#x6548;&#x51FD;&#x6570;&#x8FD0;&#x884C;&#x5185;&#x7701;&#x5DE5;&#x5177;&#x4FDD;&#x7559;&#x4E86;&#x5305;&#x88C5;&#x51FD;&#x6570;&#x7684;&#x540D;&#x79F0;&#x548C;&#x6587;&#x6863;&#x5B57;&#x7B26;&#x4E32;&#x3002;</span><span class="yiyi-st" id="yiyi-378">&#x8BF7;&#x6C42;&#x793C;&#x8C8C;hsum&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c7382e5258b1fe48e537f64ed89e23f6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-379">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/204">&#x8BF7;&#x6C42;github&#xFF1A;204</a></span></p></li></ul></div><div class="section" id="change-1.1.0b1-postgresql"><h3><span class="yiyi-st" id="yiyi-380">&#x7684;PostgreSQL <a class="headerlink" href="#change-1.1.0b1-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-1.1.0b1-52"><span class="yiyi-st" id="yiyi-381"><span class="target" id="change-b5af3aea27f2ddfa949adb65b413e64a"><strong>[postgresql] [feature] </strong></span>&#x4F7F;&#x7528;&#x65B0;&#x7684;Postgresql&#x7279;&#x5B9A;&#x7684;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.dml.Insert" title="sqlalchemy.dialects.postgresql.dml.Insert"><code class="xref py py-class docutils literal"><span class="pre">postgresql.dml.Insert</span></code></a>&#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;Postgresql&#x7684;INSERT..ON CONFLICT&#x7684;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-382">&#x62C9;&#x5BBE;&#x7684;&#x8BF7;&#x6C42;&#x548C;&#x5E7F;&#x6CDB;&#x7684;&#x52AA;&#x529B;&#x7531;&#x7F57;&#x5BBE;&#x6258;&#x9A6C;&#x65AF;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-383">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-384"><a class="reference internal" href="migration_11.html#change-3529"><span>Support for INSERT..ON CONFLICT (DO UPDATE | DO NOTHING)</span></a></span></p></div><span class="yiyi-st" id="yiyi-386"> <a class="changeset-link headerlink reference internal" href="#change-b5af3aea27f2ddfa949adb65b413e64a">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-385">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3529">&#xFF03;3529</a></span></p></li><li><p id="change-1.1.0b1-53"><span class="yiyi-st" id="yiyi-387"><span class="target" id="change-5d11b5a42524d1e67d0cff645c9823dc"><strong>[postgresql] [feature] </strong></span>&#x5982;&#x679C;&#x5728;<a class="reference internal" href="core_constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal"><span class="pre">Index</span></code></a>&#x4E0A;&#x8BBE;&#x7F6E;&#x4E86;<code class="docutils literal"><span class="pre">postgresql_concurrently</span></code>&#x6807;&#x5FD7;&#xFF0C;&#x4E14;DROP INDEX&#x7684;DDL&#x5C06;&#x53D1;&#x51FA;&#x201C;CONCURRENTLY&#x201D;&#x5728;&#x4F7F;&#x7528;&#x4E2D;&#x88AB;&#x68C0;&#x6D4B;&#x4E3A;Postgresql 9.2&#x6216;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#x3002;</span><span class="yiyi-st" id="yiyi-388">&#x5BF9;&#x4E8E;CREATE INDEX&#xFF0C;&#x8FD8;&#x6DFB;&#x52A0;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x7248;&#x672C;&#x68C0;&#x6D4B;&#xFF0C;&#x5982;&#x679C;PG&#x7248;&#x672C;&#x5C0F;&#x4E8E;8.2&#xFF0C;&#x5219;&#x4F1A;&#x5220;&#x9664;&#x8BE5;&#x5B50;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-389">&#x8BF7;&#x6C42;&#x793C;&#x7269;Iuri de Silvio&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5d11b5a42524d1e67d0cff645c9823dc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-390">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy/pull-request/84">pull request bitbucket&#xFF1A;84</a></span></p></li><li><p id="change-1.1.0b1-54"><span class="yiyi-st" id="yiyi-391"><span class="target" id="change-28b7f4677e511cd22a9dd16745eed45d"><strong>[postgresql] [feature] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x53C2;&#x6570;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.base.PGInspector.get_view_names.params.include" title="sqlalchemy.dialects.postgresql.base.PGInspector.get_view_names"><code class="xref py py-paramref docutils literal"><span class="pre">PGInspector.get_view_names.include</span></code></a>&#xFF0C;&#x5141;&#x8BB8;&#x6307;&#x5B9A;&#x5E94;&#x8FD4;&#x56DE;&#x54EA;&#x79CD;&#x89C6;&#x56FE;&#x3002;</span><span class="yiyi-st" id="yiyi-392">&#x76EE;&#x524D;&#x5305;&#x62EC;&#x201C;&#x7B80;&#x5355;&#x201D;&#x548C;&#x201C;&#x7269;&#x5316;&#x201D;&#x89C6;&#x56FE;&#x3002;</span><span class="yiyi-st" id="yiyi-393">&#x8BF7;&#x6C42;Sebastian Bank&#x63D0;&#x4F9B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-28b7f4677e511cd22a9dd16745eed45d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-394">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3588">&#xFF03;3588</a></span></p></li><li><p id="change-1.1.0b1-55"><span class="yiyi-st" id="yiyi-395"><span class="target" id="change-a00e0127e1725a49a0b06bb28f6955d7"><strong>[postgresql] [feature] </strong></span>&#x6DFB;&#x52A0;<code class="docutils literal"><span class="pre">postgresql_tablespace</span></code>&#x4F5C;&#x4E3A;<a class="reference internal" href="core_constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal"><span class="pre">Index</span></code></a>&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x4EE5;&#x5141;&#x8BB8;&#x4E3A;Postgresql&#x4E2D;&#x7684;&#x7D22;&#x5F15;&#x6307;&#x5B9A;TABLESPACE&#x3002;</span><span class="yiyi-st" id="yiyi-396">&#x8865;&#x5145;<a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal"><span class="pre">Table</span></code></a>&#x4E0A;&#x7684;&#x540C;&#x540D;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-397">&#x8BF7;&#x6C42;&#x793C;&#x8C8C;Benjamin Bertrand&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a00e0127e1725a49a0b06bb28f6955d7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-398">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3720">&#xFF03;3720</a></span></p></li><li><p id="change-1.1.0b1-56"><span class="yiyi-st" id="yiyi-399"><span class="target" id="change-649a821a56db1d45186876e467cf2875"><strong>[postgresql] [feature] </strong></span>Added new parameter <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.key_share" title="sqlalchemy.sql.expression.GenerativeSelect.with_for_update"><code class="xref py py-paramref docutils literal"><span class="pre">GenerativeSelect.with_for_update.key_share</span></code></a>, which will render the <code class="docutils literal"><span class="pre">FOR</span> <span class="pre">NO</span> <span class="pre">KEY</span> <span class="pre">UPDATE</span></code> version of <code class="docutils literal"><span class="pre">FOR</span> <span class="pre">UPDATE</span></code> and <code class="docutils literal"><span class="pre">FOR</span> <span class="pre">KEY</span> <span class="pre">SHARE</span></code> instead of <code class="docutils literal"><span class="pre">FOR</span> <span class="pre">SHARE</span></code> on the Postgresql backend. </span><span class="yiyi-st" id="yiyi-400">&#x8BF7;&#x6C42;&#x8C22;&#x8C22;Skopin&#x3002;<a class="changeset-link headerlink reference internal" href="#change-649a821a56db1d45186876e467cf2875">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-401">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/297">&#x8BF7;&#x6C42;github&#xFF1A;297</a></span></p></li><li><p id="change-1.1.0b1-57"><span class="yiyi-st" id="yiyi-402"><span class="target" id="change-36718d0ab64a4cacea7a24fad8df0070"><strong>[postgresql] [feature] [oracle] </strong></span>Added new parameter <a class="reference internal" href="core_selectable.html#sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.skip_locked" title="sqlalchemy.sql.expression.GenerativeSelect.with_for_update"><code class="xref py py-paramref docutils literal"><span class="pre">GenerativeSelect.with_for_update.skip_locked</span></code></a>, which will render the <code class="docutils literal"><span class="pre">SKIP</span> <span class="pre">LOCKED</span></code> phrase for a <code class="docutils literal"><span class="pre">FOR</span> <span class="pre">UPDATE</span></code> or <code class="docutils literal"><span class="pre">FOR</span> <span class="pre">SHARE</span></code> lock on the Postgresql and Oracle backends. </span><span class="yiyi-st" id="yiyi-403">&#x62C9;&#x8BF7;&#x6C42;Jack Zhou&#x63D0;&#x4F9B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-36718d0ab64a4cacea7a24fad8df0070">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-404">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy/pull-request/86">pull request bitbucket&#xFF1A;86</a></span></p></li><li><p id="change-1.1.0b1-58"><span class="yiyi-st" id="yiyi-405"><span class="target" id="change-41c7633e830699e83927635c357dbb4c"><strong>[postgresql] [feature] </strong></span>&#x4E3A;PyGreSQL Postgresql&#x65B9;&#x8A00;&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x65B9;&#x8A00;&#x3002;</span><span class="yiyi-st" id="yiyi-406">&#x611F;&#x8C22;Christoph Zwerschke&#x548C;Kaolin Imago Fire&#x7684;&#x52AA;&#x529B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-41c7633e830699e83927635c357dbb4c">&#xB6;</a></span></p><p></p></li><li><p id="change-1.1.0b1-59"><span class="yiyi-st" id="yiyi-407"><span class="target" id="change-19aa6de2dd87b7d89df8d37af407d32c"><strong>[postgresql] [feature] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5E38;&#x91CF;<code class="xref py py-attr docutils literal"><span class="pre">postgresql.JSON.NULL</span></code>&#xFF0C;&#x8868;&#x793A;&#x65E0;&#x8BBA;&#x5176;&#x4ED6;&#x8BBE;&#x7F6E;&#x5982;&#x4F55;&#xFF0C;&#x90FD;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;JSON NULL&#x503C;&#x4F5C;&#x4E3A;&#x503C;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-408">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-409"><a class="reference internal" href="migration_11.html#change-3514-jsonnull"><span>New JSON.NULL Constant Added</span></a></span></p></div><span class="yiyi-st" id="yiyi-411"> <a class="changeset-link headerlink reference internal" href="#change-19aa6de2dd87b7d89df8d37af407d32c">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-410">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3514">&#xFF03;3514</a></span></p></li><li><p id="change-1.1.0b1-60"><span class="yiyi-st" id="yiyi-412"><span class="target" id="change-5df5fd63f9f8615d9db6cdf04a4daeef"><strong>[postgresql] [bug] </strong></span>&#x65B0;&#x589E;&#x652F;&#x6301;&#x5C06;&#x7269;&#x5316;&#x89C6;&#x56FE;&#x7684;&#x6765;&#x6E90;&#x53CD;&#x6620;&#x5230;<a class="reference internal" href="core_reflection.html#sqlalchemy.engine.reflection.Inspector.get_view_definition" title="sqlalchemy.engine.reflection.Inspector.get_view_definition"><code class="xref py py-meth docutils literal"><span class="pre">Inspector.get_view_definition()</span></code></a>&#x65B9;&#x6CD5;&#x7684;Postgresql&#x7248;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5df5fd63f9f8615d9db6cdf04a4daeef">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-413">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3587">&#xFF03;3587</a></span></p></li><li><p id="change-1.1.0b1-61"><span class="yiyi-st" id="yiyi-414"><span class="target" id="change-47dd8bf4fad0416dfd0377b613df9e99"><strong>[postgresql] [bug] </strong></span>The use of a <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a> object that refers to a <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal"><span class="pre">types.Enum</span></code></a> or <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.ENUM" title="sqlalchemy.dialects.postgresql.ENUM"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ENUM</span></code></a> subtype will now emit the expected &#x201C;CREATE TYPE&#x201D; and &#x201C;DROP TYPE&#x201D; DDL when the type is used within a &#x201C;CREATE TABLE&#x201D; or &#x201C;DROP TABLE&#x201D;.</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-415">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-416"><a class="reference internal" href="migration_11.html#change-2729"><span>ARRAY with ENUM will now emit CREATE TYPE for the ENUM</span></a></span></p></div><span class="yiyi-st" id="yiyi-418"> <a class="changeset-link headerlink reference internal" href="#change-47dd8bf4fad0416dfd0377b613df9e99">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-417">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2729">&#xFF03;2729</a></span></p></li><li><p id="change-1.1.0b1-62"><span class="yiyi-st" id="yiyi-419"><span class="target" id="change-de38578e28bc8265d15f20fa71a4ac1b"><strong>[postgresql] [bug] </strong></span>&#x7279;&#x6B8A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF08;&#x5982;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a>&#xFF0C;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSON</span></code></a>&#x548C;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.HSTORE" title="sqlalchemy.dialects.postgresql.HSTORE"><code class="xref py py-class docutils literal"><span class="pre">postgresql.HSTORE</span></code></a>&#x73B0;&#x5728;&#x8BBE;&#x7F6E;&#x4E3A;False&#xFF0C;&#x8FD9;&#x5141;&#x8BB8;&#x8FD9;&#x4E9B;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x5728;&#x5305;&#x542B;&#x884C;&#x5185;&#x5B9E;&#x4F53;&#x7684;ORM&#x67E5;&#x8BE2;&#x4E2D;&#x83B7;&#x53D6;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-420">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-421"><a class="reference internal" href="migration_11.html#change-3499"><span>Changes regarding &#x201C;unhashable&#x201D; types</span></a></span></p><p class="last"><span class="yiyi-st" id="yiyi-422"><a class="reference internal" href="migration_11.html#change-3499-postgresql"><span>ARRAY and JSON types now correctly specify &#x201C;unhashable&#x201D;</span></a></span></p></div><span class="yiyi-st" id="yiyi-424"> <a class="changeset-link headerlink reference internal" href="#change-de38578e28bc8265d15f20fa71a4ac1b">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-423">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3499">&#xFF03;3499</a></span></p></li><li><p id="change-1.1.0b1-63"><span class="yiyi-st" id="yiyi-425"><span class="target" id="change-67a74d635741c7b8299e75c637f764fa"><strong>[postgresql] [bug] </strong></span>The Postgresql <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.ARRAY" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-class docutils literal"><span class="pre">postgresql.ARRAY</span></code></a> type now supports multidimensional indexed access, e.g. expressions such as <code class="docutils literal"><span class="pre">somecol[5][6]</span></code> without any need for explicit casts or type coercions, provided that the <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.ARRAY.params.dimensions" title="sqlalchemy.dialects.postgresql.ARRAY"><code class="xref py py-paramref docutils literal"><span class="pre">postgresql.ARRAY.dimensions</span></code></a> parameter is set to the desired number of dimensions.</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-426">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-427"><a class="reference internal" href="migration_11.html#change-3503"><span>Correct SQL Types are Established from Indexed Access of ARRAY, JSON, HSTORE</span></a></span></p></div><span class="yiyi-st" id="yiyi-429"> <a class="changeset-link headerlink reference internal" href="#change-67a74d635741c7b8299e75c637f764fa">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-428">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3487">&#xFF03;3487</a></span></p></li><li><p id="change-1.1.0b1-64"><span class="yiyi-st" id="yiyi-430"><span class="target" id="change-7250d82c6e54b03841a530346c262638"><strong>[postgresql] [bug] </strong></span>&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x8BBF;&#x95EE;&#x65F6;&#xFF0C;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSON</span></code></a>&#x548C;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.JSONB" title="sqlalchemy.dialects.postgresql.JSONB"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSONB</span></code></a>&#x7684;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x5DF2;&#x5F97;&#x5230;&#x4FEE;&#x590D;&#xFF0C;&#x4F8B;&#x5982;Postgresql&#x672C;&#x8EAB;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8BE5;&#x8868;&#x8FBE;&#x5F0F;&#x672C;&#x8EAB;&#x662F;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSON</span></code></a>&#x6216;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.JSONB" title="sqlalchemy.dialects.postgresql.JSONB"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSONB</span></code></a>&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-431">&#x4E4B;&#x524D;&#xFF0C;&#x8BBF;&#x95EE;&#x5668;&#x5C06;&#x8FD4;&#x56DE;<a class="reference internal" href="core_type_api.html#sqlalchemy.types.NullType" title="sqlalchemy.types.NullType"><code class="xref py py-class docutils literal"><span class="pre">NullType</span></code></a>&#xFF0C;&#x8FD9;&#x5C06;&#x7981;&#x6B62;&#x4F7F;&#x7528;&#x540E;&#x7EED;&#x7684;&#x7C7B;JSON&#x8FD0;&#x7B97;&#x7B26;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-432">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-433"><a class="reference internal" href="migration_11.html#change-3503"><span>Correct SQL Types are Established from Indexed Access of ARRAY, JSON, HSTORE</span></a></span></p></div><span class="yiyi-st" id="yiyi-435"> <a class="changeset-link headerlink reference internal" href="#change-7250d82c6e54b03841a530346c262638">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-434">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3503">&#xFF03;3503</a></span></p></li><li><p id="change-1.1.0b1-65"><span class="yiyi-st" id="yiyi-436"><span class="target" id="change-e131ab33b04196b6d2081a5e820d4974"><strong>[postgresql] [bug] </strong></span>The <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.JSON" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSON</span></code></a>, <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.JSONB" title="sqlalchemy.dialects.postgresql.JSONB"><code class="xref py py-class docutils literal"><span class="pre">postgresql.JSONB</span></code></a> and <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.HSTORE" title="sqlalchemy.dialects.postgresql.HSTORE"><code class="xref py py-class docutils literal"><span class="pre">postgresql.HSTORE</span></code></a> datatypes now allow full control over the return type from an indexed textual access operation, either <code class="docutils literal"><span class="pre">column[someindex].astext</span></code> for a JSON type or <code class="docutils literal"><span class="pre">column[someindex]</span></code> for an HSTORE type, via the <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.JSON.params.astext_type" title="sqlalchemy.dialects.postgresql.JSON"><code class="xref py py-paramref docutils literal"><span class="pre">postgresql.JSON.astext_type</span></code></a> and <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.HSTORE.params.text_type" title="sqlalchemy.dialects.postgresql.HSTORE"><code class="xref py py-paramref docutils literal"><span class="pre">postgresql.HSTORE.text_type</span></code></a> parameters.</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-437">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-438"><a class="reference internal" href="migration_11.html#change-3503"><span>Correct SQL Types are Established from Indexed Access of ARRAY, JSON, HSTORE</span></a></span></p></div><span class="yiyi-st" id="yiyi-440"> <a class="changeset-link headerlink reference internal" href="#change-e131ab33b04196b6d2081a5e820d4974">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-439">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3503">&#xFF03;3503</a></span></p></li><li><p id="change-1.1.0b1-66"><span class="yiyi-st" id="yiyi-441"><span class="target" id="change-6dfedfbab62807e6296ba6410d21fa16"><strong>[postgresql] [bug] </strong></span>The <a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.JSON.Comparator.astext" title="sqlalchemy.dialects.postgresql.JSON.Comparator.astext"><code class="xref py py-attr docutils literal"><span class="pre">postgresql.JSON.Comparator.astext</span></code></a> modifier no longer calls upon <a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.ColumnElement.cast" title="sqlalchemy.sql.expression.ColumnElement.cast"><code class="xref py py-meth docutils literal"><span class="pre">ColumnElement.cast()</span></code></a> implicitly, as PG&#x2019;s JSON/JSONB types allow cross-casting between each other as well. </span><span class="yiyi-st" id="yiyi-442">&#x5728;JSON&#x7D22;&#x5F15;&#x8BBF;&#x95EE;&#x4E2D;&#x4F7F;&#x7528;<a class="reference internal" href="core_sqlelement.html#sqlalchemy.sql.expression.ColumnElement.cast" title="sqlalchemy.sql.expression.ColumnElement.cast"><code class="xref py py-meth docutils literal"><span class="pre">ColumnElement.cast()</span></code></a>&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4F8B;&#x5982;&#x9700;&#x8981;&#x4FEE;&#x6539;<code class="docutils literal"><span class="pre">col[someindex].cast(Integer)</span></code>&#xFF0C;&#x4EE5;&#x663E;&#x5F0F;&#x8C03;&#x7528;<a class="reference internal" href="dialects_postgresql.html#sqlalchemy.dialects.postgresql.JSON.Comparator.astext" title="sqlalchemy.dialects.postgresql.JSON.Comparator.astext"><code class="xref py py-attr docutils literal"><span class="pre">postgresql.JSON.Comparator.astext</span></code></a>&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-443">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-444"><a class="reference internal" href="migration_11.html#change-3503-cast"><span>The JSON cast() operation now requires .astext is called explicitly</span></a></span></p></div><span class="yiyi-st" id="yiyi-446"> <a class="changeset-link headerlink reference internal" href="#change-6dfedfbab62807e6296ba6410d21fa16">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-445">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3503">&#xFF03;3503</a></span></p></li><li><p id="change-1.1.0b1-67"><span class="yiyi-st" id="yiyi-447"><span class="target" id="change-6330dccd9f95ad0cf2168ee7ac940254"><strong>[postgresql] [change] </strong></span>&#x5DF2;&#x8FC7;&#x65F6;&#x5F03;&#x7528;<code class="docutils literal"><span class="pre">sqlalchemy.dialects.postgres</span></code>&#x6A21;&#x5757;&#xFF1B;&#x8FD9;&#x5DF2;&#x7ECF;&#x53D1;&#x51FA;&#x4E86;&#x8BB8;&#x591A;&#x5E74;&#x7684;&#x8B66;&#x544A;&#xFF0C;&#x5E76;&#x4E14;&#x9879;&#x76EE;&#x5E94;&#x8BE5;&#x8C03;&#x7528;<code class="docutils literal"><span class="pre">sqlalchemy.dialects.postgresql</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-448">&#x7136;&#x800C;&#xFF0C;<code class="docutils literal"><span class="pre">postgres://</span></code>&#x5F62;&#x5F0F;&#x7684;&#x5F15;&#x64CE;&#x7F51;&#x5740;&#x4ECD;&#x7136;&#x4F1A;&#x7EE7;&#x7EED;&#x8FD0;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6330dccd9f95ad0cf2168ee7ac940254">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-1.1.0b1-mysql"><h3><span class="yiyi-st" id="yiyi-449">MySQL&#x7684;<a class="headerlink" href="#change-1.1.0b1-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-1.1.0b1-68"><span class="yiyi-st" id="yiyi-450"><span class="target" id="change-9205bf2037f2de73d4da5d5c4ede6d18"><strong>[mysql] [feature] </strong></span>&#x901A;&#x8FC7;AUTOCOMMIT&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x8BBE;&#x7F6E;&#x589E;&#x52A0;&#x4E86;&#x5BF9;MySQL&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x7684;&#x201C;autocommit&#x201D;&#x7684;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-451">&#x8BF7;&#x6C42;Roman Romania&#x793C;&#x8C8C;&#x7684;&#x8BF7;&#x6C42;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-452">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-453"><a class="reference internal" href="migration_11.html#change-3332"><span>Added support for AUTOCOMMIT &#x201C;isolation level&#x201D;</span></a></span></p></div><span class="yiyi-st" id="yiyi-455"> <a class="changeset-link headerlink reference internal" href="#change-9205bf2037f2de73d4da5d5c4ede6d18">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-454">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3332">&#xFF03;3332</a></span></p></li><li><p id="change-1.1.0b1-69"><span class="yiyi-st" id="yiyi-456"><span class="target" id="change-1f91faadfeca6a6deca2362e7f770a4c"><strong>[mysql] [feature] </strong></span>&#x4E3A;MySQL 5.7&#x6DFB;&#x52A0;&#x4E86;<a class="reference internal" href="dialects_mysql.html#sqlalchemy.dialects.mysql.JSON" title="sqlalchemy.dialects.mysql.JSON"><code class="xref py py-class docutils literal"><span class="pre">mysql.JSON</span></code></a>&#x3002;</span><span class="yiyi-st" id="yiyi-457">JSON&#x7C7B;&#x578B;&#x63D0;&#x4F9B;&#x4E86;MySQL&#x4E2D;&#x7684;JSON&#x503C;&#x7684;&#x6301;&#x4E45;&#x6027;&#x4EE5;&#x53CA;&#x201C;getitem&#x201D;&#x548C;&#x201C;getpath&#x201D;&#x7684;&#x57FA;&#x672C;&#x8FD0;&#x7B97;&#x7B26;&#x652F;&#x6301;&#xFF0C;&#x5229;&#x7528;<code class="docutils literal"><span class="pre">JSON_EXTRACT</span></code>&#x51FD;&#x6570;&#x5F15;&#x7528;JSON&#x7ED3;&#x6784;&#x4E2D;&#x7684;&#x5404;&#x4E2A;&#x8DEF;&#x5F84;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-458">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-459"><a class="reference internal" href="migration_11.html#change-3547"><span>MySQL JSON Support</span></a></span></p></div><span class="yiyi-st" id="yiyi-461"> <a class="changeset-link headerlink reference internal" href="#change-1f91faadfeca6a6deca2362e7f770a4c">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-460">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3547">&#xFF03;3547</a></span></p></li><li><p id="change-1.1.0b1-70"><span class="yiyi-st" id="yiyi-462"><span class="target" id="change-d2790f0772bca4a21e0a612e8157501c"><strong>[mysql] [change] </strong></span>The MySQL dialect no longer generates an extra &#x201C;KEY&#x201D; directive when generating CREATE TABLE DDL for a table using InnoDB with a composite primary key with AUTO_INCREMENT on a column that isn&#x2019;t the first column; to overcome InnoDB&#x2019;s limitation here, the PRIMARY KEY constraint is now generated with the AUTO_INCREMENT column placed first in the list of columns.</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-463">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p><span class="yiyi-st" id="yiyi-464"><a class="reference internal" href="migration_11.html#change-mysql-3216"><span>No more generation of an implicit KEY for composite primary key w/ AUTO_INCREMENT</span></a>&#x7684;&#x7EC4;&#x5408;&#x4E3B;&#x952E;&#x751F;&#x6210;&#x9690;&#x5F0F;KEY</span></p><p class="last"><span class="yiyi-st" id="yiyi-465"><a class="reference internal" href="migration_11.html#change-3216"><span>The .autoincrement directive is no longer implicitly enabled for a composite primary key column</span></a></span></p></div><span class="yiyi-st" id="yiyi-467"> <a class="changeset-link headerlink reference internal" href="#change-d2790f0772bca4a21e0a612e8157501c">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-466">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3216">&#xFF03;3216</a></span></p></li></ul></div><div class="section" id="change-1.1.0b1-sqlite"><h3><span class="yiyi-st" id="yiyi-468">&#x6E90;&#x7801;<a class="headerlink" href="#change-1.1.0b1-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-1.1.0b1-71"><span class="yiyi-st" id="yiyi-469"><span class="target" id="change-4b6e53e3c72102adbc3539e8d0687737"><strong>[sqlite] [feature] </strong></span>&#x73B0;&#x5728;&#xFF0C;SQLite&#x65B9;&#x8A00;&#x53CD;&#x6620;&#x4E86;ON UPDATE&#x548C;ON DELETE&#x77ED;&#x8BED;&#x5728;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x5185;&#x3002;</span><span class="yiyi-st" id="yiyi-470">&#x8BF7;&#x6C42;&#x793C;&#x8C8C;Michal Petrucha&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4b6e53e3c72102adbc3539e8d0687737">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-471">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/244">&#x8BF7;&#x6C42;github&#xFF1A;244</a></span></p></li><li><p id="change-1.1.0b1-72"><span class="yiyi-st" id="yiyi-472"><span class="target" id="change-49d30a6da6539d0de1fe5e50170ffa98"><strong>[sqlite] [feature] </strong></span> SQLite&#x65B9;&#x8A00;&#x73B0;&#x5728;&#x53CD;&#x6620;&#x4E86;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x7684;&#x540D;&#x79F0;&#x3002;</span><span class="yiyi-st" id="yiyi-473">&#x62C9;&#x8BF7;&#x6C42;&#x6234;&#x5B89;&#x5A1C;&#x514B;&#x62C9;&#x514B;&#x793C;&#x8C8C;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-474">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-475"><a class="reference internal" href="migration_11.html#change-3629"><span>Reflection of the name of PRIMARY KEY constraints</span></a></span></p></div><span class="yiyi-st" id="yiyi-477"> <a class="changeset-link headerlink reference internal" href="#change-49d30a6da6539d0de1fe5e50170ffa98">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-476">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3629">&#xFF03;3629</a></span></p></li><li><p id="change-1.1.0b1-73"><span class="yiyi-st" id="yiyi-478"><span class="target" id="change-ff629759d993d58e82fc77a32e11282f"><strong>[sqlite] [bug] </strong></span>The workaround for right-nested joins on SQLite, where they are rewritten as subqueries in order to work around SQLite&#x2019;s lack of support for this syntax, is lifted when SQLite version 3.7.16 or greater is detected.</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-479">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-480"><a class="reference internal" href="migration_11.html#change-3634"><span>Right-nested join workaround lifted for SQLite version 3.7.16</span></a></span></p></div><span class="yiyi-st" id="yiyi-482"> <a class="changeset-link headerlink reference internal" href="#change-ff629759d993d58e82fc77a32e11282f">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-481">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3634">&#xFF03;3634</a></span></p></li><li><p id="change-1.1.0b1-74"><span class="yiyi-st" id="yiyi-483"><span class="target" id="change-63298ba6c855aa8516743d99d0319ba1"><strong>[sqlite] [bug] </strong></span>The workaround for SQLite&#x2019;s unexpected delivery of column names as <code class="docutils literal"><span class="pre">tablename.columnname</span></code> for some kinds of queries is now disabled when SQLite version 3.10.0 or greater is detected.</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-484">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-485"><a class="reference internal" href="migration_11.html#change-3633"><span>Dotted column names workaround lifted for SQLite version 3.10.0</span></a></span></p></div><span class="yiyi-st" id="yiyi-487"> <a class="changeset-link headerlink reference internal" href="#change-63298ba6c855aa8516743d99d0319ba1">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-486">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3633">&#xFF03;3633</a></span></p></li><li><p id="change-1.1.0b1-75"><span class="yiyi-st" id="yiyi-488"><span class="target" id="change-b5448aba0a3a84361c2f1ee75c597bfa"><strong>[sqlite] [change] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x7528;&#x4E8E;SQLite&#x7684;<a class="reference internal" href="core_reflection.html#sqlalchemy.engine.reflection.Inspector.get_schema_names" title="sqlalchemy.engine.reflection.Inspector.get_schema_names"><code class="xref py py-meth docutils literal"><span class="pre">Inspector.get_schema_names()</span></code></a>&#x65B9;&#x6CD5;&#x7684;SQLite&#x65B9;&#x8A00;&#x7684;&#x652F;&#x6301;&#xFF1B;&#x62C9;&#x8BF7;&#x6C42;&#x793C;&#x8C8C;Brian Van Klaveren&#x3002;</span><span class="yiyi-st" id="yiyi-489">&#x8FD8;&#x4FEE;&#x590D;&#x4E86;&#x5BF9;&#x4F7F;&#x7528;&#x6A21;&#x5F0F;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x7684;&#x652F;&#x6301;&#x4EE5;&#x53CA;&#x6A21;&#x5F0F;&#x7ED1;&#x5B9A;&#x8868;&#x4E2D;&#x5BF9;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x7684;&#x53CD;&#x6620;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-490">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-491"><a class="reference internal" href="migration_11.html#change-sqlite-schemas"><span>Improved Support for Remote Schemas</span></a></span></p></div><span class="yiyi-st" id="yiyi-493"> <a class="changeset-link headerlink reference internal" href="#change-b5448aba0a3a84361c2f1ee75c597bfa">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-492">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://github.com/zzzeek/sqlalchemy/pull/198">pull request github&#xFF1A;198</a></span></p></li></ul></div><div class="section" id="change-1.1.0b1-mssql"><h3><span class="yiyi-st" id="yiyi-494">MSSQL <a class="headerlink" href="#change-1.1.0b1-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-1.1.0b1-76"><span class="yiyi-st" id="yiyi-495"><span class="target" id="change-be8b6149c59334d05c96e5207d84cfa2"><strong>[mssql] [feature] </strong></span>The <code class="docutils literal"><span class="pre">mssql_clustered</span></code> flag available on <a class="reference internal" href="core_constraints.html#sqlalchemy.schema.UniqueConstraint" title="sqlalchemy.schema.UniqueConstraint"><code class="xref py py-class docutils literal"><span class="pre">UniqueConstraint</span></code></a>, <a class="reference internal" href="core_constraints.html#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal"><span class="pre">PrimaryKeyConstraint</span></code></a>, <a class="reference internal" href="core_constraints.html#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal"><span class="pre">Index</span></code></a> now defaults to <code class="docutils literal"><span class="pre">None</span></code>, and can be set to False which will render the NONCLUSTERED keyword in particular for a primary key, allowing a different index to be used as &#x201C;clustered&#x201D;. </span><span class="yiyi-st" id="yiyi-496">&#x8BF7;&#x6C42;&#x793C;&#x8C8C;Saulius&#x17D;emaitaitis&#x3002;<a class="changeset-link headerlink reference internal" href="#change-be8b6149c59334d05c96e5207d84cfa2">&#xB6;</a></span></p><p></p></li><li><p id="change-1.1.0b1-77"><span class="yiyi-st" id="yiyi-497"><span class="target" id="change-83bc6226d745f264990c3f697a8bec64"><strong>[mssql] [feature] </strong></span>&#x901A;&#x8FC7;<a class="reference internal" href="core_engines.html#sqlalchemy.create_engine.params.isolation_level" title="sqlalchemy.create_engine"><code class="xref py py-paramref docutils literal"><span class="pre">create_engine.isolation_level</span></code></a>&#x548C;<a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection.execution_options.params.isolation_level" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-paramref docutils literal"><span class="pre">Connection.execution_options.isolation_level</span></code></a>&#x53C2;&#x6570;&#x4E3A;SQL Server&#x65B9;&#x8A00;&#x6DFB;&#x52A0;&#x4E86;&#x57FA;&#x672C;&#x7684;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x652F;&#x6301;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-498">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-499"><a class="reference internal" href="migration_11.html#change-3534"><span>Added transaction isolation level support for SQL Server</span></a></span></p></div><span class="yiyi-st" id="yiyi-501"> <a class="changeset-link headerlink reference internal" href="#change-83bc6226d745f264990c3f697a8bec64">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-500">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3534">&#xFF03;3534</a></span></p></li><li><p id="change-1.1.0b1-78"><span class="yiyi-st" id="yiyi-502"><span class="target" id="change-b04c14877b76f5d17f0cd07b715c468a"><strong>[mssql] [bug] </strong></span>&#x6839;&#x636E;<code class="docutils literal"><span class="pre">VARBINARY</span></code>&#x6570;&#x636E;&#x7C7B;&#x578B;&#x9002;&#x5F53;&#x8C03;&#x6574;mxODBC&#x65B9;&#x8A00;&#x4EE5;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">BinaryNull</span></code>&#x7B26;&#x53F7;&#x3002;</span><span class="yiyi-st" id="yiyi-503">&#x62C9;&#x62C9;&#x8BF7;&#x6C42;&#x793C;&#x8C8C;&#x827E;&#x4F26;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b04c14877b76f5d17f0cd07b715c468a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-504">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy/pull-request/58">pull request bitbucket&#xFF1A;58</a></span></p></li><li><p id="change-1.1.0b1-79"><span class="yiyi-st" id="yiyi-505">&#x4FEE;&#x590D;&#x4E86;SQL Server&#x65B9;&#x8A00;&#x901A;&#x8FC7;&#x5C06;&#x4EE4;&#x724C;<code class="docutils literal"><span class="pre">&quot;max&quot;</span></code>&#x5206;&#x914D;&#x7ED9;&#x5177;&#x6709;&#x65E0;&#x9650;&#x957F;&#x5EA6;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;&#x6216;&#x5176;&#x4ED6;&#x53EF;&#x53D8;&#x957F;&#x5EA6;&#x5217;&#x7C7B;&#x578B;&#x6765;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x7684;&#x95EE;&#x9898;&#x3002;<span class="target" id="change-2101980fac60807a3d347737bfff6a29"><strong>[mssql] [bug] </strong></span>&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x957F;&#x5EA6;&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-506">&#x867D;&#x7136;&#x663E;&#x5F0F;&#x4F7F;&#x7528;<code class="docutils literal"><span class="pre">&quot;max&quot;</span></code>&#x6807;&#x8BB0;&#x53D7;SQL Server&#x65B9;&#x8A00;&#x652F;&#x6301;&#xFF0C;&#x4F46;&#x5B83;&#x4E0D;&#x662F;&#x57FA;&#x672C;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x7684;&#x5E38;&#x89C4;&#x534F;&#x5B9A;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x800C;&#x662F;&#x5E94;&#x5C06;&#x5176;&#x957F;&#x5EA6;&#x4FDD;&#x7559;&#x4E3A;None&#x3002;</span><span class="yiyi-st" id="yiyi-507">&#x73B0;&#x5728;&#x8BE5;&#x65B9;&#x8A00;&#x5C06;&#x8BE5;&#x957F;&#x5EA6;&#x6307;&#x5B9A;&#x4E3A;&#x65E0;&#xFF0C;&#x4EE5;&#x53CD;&#x6620;&#x8BE5;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x4FBF;&#x8BE5;&#x7C7B;&#x578B;&#x5728;&#x5176;&#x4ED6;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-508">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-509"><a class="reference internal" href="migration_11.html#change-3504"><span>String / varlength types no longer represent &#x201C;max&#x201D; explicitly on reflection</span></a></span></p></div><span class="yiyi-st" id="yiyi-511"> <a class="changeset-link headerlink reference internal" href="#change-2101980fac60807a3d347737bfff6a29">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-510">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3504">&#xFF03;3504</a></span></p></li><li><p id="change-1.1.0b1-80"><span class="yiyi-st" id="yiyi-512"><span class="target" id="change-88e689d9f43877db618ab1091101ab1a"><strong>[mssql] [change] </strong></span>The <code class="docutils literal"><span class="pre">legacy_schema_aliasing</span></code> flag, introduced in version 1.0.5 as part of <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3424">#3424</a> to allow disabling of the MSSQL dialect&#x2019;s attempts to create aliases for schema-qualified tables, now defaults to False; the old behavior is now disabled unless explicitly turned on.</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-513">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-514"><a class="reference internal" href="migration_11.html#change-3434"><span>The legacy_schema_aliasing flag is now set to False</span></a></span></p></div><span class="yiyi-st" id="yiyi-516"> <a class="changeset-link headerlink reference internal" href="#change-88e689d9f43877db618ab1091101ab1a">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-515">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3434">&#xFF03;3434</a></span></p></li></ul></div><div class="section" id="change-1.1.0b1-misc"><h3><span class="yiyi-st" id="yiyi-517">&#x6742;&#x9879;<a class="headerlink" href="#change-1.1.0b1-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-1.1.0b1-81"><span class="yiyi-st" id="yiyi-518"><span class="target" id="change-d682fc46bfa49ace6fb8b8b9f4b09a5e"><strong>[feature] [ext] </strong></span>&#x5C06;<a class="reference internal" href="orm_extensions_mutable.html#sqlalchemy.ext.mutable.MutableSet" title="sqlalchemy.ext.mutable.MutableSet"><code class="xref py py-class docutils literal"><span class="pre">MutableSet</span></code></a>&#x548C;<a class="reference internal" href="orm_extensions_mutable.html#sqlalchemy.ext.mutable.MutableList" title="sqlalchemy.ext.mutable.MutableList"><code class="xref py py-class docutils literal"><span class="pre">MutableList</span></code></a>&#x8F85;&#x52A9;&#x7C7B;&#x6DFB;&#x52A0;&#x5230;<a class="reference internal" href="orm_extensions_mutable.html"><span>Mutation Tracking</span></a>&#x6269;&#x5C55;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-519">&#x8BF7;&#x6C42;Jeong YunWon&#x63D0;&#x4F9B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d682fc46bfa49ace6fb8b8b9f4b09a5e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-520">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3297">&#xFF03;3297</a></span></p></li><li><p id="change-1.1.0b1-82"><span class="yiyi-st" id="yiyi-521"><span class="target" id="change-a2c32a48b7c0700784bb0b7a87dd1f3f"><strong>[bug] [ext] </strong></span>The docstring specified on a hybrid property or method is now honored at the class level, allowing it to work with tools like Sphinx autodoc. </span><span class="yiyi-st" id="yiyi-522">&#x8FD9;&#x91CC;&#x7684;&#x673A;&#x5236;&#x5FC5;&#x7136;&#x6D89;&#x53CA;&#x6DF7;&#x5408;&#x5C5E;&#x6027;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x4E00;&#x4E9B;&#x5305;&#x88C5;&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x5B83;&#x4EEC;&#x4F7F;&#x7528;&#x5185;&#x7701;&#x800C;&#x51FA;&#x73B0;&#x4E0D;&#x540C;&#x3002;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-523">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-524"><a class="reference internal" href="migration_11.html#change-3653"><span>Hybrid properties and methods now propagate the docstring as well as .info</span></a></span></p></div><span class="yiyi-st" id="yiyi-526"> <a class="changeset-link headerlink reference internal" href="#change-a2c32a48b7c0700784bb0b7a87dd1f3f">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-525">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/3653">&#xFF03;3653</a></span></p></li><li><p id="change-1.1.0b1-83"><span class="yiyi-st" id="yiyi-527"><span class="target" id="change-44d4eaf2aee417980d71eddb977888cb"><strong>[bug] [sybase] </strong></span>&#x5C1D;&#x8BD5;&#x7F16;&#x8BD1;&#x5305;&#x542B;&#x201C;offset&#x201D;&#x7684;&#x67E5;&#x8BE2;&#x65F6;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x7684;Sybase&#x65B9;&#x8A00;&#x73B0;&#x5728;&#x5F15;&#x53D1;<code class="docutils literal"><span class="pre">NotImplementedError</span></code>&#xFF1B; Sybase&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x7684;&#x201C;&#x504F;&#x79FB;&#x201D;&#x529F;&#x80FD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-44d4eaf2aee417980d71eddb977888cb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-528">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2278">&#xFF03;2278</a></span></p></li></ul></div></div>