<h1><span class="yiyi-st" id="yiyi-112">0.4&#x66F4;&#x65B0;&#x65E5;&#x5FD7;<a class="headerlink" href="#changelog" title="Permalink to this headline">&#xB6;</a></span></h1><div class="section" id="change-0.4.8"><h2><span class="yiyi-st" id="yiyi-113">0.4.8 <a class="headerlink" href="#change-0.4.8" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-135">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2008&#x5E74;10&#x6708;12&#x65E5;</span><div class="section" id="change-0.4.8-orm"><h3><span class="yiyi-st" id="yiyi-114">ORM <a class="headerlink" href="#change-0.4.8-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.8-0"><span class="yiyi-st" id="yiyi-115"><span class="target" id="change-4000d9f2d4389a85854ede3e007aaba5"><strong>[orm] </strong></span>Fixed bug regarding inherit_condition passed with &#x201C;A=B&#x201D; versus &#x201C;B=A&#x201D; leading to errors<a class="changeset-link headerlink reference internal" href="#change-4000d9f2d4389a85854ede3e007aaba5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-116">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1039">&#xFF03;1039</a></span></p></li><li><p id="change-0.4.8-1"><span class="yiyi-st" id="yiyi-117"><span class="target" id="change-2690aa1e520f493331cb61a6326c56c4"><strong>[orm] </strong></span>&#x5728;SessionExtension.before_flush()&#x4E2D;&#x5BF9;&#x65B0;&#x7684;&#xFF0C;&#x810F;&#x7684;&#x548C;&#x5220;&#x9664;&#x7684;&#x96C6;&#x5408;&#x6240;&#x505A;&#x7684;&#x66F4;&#x6539;&#x5C06;&#x5BF9;&#x8BE5;&#x5237;&#x65B0;&#x751F;&#x6548;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2690aa1e520f493331cb61a6326c56c4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.8-2"><span class="yiyi-st" id="yiyi-118"><span class="target" id="change-13623d94e18e8b3b92030ae525a030ec"><strong>[orm] </strong></span>Added label() method to InstrumentedAttribute to establish forwards compatibility with 0.5.<a class="changeset-link headerlink reference internal" href="#change-13623d94e18e8b3b92030ae525a030ec">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.8-sql"><h3><span class="yiyi-st" id="yiyi-119">SQL <a class="headerlink" href="#change-0.4.8-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.8-3"><span class="yiyi-st" id="yiyi-120"><span class="target" id="change-7fee195a017ac2215e80b38b868365e9"><strong>[sql] </strong></span>column.in_(someselect) can now be used as a columns-clause expression without the subquery bleeding into the FROM clause<a class="changeset-link headerlink reference internal" href="#change-7fee195a017ac2215e80b38b868365e9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-121">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1074">&#xFF03;1074</a></span></p></li></ul></div><div class="section" id="change-0.4.8-mysql"><h3><span class="yiyi-st" id="yiyi-122">MySQL&#x7684;<a class="headerlink" href="#change-0.4.8-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.8-4"><span class="yiyi-st" id="yiyi-123"><span class="target" id="change-341091ae1d33ebc9cf02df1ca798516a"><strong>[mysql] </strong></span>&#x65B0;&#x589E;MSMediumInteger&#x7C7B;&#x578B;<a class="changeset-link headerlink reference internal" href="#change-341091ae1d33ebc9cf02df1ca798516a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-124">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1146">&#xFF03;1146</a></span></p></li></ul></div><div class="section" id="change-0.4.8-sqlite"><h3><span class="yiyi-st" id="yiyi-125">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.4.8-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.8-5"><span class="yiyi-st" id="yiyi-126"><span class="target" id="change-67cbed9a85982025c41cb138787f8f47"><strong>[sqlite] </strong></span>&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x7684;strftime()&#x51FD;&#x6570;&#xFF0C;&#x5B83;&#x5904;&#x7406;1900&#x5E74;&#x4EE5;&#x524D;&#x7684;&#x65E5;&#x671F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-67cbed9a85982025c41cb138787f8f47">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-127">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/968">&#xFF03;968</a></span></p></li><li><p id="change-0.4.8-6"><span class="yiyi-st" id="yiyi-128"><span class="target" id="change-7cabaeb41bcd3c0b9074d2704bca61c6"><strong>[sqlite] </strong></span>&#x5B57;&#x7B26;&#x4E32;&#xFF08;&#x548C;Unicode&#x7684;&#xFF0C;UnicodeText&#x7684;&#x7B49;&#xFF09;</span><span class="yiyi-st" id="yiyi-129">&#x5728;sqlite&#x65B9;&#x8A00;&#x4E2D;&#x7981;&#x7528;convert_unicode&#x903B;&#x8F91;&#xFF0C;&#x4EE5;&#x8C03;&#x6574;pysqlite 2.5.0&#x7684;&#x65B0;&#x8981;&#x6C42;&#xFF0C;&#x5373;&#x53EA;&#x63A5;&#x53D7;Python unicode&#x5BF9;&#x8C61;&#xFF1B; <a class="reference external" href="http://itsystementwicklung.de/pipermail/list-pysqlite/2008-March/000018.html"> http://itsystementwicklung.de/pipermail/list-pysqlite/2008-March/000018.html  T0&gt; <a class="changeset-link headerlink reference internal" href="#change-7cabaeb41bcd3c0b9074d2704bca61c6">&#xB6; T1&gt;</a></a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.8-oracle"><h3><span class="yiyi-st" id="yiyi-130">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.4.8-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.8-7"><span class="yiyi-st" id="yiyi-131"><span class="target" id="change-c1ece36939d26084e64ecd6b3519de17"><strong>[oracle] </strong></span> has_sequence()&#x73B0;&#x5728;&#x5C06;&#x6A21;&#x5F0F;&#x540D;&#x79F0;&#x8003;&#x8651;&#x5728;&#x5185;<a class="changeset-link headerlink reference internal" href="#change-c1ece36939d26084e64ecd6b3519de17">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-132">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1155">&#xFF03;1155</a></span></p></li><li><p id="change-0.4.8-8"><span class="yiyi-st" id="yiyi-133"><span class="target" id="change-e15a9ca2c0e8d6a5e56b4fc468592e10"><strong>[oracle] </strong></span>&#x5C06;BFILE&#x6DFB;&#x52A0;&#x5230;&#x53CD;&#x5C04;&#x7C7B;&#x578B;&#x5217;&#x8868;<a class="changeset-link headerlink reference internal" href="#change-e15a9ca2c0e8d6a5e56b4fc468592e10">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-134">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1121">&#xFF03;1121</a></span></p></li></ul></div></div><div class="section" id="change-0.4.7p1"><h2><span class="yiyi-st" id="yiyi-136">0.4.7p1 <a class="headerlink" href="#change-0.4.7p1" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-142">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2008&#x5E74;7&#x6708;31&#x65E5;</span><div class="section" id="change-0.4.7p1-orm"><h3><span class="yiyi-st" id="yiyi-137">ORM <a class="headerlink" href="#change-0.4.7p1-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.7p1-0"><span class="yiyi-st" id="yiyi-138"><span class="target" id="change-8845ae575ef66cb76fb504e32b6b0e26"><strong>[orm] </strong></span>&#x5728;scoped_session&#x65B9;&#x6CD5;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x201C;add()&#x201D;&#x548C;&#x201C;add_all()&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-139">0.4.7&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.orm.scoping</span> <span class="kn">import</span> <span class="n">ScopedSession</span><span class="p">,</span> <span class="n">instrument</span>
<span class="nb">setattr</span><span class="p">(</span><span class="n">ScopedSession</span><span class="p">,</span> <span class="s2">&quot;add&quot;</span><span class="p">,</span> <span class="n">instrument</span><span class="p">(</span><span class="s2">&quot;add&quot;</span><span class="p">))</span>
<span class="nb">setattr</span><span class="p">(</span><span class="n">ScopedSession</span><span class="p">,</span> <span class="s2">&quot;add_all&quot;</span><span class="p">,</span> <span class="n">instrument</span><span class="p">(</span><span class="s2">&quot;add_all&quot;</span><span class="p">))</span></pre></div></div><span class="yiyi-st" id="yiyi-140"> <a class="changeset-link headerlink reference internal" href="#change-8845ae575ef66cb76fb504e32b6b0e26">&#xB6;</a></span><p></p></li><li><p id="change-0.4.7p1-1"><span class="yiyi-st" id="yiyi-141"><span class="target" id="change-8150f6bc3321b0e5940f462af85fea59"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;relation()&#x4E2D;set()&#x548C;generator&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x975E;2.3&#x517C;&#x5BB9;&#x7528;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8150f6bc3321b0e5940f462af85fea59">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.4.7"><h2><span class="yiyi-st" id="yiyi-143">0.4.7 <a class="headerlink" href="#change-0.4.7" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-182">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2008&#x5E74;7&#x6708;26&#x65E5;&#x661F;&#x671F;&#x516D;</span><div class="section" id="change-0.4.7-orm"><h3><span class="yiyi-st" id="yiyi-144">ORM <a class="headerlink" href="#change-0.4.7-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.7-0"><span class="yiyi-st" id="yiyi-145"><span class="target" id="change-96d6f0048a53ef8280afa881d15981e4"><strong>[orm] </strong></span>The contains() operator when used with many-to-many will alias() the secondary (association) table so that multiple contains() calls will not conflict with each other<a class="changeset-link headerlink reference internal" href="#change-96d6f0048a53ef8280afa881d15981e4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-146">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1058">&#xFF03;1058</a></span></p></li><li><p id="change-0.4.7-1"><span class="yiyi-st" id="yiyi-147"><span class="target" id="change-043f1fb5d04c32f0e61d5443a46b23e6"><strong>[orm] </strong></span>fixed bug preventing merge() from functioning in conjunction with a comparable_property()<a class="changeset-link headerlink reference internal" href="#change-043f1fb5d04c32f0e61d5443a46b23e6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.7-2"><span class="yiyi-st" id="yiyi-148"><span class="target" id="change-2c1a9b40953961921023dfe557a4326c"><strong>[orm] </strong></span>the enable_typechecks=False setting on relation() now only allows subtypes with inheriting mappers. </span><span class="yiyi-st" id="yiyi-149">&#x5B8C;&#x5168;&#x4E0D;&#x76F8;&#x5173;&#x7684;&#x7C7B;&#x578B;&#x6216;&#x672A;&#x9488;&#x5BF9;&#x76EE;&#x6807;&#x6620;&#x5C04;&#x5668;&#x8BBE;&#x7F6E;&#x6620;&#x5C04;&#x5668;&#x7EE7;&#x627F;&#x7684;&#x5B50;&#x7C7B;&#x578B;&#x4ECD;&#x7136;&#x662F;&#x4E0D;&#x5141;&#x8BB8;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2c1a9b40953961921023dfe557a4326c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.7-3"><span class="yiyi-st" id="yiyi-150"><span class="target" id="change-25f41185c603cbb10bde56a17f623433"><strong>[orm] </strong></span>&#x4E3A;&#x4F1A;&#x8BDD;&#x6DFB;&#x52A0;&#x4E86;is_active&#x6807;&#x5FD7;&#x4EE5;&#x68C0;&#x6D4B;&#x4E8B;&#x52A1;&#x4F55;&#x65F6;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x3002;</span><span class="yiyi-st" id="yiyi-151">&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x603B;&#x662F;&#x4E0E;&#x771F;&#x6B63;&#x7684;&#x201C;&#x4E8B;&#x52A1;&#x6027;&#x201D;&#xFF08;0.5&#x5728;&#x4E00;&#x4E2A;&#x975E;&#x201C;autocommit&#x201D;&#xFF09;&#x4F1A;&#x8BDD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-25f41185c603cbb10bde56a17f623433">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-152">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/976">&#xFF03;976</a></span></p></li></ul></div><div class="section" id="change-0.4.7-sql"><h3><span class="yiyi-st" id="yiyi-153">SQL <a class="headerlink" href="#change-0.4.7-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.7-4"><span class="yiyi-st" id="yiyi-154"><span class="target" id="change-01ca8336bd39c6bb69577aad5d1d730e"><strong>[sql] </strong></span>Fixed bug when calling select([literal(&#x2018;foo&#x2019;)]) or select([bindparam(&#x2018;foo&#x2019;)]).<a class="changeset-link headerlink reference internal" href="#change-01ca8336bd39c6bb69577aad5d1d730e">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.7-schema"><h3><span class="yiyi-st" id="yiyi-155">&#x67B6;&#x6784;<a class="headerlink" href="#change-0.4.7-schema" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.7-5"><span class="yiyi-st" id="yiyi-156"><span class="target" id="change-738cf5e3972ba6f7723c2c7acf6decc9"><strong>[schema] </strong></span>create_all(), drop_all(), create(), drop() all raise an error if the table name or schema name contains more characters than that dialect&#x2019;s configured character limit. </span><span class="yiyi-st" id="yiyi-157">&#x67D0;&#x4E9B;&#x6570;&#x636E;&#x5E93;&#x53EF;&#x4EE5;&#x5728;&#x4F7F;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#x5904;&#x7406;&#x592A;&#x957F;&#x7684;&#x8868;&#x540D;&#xFF0C;SQLA&#x4E5F;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x8FD9;&#x4E9B;&#x3002;</span><span class="yiyi-st" id="yiyi-158">&#x4F46;&#x662F;&#xFF0C;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x6B63;&#x5728;&#x6570;&#x636E;&#x5E93;&#x7684;&#x76EE;&#x5F55;&#x8868;&#x4E2D;&#x67E5;&#x627E;&#x540D;&#x79F0;&#xFF0C;&#x56E0;&#x6B64;&#x5404;&#x79CD;&#x53CD;&#x5C04;/ checkfirst-during-create&#x65B9;&#x6848;&#x5931;&#x8D25;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-738cf5e3972ba6f7723c2c7acf6decc9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-159">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/571">&#xFF03;571</a></span></p></li><li><p id="change-0.4.7-6"><span class="yiyi-st" id="yiyi-160"><span class="target" id="change-d85ff361d06db88fdb94e3932a143ad0"><strong>[schema] </strong></span>&#x5F53;&#x60A8;&#x5728;&#x5217;&#x4E0A;&#x8868;&#x793A;&#x201C;index = True&#x201D;&#x65F6;&#x751F;&#x6210;&#x7684;&#x7D22;&#x5F15;&#x540D;&#x79F0;&#x88AB;&#x622A;&#x65AD;&#x4E3A;&#x9002;&#x5408;&#x8BE5;&#x65B9;&#x8A00;&#x7684;&#x957F;&#x5EA6;&#x3002;</span><span class="yiyi-st" id="yiyi-161">&#x53E6;&#x5916;&#xFF0C;&#x540D;&#x79F0;&#x592A;&#x957F;&#x7684;&#x7D22;&#x5F15;&#x4E0D;&#x80FD;&#x901A;&#x8FC7;Index.drop()&#x663E;&#x5F0F;&#x5220;&#x9664;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d85ff361d06db88fdb94e3932a143ad0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-162">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/571">&#xFF03;571</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/820">&#xFF03;820</a></span></p></li></ul></div><div class="section" id="change-0.4.7-mysql"><h3><span class="yiyi-st" id="yiyi-163">MySQL&#x7684;<a class="headerlink" href="#change-0.4.7-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.7-7"><span class="yiyi-st" id="yiyi-164"><span class="target" id="change-0514aaebdc79f7f9ff25dca47dc4b225"><strong>[mysql] </strong></span>&#x5C06;&apos;CALL&apos;&#x6DFB;&#x52A0;&#x5230;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x884C;&#x7684;SQL&#x5173;&#x952E;&#x5B57;&#x5217;&#x8868;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0514aaebdc79f7f9ff25dca47dc4b225">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.7-oracle"><h3><span class="yiyi-st" id="yiyi-165">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.4.7-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.7-8"><span class="yiyi-st" id="yiyi-166"><span class="target" id="change-aca4b41d0da66d4a3bd0e82c3a84cf5a"><strong>[oracle] </strong></span> Oracle get_default_schema_name()&#x5728;&#x8FD4;&#x56DE;&#x4E4B;&#x524D;&#x201C;&#x6807;&#x51C6;&#x5316;&#x201D;&#x540D;&#x79F0;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5F53;&#x6807;&#x8BC6;&#x7B26;&#x88AB;&#x68C0;&#x6D4B;&#x4E3A;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x65F6;&#xFF0C;&#x5B83;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5C0F;&#x5199;&#x540D;&#x79F0;<a class="changeset-link headerlink reference internal" href="#change-aca4b41d0da66d4a3bd0e82c3a84cf5a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.7-9"><span class="yiyi-st" id="yiyi-167"><span class="target" id="change-b47186d61937faba11d31de8eb03a326"><strong>[oracle] </strong></span>&#x5728;&#x521B;&#x5EFA;/&#x5220;&#x9664;&#x8868;&#x65F6;&#xFF0C;&#x5728;&#x641C;&#x7D22;&#x73B0;&#x6709;&#x8868;&#x65F6;&#x8981;&#x8003;&#x8651;&#x6A21;&#x5F0F;&#x540D;&#xFF0C;&#x4EE5;&#x4FBF;&#x5176;&#x4ED6;&#x6240;&#x6709;&#x8005;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x4E2D;&#x5177;&#x6709;&#x76F8;&#x540C;&#x540D;&#x79F0;&#x7684;&#x8868;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x51B2;&#x7A81;<a class="changeset-link headerlink reference internal" href="#change-b47186d61937faba11d31de8eb03a326">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-168">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/709">&#xFF03;709</a></span></p></li><li><p id="change-0.4.7-10"><span class="yiyi-st" id="yiyi-169"><span class="target" id="change-7568973ef20ea5f8c81322c145b9057f"><strong>[oracle] </strong></span>Cursors now have &#x201C;arraysize&#x201D; set to 50 by default on them, the value of which is configurable using the &#x201C;arraysize&#x201D; argument to create_engine() with the Oracle dialect. </span><span class="yiyi-st" id="yiyi-170">&#x8FD9;&#x5C06;&#x8003;&#x8651;&#x5230;cx_oracle&#x7684;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x4E3A;&#x201C;1&#x201D;&#xFF0C;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x5F88;&#x591A;&#x5F80;&#x8FD4;&#x884C;&#x7A0B;&#x88AB;&#x53D1;&#x9001;&#x5230;Oracle&#x3002;</span><span class="yiyi-st" id="yiyi-171">&#x8FD9;&#x5B9E;&#x9645;&#x4E0A;&#x4E0E;BLOB / CLOB&#x7ED1;&#x5B9A;&#x6E38;&#x6807;&#x4E00;&#x8D77;&#x8FD0;&#x884C;&#x826F;&#x597D;&#xFF0C;&#x5176;&#x4E2D;&#x6709;&#x4EFB;&#x4F55;&#x53EF;&#x7528;&#x7684;&#x6570;&#x5B57;&#xFF0C;&#x4F46;&#x4EC5;&#x9650;&#x4E8E;&#x8BE5;&#x884C;&#x8BF7;&#x6C42;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#xFF08;&#x56E0;&#x6B64;BufferedColumnRow&#x4ECD;&#x7136;&#x9700;&#x8981;&#xFF0C;&#x4F46;&#x66F4;&#x5C11;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7568973ef20ea5f8c81322c145b9057f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-172">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1062">&#xFF03;1062</a></span></p></li><li><p id="change-0.4.7-11"><span class="yiyi-st" id="yiyi-173"><span class="target" id="change-f9736a0cc3c4e162b300a782b7eca3f9"><strong>[oracle] </strong></span></span></p><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-174">&#x6E90;&#x7801;</span></dt><dd><ul class="first last"><li><span class="yiyi-st" id="yiyi-175">&#x6DFB;&#x52A0;SLFloat&#x7C7B;&#x578B;&#xFF0C;&#x8BE5;&#x7C7B;&#x578B;&#x4E0E;SQLite REAL&#x7C7B;&#x578B;&#x5173;&#x8054;&#x76F8;&#x5339;&#x914D;&#x3002;</span><span class="yiyi-st" id="yiyi-176">&#x4EE5;&#x524D;&#xFF0C;&#x53EA;&#x63D0;&#x4F9B;SLNumeric&#x6765;&#x6EE1;&#x8DB3;NUMERIC&#x7684;&#x4EB2;&#x548C;&#x529B;&#xFF0C;&#x4F46;&#x8FD9;&#x4E0E;REAL&#x4E0D;&#x4E00;&#x6837;&#x3002;</span></li></ul></dd></dl><span class="yiyi-st" id="yiyi-177"> <a class="changeset-link headerlink reference internal" href="#change-f9736a0cc3c4e162b300a782b7eca3f9">&#xB6;</a></span><p></p></li></ul></div><div class="section" id="change-0.4.7-misc"><h3><span class="yiyi-st" id="yiyi-178">&#x6742;&#x9879;<a class="headerlink" href="#change-0.4.7-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.7-12"><span class="yiyi-st" id="yiyi-179"><span class="target" id="change-62dc8bb9ccdb89ab5046417cb1d71934"><strong>[postgres] </strong></span>&#x4FEE;&#x590D;&#x4E86;server_side_cursors&#x4EE5;&#x6B63;&#x786E;&#x68C0;&#x6D4B;text()&#x5B50;&#x53E5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-62dc8bb9ccdb89ab5046417cb1d71934">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.7-13"><span class="yiyi-st" id="yiyi-180"><span class="target" id="change-1d3294865f665d0cd4ea5f969d56a278"><strong>[postgres] </strong></span>&#x6DFB;&#x52A0;&#x4E86;PGCidr&#x7C7B;&#x578B;<a class="changeset-link headerlink reference internal" href="#change-1d3294865f665d0cd4ea5f969d56a278">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-181">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1092">&#xFF03;1092</a></span></p></li></ul></div></div><div class="section" id="change-0.4.6"><h2><span class="yiyi-st" id="yiyi-183">0.4.6 <a class="headerlink" href="#change-0.4.6" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-238">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2008&#x5E74;5&#x6708;10&#x65E5;&#x661F;&#x671F;&#x516D;</span><div class="section" id="change-0.4.6-orm"><h3><span class="yiyi-st" id="yiyi-184">ORM <a class="headerlink" href="#change-0.4.6-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.6-0"><span class="yiyi-st" id="yiyi-185"><span class="target" id="change-e31fe2fb2fc3ae1652c5eec0dfa0d711"><strong>[orm] </strong></span>&#x89E3;&#x51B3;&#x4E86;&#x6700;&#x8FD1;&#x7684;&#x5173;&#x7CFB;()&#x91CD;&#x6784;&#x95EE;&#x9898;&#xFF0C;&#x5B83;&#x4FEE;&#x590D;&#x4E86;&#x591A;&#x6B21;&#x8FDE;&#x63A5;&#x672C;&#x5730;&#x8868;&#x548C;&#x8FDC;&#x7A0B;&#x8868;&#x7684;&#x5F02;&#x57DF;&#x67E5;&#x770B;&#x5173;&#x7CFB;&#xFF0C;&#x5E76;&#x5728;&#x8FDE;&#x63A5;&#x4E4B;&#x95F4;&#x5171;&#x4EAB;&#x4E00;&#x4E2A;&#x516C;&#x5171;&#x5217;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e31fe2fb2fc3ae1652c5eec0dfa0d711">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.6-1"><span class="yiyi-st" id="yiyi-186"><span class="target" id="change-f75f03e2d2f84749c5a66468e9f1a35f"><strong>[orm] </strong></span>&#x8FD8;&#x91CD;&#x65B0;&#x5EFA;&#x7ACB;&#x4E86;&#x8FDE;&#x63A5;&#x591A;&#x4E2A;&#x8868;&#x7684;viewonly&#x5173;&#x7CFB;()&#x914D;&#x7F6E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f75f03e2d2f84749c5a66468e9f1a35f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.6-2"><span class="yiyi-st" id="yiyi-187"><span class="target" id="change-8eaf754f74a237ae2563356bab985463"><strong>[orm] </strong></span>Added experimental relation() flag to help with primaryjoins across functions, etc., _local_remote_pairs=[tuples]. </span><span class="yiyi-st" id="yiyi-188">&#x8FD9;&#x8865;&#x5145;&#x4E86;&#x4E00;&#x4E2A;&#x590D;&#x6742;&#x7684;primaryjoin&#x6761;&#x4EF6;&#xFF0C;&#x5141;&#x8BB8;&#x60A8;&#x63D0;&#x4F9B;&#x7EC4;&#x6210;&#x5173;&#x7CFB;&#x7684;&#x672C;&#x5730;&#x548C;&#x8FDC;&#x7A0B;&#x7AEF;&#x7684;&#x5404;&#x4E2A;&#x5217;&#x5BF9;&#x3002;</span><span class="yiyi-st" id="yiyi-189">&#x8FD8;&#x6539;&#x8FDB;&#x4E86;&#x61D2;&#x52A0;&#x8F7D;SQL&#x751F;&#x6210;&#x4EE5;&#x5904;&#x7406;&#x5728;&#x51FD;&#x6570;&#x548C;&#x5176;&#x4ED6;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x653E;&#x7F6E;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-190">&#xFF08;&#x90E8;&#x5206;&#x8FDB;&#x5C55;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-8eaf754f74a237ae2563356bab985463">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-191">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/610">&#xFF03;610</a></span></p></li><li><p id="change-0.4.6-3"><span class="yiyi-st" id="yiyi-192"><span class="target" id="change-cc35ebaf57ac910c9fbb17727e48eac6"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x5355;&#x4E2A;&#x8868;&#x7EE7;&#x627F;&#xFF0C;&#x8FD9;&#x6837;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x4ECE;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x8868;&#x4E2D;&#x7EE7;&#x627F;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#x7684;&#x6620;&#x5C04;&#x5668;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cc35ebaf57ac910c9fbb17727e48eac6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-193">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1036">&#xFF03;1036</a></span></p></li><li><p id="change-0.4.6-4"><span class="yiyi-st" id="yiyi-194"><span class="target" id="change-0ff3c2bd9a30aeb035bd70efcc0b5bb4"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x53D1;&#x751F;&#x5728;Query.order_by()if&#x5B50;&#x53E5;&#x81EA;&#x9002;&#x5E94;&#x53D1;&#x751F;&#x65F6;&#x7684;&#x201C;&#x4E32;&#x8054;&#x5143;&#x7EC4;&#x201D;bug&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0ff3c2bd9a30aeb035bd70efcc0b5bb4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-195">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1027">&#xFF03;1027</a></span></p></li><li><p id="change-0.4.6-5"><span class="yiyi-st" id="yiyi-196"><span class="target" id="change-9e5d19c9631cbe865600f279d1869f33"><strong>[orm] </strong></span>&#x5220;&#x9664;&#x4E86;&#x6620;&#x5C04;&#x9009;&#x62E9;&#x5668;&#x9700;&#x8981;&#x201C;&#x522B;&#x540D;&#x201D;&#x7684;&#x53E4;&#x8001;&#x65AD;&#x8A00; - &#x5982;&#x679C;&#x6CA1;&#x6709;&#x6620;&#x5C04;&#x5668;&#x5B58;&#x5728;&#xFF0C;&#x6620;&#x5C04;&#x5668;&#x73B0;&#x5728;&#x4F1A;&#x521B;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;&#x522B;&#x540D;&#x3002;</span><span class="yiyi-st" id="yiyi-197">&#x5C3D;&#x7BA1;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x60A8;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7C7B;&#x800C;&#x4E0D;&#x662F;&#x6620;&#x5C04;&#x7684;&#x53EF;&#x9009;&#x9879;&#x4F5C;&#x4E3A;&#x5217;&#x5C5E;&#x6027;&#x7684;&#x6765;&#x6E90; - &#x56E0;&#x6B64;&#x4ECD;&#x7136;&#x4F1A;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9e5d19c9631cbe865600f279d1869f33">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.6-6"><span class="yiyi-st" id="yiyi-198"><span class="target" id="change-dde11f9e942ea94174168e9c076316e5"><strong>[orm] </strong></span>fixes to the &#x201C;exists&#x201D; function involving inheritance (any(), has(), ~contains()); the full target join will be rendered into the EXISTS clause for relations that link to subclasses.<a class="changeset-link headerlink reference internal" href="#change-dde11f9e942ea94174168e9c076316e5">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.6-7"><span class="yiyi-st" id="yiyi-199"><span class="target" id="change-104376c27707b3a37374971243e2423c"><strong>[orm] </strong></span>&#x5728;&#x4E3B;&#x67E5;&#x8BE2;&#x884C;&#x4E2D;&#x6062;&#x590D;&#x4E86;&#x5BF9;append_result()&#x6269;&#x5C55;&#x65B9;&#x6CD5;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x5F53;&#x6269;&#x5C55;&#x5B58;&#x5728;&#x65F6;&#x5E76;&#x4E14;&#x4EC5;&#x8FD4;&#x56DE;&#x5355;&#x4E2A;&#x5B9E;&#x4F53;&#x7ED3;&#x679C;&#x65F6;<a class="changeset-link headerlink reference internal" href="#change-104376c27707b3a37374971243e2423c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.6-8"><span class="yiyi-st" id="yiyi-200"><span class="target" id="change-302298aee07ec1d1aac10fe144468a7a"><strong>[orm] </strong></span>&#x8FD8;&#x91CD;&#x65B0;&#x5EFA;&#x7ACB;&#x4E86;&#x8FDE;&#x63A5;&#x591A;&#x4E2A;&#x8868;&#x7684;viewonly&#x5173;&#x7CFB;()&#x914D;&#x7F6E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-302298aee07ec1d1aac10fe144468a7a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.6-9"><span class="yiyi-st" id="yiyi-201"><span class="target" id="change-6f570f7ef26a5a9b11b822a63353d962"><strong>[orm] </strong></span>removed ancient assertion that mapped selectables require &#x201C;alias names&#x201D; - the mapper creates its own alias now if none is present. </span><span class="yiyi-st" id="yiyi-202">&#x5C3D;&#x7BA1;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x60A8;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7C7B;&#x800C;&#x4E0D;&#x662F;&#x6620;&#x5C04;&#x7684;&#x53EF;&#x9009;&#x9879;&#x4F5C;&#x4E3A;&#x5217;&#x5C5E;&#x6027;&#x7684;&#x6765;&#x6E90; - &#x56E0;&#x6B64;&#x4ECD;&#x7136;&#x4F1A;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6f570f7ef26a5a9b11b822a63353d962">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.6-10"><span class="yiyi-st" id="yiyi-203"><span class="target" id="change-c3ba9d4b644bae5e507a69b17fad45b3"><strong>[orm] </strong></span>refined mapper._save_obj() which was unnecessarily calling __ne__() on scalar values during flush<a class="changeset-link headerlink reference internal" href="#change-c3ba9d4b644bae5e507a69b17fad45b3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-204">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1015">&#xFF03;1015</a></span></p></li><li><p id="change-0.4.6-11"><span class="yiyi-st" id="yiyi-205"><span class="target" id="change-71081f223b7ec2f83fe88a95bb74c96b"><strong>[orm] </strong></span>added a feature to eager loading whereby subqueries set as column_property() with explicit label names (which is not necessary, btw) will have the label anonymized when the instance is part of the eager join, to prevent conflicts with a subquery or column of the same name on the parent object.<a class="changeset-link headerlink reference internal" href="#change-71081f223b7ec2f83fe88a95bb74c96b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-206">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1019">&#xFF03;1019</a></span></p></li><li><p id="change-0.4.6-12"><span class="yiyi-st" id="yiyi-207"><span class="target" id="change-1e0e2c1b7d8337b2961576a28f6152dd"><strong>[orm] </strong></span>set-based collections |=, -=, ^= and &amp;= are stricter about their operands and only operate on sets, frozensets or subclasses of the collection type. </span><span class="yiyi-st" id="yiyi-208">&#x4EE5;&#x524D;&#xFF0C;&#x4ED6;&#x4EEC;&#x4F1A;&#x63A5;&#x53D7;&#x4EFB;&#x4F55;duck-typed&#x96C6;&#x5408;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1e0e2c1b7d8337b2961576a28f6152dd">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.6-13"><span class="yiyi-st" id="yiyi-209"><span class="target" id="change-b1518ae6a45f510afd237e22960d4dbc"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;dynamic_dict / dynamic_dict.py&#x793A;&#x4F8B;&#xFF0C;&#x8BF4;&#x660E;&#x4E86;&#x5982;&#x4F55;&#x5C06;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;&#x653E;&#x7F6E;&#x5728;dynamic_loader&#x4E4B;&#x4E0A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b1518ae6a45f510afd237e22960d4dbc">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.6-sql"><h3><span class="yiyi-st" id="yiyi-210">SQL <a class="headerlink" href="#change-0.4.6-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.6-14"><span class="yiyi-st" id="yiyi-211"><span class="target" id="change-c0a253c2a3ac8a52b71f9074c836045e"><strong>[sql] </strong></span>&#x901A;&#x8FC7;.collat&#x200B;&#x200B;e&#xFF08;<collation>&#xFF09;&#x8868;&#x8FBE;&#x5F0F;&#x8FD0;&#x7B97;&#x7B26;&#x548C;collat&#x200B;&#x200B;e&#xFF08;<expr>&#xFF0C;<collation>&#xFF09;sql&#x51FD;&#x6570;&#x6DFB;&#x52A0;COLLATE&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c0a253c2a3ac8a52b71f9074c836045e">&#xB6;</a></collation>  T3&gt;  T2&gt;</expr></collation></span></p><p></p></li><li><p id="change-0.4.6-15"><span class="yiyi-st" id="yiyi-212"><span class="target" id="change-3425affd500ef60da0ceda4319ff76ac"><strong>[sql] </strong></span>Fixed bug with union() when applied to non-Table connected select statements<a class="changeset-link headerlink reference internal" href="#change-3425affd500ef60da0ceda4319ff76ac">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.6-16"><span class="yiyi-st" id="yiyi-213"><span class="target" id="change-c946f492d8c12da19c9976c66867241a"><strong>[sql] </strong></span>improved behavior of text() expressions when used as FROM clauses, such as select().select_from(text(&#x201C;sometext&#x201D;))<a class="changeset-link headerlink reference internal" href="#change-c946f492d8c12da19c9976c66867241a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-214">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1014">&#xFF03;1014</a></span></p></li><li><p id="change-0.4.6-17"><span class="yiyi-st" id="yiyi-215"><span class="target" id="change-79b0f66b8b318392d68b1e09fb21dbad"><strong>[sql] </strong></span>Column.copy() respects the value of &#x201C;autoincrement&#x201D;, fixes usage with Migrate<a class="changeset-link headerlink reference internal" href="#change-79b0f66b8b318392d68b1e09fb21dbad">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-216">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1021">&#xFF03;1021</a></span></p></li></ul></div><div class="section" id="change-0.4.6-mssql"><h3><span class="yiyi-st" id="yiyi-217">MSSQL <a class="headerlink" href="#change-0.4.6-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.6-18"><span class="yiyi-st" id="yiyi-218"><span class="target" id="change-4bf92261ee5df21cc151f29b57009c2d"><strong>[mssql] </strong></span>&#x5728;&#x5F15;&#x64CE;/ dburi&#x53C2;&#x6570;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x201C;odbc_autotranslate&#x201D;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-219">&#x4EFB;&#x4F55;&#x7ED9;&#x5B9A;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5C06;&#x88AB;&#x4F20;&#x9012;&#x7ED9;ODBC&#x8FDE;&#x63A5;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</span></p><blockquote><div><span class="yiyi-st" id="yiyi-220">&#x201C;AutoTranslate =&#xFF05;s&#x201D;&#xFF05;odbc_autotranslate</span></div></blockquote><span class="yiyi-st" id="yiyi-222"> <a class="changeset-link headerlink reference internal" href="#change-4bf92261ee5df21cc151f29b57009c2d">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-221">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1005">&#xFF03;1005</a></span></p></li><li><p id="change-0.4.6-19"><span class="yiyi-st" id="yiyi-223"><span class="target" id="change-c27df151a64a19d159ffaed249f8c5ec"><strong>[mssql] </strong></span>&#x5728;&#x5F15;&#x64CE;/ dburi&#x53C2;&#x6570;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x201C;odbc_options&#x201D;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-224">&#x7ED9;&#x5B9A;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4EC5;&#x9644;&#x52A0;&#x5230;SQLAlchemy&#x751F;&#x6210;&#x7684;odbc&#x8FDE;&#x63A5;&#x5B57;&#x7B26;&#x4E32;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-225">&#x8FD9;&#x5E94;&#x8BE5;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x5C06;&#x6765;&#x6DFB;&#x52A0;&#x5927;&#x91CF;&#x7684;ODBC&#x9009;&#x9879;&#x3002;</span></p><span class="yiyi-st" id="yiyi-226"> <a class="changeset-link headerlink reference internal" href="#change-c27df151a64a19d159ffaed249f8c5ec">&#xB6;</a></span><p></p></li></ul></div><div class="section" id="change-0.4.6-firebird"><h3><span class="yiyi-st" id="yiyi-227">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.4.6-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.6-20"><span class="yiyi-st" id="yiyi-228"><span class="target" id="change-3135f866ba259ae39feef5c8fd6e9dc8"><strong>[firebird] </strong></span>&#x5904;&#x7406;&#x201C;SUBSTRING&#xFF08;&#xFF1A;string FROM&#xFF1A;start FOR&#xFF1A;length&#xFF09;&#x201D;builtin&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3135f866ba259ae39feef5c8fd6e9dc8">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.6-misc"><h3><span class="yiyi-st" id="yiyi-229">&#x6742;&#x9879;<a class="headerlink" href="#change-0.4.6-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.6-21"><span class="yiyi-st" id="yiyi-230"><span class="target" id="change-6e72bcfc5ea35d0926f998977a8d8f6b"><strong>[declarative] [extension] </strong></span>&#x8054;&#x5408;&#x8868;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668;&#x4F7F;&#x7528;&#x7A0D;&#x5FAE;&#x5BBD;&#x677E;&#x7684;&#x51FD;&#x6570;&#x4E3A;&#x7236;&#x8868;&#x521B;&#x5EFA;&#x201C;&#x7EE7;&#x627F;&#x6761;&#x4EF6;&#x201D;&#xFF0C;&#x4EE5;&#x4FBF;&#x5C1A;&#x672A;&#x58F0;&#x660E;Table&#x5BF9;&#x8C61;&#x7684;&#x5176;&#x4ED6;&#x5916;&#x952E;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6e72bcfc5ea35d0926f998977a8d8f6b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.6-22"><span class="yiyi-st" id="yiyi-231"><span class="target" id="change-7cf86b76b69093e8eaf193d8766bd8ce"><strong>[declarative] [extension] </strong></span>fixed reentrant mapper compile hang when a declared attribute is used within ForeignKey, ie. </span><span class="yiyi-st" id="yiyi-232">ForeignKey&#x7684;&#xFF08;MyOtherClass.someattribute&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-7cf86b76b69093e8eaf193d8766bd8ce">&#xB6; T0&gt;</a></span></p><p></p></li><li><p id="change-0.4.6-23"><span class="yiyi-st" id="yiyi-233"><span class="target" id="change-bd1c9b334fbda8764b59adae68a98d7d"><strong>[engines] </strong></span>&#x73B0;&#x5728;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x6C60;&#x4FA6;&#x542C;&#x5668;&#x4F5C;&#x4E3A;&#x53EF;&#x8C03;&#x7528;&#x7684;&#x5B57;&#x5178;&#x6216;&#xFF08;&#x53EF;&#x80FD;&#x90E8;&#x5206;&#xFF09;&#x9E2D;&#x5F0F;PoolListener&#x7684;&#x5B57;&#x5178;&#x63D0;&#x4F9B;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bd1c9b334fbda8764b59adae68a98d7d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.6-24"><span class="yiyi-st" id="yiyi-234"><span class="target" id="change-1026db7afd8b57d4eb7e9698f6304feb"><strong>[engines] </strong></span>&#x5C06;&#x201C;rollback_returned&#x201D;&#x9009;&#x9879;&#x6DFB;&#x52A0;&#x5230;&#x6C60;&#xFF0C;&#x8FD9;&#x5C06;&#x7981;&#x7528;&#x8FDE;&#x63A5;&#x8FD4;&#x56DE;&#x65F6;&#x53D1;&#x51FA;&#x7684;&#x56DE;&#x6EDA;()&#x3002;</span><span class="yiyi-st" id="yiyi-235">&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x53EA;&#x9002;&#x7528;&#x4E8E;&#x4E0D;&#x652F;&#x6301;&#x4E8B;&#x52A1;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF08;&#x5373;MySQL / MyISAM&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1026db7afd8b57d4eb7e9698f6304feb">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.6-25"><span class="yiyi-st" id="yiyi-236"><span class="target" id="change-68c00352100f06ff96b4b08752086944"><strong>[ext] </strong></span>&#x57FA;&#x4E8E;&#x96C6;&#x5408;&#x7684;&#x5173;&#x8054;&#x4EE3;&#x7406;| =&#xFF0C; -  =&#xFF0C;^ =&#x548C;&#xFF06;=&#x5BF9;&#x5B83;&#x4EEC;&#x7684;&#x64CD;&#x4F5C;&#x6570;&#x66F4;&#x4E25;&#x683C;&#xFF0C;&#x4EC5;&#x5BF9;&#x96C6;&#x5408;&#xFF0C;frozensets&#x6216;&#x5176;&#x4ED6;&#x5173;&#x8054;&#x4EE3;&#x7406;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002;</span><span class="yiyi-st" id="yiyi-237">&#x4EE5;&#x524D;&#xFF0C;&#x4ED6;&#x4EEC;&#x4F1A;&#x63A5;&#x53D7;&#x4EFB;&#x4F55;duck-typed&#x96C6;&#x5408;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-68c00352100f06ff96b4b08752086944">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.4.5"><h2><span class="yiyi-st" id="yiyi-239">0.4.5 <a class="headerlink" href="#change-0.4.5" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-366">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2008&#x5E74;4&#x6708;4&#x65E5;</span><div class="section" id="change-0.4.5-orm"><h3><span class="yiyi-st" id="yiyi-240">ORM <a class="headerlink" href="#change-0.4.5-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.5-0"><span class="yiyi-st" id="yiyi-241"><span class="target" id="change-2c9bdeacf621a1e5c68e65432e78acc9"><strong>[orm] </strong></span>&#x5BF9;session.merge()&#x884C;&#x4E3A;&#x7684;&#x4E00;&#x4E2A;&#x5C0F;&#x6539;&#x52A8; - &#x6839;&#x636E;&#x4E3B;&#x952E;&#x5C5E;&#x6027;&#x68C0;&#x67E5;&#x73B0;&#x6709;&#x5BF9;&#x8C61;&#xFF0C;&#x800C;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;_instance_key&#x3002;</span><span class="yiyi-st" id="yiyi-242">&#x6240;&#x4EE5;&#x5E7F;&#x6CDB;&#x8981;&#x6C42;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x5373;&#xFF1A;</span></p><blockquote><div><span class="yiyi-st" id="yiyi-243">x = MyObject&#xFF08;id = 1&#xFF09;x = sess.merge&#xFF08;x&#xFF09;</span></div></blockquote><p><span class="yiyi-st" id="yiyi-244">&#x5B9E;&#x9645;&#x4E0A;&#x5C06;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x5E93;&#x4E2D;ID&#x4E3A;1&#x7684;MyObject&#xFF08;&#x5982;&#x679C;&#x5B58;&#x5728;&#xFF09;&#xFF0C;&#x73B0;&#x5728;&#x53EF;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-245">merge()&#x4ECD;&#x5C06;&#x7ED9;&#x5B9A;&#x5BF9;&#x8C61;&#x7684;&#x72B6;&#x6001;&#x590D;&#x5236;&#x5230;&#x6301;&#x4E45;&#x5BF9;&#x8C61;&#xFF0C;&#x56E0;&#x6B64;&#x7C7B;&#x4F3C;&#x4E0A;&#x8FF0;&#x7684;&#x793A;&#x4F8B;&#x901A;&#x5E38;&#x4F1A;&#x5C06;&#x201C;x&#x201D;&#x7684;&#x6240;&#x6709;&#x5C5E;&#x6027;&#x7684;&#x201C;None&#x201D;&#x590D;&#x5236;&#x5230;&#x6301;&#x4E45;&#x526F;&#x672C;&#x4E0A;&#x3002;</span><span class="yiyi-st" id="yiyi-246">&#x8FD9;&#x4E9B;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;session.expire&#xFF08;x&#xFF09;&#x6765;&#x6062;&#x590D;&#x3002;</span></p><span class="yiyi-st" id="yiyi-247"> <a class="changeset-link headerlink reference internal" href="#change-2c9bdeacf621a1e5c68e65432e78acc9">&#xB6;</a></span><p></p></li><li><p id="change-0.4.5-1"><span class="yiyi-st" id="yiyi-248"><span class="target" id="change-ecb686988dd36c2668f8c1f13ab0b426"><strong>[orm] </strong></span>&#x5728;merge()&#x4E2D;&#x4E5F;&#x6709;&#x56FA;&#x5B9A;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x56E0;&#x6B64;&#x6536;&#x96C6;&#x5143;&#x7D20;&#x51FA;&#x73B0;&#x5728;&#x76EE;&#x7684;&#x5730;&#x4F46;&#x4E0D;&#x662F;&#x5408;&#x5E76;&#x7684;&#x96C6;&#x5408;&#x4E2D;&#x6CA1;&#x6709;&#x88AB;&#x4ECE;&#x76EE;&#x6807;&#x4E2D;&#x79FB;&#x9664;<a class="changeset-link headerlink reference internal" href="#change-ecb686988dd36c2668f8c1f13ab0b426">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-2"><span class="yiyi-st" id="yiyi-249"><span class="target" id="change-8c3e6ca94ae7018ad418fb8989b56c18"><strong>[orm] </strong></span>&#x4E3A;&#x201C;&#x672A;&#x7F16;&#x8BD1;&#x7684;&#x6620;&#x5C04;&#x5668;&#x201D;&#x6DFB;&#x52A0;&#x4E86;&#x66F4;&#x79EF;&#x6781;&#x7684;&#x68C0;&#x67E5;&#xFF0C;&#x7279;&#x522B;&#x6709;&#x52A9;&#x4E8E;&#x58F0;&#x660E;&#x5C42;<a class="changeset-link headerlink reference internal" href="#change-8c3e6ca94ae7018ad418fb8989b56c18">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-250">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/995">&#xFF03;995</a></span></p></li><li><p id="change-0.4.5-3"><span class="yiyi-st" id="yiyi-251"><span class="target" id="change-92147b4d8f5dc129bb6af919988b1578"><strong>[orm] </strong></span>The methodology behind &#x201C;primaryjoin&#x201D;/&#x201D;secondaryjoin&#x201D; has been refactored. </span><span class="yiyi-st" id="yiyi-252">&#x884C;&#x4E3A;&#x5E94;&#x8BE5;&#x7A0D;&#x5FAE;&#x66F4;&#x667A;&#x80FD;&#x4E00;&#x4E9B;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x901A;&#x8FC7;&#x51CF;&#x5C11;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x6765;&#x63D0;&#x9AD8;&#x53EF;&#x8BFB;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-253">&#x5728;&#x5C11;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x6BD4;&#x4EE5;&#x524D;&#x66F4;&#x597D;&#x5730;&#x89E3;&#x6790;&#x6B63;&#x786E;&#x7684;&#x5916;&#x952E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-92147b4d8f5dc129bb6af919988b1578">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-4"><span class="yiyi-st" id="yiyi-254"><span class="target" id="change-e9af0076f84f16dc139143d25c2481c4"><strong>[orm] </strong></span>&#x65B0;&#x589E;&#x4E86;comparable_property()&#xFF0C;&#x5C06;&#x67E5;&#x8BE2;Comparator&#x884C;&#x4E3A;&#x6DFB;&#x52A0;&#x5230;&#x5E38;&#x89C4;&#x975E;&#x6258;&#x7BA1;Python&#x5C5E;&#x6027;&#x4E2D;<a class="changeset-link headerlink reference internal" href="#change-e9af0076f84f16dc139143d25c2481c4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-5"><span class="yiyi-st" id="yiyi-255"><span class="target" id="change-9a3c3752fa2fda67a4fbb703fcd690ab"><strong>[orm] [&#x2018;machines&#x2019;] [Company.employees.of_type(Engineer)] </strong></span>the functionality of query.with_polymorphic() has been added to mapper() as a configuration option.</span></p><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-256">&#x5B83;&#x901A;&#x8FC7;&#x51E0;&#x79CD;&#x5F62;&#x5F0F;&#x8BBE;&#x7F6E;&#xFF1A;</span></dt><dd><span class="yiyi-st" id="yiyi-257">with_polymorphic =&apos;*&apos;with_polymorphic = [mappers] with_polymorphic =&#xFF08;&apos;*&apos;&#xFF0C;&#x53EF;&#x9009;&#xFF09;with_polymorphic =&#xFF08;[mappers]&#xFF0C;&#x53EF;&#x9009;&#xFF09;</span></dd></dl><p><span class="yiyi-st" id="yiyi-258">&#x8FD9;&#x5C06;&#x63A7;&#x5236;&#x7EE7;&#x627F;&#x7684;&#x6620;&#x5C04;&#x5668;&#x7684;&#x9ED8;&#x8BA4;&#x591A;&#x6001;&#x52A0;&#x8F7D;&#x7B56;&#x7565;&#x3002;</span><span class="yiyi-st" id="yiyi-259">&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7ED9;&#x51FA;selectable&#xFF0C;&#x5219;&#x4E3A;&#x6240;&#x6709;&#x8BF7;&#x6C42;&#x7684;&#x8FDE;&#x63A5;&#x8868;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668;&#x521B;&#x5EFA;&#x5916;&#x90E8;&#x8FDE;&#x63A5;&#x3002;</span><span class="yiyi-st" id="yiyi-260">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x8FDE;&#x63A5;&#x4E0E;&#x5177;&#x4F53;&#x7684;&#x8868;&#x7EE7;&#x627F;&#x4E0D;&#x517C;&#x5BB9;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-261">mapper()&#x73B0;&#x6709;&#x7684;select_table&#x6807;&#x5FD7;&#x73B0;&#x5728;&#x5DF2;&#x88AB;&#x5F03;&#x7528;&#xFF0C;&#x5E76;&#x4E0E;with_polymorphic&#xFF08;&apos;*&apos;&#xFF0C;select_table&#xFF09;&#x540C;&#x4E49;&#x3002;</span><span class="yiyi-st" id="yiyi-262">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;select_table&#x7684;&#x5E95;&#x5C42;&#x201C;&#x5185;&#x6838;&#x201D;&#x5DF2;&#x88AB;&#x5B8C;&#x5168;&#x5220;&#x9664;&#xFF0C;&#x5E76;&#x88AB;&#x66F4;&#x65B0;&#xFF0C;&#x66F4;&#x7075;&#x6D3B;&#x7684;&#x65B9;&#x6CD5;&#x6240;&#x53D6;&#x4EE3;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-263">&#x65B0;&#x65B9;&#x6CD5;&#x8FD8;&#x4F1A;&#x81EA;&#x52A8;&#x5141;&#x8BB8;&#x6025;&#x5207;&#x52A0;&#x8F7D;&#x4E3A;&#x5B50;&#x7C7B;&#xFF08;&#x5982;&#x679C;&#x5B58;&#x5728;&#xFF09;&#x5DE5;&#x4F5C;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">sess</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Company</span><span class="p">)</span><span class="o">.</span><span class="n">options</span><span class="p">(</span>
 <span class="n">eagerload_all</span><span class="p">(</span>
<span class="p">))</span></pre></div></div><p><span class="yiyi-st" id="yiyi-264">&#x52A0;&#x8F7D;&#x516C;&#x53F8;&#x5BF9;&#x8C61;&#xFF0C;&#x4ED6;&#x4EEC;&#x7684;&#x5458;&#x5DE5;&#x4EE5;&#x53CA;&#x78B0;&#x5DE7;&#x662F;&#x5DE5;&#x7A0B;&#x5E08;&#x7684;&apos;&#x673A;&#x5668;&apos;&#x5458;&#x5DE5;&#x96C6;&#x5408;&#x3002;</span><span class="yiyi-st" id="yiyi-265">&#x5E94;&#x8BE5;&#x5C3D;&#x5FEB;&#x5F15;&#x5165;&#x201C;with_polymorphic&#x201D;&#x67E5;&#x8BE2;&#x9009;&#x9879;&#xFF0C;&#x8FD9;&#x5C06;&#x5141;&#x8BB8;&#x6BCF;&#x4E2A;&#x67E5;&#x8BE2;&#x63A7;&#x5236;with_polymorphic()&#x5173;&#x7CFB;&#x3002;</span></p><span class="yiyi-st" id="yiyi-266"> <a class="changeset-link headerlink reference internal" href="#change-9a3c3752fa2fda67a4fbb703fcd690ab">&#xB6;</a></span><p></p></li><li><p id="change-0.4.5-6"><span class="yiyi-st" id="yiyi-267"><span class="target" id="change-8b57d2ed0d6bbe58c75f64223341c1c8"><strong>[orm] </strong></span>added two &#x201C;experimental&#x201D; features to Query, &#x201C;experimental&#x201D; in that their specific name/behavior is not carved in stone just yet: _values() and _from_self(). </span><span class="yiyi-st" id="yiyi-268">&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x5BF9;&#x8FD9;&#x4E9B;&#x53CD;&#x9988;&#x610F;&#x89C1;&#x3002;</span></p><ul><li><span class="yiyi-st" id="yiyi-270">&#x7ED9;_values&#xFF08;*&#x5217;&#xFF09;&#x4E00;&#x5217;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x5B83;&#x53EA;&#x8FD4;&#x56DE;&#x90A3;&#x4E9B;&#x5217;&#x3002;</span><span class="yiyi-st" id="yiyi-271">&#x8BC4;&#x4F30;&#x65F6;&#xFF0C;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x5143;&#x7EC4;&#x5217;&#x8868;&#xFF0C;&#x5C31;&#x50CF;&#x4F7F;&#x7528;add_column()&#x6216;add_entity()&#x65F6;&#x4E00;&#x6837;&#xFF0C;&#x552F;&#x4E00;&#x7684;&#x533A;&#x522B;&#x662F;&#x201C;&#x5B9E;&#x4F53;&#x96F6;&#x201D;&#x5373;&#x6620;&#x5C04;&#x7684;&#x7C7B;&#x4E0D;&#x5305;&#x542B;&#x5728;&#x7ED3;&#x679C;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-272">&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5728;&#x67E5;&#x8BE2;&#x4E2D;&#x4F7F;&#x7528;group_by()&#x548C;having()&#xFF0C;&#x8FD9;&#x662F;&#x6700;&#x7EC8;&#x6709;&#x610F;&#x4E49;&#x7684;&#xFF0C;&#x76F4;&#x5230;&#x73B0;&#x5728;&#xFF0C;Query&#x4E00;&#x76F4;&#x662F;&#x65E0;&#x7528;&#x7684;&#x3002;</span><p><span class="yiyi-st" id="yiyi-269">&#x5BF9;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x7684;&#x672A;&#x6765;&#x6539;&#x53D8;&#x53EF;&#x80FD;&#x5305;&#x62EC;&#x5B83;&#x52A0;&#x5165;&#xFF0C;&#x8FC7;&#x6EE4;&#x548C;&#x5141;&#x8BB8;&#x4E0E;&#x201C;&#x7ED3;&#x679C;&#x96C6;&#x201D;&#x65E0;&#x5173;&#x7684;&#x5176;&#x4ED6;&#x9009;&#x9879;&#x7684;&#x80FD;&#x529B;&#x88AB;&#x5220;&#x9664;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x6B63;&#x5728;&#x5BFB;&#x627E;&#x7684;&#x53CD;&#x9988;&#x662F;&#x4EBA;&#x4EEC;&#x5982;&#x4F55;&#x4F7F;&#x7528;_values()...&#x5373;&#xFF0C;&#x5728;&#x6700;&#x540E;&#xFF0C;&#x8FD8;&#x662F;&#x4EBA;&#x4EEC;&#x559C;&#x6B22;&#x5728;&#x88AB;&#x8C03;&#x7528;&#x540E;&#x7EE7;&#x7EED;&#x751F;&#x6210;&#x3002;</span></p></li><li><span class="yiyi-st" id="yiyi-273">_from_self()&#x7F16;&#x8BD1;&#x67E5;&#x8BE2;&#x7684;SELECT&#x8BED;&#x53E5;&#xFF08;&#x51CF;&#x53BB;&#x4EFB;&#x4F55;&#x6E34;&#x671B;&#x7684;&#x52A0;&#x8F7D;&#x5668;&#xFF09;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4ECE;&#x8BE5;SELECT&#x4E2D;&#x9009;&#x62E9;&#x7684;Query&#x3002;</span><span class="yiyi-st" id="yiyi-274">&#x6240;&#x4EE5;&#x57FA;&#x672C;&#x4E0A;&#x4F60;&#x53EF;&#x4EE5;&#x4ECE;&#x67E5;&#x8BE2;&#x4E2D;&#x67E5;&#x8BE2;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x624B;&#x52A8;&#x63D0;&#x53D6;SELECT&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-275">&#x8FD9;&#x4E3A;&#x67E5;&#x8BE2;[3&#xFF1A;5] ._ from_self()&#x3002;filter&#xFF08;&#x67D0;&#x4E9B;&#x6807;&#x51C6;&#xFF09;&#x7B49;&#x64CD;&#x4F5C;&#x63D0;&#x4F9B;&#x4E86;&#x610F;&#x4E49;&#x3002;</span><span class="yiyi-st" id="yiyi-276">&#x9664;&#x4E86;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x521B;&#x5EFA;&#x6548;&#x7387;&#x8F83;&#x4F4E;&#x7684;&#x9AD8;&#x5EA6;&#x5D4C;&#x5957;&#x67E5;&#x8BE2;&#x4E4B;&#x5916;&#xFF0C;&#x8FD9;&#x91CC;&#x6CA1;&#x6709;&#x592A;&#x591A;&#x4E89;&#x8BAE;&#xFF0C;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x5BF9;&#x547D;&#x540D;&#x9009;&#x62E9;&#x63D0;&#x4F9B;&#x53CD;&#x9988;&#x3002;</span></li></ul><span class="yiyi-st" id="yiyi-277"> <a class="changeset-link headerlink reference internal" href="#change-8b57d2ed0d6bbe58c75f64223341c1c8">&#xB6;</a></span><p></p></li><li><p id="change-0.4.5-7"><span class="yiyi-st" id="yiyi-278"><span class="target" id="change-2deb85fd835bde751f8cfd2461527a8e"><strong>[orm] </strong></span>query.order_by() and query.group_by() will accept multiple arguments using *args (like select() already does).<a class="changeset-link headerlink reference internal" href="#change-2deb85fd835bde751f8cfd2461527a8e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-8"><span class="yiyi-st" id="yiyi-279"><span class="target" id="change-86eb8853972534a7dafcbff8b9986332"><strong>[orm] </strong></span>Added some convenience descriptors to Query: query.statement returns the full SELECT construct, query.whereclause returns just the WHERE part of the SELECT construct.<a class="changeset-link headerlink reference internal" href="#change-86eb8853972534a7dafcbff8b9986332">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-9"><span class="yiyi-st" id="yiyi-280"><span class="target" id="change-aa4cb730a2e43a1ad4e1443ec05973fe"><strong>[orm] </strong></span>Fixed/covered case when using a False/0 value as a polymorphic discriminator.<a class="changeset-link headerlink reference internal" href="#change-aa4cb730a2e43a1ad4e1443ec05973fe">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-10"><span class="yiyi-st" id="yiyi-281"><span class="target" id="change-02cba4fb2cbfa1275190cc9ed35f1d16"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x963B;&#x6B62;&#x540C;&#x4E49;&#x8BCD;()&#x5C5E;&#x6027;&#x88AB;&#x7528;&#x4E8E;&#x7EE7;&#x627F;&#x7684;&#x9519;&#x8BEF;<a class="changeset-link headerlink reference internal" href="#change-02cba4fb2cbfa1275190cc9ed35f1d16">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-11"><span class="yiyi-st" id="yiyi-282"><span class="target" id="change-c58703687f6e5690fb29d5c65bec8f2e"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x540E;&#x7F00;&#x4E0B;&#x5212;&#x7EBF;&#x7684;SQL&#x51FD;&#x6570;&#x622A;&#x65AD;<a class="changeset-link headerlink reference internal" href="#change-c58703687f6e5690fb29d5c65bec8f2e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-283">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/996">&#xFF03;996</a></span></p></li><li><p id="change-0.4.5-12"><span class="yiyi-st" id="yiyi-284"><span class="target" id="change-4d790ba27407b3f2c5e5442e941ee625"><strong>[orm] </strong></span>&#x5F53;&#x4E00;&#x4E2A;&#x6302;&#x8D77;&#x7684;&#x5B9E;&#x4F8B;&#x7684;&#x5C5E;&#x6027;&#x5230;&#x671F;&#x65F6;&#xFF0C;&#x5F53;&#x5237;&#x65B0;&#x52A8;&#x4F5C;&#x88AB;&#x89E6;&#x53D1;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x7ED3;&#x679C;&#x65F6;&#xFF0C;&#x5C06;&#x4E0D;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4d790ba27407b3f2c5e5442e941ee625">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-13"><span class="yiyi-st" id="yiyi-285"><span class="target" id="change-ee82467594e923772bba0a03199886e6"><strong>[orm] </strong></span>Session.execute can now find binds from metadata<a class="changeset-link headerlink reference internal" href="#change-ee82467594e923772bba0a03199886e6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-14"><span class="yiyi-st" id="yiyi-286"><span class="target" id="change-79438d10e98c888cce0932f09a42a26f"><strong>[orm] </strong></span>&#x5C06;&#x201C;self-referential&#x201D;&#x7684;&#x5B9A;&#x4E49;&#x8C03;&#x6574;&#x4E3A;&#x4EFB;&#x4F55;&#x5177;&#x6709;&#x516C;&#x5171;&#x7236;&#x5143;&#x7D20;&#x7684;&#x4E24;&#x4E2A;&#x6620;&#x5C04;&#x5668;&#xFF08;&#x8FD9;&#x4F1A;&#x5F71;&#x54CD;&#x4E0E;Query&#x8FDE;&#x63A5;&#x65F6;&#x662F;&#x5426;&#x9700;&#x8981;aliased = True&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-79438d10e98c888cce0932f09a42a26f">&#xB6;&lt; / T2&gt;</a></span></p><p></p></li><li><p id="change-0.4.5-15"><span class="yiyi-st" id="yiyi-287"><span class="target" id="change-f896c87995fe90330fd02cbf21c852bf"><strong>[orm] </strong></span>Made some fixes to the &#x201C;from_joinpoint&#x201D; argument to query.join() so that if the previous join was aliased and this one isn&#x2019;t, the join still happens successfully.<a class="changeset-link headerlink reference internal" href="#change-f896c87995fe90330fd02cbf21c852bf">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-16"><span class="yiyi-st" id="yiyi-288"><span class="target" id="change-721ade134b0684d73d040e1d5c61feb9"><strong>[orm] </strong></span></span></p><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-289">&#x4EC0;&#x9526;&#x201C;&#x7EA7;&#x8054;&#x5220;&#x9664;&#x201D;&#x4FEE;&#x590D;&#xFF1A;</span></dt><dd><ul class="first last"><li><span class="yiyi-st" id="yiyi-290">&#x4FEE;&#x590D;&#x4E86;&#x52A8;&#x6001;&#x5173;&#x7CFB;&#x7684;&#x201C;&#x7EA7;&#x8054;&#x5220;&#x9664;&#x201D;&#x64CD;&#x4F5C;&#xFF0C;&#x8BE5;&#x64CD;&#x4F5C;&#x4EC5;&#x5728;0.4.2&#x4E2D;&#x9488;&#x5BF9;&#x5916;&#x952E;&#x6E05;&#x96F6;&#x884C;&#x4E3A;&#x5B9E;&#x65BD;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5B9E;&#x9645;&#x7684;&#x7EA7;&#x8054;&#x5220;&#x9664;</span></li><li><span class="yiyi-st" id="yiyi-291">&#x5728;&#x7236;&#x5BF9;&#x8C61;&#x4E0A;&#x8C03;&#x7528;session.delete()&#x4E4B;&#x524D;&#xFF0C;&#x591A;&#x5BF9;&#x4E00;&#x5220;&#x9664;&#x6CA1;&#x6709;&#x5220;&#x9664;&#x5B64;&#x7ACB;&#x7EA7;&#x8054;&#x7684;&#x7EA7;&#x8054;&#x4E0D;&#x4F1A;&#x5220;&#x9664;&#x4E0E;&#x7236;&#x7EA7;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x7684;&#x5B64;&#x513F;&#xFF08;&#x4E00;&#x5BF9;&#x591A;&#x5DF2;&#x7ECF;&#x6709;&#x6B64;&#xFF09;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-292">&#x4F7F;&#x7528;delete-orphan&#x5220;&#x9664;&#x7EA7;&#x8054;&#x5C06;&#x5220;&#x9664;&#x5B64;&#x513F;&#xFF0C;&#x800C;&#x4E0D;&#x7BA1;&#x5B83;&#x662F;&#x5426;&#x4ECD;&#x7136;&#x8FDE;&#x63A5;&#x5230;&#x5176;&#x8FD8;&#x88AB;&#x5220;&#x9664;&#x7684;&#x7236;&#x7EA7;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-293">&#x5F53;&#x4F7F;&#x7528;&#x7EE7;&#x627F;&#x65F6;&#xFF0C;&#x5728;&#x8D85;&#x7C7B;&#x4E2D;&#x5B58;&#x5728;&#x7684;&#x5173;&#x7CFB;&#x4E0A;&#x6B63;&#x786E;&#x68C0;&#x6D4B;&#x5230;delete-orphan casacde&#x3002;</span></li></ul></dd></dl><span class="yiyi-st" id="yiyi-295"> <a class="changeset-link headerlink reference internal" href="#change-721ade134b0684d73d040e1d5c61feb9">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-294">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/895">&#xFF03;895</a></span></p></li><li><p id="change-0.4.5-17"><span class="yiyi-st" id="yiyi-296"><span class="target" id="change-510cb165c89c094b6cc2b5db3787b360"><strong>[orm] </strong></span>Fixed order_by calculation in Query to properly alias mapper-config&#x2019;ed order_by when using select_from()<a class="changeset-link headerlink reference internal" href="#change-510cb165c89c094b6cc2b5db3787b360">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-18"><span class="yiyi-st" id="yiyi-297"><span class="target" id="change-94f2275e47afba73d8f37f7572917466"><strong>[orm] </strong></span>&#x91CD;&#x6784;&#x4E86;&#x5C06;&#x96C6;&#x5408;&#x66FF;&#x6362;&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x5DEE;&#x5F02;&#x903B;&#x8F91;&#xFF0C;&#x5B58;&#x5165;collections.bulk_replace&#x4E2D;&#xFF0C;&#x5BF9;&#x6784;&#x5EFA;&#x591A;&#x7EA7;&#x96C6;&#x5408;&#x7684;&#x4EFB;&#x4F55;&#x4EBA;&#x90FD;&#x6709;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-94f2275e47afba73d8f37f7572917466">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-19"><span class="yiyi-st" id="yiyi-298"><span class="target" id="change-67d9d0b8806c805bf6baa1e8ed8dd735"><strong>[orm] </strong></span>&#x7EA7;&#x8054;&#x904D;&#x5386;&#x7B97;&#x6CD5;&#x4ECE;&#x9012;&#x5F52;&#x8F6C;&#x6362;&#x4E3A;&#x8FED;&#x4EE3;&#x4EE5;&#x652F;&#x6301;&#x6DF1;&#x5BF9;&#x8C61;&#x56FE;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-67d9d0b8806c805bf6baa1e8ed8dd735">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.5-sql"><h3><span class="yiyi-st" id="yiyi-299">SQL <a class="headerlink" href="#change-0.4.5-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.5-20"><span class="yiyi-st" id="yiyi-300"><span class="target" id="change-86518949b9a04cceb5d9eef390e32768"><strong>[sql] </strong></span>schema-qualified tables now will place the schemaname ahead of the tablename in all column expressions as well as when generating column labels. </span><span class="yiyi-st" id="yiyi-301">&#x8FD9;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x8DE8;&#x6A21;&#x5F0F;&#x540D;&#x79F0;&#x51B2;&#x7A81;<a class="changeset-link headerlink reference internal" href="#change-86518949b9a04cceb5d9eef390e32768">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-302">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/999">&#xFF03;999</a></span></p></li><li><p id="change-0.4.5-21"><span class="yiyi-st" id="yiyi-303"><span class="target" id="change-3bb024dda072d0b61145352051204bfc"><strong>[sql] </strong></span>can now allow selects which correlate all FROM clauses and have no FROM themselves. </span><span class="yiyi-st" id="yiyi-304">&#x8FD9;&#x4E9B;&#x901A;&#x5E38;&#x7528;&#x4E8E;&#x6807;&#x91CF;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x5373;</span><span class="yiyi-st" id="yiyi-305">SELECT x&#xFF0C;&#xFF08;SELECT x WHERE y&#xFF09;FROM table&#x3002;</span><span class="yiyi-st" id="yiyi-306">&#x9700;&#x8981;&#x663E;&#x5F0F;&#x7684;correlate()&#x8C03;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3bb024dda072d0b61145352051204bfc">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-22"><span class="yiyi-st" id="yiyi-307"><span class="target" id="change-b98de44bd2b73a6b57d74988b3c71e30"><strong>[sql] </strong></span>&#x2018;name&#x2019; is no longer a required constructor argument for Column(). </span><span class="yiyi-st" id="yiyi-308">&#x5B83;&#xFF08;&#x548C;.key&#xFF09;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x63A8;&#x8FDF;&#x5230;&#x5217;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x8868;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b98de44bd2b73a6b57d74988b3c71e30">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-23"><span class="yiyi-st" id="yiyi-309"><span class="target" id="change-d248403840e6a2e0c66b497f9dfd1f44"><strong>[sql] </strong></span>like(), ilike(), contains(), startswith(), endswith() take an optional keyword argument &#x201C;escape=<somestring>&#x201D;, which is set as the escape character using the syntax &#x201C;x LIKE y ESCAPE &#x2018;<somestring>&#x2019;&#x201D;.<a class="changeset-link headerlink reference internal" href="#change-d248403840e6a2e0c66b497f9dfd1f44">&#xB6;</a></somestring></somestring></span></p><p><span class="yiyi-st" id="yiyi-310">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/791">&#xFF03;791</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/993">&#xFF03;993</a></span></p></li><li><p id="change-0.4.5-24"><span class="yiyi-st" id="yiyi-311"><span class="target" id="change-7f02bb91d56e815b7b631be7c7323f79"><strong>[sql] </strong></span>random() is now a generic sql function and will compile to the database&#x2019;s random implementation, if any.<a class="changeset-link headerlink reference internal" href="#change-7f02bb91d56e815b7b631be7c7323f79">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-25"><span class="yiyi-st" id="yiyi-312"><span class="target" id="change-a08969f0ce6ab98d21abf6e35cebaa1d"><strong>[sql] </strong></span> update()&#x3002;values()&#x548C;insert()&#x3002;values()&#x63A5;&#x53D7;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;<a class="changeset-link headerlink reference internal" href="#change-a08969f0ce6ab98d21abf6e35cebaa1d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-26"><span class="yiyi-st" id="yiyi-313"><span class="target" id="change-085c87879e1a4fb0d6206454a950a1ce"><strong>[sql] </strong></span>Fixed an issue in select() regarding its generation of FROM clauses, in rare circumstances two clauses could be produced when one was intended to cancel out the other. </span><span class="yiyi-st" id="yiyi-314">&#x4E00;&#x4E9B;&#x6709;&#x5F88;&#x591A;&#x6025;&#x5207;&#x52A0;&#x8F7D;&#x7684;ORM&#x67E5;&#x8BE2;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x770B;&#x5230;&#x4E86;&#x8FD9;&#x79CD;&#x75C7;&#x72B6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-085c87879e1a4fb0d6206454a950a1ce">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-27"><span class="yiyi-st" id="yiyi-315"><span class="target" id="change-fb0089247521d91d7d7bb262cb411a64"><strong>[sql] </strong></span>The case() function now also takes a dictionary as its whens parameter. </span><span class="yiyi-st" id="yiyi-316">&#x5B83;&#x8FD8;&#x5C06;&#x201C;THEN&#x201D;&#x8868;&#x8FBE;&#x5F0F;&#x89E3;&#x91CA;&#x4E3A;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x610F;&#x601D;&#x662F;case&#xFF08;[&#xFF08;x == y&#xFF0C;&#x201C;foo&#x201D;&#xFF09;]&#xFF09;&#x4F1A;&#x5C06;&#x201C;foo&#x201D;&#x89E3;&#x91CA;&#x4E3A;&#x7ED1;&#x5B9A;&#x503C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;SQL&#x8868;&#x8FBE;&#x5F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-317">&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F7F;&#x7528;&#x6587;&#x672C;&#xFF08;expr&#xFF09;&#x4F5C;&#x4E3A;&#x6587;&#x5B57;SQL&#x8868;&#x8FBE;&#x5F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-318">&#x5BF9;&#x4E8E;&#x6807;&#x51C6;&#x672C;&#x8EAB;&#xFF0C;&#x53EA;&#x6709;&#x5B58;&#x5728;&#x201C;value&#x201D;&#x5173;&#x952E;&#x5B57;&#x65F6;&#xFF0C;&#x8FD9;&#x4E9B;&#x624D;&#x53EF;&#x4EE5;&#x662F;&#x6587;&#x5B57;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5426;&#x5219;SA&#x5C06;&#x5F3A;&#x5236;&#x663E;&#x5F0F;&#x4F7F;&#x7528;text()&#x6216;literal()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fb0089247521d91d7d7bb262cb411a64">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.5-mysql"><h3><span class="yiyi-st" id="yiyi-319">MySQL&#x7684;<a class="headerlink" href="#change-0.4.5-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.5-28"><span class="yiyi-st" id="yiyi-320"><span class="target" id="change-c22f3fdf2cdf167542da47643dfc68ab"><strong>[mysql] </strong></span>&#x65B9;&#x8A00;&#x7528;&#x4E8E;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x8BBE;&#x7F6E;&#x7684;connection.info&#x952E;&#x5DF2;&#x66F4;&#x6539;&#xFF0C;&#x73B0;&#x5728;&#x547D;&#x540D;&#x7A7A;&#x95F4;<a class="changeset-link headerlink reference internal" href="#change-c22f3fdf2cdf167542da47643dfc68ab">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.5-mssql"><h3><span class="yiyi-st" id="yiyi-321">MSSQL <a class="headerlink" href="#change-0.4.5-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.5-29"><span class="yiyi-st" id="yiyi-322"><span class="target" id="change-c08d60f2100e58e57023f2ea19c2c241"><strong>[mssql] </strong></span>&#x53CD;&#x5C04;&#x8868;&#x73B0;&#x5728;&#x4F1A;&#x81EA;&#x52A8;&#x52A0;&#x8F7D;&#x81EA;&#x52A8;&#x52A0;&#x8F7D;&#x8868;&#x4E2D;&#x5916;&#x952E;&#x5F15;&#x7528;&#x7684;&#x5176;&#x4ED6;&#x8868;&#xFF0C;<a class="changeset-link headerlink reference internal" href="#change-c08d60f2100e58e57023f2ea19c2c241">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-323">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/979">&#xFF03;979</a></span></p></li><li><p id="change-0.4.5-30"><span class="yiyi-st" id="yiyi-324"><span class="target" id="change-bd1313c4dc35f7c1f3a1380578f9c1e5"><strong>[mssql] </strong></span>&#x6DFB;&#x52A0;&#x4E86;executemany&#x68C0;&#x67E5;&#x4EE5;&#x8DF3;&#x8FC7;&#x6807;&#x8BC6;&#x83B7;&#x53D6;&#xFF0C;<a class="changeset-link headerlink reference internal" href="#change-bd1313c4dc35f7c1f3a1380578f9c1e5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-325">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/916">&#xFF03;916</a></span></p></li><li><p id="change-0.4.5-31"><span class="yiyi-st" id="yiyi-326"><span class="target" id="change-80eac4c5f370dd297d4e3cafbad27a96"><strong>[mssql] </strong></span>&#x6DFB;&#x52A0;&#x5C0F;&#x65E5;&#x671F;&#x7C7B;&#x578B;&#x7684;&#x5B58;&#x6839;<a class="changeset-link headerlink reference internal" href="#change-80eac4c5f370dd297d4e3cafbad27a96">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-327">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/884">&#xFF03;884</a></span></p></li><li><p id="change-0.4.5-32"><span class="yiyi-st" id="yiyi-328"><span class="target" id="change-171f3ad2f4dba5fde36680baa1dc3875"><strong>[mssql] </strong></span>&#x4E3A;pyodbc&#x65B9;&#x8A00;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&apos;driver&apos;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-329">&#x5982;&#x679C;&#x63D0;&#x4F9B;&#xFF0C;&#x5C06;&#x66FF;&#x6362;&#x4E3A;ODBC&#x8FDE;&#x63A5;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&apos;SQL Server&apos;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-171f3ad2f4dba5fde36680baa1dc3875">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-33"><span class="yiyi-st" id="yiyi-330"><span class="target" id="change-81777f583ac945b32caaf0ee3aee5e0f"><strong>[mssql] </strong></span>&#x4E3A;pyodbc&#x65B9;&#x8A00;&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&apos;max_identifier_length&apos;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-81777f583ac945b32caaf0ee3aee5e0f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-34"><span class="yiyi-st" id="yiyi-331"><span class="target" id="change-4a7ee1c669796dd4516a38bfb42b52ff"><strong>[mssql] </strong></span>&#x6539;&#x8FDB;pyodbc + Unix&#x3002;</span><span class="yiyi-st" id="yiyi-332">&#x5982;&#x679C;&#x60A8;&#x4E4B;&#x524D;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x8BE5;&#x7EC4;&#x5408;&#xFF0C;&#x8BF7;&#x518D;&#x8BD5;&#x4E00;&#x6B21;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4a7ee1c669796dd4516a38bfb42b52ff">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.5-oracle"><h3><span class="yiyi-st" id="yiyi-333">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.4.5-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.5-35"><span class="yiyi-st" id="yiyi-334"><span class="target" id="change-34b821a274800e05021e8fb2396ee13c"><strong>[oracle] </strong></span>&#x8868;&#x4E2D;&#x7684;&#x201C;owner&#x201D;&#x5173;&#x952E;&#x5B57;&#x73B0;&#x5728;&#x5DF2;&#x88AB;&#x5F03;&#x7528;&#xFF0C;&#x5E76;&#x4E14;&#x4E0E;&#x201C;schema&#x201D;&#x5173;&#x952E;&#x5B57;&#x5B8C;&#x5168;&#x540C;&#x4E49;&#x3002;</span><span class="yiyi-st" id="yiyi-335">&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x66FF;&#x4EE3;&#x7684;&#x201C;&#x6240;&#x6709;&#x8005;&#x201D;&#x5C5E;&#x6027;&#x6765;&#x53CD;&#x6620;&#x8868;&#xFF0C;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x5728;Table&#x5BF9;&#x8C61;&#x4E2D;&#x660E;&#x786E;&#x58F0;&#x660E;&#x6216;&#x4E0D;&#x4F7F;&#x7528;&#x201C;schema&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-34b821a274800e05021e8fb2396ee13c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-36"><span class="yiyi-st" id="yiyi-336"><span class="target" id="change-fa31cab3a0232df3b107e07f3910f759"><strong>[oracle] </strong></span>&#x641C;&#x7D22;&#x540C;&#x4E49;&#x8BCD;&#x7684;&#x6240;&#x6709;&#x201C;&#x9B54;&#x6CD5;&#x201D;&#xFF0C;DBLINK&#x7B49;&#x3002;</span><span class="yiyi-st" id="yiyi-337">&#x5728;&#x8868;&#x53CD;&#x5C04;&#x671F;&#x95F4;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x7981;&#x7528;&#x7684;&#xFF0C;&#x9664;&#x975E;&#x60A8;&#x5728;&#x8868;&#x5BF9;&#x8C61;&#x4E0A;&#x6307;&#x5B9A;&#x201C;oracle_resolve_synonyms = True&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-338">&#x89E3;&#x6790;&#x540C;&#x4E49;&#x8BCD;&#x5FC5;&#x7136;&#x4F1A;&#x5BFC;&#x81F4;&#x4E00;&#x4E9B;&#x6DF7;&#x4E71;&#x7684;&#x731C;&#x6D4B;&#xFF0C;&#x6211;&#x4EEC;&#x5B81;&#x613F;&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x79BB;&#x5F00;&#x3002;</span><span class="yiyi-st" id="yiyi-339">&#x8BBE;&#x7F6E;&#x6807;&#x5FD7;&#x65F6;&#xFF0C;&#x8868;&#x683C;&#x548C;&#x76F8;&#x5173;&#x8868;&#x683C;&#x5C06;&#x5728;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#x9488;&#x5BF9;&#x540C;&#x4E49;&#x8BCD;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x8868;&#x683C;&#x5B58;&#x5728;&#x540C;&#x4E49;&#x8BCD;&#xFF0C;&#x5219;&#x53CD;&#x6620;&#x5C06;&#x5728;&#x53CD;&#x6620;&#x76F8;&#x5173;&#x8868;&#x683C;&#x65F6;&#x4F7F;&#x7528;&#x5B83;&#x3002;</span><span class="yiyi-st" id="yiyi-340">&#x8FD9;&#x6BD4;&#x4EE5;&#x524D;&#x66F4;&#x52A0;&#x7C98;&#x6027;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x5B83;&#x9ED8;&#x8BA4;&#x5173;&#x95ED;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fa31cab3a0232df3b107e07f3910f759">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-37"><span class="yiyi-st" id="yiyi-341"><span class="target" id="change-34b821a274800e05021e8fb2396ee13c"><strong>[oracle] </strong></span>&#x8868;&#x4E2D;&#x7684;&#x201C;owner&#x201D;&#x5173;&#x952E;&#x5B57;&#x73B0;&#x5728;&#x5DF2;&#x88AB;&#x5F03;&#x7528;&#xFF0C;&#x5E76;&#x4E14;&#x4E0E;&#x201C;schema&#x201D;&#x5173;&#x952E;&#x5B57;&#x5B8C;&#x5168;&#x540C;&#x4E49;&#x3002;</span><span class="yiyi-st" id="yiyi-342">&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x66FF;&#x4EE3;&#x7684;&#x201C;&#x6240;&#x6709;&#x8005;&#x201D;&#x5C5E;&#x6027;&#x6765;&#x53CD;&#x6620;&#x8868;&#xFF0C;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x5728;Table&#x5BF9;&#x8C61;&#x4E2D;&#x660E;&#x786E;&#x58F0;&#x660E;&#x6216;&#x4E0D;&#x4F7F;&#x7528;&#x201C;schema&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-34b821a274800e05021e8fb2396ee13c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-38"><span class="yiyi-st" id="yiyi-343"><span class="target" id="change-fa31cab3a0232df3b107e07f3910f759"><strong>[oracle] </strong></span>&#x641C;&#x7D22;&#x540C;&#x4E49;&#x8BCD;&#x7684;&#x6240;&#x6709;&#x201C;&#x9B54;&#x6CD5;&#x201D;&#xFF0C;DBLINK&#x7B49;&#x3002;</span><span class="yiyi-st" id="yiyi-344">&#x5728;&#x8868;&#x53CD;&#x5C04;&#x671F;&#x95F4;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x7981;&#x7528;&#x7684;&#xFF0C;&#x9664;&#x975E;&#x60A8;&#x5728;&#x8868;&#x5BF9;&#x8C61;&#x4E0A;&#x6307;&#x5B9A;&#x201C;oracle_resolve_synonyms = True&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-345">&#x89E3;&#x6790;&#x540C;&#x4E49;&#x8BCD;&#x5FC5;&#x7136;&#x4F1A;&#x5BFC;&#x81F4;&#x4E00;&#x4E9B;&#x6DF7;&#x4E71;&#x7684;&#x731C;&#x6D4B;&#xFF0C;&#x6211;&#x4EEC;&#x5B81;&#x613F;&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x79BB;&#x5F00;&#x3002;</span><span class="yiyi-st" id="yiyi-346">&#x8BBE;&#x7F6E;&#x6807;&#x5FD7;&#x65F6;&#xFF0C;&#x8868;&#x683C;&#x548C;&#x76F8;&#x5173;&#x8868;&#x683C;&#x5C06;&#x5728;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#x9488;&#x5BF9;&#x540C;&#x4E49;&#x8BCD;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x8868;&#x683C;&#x5B58;&#x5728;&#x540C;&#x4E49;&#x8BCD;&#xFF0C;&#x5219;&#x53CD;&#x6620;&#x5C06;&#x5728;&#x53CD;&#x6620;&#x76F8;&#x5173;&#x8868;&#x683C;&#x65F6;&#x4F7F;&#x7528;&#x5B83;&#x3002;</span><span class="yiyi-st" id="yiyi-347">&#x8FD9;&#x6BD4;&#x4EE5;&#x524D;&#x66F4;&#x52A0;&#x7C98;&#x6027;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x5B83;&#x9ED8;&#x8BA4;&#x5173;&#x95ED;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fa31cab3a0232df3b107e07f3910f759">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.5-misc"><h3><span class="yiyi-st" id="yiyi-348">&#x6742;&#x9879;<a class="headerlink" href="#change-0.4.5-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.5-39"><span class="yiyi-st" id="yiyi-349"><span class="target" id="change-f5fc92b64655f9897a0758861123e3dc"><strong>[declarative] [extension] </strong></span>&#x201C;&#x540C;&#x4E49;&#x8BCD;&#x201D;&#x529F;&#x80FD;&#x73B0;&#x5728;&#x53EF;&#x76F4;&#x63A5;&#x4E0E;&#x201C;&#x58F0;&#x660E;&#x5F0F;&#x201D;&#x4F7F;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-350">&#x4F7F;&#x7528;&#x201C;&#x63CF;&#x8FF0;&#x7B26;&#x201D;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x88C5;&#x9970;&#x5C5E;&#x6027;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;somekey = synonym&#xFF08;&apos;_ somekey&apos;&#xFF0C;descriptor = property&#xFF08;g&#xFF0C;s&#xFF09;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-f5fc92b64655f9897a0758861123e3dc">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-40"><span class="yiyi-st" id="yiyi-351"><span class="target" id="change-1c8b78acb5469017fa9165603b123205"><strong>[declarative] [extension] </strong></span>&#x201C;&#x5EF6;&#x8FDF;&#x201D;&#x529F;&#x80FD;&#x53EF;&#x7528;&#x4E8E;&#x201C;&#x58F0;&#x660E;&#x5F0F;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-352">&#x6700;&#x7B80;&#x5355;&#x7684;&#x7528;&#x6CD5;&#x662F;&#x5C06;deferred&#x548C;Column&#x58F0;&#x660E;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;data = deferred&#xFF08;Column&#xFF08;Text&#xFF09;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-1c8b78acb5469017fa9165603b123205">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-41"><span class="yiyi-st" id="yiyi-353"><span class="target" id="change-92af8493880c77b027ad568e9fea4a4e"><strong>[declarative] [extension] </strong></span>Declarative also gained @synonym_for(...) and @comparable_using(...), front-ends for synonym and comparable_property.<a class="changeset-link headerlink reference internal" href="#change-92af8493880c77b027ad568e9fea4a4e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-42"><span class="yiyi-st" id="yiyi-354"><span class="target" id="change-2e0484c6c3c3b159d5dce42185fd83af"><strong>[declarative] [extension] </strong></span>&#x5728;&#x4F7F;&#x7528;&#x58F0;&#x660E;&#x6027;&#x65F6;&#x6539;&#x8FDB;&#x4E86;mapper&#x7F16;&#x8BD1;&#xFF1B;&#x5F53;&#x4F7F;&#x7528;<a class="changeset-link headerlink reference internal" href="#change-2e0484c6c3c3b159d5dce42185fd83af">&#xB6;</a>&#x65F6;&#xFF0C;&#x5DF2;&#x7F16;&#x8BD1;&#x7684;&#x6620;&#x5C04;&#x5668;&#x4ECD;&#x7136;&#x4F1A;&#x89E6;&#x53D1;&#x7F16;&#x8BD1;&#x5176;&#x4ED6;&#x672A;&#x7F16;&#x8BD1;&#x7684;&#x6620;&#x5C04;&#x5668;</span></p><p><span class="yiyi-st" id="yiyi-355">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/995">&#xFF03;995</a></span></p></li><li><p id="change-0.4.5-43"><span class="yiyi-st" id="yiyi-356"><span class="target" id="change-ab9ef5d41c92c8b3e3cf08569f4910fe"><strong>[declarative] [extension] </strong></span>Declarative will complete setup for Columns lacking names, allows a more DRY syntax.</span></p><blockquote><div><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-357">Foo&#x7C7B;&#xFF08;&#x57FA;&#x5730;&#xFF09;&#xFF1A;</span></dt><dd><span class="yiyi-st" id="yiyi-358">__tablename__ =&apos;foos&apos;id =&#x5217;&#xFF08;&#x6574;&#x578B;&#xFF0C;primary_key = True&#xFF09;</span></dd></dl></div></blockquote><span class="yiyi-st" id="yiyi-359"> <a class="changeset-link headerlink reference internal" href="#change-ab9ef5d41c92c8b3e3cf08569f4910fe">&#xB6;</a></span><p></p></li><li><p id="change-0.4.5-44"><span class="yiyi-st" id="yiyi-360"><span class="target" id="change-47dc505eeee78f8e4a2036cd9ec269e8"><strong>[declarative] [extension] </strong></span>inheritance in declarative can be disabled when sending &#x201C;inherits=None&#x201D; to __mapper_args__.<a class="changeset-link headerlink reference internal" href="#change-47dc505eeee78f8e4a2036cd9ec269e8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-45"><span class="yiyi-st" id="yiyi-361"><span class="target" id="change-d23aa381b803d1871f4a8e5090558669"><strong>[declarative] [extension] </strong></span>declarative_base() takes optional kwarg &#x201C;mapper&#x201D;, which is any callable/class/method that produces a mapper, such as declarative_base(mapper=scopedsession.mapper). </span><span class="yiyi-st" id="yiyi-362">&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x201C;__mapper_cls__&#x201D;&#x5C5E;&#x6027;&#x5728;&#x5355;&#x72EC;&#x7684;&#x58F0;&#x660E;&#x5F0F;&#x7C7B;&#x4E2D;&#x8BBE;&#x7F6E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d23aa381b803d1871f4a8e5090558669">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.5-46"><span class="yiyi-st" id="yiyi-363"><span class="target" id="change-b6f64ab87a83752e5c837be7a29259da"><strong>[postgres] </strong></span>&#x5C06;PG&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6E38;&#x6807;&#x6062;&#x590D;&#x6210;&#x5F62;&#xFF0C;&#x6DFB;&#x52A0;&#x56FA;&#x5B9A;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x4F5C;&#x4E3A;&#x9ED8;&#x8BA4;&#x6D4B;&#x8BD5;&#x5957;&#x4EF6;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;</span><span class="yiyi-st" id="yiyi-364">&#x4E3A;&#x5149;&#x6807;ID <a class="changeset-link headerlink reference internal" href="#change-b6f64ab87a83752e5c837be7a29259da">&#xB6;</a>&#x6DFB;&#x52A0;&#x4E86;&#x66F4;&#x597D;&#x7684;&#x552F;&#x4E00;&#x6027;</span></p><p><span class="yiyi-st" id="yiyi-365">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1001">&#xFF03;1001</a></span></p></li></ul></div></div><div class="section" id="change-0.4.4"><h2><span class="yiyi-st" id="yiyi-367">0.4.4 <a class="headerlink" href="#change-0.4.4" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-419">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2008&#x5E74;3&#x6708;12&#x65E5;</span><div class="section" id="change-0.4.4-orm"><h3><span class="yiyi-st" id="yiyi-368">ORM <a class="headerlink" href="#change-0.4.4-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.4-0"><span class="yiyi-st" id="yiyi-369"><span class="target" id="change-26d54c6302b65f9de74b3cf2e3a5d512"><strong>[orm] </strong></span>any(), has(), contains(), ~contains(), attribute level == and != now work properly with self-referential relations - the clause inside the EXISTS is aliased on the &#x201C;remote&#x201D; side to distinguish it from the parent table. </span><span class="yiyi-st" id="yiyi-370">&#x8FD9;&#x9002;&#x7528;&#x4E8E;&#x5355;&#x8868;&#x81EA;&#x6211;&#x5F15;&#x7528;&#x4EE5;&#x53CA;&#x57FA;&#x4E8E;&#x7EE7;&#x627F;&#x7684;&#x81EA;&#x5F15;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-26d54c6302b65f9de74b3cf2e3a5d512">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.4-1"><span class="yiyi-st" id="yiyi-371"><span class="target" id="change-57e9f7b0e107e07a75467467df6a2d2d"><strong>[orm] </strong></span>&#x5F53;&#x4E0E;&#x4E00;&#x5BF9;&#x4E00;&#x5173;&#x7CFB;&#x7684;NULL&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x65F6;&#xFF0C;&#x5173;&#x7CFB;()&#x7EA7;&#x522B;&#x7684;==&#x548C;&#xFF01;=&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x4FEE;&#x590D;&#x884C;&#x4E3A;<a class="changeset-link headerlink reference internal" href="#change-57e9f7b0e107e07a75467467df6a2d2d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-372">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/985">&#xFF03;985</a></span></p></li><li><p id="change-0.4.4-2"><span class="yiyi-st" id="yiyi-373"><span class="target" id="change-6b0aad45ce1f29ad9158b8009df12108"><strong>[orm] </strong></span>Fixed bug whereby session.expire() attributes were not loading on an polymorphically-mapped instance mapped by a select_table mapper.<a class="changeset-link headerlink reference internal" href="#change-6b0aad45ce1f29ad9158b8009df12108">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.4-3"><span class="yiyi-st" id="yiyi-374"><span class="target" id="change-4a735ee740f2ee53043439ca2374e2bd"><strong>[orm] </strong></span>&#x65B0;&#x589E;&#x4E86;query.with_polymorphic() - &#x6307;&#x5B9A;&#x4ECE;&#x57FA;&#x7C7B;&#x7EE7;&#x627F;&#x7684;&#x7C7B;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x8BE5;&#x5217;&#x5C06;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x67E5;&#x8BE2;&#x7684;FROM&#x5B50;&#x53E5;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-375">&#x5141;&#x8BB8;&#x5728;filter()&#x6807;&#x51C6;&#x4E2D;&#x4F7F;&#x7528;&#x5B50;&#x7C7B;&#xFF0C;&#x5E76;&#x4E14;&#x6025;&#x5207;&#x5730;&#x52A0;&#x8F7D;&#x8FD9;&#x4E9B;&#x5B50;&#x7C7B;&#x7684;&#x5C5E;&#x6027;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4a735ee740f2ee53043439ca2374e2bd">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.4-4"><span class="yiyi-st" id="yiyi-376"><span class="target" id="change-260b0a787300d2b7ce427e108dcbf68d"><strong>[orm] </strong></span>Your cries have been heard: removing a pending item from an attribute or collection with delete-orphan expunges the item from the session; no FlushError is raised. </span><span class="yiyi-st" id="yiyi-377">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;session.save()&#x663E;&#x5F0F;&#x5730;&#x5904;&#x7406;&#x4E86;&#x5F85;&#x5904;&#x7406;&#x9879;&#x76EE;&#xFF0C;&#x90A3;&#x4E48;&#x5C5E;&#x6027;/&#x96C6;&#x5408;&#x5220;&#x9664;&#x4ECD;&#x4F1A;&#x5C06;&#x5176;&#x6572;&#x9664;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-260b0a787300d2b7ce427e108dcbf68d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.4-5"><span class="yiyi-st" id="yiyi-378"><span class="target" id="change-6af8ad8ff1bc8b70b4267a621b75aa56"><strong>[orm] </strong></span>session.refresh() and session.expire() raise an error when called on instances which are not persistent within the session<a class="changeset-link headerlink reference internal" href="#change-6af8ad8ff1bc8b70b4267a621b75aa56">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.4-6"><span class="yiyi-st" id="yiyi-379"><span class="target" id="change-39aac3cdd599e8bac76663700e034c9e"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x4F7F;&#x7528;join()&#x65B9;&#x6CD5;&#x751F;&#x6210;&#x591A;&#x4E2A;&#x67E5;&#x8BE2;&#x5BF9;&#x8C61;&#x65F6;&#x4F7F;&#x7528;&#x76F8;&#x540C;Query&#x7684;&#x6F5C;&#x5728;&#x751F;&#x6210;bug&#x3002;<a class="changeset-link headerlink reference internal" href="#change-39aac3cdd599e8bac76663700e034c9e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.4-7"><span class="yiyi-st" id="yiyi-380"><span class="target" id="change-b9f84fa3c8eb53ab3417b2ff57afae13"><strong>[orm] </strong></span>Fixed bug which was introduced in 0.4.3, whereby loading an already-persistent instance mapped with joined table inheritance would trigger a useless &#x201C;secondary&#x201D; load from its joined table, when using the default &#x201C;select&#x201D; polymorphic_fetch. </span><span class="yiyi-st" id="yiyi-381">&#x8FD9;&#x662F;&#x7531;&#x4E8E;&#x5C5E;&#x6027;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;&#x4E2D;&#x88AB;&#x6807;&#x8BB0;&#x4E3A;&#x8FC7;&#x671F;&#xFF0C;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x4ECE;&#x5148;&#x524D;&#x7684;&#x201C;&#x6B21;&#x8981;&#x201D;&#x52A0;&#x8F7D;&#x53D6;&#x6D88;&#x6807;&#x8BB0;&#x3002;</span><span class="yiyi-st" id="yiyi-382">&#x5728;&#x4EFB;&#x4F55;&#x52A0;&#x8F7D;&#x6216;&#x63D0;&#x4EA4;&#x64CD;&#x4F5C;&#x6210;&#x529F;&#x4E4B;&#x540E;&#xFF0C;&#x57FA;&#x4E8E;__dict__&#x4E2D;&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x5C5E;&#x6027;&#x73B0;&#x5728;&#x672A;&#x5230;&#x671F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b9f84fa3c8eb53ab3417b2ff57afae13">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.4-8"><span class="yiyi-st" id="yiyi-383"><span class="target" id="change-5c46e27af0aab071053f1150c32ad167"><strong>[orm] </strong></span>Deprecated Query methods apply_sum(), apply_max(), apply_min(), apply_avg(). </span><span class="yiyi-st" id="yiyi-384">&#x66F4;&#x597D;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x4E86;...... <a class="changeset-link headerlink reference internal" href="#change-5c46e27af0aab071053f1150c32ad167">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.4-9"><span class="yiyi-st" id="yiyi-385"><span class="target" id="change-1a2a5f137d66ae4e45a504a7fcb25a9b"><strong>[orm] </strong></span>relation() can accept a callable for its first argument, which returns the class to be related. </span><span class="yiyi-st" id="yiyi-386">&#x8FD9;&#x662F;&#x4E3A;&#x4E86;&#x534F;&#x52A9;&#x58F0;&#x660E;&#x6027;&#x5305;&#x6765;&#x5B9A;&#x4E49;&#x5173;&#x7CFB;&#xFF0C;&#x800C;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x7C7B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1a2a5f137d66ae4e45a504a7fcb25a9b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.4-10"><span class="yiyi-st" id="yiyi-387"><span class="target" id="change-a4ea39df253b6f91a5d8204bf227ada0"><strong>[orm] </strong></span>Added a new &#x201C;higher level&#x201D; operator called &#x201C;of_type()&#x201D;: used in join() as well as with any() and has(), qualifies the subclass which will be used in filter criterion, e.g.:</span></p><blockquote><div><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-388">query.filter&#xFF08;Company.employees.of_type&#xFF08;&#x5DE5;&#x7A0B;&#x5E08;&#xFF09;&#x3002;</span></dt><dd><span class="yiyi-st" id="yiyi-389">&#x4EFB;&#x4F55;&#xFF08;Engineer.name ==&#x201D;&#x5BCC;&#x201D;&#xFF09;&#xFF09;</span></dd></dl><p><span class="yiyi-st" id="yiyi-390">&#x8981;&#x4E48;</span></p><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-391">query.join&#xFF08;Company.employees.of_type&#xFF08;&#x5DE5;&#x7A0B;&#x5E08;&#xFF09;&#xFF09;&#x3002;</span></dt><dd><span class="yiyi-st" id="yiyi-392">&#x8FC7;&#x6EE4;&#xFF08;Engineer.name ==&#x201D;&#x5BCC;&#x201D;&#xFF09;</span></dd></dl></div></blockquote><span class="yiyi-st" id="yiyi-393"> <a class="changeset-link headerlink reference internal" href="#change-a4ea39df253b6f91a5d8204bf227ada0">&#xB6;</a></span><p></p></li><li><p id="change-0.4.4-11"><span class="yiyi-st" id="yiyi-394"><span class="target" id="change-1272340a6e01cf700e61e3d2f39cdacf"><strong>[orm] </strong></span>&#x9488;&#x5BF9;flush()&#x4E2D;&#x6F5C;&#x5728;&#x7684;&#x4E22;&#x5931;&#x5F15;&#x7528;&#x9519;&#x8BEF;&#x7684;&#x9884;&#x9632;&#x4EE3;&#x7801;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1272340a6e01cf700e61e3d2f39cdacf">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.4-12"><span class="yiyi-st" id="yiyi-395"><span class="target" id="change-664f4f2b4efd0e58806d46ba15d2618a"><strong>[orm] </strong></span>Expressions used in filter(), filter_by() and others, when they make usage of a clause generated from a relation using the identity of a child object (e.g., filter(Parent.child==<somechild>)), evaluate the actual primary key value of <somechild> at execution time so that the autoflush step of the Query can complete, thereby populating the PK value of <somechild> in the case that <somechild> was pending.<a class="changeset-link headerlink reference internal" href="#change-664f4f2b4efd0e58806d46ba15d2618a">&#xB6;</a></somechild></somechild></somechild></somechild></span></p><p></p></li><li><p id="change-0.4.4-13"><span class="yiyi-st" id="yiyi-396"><span class="target" id="change-92a43783a44458853e3f87836801b5f0"><strong>[orm] </strong></span>setting the relation()-level order by to a column in the many-to-many &#x201C;secondary&#x201D; table will now work with eager loading, previously the &#x201C;order by&#x201D; wasn&#x2019;t aliased against the secondary table&#x2019;s alias.<a class="changeset-link headerlink reference internal" href="#change-92a43783a44458853e3f87836801b5f0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.4-14"><span class="yiyi-st" id="yiyi-397"><span class="target" id="change-8c8e596e12f51cbaab0d60f9eb39e22a"><strong>[orm] </strong></span>&#x73B0;&#x6709;&#x63CF;&#x8FF0;&#x7B26;&#x4E4B;&#x4E0A;&#x7684;&#x540C;&#x4E49;&#x8BCD;&#x73B0;&#x5728;&#x662F;&#x8FD9;&#x4E9B;&#x63CF;&#x8FF0;&#x7B26;&#x7684;&#x5B8C;&#x6574;&#x4EE3;&#x7406;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8c8e596e12f51cbaab0d60f9eb39e22a">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.4-sql"><h3><span class="yiyi-st" id="yiyi-398">SQL <a class="headerlink" href="#change-0.4.4-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.4-15"><span class="yiyi-st" id="yiyi-399"><span class="target" id="change-361cea88f023decd2edcc9f4bcfb85d9"><strong>[sql] </strong></span>&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x6587;&#x672C;FROM&#x5B50;&#x53E5;&#x518D;&#x6B21;&#x521B;&#x5EFA;&#x9009;&#x62E9;&#x522B;&#x540D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-361cea88f023decd2edcc9f4bcfb85d9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-400">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/975">&#xFF03;975</a></span></p></li><li><p id="change-0.4.4-16"><span class="yiyi-st" id="yiyi-401"><span class="target" id="change-f29b12fe4c2de26e389d59d438cf1ea8"><strong>[sql] </strong></span> bindparam()&#x7684;&#x503C;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x8C03;&#x7528;&#x7684;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x4F1A;&#x5728;&#x8BED;&#x53E5;&#x6267;&#x884C;&#x65F6;&#x8BA1;&#x7B97;&#x4EE5;&#x83B7;&#x53D6;&#x8BE5;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f29b12fe4c2de26e389d59d438cf1ea8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.4-17"><span class="yiyi-st" id="yiyi-402"><span class="target" id="change-fa73dc1b6400960fc86f04e571789eac"><strong>[sql] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5F02;&#x5E38;&#x5305;&#x88C5;/&#x91CD;&#x65B0;&#x8FDE;&#x63A5;&#x652F;&#x6301;&#x4EE5;&#x83B7;&#x53D6;&#x7ED3;&#x679C;&#x96C6;&#x3002;</span><span class="yiyi-st" id="yiyi-403">&#x91CD;&#x65B0;&#x8FDE;&#x63A5;&#x9002;&#x7528;&#x4E8E;&#x90A3;&#x4E9B;&#x5728;&#x7ED3;&#x679C;&#x671F;&#x95F4;&#x5F15;&#x53D1;&#x53EF;&#x6355;&#x83B7;&#x6570;&#x636E;&#x9519;&#x8BEF;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF08;&#x5373;&#xFF0C;&#x4E0D;&#x9002;&#x7528;&#x4E8E;MySQL&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-fa73dc1b6400960fc86f04e571789eac">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-404">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/978">&#xFF03;978</a></span></p></li><li><p id="change-0.4.4-18"><span class="yiyi-st" id="yiyi-405"><span class="target" id="change-82a8a6a9be6beb556e3c11919db1d762"><strong>[sql] </strong></span>&#x901A;&#x8FC7;engine.begin_twophase()&#xFF0C;engine.prepare()<a class="changeset-link headerlink reference internal" href="#change-82a8a6a9be6beb556e3c11919db1d762">&#xB6;</a>&#x5B9E;&#x73B0;&#x201C;threadlocal&#x201D;&#x5F15;&#x64CE;&#x7684;&#x4E24;&#x9636;&#x6BB5;API&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-406">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/936">&#xFF03;936</a></span></p></li><li><p id="change-0.4.4-19"><span class="yiyi-st" id="yiyi-407"><span class="target" id="change-3ca250e58167aa467bdd74e86f81f8e2"><strong>[sql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x963B;&#x6B62;UNION&#x88AB;&#x514B;&#x9686;&#x7684;bug&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3ca250e58167aa467bdd74e86f81f8e2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-408">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/986">&#xFF03;986</a></span></p></li><li><p id="change-0.4.4-20"><span class="yiyi-st" id="yiyi-409"><span class="target" id="change-cace8907ce2c688f149a3b7193cb6f03"><strong>[sql] </strong></span>Added &#x201C;bind&#x201D; keyword argument to insert(), update(), delete() and DDL(). </span><span class="yiyi-st" id="yiyi-410">.bind&#x5C5E;&#x6027;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x4E9B;&#x8BED;&#x53E5;&#x4EE5;&#x53CA;select()&#x4E0A;&#x5206;&#x914D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cace8907ce2c688f149a3b7193cb6f03">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.4-21"><span class="yiyi-st" id="yiyi-411"><span class="target" id="change-0e487d0efd2d32fd049531b232a703ea"><strong>[sql] </strong></span>Insert statements can now be compiled with extra &#x201C;prefix&#x201D; words between INSERT and INTO, for vendor extensions like MySQL&#x2019;s INSERT IGNORE INTO table.<a class="changeset-link headerlink reference internal" href="#change-0e487d0efd2d32fd049531b232a703ea">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.4-misc"><h3><span class="yiyi-st" id="yiyi-412">&#x6742;&#x9879;<a class="headerlink" href="#change-0.4.4-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.4-22"><span class="yiyi-st" id="yiyi-413"><span class="target" id="change-e896f826ca21ffa3a8aee4ce1aa75540"><strong>[dialects] </strong></span>&#x65E0;&#x6548;&#x7684;SQLite&#x8FDE;&#x63A5;URL&#x73B0;&#x5728;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e896f826ca21ffa3a8aee4ce1aa75540">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.4-23"><span class="yiyi-st" id="yiyi-414"><span class="target" id="change-1f49158d705ba22bde8f415aae01e7df"><strong>[dialects] </strong></span> postgres TIMESTAMP&#x6B63;&#x786E;&#x5448;&#x73B0;<a class="changeset-link headerlink reference internal" href="#change-1f49158d705ba22bde8f415aae01e7df">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-415">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/981">&#xFF03;981</a></span></p></li><li><p id="change-0.4.4-24"><span class="yiyi-st" id="yiyi-416"><span class="target" id="change-26c194222a2217765863b953678f61d7"><strong>[dialects] </strong></span>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;postgres PGArray&#x662F;&#x4E00;&#x4E2A;&#x201C;&#x53EF;&#x53D8;&#x201D;&#x7C7B;&#x578B;&#xFF1B;&#x5F53;&#x4E0E;ORM&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x53EF;&#x53D8;&#x6837;&#x5F0F;&#x76F8;&#x7B49;/&#x5199;&#x65F6;&#x590D;&#x5236;&#x6280;&#x672F;&#x7528;&#x4E8E;&#x6D4B;&#x8BD5;&#x66F4;&#x6539;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-26c194222a2217765863b953678f61d7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.4-25"><span class="yiyi-st" id="yiyi-417"><span class="target" id="change-11410361d1e94b674b2dd45f62aa879c"><strong>[extensions] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x8D85;&#x5C0F;&#x578B;&#x201C;&#x58F0;&#x660E;&#x5F0F;&#x201D;&#x6269;&#x5C55;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;Table&#x548C;mapper()&#x914D;&#x7F6E;&#x5728;&#x7C7B;&#x58F0;&#x660E;&#x4E0B;&#x4EE5;&#x5185;&#x8054;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x3002;</span><span class="yiyi-st" id="yiyi-418">&#x8FD9;&#x4E2A;&#x6269;&#x5C55;&#x4E0D;&#x540C;&#x4E8E;ActiveMapper&#x548C;Elixir&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x6839;&#x672C;&#x4E0D;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#x4EFB;&#x4F55;SQLAlchemy&#x8BED;&#x4E49;&#xFF1B;&#x6587;&#x5B57;Column&#xFF0C;Table&#x548C;relation()&#x6784;&#x9020;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x7C7B;&#x7684;&#x884C;&#x4E3A;&#x548C;&#x8868;&#x5B9A;&#x4E49;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-11410361d1e94b674b2dd45f62aa879c">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.4.3"><h2><span class="yiyi-st" id="yiyi-420">0.4.3 <a class="headerlink" href="#change-0.4.3" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-533">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2008&#x5E74;2&#x6708;14&#x65E5;</span><div class="section" id="change-0.4.3-general"><h3><span class="yiyi-st" id="yiyi-421">&#x4E00;&#x822C;<a class="headerlink" href="#change-0.4.3-general" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.3-0"><span class="yiyi-st" id="yiyi-422"><span class="target" id="change-6edf54fb64a6efb12a4b41bf8fca7e85"><strong>[general] </strong></span>&#x4FEE;&#x6B63;&#x4E86;Python 2.3&#x4E2D;&#x5404;&#x79CD;&#x9690;&#x85CF;&#x548C;&#x4E00;&#x4E9B;&#x4E0D;&#x90A3;&#x4E48;&#x9690;&#x85CF;&#x7684;&#x517C;&#x5BB9;&#x6027;&#x95EE;&#x9898;&#xFF0C;&#x8FD9;&#x8981;&#x5F52;&#x529F;&#x4E8E;&#x5728;2.3&#x4E0A;&#x8FD0;&#x884C;&#x5B8C;&#x6574;&#x6D4B;&#x8BD5;&#x5957;&#x4EF6;&#x7684;&#x65B0;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6edf54fb64a6efb12a4b41bf8fca7e85">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-1"><span class="yiyi-st" id="yiyi-423"><span class="target" id="change-8292102deab2ae8658025f199f4dba39"><strong>[general] </strong></span>&#x8B66;&#x544A;&#x73B0;&#x5728;&#x53D1;&#x5E03;&#x4E3A;&#x7C7B;&#x578B;exceptions.SAWarning&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8292102deab2ae8658025f199f4dba39">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.3-orm"><h3><span class="yiyi-st" id="yiyi-424">ORM <a class="headerlink" href="#change-0.4.3-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.3-2"><span class="yiyi-st" id="yiyi-425"><span class="target" id="change-ed63aadc46e831e27192365c26bcbd40"><strong>[orm] </strong></span>Every Session.begin() must now be accompanied by a corresponding commit() or rollback() unless the session is closed with Session.close(). </span><span class="yiyi-st" id="yiyi-426">&#x8FD9;&#x8FD8;&#x5305;&#x62EC;&#x7528;transactional = True&#x521B;&#x5EFA;&#x7684;&#x4F1A;&#x8BDD;&#x9690;&#x542B;&#x7684;begin()&#x3002;</span><span class="yiyi-st" id="yiyi-427">&#x8FD9;&#x91CC;&#x4ECB;&#x7ECD;&#x7684;&#x6700;&#x5927;&#x53D8;&#x5316;&#x662F;&#xFF0C;&#x5F53;&#x4F7F;&#x7528;transactional = True&#x521B;&#x5EFA;&#x7684;&#x4F1A;&#x8BDD;&#x5728;flush()&#x671F;&#x95F4;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x65F6;&#xFF0C;&#x5FC5;&#x987B;&#x8C03;&#x7528;Session.rollback()&#x6216;Session.close()&#x4EE5;&#x4FBF;&#x8BE5;&#x4F1A;&#x8BDD;&#x5728;&#x5F02;&#x5E38;&#x540E;&#x7EE7;&#x7EED;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ed63aadc46e831e27192365c26bcbd40">&#xB6; T0&gt;</a></span></p><p></p></li><li><p id="change-0.4.3-3"><span class="yiyi-st" id="yiyi-428"><span class="target" id="change-4066869a71ee4e92e757eed30c24fcd6"><strong>[orm] </strong></span>&#x56FA;&#x5B9A;merge()&#x96C6;&#x5408; - &#x5F53;&#x5C06;&#x77AC;&#x6001;&#x5B9E;&#x4F53;&#x4E0E;backref&#x7684;&#x96C6;&#x5408;&#x5408;&#x5E76;&#x65F6;&#x52A0;&#x500D;&#x7684;bug&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4066869a71ee4e92e757eed30c24fcd6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-429">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/961">&#xFF03;961</a></span></p></li><li><p id="change-0.4.3-4"><span class="yiyi-st" id="yiyi-430"><span class="target" id="change-f30c07f4ca0f0cba96e2f3cb6182473e"><strong>[orm] </strong></span>merge(dont_load=True) does not accept transient entities, this is in continuation with the fact that merge(dont_load=True) does not accept any &#x201C;dirty&#x201D; objects either.<a class="changeset-link headerlink reference internal" href="#change-f30c07f4ca0f0cba96e2f3cb6182473e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-5"><span class="yiyi-st" id="yiyi-431"><span class="target" id="change-12a5e6022a8effac005d99575c5c415b"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x7531;scoped_session&#x751F;&#x6210;&#x7684;&#x72EC;&#x7ACB;&#x201C;&#x67E5;&#x8BE2;&#x201D;&#x7C7B;&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-432">&#x8FD9;&#x63D0;&#x4F9B;&#x4E86;MyClass.query&#x800C;&#x4E0D;&#x4F7F;&#x7528;Session.mapper&#x3002;</span><span class="yiyi-st" id="yiyi-433">&#x4F7F;&#x7528;&#x9014;&#x5F84;&#xFF1A;</span></p><blockquote><div><span class="yiyi-st" id="yiyi-434">MyClass.query = Session.query_property()</span></div></blockquote><span class="yiyi-st" id="yiyi-435"> <a class="changeset-link headerlink reference internal" href="#change-12a5e6022a8effac005d99575c5c415b">&#xB6;</a></span><p></p></li><li><p id="change-0.4.3-6"><span class="yiyi-st" id="yiyi-436"><span class="target" id="change-73db7d20e8dbfeedb6ba0b6cc4788aea"><strong>[orm] </strong></span>&#x5C1D;&#x8BD5;&#x8BBF;&#x95EE;&#x8FC7;&#x671F;&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;&#x65F6;&#x6CA1;&#x6709;&#x4F1A;&#x8BDD;&#x5B58;&#x5728;&#x65F6;&#xFF0C;&#x4F1A;&#x5F15;&#x53D1;&#x6B63;&#x786E;&#x7684;&#x9519;&#x8BEF;&#x6D88;&#x606F;<a class="changeset-link headerlink reference internal" href="#change-73db7d20e8dbfeedb6ba0b6cc4788aea">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-7"><span class="yiyi-st" id="yiyi-437"><span class="target" id="change-549192f88e74438d43000f482dc4a551"><strong>[orm] </strong></span>dynamic_loader() / lazy=&#x201D;dynamic&#x201D; now accepts and uses the order_by parameter in the same way in which it works with relation().<a class="changeset-link headerlink reference internal" href="#change-549192f88e74438d43000f482dc4a551">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-8"><span class="yiyi-st" id="yiyi-438"><span class="target" id="change-ff6e9ef1dbfd714585ff152dd416a7d6"><strong>[orm] </strong></span>&#x4E3A;Session&#x6DFB;&#x52A0;&#x4E86;expire_all()&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-439">&#x8C03;&#x7528;&#x6240;&#x6709;&#x6301;&#x4E45;&#x5B9E;&#x4F8B;&#x7684;expire()&#x3002;</span><span class="yiyi-st" id="yiyi-440">&#x8FD9;&#x4E0E;... <a class="changeset-link headerlink reference internal" href="#change-ff6e9ef1dbfd714585ff152dd416a7d6">&#xB6;</a>&#x76F8;&#x7ED3;&#x5408;</span></p><p></p></li><li><p id="change-0.4.3-9"><span class="yiyi-st" id="yiyi-441"><span class="target" id="change-42759467a8bd5b23f099a069100e4e3a"><strong>[orm] </strong></span>&#x5DF2;&#x7ECF;&#x90E8;&#x5206;&#x6216;&#x5B8C;&#x5168;&#x8FC7;&#x671F;&#x7684;&#x5B9E;&#x4F8B;&#x5C06;&#x5728;&#x5B9A;&#x671F;&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#x671F;&#x95F4;&#x586B;&#x5145;&#x5B83;&#x4EEC;&#x7684;&#x8FC7;&#x671F;&#x5C5E;&#x6027;&#xFF0C;&#x4ECE;&#x800C;&#x5F71;&#x54CD;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#xFF0C;&#x4ECE;&#x800C;&#x4E3A;&#x6BCF;&#x4E2A;&#x5B9E;&#x4F8B;&#x963B;&#x6B62;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x7B2C;&#x4E8C;&#x6761;SQL&#x8BED;&#x53E5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-42759467a8bd5b23f099a069100e4e3a">  T2&gt;</a></span></p><p></p></li><li><p id="change-0.4.3-10"><span class="yiyi-st" id="yiyi-442"><span class="target" id="change-b8b6e98149bfd5318ccf249d510a02ee"><strong>[orm] </strong></span>Dynamic relations, when referenced, create a strong reference to the parent object so that the query still has a parent to call against even if the parent is only created (and otherwise dereferenced) within the scope of a single expression.<a class="changeset-link headerlink reference internal" href="#change-b8b6e98149bfd5318ccf249d510a02ee">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-443">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/938">&#xFF03;938</a></span></p></li><li><p id="change-0.4.3-11"><span class="yiyi-st" id="yiyi-444"><span class="target" id="change-45880f45e498cf7f425d5f004b1ec762"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;mapper()&#x6807;&#x5FD7;&#x201C;eager_defaults&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-445">&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;True&#xFF0C;&#x5219;&#x5728;INSERT&#x6216;UPDATE&#x64CD;&#x4F5C;&#x671F;&#x95F4;&#x751F;&#x6210;&#x7684;&#x7F3A;&#x7701;&#x503C;&#x4F1A;&#x7ACB;&#x5373;&#x88AB;&#x540E;&#x53D6;&#x56DE;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x5EF6;&#x8FDF;&#x5230;&#x7A0D;&#x540E;&#x3002;</span><span class="yiyi-st" id="yiyi-446">&#x8FD9;&#x6A21;&#x4EFF;&#x4E86;&#x65E7;&#x7684;0.3&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-45880f45e498cf7f425d5f004b1ec762">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-12"><span class="yiyi-st" id="yiyi-447"><span class="target" id="change-3891a133d4bd12b14d6068cb8f605156"><strong>[orm] </strong></span>query.join() can now accept class-mapped attributes as arguments. </span><span class="yiyi-st" id="yiyi-448">&#x8FD9;&#x4E9B;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x6216;&#x4E0E;&#x7434;&#x5F26;&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-449">&#x7279;&#x522B;&#x662F;&#xFF0C;&#x8FD9;&#x5141;&#x8BB8;&#x6784;&#x5EFA;&#x591A;&#x6001;&#x5173;&#x7CFB;&#x4E0A;&#x7684;&#x5B50;&#x7C7B;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x5373;&#xFF1A;</span></p><blockquote><div><span class="yiyi-st" id="yiyi-450">&#x67E5;&#x8BE2;&#xFF08;&#x516C;&#x53F8;&#xFF09;.join&#xFF08;[&apos;employees&apos;&#xFF0C;Engineer.name]&#xFF09;</span></div></blockquote><span class="yiyi-st" id="yiyi-451"> <a class="changeset-link headerlink reference internal" href="#change-3891a133d4bd12b14d6068cb8f605156">&#xB6;</a></span><p></p></li><li><p id="change-0.4.3-13"><span class="yiyi-st" id="yiyi-452"><span class="target" id="change-42b75449eedabd47e5cb497bfbb59051"><strong>[orm] [people.join(engineer))] [(&#x2018;employees&#x2019;] [Engineer.name] </strong></span>query.join() can also accept tuples of attribute name/some selectable as arguments. </span><span class="yiyi-st" id="yiyi-453">&#x8FD9;&#x5141;&#x8BB8;&#x4ECE;&#x591A;&#x6001;&#x5173;&#x7CFB;&#x7684;&#x5B50;&#x7C7B;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;<em>&#xFF0C;&#x5373;&#xFF1A;</em></span></p><blockquote><div><span class="yiyi-st" id="yiyi-455">&#x67E5;&#x8BE2;&#xFF08;&#x516C;&#x53F8;&#xFF09;&#x3002;&#x52A0;&#x5165;&#xFF08;</span><p><span class="yiyi-st" id="yiyi-454">)</span></p></div></blockquote><span class="yiyi-st" id="yiyi-456"> <a class="changeset-link headerlink reference internal" href="#change-42b75449eedabd47e5cb497bfbb59051">&#xB6;</a></span><p></p></li><li><p id="change-0.4.3-14"><span class="yiyi-st" id="yiyi-457"><span class="target" id="change-899c6f1ca175ba0b8f026dc0aa41d68b"><strong>[orm] </strong></span>&#x7ED3;&#x5408;&#x591A;&#x6001;&#x6620;&#x5C04;&#x5668;&#x7684;join()&#x884C;&#x4E3A;&#x7684;&#x4E00;&#x822C;&#x6539;&#x8FDB;&#xFF0C;&#x5373;&#x4ECE;/&#x5230;&#x591A;&#x6001;&#x6620;&#x5C04;&#x5668;&#x7684;&#x8FDE;&#x63A5;&#x548C;&#x6B63;&#x786E;&#x5E94;&#x7528;&#x522B;&#x540D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-899c6f1ca175ba0b8f026dc0aa41d68b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-15"><span class="yiyi-st" id="yiyi-458"><span class="target" id="change-4701dbe6a7375d90fa6b81601106e759"><strong>[orm] </strong></span>Fixed/improved behavior when a mapper determines the natural &#x201C;primary key&#x201D; of a mapped join, it will more effectively reduce columns which are equivalent via foreign key relation. </span><span class="yiyi-st" id="yiyi-459">&#x8FD9;&#x4F1A;&#x5F71;&#x54CD;&#x9700;&#x8981;&#x5C06;&#x591A;&#x5C11;&#x4E2A;&#x53C2;&#x6570;&#x53D1;&#x9001;&#x5230;query.get()&#x7B49;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4701dbe6a7375d90fa6b81601106e759">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-460">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/933">&#xFF03;933</a></span></p></li><li><p id="change-0.4.3-16"><span class="yiyi-st" id="yiyi-461"><span class="target" id="change-d7ca86341f6b875bc802fc522eda643c"><strong>[orm] </strong></span>&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x5668;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#xFF0C;&#x5176;&#x4E2D;&#x201C;&#x7ED1;&#x5B9A;&#x201D;&#x5217;&#xFF08;&#x5373;&#x83B7;&#x53D6;&#x4F5C;&#x4E3A;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x53D1;&#x9001;&#x7684;&#x7236;&#x4EE3;&#x7801;&#x7684;&#x5217;&#xFF09;&#x5728;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x4E2D;&#x591A;&#x6B21;&#x51FA;&#x73B0;&#x3002;</span><span class="yiyi-st" id="yiyi-462">&#x5177;&#x4F53;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x5141;&#x8BB8;&#x5305;&#x542B;&#x7236;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x5173;&#x7CFB;()&#x7684;&#x5E38;&#x89C1;&#x4EFB;&#x52A1;&#xFF0C;&#x6BD4;&#x5982;&#x201C;&#x53EA;&#x9009;&#x62E9;&#x6700;&#x8FD1;&#x7684;&#x5B50;&#x9879;&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d7ca86341f6b875bc802fc522eda643c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-463">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/946">&#xFF03;946</a></span></p></li><li><p id="change-0.4.3-17"><span class="yiyi-st" id="yiyi-464"><span class="target" id="change-7ebcbb5cac084dd34f876f1e979346d5"><strong>[orm] </strong></span>Fixed bug in polymorphic inheritance where an incorrect exception is raised when base polymorphic_on column does not correspond to any columns within the local selectable of an inheriting mapper more than one level deep<a class="changeset-link headerlink reference internal" href="#change-7ebcbb5cac084dd34f876f1e979346d5">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-18"><span class="yiyi-st" id="yiyi-465"><span class="target" id="change-52902ccac0e5570582c25b376fecb10b"><strong>[orm] </strong></span>Fixed bug in polymorphic inheritance which made it difficult to set a working &#x201C;order_by&#x201D; on a polymorphic mapper.<a class="changeset-link headerlink reference internal" href="#change-52902ccac0e5570582c25b376fecb10b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-19"><span class="yiyi-st" id="yiyi-466"><span class="target" id="change-2202798af2faf2de027d6e9cb53425b2"><strong>[orm] </strong></span>&#x5728;Query&#x4E2D;&#x4FEE;&#x590D;&#x4E86;&#x4E00;&#x4E2A;&#x76F8;&#x5F53;&#x6602;&#x8D35;&#x7684;&#x8C03;&#x7528;&#xFF0C;&#x5B83;&#x51CF;&#x7F13;&#x4E86;&#x591A;&#x6001;&#x67E5;&#x8BE2;&#x7684;&#x901F;&#x5EA6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2202798af2faf2de027d6e9cb53425b2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-20"><span class="yiyi-st" id="yiyi-467">&#x5982;&#x679C;&#x9700;&#x8981;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;flush()&#x8C03;&#x7528;&#x671F;&#x95F4;&#x52A0;&#x8F7D;&#x201C;&#x88AB;&#x52A8;&#x9ED8;&#x8BA4;&#x503C;&#x201D;&#x548C;&#x5176;&#x4ED6;&#x201C;&#x5185;&#x8054;&#x201D;&#x9ED8;&#x8BA4;&#x503C;&#xFF1B; <span class="target" id="change-1174dcf99d9e604b10ae1b362749fc8d"><strong>[orm] </strong></span>&#x7279;&#x522B;&#x662F;&#xFF0C;&#x8FD9;&#x5141;&#x8BB8;&#x5728;&#x5916;&#x952E;&#x5217;&#x5F15;&#x7528;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x751F;&#x6210;&#x7684;&#x975E;&#x4E3B;&#x952E;&#x5217;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x6784;&#x5EFA;&#x5173;&#x7CFB;()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1174dcf99d9e604b10ae1b362749fc8d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-468">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/954">&#xFF03;954</a></span></p></li><li><p id="change-0.4.3-21"><span class="yiyi-st" id="yiyi-469"><span class="target" id="change-33a848efb3c77483bf094e0593a0f304"><strong>[orm] </strong></span></span></p><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-470">&#x5176;&#x4ED6;&#x4F1A;&#x8BDD;&#x4E8B;&#x52A1;&#x4FEE;&#x6B63;/&#x66F4;&#x6539;&#xFF1A;</span></dt><dd><ul class="first last"><li><span class="yiyi-st" id="yiyi-471">&#x4FEE;&#x6B63;&#x4F1A;&#x8BDD;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x7684;&#x9519;&#x8BEF;&#xFF1A;&#x5728;&#x5411;&#x5D4C;&#x5957;&#x4E8B;&#x52A1;&#x6DFB;&#x52A0;&#x8FDE;&#x63A5;&#x65F6;&#xFF0C;&#x7236;&#x8FDE;&#x63A5;&#x4E8B;&#x52A1;&#x672A;&#x5728;&#x8FDE;&#x63A5;&#x4E0A;&#x542F;&#x52A8;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-472">session.transaction&#x73B0;&#x5728;&#x59CB;&#x7EC8;&#x5F15;&#x7528;&#x6700;&#x5185;&#x5C42;&#x7684;&#x6D3B;&#x52A8;&#x4E8B;&#x52A1;&#xFF0C;&#x5373;&#x4F7F;&#x5728;&#x4F1A;&#x8BDD;&#x4E8B;&#x52A1;&#x5BF9;&#x8C61;&#x4E0A;&#x76F4;&#x63A5;&#x8C03;&#x7528;commit / rollback&#x65F6;&#x4E5F;&#x662F;&#x5982;&#x6B64;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-473">&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x51C6;&#x5907;&#x4E24;&#x9636;&#x6BB5;&#x4EA4;&#x6613;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-474">&#x5728;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x4E0A;&#x51C6;&#x5907;&#x4E24;&#x9636;&#x6BB5;&#x4E8B;&#x52A1;&#x5931;&#x8D25;&#x65F6;&#xFF0C;&#x6240;&#x6709;&#x8FDE;&#x63A5;&#x90FD;&#x4F1A;&#x56DE;&#x6EDA;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-475">&#x5F53;&#x4F7F;&#x7528;&#x5D4C;&#x5957;&#x4E8B;&#x52A1;&#x65F6;&#xFF0C;session.close()&#x6CA1;&#x6709;&#x5173;&#x95ED;&#x6240;&#x6709;&#x4E8B;&#x52A1;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-476">rollback()&#x4EE5;&#x524D;&#x9519;&#x8BEF;&#x5730;&#x5C06;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x76F4;&#x63A5;&#x8BBE;&#x7F6E;&#x4E3A;&#x53EF;&#x4EE5;&#x56DE;&#x6EDA;&#x5230;&#x7684;&#x4E8B;&#x52A1;&#x7684;&#x7236;&#x7EA7;&#x3002;</span><span class="yiyi-st" id="yiyi-477">&#x73B0;&#x5728;&#x5B83;&#x56DE;&#x6EDA;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x5B83;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#xFF0C;&#x4F46;&#x5C06;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x8BBE;&#x7F6E;&#x4E3A;&#x5176;&#x7236;&#x9879;&#xFF0C;&#x5E76;&#x505C;&#x7528;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x7684;&#x4E8B;&#x52A1;&#x3002;</span><span class="yiyi-st" id="yiyi-478">&#x975E;&#x6D3B;&#x52A8;&#x4E8B;&#x52A1;&#x53EA;&#x80FD;&#x56DE;&#x6EDA;&#x6216;&#x5173;&#x95ED;&#xFF0C;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x8C03;&#x7528;&#x90FD;&#x4F1A;&#x5BFC;&#x81F4;&#x9519;&#x8BEF;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-479">&#x5BF9;&#x4E8E;&#x7B80;&#x5355;&#x7684;&#x5B50;&#x4E8B;&#x52A1;&#xFF0C;commit()&#x7684;autoflush&#x4E0D;&#x4F1A;&#x51B2;&#x6D17;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-480">&#x5F53;&#x4F1A;&#x8BDD;&#x4E0D;&#x5728;&#x4E8B;&#x52A1;&#x4E2D;&#x5E76;&#x4E14;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#x5931;&#x8D25;&#x65F6;&#xFF0C;unitofwork flush&#x6CA1;&#x6709;&#x5173;&#x95ED;&#x5931;&#x8D25;&#x7684;&#x4E8B;&#x52A1;&#x3002;</span></li></ul></dd></dl><span class="yiyi-st" id="yiyi-481"> <a class="changeset-link headerlink reference internal" href="#change-33a848efb3c77483bf094e0593a0f304">&#xB6;</a></span><p></p></li><li><p id="change-0.4.3-22"><span class="yiyi-st" id="yiyi-482"><span class="target" id="change-156ce1b0bbba6a383724228e99b59141"><strong>[orm] </strong></span>&#x5176;&#x4ED6;&#x7968;&#x636E;&#xFF1A;<a class="changeset-link headerlink reference internal" href="#change-156ce1b0bbba6a383724228e99b59141">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-483">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/964">&#xFF03;964</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/940">&#xFF03;940</a></span></p></li></ul></div><div class="section" id="change-0.4.3-sql"><h3><span class="yiyi-st" id="yiyi-484">SQL <a class="headerlink" href="#change-0.4.3-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.3-23"><span class="yiyi-st" id="yiyi-485"><span class="target" id="change-6dc387bc33169ccc70dccd8218f63eb6"><strong>[sql] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x201C;schema.DDL&#x201D;&#xFF0C;&#x4E00;&#x4E2A;&#x53EF;&#x6267;&#x884C;&#x7684;&#x81EA;&#x7531;&#x683C;&#x5F0F;&#x7684;DDL&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-486">DDL&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x6267;&#x884C;&#x6216;&#x9644;&#x52A0;&#x5230;Table&#x6216;MetaData&#x5B9E;&#x4F8B;&#xFF0C;&#x5E76;&#x5728;&#x521B;&#x5EFA;&#x548C;/&#x6216;&#x5220;&#x9664;&#x5BF9;&#x8C61;&#x65F6;&#x81EA;&#x52A8;&#x6267;&#x884C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6dc387bc33169ccc70dccd8218f63eb6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-24"><span class="yiyi-st" id="yiyi-487"><span class="target" id="change-7a15201e78fb2f315a974ea2f2fdf57e"><strong>[sql] </strong></span>Table columns and constraints can be overridden on a an existing table (such as a table that was already reflected) using the &#x2018;useexisting=True&#x2019; flag, which now takes into account the arguments passed along with it.<a class="changeset-link headerlink reference internal" href="#change-7a15201e78fb2f315a974ea2f2fdf57e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-25"><span class="yiyi-st" id="yiyi-488"><span class="target" id="change-9901077c4d7b859ebcf02d4e4c960588"><strong>[sql] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;&#x53EF;&#x8C03;&#x7528;&#x7684;DDL&#x4E8B;&#x4EF6;&#x63A5;&#x53E3;&#xFF0C;&#x5728;Tables&#x548C;MetaData&#x521B;&#x5EFA;&#x548C;&#x5220;&#x9664;&#x4E4B;&#x524D;&#x548C;&#x4E4B;&#x540E;&#x6DFB;&#x52A0;&#x4E86;&#x94A9;&#x5B50;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9901077c4d7b859ebcf02d4e4c960588">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-26"><span class="yiyi-st" id="yiyi-489"><span class="target" id="change-55f9b7d9b3f544d05ee33d474e48e718"><strong>[sql] </strong></span>Added generative where(<criterion>) method to delete() and update() constructs which return a new object with criterion joined to existing criterion via AND, just like select().where().<a class="changeset-link headerlink reference internal" href="#change-55f9b7d9b3f544d05ee33d474e48e718">&#xB6;</a></criterion></span></p><p></p></li><li><p id="change-0.4.3-27"><span class="yiyi-st" id="yiyi-490"><span class="target" id="change-cda5a8913a71356022156500329b8ea2"><strong>[sql] </strong></span>Added &#x201C;ilike()&#x201D; operator to column operations. </span><span class="yiyi-st" id="yiyi-491">&#x5728;postgres&#x4E0A;&#x7F16;&#x8BD1;&#x4E3A;ILIKE&#xFF0C;&#x5728;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x4E0A;&#x7F16;&#x8BD1;&#x4E3A;&#xFF08;lower&#xFF09;&#xFF08;y&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cda5a8913a71356022156500329b8ea2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-492">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/727">&#xFF03;727</a></span></p></li><li><p id="change-0.4.3-28"><span class="yiyi-st" id="yiyi-493"><span class="target" id="change-f9d50ae6c3ab814c61e765a4597db4a7"><strong>[sql] </strong></span>&#x5C06;&#x201C;now()&#x201D;&#x6DFB;&#x52A0;&#x4E3A;&#x901A;&#x7528;&#x51FD;&#x6570;&#xFF1B;&#x5728;SQLite&#x4E0A;&#xFF0C;Oracle&#x548C;MSSQL&#x7F16;&#x8BD1;&#x4E3A;&#x201C;CURRENT_TIMESTAMP&#x201D;&#xFF1B; &#x201C;now()&#x201D;&#x5728;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x4E0A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f9d50ae6c3ab814c61e765a4597db4a7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-494">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/943">&#xFF03;943</a></span></p></li><li><p id="change-0.4.3-29"><span class="yiyi-st" id="yiyi-495"><span class="target" id="change-dc43f597e2f6c04ee681a57b1cdcab9f"><strong>[sql] </strong></span>The startswith(), endswith(), and contains() operators now concatenate the wildcard operator with the given operand in SQL, i.e. &#x201C;&#x2019;%&#x2019; || <bindparam>&#x201D; in all cases, accept text(&#x2018;something&#x2019;) operands properly<a class="changeset-link headerlink reference internal" href="#change-dc43f597e2f6c04ee681a57b1cdcab9f">&#xB6;</a></bindparam></span></p><p><span class="yiyi-st" id="yiyi-496">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/962">&#xFF03;962</a></span></p></li><li><p id="change-0.4.3-30"><span class="yiyi-st" id="yiyi-497"><span class="target" id="change-6e11a1c8b10e4f234d4523225bd257ef"><strong>[sql] </strong></span> cast()&#x6B63;&#x786E;&#x63A5;&#x53D7;&#x6587;&#x672C;&#xFF08;&apos;something&apos;&#xFF09;&#x548C;&#x5176;&#x4ED6;&#x975E;&#x6587;&#x5B57;&#x64CD;&#x4F5C;&#x6570;<a class="changeset-link headerlink reference internal" href="#change-6e11a1c8b10e4f234d4523225bd257ef">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-498">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/962">&#xFF03;962</a></span></p></li><li><p id="change-0.4.3-31"><span class="yiyi-st" id="yiyi-499"><span class="target" id="change-058b2c299ce6bcfa574f984a4c4a6e71"><strong>[sql] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x7ED3;&#x679C;&#x4EE3;&#x7406;&#x4E2D;&#x7684;bug&#xFF0C;&#x5176;&#x4E2D;&#x533F;&#x540D;&#x751F;&#x6210;&#x7684;&#x5217;&#x6807;&#x7B7E;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x5176;&#x76F4;&#x63A5;&#x5B57;&#x7B26;&#x4E32;&#x540D;&#x79F0;&#x8BBF;&#x95EE;<a class="changeset-link headerlink reference internal" href="#change-058b2c299ce6bcfa574f984a4c4a6e71">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-32"><span class="yiyi-st" id="yiyi-500"><span class="target" id="change-3115dcb8cdb282b57a31d91ec76e5e43"><strong>[sql] </strong></span>&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x53EF;&#x5EF6;&#x8FDF;&#x7684;&#x7EA6;&#x675F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3115dcb8cdb282b57a31d91ec76e5e43">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-33"><span class="yiyi-st" id="yiyi-501"><span class="target" id="change-0fdb4ae6ed3cdbc2764f585352789ad5"><strong>[sql] </strong></span>Added &#x201C;autocommit=True&#x201D; keyword argument to select() and text(), as well as generative autocommit() method on select(); for statements which modify the database through some user-defined means other than the usual INSERT/UPDATE/ DELETE etc. </span><span class="yiyi-st" id="yiyi-502">&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4E8B;&#x52A1;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#xFF0C;&#x8BE5;&#x6807;&#x5FD7;&#x5C06;&#x5728;&#x6267;&#x884C;&#x671F;&#x95F4;&#x542F;&#x7528;&#x201C;&#x81EA;&#x52A8;&#x63D0;&#x4EA4;&#x201D;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0fdb4ae6ed3cdbc2764f585352789ad5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-503">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/915">&#xFF03;915</a></span></p></li><li><p id="change-0.4.3-34"><span class="yiyi-st" id="yiyi-504"><span class="target" id="change-8ab38a99c33031ed1be3e3d2f2018ad6"><strong>[sql] </strong></span>&#x73B0;&#x5728;selectable&#x4E0A;&#x7684;&apos;.c&#x3002;&apos;&#x5C5E;&#x6027;&#x5728;&#x5176;columns&#x5B50;&#x53E5;&#x4E2D;&#x4E3A;&#x6BCF;&#x4E2A;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x6761;&#x76EE;&#x3002;</span><span class="yiyi-st" id="yiyi-505">&#x4EE5;&#x524D;&#xFF0C;&#x50CF;&#x51FD;&#x6570;&#x548C;CASE&#x8BED;&#x53E5;&#x8FD9;&#x6837;&#x7684;&#x201C;&#x672A;&#x547D;&#x540D;&#x201D;&#x5217;&#x6CA1;&#x6709;&#x653E;&#x5728;&#x90A3;&#x91CC;&#x3002;</span><span class="yiyi-st" id="yiyi-506">&#x73B0;&#x5728;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x201C;&#x540D;&#x79F0;&#x201D;&#x53EF;&#x7528;&#xFF0C;&#x4ED6;&#x4EEC;&#x5C06;&#x4F7F;&#x7528;&#x5B8C;&#x6574;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8ab38a99c33031ed1be3e3d2f2018ad6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-35"><span class="yiyi-st" id="yiyi-507"><span class="target" id="change-dee2d53230f0bb2006399dd3a1acc69b"><strong>[sql] </strong></span>a CompositeSelect, i.e. any union(), union_all(), intersect(), etc. </span><span class="yiyi-st" id="yiyi-508">&#x73B0;&#x5728;&#x65AD;&#x8A00;&#x6BCF;&#x4E2A;&#x53EF;&#x9009;&#x9879;&#x5305;&#x542B;&#x76F8;&#x540C;&#x6570;&#x91CF;&#x7684;&#x5217;&#x3002;</span><span class="yiyi-st" id="yiyi-509">&#x8FD9;&#x7B26;&#x5408;&#x76F8;&#x5E94;&#x7684;SQL&#x8981;&#x6C42;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dee2d53230f0bb2006399dd3a1acc69b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-36"><span class="yiyi-st" id="yiyi-510"><span class="target" id="change-9aaabc97770589be11258354e4103c20"><strong>[sql] </strong></span>The anonymous &#x2018;label&#x2019; generated for otherwise unlabeled functions and expressions now propagates outwards at compile time for expressions like select([select([func.foo()])]).<a class="changeset-link headerlink reference internal" href="#change-9aaabc97770589be11258354e4103c20">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-37"><span class="yiyi-st" id="yiyi-511"><span class="target" id="change-e38291a9bb6875caafe6ff4eb62837d6"><strong>[sql] </strong></span>Building on the above ideas, CompositeSelects now build up their &#x201D;.c.&#x201D; collection based on the names present in the first selectable only; corresponding_column() now works fully for all embedded selectables.<a class="changeset-link headerlink reference internal" href="#change-e38291a9bb6875caafe6ff4eb62837d6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-38"><span class="yiyi-st" id="yiyi-512"><span class="target" id="change-effacbc8cacf7eccb6b38ba3cbbae70c"><strong>[sql] </strong></span>Oracle and others properly encode SQL used for defaults like sequences, etc., even if no unicode idents are used since identifier preparer may return a cached unicode identifier.<a class="changeset-link headerlink reference internal" href="#change-effacbc8cacf7eccb6b38ba3cbbae70c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-39"><span class="yiyi-st" id="yiyi-513"><span class="target" id="change-1d04331648e18d01c0c95d1e615df08e"><strong>[sql] </strong></span>Column and clause comparisons to datetime objects on the left hand side of the expression now work (d &lt; table.c.col). </span><span class="yiyi-st" id="yiyi-514">&#xFF08;RHS&#x4E0A;&#x7684;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x4E00;&#x76F4;&#x6709;&#x6548;&#xFF0C;LHS&#x5F02;&#x5E38;&#x662F;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x5B9E;&#x73B0;&#x7684;&#x4E00;&#x4E2A;&#x602A;&#x7656;&#x3002;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-1d04331648e18d01c0c95d1e615df08e">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.3-misc"><h3><span class="yiyi-st" id="yiyi-515">&#x6742;&#x9879;<a class="headerlink" href="#change-0.4.3-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.3-40"><span class="yiyi-st" id="yiyi-516"><span class="target" id="change-f63c306a189efd4f901b963ab28adb1f"><strong>[dialects] </strong></span>&#x66F4;&#x597D;&#x5730;&#x652F;&#x6301;SQLite&#x4E2D;&#x7684;&#x6A21;&#x5F0F;&#xFF08;&#x901A;&#x8FC7;ATTACH DATABASE ... AS&#x540D;&#x79F0;&#x94FE;&#x63A5;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-517">&#x5728;&#x8FC7;&#x53BB;&#x7684;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E3A;SQLite&#x751F;&#x6210;&#x7684;SQL&#x4E2D;&#x7701;&#x7565;&#x4E86;&#x6A21;&#x5F0F;&#x540D;&#x79F0;&#x3002;</span><span class="yiyi-st" id="yiyi-518">&#x8FD9;&#x4E0D;&#x518D;&#x662F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f63c306a189efd4f901b963ab28adb1f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-41"><span class="yiyi-st" id="yiyi-519"><span class="target" id="change-9dee0f004a0cf1c0917dc6380650d13a"><strong>[dialects] </strong></span> SQLite&#x4E0A;&#x7684;table_names&#x73B0;&#x5728;&#x4E5F;&#x4F1A;&#x9009;&#x53D6;&#x4E34;&#x65F6;&#x8868;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9dee0f004a0cf1c0917dc6380650d13a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-42"><span class="yiyi-st" id="yiyi-520"><span class="target" id="change-60a5b994550ff76a748f3c1c1876328e"><strong>[dialects] </strong></span>&#x5728;&#x53CD;&#x5C04;&#x64CD;&#x4F5C;&#x671F;&#x95F4;&#x81EA;&#x52A8;&#x68C0;&#x6D4B;&#x672A;&#x6307;&#x5B9A;&#x7684;MySQL ANSI_QUOTES&#x6A21;&#x5F0F;&#xFF0C;&#x652F;&#x6301;&#x5728;&#x4E2D;&#x9014;&#x66F4;&#x6539;&#x6A21;&#x5F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-521">&#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528;&#x53CD;&#x5C04;&#xFF0C;&#x4ECD;&#x7136;&#x9700;&#x8981;&#x624B;&#x52A8;&#x6A21;&#x5F0F;&#x8BBE;&#x7F6E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-60a5b994550ff76a748f3c1c1876328e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-43"><span class="yiyi-st" id="yiyi-522"><span class="target" id="change-d2deeecdb1769a651e3418d54d79a6f7"><strong>[dialects] </strong></span>&#x4FEE;&#x6B63;&#x4E86;SQLite&#x7684;TIME&#x5217;&#x7684;&#x53CD;&#x6620;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d2deeecdb1769a651e3418d54d79a6f7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-44"><span class="yiyi-st" id="yiyi-523"><span class="target" id="change-df90bbae9a24a548712386fea17c51d7"><strong>[dialects] </strong></span>&#x6700;&#x540E;&#x5C06;PGMacAddr&#x7C7B;&#x578B;&#x6DFB;&#x52A0;&#x5230;postgres <a class="changeset-link headerlink reference internal" href="#change-df90bbae9a24a548712386fea17c51d7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-524">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/580">&#xFF03;580</a></span></p></li><li><p id="change-0.4.3-45"><span class="yiyi-st" id="yiyi-525"><span class="target" id="change-aa4961efc15ee34be7bcbce396b294c8"><strong>[dialects] </strong></span>&#x5728;Firebird <a class="changeset-link headerlink reference internal" href="#change-aa4961efc15ee34be7bcbce396b294c8">&#xB6;</a>&#x4E0B;&#x53CD;&#x6620;&#x4E0E;PK&#x5B57;&#x6BB5;&#x5173;&#x8054;&#x7684;&#x5E8F;&#x5217;&#xFF08;&#x901A;&#x5E38;&#x4F7F;&#x7528;BEFORE INSERT&#x89E6;&#x53D1;&#x5668;&#xFF09;</span></p><p></p></li><li><p id="change-0.4.3-46"><span class="yiyi-st" id="yiyi-526"><span class="target" id="change-b06276ebd78dee4b8b236cfc9f6ea19e"><strong>[dialects] </strong></span>Oracle assembles the correct columns in the result set column mapping when generating a LIMIT/OFFSET subquery, allows columns to map properly to result sets even if long-name truncation kicks in<a class="changeset-link headerlink reference internal" href="#change-b06276ebd78dee4b8b236cfc9f6ea19e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-527">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/941">&#xFF03;941</a></span></p></li><li><p id="change-0.4.3-47"><span class="yiyi-st" id="yiyi-528"><span class="target" id="change-34c2a03d48cdd10e0016278bc5941d22"><strong>[dialects] </strong></span> MSSQL&#x73B0;&#x5728;&#x5728;_is_select regexp&#x4E2D;&#x5305;&#x542B;EXEC&#xFF0C;&#x5B83;&#x5E94;&#x8BE5;&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x884C;&#x8FD4;&#x56DE;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-34c2a03d48cdd10e0016278bc5941d22">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-48"><span class="yiyi-st" id="yiyi-529"><span class="target" id="change-1fc2c8bc3c3438aaf84a962c2176c65b"><strong>[dialects] </strong></span> MSSQL&#x73B0;&#x5728;&#x4F7F;&#x7528;ANSI SQL row_number()&#x51FD;&#x6570;&#x5305;&#x542B;LIMIT / OFFSET&#x7684;&#x5B9E;&#x9A8C;&#x6027;&#x5B9E;&#x73B0;&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x9700;&#x8981;MSSQL-2005&#x6216;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#x3002;</span><span class="yiyi-st" id="yiyi-530">&#x8981;&#x542F;&#x7528;&#x8BE5;&#x529F;&#x80FD;&#xFF0C;&#x8BF7;&#x5C06;&#x201C;has_window_funcs&#x201D;&#x6DFB;&#x52A0;&#x5230;&#x8FDE;&#x63A5;&#x7684;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x4E2D;&#xFF0C;&#x6216;&#x5C06;&#x201C;&#xFF1F;has_window_funcs = 1&#x201D;&#x6DFB;&#x52A0;&#x5230;&#x60A8;&#x7684;dburi&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1fc2c8bc3c3438aaf84a962c2176c65b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-49"><span class="yiyi-st" id="yiyi-531"><span class="target" id="change-937a4731635f0eb9fc1445d0e3061924"><strong>[ext] </strong></span>&#x66F4;&#x6539;&#x4E86;ext.activemapper&#x4EE5;&#x4F7F;&#x7528;&#x5BF9;&#x8C61;&#x5E93;&#x7684;&#x975E;&#x4E8B;&#x52A1;&#x6027;&#x4F1A;&#x8BDD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-937a4731635f0eb9fc1445d0e3061924">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.3-50"><span class="yiyi-st" id="yiyi-532"><span class="target" id="change-9adb592707c367ff5863e266ed996077"><strong>[ext] </strong></span>&#x5728;&#x5173;&#x8054;&#x4EE3;&#x7406;&#x5217;&#x8868;&#x4E2D;&#x4FEE;&#x590D;&#x4E86;&#x201C;[&apos;a&apos;] + obj.proxied&#x201D;&#x4E8C;&#x5143;&#x8FD0;&#x7B97;&#x7684;&#x8F93;&#x51FA;&#x987A;&#x5E8F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9adb592707c367ff5863e266ed996077">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.4.2p3"><h2><span class="yiyi-st" id="yiyi-534">0.4.2p3 <a class="headerlink" href="#change-0.4.2p3" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-576">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2008&#x5E74;1&#x6708;09&#x65E5;</span><div class="section" id="change-0.4.2p3-general"><h3><span class="yiyi-st" id="yiyi-535">&#x4E00;&#x822C;<a class="headerlink" href="#change-0.4.2p3-general" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.2p3-0"><span class="yiyi-st" id="yiyi-536"><span class="target" id="change-65d413b7ad515c5729bde99fb2e96731"><strong>[general] </strong></span>&#x5B50;&#x7248;&#x672C;&#x7F16;&#x53F7;&#x65B9;&#x6848;&#x66F4;&#x6539;&#x4E3A;&#x5957;&#x4EF6;setuptools&#x7248;&#x672C;&#x53F7;&#x89C4;&#x5219;&#xFF1B; easy_install -u&#x73B0;&#x5728;&#x5E94;&#x8BE5;&#x83B7;&#x5F97;0.4.2&#x4EE5;&#x4E0A;&#x7684;&#x7248;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-65d413b7ad515c5729bde99fb2e96731">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.2p3-orm"><h3><span class="yiyi-st" id="yiyi-537">ORM <a class="headerlink" href="#change-0.4.2p3-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.2p3-1"><span class="yiyi-st" id="yiyi-538"><span class="target" id="change-da292c6c47e2281b50fe3872d622ec66"><strong>[orm] </strong></span>&#x5728;&#x4F7F;&#x7528;&#x201C;&#x53EF;&#x53D8;&#x6807;&#x91CF;&#x201D;&#xFF08;&#x5982;PickleTypes&#xFF09;&#x65F6;&#x4FEE;&#x590D;&#x4E86;session.dirty&#x7684;&#x9519;&#x8BEF;<a class="changeset-link headerlink reference internal" href="#change-da292c6c47e2281b50fe3872d622ec66">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2p3-2"><span class="yiyi-st" id="yiyi-539"><span class="target" id="change-e84ebdc378fd322dd6276c9b7906ed92"><strong>[orm] </strong></span>added a more descriptive error message when flushing on a relation() that has non-locally-mapped columns in its primary or secondary join condition<a class="changeset-link headerlink reference internal" href="#change-e84ebdc378fd322dd6276c9b7906ed92">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2p3-3"><span class="yiyi-st" id="yiyi-540">&#x5728;InstanceState .__ cleanup()&#x73B0;&#x5728;&#xFF0C;<span class="target" id="change-d24181f3ffcf556b44aa903e5a74b37e"><strong>[orm] </strong></span>&#x73B0;&#x5728;&#x6291;&#x5236;<em>&#x6240;&#x6709;</em>&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d24181f3ffcf556b44aa903e5a74b37e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2p3-4"><span class="yiyi-st" id="yiyi-541"><span class="target" id="change-d2a931ab43317f5fcf9c6bdb7f4f4a39"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x9519;&#x8BEF;&#xFF0C;&#x56E0;&#x6B64;&#x5C06;&#x65B0;&#x96C6;&#x5408;&#x5206;&#x914D;&#x7ED9;&#x5DF2;&#x5177;&#x6709;&#x672A;&#x51B3;&#x66F4;&#x6539;&#x7684;&#x57FA;&#x4E8E;&#x96C6;&#x5408;&#x7684;&#x5C5E;&#x6027;&#x4F1A;&#x751F;&#x6210;&#x4E0D;&#x6B63;&#x786E;&#x7684;&#x5386;&#x53F2;&#x8BB0;&#x5F55;<a class="changeset-link headerlink reference internal" href="#change-d2a931ab43317f5fcf9c6bdb7f4f4a39">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-542">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/922">&#xFF03;922</a></span></p></li><li><p id="change-0.4.2p3-5"><span class="yiyi-st" id="yiyi-543"><span class="target" id="change-d81770ec7c97121d21e6eb326d9bb5da"><strong>[orm] </strong></span>fixed delete-orphan cascade bug whereby setting the same object twice to a scalar attribute could log it as an orphan<a class="changeset-link headerlink reference internal" href="#change-d81770ec7c97121d21e6eb326d9bb5da">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-544">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/925">&#xFF03;925</a></span></p></li><li><p id="change-0.4.2p3-6"><span class="yiyi-st" id="yiyi-545"><span class="target" id="change-13a128b105a34070dcf5a5147913fa10"><strong>[orm] </strong></span>&#x56FA;&#x5B9A;&#x7EA7;&#x8054;&#x5728;+ =&#x8D4B;&#x503C;&#x7ED9;&#x57FA;&#x4E8E;&#x5217;&#x8868;&#x7684;&#x5173;&#x7CFB;&#x4E0A;<a class="changeset-link headerlink reference internal" href="#change-13a128b105a34070dcf5a5147913fa10">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2p3-7"><span class="yiyi-st" id="yiyi-546"><span class="target" id="change-331b7392042497e067064bc0ea7a7a43"><strong>[orm] </strong></span>synonyms can now be created against props that don&#x2019;t exist yet, which are later added via add_property(). </span><span class="yiyi-st" id="yiyi-547">&#x8FD9;&#x901A;&#x5E38;&#x5305;&#x62EC;backrefs&#x3002;</span><span class="yiyi-st" id="yiyi-548">&#xFF08;&#x5373;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x4E3A;backrefs&#x5236;&#x4F5C;&#x540C;&#x4E49;&#x8BCD;&#x800C;&#x4E0D;&#x7528;&#x62C5;&#x5FC3;&#x64CD;&#x4F5C;&#x987A;&#x5E8F;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-331b7392042497e067064bc0ea7a7a43">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-549">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/919">&#xFF03;919</a></span></p></li><li><p id="change-0.4.2p3-8"><span class="yiyi-st" id="yiyi-550"><span class="target" id="change-72cde5697e7ad6e3b60d641e29048733"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x591A;&#x6001;&#x201C;&#x8054;&#x5408;&#x201D;&#x6620;&#x5C04;&#x5668;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x8BE5;&#x6620;&#x5C04;&#x5668;&#x53EF;&#x4EE5;&#x56DE;&#x9000;&#x5230;&#x201C;&#x5EF6;&#x8FDF;&#x201D;&#x52A0;&#x8F7D;&#x7EE7;&#x627F;&#x8868;<a class="changeset-link headerlink reference internal" href="#change-72cde5697e7ad6e3b60d641e29048733">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2p3-9"><span class="yiyi-st" id="yiyi-551"><span class="target" id="change-fed49544228d810c496b9938b4c43c75"><strong>[orm] </strong></span>the &#x201C;columns&#x201D; collection on a mapper/mapped class (i.e. &#x2018;c&#x2019;) is against the mapped table, not the select_table in the case of polymorphic &#x201C;union&#x201D; loading (this shouldn&#x2019;t be noticeable).<a class="changeset-link headerlink reference internal" href="#change-fed49544228d810c496b9938b4c43c75">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2p3-10"><span class="yiyi-st" id="yiyi-552"><span class="target" id="change-3ca851d8498ea2458bba602dee5ad8dd"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x76F8;&#x5F53;&#x4E25;&#x91CD;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x5728;unitofwork.new&#x96C6;&#x5408;&#x4E2D;&#x591A;&#x6B21;&#x5217;&#x51FA;&#x76F8;&#x540C;&#x7684;&#x5B9E;&#x4F8B;&#xFF1B;&#x5728;&#x4F7F;&#x7528;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668;&#x548C;ScopedSession.mapper&#x7684;&#x7EC4;&#x5408;&#x65F6;&#x6700;&#x4E3A;&#x5178;&#x578B;&#xFF0C;&#x56E0;&#x4E3A;&#x6BCF;&#x4E2A;&#x5B9E;&#x4F8B;&#x7684;&#x591A;&#x4E2A;__init__&#x8C03;&#x7528;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;_state&#x5BF9;&#x8C61;&#x4FDD;&#x5B58;()&#x8BE5;&#x5BF9;&#x8C61;<a class="changeset-link headerlink reference internal" href="#change-3ca851d8498ea2458bba602dee5ad8dd">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2p3-11"><span class="yiyi-st" id="yiyi-553"><span class="target" id="change-b0ea0f39c7d503288cdab2a995ef5b83"><strong>[orm] </strong></span>&#x4E3A;Query&#x6DFB;&#x52A0;&#x4E86;&#x975E;&#x5E38;&#x57FA;&#x672C;&#x7684;&#x4EA7;&#x751F;&#x8FED;&#x4EE3;&#x5668;&#x884C;&#x4E3A;&#x3002;</span><span class="yiyi-st" id="yiyi-554">&#x8C03;&#x7528;query.yield_per&#xFF08;<number of="" rows="">&#xFF09;&#x5E76;&#x5728;&#x8FED;&#x4EE3;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x8BC4;&#x4F30;&#x67E5;&#x8BE2;&#xFF1B; N&#x884C;&#x7684;&#x6BCF;&#x4E2A;&#x96C6;&#x5408;&#x90FD;&#x5C06;&#x88AB;&#x6253;&#x5305;&#x5E76;&#x751F;&#x6210;&#x3002;  T0&gt;</number></span><span class="yiyi-st" id="yiyi-555">&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x65F6;&#x8981;&#x683C;&#x5916;&#x5C0F;&#x5FC3;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4E0D;&#x4F1A;&#x5C1D;&#x8BD5;&#x5728;&#x7ED3;&#x679C;&#x6279;&#x5904;&#x7406;&#x8FB9;&#x754C;&#x4E0A;&#x534F;&#x8C03;&#x52A0;&#x8F7D;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x5982;&#x679C;&#x540C;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x51FA;&#x73B0;&#x5728;&#x591A;&#x4E2A;&#x6279;&#x5904;&#x7406;&#x4E2D;&#xFF0C;&#x5B83;&#x7684;&#x884C;&#x4E3A;&#x4E5F;&#x4E0D;&#x4F1A;&#x5F88;&#x597D;&#x3002;</span><span class="yiyi-st" id="yiyi-556">&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x6279;&#x91CF;&#x52A0;&#x8F7D;&#x7684;&#x96C6;&#x5408;&#x5728;&#x591A;&#x4E2A;&#x6279;&#x6B21;&#x4E2D;&#x88AB;&#x5F15;&#x7528;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x5C06;&#x88AB;&#x6E05;&#x9664;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5C5E;&#x6027;&#x5C06;&#x88AB;&#x8986;&#x76D6;&#x5728;&#x591A;&#x4E2A;&#x6279;&#x6B21;&#x4E2D;&#x53D1;&#x751F;&#x7684;&#x5B9E;&#x4F8B;&#x4E0A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b0ea0f39c7d503288cdab2a995ef5b83">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2p3-12"><span class="yiyi-st" id="yiyi-557"><span class="target" id="change-779e1c774fac07bedf9baab019348183"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x96C6;&#x5408;&#x96C6;&#x5408;&#x548C;&#x5173;&#x8054;&#x4EE3;&#x7406;&#x96C6;&#x5408;&#x7684;set in-set&#x96C6;&#x5408;&#x53D8;&#x5F02;&#x64CD;&#x4F5C;&#x7B26;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-779e1c774fac07bedf9baab019348183">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-558">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/920">&#xFF03;920</a></span></p></li></ul></div><div class="section" id="change-0.4.2p3-sql"><h3><span class="yiyi-st" id="yiyi-559">SQL <a class="headerlink" href="#change-0.4.2p3-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.2p3-13"><span class="yiyi-st" id="yiyi-560"><span class="target" id="change-6a9e11d8c0bcdb3037efda66da46f2b0"><strong>[sql] </strong></span>&#x73B0;&#x5728;&#x6B63;&#x786E;&#x5BFC;&#x51FA;&#x6587;&#x672C;&#x7C7B;&#x578B;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x4F1A;&#x5728;DDL&#x521B;&#x5EFA;&#x65F6;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#xFF1B;&#x6CA1;&#x6709;&#x957F;&#x5EA6;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x53EA;&#x4F1A;&#x5728;CREATE TABLE <a class="changeset-link headerlink reference internal" href="#change-6a9e11d8c0bcdb3037efda66da46f2b0">&#xB6;</a>&#x671F;&#x95F4;&#x5F15;&#x53D1;&#x8B66;&#x544A;</span></p><p><span class="yiyi-st" id="yiyi-561">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/912">&#xFF03;912</a></span></p></li><li><p id="change-0.4.2p3-14"><span class="yiyi-st" id="yiyi-562"><span class="target" id="change-52447b5d997e550edaff1460987456ea"><strong>[sql] </strong></span>&#x6DFB;&#x52A0;&#x65B0;&#x7684;UnicodeText&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x6307;&#x5B9A;&#x7F16;&#x7801;&#x7684;&#xFF0C;&#x4E0D;&#x53D8;&#x7684;&#x6587;&#x672C;&#x7C7B;&#x578B;<a class="changeset-link headerlink reference internal" href="#change-52447b5d997e550edaff1460987456ea">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2p3-15"><span class="yiyi-st" id="yiyi-563"><span class="target" id="change-c6e6be84c763b537b8b61ef8374ed8fe"><strong>[sql] </strong></span>fixed bug in union() so that select() statements which don&#x2019;t derive from FromClause objects can be unioned<a class="changeset-link headerlink reference internal" href="#change-c6e6be84c763b537b8b61ef8374ed8fe">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2p3-16"><span class="yiyi-st" id="yiyi-564"><span class="target" id="change-b4c8efafaa4b6fccec8239e9c9d14b0f"><strong>[sql] </strong></span>&#x7531;&#x4E8E;&#x5176;&#x201C;&#x901A;&#x7528;&#x201D;&#x7C7B;&#x578B;&#xFF0C;&#x6240;&#x4EE5;&#x5C06;TEXT&#x7684;&#x540D;&#x79F0;&#x66F4;&#x6539;&#x4E3A;&#x6587;&#x672C;&#xFF1B; TEXT&#x540D;&#x79F0;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#xFF0C;&#x76F4;&#x5230;0.5&#x3002;</span><span class="yiyi-st" id="yiyi-565">&#x6CA1;&#x6709;&#x957F;&#x5EA6;&#x65F6;&#xFF0C;&#x5B57;&#x7B26;&#x4E32;&#x5230;&#x6587;&#x672C;&#x7684;&#x201C;&#x5347;&#x7EA7;&#x201D;&#x884C;&#x4E3A;&#x4E5F;&#x88AB;&#x5F03;&#x7528;&#xFF0C;&#x76F4;&#x5230;0.5&#xFF1B;&#x5C06;&#x5728;&#x7528;&#x4E8E;CREATE TABLE&#x8BED;&#x53E5;&#x65F6;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#xFF08;&#x5BF9;&#x4E8E;SQL&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x6CA1;&#x6709;&#x957F;&#x5EA6;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4ECD;&#x7136;&#x6B63;&#x5E38;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-b4c8efafaa4b6fccec8239e9c9d14b0f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-566">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/912">&#xFF03;912</a></span></p></li><li><p id="change-0.4.2p3-17"><span class="yiyi-st" id="yiyi-567"><span class="target" id="change-11b279a02c641038e4cf01bcf7a3de4c"><strong>[sql] </strong></span>generative select.order_by(None) / group_by(None) was not managing to reset order by/group by criterion, fixed<a class="changeset-link headerlink reference internal" href="#change-11b279a02c641038e4cf01bcf7a3de4c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-568">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/924">&#xFF03;924</a></span></p></li></ul></div><div class="section" id="change-0.4.2p3-misc"><h3><span class="yiyi-st" id="yiyi-569">&#x6742;&#x9879;<a class="headerlink" href="#change-0.4.2p3-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.2p3-18"><span class="yiyi-st" id="yiyi-570"><span class="target" id="change-266d2296f2e6b99bc2514a5fd438deae"><strong>[dialects] </strong></span>&#x56FA;&#x5B9A;&#x53CD;&#x6620;mysql&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x5217;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-266d2296f2e6b99bc2514a5fd438deae">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2p3-19"><span class="yiyi-st" id="yiyi-571"><span class="target" id="change-564eaa28aa3238cb8107b93c413f59d9"><strong>[ext] </strong></span>&apos;+&apos;&#xFF0C;&apos;*&apos;&#xFF0C;&apos;+ =&apos;&#x548C;&apos;* =&apos;&#x652F;&#x6301;&#x5173;&#x8054;&#x4EE3;&#x7406;&#x5217;&#x8868;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-564eaa28aa3238cb8107b93c413f59d9">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2p3-20"><span class="yiyi-st" id="yiyi-572"><span class="target" id="change-88e678f937cdc36ead073631a00ca08b"><strong>[dialects] </strong></span>mssql - narrowed down the test for &#x201C;date&#x201D;/&#x201D;datetime&#x201D; in MSDate/ MSDateTime subclasses so that incoming &#x201C;datetime&#x201D; objects don&#x2019;t get mis-interpreted as &#x201C;date&#x201D; objects and vice versa.<a class="changeset-link headerlink reference internal" href="#change-88e678f937cdc36ead073631a00ca08b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-573">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/923">&#xFF03;923</a></span></p></li><li><p id="change-0.4.2p3-21"><span class="yiyi-st" id="yiyi-574"><span class="target" id="change-3ed94dc039b8b2b50313d99519db04d5"><strong>[dialects] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5BF9;PGArray&#x7C7B;&#x578B;&#x7684;&#x5B50;&#x7C7B;&#x578B;&#x7ED3;&#x679C;&#x5904;&#x7406;&#x5668;&#x7F3A;&#x5C11;&#x7684;&#x8C03;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3ed94dc039b8b2b50313d99519db04d5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-575">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/913">&#xFF03;913</a></span></p></li></ul></div></div><div class="section" id="change-0.4.2"><h2><span class="yiyi-st" id="yiyi-577">0.4.2 <a class="headerlink" href="#change-0.4.2" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-710">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2008&#x5E74;1&#x6708;2&#x65E5;</span><div class="section" id="change-0.4.2-orm"><h3><span class="yiyi-st" id="yiyi-578">ORM <a class="headerlink" href="#change-0.4.2-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.2-0"><span class="yiyi-st" id="yiyi-579"><span class="target" id="change-63f5538d57cbeccd4405271fb765620d"><strong>[orm] </strong></span>&#x5BF9;&#x57FA;&#x4E8E;&#x6536;&#x96C6;&#x7684;backrefs&#x7684;&#x4E3B;&#x8981;&#x884C;&#x4E3A;&#x6539;&#x53D8;&#xFF1A;&#x5B83;&#x4EEC;&#x4E0D;&#x518D;&#x89E6;&#x53D1;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#xFF01;</span><span class="yiyi-st" id="yiyi-580">&#x201C;&#x53CD;&#x5411;&#x201D;&#x6DFB;&#x52A0;&#x548C;&#x5220;&#x9664;&#x5C06;&#x6392;&#x961F;&#x5E76;&#x5728;&#x5B9E;&#x9645;&#x8BFB;&#x53D6;&#x548C;&#x52A0;&#x8F7D;&#x65F6;&#x4E0E;&#x96C6;&#x5408;&#x5408;&#x5E76;&#xFF1B;&#x4F46;&#x4E0D;&#x8981;&#x4E8B;&#x5148;&#x89E6;&#x53D1;&#x8D1F;&#x8F7D;&#x3002;</span><span class="yiyi-st" id="yiyi-581">&#x5BF9;&#x4E8E;&#x5DF2;&#x7ECF;&#x6CE8;&#x610F;&#x5230;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x8FD9;&#x5E94;&#x8BE5;&#x6BD4;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x4F7F;&#x7528;&#x52A8;&#x6001;&#x5173;&#x7CFB;&#x66F4;&#x65B9;&#x4FBF;&#xFF1B;&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x6CA1;&#x6709;&#x7684;&#x4EBA;&#x6765;&#x8BF4;&#xFF0C;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x4F1A;&#x6CE8;&#x610F;&#x5230;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x6BD4;&#x4EE5;&#x524D;&#x5C11;&#x4E86;&#x5F88;&#x591A;&#x67E5;&#x8BE2;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-63f5538d57cbeccd4405271fb765620d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-582">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/871">&#xFF03;871</a></span></p></li><li><p id="change-0.4.2-1"><span class="yiyi-st" id="yiyi-583"><span class="target" id="change-217b4c5e361c5fb21dea6f5061d41edc"><strong>[orm] </strong></span>&#x53EF;&#x53D8;&#x4E3B;&#x952E;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-584">&#x4E3B;&#x952E;&#x5217;&#x53EF;&#x4EE5;&#x81EA;&#x7531;&#x66F4;&#x6539;&#xFF0C;&#x5E76;&#x4E14;&#x5B9E;&#x4F8B;&#x7684;&#x8EAB;&#x4EFD;&#x5C06;&#x5728;&#x5237;&#x65B0;&#x65F6;&#x66F4;&#x6539;&#x3002;</span><span class="yiyi-st" id="yiyi-585">&#x53E6;&#x5916;&#xFF0C;&#x652F;&#x6301;&#x4E0E;&#x5173;&#x7CFB;&#x7684;&#x5916;&#x952E;&#x5F15;&#x7528;&#xFF08;&#x4E3B;&#x952E;&#x6216;&#x4E0D;&#x952E;&#xFF09;&#x66F4;&#x65B0;&#x7EA7;&#x8054;&#xFF0C;&#x6216;&#x8005;&#x4E0E;&#x6570;&#x636E;&#x5E93;&#x7684;ON UPDATE CASCADE&#xFF08;&#x5BF9;&#x4E8E;&#x50CF;Postgres&#x8FD9;&#x6837;&#x7684;DB&#x6240;&#x9700;&#x7684;&#xFF09;&#x6216;&#x7531;UPDATE&#x8BED;&#x53E5;&#x5F62;&#x5F0F;&#x7684;ORM&#x76F4;&#x63A5;&#x53D1;&#x5E03;&#x7684;&#x8BBE;&#x7F6E;&#x6807;&#x5FD7;&#x201C;passive_cascades = False&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-217b4c5e361c5fb21dea6f5061d41edc">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-2"><span class="yiyi-st" id="yiyi-586"><span class="target" id="change-e8ea4a2d69bd572ec6dfb581a1a81bc8"><strong>[orm] </strong></span>inheriting mappers now inherit the MapperExtensions of their parent mapper directly, so that all methods for a particular MapperExtension are called for subclasses as well. </span><span class="yiyi-st" id="yiyi-587">&#x4E0E;&#x5F80;&#x5E38;&#x4E00;&#x6837;&#xFF0C;&#x4EFB;&#x4F55;MapperExtension&#x90FD;&#x53EF;&#x4EE5;&#x8FD4;&#x56DE;EXT_CONTINUE&#x4EE5;&#x7EE7;&#x7EED;&#x6269;&#x5C55;&#x5904;&#x7406;&#xFF0C;&#x6216;&#x8005;&#x8FD4;&#x56DE;EXT_STOP&#x4EE5;&#x505C;&#x6B62;&#x5904;&#x7406;&#x3002;</span><span class="yiyi-st" id="yiyi-588">The order of mapper resolution is: <extensions declared="" on="" the="" classes="" mapper=""> <extensions declared="" on="" the="" classes’="" parent="" mapper=""> <globally declared="" extensions="">.</globally></extensions></extensions></span></p><p><span class="yiyi-st" id="yiyi-589">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x5206;&#x522B;&#x5B9E;&#x4F8B;&#x5316;&#x76F8;&#x540C;&#x7684;&#x6269;&#x5C55;&#x7C7B;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x5176;&#x5355;&#x72EC;&#x5E94;&#x7528;&#x4E8E;&#x540C;&#x4E00;&#x7EE7;&#x627F;&#x94FE;&#x4E2D;&#x7684;&#x4E24;&#x4E2A;&#x6620;&#x5C04;&#x5668;&#xFF0C;&#x5219;&#x8BE5;&#x6269;&#x5C55;&#x5C06;&#x5E94;&#x7528;&#x4E24;&#x6B21;&#x5230;&#x7EE7;&#x627F;&#x7C7B;&#xFF0C;&#x5E76;&#x4E14;&#x6BCF;&#x4E2A;&#x65B9;&#x6CD5;&#x5C06;&#x88AB;&#x8C03;&#x7528;&#x4E24;&#x6B21;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-590">&#x8981;&#x5C06;&#x6620;&#x5C04;&#x5668;&#x6269;&#x5C55;&#x663E;&#x5F0F;&#x5E94;&#x7528;&#x4E8E;&#x6BCF;&#x4E2A;&#x7EE7;&#x627F;&#x7C7B;&#xFF0C;&#x4F46;&#x6BCF;&#x4E2A;&#x64CD;&#x4F5C;&#x53EA;&#x8C03;&#x7528;&#x4E00;&#x6B21;&#x6BCF;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x8BF7;&#x4E3A;&#x4E24;&#x4E2A;&#x6620;&#x5C04;&#x5668;&#x4F7F;&#x7528;&#x6269;&#x5C55;&#x7684;&#x76F8;&#x540C;&#x5B9E;&#x4F8B;&#x3002;</span></p><span class="yiyi-st" id="yiyi-592"> <a class="changeset-link headerlink reference internal" href="#change-e8ea4a2d69bd572ec6dfb581a1a81bc8">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-591">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/490">&#xFF03;490</a></span></p></li><li><p id="change-0.4.2-3"><span class="yiyi-st" id="yiyi-593"><span class="target" id="change-32b5c8ae4f1ba4eae88b6d041b12a29d"><strong>[orm] </strong></span>MapperExtension.before_update() and after_update() are now called symmetrically; previously, an instance that had no modified column attributes (but had a relation() modification) could be called with before_update() but not after_update()<a class="changeset-link headerlink reference internal" href="#change-32b5c8ae4f1ba4eae88b6d041b12a29d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-594">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/907">&#xFF03;907</a></span></p></li><li><p id="change-0.4.2-4"><span class="yiyi-st" id="yiyi-595"><span class="target" id="change-27b98340e4e7bca99aa258a02c0b8f4c"><strong>[orm] </strong></span>&#x5728;Query&#x7684;select&#x8BED;&#x53E5;&#x4E2D;&#x4E22;&#x5931;&#x7684;&#x5217;&#x73B0;&#x5728;&#x5728;&#x52A0;&#x8F7D;&#x671F;&#x95F4;&#x81EA;&#x52A8;&#x5EF6;&#x8FDF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-27b98340e4e7bca99aa258a02c0b8f4c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-5"><span class="yiyi-st" id="yiyi-596"><span class="target" id="change-63184f50e7524cf31995dceb7eba804c"><strong>[orm] </strong></span>mapped classes which extend &#x201C;object&#x201D; and do not provide an __init__() method will now raise TypeError if non-empty *args or **kwargs are present at instance construction time (and are not consumed by any extensions such as the scoped_session mapper), consistent with the behavior of normal Python classes<a class="changeset-link headerlink reference internal" href="#change-63184f50e7524cf31995dceb7eba804c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-597">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/908">&#xFF03;908</a></span></p></li><li><p id="change-0.4.2-6"><span class="yiyi-st" id="yiyi-598"><span class="target" id="change-e0d48778c2223c5f35f8ee0a6f6241f4"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;filter_by()&#x4E0E;None&#x65E0;&#x5173;&#x7684;&#x67E5;&#x8BE2;&#x9519;&#x8BEF;<a class="changeset-link headerlink reference internal" href="#change-e0d48778c2223c5f35f8ee0a6f6241f4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-599">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/899">&#xFF03;899</a></span></p></li><li><p id="change-0.4.2-7"><span class="yiyi-st" id="yiyi-600"><span class="target" id="change-4790b003fa9887f231b4dab765719240"><strong>[orm] </strong></span>improved support for pickling of mapped entities. </span><span class="yiyi-st" id="yiyi-601">&#x6BCF;&#x4E2A;&#x5B9E;&#x4F8B;&#x7684;lazy / deferred / expired&#x53EF;&#x8C03;&#x53C2;&#x6570;&#x73B0;&#x5728;&#x90FD;&#x662F;&#x53EF;&#x5E8F;&#x5217;&#x5316;&#x7684;&#xFF0C;&#x4EE5;&#x4FBF;&#x5B83;&#x4EEC;&#x4F7F;&#x7528;_state&#x8FDB;&#x884C;&#x5E8F;&#x5217;&#x5316;&#x548C;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4790b003fa9887f231b4dab765719240">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-8"><span class="yiyi-st" id="yiyi-602"><span class="target" id="change-9d03199c53171e51a07d7087bbc50381"><strong>[orm] </strong></span>new synonym() behavior: an attribute will be placed on the mapped class, if one does not exist already, in all cases. </span><span class="yiyi-st" id="yiyi-603">&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x5C5E;&#x6027;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x4E8E;&#x8BE5;&#x7C7B;&#x4E2D;&#xFF0C;&#x5219;&#x540C;&#x4E49;&#x8BCD;&#x5C06;&#x4F7F;&#x7528;&#x9002;&#x5F53;&#x7684;&#x6BD4;&#x8F83;&#x8FD0;&#x7B97;&#x7B26;&#x4FEE;&#x9970;&#x8BE5;&#x5C5E;&#x6027;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E0E;&#x5217;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x6620;&#x5C04;&#x5C5E;&#x6027;&#x4E00;&#x6837;&#x4F7F;&#x7528;&#x8BE5;&#x5C5E;&#x6027;&#xFF08;&#x5373;&#x53EF;&#x7528;&#x4E8E;filter()&#x7B49;&#xFF09;</span><span class="yiyi-st" id="yiyi-604">&#x201C;&#x4EE3;&#x7406;=&#x771F;&#x201D;&#x6807;&#x5FD7;&#x88AB;&#x5F03;&#x7528;&#xFF0C;&#x4E0D;&#x518D;&#x610F;&#x5473;&#x7740;&#x4EFB;&#x4F55;&#x4E1C;&#x897F;&#x3002;</span><span class="yiyi-st" id="yiyi-605">&#x6B64;&#x5916;&#xFF0C;&#x6807;&#x5FD7;&#x201C;map_column = True&#x201D;&#x5C06;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x4E0E;&#x540C;&#x4E49;&#x8BCD;&#x540D;&#x79F0;&#x5BF9;&#x5E94;&#x7684;ColumnProperty&#xFF0C;&#x5373;&#xFF1A;&apos;somename&apos;&#xFF1A;synonym&#xFF08;&apos;_ somename&apos;&#xFF0C;map_column = True&#xFF09;&#x5C06;&#x540D;&#x4E3A;&apos;somename&apos;&#x7684;&#x5217;&#x6620;&#x5C04;&#x5230;&#x5C5E;&#x6027;&apos; _somename&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-606">&#x8BF7;&#x53C2;&#x9605;&#x6620;&#x5C04;&#x5668;&#x6587;&#x6863;&#x4E2D;&#x7684;&#x793A;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9d03199c53171e51a07d7087bbc50381">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-607">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/801">&#xFF03;801</a></span></p></li><li><p id="change-0.4.2-9"><span class="yiyi-st" id="yiyi-608"><span class="target" id="change-784457e85ca18f636410e38e12185882"><strong>[orm] </strong></span> Query.select_from()&#x73B0;&#x5728;&#x7528;&#x7ED9;&#x5B9A;&#x7684;&#x53C2;&#x6570;&#x66FF;&#x6362;&#x6240;&#x6709;&#x73B0;&#x6709;&#x7684;FROM&#x6807;&#x51C6;&#xFF1B;&#x4E4B;&#x524D;&#x6784;&#x9020;FROM&#x5B50;&#x53E5;&#x5217;&#x8868;&#x7684;&#x884C;&#x4E3A;&#x901A;&#x5E38;&#x4E0D;&#x662F;&#x6709;&#x7528;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x9700;&#x8981;filter()&#x8C03;&#x7528;&#x6765;&#x521B;&#x5EFA;&#x8FDE;&#x63A5;&#x6807;&#x51C6;&#xFF0C;&#x5E76;&#x4E14;filter()&#x4E2D;&#x5F15;&#x5165;&#x7684;&#x65B0;&#x8868;&#x5DF2;&#x5C06;&#x81EA;&#x5DF1;&#x6DFB;&#x52A0;&#x5230;FROM&#x5B50;&#x53E5;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-609">&#x65B0;&#x884C;&#x4E3A;&#x4E0D;&#x4EC5;&#x5141;&#x8BB8;&#x4ECE;&#x4E3B;&#x8868;&#x8FDE;&#x63A5;&#xFF0C;&#x8FD8;&#x5141;&#x8BB8;&#x9009;&#x62E9;&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-610">&#x8FC7;&#x6EE4;&#x6807;&#x51C6;&#xFF0C;&#x987A;&#x5E8F;bys&#xFF0C;&#x9884;&#x5148;&#x52A0;&#x8F7D;&#x5B50;&#x53E5;&#x5C06;&#x88AB;&#x201C;&#x522B;&#x540D;&#x201D;&#x4E3A;&#x7ED9;&#x5B9A;&#x8BED;&#x53E5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-784457e85ca18f636410e38e12185882">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-10"><span class="yiyi-st" id="yiyi-611"><span class="target" id="change-3a785137de08700b2cd2a32fba4f0a05"><strong>[orm] </strong></span>this month&#x2019;s refactoring of attribute instrumentation changes the &#x201C;copy-on-load&#x201D; behavior we&#x2019;ve had since midway through 0.3 with &#x201C;copy-on-modify&#x201D; in most cases. </span><span class="yiyi-st" id="yiyi-612">&#x8FD9;&#x9700;&#x8981;&#x5927;&#x91CF;&#x7684;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x64CD;&#x4F5C;&#xFF0C;&#x603B;&#x4F53;&#x4E0A;&#x5DE5;&#x4F5C;&#x91CF;&#x66F4;&#x5C11;&#xFF0C;&#x56E0;&#x4E3A;&#x53EA;&#x6709;&#x5B9E;&#x9645;&#x4FEE;&#x6539;&#x7684;&#x5C5E;&#x6027;&#x624D;&#x80FD;&#x590D;&#x5236;&#x5176;&#x201C;&#x5DF2;&#x63D0;&#x4EA4;&#x72B6;&#x6001;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-613">&#x53EA;&#x6709;&#x201C;&#x53EF;&#x53D8;&#x6807;&#x91CF;&#x201D;&#x5C5E;&#x6027;&#xFF08;&#x5373;&#x814C;&#x6E0D;&#x5BF9;&#x8C61;&#x6216;&#x5176;&#x4ED6;&#x53EF;&#x53D8;&#x9879;&#x76EE;&#xFF09;&#xFF08;&#x9996;&#x5148;&#x662F;&#x52A0;&#x8F7D;&#x62F7;&#x8D1D;&#x6539;&#x53D8;&#x7684;&#x539F;&#x56E0;&#xFF09;&#x624D;&#x4FDD;&#x7559;&#x65E7;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3a785137de08700b2cd2a32fba4f0a05">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-11"><span class="yiyi-st" id="yiyi-614"><span class="target" id="change-b5fb4c5dc6e51819e3330abdfa847cd0"><strong>[orm] [attrname] </strong></span>&#x5C5E;&#x6027;&#x7684;&#x8F7B;&#x5FAE;&#x884C;&#x4E3A;&#x6539;&#x53D8;&#x662F;&#xFF0C;&#x9664;&#x4E86;<em>not</em>&#x5C5E;&#x6027;&#x5916;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x8BE5;&#x5C5E;&#x6027;&#x7684;lazyloader&#x518D;&#x6B21;&#x89E6;&#x53D1;&#xFF1B; &#x201C;del&#x201D;&#x4F7F;&#x5C5E;&#x6027;&#x201C;&#x65E0;&#x201D;&#x7684;&#x6709;&#x6548;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-615">&#x8981;&#x91CD;&#x65B0;&#x89E6;&#x53D1;&#x5C5E;&#x6027;&#x7684;&#x201C;&#x52A0;&#x8F7D;&#x5668;&#x201D;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;session.expire&#xFF08;instance&#xFF0C;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b5fb4c5dc6e51819e3330abdfa847cd0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-12"><span class="yiyi-st" id="yiyi-616"><span class="target" id="change-2a465341874590d5feb725a00240b735"><strong>[orm] </strong></span>query.filter(SomeClass.somechild == None), when comparing a many-to-one property to None, properly generates &#x201C;id IS NULL&#x201D; including that the NULL is on the right side.<a class="changeset-link headerlink reference internal" href="#change-2a465341874590d5feb725a00240b735">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-13"><span class="yiyi-st" id="yiyi-617"><span class="target" id="change-3e8fd64d48f2bbde6c0011dd994f32cb"><strong>[orm] </strong></span>query.order_by() takes into account aliased joins, i.e. query.join(&#x2018;orders&#x2019;, aliased=True).order_by(Order.id)<a class="changeset-link headerlink reference internal" href="#change-3e8fd64d48f2bbde6c0011dd994f32cb">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-14"><span class="yiyi-st" id="yiyi-618"><span class="target" id="change-e0a2026f22b806fae3b51161f90eb4aa"><strong>[orm] </strong></span>eagerload(), lazyload(), eagerload_all() take an optional second class-or-mapper argument, which will select the mapper to apply the option towards. </span><span class="yiyi-st" id="yiyi-619">&#x8FD9;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x4F7F;&#x7528;add_entity()&#x6DFB;&#x52A0;&#x7684;&#x5176;&#x4ED6;&#x6620;&#x5C04;&#x5668;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e0a2026f22b806fae3b51161f90eb4aa">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-15"><span class="yiyi-st" id="yiyi-620"><span class="target" id="change-330cf46efeb1b16709defe4dc85891b0"><strong>[orm] </strong></span> eagerloading&#x53EF;&#x4EE5;&#x901A;&#x8FC7;add_entity()&#x6DFB;&#x52A0;&#x6620;&#x5C04;&#x5668;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-330cf46efeb1b16709defe4dc85891b0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-16"><span class="yiyi-st" id="yiyi-621"><span class="target" id="change-3e54b894ee7ef3856d24b7831a0b878e"><strong>[orm] </strong></span>&#x5C06;&#x201C;&#x7EA7;&#x8054;&#x5220;&#x9664;&#x201D;&#x884C;&#x4E3A;&#x6DFB;&#x52A0;&#x5230;&#x201C;&#x52A8;&#x6001;&#x201D;&#x5173;&#x7CFB;&#x4E2D;&#xFF0C;&#x5C31;&#x50CF;&#x6B63;&#x5E38;&#x5173;&#x7CFB;&#x4E00;&#x6837;&#x3002;</span><span class="yiyi-st" id="yiyi-622">&#x5982;&#x679C;passive_deletes&#x6807;&#x5FD7;&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#x521A;&#x521A;&#x6DFB;&#x52A0;&#x7684;&#xFF09;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#xFF0C;&#x5219;&#x7236;&#x9879;&#x7684;&#x5220;&#x9664;&#x5C06;&#x89E6;&#x53D1;&#x5B50;&#x9879;&#x7684;&#x5168;&#x90E8;&#x52A0;&#x8F7D;&#xFF0C;&#x4EE5;&#x4FBF;&#x53EF;&#x4EE5;&#x76F8;&#x5E94;&#x5730;&#x5220;&#x9664;&#x6216;&#x66F4;&#x65B0;&#x5B83;&#x4EEC;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3e54b894ee7ef3856d24b7831a0b878e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-17"><span class="yiyi-st" id="yiyi-623"><span class="target" id="change-c1b93949b70a2298405d46cc8d9e165c"><strong>[orm] </strong></span>&#x8FD8;&#x5305;&#x542B;&#x52A8;&#x6001;&#x7684;&#xFF0C;&#x5B9E;&#x73B0;&#x7684;&#x6B63;&#x786E;&#x7684;count()&#x884C;&#x4E3A;&#x4EE5;&#x53CA;&#x5176;&#x4ED6;&#x8F85;&#x52A9;&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c1b93949b70a2298405d46cc8d9e165c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-18"><span class="yiyi-st" id="yiyi-624"><span class="target" id="change-6d7297ea5825ce8f0a6afbfd061aeb45"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x591A;&#x6001;&#x5173;&#x7CFB;&#x4E2D;&#x7684;&#x7EA7;&#x8054;&#xFF0C;&#x4F7F;&#x5F97;&#x4ECE;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5230;&#x591A;&#x6001;&#x96C6;&#x5408;&#x7684;&#x7EA7;&#x8054;&#x6CBF;&#x7740;&#x96C6;&#x5408;&#x4E2D;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x6240;&#x7279;&#x6709;&#x7684;&#x5C5E;&#x6027;&#x96C6;&#x7EE7;&#x7EED;&#x7EA7;&#x8054;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6d7297ea5825ce8f0a6afbfd061aeb45">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-19"><span class="yiyi-st" id="yiyi-625"><span class="target" id="change-a8ef939d2a84ff9c730c84834a7362d0"><strong>[orm] </strong></span>query.get() and query.load() do not take existing filter or other criterion into account; these methods <em>always</em> look up the given id in the database or return the current instance from the identity map, disregarding any existing filter, join, group_by or other criterion which has been configured.<a class="changeset-link headerlink reference internal" href="#change-a8ef939d2a84ff9c730c84834a7362d0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-626">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/893">&#xFF03;893</a></span></p></li><li><p id="change-0.4.2-20"><span class="yiyi-st" id="yiyi-627"><span class="target" id="change-6bde88eab909a760935eadb9a4ede0f1"><strong>[orm] </strong></span>&#x4E0E;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668;&#x4E00;&#x8D77;&#x589E;&#x52A0;&#x4E86;&#x5BF9;version_id_col&#x7684;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-628">version_id_col&#x901A;&#x5E38;&#x5728;&#x7EE7;&#x627F;&#x5173;&#x7CFB;&#x4E2D;&#x8BBE;&#x7F6E;&#x5728;&#x57FA;&#x672C;&#x6620;&#x5C04;&#x5668;&#x4E0A;&#xFF0C;&#x5BF9;&#x6240;&#x6709;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668;&#x90FD;&#x6709;&#x6548;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6bde88eab909a760935eadb9a4ede0f1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-629">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/883">&#xFF03;883</a></span></p></li><li><p id="change-0.4.2-21"><span class="yiyi-st" id="yiyi-630"><span class="target" id="change-eafb815c0a21fff7306edd70ede3f73f"><strong>[orm] </strong></span>&#x653E;&#x5BBD;&#x4E86;&#x5177;&#x6709;&#x6807;&#x7B7E;&#x7684;column_property()&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x89C4;&#x5219;&#xFF1B;&#x73B0;&#x5728;&#x63A5;&#x53D7;&#x4EFB;&#x4F55;ColumnElement&#xFF0C;&#x56E0;&#x4E3A;&#x7F16;&#x8BD1;&#x5668;&#x73B0;&#x5728;&#x4F1A;&#x81EA;&#x52A8;&#x6807;&#x8BB0;&#x672A;&#x6807;&#x8BB0;&#x7684;ColumnElement&#x3002;</span><span class="yiyi-st" id="yiyi-631">&#x50CF;select()&#x8BED;&#x53E5;&#x90A3;&#x6837;&#xFF0C;selectable&#x4ECD;&#x7136;&#x9700;&#x8981;&#x901A;&#x8FC7;as_scalar()&#x6216;label()&#x6765;&#x8F6C;&#x6362;&#x4E3A;ColumnElement&#x3002;<a class="changeset-link headerlink reference internal" href="#change-eafb815c0a21fff7306edd70ede3f73f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-22"><span class="yiyi-st" id="yiyi-632"><span class="target" id="change-0d02bce2307e213d0540d00aa850c909"><strong>[orm] </strong></span>&#x56FA;&#x5B9A;&#x7684;backref bug&#x5982;&#x679C;attr&#x662F;None&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x4E0D;&#x80FD;&#x5220;&#x9664;instance.attr <a class="changeset-link headerlink reference internal" href="#change-0d02bce2307e213d0540d00aa850c909">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-23"><span class="yiyi-st" id="yiyi-633"><span class="target" id="change-8a557aa11c6f764820c17470e54658ce"><strong>[orm] </strong></span>several ORM attributes have been removed or made private: mapper.get_attr_by_column(), mapper.set_attr_by_column(), mapper.pks_by_table, mapper.cascade_callable(), MapperProperty.cascade_callable(), mapper.canload(), mapper.save_obj(), mapper.delete_obj(), mapper._mapper_registry, attributes.AttributeManager<a class="changeset-link headerlink reference internal" href="#change-8a557aa11c6f764820c17470e54658ce">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-24"><span class="yiyi-st" id="yiyi-634"><span class="target" id="change-92cef2776421e3d2d6177bee48214fac"><strong>[orm] </strong></span>&#x4E3A;&#x5173;&#x7CFB;&#x5C5E;&#x6027;&#x5206;&#x914D;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x96C6;&#x5408;&#x7C7B;&#x578B;&#x73B0;&#x5728;&#x5F15;&#x53D1;TypeError&#x800C;&#x4E0D;&#x662F;sqlalchemy&#x7684;ArgumentError <a class="changeset-link headerlink reference internal" href="#change-92cef2776421e3d2d6177bee48214fac">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-25"><span class="yiyi-st" id="yiyi-635"><span class="target" id="change-df17f2469a0bb5f1a22d42fc865f73a4"><strong>[orm] </strong></span>&#x5982;&#x679C;&#x4F20;&#x5165;&#x5B57;&#x5178;&#x4E2D;&#x7684;&#x5BC6;&#x94A5;&#x4E0E;&#x96C6;&#x5408;&#x7684;keyfunc&#x5C06;&#x7528;&#x4E8E;&#x8BE5;&#x503C;&#x7684;&#x5BC6;&#x94A5;&#x4E0D;&#x5339;&#x914D;&#xFF0C;&#x5219;MappedCollection&#x7684;&#x6279;&#x91CF;&#x5206;&#x914D;&#x73B0;&#x5728;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-df17f2469a0bb5f1a22d42fc865f73a4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-636">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/886">&#xFF03;886</a></span></p></li><li><p id="change-0.4.2-26"><span class="yiyi-st" id="yiyi-637"><span class="target" id="change-228dca0bafaa198350cfc39cb6561e8c"><strong>[orm] [newval2] [newval1] </strong></span>Custom collections can now specify a @converter method to translate objects used in &#x201C;bulk&#x201D; assignment into a stream of values, as in:</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>obj.col =
# or
obj.dictcol = {&apos;foo&apos;: newval1, &apos;bar&apos;: newval2}</pre></div></div><p><span class="yiyi-st" id="yiyi-638">MappedCollection&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x6765;&#x786E;&#x4FDD;&#x4ECE;&#x96C6;&#x5408;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#x4F20;&#x5165;&#x7684;&#x952E;/&#x503C;&#x5BF9;&#x662F;&#x5408;&#x7406;&#x7684;&#x3002;</span></p><span class="yiyi-st" id="yiyi-639"> <a class="changeset-link headerlink reference internal" href="#change-228dca0bafaa198350cfc39cb6561e8c">&#xB6;</a></span><p></p></li><li><p id="change-0.4.2-27"><span class="yiyi-st" id="yiyi-640"><span class="target" id="change-abc2dcd6fd504baa411c4ede8eda7189"><strong>[orm] </strong></span>&#x5728;&#x53CC;&#x5411;&#x5173;&#x7CFB;&#x7684;&#x4E24;&#x4FA7;&#x4F7F;&#x7528;lazy =&#x201C;dynamic&#x201D;&#x65F6;&#x4FEE;&#x590D;&#x4E86;&#x65E0;&#x9650;&#x5FAA;&#x73AF;&#x95EE;&#x9898;<a class="changeset-link headerlink reference internal" href="#change-abc2dcd6fd504baa411c4ede8eda7189">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-641">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/872">&#xFF03;872</a></span></p></li><li><p id="change-0.4.2-28"><span class="yiyi-st" id="yiyi-642"><span class="target" id="change-5d359376de51a0ecf63071076057725e"><strong>[orm] </strong></span>&#x66F4;&#x591A;&#x4FEE;&#x6B63;&#x4E86;&#x5E94;&#x7528;Query + eagerloads&#x7684;LIMIT / OFFSET&#x522B;&#x540D;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6620;&#x5C04;&#x5230;select&#x8BED;&#x53E5;<a class="changeset-link headerlink reference internal" href="#change-5d359376de51a0ecf63071076057725e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-643">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/904">&#xFF03;904</a></span></p></li><li><p id="change-0.4.2-29"><span class="yiyi-st" id="yiyi-644"><span class="target" id="change-6705a0a328a243a3c879e94a69346ca4"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x81EA;&#x5F15;&#x7528;&#x9884;&#x52A0;&#x8F7D;&#xFF0C;&#x4EE5;&#x4FBF;&#x5982;&#x679C;&#x540C;&#x4E00;&#x4E2A;&#x6620;&#x5C04;&#x5B9E;&#x4F8B;&#x51FA;&#x73B0;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;&#x4E2D;&#x7684;&#x4E24;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x5217;&#x96C6;&#x4E2D;&#xFF0C;&#x5219;&#x65E0;&#x8BBA;&#x662F;&#x5E76;&#x975E;&#x6240;&#x6709;&#x884C;&#x90FD;&#x5305;&#x542B;&#x8BE5;&#x96C6;&#x5408;&#x7684;&#x4E00;&#x7EC4;&#x201C;&#x70ED;&#x5207;&#x201D;&#x5217;&#x3002;</span><span class="yiyi-st" id="yiyi-645">&#x5F53;&#x5728;join_depth&#x6253;&#x5F00;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x83B7;&#x53D6;&#x7ED3;&#x679C;&#x65F6;&#xFF0C;&#x8FD9;&#x4E5F;&#x4F1A;&#x663E;&#x793A;&#x4E3A;KeyError&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6705a0a328a243a3c879e94a69346ca4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-30"><span class="yiyi-st" id="yiyi-646"><span class="target" id="change-8ce8cb627bff40401582485251bd4caf"><strong>[orm] </strong></span>&#x56FA;&#x5B9A;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x5176;&#x4E2D;&#x5F53;LIMIT&#x4E0E;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;Query&#x4E0D;&#x4F1A;&#x5C06;&#x5B50;&#x67E5;&#x8BE2;&#x5E94;&#x7528;&#x4E8E;SQL&#xFF0C;&#x5176;&#x4E2D;&#x53EA;&#x6709;&#x5728;&#x7236;&#x6620;&#x5C04;&#x5668;&#x4E2D;&#x624D;&#x6709;&#x52A0;&#x8F7D;&#x5668;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8ce8cb627bff40401582485251bd4caf">&#xB6; t2 &gt;</a></span></p><p></p></li><li><p id="change-0.4.2-31"><span class="yiyi-st" id="yiyi-647"><span class="target" id="change-a583ca54c9f72d5e381ee158389cc17b"><strong>[orm] </strong></span>&#x6F84;&#x6E05;&#x4E86;&#x5F53;&#x60A8;&#x5C1D;&#x8BD5;&#x66F4;&#x65B0;()&#x5177;&#x6709;&#x4E0E;&#x4F1A;&#x8BDD;&#x4E2D;&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x5B9E;&#x4F8B;&#x76F8;&#x540C;&#x7684;&#x8EAB;&#x4EFD;&#x5173;&#x952E;&#x5B57;&#x7684;&#x5B9E;&#x4F8B;&#x65F6;&#x53D1;&#x751F;&#x7684;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a583ca54c9f72d5e381ee158389cc17b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-32"><span class="yiyi-st" id="yiyi-648"><span class="target" id="change-765a4998bb1fb50421b5910813efbcc2"><strong>[orm] </strong></span>&#x4E00;&#x4E9B;&#x6F84;&#x6E05;&#x548C;&#x4FEE;&#x590D;&#x5408;&#x5E76;&#xFF08;&#x5B9E;&#x4F8B;&#xFF0C;dont_load = True&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-649">&#x4FEE;&#x590D;&#x4E86;&#x61D2;&#x60F0;&#x52A0;&#x8F7D;&#x7A0B;&#x5E8F;&#x5728;&#x8FD4;&#x56DE;&#x7684;&#x5B9E;&#x4F8B;&#x4E0A;&#x88AB;&#x7981;&#x7528;&#x7684;&#x95EE;&#x9898;&#x3002;</span><span class="yiyi-st" id="yiyi-650">&#x6B64;&#x5916;&#xFF0C;&#x6211;&#x4EEC;&#x76EE;&#x524D;&#x4E0D;&#x652F;&#x6301;&#x5408;&#x5E76;&#x5176;&#x4E2D;&#x672A;&#x63D0;&#x4EA4;&#x66F4;&#x6539;&#x7684;&#x5B9E;&#x4F8B;&#xFF0C;&#x5728;&#x4F7F;&#x7528;dont_load = True&#x7684;&#x60C5;&#x51B5;&#x4E0B;....&#x73B0;&#x5728;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-651">&#x8FD9;&#x662F;&#x7531;&#x4E8E;&#x5408;&#x5E76;&#x7ED9;&#x5B9A;&#x5B9E;&#x4F8B;&#x7684;&#x201C;&#x5DF2;&#x63D0;&#x4EA4;&#x72B6;&#x6001;&#x201D;&#x4EE5;&#x6B63;&#x786E;&#x5BF9;&#x5E94;&#x4E8E;&#x65B0;&#x590D;&#x5236;&#x7684;&#x5B9E;&#x4F8B;&#x4EE5;&#x53CA;&#x5176;&#x4ED6;&#x5DF2;&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x7684;&#x590D;&#x6742;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-652">&#x7531;&#x4E8E;dont_load = True&#x7684;&#x7528;&#x4F8B;&#x662F;&#x7F13;&#x5B58;&#xFF0C;&#x56E0;&#x6B64;&#x7ED9;&#x5B9A;&#x7684;&#x5B9E;&#x4F8B;&#x65E0;&#x8BBA;&#x5982;&#x4F55;&#x4E0D;&#x5E94;&#x6709;&#x4EFB;&#x4F55;&#x672A;&#x63D0;&#x4EA4;&#x7684;&#x66F4;&#x6539;&#x3002;</span><span class="yiyi-st" id="yiyi-653">&#x6211;&#x4EEC;&#x4E5F;&#x590D;&#x5236;&#x5B9E;&#x4F8B;&#x800C;&#x4E0D;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x4E8B;&#x4EF6;&#xFF0C;&#x8FD9;&#x6837;&#x65B0;&#x4F1A;&#x8BDD;&#x4E0A;&#x7684;&apos;dirty&apos;&#x5217;&#x8868;&#x5C31;&#x4E0D;&#x53D7;&#x5F71;&#x54CD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-765a4998bb1fb50421b5910813efbcc2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-33"><span class="yiyi-st" id="yiyi-654"><span class="target" id="change-ea7de496771c635bee87d7670889f0ee"><strong>[orm] </strong></span>fixed bug which could arise when using session.begin_nested() in conjunction with more than one level deep of enclosing session.begin() statements<a class="changeset-link headerlink reference internal" href="#change-ea7de496771c635bee87d7670889f0ee">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-34"><span class="yiyi-st" id="yiyi-655"><span class="target" id="change-688cfda7b6b1b358dcef128e1f80b4bb"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;session.refresh()&#x4E0E;&#x5B9E;&#x4F8B;&#x5177;&#x6709;&#x81EA;&#x5B9A;&#x4E49;entity_name <a class="changeset-link headerlink reference internal" href="#change-688cfda7b6b1b358dcef128e1f80b4bb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-656">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/914">&#xFF03;914</a></span></p></li></ul></div><div class="section" id="change-0.4.2-sql"><h3><span class="yiyi-st" id="yiyi-657">SQL <a class="headerlink" href="#change-0.4.2-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.2-35"><span class="yiyi-st" id="yiyi-658"><span class="target" id="change-f840d15646468f91261fb9f4f827c464"><strong>[sql] </strong></span>&#x901A;&#x7528;&#x529F;&#x80FD;&#xFF01;</span><span class="yiyi-st" id="yiyi-659">&#x6211;&#x4EEC;&#x5F15;&#x5165;&#x4E00;&#x4E2A;&#x5DF2;&#x77E5;SQL&#x51FD;&#x6570;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4F8B;&#x5982;current_timestamp&#xFF0C;coalesce&#xFF0C;&#x5E76;&#x521B;&#x5EFA;&#x8868;&#x793A;&#x5B83;&#x4EEC;&#x7684;&#x663E;&#x5F0F;&#x51FD;&#x6570;&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-660">&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x5177;&#x6709;&#x53D7;&#x7EA6;&#x675F;&#x7684;&#x53C2;&#x6570;&#x5217;&#x8868;&#xFF0C;&#x53EF;&#x8BC6;&#x522B;&#x7C7B;&#x578B;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x7279;&#x5B9A;&#x4E8E;&#x65B9;&#x8A00;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x7F16;&#x8BD1;&#x3002;</span><span class="yiyi-st" id="yiyi-661">&#x6240;&#x4EE5;&#x8BF4;func.char_length&#xFF08;&#x201C;foo&#x201D;&#xFF0C;&#x201C;bar&#x201D;&#xFF09;&#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#xFF08;&#x592A;&#x591A;&#x7684;&#x53C2;&#x6570;&#xFF09;&#xFF0C;func.coalesce&#xFF08;datetime.date&#xFF08;2007,10,5&#xFF09;&#xFF0C;datetime.date&#xFF08;2005,10,15&#xFF09;&#xFF09;&#x77E5;&#x9053;&#x5B83;&#x7684;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x662F;Date&#x3002;</span><span class="yiyi-st" id="yiyi-662">&#x6211;&#x4EEC;&#x76EE;&#x524D;&#x53EA;&#x6709;&#x51E0;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x4F46;&#x4F1A;&#x7EE7;&#x7EED;&#x6DFB;&#x52A0;&#x5230;&#x7CFB;&#x7EDF;<a class="changeset-link headerlink reference internal" href="#change-f840d15646468f91261fb9f4f827c464">&#xB6;</a>&#x4E2D;</span></p><p><span class="yiyi-st" id="yiyi-663">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/615">&#xFF03;615</a></span></p></li><li><p id="change-0.4.2-36"><span class="yiyi-st" id="yiyi-664"><span class="target" id="change-50091a15ff9c9366b36b0868152e0df2"><strong>[sql] </strong></span>auto-reconnect support improved; a Connection can now automatically reconnect after its underlying connection is invalidated, without needing to connect() again from the engine. </span><span class="yiyi-st" id="yiyi-665">&#x8FD9;&#x5141;&#x8BB8;&#x7ED1;&#x5B9A;&#x5230;&#x5355;&#x4E2A;&#x8FDE;&#x63A5;&#x7684;ORM&#x4F1A;&#x8BDD;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x8FDE;&#x63A5;&#x3002;</span><span class="yiyi-st" id="yiyi-666">&#x5728;&#x8FDE;&#x63A5;&#x5931;&#x6548;&#x540E;&#xFF0C;&#x5FC5;&#x987B;&#x56DE;&#x6EDA;&#x8FDE;&#x63A5;&#x4E0A;&#x7684;&#x6253;&#x5F00;&#x4E8B;&#x52A1;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-667">&#x8FD8;&#x4FEE;&#x590D;&#x4E86;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x68C0;&#x6D4B;&#x672A;&#x88AB;&#x8C03;&#x7528;cursor()&#xFF0C;rollback()&#x6216;commit()&#x7684;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-50091a15ff9c9366b36b0868152e0df2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-37"><span class="yiyi-st" id="yiyi-668"><span class="target" id="change-4abfbfe6bea22beedb689afde26eee55"><strong>[sql] </strong></span>&#x4E3A;String&#x548C;create_engine()&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x6807;&#x5FD7;&#xFF0C;assert_unicode =&#xFF08;True | False |&apos;warn&apos;| None&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-669">&#x5BF9;&#x4E8E;Unicode&#x7C7B;&#x578B;&#x7684;create_engine()&#x548C;String&#xFF0C;<cite>&apos;warn&apos;</cite>&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;<cite>False</cite>&#x6216;<cite>&#x65E0;</cite>&#x3002;</span><span class="yiyi-st" id="yiyi-670">&#x5F53;<cite>True</cite>&#x65F6;&#xFF0C;&#x5BFC;&#x81F4;&#x6240;&#x6709;unicode&#x8F6C;&#x6362;&#x64CD;&#x4F5C;&#x5728;&#x5C06;&#x975E;Unicode&#x5B57;&#x8282;&#x4E32;&#x4F5C;&#x4E3A;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x65F6;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x3002;</span><span class="yiyi-st" id="yiyi-671">&apos;&#x8B66;&#x544A;&apos;&#x4F1A;&#x5BFC;&#x81F4;&#x8B66;&#x544A;&#x3002;</span><span class="yiyi-st" id="yiyi-672">&#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x6240;&#x6709;&#x652F;&#x6301;unicode&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6B63;&#x786E;&#x4F7F;&#x7528;Python unicode&#x5BF9;&#x8C61;&#xFF08;&#x5373;u&apos;hello&apos;&#x800C;&#x4E0D;&#x662F;&apos;hello&apos;&#xFF09;&#xFF0C;&#x4EE5;&#x4FBF;&#x6570;&#x636E;&#x51C6;&#x786E;&#x5730;&#x8FD4;&#x56DE;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4abfbfe6bea22beedb689afde26eee55">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-38"><span class="yiyi-st" id="yiyi-673"><span class="target" id="change-1943253ba506b5613bb311d47f20a9de"><strong>[sql] </strong></span>generation of &#x201C;unique&#x201D; bind parameters has been simplified to use the same &#x201C;unique identifier&#x201D; mechanisms as everything else. </span><span class="yiyi-st" id="yiyi-674">&#x8FD9;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x7528;&#x6237;&#x4EE3;&#x7801;&#xFF0C;&#x9664;&#x975E;&#x53EF;&#x80FD;&#x5DF2;&#x9488;&#x5BF9;&#x751F;&#x6210;&#x7684;&#x540D;&#x79F0;&#x8FDB;&#x884C;&#x4E86;&#x786C;&#x7F16;&#x7801;&#x7684;&#x4EFB;&#x4F55;&#x4EE3;&#x7801;&#x3002;</span><span class="yiyi-st" id="yiyi-675">&#x751F;&#x6210;&#x7684;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x73B0;&#x5728;&#x5177;&#x6709;&#x201C;<paramname>_ <num>&#x201D;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x800C;&#x4E4B;&#x524D;&#x53EA;&#x6709;&#x540C;&#x540D;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x7ED1;&#x5B9A;&#x624D;&#x5177;&#x6709;&#x6B64;&#x5F62;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1943253ba506b5613bb311d47f20a9de"></a></num></paramname></span></p><p></p></li><li><p id="change-0.4.2-39"><span class="yiyi-st" id="yiyi-676"><span class="target" id="change-8295165b5c3dd3ddc3c1d71843d664ad"><strong>[sql] </strong></span>select().as_scalar() will raise an exception if the select does not have exactly one expression in its columns clause.<a class="changeset-link headerlink reference internal" href="#change-8295165b5c3dd3ddc3c1d71843d664ad">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-40"><span class="yiyi-st" id="yiyi-677"><span class="target" id="change-6e780ec732e6e0f32ed07d926adb7257"><strong>[sql] </strong></span>bindparam() objects themselves can be used as keys for execute(), i.e. statement.execute({bind1:&#x2019;foo&#x2019;, bind2:&#x2019;bar&#x2019;})<a class="changeset-link headerlink reference internal" href="#change-6e780ec732e6e0f32ed07d926adb7257">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-41"><span class="yiyi-st" id="yiyi-678"><span class="target" id="change-96927335ae179f9639f2658179eca869"><strong>[sql] </strong></span>&#x5411;TypeDecorator&#xFF0C;process_bind_param()&#x548C;process_result_value()&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x81EA;&#x52A8;&#x5229;&#x7528;&#x5E95;&#x5C42;&#x7C7B;&#x578B;&#x7684;&#x5904;&#x7406;&#x3002;</span><span class="yiyi-st" id="yiyi-679">&#x975E;&#x5E38;&#x9002;&#x5408;&#x4F7F;&#x7528;Unicode&#x6216;Pickletype&#x3002;</span><span class="yiyi-st" id="yiyi-680">TypeDecorator&#x73B0;&#x5728;&#x5E94;&#x8BE5;&#x6210;&#x4E3A;&#x589E;&#x5F3A;&#x4EFB;&#x4F55;&#x73B0;&#x6709;&#x7C7B;&#x578B;&#xFF08;&#x5305;&#x62EC;&#x5176;&#x4ED6;TypeDecorator&#x5B50;&#x7C7B;&#xFF0C;&#x5982;PickleType&#xFF09;&#x7684;&#x884C;&#x4E3A;&#x7684;&#x4E3B;&#x8981;&#x65B9;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-96927335ae179f9639f2658179eca869">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-42"><span class="yiyi-st" id="yiyi-681"><span class="target" id="change-d16902bc09502cb5a78b696a5f86caf1"><strong>[sql] </strong></span> selectables&#xFF08;&#x53CA;&#x5176;&#x4ED6;&#xFF09;&#x5728;&#x5176;&#x5BFC;&#x51FA;&#x5217;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x4E24;&#x5217;&#x6839;&#x636E;&#x540D;&#x79F0;&#x51B2;&#x7A81;&#x65F6;&#x5C06;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d16902bc09502cb5a78b696a5f86caf1">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-43"><span class="yiyi-st" id="yiyi-682"><span class="target" id="change-a7fd85cad8879a7cb7a882408ae2fc00"><strong>[sql] </strong></span>&#x8868;&#x683C;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x5728;sqlite&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;firebird&#xFF0C;&#x6A21;&#x5F0F;&#x540D;&#x79F0;&#x53EA;&#x662F;&#x88AB;&#x4E22;&#x5F03;<a class="changeset-link headerlink reference internal" href="#change-a7fd85cad8879a7cb7a882408ae2fc00">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-683">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/890">&#xFF03;890</a></span></p></li><li><p id="change-0.4.2-44"><span class="yiyi-st" id="yiyi-684"><span class="target" id="change-2925ff88bfebf6c66313f6cf18859909"><strong>[sql] </strong></span>changed the various &#x201C;literal&#x201D; generation functions to use an anonymous bind parameter. </span><span class="yiyi-st" id="yiyi-685">&#x6CA1;&#x6709;&#x592A;&#x591A;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x9664;&#x4E86;&#x4ED6;&#x4EEC;&#x7684;&#x6807;&#x7B7E;&#x73B0;&#x5728;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x201C;&#xFF1A;param_1&#x201D;&#xFF0C;&#x201C;&#xFF1A;param_2&#x201D;&#x800C;&#x4E0D;&#x662F;&#x201C;&#xFF1A;literal&#x201D;<a class="changeset-link headerlink reference internal" href="#change-2925ff88bfebf6c66313f6cf18859909">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-45"><span class="yiyi-st" id="yiyi-686"><span class="target" id="change-2ab31cbdc0db31fb85313f8aa8fd9480"><strong>[sql] </strong></span>&#x5217;&#x6807;&#x7B7E;&#x7684;&#x683C;&#x5F0F;&#x4E3A;&#x201C;tablename.columname&#x201D;&#xFF0C;&#x5373;&#x73B0;&#x5728;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2ab31cbdc0db31fb85313f8aa8fd9480">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-46"><span class="yiyi-st" id="yiyi-687"><span class="target" id="change-8fa1b1ab3760497c5d0dedf5bc7e031e"><strong>[sql] </strong></span> select()&#x7684;from_obj&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x662F;&#x6807;&#x91CF;&#x6216;&#x5217;&#x8868;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8fa1b1ab3760497c5d0dedf5bc7e031e">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.2-firebird"><h3><span class="yiyi-st" id="yiyi-688">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.4.2-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.2-47"><span class="yiyi-st" id="yiyi-689"><span class="target" id="change-296229733dda9c08bbcde17a5331e5fc"><strong>[firebird] [backend] </strong></span>&#x786E;&#x5B9E;&#x53CD;&#x6620;&#x4E86;&#x57DF;&#x540D;&#xFF08;&#x90E8;&#x5206;&#x4FEE;&#x590D;&#xFF09;&#x548C;PassiveDefaults <a class="changeset-link headerlink reference internal" href="#change-296229733dda9c08bbcde17a5331e5fc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-690">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/410">&#xFF03;410</a></span></p></li><li><p id="change-0.4.2-48"><span class="yiyi-st" id="yiyi-691"><span class="target" id="change-5c5bf54d072226185c9bcd8b439d9bed"><strong>[firebird] [3562] [backend] </strong></span>&#x6062;&#x590D;&#x4E3A;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;poolclass&#xFF08;&#x4E3A;&#x4E86;&#x6D4B;&#x8BD5;&#x76EE;&#x7684;&#xFF0C;&#x5728;0.4.0&#x4E2D;&#x8BBE;&#x7F6E;&#x4E3A;SingletonThreadPool&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-5c5bf54d072226185c9bcd8b439d9bed">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-49"><span class="yiyi-st" id="yiyi-692"><span class="target" id="change-c4e420a3bd5661f308a26a6dbe3bc067"><strong>[firebird] [backend] </strong></span>&#x5C06;func.length()&#x6620;&#x5C04;&#x5230;&apos;char_length&apos;&#xFF08;&#x5728;Firebird&#x7684;&#x65E7;&#x7248;&#x672C;&#x4E2D;&#xFF0C;&#x53EF;&#x8F7B;&#x677E;&#x8986;&#x76D6;UDF&apos;strlen&apos;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-c4e420a3bd5661f308a26a6dbe3bc067">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.2-misc"><h3><span class="yiyi-st" id="yiyi-693">&#x6742;&#x9879;<a class="headerlink" href="#change-0.4.2-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.2-50"><span class="yiyi-st" id="yiyi-694"><span class="target" id="change-2c81613f5859b7c1f3ceca0a78b13cfd"><strong>[dialects] </strong></span> sqlite SLDate&#x7C7B;&#x578B;&#x4E0D;&#x4F1A;&#x9519;&#x8BEF;&#x5730;&#x5448;&#x73B0;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x6216;&#x65F6;&#x95F4;&#x5BF9;&#x8C61;&#x7684;&#x201C;&#x5FAE;&#x79D2;&#x201D;&#x90E8;&#x5206;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2c81613f5859b7c1f3ceca0a78b13cfd">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.2-51"><span class="yiyi-st" id="yiyi-695"><span class="target" id="change-8ca793172781cfe8727359f0bb56604c"><strong>[dialects] </strong></span></span></p><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-696">&#x795E;&#x8C15;</span></dt><dd><ul class="first last"><li><span class="yiyi-st" id="yiyi-697">&#x4E3A;Oracle&#x589E;&#x52A0;&#x4E86;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x68C0;&#x6D4B;&#x652F;&#x6301;</span></li><li><span class="yiyi-st" id="yiyi-698">&#x4E00;&#x4E9B;&#x6E05;&#x7406;&#x5230;&#x4E8C;&#x8FDB;&#x5236;/&#x539F;&#x59CB;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E34;&#x65F6;&#x68C0;&#x6D4B;&#x5230;cx_oracle.LOB</span></li></ul></dd></dl><span class="yiyi-st" id="yiyi-700"> <a class="changeset-link headerlink reference internal" href="#change-8ca793172781cfe8727359f0bb56604c">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-699">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/902">&#xFF03;902</a></span></p></li><li><p id="change-0.4.2-52"><span class="yiyi-st" id="yiyi-701"><span class="target" id="change-e26463d0e09920a810721d5acec0fc1f"><strong>[dialects] </strong></span></span></p><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-702">MSSQL</span></dt><dd><ul class="first last"><li><span class="yiyi-st" id="yiyi-703">PyODBC&#x4E0D;&#x518D;&#x62E5;&#x6709;&#x4E00;&#x4E2A;&#x5168;&#x7403;&#x6027;&#x7684;&#x201C;&#x8BBE;&#x5B9A;&#x6570;&#x91CF;&#x201D;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-704">&#x4FEE;&#x590D;autload&#x4E0A;&#x7684;&#x975E;&#x8EAB;&#x4EFD;&#x6574;&#x6570;PK</span></li><li><span class="yiyi-st" id="yiyi-705">&#x66F4;&#x597D;&#x5730;&#x652F;&#x6301;convert_unicode</span></li><li><span class="yiyi-st" id="yiyi-706">pyodbc / adodbapi&#x7684;&#x65E5;&#x671F;&#x8F6C;&#x6362;&#x4E0D;&#x592A;&#x4E25;&#x683C;</span></li><li><span class="yiyi-st" id="yiyi-707">&#x7B26;&#x5408;&#x6A21;&#x5F0F;&#x7684;&#x8868;&#x683C;/&#x81EA;&#x52A8;&#x52A0;&#x8F7D;</span></li></ul></dd></dl><span class="yiyi-st" id="yiyi-709"> <a class="changeset-link headerlink reference internal" href="#change-e26463d0e09920a810721d5acec0fc1f">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-708">References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/824">#824</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/839">#839</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/842">#842</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/901">#901</a></span></p></li></ul></div></div><div class="section" id="change-0.4.1"><h2><span class="yiyi-st" id="yiyi-711">0.4.1 <a class="headerlink" href="#change-0.4.1" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-811">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2007&#x5E74;11&#x6708;18&#x65E5;</span><div class="section" id="change-0.4.1-orm"><h3><span class="yiyi-st" id="yiyi-712">ORM <a class="headerlink" href="#change-0.4.1-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.1-0"><span class="yiyi-st" id="yiyi-713"><span class="target" id="change-0b89c1898d4084608e81d2938ee20609"><strong>[orm] </strong></span>eager loading with LIMIT/OFFSET applied no longer adds the primary table joined to a limited subquery of itself; the eager loads now join directly to the subquery which also provides the primary table&#x2019;s columns to the result set. </span><span class="yiyi-st" id="yiyi-714">&#x8FD9;&#x6D88;&#x9664;&#x4E86;&#x4F7F;&#x7528;LIMIT / OFFSET&#x4ECE;&#x6240;&#x6709;&#x6025;&#x5207;&#x52A0;&#x8F7D;&#x7684;JOIN&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0b89c1898d4084608e81d2938ee20609">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-715">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/843">&#xFF03;843</a></span></p></li><li><p id="change-0.4.1-1"><span class="yiyi-st" id="yiyi-716"><span class="target" id="change-594a0081d5108bf4ee29921c0a5a842e"><strong>[orm] </strong></span>session.refresh() and session.expire() now support an additional argument &#x201C;attribute_names&#x201D;, a list of individual attribute keynames to be refreshed or expired, allowing partial reloads of attributes on an already-loaded instance.<a class="changeset-link headerlink reference internal" href="#change-594a0081d5108bf4ee29921c0a5a842e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-717">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/802">&#xFF03;802</a></span></p></li><li><p id="change-0.4.1-2"><span class="yiyi-st" id="yiyi-718"><span class="target" id="change-b28a496490baf96e53a35fd41141c45c"><strong>[orm] </strong></span>&#x5C06;op()&#x8FD0;&#x7B97;&#x7B26;&#x6DFB;&#x52A0;&#x5230;&#x4E86;&#x68C0;&#x6D4B;&#x5C5E;&#x6027;&#xFF1B;&#x5373;User.name.op&#xFF08;&apos;ilike&apos;&#xFF09;&#xFF08;&apos;&#xFF05;somename&#xFF05;&apos;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-b28a496490baf96e53a35fd41141c45c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-719">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/767">&#xFF03;767</a></span></p></li><li><p id="change-0.4.1-3"><span class="yiyi-st" id="yiyi-720"><span class="target" id="change-eb31b9d3e5311a271dc3c49b5404c206"><strong>[orm] </strong></span>&#x6620;&#x200B;&#x200B;&#x5C04;&#x7C7B;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5177;&#x6709;&#x4EFB;&#x610F;&#x8BED;&#x4E49;&#x7684;__eq__&#xFF0C;__hash__&#x548C;__nonzero__&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-721">orm&#x73B0;&#x5728;&#x5904;&#x7406;&#x4EC5;&#x57FA;&#x4E8E;&#x8EAB;&#x4EFD;&#x7684;&#x6240;&#x6709;&#x6620;&#x5C04;&#x5B9E;&#x4F8B;&#x3002;</span><span class="yiyi-st" id="yiyi-722">&#xFF08;&#x4F8B;&#x5982;&apos;is&apos;vs&apos;==&apos;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-eb31b9d3e5311a271dc3c49b5404c206">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-723">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/676">&#xFF03;676</a></span></p></li><li><p id="change-0.4.1-4"><span class="yiyi-st" id="yiyi-724"><span class="target" id="change-3f023f26f562df58ce90608560fd6504"><strong>[orm] </strong></span> Mapper&#x4E0A;&#x7684;&#x201C;&#x5C5E;&#x6027;&#x201D;&#x8BBF;&#x95EE;&#x5668;&#x88AB;&#x5220;&#x9664;&#xFF1B;&#x5B83;&#x73B0;&#x5728;&#x4F1A;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x4FE1;&#x606F;&#x5F02;&#x5E38;&#xFF0C;&#x89E3;&#x91CA;mapper.get_property()&#x548C;mapper.iterate_properties <a class="changeset-link headerlink reference internal" href="#change-3f023f26f562df58ce90608560fd6504">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-5"><span class="yiyi-st" id="yiyi-725"><span class="target" id="change-2fc98bef8342a30df5eaf8d717ab428d"><strong>[orm] </strong></span>&#x5C06;having()&#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x5230;Query&#x4E2D;&#xFF0C;&#x4EE5;&#x4E0E;filter()&#x9644;&#x52A0;&#x5230;WHERE&#x5B50;&#x53E5;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#x5C06;HAVING&#x5E94;&#x7528;&#x4E8E;&#x751F;&#x6210;&#x7684;&#x8BED;&#x53E5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2fc98bef8342a30df5eaf8d717ab428d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-6"><span class="yiyi-st" id="yiyi-726"><span class="target" id="change-1ca51b23a65e7b311c38e71e4f06f672"><strong>[orm] </strong></span>The behavior of query.options() is now fully based on paths, i.e. an option such as eagerload_all(&#x2018;x.y.z.y.x&#x2019;) will apply eagerloading to only those paths, i.e. and not &#x2018;x.y.x&#x2019;; eagerload(&#x2018;children.children&#x2019;) applies only to exactly two-levels deep, etc.<a class="changeset-link headerlink reference internal" href="#change-1ca51b23a65e7b311c38e71e4f06f672">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-727">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/777">&#xFF03;777</a></span></p></li><li><p id="change-0.4.1-7"><span class="yiyi-st" id="yiyi-728"><span class="target" id="change-25697ecfe693193b2646032ae6cbe5e3"><strong>[orm] </strong></span>PickleType will compare using <cite>==</cite> when set up with mutable=False, and not the <cite>is</cite> operator. </span><span class="yiyi-st" id="yiyi-729">&#x8981;&#x4F7F;&#x7528;<cite>&#x662F;</cite>&#x6216;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x6BD4;&#x8F83;&#x5668;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;PickleType&#xFF08;comparator = my_custom_comparator&#xFF09;&#x53D1;&#x9001;&#x81EA;&#x5B9A;&#x4E49;&#x6BD4;&#x8F83;&#x51FD;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-25697ecfe693193b2646032ae6cbe5e3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-8"><span class="yiyi-st" id="yiyi-730"><span class="target" id="change-6541ab9074117cd48928f7885253addf"><strong>[orm] </strong></span>query doesn&#x2019;t throw an error if you use distinct() and an order_by() containing UnaryExpressions (or other) together<a class="changeset-link headerlink reference internal" href="#change-6541ab9074117cd48928f7885253addf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-731">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/848">&#xFF03;848</a></span></p></li><li><p id="change-0.4.1-9"><span class="yiyi-st" id="yiyi-732"><span class="target" id="change-4f9647deaa363941af6a3cc05cd1f193"><strong>[orm] </strong></span>order_by() expressions from joined tables are properly added to columns clause when using distinct()<a class="changeset-link headerlink reference internal" href="#change-4f9647deaa363941af6a3cc05cd1f193">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-733">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/786">&#xFF03;786</a></span></p></li><li><p id="change-0.4.1-10"><span class="yiyi-st" id="yiyi-734"><span class="target" id="change-24e4c45db8fecf131cab8c0a13b7dbed"><strong>[orm] </strong></span>&#x56FA;&#x5B9A;&#x9519;&#x8BEF;&#xFF0C;&#x5176;&#x4E2D;Query.add_column()&#x4E0D;&#x63A5;&#x53D7;&#x7C7B;&#x7ED1;&#x5B9A;&#x5C5E;&#x6027;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF1B;&#x5982;&#x679C;&#x5C06;&#x4E00;&#x4E2A;&#x65E0;&#x6548;&#x53C2;&#x6570;&#x53D1;&#x9001;&#x5230;add_column()&#xFF08;&#x5728;instances()&#x65F6;&#x95F4;&#xFF09;&#xFF0C;&#x5219;&#x67E5;&#x8BE2;&#x4E5F;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;<a class="changeset-link headerlink reference internal" href="#change-24e4c45db8fecf131cab8c0a13b7dbed">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-735">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/858">&#xFF03;858</a></span></p></li><li><p id="change-0.4.1-11"><span class="yiyi-st" id="yiyi-736"><span class="target" id="change-8a9ee44baa74c1b5e3bd072e563eb7c4"><strong>[orm] </strong></span>added a little more checking for garbage-collection dereferences in InstanceState.__cleanup() to reduce &#x201C;gc ignored&#x201D; errors on app shutdown<a class="changeset-link headerlink reference internal" href="#change-8a9ee44baa74c1b5e3bd072e563eb7c4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-12"><span class="yiyi-st" id="yiyi-737"><span class="target" id="change-a42838089d8927d06dc3e4f5fb731b84"><strong>[orm] </strong></span>&#x4F1A;&#x8BDD;API&#x5DF2;&#x7ECF;&#x56FA;&#x5316;&#xFF1A;<a class="changeset-link headerlink reference internal" href="#change-a42838089d8927d06dc3e4f5fb731b84">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-13"><span class="yiyi-st" id="yiyi-738"><span class="target" id="change-5e08c60d85b9c39cc11a409fafc3424f"><strong>[orm] </strong></span> session.save()&#x662F;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x5BF9;&#x8C61;&#x7684;&#x9519;&#x8BEF;<a class="changeset-link headerlink reference internal" href="#change-5e08c60d85b9c39cc11a409fafc3424f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-739">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/840">&#xFF03;840</a></span></p></li><li><p id="change-0.4.1-14"><span class="yiyi-st" id="yiyi-740"><span class="target" id="change-4869e0999f48ab540716a33356319094"><strong>[orm] </strong></span> session.delete()&#x662F;<em>&#x4E0D;&#x662F;</em>&#x6301;&#x4E45;&#x5BF9;&#x8C61;&#x7684;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4869e0999f48ab540716a33356319094">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-15"><span class="yiyi-st" id="yiyi-741"><span class="target" id="change-e629f6ef18ff5d02c5e58f3269d83bb7"><strong>[orm] </strong></span>session.update() and session.delete() raise an error when updating or deleting an instance that is already in the session with a different identity.<a class="changeset-link headerlink reference internal" href="#change-e629f6ef18ff5d02c5e58f3269d83bb7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-16"><span class="yiyi-st" id="yiyi-742"><span class="target" id="change-01dbce273a2adf5114b01dc0b145907c"><strong>[orm] </strong></span>The session checks more carefully when determining &#x201C;object X already in another session&#x201D;; e.g. if you pickle a series of objects and unpickle (i.e. as in a Pylons HTTP session or similar), they can go into a new session without any conflict<a class="changeset-link headerlink reference internal" href="#change-01dbce273a2adf5114b01dc0b145907c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-17"><span class="yiyi-st" id="yiyi-743"><span class="target" id="change-70e068257ffe2a9509dde98014d7fc8f"><strong>[orm] </strong></span> merge()&#x5305;&#x542B;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x201C;dont_load = True&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-744">&#x8BBE;&#x7F6E;&#x6B64;&#x6807;&#x5FD7;&#x5C06;&#x5BFC;&#x81F4;&#x5408;&#x5E76;&#x64CD;&#x4F5C;&#x4E0D;&#x4F1A;&#x54CD;&#x5E94;&#x4F20;&#x5165;&#x7684;&#x5206;&#x79BB;&#x5BF9;&#x8C61;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x4E14;&#x4F1A;&#x63A5;&#x53D7;&#x4F20;&#x5165;&#x7684;&#x5206;&#x79BB;&#x5BF9;&#x8C61;&#xFF0C;&#x5C31;&#x597D;&#x50CF;&#x5B83;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x4E8E;&#x8BE5;&#x4F1A;&#x8BDD;&#x4E2D;&#x4E00;&#x6837;&#x3002;</span><span class="yiyi-st" id="yiyi-745">&#x4F7F;&#x7528;&#x5B83;&#x53EF;&#x4EE5;&#x5C06;&#x6765;&#x81EA;&#x5916;&#x90E8;&#x7F13;&#x5B58;&#x7CFB;&#x7EDF;&#x7684;&#x5206;&#x79BB;&#x5BF9;&#x8C61;&#x5408;&#x5E76;&#x5230;&#x4F1A;&#x8BDD;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-70e068257ffe2a9509dde98014d7fc8f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-18"><span class="yiyi-st" id="yiyi-746"><span class="target" id="change-6ef45e3576f11236b5bc83eb98617664"><strong>[orm] </strong></span>&#x5F53;&#x5C5E;&#x6027;&#x5206;&#x914D;&#x7ED9;&#x65F6;&#xFF0C;&#x5EF6;&#x8FDF;&#x5217;&#x5C5E;&#x6027;&#x4E0D;&#x518D;&#x89E6;&#x53D1;&#x52A0;&#x8F7D;&#x64CD;&#x4F5C;&#x3002;</span><span class="yiyi-st" id="yiyi-747">&#x5728;&#x8FD9;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x65B0;&#x5206;&#x914D;&#x7684;&#x503C;&#x5C06;&#x65E0;&#x6761;&#x4EF6;&#x5B58;&#x5728;&#x4E8E;&#x5237;&#x65B0;&#x7684;UPDATE&#x8BED;&#x53E5;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6ef45e3576f11236b5bc83eb98617664">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-19"><span class="yiyi-st" id="yiyi-748"><span class="target" id="change-91e4cc2655c18b9537f4d744bfdd2708"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x96C6;&#x5408;&#x5B50;&#x96C6;&#x65F6;&#x7684;&#x622A;&#x65AD;&#x9519;&#x8BEF;&#xFF08;obj.relation = obj.relation [1&#xFF1A;]&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-91e4cc2655c18b9537f4d744bfdd2708">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-749">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/834">&#xFF03;834</a></span></p></li><li><p id="change-0.4.1-20"><span class="yiyi-st" id="yiyi-750"><span class="target" id="change-41c6f4041a8bb7bdfbc47fec3d053013"><strong>[orm] </strong></span>&#x672A;&#x5B9A;&#x4E49;&#x7684;backref&#x914D;&#x7F6E;&#x4EE3;&#x7801;&#xFF0C;&#x5728;&#x73B0;&#x6709;&#x5C5E;&#x6027;&#x4E0A;&#x5F15;&#x5165;&#x7684;backrefs&#x73B0;&#x5728;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;<a class="changeset-link headerlink reference internal" href="#change-41c6f4041a8bb7bdfbc47fec3d053013">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-751">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/832">&#xFF03;832</a></span></p></li><li><p id="change-0.4.1-21"><span class="yiyi-st" id="yiyi-752"><span class="target" id="change-759a3aea37ad25edb343df437295e6e6"><strong>[orm] </strong></span>&#x6539;&#x8FDB;&#x4E86;add_property()&#x7B49;&#x884C;&#x4E3A;&#xFF0C;&#x56FA;&#x5B9A;&#x6D89;&#x53CA;&#x540C;&#x4E49;&#x8BCD;/ deferred&#x3002;<a class="changeset-link headerlink reference internal" href="#change-759a3aea37ad25edb343df437295e6e6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-753">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/831">&#xFF03;831</a></span></p></li><li><p id="change-0.4.1-22"><span class="yiyi-st" id="yiyi-754"><span class="target" id="change-5d9a9be98d135fcb8ef55e33ae16b4e9"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;clear_mappers()&#x884C;&#x4E3A;&#xFF0C;&#x4EE5;&#x4FBF;&#x66F4;&#x597D;&#x5730;&#x6E05;&#x7406;&#x5B83;&#x81EA;&#x5DF1;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5d9a9be98d135fcb8ef55e33ae16b4e9">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-23"><span class="yiyi-st" id="yiyi-755"><span class="target" id="change-c43e29a204caeb3c86ea12bedc74a885"><strong>[orm] </strong></span>Fix to &#x201C;row switch&#x201D; behavior, i.e. when an INSERT/DELETE is combined into a single UPDATE; many-to-many relations on the parent object update properly.<a class="changeset-link headerlink reference internal" href="#change-c43e29a204caeb3c86ea12bedc74a885">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-756">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/841">&#xFF03;841</a></span></p></li><li><p id="change-0.4.1-24"><span class="yiyi-st" id="yiyi-757"><span class="target" id="change-ccf7e204c172dae174612768df596949"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5173;&#x8054;&#x4EE3;&#x7406;&#x7684;__hash__&#xFF0C;&#x8FD9;&#x4E9B;&#x96C6;&#x5408;&#x662F;&#x4E0D;&#x53EF;&#x66F4;&#x6539;&#x7684;&#xFF0C;&#x5C31;&#x50CF;&#x5B83;&#x4EEC;&#x7684;&#x53EF;&#x53D8;Python&#x5BF9;&#x8C61;&#x4E00;&#x6837;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ccf7e204c172dae174612768df596949">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-25"><span class="yiyi-st" id="yiyi-758"><span class="target" id="change-2754c6abcf835f7d57e9369b9cfdcd6a"><strong>[orm] </strong></span>&#x4E3A;&#x8303;&#x56F4;&#x4F1A;&#x8BDD;&#x6DFB;&#x52A0;&#x4E86;save_or_update&#xFF0C;__contains__&#x548C;__iter__&#x65B9;&#x6CD5;&#x7684;&#x4EE3;&#x7406;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2754c6abcf835f7d57e9369b9cfdcd6a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-26"><span class="yiyi-st" id="yiyi-759"><span class="target" id="change-94bbc737fc90680c013c33b8fd5c6177"><strong>[orm] </strong></span>&#x56FA;&#x5B9A;&#x4E86;&#x975E;&#x5E38;&#x96BE;&#x4EE5;&#x590D;&#x5236;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5176;&#x4E2D;Query&#x7684;FROM&#x5B50;&#x53E5;&#x53EF;&#x80FD;&#x4F1A;&#x53D7;&#x5230;&#x67D0;&#x4E9B;&#x751F;&#x6210;&#x8C03;&#x7528;&#x7684;&#x6C61;&#x67D3;<a class="changeset-link headerlink reference internal" href="#change-94bbc737fc90680c013c33b8fd5c6177">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-760">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/852">&#xFF03;852</a></span></p></li></ul></div><div class="section" id="change-0.4.1-sql"><h3><span class="yiyi-st" id="yiyi-761">SQL <a class="headerlink" href="#change-0.4.1-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.1-27"><span class="yiyi-st" id="yiyi-762"><span class="target" id="change-c4010d5d99cc7a8ff9d77a8cf6a8aef4"><strong>[sql] </strong></span> bindparam()&#x4E0A;&#x7684;&#x201C;shortname&#x201D;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x5DF2;&#x88AB;&#x5F03;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c4010d5d99cc7a8ff9d77a8cf6a8aef4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-28"><span class="yiyi-st" id="yiyi-763"><span class="target" id="change-cc475e4294cf5bc311cbfa7da8a7cc8f"><strong>[sql] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x5305;&#x542B;&#x8FD0;&#x7B97;&#x7B26;&#xFF08;&#x751F;&#x6210;&#x201C;LIKE&#xFF05;<other>&#xFF05;&#x201D;&#x5B50;&#x53E5;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cc475e4294cf5bc311cbfa7da8a7cc8f">&#xB6;</a></other></span></p><p></p></li><li><p id="change-0.4.1-29"><span class="yiyi-st" id="yiyi-764"><span class="target" id="change-4d5450de721c9aeffc95905577b27182"><strong>[sql] </strong></span>anonymous column expressions are automatically labeled. </span><span class="yiyi-st" id="yiyi-765">&#x4F8B;&#x5982;&#x9009;&#x62E9;&#xFF08;[x * 5]&#xFF09;&#x4F1A;&#x4EA7;&#x751F;&#x201C;SELECT x * 5 AS anon_1&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-766">&#x8FD9;&#x5141;&#x8BB8;labelname&#x51FA;&#x73B0;&#x5728;cursor.description&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x53EF;&#x4EE5;&#x9002;&#x5F53;&#x5730;&#x5339;&#x914D;&#x7ED3;&#x679C;&#x5217;&#x5904;&#x7406;&#x89C4;&#x5219;&#x3002;</span><span class="yiyi-st" id="yiyi-767">&#xFF08;&#x56E0;&#x4E3A;text()&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x80FD;&#x4EE3;&#x8868;&#x591A;&#x5217;&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x4E0D;&#x80FD;&#x53EF;&#x9760;&#x5730;&#x4F7F;&#x7528;&#x4F4D;&#x7F6E;&#x8DDF;&#x8E2A;&#x6765;&#x5904;&#x7406;&#x7ED3;&#x679C;&#x5217;&#x5339;&#x914D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4d5450de721c9aeffc95905577b27182">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-30"><span class="yiyi-st" id="yiyi-768"><span class="target" id="change-5378ee3b3457f069b4aece9be3205155"><strong>[sql] </strong></span>operator overloading is now controlled by TypeEngine objects - the one built-in operator overload so far is String types overloading &#x2018;+&#x2019; to be the string concatenation operator. </span><span class="yiyi-st" id="yiyi-769">&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;&#x7C7B;&#x578B;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x91CD;&#x5199;adapt_operator&#xFF08;self&#xFF0C;op&#xFF09;&#x65B9;&#x6CD5;&#x6765;&#x5B9A;&#x4E49;&#x81EA;&#x5DF1;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#x91CD;&#x8F7D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5378ee3b3457f069b4aece9be3205155">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-31"><span class="yiyi-st" id="yiyi-770"><span class="target" id="change-84a5f6328d01750340ded0b38bddf0b1"><strong>[sql] </strong></span>untyped bind parameters on the right side of a binary expression will be assigned the type of the left side of the operation, to better enable the appropriate bind parameter processing to take effect<a class="changeset-link headerlink reference internal" href="#change-84a5f6328d01750340ded0b38bddf0b1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-771">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/819">&#xFF03;819</a></span></p></li><li><p id="change-0.4.1-32"><span class="yiyi-st" id="yiyi-772"><span class="target" id="change-1c04ab02a23376e994e8ae24241f0a56"><strong>[sql] </strong></span>&#x4ECE;&#x5927;&#x591A;&#x6570;&#x8BED;&#x53E5;&#x7F16;&#x8BD1;&#x4E2D;&#x5220;&#x9664;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x6B65;&#x9AA4;&#x3002;</span><span class="yiyi-st" id="yiyi-773">&#x8FD8;&#x4FEE;&#x590D;&#x4E86;<a class="changeset-link headerlink reference internal" href="#change-1c04ab02a23376e994e8ae24241f0a56">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-774">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/833">&#xFF03;833</a></span></p></li><li><p id="change-0.4.1-33"><span class="yiyi-st" id="yiyi-775"><span class="target" id="change-843aea1d01efb76d3683d2d7c05850a3"><strong>[sql] </strong></span>Fixed empty (zero column) sqlite inserts, allowing inserts on autoincrementing single column tables.<a class="changeset-link headerlink reference internal" href="#change-843aea1d01efb76d3683d2d7c05850a3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-34"><span class="yiyi-st" id="yiyi-776"><span class="target" id="change-b7662d8394714cbb6d9daa235d86c4b6"><strong>[sql] </strong></span>&#x4FEE;&#x6B63;text()&#x5B50;&#x53E5;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x8F6C;&#x6362;&#xFF1B;&#x8FD9;&#x4FEE;&#x590D;&#x4E86;&#x5404;&#x79CD;ORM&#x65B9;&#x6848;&#xFF0C;&#x5176;&#x4E2D;&#x6587;&#x672C;&#x6587;&#x672C;&#x7528;&#x4E8E;SQL&#x8868;&#x8FBE;&#x5F0F;<a class="changeset-link headerlink reference internal" href="#change-b7662d8394714cbb6d9daa235d86c4b6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-35"><span class="yiyi-st" id="yiyi-777"><span class="target" id="change-36a4d5696bd619c85b8b8b650728d842"><strong>[sql] </strong></span>&#x5220;&#x9664;&#x4E86;ClauseParameters&#x5BF9;&#x8C61;&#xFF1B; compiled.params&#x73B0;&#x5728;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5E38;&#x89C4;&#x5B57;&#x5178;&#xFF0C;&#x4EE5;&#x53CA;result.last_inserted_pa&#x200B;&#x200B;rams()/ last_updated_pa&#x200B;&#x200B;rams()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-36a4d5696bd619c85b8b8b650728d842">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-36"><span class="yiyi-st" id="yiyi-778"><span class="target" id="change-246ac6dc033a79f2373e3fc6a80fdfe8"><strong>[sql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;INSERT&#x8BED;&#x53E5;w.r.t.</span><span class="yiyi-st" id="yiyi-779">&#x4E3B;&#x952E;&#x5217;&#x4E0A;&#x5177;&#x6709;&#x57FA;&#x4E8E;SQL&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x9ED8;&#x8BA4;&#x751F;&#x6210;&#x5668;&#xFF1B; SQL&#x8868;&#x8FBE;&#x5F0F;&#x6B63;&#x5E38;&#x6267;&#x884C;&#x5185;&#x8054;&#xFF0C;&#x4F46;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x5217;&#x7684;&#x201C;&#x540E;&#x53D6;&#x201D;&#x6761;&#x4EF6;&#xFF0C;&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x901A;&#x8FC7;cursor.lastrowid <a class="changeset-link headerlink reference internal" href="#change-246ac6dc033a79f2373e3fc6a80fdfe8">&#xB6;</a>&#x63D0;&#x4F9B;&#x7684;&#x6570;&#x636E;&#x5E93;</span></p><p></p></li><li><p id="change-0.4.1-37"><span class="yiyi-st" id="yiyi-780"><span class="target" id="change-4313d5275f28eb3f99349b58aad9a963"><strong>[sql] </strong></span> func&#x3002;</span><span class="yiyi-st" id="yiyi-781">&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x88AB;&#x814C;&#x5236;/&#x53D6;&#x6D88;&#x5254;&#x9664;<a class="changeset-link headerlink reference internal" href="#change-4313d5275f28eb3f99349b58aad9a963">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-782">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/844">&#xFF03;844</a></span></p></li><li><p id="change-0.4.1-38"><span class="yiyi-st" id="yiyi-783"><span class="target" id="change-530c7500b6d6596c5e44ff1bcc3bce10"><strong>[sql] </strong></span>rewrote and simplified the system used to &#x201C;target&#x201D; columns across selectable expressions. </span><span class="yiyi-st" id="yiyi-784">&#x5728;SQL&#x65B9;&#x9762;&#xFF0C;&#x8FD9;&#x7531;&#x201C;&#x5BF9;&#x5E94;&#x5217;()&#x201D;&#x65B9;&#x6CD5;&#x8868;&#x793A;&#x3002;</span><span class="yiyi-st" id="yiyi-785">ORM&#x5F88;&#x5927;&#x7A0B;&#x5EA6;&#x4E0A;&#x4F7F;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#x6765;&#x5C06;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5143;&#x7D20;&#x201C;&#x4FEE;&#x6539;&#x201D;&#x4E3A;&#x7C7B;&#x4F3C;&#x7684;&#x522B;&#x540D;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4EE5;&#x53CA;&#x5C06;&#x6700;&#x521D;&#x7ED1;&#x5B9A;&#x5230;&#x8868;&#x7684;&#x7ED3;&#x679C;&#x96C6;&#x5217;&#x6216;&#x53EF;&#x9009;&#x62E9;&#x7684;&#x522B;&#x540D;&#x201C;&#x5BF9;&#x5E94;&#x201D;&#x8868;&#x8FBE;&#x5F0F;&#x4F5C;&#x4E3A;&#x76EE;&#x6807;&#x3002;</span><span class="yiyi-st" id="yiyi-786">&#x65B0;&#x7684;&#x91CD;&#x5199;&#x529F;&#x80FD;&#x5177;&#x6709;&#x5B8C;&#x5168;&#x4E00;&#x81F4;&#x548C;&#x51C6;&#x786E;&#x7684;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-530c7500b6d6596c5e44ff1bcc3bce10">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-39"><span class="yiyi-st" id="yiyi-787"><span class="target" id="change-9ce2e2e3ce7ee6bc38d6391ca49d1bc1"><strong>[sql] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#xFF08;&#x201C;info&#x201D;&#xFF09;&#xFF0C;&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x67B6;&#x6784;&#x9879;&#x76EE;&#x7684;&#x4EFB;&#x610F;&#x6570;&#x636E;<a class="changeset-link headerlink reference internal" href="#change-9ce2e2e3ce7ee6bc38d6391ca49d1bc1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-788">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/573">&#xFF03;573</a></span></p></li><li><p id="change-0.4.1-40"><span class="yiyi-st" id="yiyi-789"><span class="target" id="change-e82d8124e2cacd51fd60363bf86daeee"><strong>[sql] </strong></span> Connections&#x4E0A;&#x7684;&#x201C;properties&#x201D;&#x96C6;&#x5408;&#x5DF2;&#x91CD;&#x547D;&#x540D;&#x4E3A;&#x201C;info&#x201D;&#x4EE5;&#x5339;&#x914D;&#x6A21;&#x5F0F;&#x7684;&#x53EF;&#x5199;&#x96C6;&#x5408;&#x3002;</span><span class="yiyi-st" id="yiyi-790">&#x8BBF;&#x95EE;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x201C;&#x5C5E;&#x6027;&#x201D;&#x540D;&#x79F0;&#x76F4;&#x5230;0.5. <a class="changeset-link headerlink reference internal" href="#change-e82d8124e2cacd51fd60363bf86daeee">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-41"><span class="yiyi-st" id="yiyi-791"><span class="target" id="change-6e152ccd5b3f9e3f7ee75b1efb1f7acd"><strong>[sql] </strong></span>&#x4F7F;&#x7528;strategy =&apos;threadlocal&apos;&#x65F6;&#x4FEE;&#x6B63;&#x4E86;Transaction&#x4E0A;&#x7684;close()&#x65B9;&#x6CD5;<a class="changeset-link headerlink reference internal" href="#change-6e152ccd5b3f9e3f7ee75b1efb1f7acd">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-42"><span class="yiyi-st" id="yiyi-792"><span class="target" id="change-74a921aec37d54b685b3772d6afe21c8"><strong>[sql] </strong></span>&#x4FEE;&#x590D;&#x7F16;&#x8BD1;&#x540E;&#x7684;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#xFF0C;&#x4F7F;&#x5176;&#x4E0D;&#x4F1A;&#x9519;&#x8BEF;&#x586B;&#x5145;None <a class="changeset-link headerlink reference internal" href="#change-74a921aec37d54b685b3772d6afe21c8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-793">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/853">&#xFF03;853</a></span></p></li><li><p id="change-0.4.1-43"><span class="yiyi-st" id="yiyi-794"><span class="target" id="change-d7e28424562953a96441f068c4371b86"><strong>[sql] </strong></span><engine|connection>._execute_clauseelement becomes a public method Connectable.execute_clauseelement<a class="changeset-link headerlink reference internal" href="#change-d7e28424562953a96441f068c4371b86">&#xB6;</a></engine|connection></span></p><p></p></li></ul></div><div class="section" id="change-0.4.1-misc"><h3><span class="yiyi-st" id="yiyi-795">&#x6742;&#x9879;<a class="headerlink" href="#change-0.4.1-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.1-44"><span class="yiyi-st" id="yiyi-796"><span class="target" id="change-87d6ffbdea8e609cece2a7580f1cbfd8"><strong>[dialects] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;MaxDB&#x7684;&#x5B9E;&#x9A8C;&#x6027;&#x652F;&#x6301;&#xFF08;&#x7248;&#x672C;&gt; = 7.6.03.007&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-87d6ffbdea8e609cece2a7580f1cbfd8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-45"><span class="yiyi-st" id="yiyi-797"><span class="target" id="change-914074ff8e5eed82fab96d0b8a6b71cc"><strong>[dialects] </strong></span> oracle&#x73B0;&#x5728;&#x5C06;&#x201C;DATE&#x201D;&#x53CD;&#x6620;&#x4E3A;OracleDateTime&#x5217;&#xFF0C;&#x800C;&#x4E0D;&#x662F;OracleDate <a class="changeset-link headerlink reference internal" href="#change-914074ff8e5eed82fab96d0b8a6b71cc">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-46"><span class="yiyi-st" id="yiyi-798"><span class="target" id="change-ea8c17afee12829dee303f9a3b5e9e93"><strong>[dialects] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;oracle table_names()&#x51FD;&#x6570;&#x4E2D;&#x6A21;&#x5F0F;&#x540D;&#x79F0;&#x7684;&#x4E86;&#x89E3;&#xFF0C;&#x4FEE;&#x590D;&#x4E86;metadata.reflect&#xFF08;schema =&apos;someschema&apos;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-ea8c17afee12829dee303f9a3b5e9e93">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-799">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/847">&#xFF03;847</a></span></p></li><li><p id="change-0.4.1-47"><span class="yiyi-st" id="yiyi-800"><span class="target" id="change-bd6478eaa69e057034c6c987444e39a2"><strong>[dialects] </strong></span>&#x7528;&#x4E8E;&#x9009;&#x62E9;&#x529F;&#x80FD;&#x7684;MSSQL&#x533F;&#x540D;&#x6807;&#x7B7E;&#x4F7F;&#x786E;&#x5B9A;&#x6027;<a class="changeset-link headerlink reference internal" href="#change-bd6478eaa69e057034c6c987444e39a2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-48"><span class="yiyi-st" id="yiyi-801"><span class="target" id="change-538b138b4fd33c8a8761b3953aa54d96"><strong>[dialects] </strong></span> sqlite&#x4F1A;&#x5C06;&#x201C;DECIMAL&#x201D;&#x53CD;&#x6620;&#x4E3A;&#x6570;&#x5B57;&#x5217;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-538b138b4fd33c8a8761b3953aa54d96">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-49"><span class="yiyi-st" id="yiyi-802"><span class="target" id="change-1b89ee1a9467ff024e61a062369696f0"><strong>[dialects] </strong></span>&#x4F7F;&#x8BBF;&#x95EE;&#x9053;&#x68C0;&#x6D4B;&#x66F4;&#x52A0;&#x53EF;&#x9760;<a class="changeset-link headerlink reference internal" href="#change-1b89ee1a9467ff024e61a062369696f0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-803">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/828">&#xFF03;828</a></span></p></li><li><p id="change-0.4.1-50"><span class="yiyi-st" id="yiyi-804"><span class="target" id="change-b559a79228b5f4bf95f4c9c0621d82e4"><strong>[dialects] </strong></span>&#x5C06;&#x65B9;&#x8A00;&#x5C5E;&#x6027;&apos;preexecute_sequences&apos;&#x91CD;&#x547D;&#x540D;&#x4E3A;&apos;preexecute_pk_sequences&apos;&#x3002;</span><span class="yiyi-st" id="yiyi-805">&#x4E00;&#x4E2A;&#x5C5E;&#x6027;porxy&#x9002;&#x7528;&#x4E8E;&#x4F7F;&#x7528;&#x65E7;&#x540D;&#x79F0;&#x7684;out-of-tree&#x65B9;&#x8A00;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b559a79228b5f4bf95f4c9c0621d82e4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-51"><span class="yiyi-st" id="yiyi-806"><span class="target" id="change-cd70ea2a75cf0f0058a871da3c0a7381"><strong>[dialects] </strong></span>&#x4E3A;&#x672A;&#x77E5;&#x7C7B;&#x578B;&#x7684;&#x53CD;&#x5C04;&#x589E;&#x52A0;&#x4E86;&#x6D4B;&#x8BD5;&#x8986;&#x76D6;&#x7387;&#x3002;</span><span class="yiyi-st" id="yiyi-807">&#x4FEE;&#x6B63;&#x4E86;&#x672A;&#x77E5;&#x7C7B;&#x578B;&#x53CD;&#x5C04;&#x7C7B;&#x578B;&#x7684;sqlite / mysql&#x5904;&#x7406;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cd70ea2a75cf0f0058a871da3c0a7381">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-52"><span class="yiyi-st" id="yiyi-808"><span class="target" id="change-e8a0ddea13b9ebc8886d4b136d2b1d68"><strong>[dialects] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x4E8E;mysql&#x65B9;&#x8A00;&#x7684;REAL&#xFF08;&#x5BF9;&#x4E8E;&#x5F00;&#x53D1;REAL_AS_FLOAT sql&#x6A21;&#x5F0F;&#x7684;&#x4EBA;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e8a0ddea13b9ebc8886d4b136d2b1d68">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-53"><span class="yiyi-st" id="yiyi-809"><span class="target" id="change-0f02a6b3d522bc191f30d77738ee5134"><strong>[dialects] </strong></span>&#x73B0;&#x5728;&#xFF0C;&#x6CA1;&#x6709;&#x53C2;&#x6570;&#x7684;mysql Float&#xFF0C;MSFloat&#x548C;MSDouble&#x4EA7;&#x751F;&#x65E0;&#x53C2;&#x6570;DDL&#xFF0C;&#x4F8B;&#x5982;&apos;FLOAT&apos;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0f02a6b3d522bc191f30d77738ee5134">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.1-54"><span class="yiyi-st" id="yiyi-810"><span class="target" id="change-e83c6ba370ca3384eed62f241d8b80d9"><strong>[misc] </strong></span>&#x5220;&#x9664;&#x672A;&#x4F7F;&#x7528;&#x7684;util.hash()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e83c6ba370ca3384eed62f241d8b80d9">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.4.0"><h2><span class="yiyi-st" id="yiyi-812">0.4.0 <a class="headerlink" href="#change-0.4.0" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-867">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2007&#x5E74;10&#x6708;17&#x65E5;</span><ul class="simple"><li><p id="change-0.4.0-0"><span class="yiyi-st" id="yiyi-813"><span class="target" id="change-b4fc8b2d58a4d717e756adb83fde5498"></span>&#xFF08;&#x8BF7;&#x53C2;&#x9605;0.4.0beta1&#x5F00;&#x59CB;&#x5BF9;0.3&#x8FDB;&#x884C;&#x4E3B;&#x8981;&#x66F4;&#x6539;&#xFF0C;&#x4EE5;&#x53CA;<a class="reference external" href="http://www.sqlalchemy.org/trac/wiki/WhatsNewIn04">http://www.sqlalchemy.org/trac/wiki/WhatsNewIn04</a>&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-b4fc8b2d58a4d717e756adb83fde5498">&#xB6; T2&gt;</a></span></p><p></p></li><li><p id="change-0.4.0-1"><span class="yiyi-st" id="yiyi-814"><span class="target" id="change-bcf3dff7b0aa6e5210dcc06d54677447"></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;Sybase&#x7684;&#x652F;&#x6301;&#xFF08;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;mxODBC&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-bcf3dff7b0aa6e5210dcc06d54677447">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-815">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/785">&#xFF03;785</a></span></p></li><li><p id="change-0.4.0-2"><span class="yiyi-st" id="yiyi-816"><span class="target" id="change-25fce3a42aa163243a076187861b48a8"></span>&#x4E3A;PostgreSQL&#x589E;&#x52A0;&#x4E86;&#x90E8;&#x5206;&#x7D22;&#x5F15;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-817">&#x5728;&#x7D22;&#x5F15;&#x4E0A;&#x4F7F;&#x7528;postgres_where&#x5173;&#x952E;&#x5B57;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-25fce3a42aa163243a076187861b48a8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0-3"><span class="yiyi-st" id="yiyi-818"><span class="target" id="change-50353e4f1d87383f71322fa8c91dc8dc"></span>&#x57FA;&#x4E8E;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x89E3;&#x6790;/&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x89E3;&#x6790;&#x5668;&#x7406;&#x89E3;&#x5E03;&#x5C14;&#x503C;&#x7684;&#x66F4;&#x5E7F;&#x6CDB;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x503C;<a class="changeset-link headerlink reference internal" href="#change-50353e4f1d87383f71322fa8c91dc8dc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-819">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/817">&#xFF03;817</a></span></p></li><li><p id="change-0.4.0-4"><span class="yiyi-st" id="yiyi-820"><span class="target" id="change-c14bc3996acddaff218f64dced993cbc"></span>&#x5982;&#x679C;&#x53E6;&#x4E00;&#x4FA7;&#x7684;&#x96C6;&#x5408;&#x4E0D;&#x5305;&#x542B;&#x8BE5;&#x9879;&#x76EE;&#xFF0C;&#x5219;&#x652F;&#x6301;noload&#x96C6;&#x5408;&#x7684;backref&#x79FB;&#x9664;&#x5BF9;&#x8C61;&#x64CD;&#x4F5C;&#x4E0D;&#x4F1A;&#x5931;&#x8D25;<a class="changeset-link headerlink reference internal" href="#change-c14bc3996acddaff218f64dced993cbc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-821">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/813">&#xFF03;813</a></span></p></li><li><p id="change-0.4.0-5"><span class="yiyi-st" id="yiyi-822"><span class="target" id="change-3fe165fcf8b210dd06e23fe29c90fdcf"></span>&#x5C06;__len__&#x4ECE;&#x201C;&#x52A8;&#x6001;&#x201D;&#x96C6;&#x5408;&#x4E2D;&#x5220;&#x9664;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x9700;&#x8981;&#x53D1;&#x51FA;SQL&#x201C;count()&#x201D;&#x64CD;&#x4F5C;&#xFF0C;&#x56E0;&#x6B64;&#x8FEB;&#x4F7F;&#x6240;&#x6709;&#x5217;&#x8868;&#x8BC4;&#x4F30;&#x53D1;&#x51FA;&#x5197;&#x4F59;SQL <a class="changeset-link headerlink reference internal" href="#change-3fe165fcf8b210dd06e23fe29c90fdcf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-823">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/818">&#xFF03;818</a></span></p></li><li><p id="change-0.4.0-6"><span class="yiyi-st" id="yiyi-824"><span class="target" id="change-fed60a94c48be9f1d4fbf64b773478a9"></span>inline optimizations added to locate_dirty() which can greatly speed up repeated calls to flush(), as occurs with autoflush=True<a class="changeset-link headerlink reference internal" href="#change-fed60a94c48be9f1d4fbf64b773478a9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-825">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/816">&#xFF03;816</a></span></p></li><li><p id="change-0.4.0-7"><span class="yiyi-st" id="yiyi-826"><span class="target" id="change-6931e3874f7028b6166fbaee26c13735"></span> IdentifierPreprarer&#x7684;_requires_quotes&#x6D4B;&#x8BD5;&#x73B0;&#x5728;&#x662F;&#x57FA;&#x4E8E;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-827">&#x4EFB;&#x4F55;&#x63D0;&#x4F9B;legal_characters&#x6216;illegal_initial_characters&#x81EA;&#x5B9A;&#x4E49;&#x96C6;&#x5408;&#x7684;out-of-tree&#x65B9;&#x8A00;&#x90FD;&#x9700;&#x8981;&#x79FB;&#x52A8;&#x5230;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x6216;&#x8986;&#x76D6;_requires_quotes&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6931e3874f7028b6166fbaee26c13735">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0-8"><span class="yiyi-st" id="yiyi-828"><span class="target" id="change-5a64dfccda02d75cc5a717a5d72f1d75"></span>Firebird has supports_sane_rowcount and supports_sane_multi_rowcount set to False due to ticket #370 (right way).<a class="changeset-link headerlink reference internal" href="#change-5a64dfccda02d75cc5a717a5d72f1d75">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0-9"></p><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-829">Firebird&#x53CD;&#x5C04;&#x7684;&#x6539;&#x8FDB;&#x548C;&#x4FEE;&#x590D;&#xFF1A;</span></dt><dd><ul class="first last"><li><span class="yiyi-st" id="yiyi-830">&#x73B0;&#x5728;&#xFF0C;FBDialect&#x6A21;&#x4EFF;OracleDialect&#xFF0C;&#x5173;&#x4E8E;TABLE&#x548C;COLUMN&#x540D;&#x79F0;&#x7684;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF08;&#x8BF7;&#x53C2;&#x9605;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&apos;case_sensitive remotion&apos;&#x4E3B;&#x9898;&#xFF09;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-831">FBDialect.table_names()&#x4E0D;&#x5E26;&#x7CFB;&#x7EDF;&#x8868;&#xFF08;&#x7968;&#x8BC1;&#xFF1A;796&#xFF09;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-832">FB&#x73B0;&#x5728;&#x6B63;&#x786E;&#x53CD;&#x6620;&#x4E86;Column&#x7684;&#x53EF;&#x7A7A;&#x5C5E;&#x6027;&#x3002;</span></li></ul></dd></dl><span class="yiyi-st" id="yiyi-833"> <a class="changeset-link headerlink reference internal" href="#change-a9896a5318c3109f7c89af2ad2c36bc9">&#xB6;</a></span><p></p></li><li><p id="change-0.4.0-10"><span class="yiyi-st" id="yiyi-834"><span class="target" id="change-7a9f394245eb8aa496bcd282b6cb9d91"></span>Fixed SQL compiler&#x2019;s awareness of top-level column labels as used in result-set processing; nested selects which contain the same column names don&#x2019;t affect the result or conflict with result-column metadata.<a class="changeset-link headerlink reference internal" href="#change-7a9f394245eb8aa496bcd282b6cb9d91">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0-11"><span class="yiyi-st" id="yiyi-835"><span class="target" id="change-d558e9c84b1e5793e3c4a3c171f163af"></span>query.get() and related functions (like many-to-one lazyloading) use compile-time-aliased bind parameter names, to prevent name conflicts with bind parameters that already exist in the mapped selectable.<a class="changeset-link headerlink reference internal" href="#change-d558e9c84b1e5793e3c4a3c171f163af">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0-12"><span class="yiyi-st" id="yiyi-836"><span class="target" id="change-05e3bf9bc8a5fbc5cb566b518f8c3d52"></span>&#x4FEE;&#x6B63;&#x4E86;&#x4E09;&#x5C42;&#x548C;&#x591A;&#x5C42;&#x6B21;&#x7684;select&#x548C;deferred&#x7EE7;&#x627F;&#x52A0;&#x8F7D;&#xFF08;&#x5373;&#x6CA1;&#x6709;select_table&#x7684;abc&#x7EE7;&#x627F;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-05e3bf9bc8a5fbc5cb566b518f8c3d52">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-837">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/795">&#xFF03;795</a></span></p></li><li><p id="change-0.4.0-13"><span class="yiyi-st" id="yiyi-838"><span class="target" id="change-5d0fab06b154a736d16cc1f5f05124d6"></span>&#x5728;shard.py&#x4E2D;&#x4F20;&#x9012;&#x7ED9;id_chooser&#x7684;&#x6807;&#x8BC6;&#x6C38;&#x8FDC;&#x662F;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5d0fab06b154a736d16cc1f5f05124d6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0-14"><span class="yiyi-st" id="yiyi-839"><span class="target" id="change-900edd4aa3ce5b35e0379abe1f1aceec"></span>&#x65E0;&#x53C2;&#x6570;ResultProxy._row_processor()&#x73B0;&#x5728;&#x662F;&#x7C7B;&#x5C5E;&#x6027;<cite>_process_row</cite>&#x3002;<a class="changeset-link headerlink reference internal" href="#change-900edd4aa3ce5b35e0379abe1f1aceec">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0-15"><span class="yiyi-st" id="yiyi-840"><span class="target" id="change-a888d5a2b3097f6a24d949a8c8094ba0"></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;PostgreSQL 8.2 +&#x63D2;&#x5165;&#x548C;&#x66F4;&#x65B0;&#x8FD4;&#x56DE;&#x503C;&#x7684;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a888d5a2b3097f6a24d949a8c8094ba0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-841">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/797">&#xFF03;797</a></span></p></li><li><p id="change-0.4.0-16"><span class="yiyi-st" id="yiyi-842"><span class="target" id="change-737ba18b8c4d08ef01910aa20772d16a"></span>PG reflection, upon seeing the default schema name being used explicitly as the &#x201C;schema&#x201D; argument in a Table, will assume that this is the user&#x2019;s desired convention, and will explicitly set the &#x201C;schema&#x201D; argument in foreign-key-related reflected tables, thus making them match only with Table constructors that also use the explicit &#x201C;schema&#x201D; argument (even though its the default schema). </span><span class="yiyi-st" id="yiyi-843">&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;SA&#x5047;&#x5B9A;&#x7528;&#x6237;&#x5728;&#x8FD9;&#x79CD;&#x7528;&#x6CD5;&#x4E2D;&#x662F;&#x4E00;&#x81F4;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-737ba18b8c4d08ef01910aa20772d16a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0-17"><span class="yiyi-st" id="yiyi-844"><span class="target" id="change-ebf15415b10e013bcf0d9a82f892a217"></span>fixed sqlite reflection of BOOL/BOOLEAN<a class="changeset-link headerlink reference internal" href="#change-ebf15415b10e013bcf0d9a82f892a217">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-845">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/808">&#xFF03;808</a></span></p></li><li><p id="change-0.4.0-18"><span class="yiyi-st" id="yiyi-846"><span class="target" id="change-f1c6c0df2c06bf883b72c36b13e92e75"></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;MySQL&#x7684;UPDATE&#x548C;LIMIT&#x7684;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f1c6c0df2c06bf883b72c36b13e92e75">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0-19"><span class="yiyi-st" id="yiyi-847"><span class="target" id="change-efe5107a0d07dac76612b27de5b70784"></span> m2o&#x4E0A;&#x7684;null&#x5916;&#x952E;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;lazyload <a class="changeset-link headerlink reference internal" href="#change-efe5107a0d07dac76612b27de5b70784">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-848">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/803">&#xFF03;803</a></span></p></li><li><p id="change-0.4.0-20"><span class="yiyi-st" id="yiyi-849"><span class="target" id="change-528c46ca19ca4d864d2acad507616b4c"></span>oracle does not implicitly convert to unicode for non-typed result sets (i.e. when no TypeEngine/String/Unicode type is even being used; previously it was detecting DBAPI types and converting regardless). </span><span class="yiyi-st" id="yiyi-850">&#x5E94;&#x8BE5;&#x4FEE;&#x6B63;<a class="changeset-link headerlink reference internal" href="#change-528c46ca19ca4d864d2acad507616b4c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-851">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/800">&#xFF03;800</a></span></p></li><li><p id="change-0.4.0-21"><span class="yiyi-st" id="yiyi-852"><span class="target" id="change-77dbca629719cb4cb77e1ddf562e7d9a"></span>&#x4FEE;&#x590D;&#x957F;&#x8868;/&#x5217;&#x540D;&#x7684;&#x533F;&#x540D;&#x6807;&#x7B7E;&#x751F;&#x6210;<a class="changeset-link headerlink reference internal" href="#change-77dbca629719cb4cb77e1ddf562e7d9a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-853">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/806">&#xFF03;806</a></span></p></li><li><p id="change-0.4.0-22"><span class="yiyi-st" id="yiyi-854"><span class="target" id="change-220b2721e3178a042f4628ddf67103d4"></span>Firebird dialect now uses SingletonThreadPool as poolclass.<a class="changeset-link headerlink reference internal" href="#change-220b2721e3178a042f4628ddf67103d4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0-23"><span class="yiyi-st" id="yiyi-855"><span class="target" id="change-a9a8ada8cf6f9e910f573eaa9489415b"></span>Firebird now uses dialect.preparer to format sequences names<a class="changeset-link headerlink reference internal" href="#change-a9a8ada8cf6f9e910f573eaa9489415b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0-24"><span class="yiyi-st" id="yiyi-856"><span class="target" id="change-3a7b59bf8fe3093a054925308b7f4799"></span>&#x4FEE;&#x590D;&#x4E86;postgres&#x548C;&#x591A;&#x4E2A;&#x4E24;&#x9636;&#x6BB5;&#x4E8B;&#x52A1;&#x7684;&#x7834;&#x574F;&#x60C5;&#x51B5;&#x3002;</span><span class="yiyi-st" id="yiyi-857">&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x548C;&#x56DE;&#x6EDA;&#x5E76;&#x4E0D;&#x4F1A;&#x50CF;&#x901A;&#x5E38;&#x7684;dbapi&#x63D0;&#x4EA4;/&#x56DE;&#x6EDA;&#x90A3;&#x6837;&#x81EA;&#x52A8;&#x4EE5;&#x65B0;&#x4E8B;&#x52A1;&#x7ED3;&#x675F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3a7b59bf8fe3093a054925308b7f4799">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-858">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/810">&#xFF03;810</a></span></p></li><li><p id="change-0.4.0-25"><span class="yiyi-st" id="yiyi-859"><span class="target" id="change-dcfcc254bf2beebefed7c884d53fdbbc"></span>&#x4E3A;_ScopedExt&#x6620;&#x5C04;&#x5668;&#x6269;&#x5C55;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x9009;&#x9879;&#xFF0C;&#x4E0D;&#x4F1A;&#x5728;&#x5BF9;&#x8C61;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x81EA;&#x52A8;&#x5C06;&#x65B0;&#x5BF9;&#x8C61;&#x4FDD;&#x5B58;&#x5230;&#x4F1A;&#x8BDD;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dcfcc254bf2beebefed7c884d53fdbbc">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0-26"><span class="yiyi-st" id="yiyi-860"><span class="target" id="change-5c1e6eaf781c2a9ecb4b8d604b4c12d7"></span>&#x4FEE;&#x6B63;&#x4E86;Oracle&#x975E;ansi&#x8FDE;&#x63A5;&#x8BED;&#x6CD5;<a class="changeset-link headerlink reference internal" href="#change-5c1e6eaf781c2a9ecb4b8d604b4c12d7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0-27"><span class="yiyi-st" id="yiyi-861"><span class="target" id="change-2d010cff627c0048b473b58acfd31fc3"></span>PickleType and Interval types (on db not supporting it natively) are now slightly faster.<a class="changeset-link headerlink reference internal" href="#change-2d010cff627c0048b473b58acfd31fc3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0-28"><span class="yiyi-st" id="yiyi-862"><span class="target" id="change-1aa7ff5a74776a60681a3dc879294a54"></span>&#x4E3A;Firebird&#x6DFB;&#x52A0;&#x4E86;&#x6D6E;&#x70B9;&#x548C;&#x65F6;&#x95F4;&#x7C7B;&#x578B;&#xFF08;FBFloat&#x548C;FBTime&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-863">&#x4FEE;&#x6B63;&#x4E86;&#x7528;&#x4E8E;TEXT&#x548C;&#x4E8C;&#x8FDB;&#x5236;&#x7C7B;&#x578B;&#x7684;BLOB SUB_TYPE&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1aa7ff5a74776a60681a3dc879294a54">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0-29"><span class="yiyi-st" id="yiyi-864"><span class="target" id="change-90371ac2603990896e47a63773b4be24"></span>&#x66F4;&#x6539;&#x4E86;in_&#x8FD0;&#x7B97;&#x7B26;&#x7684;API&#x3002;</span><span class="yiyi-st" id="yiyi-865">in_()&#x73B0;&#x5728;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x503C;&#x5E8F;&#x5217;&#x6216;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-866">&#x4F20;&#x9012;&#x503C;&#x4F5C;&#x4E3A;&#x53EF;&#x53D8;&#x53C2;&#x6570;&#x7684;&#x65E7;API&#x4ECD;&#x7136;&#x6709;&#x6548;&#xFF0C;&#x4F46;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-90371ac2603990896e47a63773b4be24">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.0beta6"><h2><span class="yiyi-st" id="yiyi-868">0.4.0beta6 <a class="headerlink" href="#change-0.4.0beta6" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-910">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2007&#x5E74;9&#x6708;27&#x65E5;</span><ul class="simple"><li><p id="change-0.4.0beta6-0"><span class="yiyi-st" id="yiyi-869"><span class="target" id="change-1df819a6cf9fd245a16b40d9c188c60f"></span>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F1A;&#x8BDD;&#x6807;&#x8BC6;&#x6620;&#x5C04;&#x73B0;&#x5728;<em>&#x5F31;&#x5F15;&#x7528;</em>&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;weak_identity_map = False&#x6765;&#x4F7F;&#x7528;&#x5E38;&#x89C4;&#x5B57;&#x5178;&#x3002;</span><span class="yiyi-st" id="yiyi-870">&#x6211;&#x4EEC;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x5F31;&#x5B57;&#x5178;&#x662F;&#x4E3A;&#x4E86;&#x68C0;&#x6D4B;&#x201C;&#x810F;&#x201D;&#x7684;&#x5B9E;&#x4F8B;&#x800C;&#x5B9A;&#x5236;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x4FDD;&#x6301;&#x5BF9;&#x8FD9;&#x4E9B;&#x5B9E;&#x4F8B;&#x7684;&#x4E34;&#x65F6;&#x5F3A;&#x5F15;&#x7528;&#xFF0C;&#x76F4;&#x5230;&#x5237;&#x65B0;&#x53D8;&#x5316;&#x4E3A;&#x6B62;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1df819a6cf9fd245a16b40d9c188c60f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta6-1"><span class="yiyi-st" id="yiyi-871"><span class="target" id="change-1d1c0f14569b491f750569e9ee7529b3"></span>Mapper compilation has been reorganized such that most compilation occurs upon mapper construction. </span><span class="yiyi-st" id="yiyi-872">&#x8FD9;&#x4F7F;&#x6211;&#x4EEC;&#x5BF9;mapper.compile()&#x7684;&#x8C03;&#x7528;&#x66F4;&#x5C11;&#xFF0C;&#x5E76;&#x5141;&#x8BB8;&#x57FA;&#x4E8E;&#x7C7B;&#x7684;&#x5C5E;&#x6027;&#x5F3A;&#x5236;&#x7F16;&#x8BD1;&#xFF08;&#x5373;User.addresses == 7&#x5C06;&#x7F16;&#x8BD1;&#x6240;&#x6709;&#x6620;&#x5C04;&#x5668;&#xFF1B;&#x8FD9;&#x662F;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-873">&#x552F;&#x4E00;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x7EE7;&#x627F;&#x7684;&#x6620;&#x5C04;&#x5668;&#x73B0;&#x5728;&#x5728;&#x6784;&#x5EFA;&#x65F6;&#x5BFB;&#x627E;&#x5B83;&#x7684;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668;&#xFF1B;&#x56E0;&#x6B64;&#x7EE7;&#x627F;&#x5173;&#x7CFB;&#x4E2D;&#x7684;&#x6620;&#x5C04;&#x5668;&#x9700;&#x8981;&#x4EE5;&#x7EE7;&#x627F;&#x987A;&#x5E8F;&#x6784;&#x5EFA;&#xFF08;&#x65E0;&#x8BBA;&#x5982;&#x4F55;&#xFF0C;&#x8FD9;&#x5E94;&#x8BE5;&#x662F;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1d1c0f14569b491f750569e9ee7529b3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-874">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/758">&#xFF03;758</a></span></p></li><li><p id="change-0.4.0beta6-2"><span class="yiyi-st" id="yiyi-875"><span class="target" id="change-b7cf4f4d67686ec87fdba236e7d68f25"></span>&#x5C06;&#x201C;FETCH&#x201D;&#x6DFB;&#x52A0;&#x5230;Postgres&#x68C0;&#x6D4B;&#x5230;&#x7684;&#x5173;&#x952E;&#x5B57;&#x4E2D;&#xFF0C;&#x4EE5;&#x6307;&#x793A;&#x7ED3;&#x679C;&#x884C;&#x4FDD;&#x7559;&#x8BED;&#x53E5;&#xFF08;&#x5373;&#x9664;&#x4E86;&#x201C;SELECT&#x201D;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b7cf4f4d67686ec87fdba236e7d68f25">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta6-3"><span class="yiyi-st" id="yiyi-876"><span class="target" id="change-9547226b45b928b5e944366ec8a0ab93"></span>&#x6DFB;&#x52A0;&#x4E86;SQLite&#x4FDD;&#x7559;&#x5173;&#x952E;&#x5B57;&#x7684;&#x5B8C;&#x6574;&#x5217;&#x8868;&#xFF0C;&#x4EE5;&#x4FBF;&#x5B83;&#x4EEC;&#x6B63;&#x786E;&#x8F6C;&#x4E49;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9547226b45b928b5e944366ec8a0ab93">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta6-4"><span class="yiyi-st" id="yiyi-877"><span class="target" id="change-f4cba78c179582e4bb530a36c5e55152"></span>&#x5F3A;&#x5316;&#x4E86;Query&#x7684;&#x201C;&#x7D27;&#x6025;&#x52A0;&#x8F7D;&#x201D;&#x522B;&#x540D;&#x7684;&#x751F;&#x6210;&#x548C;Query.instances()&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x8FD9;&#x4E9B;&#x5173;&#x952E;&#x5B57;&#x5B9E;&#x9645;&#x4E0A;&#x4F1A;&#x6293;&#x53D6;&#x70ED;&#x5207;&#x52A0;&#x8F7D;&#x7684;&#x884C;&#x3002;</span><span class="yiyi-st" id="yiyi-878">&#x5982;&#x679C;&#x522B;&#x540D;&#x4E0D;&#x662F;&#x7531;EagerLoader&#x4E3A;&#x8BE5;&#x8BED;&#x53E5;&#x4E13;&#x95E8;&#x751F;&#x6210;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x83B7;&#x53D6;&#x884C;&#x65F6;EagerLoader&#x4E0D;&#x4F1A;&#x751F;&#x6548;&#x3002;</span><span class="yiyi-st" id="yiyi-879">&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x5217;&#x88AB;&#x610F;&#x5916;&#x6293;&#x53D6;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x5E76;&#x975E;&#x610F;&#x5473;&#x7740;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x53D1;&#x751F;&#x5728;&#x6587;&#x672C;SQL&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x7EE7;&#x627F;&#x60C5;&#x51B5;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-880">&#x8FD9;&#x4E00;&#x70B9;&#x5C24;&#x5176;&#x91CD;&#x8981;&#xFF0C;&#x56E0;&#x4E3A;&#x5217;&#x7684;&#x201C;&#x533F;&#x540D;&#x522B;&#x540D;&#x201D;&#x73B0;&#x5728;&#x4F7F;&#x7528;&#x7B80;&#x5355;&#x7684;&#x6574;&#x6570;&#x8BA1;&#x6570;&#x6765;&#x751F;&#x6210;&#x6807;&#x7B7E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f4cba78c179582e4bb530a36c5e55152">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta6-5"><span class="yiyi-st" id="yiyi-881"><span class="target" id="change-066c676b077070c937c1d23f53d45e3a"></span>&#x4ECE;clauseelement.compile()&#x4E2D;&#x5220;&#x9664;&#x4E86;&#x201C;parameters&#x201D;&#x53C2;&#x6570;&#xFF0C;&#x66FF;&#x6362;&#x4E3A;&#x201C;column_keys&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-882">&#x53D1;&#x9001;&#x5230;execute()&#x7684;&#x53C2;&#x6570;&#x53EA;&#x4E0E;&#x5217;&#x540D;&#x79F0;&#x5B58;&#x5728;&#x7684;insert / update&#x8BED;&#x53E5;&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;&#x4EA4;&#x4E92;&#xFF0C;&#x4F46;&#x4E0D;&#x4E0E;&#x8FD9;&#x4E9B;&#x5217;&#x7684;&#x503C;&#x76F8;&#x5173;&#x3002;</span><span class="yiyi-st" id="yiyi-883">&#x4EA7;&#x751F;&#x66F4;&#x4E00;&#x81F4;&#x7684;execute / executemany&#x884C;&#x4E3A;&#xFF0C;&#x5728;&#x5185;&#x90E8;&#x7B80;&#x5316;&#x4E86;&#x4E00;&#x4E9B;&#x4E8B;&#x60C5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-066c676b077070c937c1d23f53d45e3a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta6-6"><span class="yiyi-st" id="yiyi-884"><span class="target" id="change-a57972bf47c37142d2f8450ba8343433"></span>&#x5728;PickleType&#x4E2D;&#x589E;&#x52A0;&#x4E86;&apos;comparator&apos;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-885">&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x201C;&#x53EF;&#x53D8;&#x201D;PickleType&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#x7684;dump()&#x8868;&#x793A;&#x6CD5;&#x5BF9;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x201C;&#x6DF1;&#x5C42;&#x6BD4;&#x8F83;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-886">&#x4F46;&#x662F;&#x8FD9;&#x5BF9;&#x5B57;&#x5178;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-887">&#x63D0;&#x4F9B;&#x8DB3;&#x591F;&#x7684;__eq __()&#x5B9E;&#x73B0;&#x7684;Pickled&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x201C;PickleType&#xFF08;comparator = operator.eq&#xFF09;&#x201D;&#x6765;&#x8BBE;&#x7F6E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a57972bf47c37142d2f8450ba8343433">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-888">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/560">&#xFF03;560</a></span></p></li><li><p id="change-0.4.0beta6-7"><span class="yiyi-st" id="yiyi-889"><span class="target" id="change-86b7e1bcfc257a95dd46f409ad3ed7d4"></span>&#x65B0;&#x589E;session.is_modified&#xFF08;obj&#xFF09;&#x65B9;&#x6CD5;&#xFF1B;&#x6267;&#x884C;&#x4E0E;&#x5728;&#x5237;&#x65B0;&#x64CD;&#x4F5C;&#x4E2D;&#x53D1;&#x751F;&#x7684;&#x76F8;&#x540C;&#x7684;&#x201C;&#x5386;&#x53F2;&#x201D;&#x6BD4;&#x8F83;&#x64CD;&#x4F5C;&#xFF1B;&#x8BBE;&#x7F6E;include_collections = False&#x7684;&#x7ED3;&#x679C;&#x4E0E;flush&#x65F6;&#x786E;&#x5B9A;&#x662F;&#x5426;&#x4E3A;&#x5B9E;&#x4F8B;&#x884C;&#x53D1;&#x51FA;UPDATE&#x65F6;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x7ED3;&#x679C;&#x76F8;&#x540C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-86b7e1bcfc257a95dd46f409ad3ed7d4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta6-8"><span class="yiyi-st" id="yiyi-890"><span class="target" id="change-3353f6e734c51856789b2c7c67e6ba70"></span>&#x5C06;&#x5E8F;&#x5217;&#x6DFB;&#x52A0;&#x4E86;&#x201C;&#x6A21;&#x5F0F;&#x201D;&#x53C2;&#x6570;&#xFF1B;&#x5F53;&#x5E8F;&#x5217;&#x4F4D;&#x4E8E;&#x5907;&#x7528;&#x6A21;&#x5F0F;&#x4E2D;&#x65F6;&#xFF0C;&#x5C06;&#x5176;&#x4E0E;Postgres / Oracle&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-891">&#x5B9E;&#x65BD;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5E94;&#x8BE5;&#x4FEE;&#x590D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3353f6e734c51856789b2c7c67e6ba70">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-892">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/584">&#xFF03;584</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/761">&#xFF03;761</a></span></p></li><li><p id="change-0.4.0beta6-9"><span class="yiyi-st" id="yiyi-893"><span class="target" id="change-1b5a20829be72cd57e395d53c965f562"></span>&#x56FA;&#x5B9A;&#x53CD;&#x6620;mysql&#x679A;&#x4E3E;&#x7684;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1b5a20829be72cd57e395d53c965f562">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta6-10"><span class="yiyi-st" id="yiyi-894"><span class="target" id="change-d3dde7998c563eec40c710cbada1d8af"></span>&#x6539;&#x53D8;&#x4E86;MySQL&#x65B9;&#x8A00;&#x4F7F;&#x7528;&#x65E7;&#x7684;LIMIT <offset>&#xFF0C;<limit>&#x8BED;&#x6CD5;&#xFF0C;&#x800C;&#x4E0D;&#x662F;LIMIT <l>OFFSET <o>&#xFF0C;&#x7528;&#x4E8E;&#x4F7F;&#x7528;3.23&#x7684;&#x4EBA;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d3dde7998c563eec40c710cbada1d8af"></a></o>  T3&gt;  T2&gt;  T1&gt;</l></limit></offset></span></p><p><span class="yiyi-st" id="yiyi-895">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/794">&#xFF03;794</a></span></p></li><li><p id="change-0.4.0beta6-11"><span class="yiyi-st" id="yiyi-896"><span class="target" id="change-9d4fe872e8b59bfeefb5183ab7684f9a"></span>Added &#x2018;passive_deletes=&#x201D;all&#x201D;&#x2019; flag to relation(), disables all nulling-out of foreign key attributes during a flush where the parent object is deleted.<a class="changeset-link headerlink reference internal" href="#change-9d4fe872e8b59bfeefb5183ab7684f9a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta6-12"><span class="yiyi-st" id="yiyi-897"><span class="target" id="change-563c3cbf44802188d12788163d985e16"></span>&#x5185;&#x8054;&#x6267;&#x884C;&#x7684;&#x5217;&#x7F3A;&#x7701;&#x503C;&#x548C;onupdates&#x5C06;&#x4E3A;&#x5B50;&#x67E5;&#x8BE2;&#x548C;&#x5176;&#x4ED6;&#x62EC;&#x53F7;&#x9700;&#x6C42;&#x8868;&#x8FBE;&#x5F0F;&#x6DFB;&#x52A0;&#x62EC;&#x53F7;<a class="changeset-link headerlink reference internal" href="#change-563c3cbf44802188d12788163d985e16">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta6-13"><span class="yiyi-st" id="yiyi-898"><span class="target" id="change-12d3f310eb9663bf0ecfedbe0a47fbad"></span>The behavior of String/Unicode types regarding that they auto-convert to TEXT/CLOB when no length is present now occurs <em>only</em> for an exact type of String or Unicode with no arguments. </span><span class="yiyi-st" id="yiyi-899">&#x5982;&#x679C;&#x4F7F;&#x7528;VARCHAR&#x6216;NCHAR&#xFF08;String / Unicode&#x7684;&#x5B50;&#x7C7B;&#xFF09;&#x800C;&#x6CA1;&#x6709;&#x957F;&#x5EA6;&#xFF0C;&#x5219;&#x5B83;&#x4EEC;&#x5C06;&#x88AB;&#x65B9;&#x8A00;&#x89E3;&#x91CA;&#x4E3A;VARCHAR / NCHAR&#xFF1B;&#x6CA1;&#x6709;&#x201C;&#x9B54;&#x672F;&#x201D;&#x8F6C;&#x6362;&#x53D1;&#x751F;&#x5728;&#x90A3;&#x91CC;&#x3002;</span><span class="yiyi-st" id="yiyi-900">&#x8FD9;&#x5E76;&#x4E0D;&#x4EE4;&#x4EBA;&#x60CA;&#x8BB6;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x8FD9;&#x6709;&#x52A9;&#x4E8E;Oracle&#x5C06;&#x57FA;&#x4E8E;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x4FDD;&#x5B58;&#x4E3A;VARCHAR&#xFF0C;&#x800C;&#x4E0D;&#x662F;CLOB&#x3002;<a class="changeset-link headerlink reference internal" href="#change-12d3f310eb9663bf0ecfedbe0a47fbad">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-901">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/793">&#xFF03;793</a></span></p></li><li><p id="change-0.4.0beta6-14"><span class="yiyi-st" id="yiyi-902"><span class="target" id="change-f455b93bc401877daa0ba14fb70ec408"></span>&#x4FEE;&#x590D;ShardedSession&#x4E0E;&#x5EF6;&#x8FDF;&#x5217;&#x4E00;&#x8D77;&#x5DE5;&#x4F5C;<a class="changeset-link headerlink reference internal" href="#change-f455b93bc401877daa0ba14fb70ec408">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-903">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/771">&#xFF03;771</a></span></p></li><li><p id="change-0.4.0beta6-15"><span class="yiyi-st" id="yiyi-904"><span class="target" id="change-955f25fb13ad169f392d6f1a17e804ac"></span>User-defined shard_chooser() function must accept &#x201C;clause=None&#x201D; argument; this is the ClauseElement passed to session.execute(statement) and can be used to determine correct shard id (since execute() doesn&#x2019;t take an instance.)<a class="changeset-link headerlink reference internal" href="#change-955f25fb13ad169f392d6f1a17e804ac">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta6-16"><span class="yiyi-st" id="yiyi-905"><span class="target" id="change-e2bee4b5e6c30d433fb8a7e4ae81663a"></span>Adjusted operator precedence of NOT to match &#x2018;==&#x2019; and others, so that ~(x <operator> y) produces NOT (x <op> y), which is better compatible with older MySQL versions.. </op></operator></span><span class="yiyi-st" id="yiyi-906">&#x8FD9;&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x50CF;&#x301C;0.3&#x90A3;&#x6837;&#x7684;&#x201C;&#x301C;&#xFF08;x == y&#xFF09;&#x201D;&#xFF0C;&#x56E0;&#x4E3A;&#x301C;&#xFF08;x == y&#xFF09;&#x7F16;&#x8BD1;&#x4E3A;&#x201C;x&#xFF01;= y&#x201D;&#xFF0C;&#x4F46;&#x4ECD;&#x7136;&#x9002;&#x7528;&#x4E8E;&#x50CF;BETWEEN&#x8FD9;&#x6837;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e2bee4b5e6c30d433fb8a7e4ae81663a">&#xB6;&lt; / T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-907">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/764">&#xFF03;764</a></span></p></li><li><p id="change-0.4.0beta6-17"><span class="yiyi-st" id="yiyi-908"><span class="target" id="change-72a7f7aec701fc5fbf615366585da0c8"></span>&#x5176;&#x4ED6;&#x95E8;&#x7968;&#xFF1A;,null,&#x3002;<a class="changeset-link headerlink reference internal" href="#change-72a7f7aec701fc5fbf615366585da0c8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-909">References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/757">#757</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/768">#768</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/779">#779</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/728">#728</a></span></p></li></ul></div><div class="section" id="change-0.4.0beta5"><h2><span class="yiyi-st" id="yiyi-911">0.4.0beta5 <a class="headerlink" href="#change-0.4.0beta5" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-942">&#x6CA1;&#x6709;&#x53D1;&#x5E03;&#x65E5;&#x671F;</span><ul class="simple"><li><p id="change-0.4.0beta5-0"><span class="yiyi-st" id="yiyi-912"><span class="target" id="change-8d770fefd20726d046539230358cf916"></span>&#x8FDE;&#x63A5;&#x6C60;&#x4FEE;&#x590D;&#xFF1B; beta4&#x7684;&#x6027;&#x80FD;&#x66F4;&#x597D;&#xFF0C;&#x4F46;&#x4FEE;&#x590D;&#x4E86;&#x201C;&#x8FDE;&#x63A5;&#x6EA2;&#x51FA;&#x201D;&#x548C;&#x5176;&#x4ED6;&#x5B58;&#x5728;&#x7684;bug&#xFF08;&#x5982;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8d770fefd20726d046539230358cf916">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-913">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/754">&#xFF03;754</a></span></p></li><li><p id="change-0.4.0beta5-1"><span class="yiyi-st" id="yiyi-914"><span class="target" id="change-e4680818ac93f4cde5adbfd53ec55dce"></span>&#x4FEE;&#x6B63;&#x4E86;&#x4ECE;&#x81EA;&#x5B9A;&#x4E49;&#x7EE7;&#x627F;&#x6761;&#x4EF6;&#x4E2D;&#x786E;&#x5B9A;&#x5408;&#x9002;&#x7684;&#x540C;&#x6B65;&#x5B50;&#x53E5;&#x7684;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e4680818ac93f4cde5adbfd53ec55dce">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-915">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/769">&#xFF03;769</a></span></p></li><li><p id="change-0.4.0beta5-2"><span class="yiyi-st" id="yiyi-916"><span class="target" id="change-2c611a783379e4c4bbf0acadbc498ce5"></span>&#x9488;&#x5BF9;QueuePool&#x5927;&#x5C0F;/&#x6EA2;&#x51FA;&#x6269;&#x5C55;&apos;engine_from_config&apos;&#x5F3A;&#x5236;<a class="changeset-link headerlink reference internal" href="#change-2c611a783379e4c4bbf0acadbc498ce5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-917">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/763">&#xFF03;763</a></span></p></li><li><p id="change-0.4.0beta5-3"><span class="yiyi-st" id="yiyi-918"><span class="target" id="change-a02fe61d853e712245ea2fa9e3cf8182"></span> mysql&#x89C6;&#x56FE;&#x53EF;&#x4EE5;&#x518D;&#x6B21;&#x88AB;&#x53CD;&#x6620;&#x51FA;&#x6765;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a02fe61d853e712245ea2fa9e3cf8182">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-919">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/748">&#xFF03;748</a></span></p></li><li><p id="change-0.4.0beta5-4"><span class="yiyi-st" id="yiyi-920"><span class="target" id="change-43e8bb9fe2e39b744b2a496fb3f5ac6f"></span> AssociationProxy&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x7684;getter&#x548C;setter&#x3002;<a class="changeset-link headerlink reference internal" href="#change-43e8bb9fe2e39b744b2a496fb3f5ac6f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta5-5"><span class="yiyi-st" id="yiyi-921"><span class="target" id="change-80a35e2d5a32af8ce1f16c72e2776cc9"></span>Fixed malfunctioning BETWEEN in orm queries.<a class="changeset-link headerlink reference internal" href="#change-80a35e2d5a32af8ce1f16c72e2776cc9">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta5-6"><span class="yiyi-st" id="yiyi-922"><span class="target" id="change-99c2f326bb6523f16579523728bf307c"></span>&#x56FA;&#x5B9A;OrderedProperties&#x9178;&#x6D17;<a class="changeset-link headerlink reference internal" href="#change-99c2f326bb6523f16579523728bf307c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-923">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/762">&#xFF03;762</a></span></p></li><li><p id="change-0.4.0beta5-7"><span class="yiyi-st" id="yiyi-924"><span class="target" id="change-3a2a0bf70aa28afcbafdd2992791f31d"></span>SQL-expression defaults and sequences now execute &#x201C;inline&#x201D; for all non-primary key columns during an INSERT or UPDATE, and for all columns during an executemany()-style call. </span><span class="yiyi-st" id="yiyi-925">inline =&#x4EFB;&#x4F55;&#x63D2;&#x5165;/&#x66F4;&#x65B0;&#x8BED;&#x53E5;&#x4E0A;&#x7684;True&#x6807;&#x5FD7;&#x4E5F;&#x4F1A;&#x5F3A;&#x5236;&#x6267;&#x884C;&#x5355;&#x4E2A;execute()&#x7684;&#x76F8;&#x540C;&#x884C;&#x4E3A;&#x3002;</span><span class="yiyi-st" id="yiyi-926">result.postfetch_cols()&#x662F;&#x4EE5;&#x524D;&#x7684;&#x5355;&#x4E2A;&#x63D2;&#x5165;&#x6216;&#x66F4;&#x65B0;&#x8BED;&#x53E5;&#x5305;&#x542B;SQL&#x7AEF;&#x9ED8;&#x8BA4;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5217;&#x7684;&#x96C6;&#x5408;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3a2a0bf70aa28afcbafdd2992791f31d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta5-8"><span class="yiyi-st" id="yiyi-927"><span class="target" id="change-ffca3b05b1018517a278afe82229a29c"></span>&#x4FEE;&#x6B63;&#x4E86;PG&#x7684;executemany()&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ffca3b05b1018517a278afe82229a29c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-928">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/759">&#xFF03;759</a></span></p></li><li><p id="change-0.4.0beta5-9"><span class="yiyi-st" id="yiyi-929"><span class="target" id="change-3a401edfbc7ebb4442cd5e73acb6d51e"></span>&#x5BF9;&#x4E8E;&#x6CA1;&#x6709;&#x9ED8;&#x8BA4;&#x503C;&#x7684;&#x4E3B;&#x952E;&#x5217;&#xFF0C;postgres&#x53CD;&#x6620;&#x8868;&#x7684;autoincrement = False&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3a401edfbc7ebb4442cd5e73acb6d51e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta5-10"><span class="yiyi-st" id="yiyi-930"><span class="target" id="change-ba060cbd953a2ef43be8d18f2fd83983"></span>postgres no longer wraps executemany() with individual execute() calls, instead favoring performance. </span><span class="yiyi-st" id="yiyi-931">&#x7531;&#x4E8E;psycopg2&#x4E0D;&#x62A5;&#x544A;executemany()&#x7684;&#x6B63;&#x786E;&#x884C;&#x6570;&#xFF0C;&#x56E0;&#x6B64;&#x4F7F;&#x7528;PG&#x7981;&#x7528;&#x201C;&#x4F7F;&#x7528;executemany&#x201D;&#x7684;&#x5DF2;&#x5220;&#x9664;&#x9879;&#x76EE;&#x7684;&#x201C;rowcount&#x201D;/&#x201C;concurrency&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ba060cbd953a2ef43be8d18f2fd83983">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta5-11"><span class="yiyi-st" id="yiyi-932"><span class="target" id="change-45d7d861a3365452e7c1d9a6ec39b83c"><strong>[tickets] [fixed] </strong></span> <a class="changeset-link headerlink reference internal" href="#change-45d7d861a3365452e7c1d9a6ec39b83c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-933">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/742">&#xFF03;742</a></span></p></li><li><p id="change-0.4.0beta5-12"><span class="yiyi-st" id="yiyi-934"><span class="target" id="change-45d7d861a3365452e7c1d9a6ec39b83c"><strong>[tickets] [fixed] </strong></span> <a class="changeset-link headerlink reference internal" href="#change-45d7d861a3365452e7c1d9a6ec39b83c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-935">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/748">&#xFF03;748</a></span></p></li><li><p id="change-0.4.0beta5-13"><span class="yiyi-st" id="yiyi-936"><span class="target" id="change-45d7d861a3365452e7c1d9a6ec39b83c"><strong>[tickets] [fixed] </strong></span> <a class="changeset-link headerlink reference internal" href="#change-45d7d861a3365452e7c1d9a6ec39b83c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-937">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/760">&#xFF03;760</a></span></p></li><li><p id="change-0.4.0beta5-14"><span class="yiyi-st" id="yiyi-938"><span class="target" id="change-45d7d861a3365452e7c1d9a6ec39b83c"><strong>[tickets] [fixed] </strong></span> <a class="changeset-link headerlink reference internal" href="#change-45d7d861a3365452e7c1d9a6ec39b83c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-939">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/762">&#xFF03;762</a></span></p></li><li><p id="change-0.4.0beta5-15"><span class="yiyi-st" id="yiyi-940"><span class="target" id="change-45d7d861a3365452e7c1d9a6ec39b83c"><strong>[tickets] [fixed] </strong></span> <a class="changeset-link headerlink reference internal" href="#change-45d7d861a3365452e7c1d9a6ec39b83c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-941">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/763">&#xFF03;763</a></span></p></li></ul></div><div class="section" id="change-0.4.0beta4"><h2><span class="yiyi-st" id="yiyi-943">0.4.0beta4 <a class="headerlink" href="#change-0.4.0beta4" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-977">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2007&#x5E74;8&#x6708;22&#x65E5;&#x661F;&#x671F;&#x4E09;</span><ul class="simple"><li><p id="change-0.4.0beta4-0"><span class="yiyi-st" id="yiyi-944"><span class="target" id="change-f4d29dc7b02b99ed3260ef11c8fe9840"></span>&#x5F53;&#x4F60;&#x4ECE;&apos;sqlalchemy import *&apos;&#x4E2D;&#x6E05;&#x7406;&#x5B8C;&#x540D;&#x5B57;&#x7A7A;&#x95F4;&#x65F6;&#xFF1A;<a class="changeset-link headerlink reference internal" href="#change-f4d29dc7b02b99ed3260ef11c8fe9840">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta4-1"><span class="yiyi-st" id="yiyi-945"><span class="target" id="change-6890b669137922b1f67f9c81c9e393cd"></span>&apos;&#x8868;&apos;&#x548C;&apos;&#x5217;&apos;&#x4E0D;&#x518D;&#x5BFC;&#x5165;&#x3002;</span><span class="yiyi-st" id="yiyi-946">&#x5B83;&#x4EEC;&#x901A;&#x8FC7;&#x76F4;&#x63A5;&#x5F15;&#x7528;&#xFF08;&#x5982;&apos;sql.table&apos;&#x548C;&apos;sql.column&apos;&#xFF09;&#x6216;sql&#x5305;&#x4E2D;&#x7684;glob&#x5BFC;&#x5165;&#x4FDD;&#x6301;&#x53EF;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-947">&#x5F53;&#x521A;&#x5F00;&#x59CB;&#x4F7F;&#x7528;SQLAlchemy&#x65F6;&#xFF0C;&#x610F;&#x5916;&#x5730;&#x4F7F;&#x7528;sql.expressions.table&#x4EE3;&#x66FF;schema.Table&#x592A;&#x5BB9;&#x6613;&#x4E86;&#xFF0C;&#x540C;&#x6837;&#x4E5F;&#x662F;&#x5217;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6890b669137922b1f67f9c81c9e393cd">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta4-2"><span class="yiyi-st" id="yiyi-948"><span class="target" id="change-2663410f9071b570a253c86fb4d09031"></span>Internal-ish classes like ClauseElement, FromClause, NullTypeEngine, etc., are also no longer imported into your namespace<a class="changeset-link headerlink reference internal" href="#change-2663410f9071b570a253c86fb4d09031">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta4-3"><span class="yiyi-st" id="yiyi-949"><span class="target" id="change-487de14a19636219ee9867528df4aee5"></span>The &#x2018;Smallinteger&#x2019; compatibility name (small i!) </span><span class="yiyi-st" id="yiyi-950">&#x4E0D;&#x518D;&#x5BFC;&#x5165;&#xFF0C;&#x4F46;&#x73B0;&#x5728;&#x4ECD;&#x4FDD;&#x7559;&#x5728;schema.py&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-951">SmallInteger&#xFF08;&#x5927;&#x6211;&#xFF01;&#xFF09;</span><span class="yiyi-st" id="yiyi-952">&#x4ECD;&#x7136;&#x662F;&#x5BFC;&#x5165;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-487de14a19636219ee9867528df4aee5">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta4-4"><span class="yiyi-st" id="yiyi-953"><span class="target" id="change-8b98efdb7b0519850778b7118b3c2e6d"></span>The connection pool uses a &#x201C;threadlocal&#x201D; strategy internally to return the same connection already bound to a thread, for &#x201C;contextual&#x201D; connections; these are the connections used when you do a &#x201C;connectionless&#x201D; execution like insert().execute(). </span><span class="yiyi-st" id="yiyi-954">&#x8FD9;&#x5C31;&#x50CF;&#x201C;threadlocal&#x201D;&#x5F15;&#x64CE;&#x7B56;&#x7565;&#x7684;&#x201C;&#x90E8;&#x5206;&#x201D;&#x7248;&#x672C;&#xFF0C;&#x4F46;&#x6CA1;&#x6709;&#x7EBF;&#x7A0B;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x90E8;&#x5206;&#x3002;</span><span class="yiyi-st" id="yiyi-955">&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x5B83;&#x53EF;&#x4EE5;&#x51CF;&#x5C11;&#x8FDE;&#x63A5;&#x6C60;&#x5F00;&#x9500;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x5E93;&#x4F7F;&#x7528;&#x91CF;&#x3002;</span><span class="yiyi-st" id="yiyi-956">&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x5B83;&#x8BC1;&#x660E;&#x4EE5;&#x8D1F;&#x9762;&#x65B9;&#x5F0F;&#x5F71;&#x54CD;&#x7A33;&#x5B9A;&#x6027;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x9A6C;&#x4E0A;&#x56DE;&#x6EDA;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8b98efdb7b0519850778b7118b3c2e6d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta4-5"><span class="yiyi-st" id="yiyi-957"><span class="target" id="change-acf296f37f99428d8f44ec69e3890aa0"></span>&#x4FEE;&#x590D;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x5904;&#x7406;&#xFF0C;&#x4F7F;&#x5F97;&#x201C;&#x5047;&#x201D;&#x503C;&#xFF08;&#x5982;&#x7A7A;&#x767D;&#x5B57;&#x7B26;&#x4E32;&#xFF09;&#x4ECD;&#x7136;&#x5F97;&#x5230;&#x5904;&#x7406;/&#x7F16;&#x7801;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-acf296f37f99428d8f44ec69e3890aa0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta4-6"><span class="yiyi-st" id="yiyi-958"><span class="target" id="change-401edf6c4209442b8a393d710989444a"></span>Fix to select() &#x201C;generative&#x201D; behavior, such that calling column(), select_from(), correlate(), and with_prefix() does not modify the original select object<a class="changeset-link headerlink reference internal" href="#change-401edf6c4209442b8a393d710989444a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-959">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/752">&#xFF03;752</a></span></p></li><li><p id="change-0.4.0beta4-7"><span class="yiyi-st" id="yiyi-960"><span class="target" id="change-954a4eace190252f4ee50417a801d00c"></span>Added a &#x201C;legacy&#x201D; adapter to types, such that user-defined TypeEngine and TypeDecorator classes which define convert_bind_param() and/or convert_result_value() will continue to function. </span><span class="yiyi-st" id="yiyi-961">&#x8FD8;&#x652F;&#x6301;&#x8C03;&#x7528;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x7684;super()&#x7248;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-954a4eace190252f4ee50417a801d00c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta4-8"><span class="yiyi-st" id="yiyi-962"><span class="target" id="change-044df9e23478cf328cff40782234c4f6"></span>&#x6DFB;&#x52A0;&#x4E86;session.prune()&#xFF0C;&#x4FEE;&#x526A;&#x4E86;&#x4F1A;&#x8BDD;&#x4E2D;&#x7F13;&#x5B58;&#x7684;&#x5B9E;&#x4F8B;&#xFF0C;&#x8FD9;&#x4E9B;&#x5B9E;&#x4F8B;&#x4E0D;&#x518D;&#x5728;&#x522B;&#x5904;&#x5F15;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-963">&#xFF08;&#x7528;&#x4E8E;&#x5F3A;&#x5F15;&#x7528;&#x8EAB;&#x4EFD;&#x6620;&#x5C04;&#x7684;&#x5B9E;&#x7528;&#x7A0B;&#x5E8F;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-044df9e23478cf328cff40782234c4f6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta4-9"><span class="yiyi-st" id="yiyi-964"><span class="target" id="change-8d0b91ca4fcfc0ad6d3b9cd553567fba"></span>&#x4E3A;Transaction&#x6DFB;&#x52A0;&#x4E86;close()&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-965">&#x5982;&#x679C;&#x662F;&#x6700;&#x5916;&#x5C42;&#x7684;&#x4E8B;&#x52A1;&#xFF0C;&#x5219;&#x4F7F;&#x7528;&#x56DE;&#x6EDA;&#x5173;&#x95ED;&#x4E8B;&#x52A1;&#xFF0C;&#x5426;&#x5219;&#x53EA;&#x4F1A;&#x5728;&#x4E0D;&#x5F71;&#x54CD;&#x5916;&#x5C42;&#x4E8B;&#x52A1;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x7ED3;&#x675F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8d0b91ca4fcfc0ad6d3b9cd553567fba">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta4-10"><span class="yiyi-st" id="yiyi-966"><span class="target" id="change-dfe299aa8afc78c5d63d67f689f3815a"></span>&#x4E8B;&#x52A1;&#x6027;&#x548C;&#x975E;&#x4E8B;&#x52A1;&#x6027;&#x4F1A;&#x8BDD;&#x4E0E;&#x7ED1;&#x5B9A;&#x8FDE;&#x63A5;&#x66F4;&#x597D;&#x5730;&#x96C6;&#x6210;&#xFF1B; close()&#x5C06;&#x786E;&#x4FDD;&#x8FDE;&#x63A5;&#x4E8B;&#x52A1;&#x72B6;&#x6001;&#x4E0E;&#x7ED1;&#x5B9A;&#x5230;Session&#x4E4B;&#x524D;&#x7684;&#x8FDE;&#x63A5;&#x4E8B;&#x52A1;&#x72B6;&#x6001;&#x76F8;&#x540C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dfe299aa8afc78c5d63d67f689f3815a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta4-11"><span class="yiyi-st" id="yiyi-967"><span class="target" id="change-dc59c0230dc589d9da18567e46119d37"></span>&#x5DF2;&#x4FEE;&#x6539;&#x7684;SQL&#x8FD0;&#x7B97;&#x7B26;&#x51FD;&#x6570;&#x4E3A;&#x6A21;&#x5757;&#x7EA7;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x5141;&#x8BB8;SQL&#x8868;&#x8FBE;&#x5F0F;&#x4E3A;pickleable&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dc59c0230dc589d9da18567e46119d37">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-968">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/735">&#xFF03;735</a></span></p></li><li><p id="change-0.4.0beta4-12"><span class="yiyi-st" id="yiyi-969"><span class="target" id="change-91eb02a84f178101962db7b783aa809a"></span>&#x5BF9;mapper&#x7C7B;&#x7684;&#x5C0F;&#x8C03;&#x6574;.__ init__&#x5141;&#x8BB8;Py2.6&#x5BF9;&#x8C61;.__ init __()&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-91eb02a84f178101962db7b783aa809a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta4-13"><span class="yiyi-st" id="yiyi-970"><span class="target" id="change-ff553271888137520292109b17a04720"></span>&#x4FEE;&#x6B63;&#x4E86;select()<a class="changeset-link headerlink reference internal" href="#change-ff553271888137520292109b17a04720">&#xB6;</a>&#x7684;&apos;prefix&apos;&#x53C2;&#x6570;</span></p><p></p></li><li><p id="change-0.4.0beta4-14"><span class="yiyi-st" id="yiyi-971"><span class="target" id="change-e4222fd4e054c51dc51cbb0643020566"></span> Connection.begin()&#x4E0D;&#x518D;&#x63A5;&#x53D7;nested = True&#xFF0C;&#x8FD9;&#x4E2A;&#x903B;&#x8F91;&#x73B0;&#x5728;&#x5168;&#x90E8;&#x5728;begin_nested()&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e4222fd4e054c51dc51cbb0643020566">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta4-15"><span class="yiyi-st" id="yiyi-972"><span class="target" id="change-678e4addb4b749e32601ce1f3fa4f806"></span>&#x4FEE;&#x590D;&#x4E86;&#x6D89;&#x53CA;&#x7EA7;&#x8054;&#x7684;&#x65B0;&#x201C;&#x52A8;&#x6001;&#x201D;&#x5173;&#x7CFB;&#x52A0;&#x8F7D;&#x5668;<a class="changeset-link headerlink reference internal" href="#change-678e4addb4b749e32601ce1f3fa4f806">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta4-16"><span class="yiyi-st" id="yiyi-973"><span class="target" id="change-4af6f88998dc3d47b1e2144c8709f9cc"><strong>[tickets] [fixed] </strong></span> <a class="changeset-link headerlink reference internal" href="#change-4af6f88998dc3d47b1e2144c8709f9cc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-974">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/735">&#xFF03;735</a></span></p></li><li><p id="change-0.4.0beta4-17"><span class="yiyi-st" id="yiyi-975"><span class="target" id="change-4af6f88998dc3d47b1e2144c8709f9cc"><strong>[tickets] [fixed] </strong></span> <a class="changeset-link headerlink reference internal" href="#change-4af6f88998dc3d47b1e2144c8709f9cc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-976">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/752">&#xFF03;752</a></span></p></li></ul></div><div class="section" id="change-0.4.0beta3"><h2><span class="yiyi-st" id="yiyi-978">0.4.0beta3 <a class="headerlink" href="#change-0.4.0beta3" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-996">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2007&#x5E74;8&#x6708;16&#x65E5;</span><ul class="simple"><li><p id="change-0.4.0beta3-0"><span class="yiyi-st" id="yiyi-979"><span class="target" id="change-f5cf19f3f7be3f62710b12ab0c1a7f21"></span> SQL&#x7C7B;&#x578B;&#x4F18;&#x5316;&#xFF1A;<a class="changeset-link headerlink reference internal" href="#change-f5cf19f3f7be3f62710b12ab0c1a7f21">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta3-1"><span class="yiyi-st" id="yiyi-980"><span class="target" id="change-75d0b6d4c9572877034c53d512674299"></span>&#x65B0;&#x7684;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x663E;&#x793A;&#xFF0C;&#x7ED3;&#x5408;&#x8D28;&#x91CF;&#x63D2;&#x5165;/&#x8D28;&#x91CF;&#x9009;&#x62E9;&#x6D4B;&#x8BD5;&#x7684;&#x529F;&#x80FD;&#x8C03;&#x7528;&#x5C11;&#x4E8E;&#x76F8;&#x540C;&#x6D4B;&#x8BD5;&#x8FD0;&#x884C;&#x7684;0.3&#xFF05;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-75d0b6d4c9572877034c53d512674299">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta3-2"><span class="yiyi-st" id="yiyi-981"><span class="target" id="change-b75224a719e77f997a148bc85a071410"></span>&#x7ED3;&#x679C;&#x96C6;&#x8FED;&#x4EE3;&#x7684;&#x4E00;&#x822C;&#x6027;&#x80FD;&#x63D0;&#x5347;&#x7EA6;&#x4E3A;10-20&#xFF05;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b75224a719e77f997a148bc85a071410">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta3-3"><span class="yiyi-st" id="yiyi-982"><span class="target" id="change-ef940138c452b9816295b5d82d66f548"></span>In types.AbstractType, convert_bind_param() and convert_result_value() have migrated to callable-returning bind_processor() and result_processor() methods. </span><span class="yiyi-st" id="yiyi-983">&#x5982;&#x679C;&#x4E0D;&#x8FD4;&#x56DE;&#x53EF;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x4E0D;&#x4F1A;&#x8C03;&#x7528;&#x524D;/&#x540E;&#x5904;&#x7406;&#x51FD;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ef940138c452b9816295b5d82d66f548">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta3-4"><span class="yiyi-st" id="yiyi-984"><span class="target" id="change-c35fd87db1a5b5f45a1bf543d34cd61b"></span>Hooks added throughout base/sql/defaults to optimize the calling of bind aram/result processors so that method call overhead is minimized.<a class="changeset-link headerlink reference internal" href="#change-c35fd87db1a5b5f45a1bf543d34cd61b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta3-5"><span class="yiyi-st" id="yiyi-985"><span class="target" id="change-c8f92244fa634dc13e7327afd269b6b4"></span>&#x4E3A;executemany()&#x65B9;&#x6848;&#x6DFB;&#x52A0;&#x4E86;&#x652F;&#x6301;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x201C;&#x6700;&#x540E;&#x4E00;&#x884C;id&#x201D;&#x903B;&#x8F91;&#x65E0;&#x6CD5;&#x542F;&#x52A8;&#xFF0C;&#x53C2;&#x6570;&#x4E0D;&#x4F1A;&#x88AB;&#x8FC7;&#x5EA6;&#x904D;&#x5386;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c8f92244fa634dc13e7327afd269b6b4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta3-6"><span class="yiyi-st" id="yiyi-986"><span class="target" id="change-17bd7748986ad2bd56cfce9a8078756b"></span>&#x5C06;&apos;inherit_foreign_keys&apos;arg&#x6DFB;&#x52A0;&#x5230;mapper()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-17bd7748986ad2bd56cfce9a8078756b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta3-7"><span class="yiyi-st" id="yiyi-987"><span class="target" id="change-dba458ce8601c7fccb26c149512fbe0d"></span>&#x5728;sqlite&#x4E2D;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x5B57;&#x7B26;&#x4E32;&#x65E5;&#x671F;&#x4F20;&#x9012;&#x7684;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dba458ce8601c7fccb26c149512fbe0d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta3-8"><span class="yiyi-st" id="yiyi-988"><span class="target" id="change-54e4755a0af97b6ee1bd86616e80216d"><strong>[tickets] [fixed] </strong></span> <a class="changeset-link headerlink reference internal" href="#change-54e4755a0af97b6ee1bd86616e80216d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-989">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/738">&#xFF03;738</a></span></p></li><li><p id="change-0.4.0beta3-9"><span class="yiyi-st" id="yiyi-990"><span class="target" id="change-54e4755a0af97b6ee1bd86616e80216d"><strong>[tickets] [fixed] </strong></span> <a class="changeset-link headerlink reference internal" href="#change-54e4755a0af97b6ee1bd86616e80216d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-991">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/739">&#xFF03;739</a></span></p></li><li><p id="change-0.4.0beta3-10"><span class="yiyi-st" id="yiyi-992"><span class="target" id="change-54e4755a0af97b6ee1bd86616e80216d"><strong>[tickets] [fixed] </strong></span> <a class="changeset-link headerlink reference internal" href="#change-54e4755a0af97b6ee1bd86616e80216d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-993">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/743">&#xFF03;743</a></span></p></li><li><p id="change-0.4.0beta3-11"><span class="yiyi-st" id="yiyi-994"><span class="target" id="change-54e4755a0af97b6ee1bd86616e80216d"><strong>[tickets] [fixed] </strong></span> <a class="changeset-link headerlink reference internal" href="#change-54e4755a0af97b6ee1bd86616e80216d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-995">References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/744">#744</a></span></p></li></ul></div><div class="section" id="change-0.4.0beta2"><h2><span class="yiyi-st" id="yiyi-997">0.4.0beta2 <a class="headerlink" href="#change-0.4.0beta2" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1022">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2007&#x5E74;8&#x6708;14&#x65E5;</span><div class="section" id="change-0.4.0beta2-oracle"><h3><span class="yiyi-st" id="yiyi-998">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.4.0beta2-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.0beta2-0"><span class="yiyi-st" id="yiyi-999"><span class="target" id="change-27a03f85e379bb466ed82ab2bae62c14"><strong>[oracle] [improvements.] </strong></span></span><span class="yiyi-st" id="yiyi-1000">&#x5728;LOAD DATA INFILE&#x4E4B;&#x540E;&#x81EA;&#x52A8;&#x63D0;&#x4EA4;&#x7ED9;mysql&#x3002;<a class="changeset-link headerlink reference internal" href="#change-27a03f85e379bb466ed82ab2bae62c14">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta2-1"><span class="yiyi-st" id="yiyi-1001"><span class="target" id="change-2bfda89d7a3397e856da817c3ebe21ef"><strong>[oracle] [improvements.] </strong></span></span><span class="yiyi-st" id="yiyi-1002">&#x5DF2;&#x7ECF;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x57FA;&#x672C;&#x7684;SessionExtension&#x7C7B;&#xFF0C;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;&#x529F;&#x80FD;&#x5728;flush()&#xFF0C;commit()&#x548C;rollback()&#x8FB9;&#x754C;&#x53D1;&#x751F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2bfda89d7a3397e856da817c3ebe21ef">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta2-2"><span class="yiyi-st" id="yiyi-1003"><span class="target" id="change-eead32c9c30ad838d3dd8335b30c3cc5"><strong>[oracle] [improvements.] </strong></span></span><span class="yiyi-st" id="yiyi-1004">&#x6DFB;&#x52A0;&#x4E86;engine_from_config()&#x51FD;&#x6570;&#xFF0C;&#x4EE5;&#x5E2E;&#x52A9;&#x4ECE;.ini&#x6837;&#x5F0F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x521B;&#x5EFA;create_engine()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-eead32c9c30ad838d3dd8335b30c3cc5">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta2-3"><span class="yiyi-st" id="yiyi-1005"><span class="target" id="change-b0bb14e6d31421d0f6c217f9639275b0"><strong>[oracle] [improvements.] </strong></span></span><span class="yiyi-st" id="yiyi-1006">base_mapper()&#x53D8;&#x6210;&#x4E00;&#x4E2A;&#x7EAF;&#x5C5E;&#x6027;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b0bb14e6d31421d0f6c217f9639275b0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta2-4"><span class="yiyi-st" id="yiyi-1007"><span class="target" id="change-15ded3b2513f94c39817cee6f52b785b"><strong>[oracle] [improvements.] </strong></span></span><span class="yiyi-st" id="yiyi-1008">session.execute()&#x548C;scalar()&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7ED9;&#x5B9A;&#x7684;ClauseElement&#x6765;&#x641C;&#x7D22;&#x8981;&#x7ED1;&#x5B9A;&#x7684;&#x8868;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-15ded3b2513f94c39817cee6f52b785b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta2-5"><span class="yiyi-st" id="yiyi-1009"><span class="target" id="change-25c6fb3d43b7dc1f4e87ea3b94d97e32"><strong>[oracle] [improvements.] </strong></span></span><span class="yiyi-st" id="yiyi-1010">&#x4F1A;&#x8BDD;&#x4F7F;&#x7528;&#x7ED1;&#x5B9A;&#x81EA;&#x52A8;&#x4ECE;&#x6620;&#x5C04;&#x5668;&#x63A8;&#x65AD;&#x8868;&#xFF0C;&#x8FD8;&#x4F7F;&#x7528;base_mapper&#xFF0C;&#x4EE5;&#x4FBF;&#x7EE7;&#x627F;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x81EA;&#x52A8;&#x7ED1;&#x5B9A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-25c6fb3d43b7dc1f4e87ea3b94d97e32">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta2-6"><span class="yiyi-st" id="yiyi-1011"><span class="target" id="change-c8b69249d8076c0cd3f9d71973a0c16f"><strong>[oracle] [improvements.] </strong></span></span><span class="yiyi-st" id="yiyi-1012">&#x5C06;ClauseVisitor&#x904D;&#x5386;&#x79FB;&#x56DE;&#x5185;&#x8054;&#x975E;&#x9012;&#x5F52;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c8b69249d8076c0cd3f9d71973a0c16f">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.0beta2-misc"><h3><span class="yiyi-st" id="yiyi-1013">&#x6742;&#x9879;<a class="headerlink" href="#change-0.4.0beta2-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.0beta2-7"><span class="yiyi-st" id="yiyi-1014"><span class="target" id="change-7f72c630ecf1937ef9e22932a61de352"><strong>[tickets] [fixed] </strong></span> <a class="changeset-link headerlink reference internal" href="#change-7f72c630ecf1937ef9e22932a61de352">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1015">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/730">&#xFF03;730</a></span></p></li><li><p id="change-0.4.0beta2-8"><span class="yiyi-st" id="yiyi-1016"><span class="target" id="change-7f72c630ecf1937ef9e22932a61de352"><strong>[tickets] [fixed] </strong></span> <a class="changeset-link headerlink reference internal" href="#change-7f72c630ecf1937ef9e22932a61de352">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1017">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/732">&#xFF03;732</a></span></p></li><li><p id="change-0.4.0beta2-9"><span class="yiyi-st" id="yiyi-1018"><span class="target" id="change-7f72c630ecf1937ef9e22932a61de352"><strong>[tickets] [fixed] </strong></span> <a class="changeset-link headerlink reference internal" href="#change-7f72c630ecf1937ef9e22932a61de352">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1019">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/733">&#xFF03;733</a></span></p></li><li><p id="change-0.4.0beta2-10"><span class="yiyi-st" id="yiyi-1020"><span class="target" id="change-7f72c630ecf1937ef9e22932a61de352"><strong>[tickets] [fixed] </strong></span> <a class="changeset-link headerlink reference internal" href="#change-7f72c630ecf1937ef9e22932a61de352">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1021">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/734">&#xFF03;734</a></span></p></li></ul></div></div><div class="section" id="change-0.4.0beta1"><h2><span class="yiyi-st" id="yiyi-1023">0.4.0beta1 <a class="headerlink" href="#change-0.4.0beta1" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1193">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2007&#x5E74;8&#x6708;12&#x65E5;</span><div class="section" id="change-0.4.0beta1-orm"><h3><span class="yiyi-st" id="yiyi-1024">ORM <a class="headerlink" href="#change-0.4.0beta1-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.0beta1-0"><span class="yiyi-st" id="yiyi-1025"><span class="target" id="change-73240e5294e8bb13d8b6f22802a98b27"><strong>[orm] </strong></span>&#x901F;&#x5EA6;&#xFF01;</span><span class="yiyi-st" id="yiyi-1026">&#x968F;&#x7740;&#x6700;&#x8FD1;&#x5BF9;ResultProxy&#x7684;&#x52A0;&#x901F;&#xFF0C;&#x5927;&#x8D1F;&#x8F7D;&#x7684;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x603B;&#x6570;&#x5927;&#x5927;&#x51CF;&#x5C11;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-73240e5294e8bb13d8b6f22802a98b27">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-1"><span class="yiyi-st" id="yiyi-1027"><span class="target" id="change-d6d237dcaf791d97938c5d2cb8ebcff0"><strong>[orm] </strong></span>test/perf/masseagerload.py reports 0.4 as having the fewest number of function calls across all SA versions (0.1, 0.2, and 0.3).<a class="changeset-link headerlink reference internal" href="#change-d6d237dcaf791d97938c5d2cb8ebcff0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-2"><span class="yiyi-st" id="yiyi-1028"><span class="target" id="change-4a456a11201666fadfcbbfcb69bd3d5e"><strong>[orm] </strong></span>&#x65B0;&#x7684;collection_class api&#x548C;&#x5B9E;&#x73B0;&#x3002;</span><span class="yiyi-st" id="yiyi-1029">&#x96C6;&#x5408;&#x73B0;&#x5728;&#x901A;&#x8FC7;&#x88C5;&#x9970;&#x800C;&#x4E0D;&#x662F;&#x4EE3;&#x7406;&#x8FDB;&#x884C;&#x88C5;&#x9970;&#x3002;</span><span class="yiyi-st" id="yiyi-1030">&#x60A8;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x62E5;&#x6709;&#x7BA1;&#x7406;&#x5176;&#x81EA;&#x5DF1;&#x6210;&#x5458;&#x8D44;&#x683C;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x5E76;&#x4E14;&#x60A8;&#x7684;&#x7C7B;&#x5B9E;&#x4F8B;&#x5C06;&#x76F4;&#x63A5;&#x663E;&#x793A;&#x5728;&#x5173;&#x7CFB;&#x5C5E;&#x6027;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-1031">&#x5BF9;&#x4E8E;&#x5927;&#x591A;&#x6570;&#x7528;&#x6237;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E9B;&#x66F4;&#x6539;&#x662F;&#x900F;&#x660E;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4a456a11201666fadfcbbfcb69bd3d5e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1032">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/213">&#xFF03;213</a></span></p></li><li><p id="change-0.4.0beta1-3"><span class="yiyi-st" id="yiyi-1033"><span class="target" id="change-ac7854a38e375ff1341e8a1b2a022235"><strong>[orm] </strong></span>InstrumentedList (as it was) is removed, and relation properties no longer have &#x2018;clear()&#x2019;, &#x2018;.data&#x2019;, or any other added methods beyond those provided by the collection type. </span><span class="yiyi-st" id="yiyi-1034">&#x5F53;&#x7136;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x5B83;&#x4EEC;&#x6DFB;&#x52A0;&#x5230;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ac7854a38e375ff1341e8a1b2a022235">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-4"><span class="yiyi-st" id="yiyi-1035"><span class="target" id="change-bbebf85d0077a44cbe2ac84913a07d0b"><strong>[orm] </strong></span> __ setitem __-&#x73B0;&#x5728;&#x5C31;&#x50CF;&#x73B0;&#x5728;&#x7684;&#x8D4B;&#x503C;&#x4E00;&#x6837;&#xFF0C;&#x4E3A;&#x73B0;&#x6709;&#x503C;&#x6FC0;&#x53D1;&#x5220;&#x9664;&#x4E8B;&#x4EF6;&#xFF08;&#x5982;&#x679C;&#x6709;&#x7684;&#x8BDD;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bbebf85d0077a44cbe2ac84913a07d0b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-5"><span class="yiyi-st" id="yiyi-1036"><span class="target" id="change-1a0c1db9fbcb17a7c2ba890ea4d9bdc1"><strong>[orm] </strong></span>&#x7528;&#x4F5C;&#x96C6;&#x5408;&#x7C7B;&#x7684;dict-likes&#x4E0D;&#x518D;&#x9700;&#x8981;&#x66F4;&#x6539;__iter__&#x8BED;&#x4E49; -  itervalues()&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-1037">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5411;&#x540E;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x53D8;&#x5316;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1a0c1db9fbcb17a7c2ba890ea4d9bdc1">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-6"><span class="yiyi-st" id="yiyi-1038"><span class="target" id="change-12084d2d1417fb4bf746fd0665112f5f"><strong>[orm] </strong></span>&#x5728;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6620;&#x5C04;&#x96C6;&#x5408;&#x7684;&#x5B50;&#x7C7B;&#x5316;&#x5B57;&#x5178;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x3002;</span><span class="yiyi-st" id="yiyi-1039">orm.collections&#x901A;&#x8FC7;&#x6307;&#x5B9A;&#x7684;&#x5217;&#x6216;&#x60A8;&#x9009;&#x62E9;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x63D0;&#x4F9B;&#x4E86;&#x5173;&#x952E;&#x5BF9;&#x8C61;&#x7684;&#x56FA;&#x5B9A;&#x5B9E;&#x73B0;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-12084d2d1417fb4bf746fd0665112f5f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-7"><span class="yiyi-st" id="yiyi-1040"><span class="target" id="change-4db3f11e48432727edaead94e272e84a"><strong>[orm] </strong></span>&#x96C6;&#x5408;&#x8D4B;&#x503C;&#x73B0;&#x5728;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x517C;&#x5BB9;&#x7C7B;&#x578B; - &#x8D4B;&#x503C;None&#x6765;&#x6E05;&#x9664;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x6216;&#x8005;&#x5C06;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x8D4B;&#x7ED9;&#x4E00;&#x4E2A;dict&#x96C6;&#x5408;&#x73B0;&#x5728;&#x4F1A;&#x5F15;&#x53D1;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4db3f11e48432727edaead94e272e84a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-8"><span class="yiyi-st" id="yiyi-1041"><span class="target" id="change-4431e2ff75387079894f22115c2f811e"><strong>[orm] </strong></span>&#x5C06;AttributeExtension&#x79FB;&#x52A8;&#x5230;&#x63A5;&#x53E3;&#xFF0C;&#x5E76;&#x4E14;.delete&#x73B0;&#x5728;&#x662F;.remove&#x4E8B;&#x4EF6;&#x65B9;&#x6CD5;&#x7B7E;&#x540D;&#x4E5F;&#x5DF2;&#x88AB;&#x4EA4;&#x6362;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4431e2ff75387079894f22115c2f811e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-9"><span class="yiyi-st" id="yiyi-1042"><span class="target" id="change-e23a2954c9bd9fb1bde4aeceefe5d541"><strong>[orm] </strong></span>&#x5BF9;Query&#x8FDB;&#x884C;&#x5927;&#x4FEE;&#xFF1A;<a class="changeset-link headerlink reference internal" href="#change-e23a2954c9bd9fb1bde4aeceefe5d541">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-10"><span class="yiyi-st" id="yiyi-1043"><span class="target" id="change-2503ad929a0fe516710bf9a1780fd348"><strong>[orm] </strong></span>&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x6240;&#x6709;selectXXX&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-1044">&#x751F;&#x6210;&#x65B9;&#x6CD5;&#x73B0;&#x5728;&#x662F;&#x6267;&#x884C;&#x4EFB;&#x52A1;&#x7684;&#x6807;&#x51C6;&#x65B9;&#x6CD5;&#xFF0C;&#x5373;filter()&#xFF0C;filter_by()&#xFF0C;all()&#xFF0C;one()&#x7B49;&#x3002;</span><span class="yiyi-st" id="yiyi-1045">&#x4E0D;&#x8D5E;&#x6210;&#x4F7F;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x7528;&#x65B0;&#x66FF;&#x4EE3;&#x6587;&#x4EF6;&#x4E32;&#x5165;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2503ad929a0fe516710bf9a1780fd348">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-11"><span class="yiyi-st" id="yiyi-1046"><span class="target" id="change-1693eadbe7a1e73418dc29c3c9f5f383"><strong>[orm] </strong></span>&#x7C7B;&#x7EA7;&#x5C5E;&#x6027;&#x73B0;&#x5728;&#x53EF;&#x7528;&#x4F5C;&#x67E5;&#x8BE2;&#x5143;&#x7D20;...&#x4E0D;&#x518D;&#x6709;&apos;.c&#x3002;&apos;&#xFF01;</span><span class="yiyi-st" id="yiyi-1047">&#x201C;Class.c.propname&#x201D;&#x73B0;&#x5728;&#x88AB;&#x201C;Class.propname&#x201D;&#x53D6;&#x4EE3;&#x3002;</span><span class="yiyi-st" id="yiyi-1048">&#x652F;&#x6301;&#x6240;&#x6709;&#x5B50;&#x53E5;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x4EE5;&#x53CA;&#x66F4;&#x9AD8;&#x7EA7;&#x522B;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x5982;&#x7528;&#x4E8E;&#x6807;&#x91CF;&#x5C5E;&#x6027;&#x7684;Class.prop == <some instance="">&#xFF0C;&#x7528;&#x4E8E;&#x6536;&#x96C6;&#x7684;Class.prop.contains&#xFF08;<some instance="">&#xFF09;&#x548C;Class.prop.any&#xFF08;<some expression="">&#x57FA;&#x4E8E;&#x5C5E;&#x6027;&#xFF08;&#x5168;&#x90E8;&#x4E5F;&#x662F;&#x5426;&#x5B9A;&#x7684;&#xFF09;&#x3002;  T2&gt;  T1&gt;  T0&gt;</some></some></some></span><span class="yiyi-st" id="yiyi-1049">&#x57FA;&#x4E8E;&#x8868;&#x683C;&#x7684;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x4EE5;&#x53CA;&#x901A;&#x8FC7;&apos;c&apos;&#x5728;&#x6620;&#x5C04;&#x7C7B;&#x4E0A;&#x5B89;&#x88C5;&#x7684;&#x5217;&#x5F53;&#x7136;&#x4ECD;&#x7136;&#x5B8C;&#x5168;&#x53EF;&#x7528;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x4E0E;&#x65B0;&#x5C5E;&#x6027;&#x81EA;&#x7531;&#x6DF7;&#x5408;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1693eadbe7a1e73418dc29c3c9f5f383">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1050">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/643">&#xFF03;643</a></span></p></li><li><p id="change-0.4.0beta1-12"><span class="yiyi-st" id="yiyi-1051"><span class="target" id="change-6a051d0e61d70a59ef63537773b2b738"><strong>[orm] </strong></span>&#x5220;&#x9664;&#x4E86;&#x53E4;&#x8001;&#x7684;query.select_by_attributename()&#x529F;&#x80FD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6a051d0e61d70a59ef63537773b2b738">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-13"><span class="yiyi-st" id="yiyi-1052"><span class="target" id="change-f99a8e52f17864f9bdbcd276ea36c00e"><strong>[orm] </strong></span>&#x901A;&#x8FC7;&#x52A0;&#x8F7D;&#x52A0;&#x8F7D;&#x4F7F;&#x7528;&#x7684;&#x522B;&#x540D;&#x903B;&#x8F91;&#x5DF2;&#x88AB;&#x63A8;&#x5E7F;&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x4E5F;&#x4E3A;Query&#x6DFB;&#x52A0;&#x4E86;&#x5168;&#x81EA;&#x52A8;&#x522B;&#x540D;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-1053">It&#x2019;s no longer necessary to create an explicit Alias to join to the same tables multiple times; <em>even for self-referential relationships</em>.</span></p><ul><li><span class="yiyi-st" id="yiyi-1054">join()&#x548C;outerjoin()&#x63A5;&#x53D7;&#x53C2;&#x6570;&#x201C;aliased = True&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1055">Yhis&#x4F7F;&#x4ED6;&#x4EEC;&#x7684;&#x8FDE;&#x63A5;&#x5EFA;&#x7ACB;&#x5728;&#x522B;&#x540D;&#x8868;&#x4E0A;&#xFF1B;&#x968F;&#x540E;&#x5BF9;filter()&#x548C;filter_by()&#x7684;&#x8C03;&#x7528;&#x4F1A;&#x5C06;&#x6240;&#x6709;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;&#x662F;&#x7684;&#xFF0C;&#x4F7F;&#x7528;&#x539F;&#x59CB;&#x6620;&#x5C04;&#x8868;&#x7684;&#x5B9E;&#x9645;&#x8868;&#x8FBE;&#x5F0F;&#xFF09;&#x8F6C;&#x6362;&#x4E3A;&#x8FDE;&#x63A5;()&#x7684;&#x6301;&#x7EED;&#x65F6;&#x95F4;&#xFF08;&#x5373;&#x76F4;&#x5230;reset_joinpoint()&#x6216;&#x53E6;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#xFF09; &#x53EB;&#x505A;&#xFF09;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1056">join()&#x548C;outerjoin()&#x63A5;&#x53D7;&#x53C2;&#x6570;&#x201C;id = <somestring>&#x201D;&#x3002;  T0&gt;</somestring></span><span class="yiyi-st" id="yiyi-1057">&#x5F53;&#x4E0E;&#x201C;aliased = True&#x201D;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;add_entity&#xFF08;cls&#xFF0C;id = <somestring>&#xFF09;&#x5F15;&#x7528;&#x8BE5;id&#xFF0C;&#x4EE5;&#x4FBF;&#x5373;&#x4F7F;&#x5B83;&#x4EEC;&#x6765;&#x81EA;&#x522B;&#x540D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x5DF2;&#x52A0;&#x5165;&#x7684;&#x5B9E;&#x4F8B;&#x3002;</somestring></span></li><li><span class="yiyi-st" id="yiyi-1058">join()&#x548C;outerjoin()&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x4E0E;&#x81EA;&#x5F15;&#x7528;&#x5173;&#x7CFB;&#x4E00;&#x8D77;&#x5DE5;&#x4F5C;&#xFF01;</span><span class="yiyi-st" id="yiyi-1059">&#x4F7F;&#x7528;&#x201C;aliased = True&#x201D;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9700;&#x8981;&#x52A0;&#x5165;&#x5C3D;&#x53EF;&#x80FD;&#x591A;&#x7684;&#x5C42;&#x6B21;&#xFF0C;&#x4F8B;&#x5982;query.join&#xFF08;[&apos;children&apos;&#xFF0C;&apos;children&apos;]&#xFF0C;aliased = True&#xFF09;&#xFF1B;&#x8FC7;&#x6EE4;&#x6807;&#x51C6;&#x5C06;&#x9488;&#x5BF9;&#x6700;&#x53F3;&#x8FB9;&#x7684;&#x8FDE;&#x63A5;&#x8868;</span></li></ul><span class="yiyi-st" id="yiyi-1060"> <a class="changeset-link headerlink reference internal" href="#change-f99a8e52f17864f9bdbcd276ea36c00e">&#xB6;</a></span><p></p></li><li><p id="change-0.4.0beta1-14"><span class="yiyi-st" id="yiyi-1061"><span class="target" id="change-3f64e9fd6a4f77b6f36bda3cef6dc70c"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;query.populate_existing()&#xFF0C;&#x5C06;&#x67E5;&#x8BE2;&#x6807;&#x8BB0;&#x4E3A;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x67E5;&#x8BE2;&#x4E2D;&#x63A5;&#x89E6;&#x7684;&#x6240;&#x6709;&#x5B9E;&#x4F8B;&#x7684;&#x6240;&#x6709;&#x5C5E;&#x6027;&#x548C;&#x96C6;&#x5408;&#xFF0C;&#x5305;&#x62EC;&#x52A0;&#x8F7D;&#x5B9E;&#x4F53;&#x7684;&#x5B9E;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3f64e9fd6a4f77b6f36bda3cef6dc70c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1062">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/660">&#xFF03;660</a></span></p></li><li><p id="change-0.4.0beta1-15"><span class="yiyi-st" id="yiyi-1063"><span class="target" id="change-d588f4a694c199bddb5e48ec5c218e25"><strong>[orm] </strong></span>&#x65B0;&#x589E;eagerload_all()&#xFF0C;&#x5141;&#x8BB8;eagerload_all&#xFF08;&apos;x.y.z&apos;&#xFF09;&#x6307;&#x5B9A;&#x7ED9;&#x5B9A;&#x8DEF;&#x5F84;&#x4E2D;&#x6240;&#x6709;&#x5C5E;&#x6027;&#x7684;&#x9884;&#x52A0;&#x8F7D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d588f4a694c199bddb5e48ec5c218e25">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-16"><span class="yiyi-st" id="yiyi-1064"><span class="target" id="change-a392d359411abd1fdd70fd91eee275f6"><strong>[orm] </strong></span>&#x5BF9;Session&#x8FDB;&#x884C;&#x5927;&#x4FEE;&#xFF1A;<a class="changeset-link headerlink reference internal" href="#change-a392d359411abd1fdd70fd91eee275f6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-17"><span class="yiyi-st" id="yiyi-1065"><span class="target" id="change-b3a93d1308868a3fe8596d48cba80f96"><strong>[orm] </strong></span>&#x201C;&#x914D;&#x7F6E;&#x201D;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;&#x201C;sessionmaker()&#x201D;&#x7684;&#x4F1A;&#x8BDD;&#x7684;&#x65B0;&#x51FD;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-1066">&#x53D1;&#x9001;&#x5404;&#x79CD;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x7ED9;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x4E00;&#x6B21;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7C7B;&#xFF0C;&#x5B83;&#x6839;&#x636E;&#x8FD9;&#x4E2A;&#x539F;&#x578B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;Session&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b3a93d1308868a3fe8596d48cba80f96">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-18"><span class="yiyi-st" id="yiyi-1067"><span class="target" id="change-d081429019999b17e12865d77c0fe190"><strong>[orm] </strong></span>SessionTransaction removed from &#x201C;public&#x201D; API. </span><span class="yiyi-st" id="yiyi-1068">&#x60A8;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5728;Session&#x672C;&#x8EAB;&#x4E0A;&#x8C03;&#x7528;begin()/ commit()/ rollback()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d081429019999b17e12865d77c0fe190">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-19"><span class="yiyi-st" id="yiyi-1069"><span class="target" id="change-d803dd5eca36864f998d6bec158fd580"><strong>[orm] </strong></span>&#x4F1A;&#x8BDD;&#x4E5F;&#x652F;&#x6301;SAVEPOINT&#x4E8B;&#x52A1;&#xFF1B;&#x8C03;&#x7528;begin_nested()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d803dd5eca36864f998d6bec158fd580">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-20"><span class="yiyi-st" id="yiyi-1070"><span class="target" id="change-e2ebb386a75361f672fdc4c3c1aa6b9d"><strong>[orm] </strong></span>Session supports two-phase commit behavior when vertically or horizontally partitioning (i.e., using more than one engine). </span><span class="yiyi-st" id="yiyi-1071">&#x4F7F;&#x7528;twophase = True&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e2ebb386a75361f672fdc4c3c1aa6b9d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-21"><span class="yiyi-st" id="yiyi-1072"><span class="target" id="change-9a345bfb97770dff468324795e2f74b4"><strong>[orm] </strong></span>Session flag &#x201C;transactional=True&#x201D; produces a session which always places itself into a transaction when first used. </span><span class="yiyi-st" id="yiyi-1073">&#x5728;commit()&#xFF0C;rollback()&#x6216;close()&#x65F6;&#xFF0C;&#x4E8B;&#x52A1;&#x7ED3;&#x675F;&#xFF1B;&#x4F46;&#x662F;&#x4ECE;&#x4E0B;&#x4E00;&#x6B21;&#x4F7F;&#x7528;&#x5F00;&#x59CB;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9a345bfb97770dff468324795e2f74b4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-22"><span class="yiyi-st" id="yiyi-1074"><span class="target" id="change-80cbb51c05d836b884ed1dc60c229fcb"><strong>[orm] </strong></span>&#x4F1A;&#x8BDD;&#x652F;&#x6301;&#x201C;autoflush = True&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1075">&#x8FD9;&#x4F1A;&#x5728;&#x6BCF;&#x4E2A;&#x67E5;&#x8BE2;&#x4E4B;&#x524D;&#x53D1;&#x51FA;flush()&#x3002;</span><span class="yiyi-st" id="yiyi-1076">&#x4E0E;&#x4E8B;&#x52A1;&#x76F8;&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4FDD;&#x5B58;()/ update()&#x7136;&#x540E;&#x67E5;&#x8BE2;&#xFF0C;&#x65B0;&#x7684;&#x5BF9;&#x8C61;&#x5C06;&#x5728;&#x90A3;&#x91CC;&#x3002;</span><span class="yiyi-st" id="yiyi-1077">&#x5728;&#x672B;&#x5C3E;&#x4F7F;&#x7528;commit()&#xFF08;&#x5982;&#x679C;&#x662F;&#x975E;&#x4E8B;&#x52A1;&#x6027;&#x7684;&#xFF0C;&#x5219;&#x4F7F;&#x7528;flush()&#xFF09;&#x6765;&#x6E05;&#x9664;&#x5269;&#x4F59;&#x7684;&#x53D8;&#x5316;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-80cbb51c05d836b884ed1dc60c229fcb">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-23"><span class="yiyi-st" id="yiyi-1078"><span class="target" id="change-7e824e1c9899b1998d251013e315f0d0"><strong>[orm] </strong></span>&#x65B0;&#x7684;scoped_session()&#x51FD;&#x6570;&#x53D6;&#x4EE3;&#x4E86;SessionContext&#x548C;assignmapper&#x3002;</span><span class="yiyi-st" id="yiyi-1079">&#x6784;&#x5EFA;&#x5230;&#x201C;sessionmaker()&#x201D;&#x6982;&#x5FF5;&#x4E0A;&#xFF0C;&#x4EE5;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;Session()&#x6784;&#x9020;&#x8FD4;&#x56DE;&#x7EBF;&#x7A0B;&#x672C;&#x5730;&#x4F1A;&#x8BDD;&#x7684;&#x7C7B;&#x3002;</span><span class="yiyi-st" id="yiyi-1080">&#x6216;&#x8005;&#xFF0C;&#x5C06;&#x6240;&#x6709;Session&#x65B9;&#x6CD5;&#x4F5C;&#x4E3A;&#x7C7B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#xFF0C;&#x5373;Session.save&#xFF08;foo&#xFF09;&#xFF1B; Session.commit()&#x3002;</span><span class="yiyi-st" id="yiyi-1081">&#x5C31;&#x50CF;&#x65E7;&#x7684;&#x201C;objectstore&#x201D;&#x65E5;&#x5B50;&#x4E00;&#x6837;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7e824e1c9899b1998d251013e315f0d0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-24"><span class="yiyi-st" id="yiyi-1082"><span class="target" id="change-750a1ea55476904ec3c0c11ffc957b4c"><strong>[orm] </strong></span>&#x4E3A;Session&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x201C;&#x7ED1;&#x5B9A;&#x201D;&#x53C2;&#x6570;&#xFF0C;&#x4EE5;&#x652F;&#x6301;&#x4F7F;&#x7528;sessionmaker()&#x51FD;&#x6570;&#x914D;&#x7F6E;&#x591A;&#x4E2A;&#x7ED1;&#x5B9A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-750a1ea55476904ec3c0c11ffc957b4c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-25"><span class="yiyi-st" id="yiyi-1083"><span class="target" id="change-a7615aa7295fda4b76a5dc6b9ad79844"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x57FA;&#x672C;&#x7684;SessionExtension&#x7C7B;&#xFF0C;&#x5141;&#x8BB8;&#x5728;flush()&#xFF0C;commit()&#x548C;rollback()&#x8FB9;&#x754C;&#x4E0A;&#x6267;&#x884C;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;&#x529F;&#x80FD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a7615aa7295fda4b76a5dc6b9ad79844">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-26"><span class="yiyi-st" id="yiyi-1084"><span class="target" id="change-9bd37da16a971ed83453125c1b474094"><strong>[orm] </strong></span> dynamic_loader()&#x53EF;&#x7528;&#x7684;&#x57FA;&#x4E8E;&#x67E5;&#x8BE2;&#x7684;&#x5173;&#x7CFB;()&#x3002;</span><span class="yiyi-st" id="yiyi-1085">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;<em>&#x53EF;&#x5199;</em>&#x96C6;&#x5408;&#xFF08;&#x652F;&#x6301;append()&#x548C;remove()&#xFF09;&#xFF0C;&#x5B83;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x5B9E;&#x65F6;&#x67E5;&#x8BE2;&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-1086">&#x7406;&#x60F3;&#x7684;&#x5904;&#x7406;&#x975E;&#x5E38;&#x5927;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x90E8;&#x5206;&#x52A0;&#x8F7D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9bd37da16a971ed83453125c1b474094">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-27"><span class="yiyi-st" id="yiyi-1087"><span class="target" id="change-f765c92d74ee81bbf71b692a95131664"><strong>[orm] </strong></span> flush() - &#x5D4C;&#x5165;&#x5F0F;&#x884C;&#x5185;INSERT / UPDATE&#x8868;&#x8FBE;&#x5F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-1088">&#x5C06;&#x4EFB;&#x4F55;SQL&#x8868;&#x8FBE;&#x5F0F;&#xFF08;&#x5982;&#x201C;sometable.c.column + 1&#x201D;&#xFF09;&#x5206;&#x914D;&#x7ED9;&#x5B9E;&#x4F8B;&#x7684;&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-1089">&#x5728;flush()&#x4E4B;&#x540E;&#xFF0C;&#x6620;&#x5C04;&#x5668;&#x68C0;&#x6D4B;&#x8868;&#x8FBE;&#x5F0F;&#x5E76;&#x5C06;&#x5176;&#x76F4;&#x63A5;&#x5D4C;&#x5165;INSERT&#x6216;UPDATE&#x8BED;&#x53E5;&#x4E2D;&#xFF1B;&#x8BE5;&#x5C5E;&#x6027;&#x5728;&#x5B9E;&#x4F8B;&#x4E2D;&#x88AB;&#x5EF6;&#x8FDF;&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;&#x4E0B;&#x6B21;&#x8BBF;&#x95EE;&#x5B83;&#x65F6;&#x52A0;&#x8F7D;&#x65B0;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f765c92d74ee81bbf71b692a95131664">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-28"><span class="yiyi-st" id="yiyi-1090"><span class="target" id="change-e9bf598b4653d8e6c0b87142da0e83bd"><strong>[orm] </strong></span>&#x5F15;&#x5165;&#x4E86;&#x4E00;&#x4E2A;&#x57FA;&#x672C;&#x7684;&#x5206;&#x7247;&#xFF08;&#x6C34;&#x5E73;&#x7F29;&#x653E;&#xFF09;&#x7CFB;&#x7EDF;&#x3002;</span><span class="yiyi-st" id="yiyi-1091">&#x8BE5;&#x7CFB;&#x7EDF;&#x4F7F;&#x7528;&#x4FEE;&#x6539;&#x7684;&#x4F1A;&#x8BDD;&#xFF0C;&#x8BE5;&#x4F1A;&#x8BDD;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x5B9A;&#x4E49;&#x201C;&#x5206;&#x7247;&#x7B56;&#x7565;&#x201D;&#x7684;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x5728;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x4E4B;&#x95F4;&#x5206;&#x914D;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x3002;</span><span class="yiyi-st" id="yiyi-1092">&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x5FAA;&#x73AF;&#x65B9;&#x6CD5;&#x6216;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;&#x7CFB;&#x7EDF;&#x5728;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5206;&#x53D1;&#x548C;&#x67E5;&#x8BE2;&#x5B9E;&#x4F8B;&#x53CA;&#x5176;&#x4F9D;&#x8D56;&#x9879;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e9bf598b4653d8e6c0b87142da0e83bd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1093">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/618">&#xFF03;618</a></span></p></li><li><p id="change-0.4.0beta1-29"><span class="yiyi-st" id="yiyi-1094"><span class="target" id="change-a02e26a19bf5a4351869a565aed6dbd4"><strong>[orm] </strong></span> Eager&#x88C5;&#x8F7D;&#x5DF2;&#x5F97;&#x5230;&#x589E;&#x5F3A;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x66F4;&#x591A;&#x5730;&#x65B9;&#x5B9E;&#x73B0;&#x66F4;&#x591A;&#x8FDE;&#x63A5;&#x3002;</span><span class="yiyi-st" id="yiyi-1095">&#x5B83;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5728;&#x4EFB;&#x610F;&#x6DF1;&#x5EA6;&#x4E0A;&#x6CBF;&#x7740;&#x81EA;&#x6211;&#x6307;&#x6D89;&#x548C;&#x5468;&#x671F;&#x6027;&#x7ED3;&#x6784;&#x53D1;&#x6325;&#x4F5C;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-1096">&#x52A0;&#x8F7D;&#x5FAA;&#x73AF;&#x7ED3;&#x6784;&#x65F6;&#xFF0C;&#x5728;relation()&#x4E0A;&#x6307;&#x5B9A;&#x201C;join_depth&#x201D;&#xFF0C;&#x8868;&#x793A;&#x60A8;&#x5E0C;&#x671B;&#x8868;&#x52A0;&#x5165;&#x81EA;&#x5DF1;&#x7684;&#x6B21;&#x6570;&#xFF1B;&#x6BCF;&#x4E2A;&#x7EA7;&#x522B;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x8868;&#x522B;&#x540D;&#x3002;</span><span class="yiyi-st" id="yiyi-1097">&#x522B;&#x540D;&#x540D;&#x79F0;&#x672C;&#x8EAB;&#x662F;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x4F7F;&#x7528;&#x7B80;&#x5355;&#x7684;&#x8BA1;&#x6570;&#x65B9;&#x6848;&#x751F;&#x6210;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x773C;&#x775B;&#x4E0A;&#x66F4;&#x5BB9;&#x6613;&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x662F;&#x5B8C;&#x5168;&#x786E;&#x5B9A;&#x6027;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a02e26a19bf5a4351869a565aed6dbd4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1098">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/659">&#xFF03;659</a></span></p></li><li><p id="change-0.4.0beta1-30"><span class="yiyi-st" id="yiyi-1099"><span class="target" id="change-3ee39648a350e0ce7f6e88a460ef4222"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x590D;&#x5408;&#x5217;&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-1100">&#x8FD9;&#x5141;&#x8BB8;&#x60A8;&#x5728;&#x4F7F;&#x7528;ORM&#x65F6;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7531;&#x591A;&#x4E2A;&#x5217;&#x8868;&#x793A;&#x7684;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1101">&#x65B0;&#x7C7B;&#x578B;&#x7684;&#x5BF9;&#x8C61;&#x5728;&#x67E5;&#x8BE2;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x6BD4;&#x8F83;&#xFF0C;query.get()&#x5B50;&#x53E5;&#x7B49;&#x4E2D;&#x662F;&#x5B8C;&#x5168;&#x53EF;&#x7528;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-1102">&#x5E76;&#x4E14;&#x5C31;&#x597D;&#x50CF;&#x4ED6;&#x4EEC;&#x662F;&#x5E38;&#x89C4;&#x7684;&#x5355;&#x5217;&#x6807;&#x91CF;......&#x9664;&#x975E;&#x4ED6;&#x4EEC;&#x4E0D;&#x662F;&#xFF01;</span><span class="yiyi-st" id="yiyi-1103">&#x5728;&#x6620;&#x5C04;&#x5668;&#x7684;&#x201C;&#x5C5E;&#x6027;&#x201D;&#x5B57;&#x5178;&#x4E2D;&#x4F7F;&#x7528;&#x51FD;&#x6570;composite&#xFF08;cls&#xFF0C;* columns&#xFF09;&#xFF0C;&#x5E76;&#x5C06;cls&#x7684;&#x5B9E;&#x4F8B;&#x521B;&#x5EFA;/&#x6620;&#x5C04;&#x5230;&#x5355;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x7531;&#x4E0E;*&#x5217;&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x7EC4;&#x6210;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3ee39648a350e0ce7f6e88a460ef4222">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1104">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/211">&#xFF03;211</a></span></p></li><li><p id="change-0.4.0beta1-31"><span class="yiyi-st" id="yiyi-1105"><span class="target" id="change-5e44b305ff3b453bab31a4f4dd315202"><strong>[orm] </strong></span>&#x6539;&#x8FDB;&#x4E86;&#x5BF9;&#x5177;&#x6709;&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x81EA;&#x5B9A;&#x4E49;column_property()&#x5C5E;&#x6027;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x66F4;&#x597D;&#x5730;&#x52A0;&#x8F7D;&#x73B0;&#x6709;&#x7684;<a class="changeset-link headerlink reference internal" href="#change-5e44b305ff3b453bab31a4f4dd315202">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-32"><span class="yiyi-st" id="yiyi-1106"><span class="target" id="change-16479493bb7436bccac47ec4d52aa7ab"><strong>[orm] </strong></span>Primary key &#x201C;collapse&#x201D; behavior; the mapper will analyze all columns in its given selectable for primary key &#x201C;equivalence&#x201D;, that is, columns which are equivalent via foreign key relationship or via an explicit inherit_condition. </span><span class="yiyi-st" id="yiyi-1107">&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x8FDE;&#x63A5;&#x8868;&#x7EE7;&#x627F;&#x65B9;&#x6848;&#xFF0C;&#x5176;&#x4E2D;&#x7EE7;&#x627F;&#x8868;&#x4E2D;&#x7684;&#x4E0D;&#x540C;&#x540D;&#x4E3A;PK&#x5217;&#x7684;&#x5E94;&#x8BE5;&#x201C;&#x6298;&#x53E0;&#x201D;&#x4E3A;&#x5355;&#x503C;&#xFF08;&#x6216;&#x66F4;&#x5C11;&#x503C;&#xFF09;&#x7684;&#x4E3B;&#x952E;&#x3002;</span><span class="yiyi-st" id="yiyi-1108">&#x4FEE;&#x590D;&#x8BF8;&#x5982;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-16479493bb7436bccac47ec4d52aa7ab">&#xB6;</a>&#x4E4B;&#x7C7B;&#x7684;&#x5185;&#x5BB9;</span></p><p><span class="yiyi-st" id="yiyi-1109">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/611">&#xFF03;611</a></span></p></li><li><p id="change-0.4.0beta1-33"><span class="yiyi-st" id="yiyi-1110"><span class="target" id="change-8b14a583258b389d8befb88ffab4616e"><strong>[orm] </strong></span>&#x8FDE;&#x63A5;&#x8868;&#x7EE7;&#x627F;&#x73B0;&#x5728;&#x5C06;&#x4EC5;&#x9488;&#x5BF9;&#x8FDE;&#x63A5;&#x7684;&#x6839;&#x8868;&#x751F;&#x6210;&#x6240;&#x6709;&#x7EE7;&#x627F;&#x7C7B;&#x7684;&#x4E3B;&#x952E;&#x5217;&#x3002;</span><span class="yiyi-st" id="yiyi-1111">&#x8FD9;&#x610F;&#x5473;&#x7740;&#x6839;&#x8868;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x884C;&#x90FD;&#x4E0D;&#x540C;&#x4E8E;&#x5355;&#x4E2A;&#x5B9E;&#x4F8B;&#x3002;</span><span class="yiyi-st" id="yiyi-1112">&#x5982;&#x679C;&#x7531;&#x4E8E;&#x67D0;&#x79CD;&#x7F55;&#x89C1;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x8FD9;&#x662F;&#x4E0D;&#x53EF;&#x53D6;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x5404;&#x4E2A;&#x6620;&#x5C04;&#x5668;&#x4E0A;&#x663E;&#x5F0F;&#x7684;primary_key&#x8BBE;&#x7F6E;&#x5C06;&#x8986;&#x76D6;&#x5B83;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8b14a583258b389d8befb88ffab4616e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-34"><span class="yiyi-st" id="yiyi-1113"><span class="target" id="change-5ecb81bd3049827ea00f874dff8a47e2"><strong>[orm] </strong></span>When &#x201C;polymorphic&#x201D; flags are used with joined-table or single-table inheritance, all identity keys are generated against the root class of the inheritance hierarchy; this allows query.get() to work polymorphically using the same caching semantics as a non-polymorphic get. </span><span class="yiyi-st" id="yiyi-1114">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x76EE;&#x524D;&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x5177;&#x4F53;&#x7684;&#x7EE7;&#x627F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5ecb81bd3049827ea00f874dff8a47e2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-35"><span class="yiyi-st" id="yiyi-1115"><span class="target" id="change-b92f42ac37b868e4e25064ca4b5d334d"><strong>[orm] </strong></span>&#x8F85;&#x52A9;&#x7EE7;&#x627F;&#x52A0;&#x8F7D;&#xFF1A;&#x591A;&#x6001;&#x6620;&#x5C04;&#x5668;&#x53EF;&#x4EE5;&#x5728;&#x6CA1;&#x6709; select_table&#x53C2;&#x6570;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x6784;&#x9020;<em>&#x3002;</em></span><span class="yiyi-st" id="yiyi-1116">&#x7EE7;&#x627F;&#x5176;&#x521D;&#x59CB;&#x52A0;&#x8F7D;&#x4E2D;&#x4E0D;&#x8868;&#x793A;&#x7684;&#x6620;&#x5C04;&#x5668;&#x5C06;&#x7ACB;&#x5373;&#x53D1;&#x51FA;&#x7B2C;&#x4E8C;&#x4E2A;SQL&#x67E5;&#x8BE2;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B9E;&#x4F8B;&#x4E00;&#x6B21;&#xFF08;&#x5373;&#x5BF9;&#x4E8E;&#x5927;&#x578B;&#x5217;&#x8868;&#x4E0D;&#x662F;&#x5F88;&#x6709;&#x6548;&#xFF09;&#xFF0C;&#x4EE5;&#x52A0;&#x8F7D;&#x5269;&#x4F59;&#x5217;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b92f42ac37b868e4e25064ca4b5d334d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-36"><span class="yiyi-st" id="yiyi-1117"><span class="target" id="change-e17dea4885205655b3c0e9dc601c5577"><strong>[orm] </strong></span>Secondary inheritance loading can also move its second query into a column-level &#x201C;deferred&#x201D; load, via the &#x201C;polymorphic_fetch&#x201D; argument, which can be set to &#x2018;select&#x2019; or &#x2018;deferred&#x2019;<a class="changeset-link headerlink reference internal" href="#change-e17dea4885205655b3c0e9dc601c5577">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-37"><span class="yiyi-st" id="yiyi-1118"><span class="target" id="change-ba1a26695302fe5a0797ba0c2382d86e"><strong>[orm] </strong></span>&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;include_columns / exclude_columns&#x4EC5;&#x5C06;&#x53EF;&#x7528;&#x7684;&#x53EF;&#x9009;&#x5217;&#x7684;&#x5B50;&#x96C6;&#x6620;&#x5C04;&#x5230;&#x6620;&#x5C04;&#x5668;&#x5C5E;&#x6027;&#x4E0A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ba1a26695302fe5a0797ba0c2382d86e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1119">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/696">&#xFF03;696</a></span></p></li><li><p id="change-0.4.0beta1-38"><span class="yiyi-st" id="yiyi-1120"><span class="target" id="change-d0fafbe316e5579935f88cf76fc3be57"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;undefer_group()MapperOption&#xFF0C;&#x8BBE;&#x7F6E;&#x4E00;&#x7EC4;&#x7531;&#x201C;group&#x201D;&#x52A0;&#x5165;&#x7684;&#x201C;deferred&#x201D;&#x5217;&#x4F5C;&#x4E3A;&#x201C;undeferred&#x201D;&#x52A0;&#x8F7D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d0fafbe316e5579935f88cf76fc3be57">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-39"><span class="yiyi-st" id="yiyi-1121"><span class="target" id="change-c76aef44f5e7e8717c85b529552921fa"><strong>[orm] </strong></span>Rewrite of the &#x201C;deterministic alias name&#x201D; logic to be part of the SQL layer, produces much simpler alias and label names more in the style of Hibernate<a class="changeset-link headerlink reference internal" href="#change-c76aef44f5e7e8717c85b529552921fa">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.0beta1-sql"><h3><span class="yiyi-st" id="yiyi-1122">SQL <a class="headerlink" href="#change-0.4.0beta1-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.0beta1-40"><span class="yiyi-st" id="yiyi-1123"><span class="target" id="change-194d03e759795cb2ff68bbe9af23b306"><strong>[sql] </strong></span>&#x901F;&#x5EA6;&#xFF01;</span><span class="yiyi-st" id="yiyi-1124">&#x5B50;&#x53E5;&#x7F16;&#x8BD1;&#x4EE5;&#x53CA;SQL&#x7ED3;&#x6784;&#x7684;&#x673A;&#x5236;&#x5DF2;&#x7ECF;&#x88AB;&#x7CBE;&#x7B80;&#x548C;&#x7B80;&#x5316;&#x5230;&#x4E86;&#x663E;&#x7740;&#x7684;&#x7A0B;&#x5EA6;&#xFF0C;&#x5BF9;0.3&#x7684;&#x8BED;&#x53E5;&#x6784;&#x5EFA;/&#x7F16;&#x8BD1;&#x5F00;&#x9500;&#x63D0;&#x9AD8;&#x4E86;20-30&#xFF05;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-194d03e759795cb2ff68bbe9af23b306">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-41"><span class="yiyi-st" id="yiyi-1125"><span class="target" id="change-78c937a453ae2a2e9d60a9d7a1b498ac"><strong>[sql] </strong></span>&#x6240;&#x6709;&#x201C;type&#x201D;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#xFF0C;&#x5982;bindparam()&#xFF0C;column()&#xFF0C;Column()&#x548C;func&#x7684;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;<something>()&#xFF0C;&#x91CD;&#x547D;&#x540D;&#x4E3A;&#x201C;type_&#x201D;&#x3002;  T2&gt;</something></span><span class="yiyi-st" id="yiyi-1126">&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x4ECD;&#x5C06;&#x5176;&#x201C;type&#x201D;&#x5C5E;&#x6027;&#x547D;&#x540D;&#x4E3A;&#x201C;type&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-78c937a453ae2a2e9d60a9d7a1b498ac">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-42"><span class="yiyi-st" id="yiyi-1127"><span class="target" id="change-52f227bbb5a90b801adc6ecfd0cc6e3a"><strong>[sql] </strong></span>case_sensitive=(True|False) setting removed from schema items, since checking this state added a lot of method call overhead and there was no decent reason to ever set it to False. </span><span class="yiyi-st" id="yiyi-1128">&#x8868;&#x548C;&#x5217;&#x540D;&#x90FD;&#x662F;&#x5C0F;&#x5199;&#xFF0C;&#x5C06;&#x88AB;&#x89C6;&#x4E3A;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF08;&#x662F;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x8C03;&#x6574;&#x4E86;Oracle&#x7684;&#x5927;&#x5199;&#x6837;&#x5F0F;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-52f227bbb5a90b801adc6ecfd0cc6e3a">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.0beta1-mysql"><h3><span class="yiyi-st" id="yiyi-1129">MySQL&#x7684;<a class="headerlink" href="#change-0.4.0beta1-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.0beta1-43"><span class="yiyi-st" id="yiyi-1130"><span class="target" id="change-c9ff316cda3e7c6e32e67deee9bdb175"><strong>[mysql] </strong></span>&#x901A;&#x8FC7;&#x53CD;&#x5C04;&#x52A0;&#x8F7D;&#x7684;&#x8868;&#x540D;&#x548C;&#x5217;&#x540D;&#x73B0;&#x5728;&#x662F;Unicode&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c9ff316cda3e7c6e32e67deee9bdb175">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-44"><span class="yiyi-st" id="yiyi-1131"><span class="target" id="change-4db25c57037e2e33e840cb086dca3781"><strong>[mysql] </strong></span>&#x73B0;&#x5728;&#x652F;&#x6301;&#x6240;&#x6709;&#x6807;&#x51C6;&#x5217;&#x7C7B;&#x578B;&#xFF0C;&#x5305;&#x62EC;SET&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4db25c57037e2e33e840cb086dca3781">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-45"><span class="yiyi-st" id="yiyi-1132"><span class="target" id="change-5117b0e81758578c4222aa8bbd429983"><strong>[mysql] </strong></span>&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x6B21;&#x5F80;&#x8FD4;&#x4E2D;&#x6267;&#x884C;&#x8868;&#x53CD;&#x5C04;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5117b0e81758578c4222aa8bbd429983">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-46"><span class="yiyi-st" id="yiyi-1133"><span class="target" id="change-a5b4e4cd9830ca04727e6cc01578d944"><strong>[mysql] </strong></span>&#x73B0;&#x5728;&#x652F;&#x6301;ANSI&#x548C;ANSI_QUOTES sql&#x6A21;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a5b4e4cd9830ca04727e6cc01578d944">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-47"><span class="yiyi-st" id="yiyi-1134"><span class="target" id="change-3b4260991961474e8042e1a66c9f73b0"><strong>[mysql] </strong></span>&#x7D22;&#x5F15;&#x73B0;&#x5728;&#x53CD;&#x6620;&#x51FA;&#x6765;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3b4260991961474e8042e1a66c9f73b0">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.4.0beta1-oracle"><h3><span class="yiyi-st" id="yiyi-1135">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.4.0beta1-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.0beta1-48"><span class="yiyi-st" id="yiyi-1136"><span class="target" id="change-cf0060d4bbf9e676c4a7c5beb5f02382"><strong>[oracle] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;OUT&#x53C2;&#x6570;&#x7684;&#x975E;&#x5E38;&#x57FA;&#x672C;&#x7684;&#x652F;&#x6301;&#xFF1B;&#x4F7F;&#x7528;sql.outparam&#xFF08;name&#xFF0C;type&#xFF09;&#x6765;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;OUT&#x53C2;&#x6570;&#xFF0C;&#x5C31;&#x50CF;bindparam()&#xFF1B;&#x6267;&#x884C;&#x540E;&#xFF0C;&#x503C;&#x53EF;&#x901A;&#x8FC7;result.out_parameters&#x5B57;&#x5178;&#x83B7;&#x5F97;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cf0060d4bbf9e676c4a7c5beb5f02382">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1137">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/507">&#xFF03;507</a></span></p></li></ul></div><div class="section" id="change-0.4.0beta1-misc"><h3><span class="yiyi-st" id="yiyi-1138">&#x6742;&#x9879;<a class="headerlink" href="#change-0.4.0beta1-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.4.0beta1-49"><span class="yiyi-st" id="yiyi-1139"><span class="target" id="change-ef7a1ed2659338f4b08899b9caaab99b"><strong>[transactions] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;&#x4E8B;&#x52A1;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x7BA1;&#x7406;&#x5668;&#xFF08;&#x5E26;&#x8BED;&#x53E5;&#xFF09;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ef7a1ed2659338f4b08899b9caaab99b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-50"><span class="yiyi-st" id="yiyi-1140"><span class="target" id="change-c77644da7acda73068dc7396e5f398af"><strong>[transactions] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;mysql&#x548C;postgres&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c77644da7acda73068dc7396e5f398af">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-51"><span class="yiyi-st" id="yiyi-1141"><span class="target" id="change-df709470ae31b3f45008bbaa141d6d2c"><strong>[transactions] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;&#x4FDD;&#x5B58;&#x70B9;&#x7684;&#x5B50;&#x4E8B;&#x52A1;&#x5B9E;&#x73B0;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-df709470ae31b3f45008bbaa141d6d2c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-52"><span class="yiyi-st" id="yiyi-1142"><span class="target" id="change-8ade1ccb1059d3677b8b76a06a346099"><strong>[transactions] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x4FDD;&#x5B58;&#x70B9;&#x7684;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8ade1ccb1059d3677b8b76a06a346099">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-53"><span class="yiyi-st" id="yiyi-1143"><span class="target" id="change-57d0fe83f069aa4fcd55bfbfe003c8f0"><strong>[metadata] </strong></span>&#x53EF;&#x4EE5;&#x4ECE;&#x6570;&#x636E;&#x5E93;en-masse&#x4E2D;&#x53CD;&#x6620;&#x8868;&#xFF0C;&#x800C;&#x65E0;&#x9700;&#x4E8B;&#x5148;&#x58F0;&#x660E;&#x5B83;&#x4EEC;&#x3002;</span><span class="yiyi-st" id="yiyi-1144">MetaData&#xFF08;engine&#xFF0C;reflect = True&#xFF09;&#x4F1A;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x8868;&#xFF0C;&#x6216;&#x8005;&#x4F7F;&#x7528;metadata.reflect()&#x8FDB;&#x884C;&#x66F4;&#x597D;&#x7684;&#x63A7;&#x5236;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-57d0fe83f069aa4fcd55bfbfe003c8f0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-54"><span class="yiyi-st" id="yiyi-1145"><span class="target" id="change-c614e9a639adda152c6ab95d984bf7d5"><strong>[metadata] </strong></span> DynamicMetaData&#x5DF2;&#x91CD;&#x547D;&#x540D;&#x4E3A;ThreadLocalMetaData <a class="changeset-link headerlink reference internal" href="#change-c614e9a639adda152c6ab95d984bf7d5">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-55"><span class="yiyi-st" id="yiyi-1146"><span class="target" id="change-ec45f540628c12b33729f88a7567a8d3"><strong>[metadata] </strong></span> ThreadLocalMetaData&#x6784;&#x9020;&#x51FD;&#x6570;&#x73B0;&#x5728;&#x4E0D;&#x5E26;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ec45f540628c12b33729f88a7567a8d3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-56"><span class="yiyi-st" id="yiyi-1147"><span class="target" id="change-df3a2a76ccedf6eff1bec3c34ea2c717"><strong>[metadata] </strong></span> BoundMetaData&#x5DF2;&#x88AB;&#x5220;&#x9664; - &#x5E38;&#x89C4;MetaData&#x7B49;&#x540C;&#x4E8E;<a class="changeset-link headerlink reference internal" href="#change-df3a2a76ccedf6eff1bec3c34ea2c717">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-57"><span class="yiyi-st" id="yiyi-1148"><span class="target" id="change-91306d19b451219b417b42a60215a684"><strong>[metadata] </strong></span>&#x6570;&#x5B57;&#x548C;&#x6D6E;&#x70B9;&#x7C7B;&#x578B;&#x73B0;&#x5728;&#x6709;&#x4E00;&#x4E2A;&#x201C;asdecimal&#x201D;&#x6807;&#x5FD7;&#xFF1B;&#x5BF9;&#x4E8E;&#x6570;&#x5B57;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;True&#xFF0C;&#x5BF9;&#x4E8E;Float&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;False&#x3002;</span><span class="yiyi-st" id="yiyi-1149">&#x5F53;&#x4E3A;True&#x65F6;&#xFF0C;&#x503C;&#x4EE5;&#x5341;&#x8FDB;&#x5236;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x3002;&#x5F53;False&#x65F6;&#xFF0C;&#x503C;&#x8FD4;&#x56DE;&#x4E3A;float()&#x3002;</span><span class="yiyi-st" id="yiyi-1150">True / False&#x7684;&#x7F3A;&#x7701;&#x503C;&#x5DF2;&#x7ECF;&#x662F;PG&#x548C;MySQL&#x7684;DBAPI&#x6A21;&#x5757;&#x7684;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-91306d19b451219b417b42a60215a684">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1151">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/646">&#xFF03;646</a></span></p></li><li><p id="change-0.4.0beta1-58"><span class="yiyi-st" id="yiyi-1152"><span class="target" id="change-08e4ad114c618cb250f9f7dfd398ee15"><strong>[metadata] </strong></span>&#x65B0;&#x7684;SQL&#x8FD0;&#x7B97;&#x7B26;&#x5B9E;&#x73B0;&#xFF0C;&#x5B83;&#x4ECE;&#x8868;&#x8FBE;&#x5F0F;&#x7ED3;&#x6784;&#x4E2D;&#x79FB;&#x9664;&#x6240;&#x6709;&#x786C;&#x7F16;&#x7801;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#x5E76;&#x5C06;&#x5B83;&#x4EEC;&#x8F6C;&#x79FB;&#x5230;&#x7F16;&#x8BD1;&#x4E2D;&#xFF1B;&#x5141;&#x8BB8;&#x64CD;&#x4F5C;&#x5458;&#x7F16;&#x8BD1;&#x66F4;&#x5927;&#x7684;&#x7075;&#x6D3B;&#x6027;&#xFF1B;&#x4F8B;&#x5982;&#xFF0C;&#x201C;+&#x201D;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x4F7F;&#x7528;&#x65F6;&#x7F16;&#x8BD1;&#x4E3A;&#x201C;||&#x201D;&#xFF0C;&#x6216;&#x8005;&#x5728;MySQL&#x4E0A;&#x4F7F;&#x7528;&#x201C;concat&#xFF08;a&#xFF0C;b&#xFF09;&#x201D;&#xFF1B;&#x800C;&#x5728;&#x6570;&#x5B57;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x5219;&#x7F16;&#x8BD1;&#x4E3A;&#x201C;+&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1153">&#x4FEE;&#x590D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-08e4ad114c618cb250f9f7dfd398ee15">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-1154">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/475">&#xFF03;475</a></span></p></li><li><p id="change-0.4.0beta1-59"><span class="yiyi-st" id="yiyi-1155"><span class="target" id="change-b3b40957f331feb3c0753ba57969930d"><strong>[metadata] </strong></span>&#x201C;&#x533F;&#x540D;&#x201D;&#x522B;&#x540D;&#x548C;&#x6807;&#x7B7E;&#x540D;&#x79F0;&#x73B0;&#x5728;&#x5728;SQL&#x7F16;&#x8BD1;&#x65F6;&#x4EE5;&#x5B8C;&#x5168;&#x786E;&#x5B9A;&#x6027;&#x7684;&#x65B9;&#x5F0F;&#x751F;&#x6210;...&#x4E0D;&#x518D;&#x662F;&#x968F;&#x673A;&#x7684;&#x5341;&#x516D;&#x8FDB;&#x5236;ID <a class="changeset-link headerlink reference internal" href="#change-b3b40957f331feb3c0753ba57969930d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-60"><span class="yiyi-st" id="yiyi-1156"><span class="target" id="change-e48f6937efaa01d2cb93a212c539a175"><strong>[metadata] </strong></span>&#x5BF9;SQL&#x5143;&#x7D20;&#xFF08;ClauseElement&#xFF09;&#x7684;&#x91CD;&#x8981;&#x67B6;&#x6784;&#x68C0;&#x4FEE;&#x3002;</span><span class="yiyi-st" id="yiyi-1157">&#x6240;&#x6709;&#x5143;&#x7D20;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x5171;&#x540C;&#x7684;&#x201C;&#x53EF;&#x53D8;&#x6027;&#x201D;&#x6846;&#x67B6;&#xFF0C;&#x5141;&#x8BB8;&#x91C7;&#x7528;&#x4E00;&#x81F4;&#x7684;&#x65B9;&#x6CD5;&#x5BF9;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x5C31;&#x5730;&#x4FEE;&#x6539;&#x4EE5;&#x53CA;&#x751F;&#x6210;&#x884C;&#x4E3A;&#x3002;</span><span class="yiyi-st" id="yiyi-1158">&#x63D0;&#x9AD8;ORM&#x7684;&#x7A33;&#x5B9A;&#x6027;&#xFF0C;&#x4ECE;&#x800C;&#x5927;&#x91CF;&#x4F7F;&#x7528;SQL&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7A81;&#x53D8;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e48f6937efaa01d2cb93a212c539a175">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-61"><span class="yiyi-st" id="yiyi-1159"><span class="target" id="change-14a7a270d71f45154959854f228c79f8"><strong>[metadata] </strong></span>select() and union()&#x2019;s now have &#x201C;generative&#x201D; behavior. </span><span class="yiyi-st" id="yiyi-1160">&#x50CF;order_by()&#x548C;group_by()&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;<em>&#x65B0;&#x7684;</em>&#x5B9E;&#x4F8B; - &#x539F;&#x59CB;&#x5B9E;&#x4F8B;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#x3002;</span><span class="yiyi-st" id="yiyi-1161">&#x975E;&#x751F;&#x6210;&#x65B9;&#x6CD5;&#x4ECD;&#x7136;&#x5B58;&#x5728;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-14a7a270d71f45154959854f228c79f8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-62"><span class="yiyi-st" id="yiyi-1162"><span class="target" id="change-b2f095c257ecd4fc1b70ea9343fab060"><strong>[metadata] </strong></span>The internals of select/union vastly simplified- all decision making regarding &#x201C;is subquery&#x201D; and &#x201C;correlation&#x201D; pushed to SQL generation phase. </span><span class="yiyi-st" id="yiyi-1163">select()&#x5143;&#x7D20;&#x73B0;&#x5728;<em>&#x4ECE;&#x4E0D;</em>&#x88AB;&#x5B83;&#x4EEC;&#x7684;&#x5C01;&#x95ED;&#x5BB9;&#x5668;&#x6216;&#x4EFB;&#x4F55;&#x65B9;&#x8A00;&#x7684;&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;&#x6240;&#x7A81;&#x53D8;<a class="changeset-link headerlink reference internal" href="#change-b2f095c257ecd4fc1b70ea9343fab060">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1164">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/569">&#xFF03;569</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/52">&#xFF03;52</a></span></p></li><li><p id="change-0.4.0beta1-63"><span class="yiyi-st" id="yiyi-1165"><span class="target" id="change-cd01f4b5a2b4d78a16a7b4d48f5c73f0"><strong>[metadata] </strong></span> select&#xFF08;scalar = True&#xFF09;&#x53C2;&#x6570;&#x5DF2;&#x5F03;&#x7528;&#xFF1B;&#x4F7F;&#x7528;select&#xFF08;..&#xFF09;&#x3002;as_scalar()&#x3002;</span><span class="yiyi-st" id="yiyi-1166">&#x5F97;&#x5230;&#x7684;&#x5BF9;&#x8C61;&#x670D;&#x4ECE;&#x5B8C;&#x6574;&#x7684;&#x201C;&#x5217;&#x201D;&#x63A5;&#x53E3;&#xFF0C;&#x5E76;&#x5728;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x64AD;&#x653E;&#x66F4;&#x597D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cd01f4b5a2b4d78a16a7b4d48f5c73f0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-64"><span class="yiyi-st" id="yiyi-1167">&#x6DFB;&#x52A0;select()&#x3002;with_prefix&#xFF08;&apos;foo&apos;&#xFF09;&#x5141;&#x8BB8;&#x5728;SELECT <a class="changeset-link headerlink reference internal" href="#change-10b500c2c9cba9a5927217ff7420f2b0">&#xB6;</a>&#x7684;columns&#x5B50;&#x53E5;&#x4E4B;&#x524D;&#x653E;&#x7F6E;&#x4EFB;&#x4F55;&#x5173;&#x952E;&#x5B57;&#x96C6;&#x5408;&#x3002;<span class="target" id="change-10b500c2c9cba9a5927217ff7420f2b0"><strong>[metadata] </strong></span></span></p><p><span class="yiyi-st" id="yiyi-1168">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/504">&#xFF03;504</a></span></p></li><li><p id="change-0.4.0beta1-65"><span class="yiyi-st" id="yiyi-1169"><span class="target" id="change-df8444af8624fed7a285c5b7bf482a29"><strong>[metadata] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x884C;[<index>] <a class="changeset-link headerlink reference internal" href="#change-df8444af8624fed7a285c5b7bf482a29">&#xB6;</a></index>&#x7684;&#x6570;&#x7EC4;&#x5207;&#x7247;&#x652F;&#x6301;</span></p><p><span class="yiyi-st" id="yiyi-1170">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/686">&#xFF03;686</a></span></p></li><li><p id="change-0.4.0beta1-66"><span class="yiyi-st" id="yiyi-1171"><span class="target" id="change-071fcdfe4ff56a5b234d1de2137bbf1d"><strong>[metadata] </strong></span>&#x7ED3;&#x679C;&#x96C6;&#x53EF;&#x4EE5;&#x66F4;&#x597D;&#x5730;&#x5C1D;&#x8BD5;&#x5C06;cursor.description&#x4E2D;&#x5B58;&#x5728;&#x7684;DBAPI&#x7C7B;&#x578B;&#x4E0E;&#x65B9;&#x8A00;&#x5B9A;&#x4E49;&#x7684;TypeEngine&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x5339;&#x914D;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x5176;&#x7528;&#x4E8E;&#x7ED3;&#x679C;&#x5904;&#x7406;&#x3002;</span><span class="yiyi-st" id="yiyi-1172">&#x6CE8;&#x610F;&#x8FD9;&#x53EA;&#x5BF9;&#x6587;&#x672C;SQL&#x6709;&#x6548;&#xFF1B;&#x6784;&#x9020;&#x7684;SQL&#x8BED;&#x53E5;&#x603B;&#x662F;&#x6709;&#x4E00;&#x4E2A;&#x660E;&#x786E;&#x7684;&#x7C7B;&#x578B;&#x6620;&#x5C04;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-071fcdfe4ff56a5b234d1de2137bbf1d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-67"><span class="yiyi-st" id="yiyi-1173"><span class="target" id="change-5df181a5d5e28fb2cade70322001e596"><strong>[metadata] </strong></span>Result sets from CRUD operations close their underlying cursor immediately and will also autoclose the connection if defined for the operation; this allows more efficient usage of connections for successive CRUD operations with less chance of &#x201C;dangling connections&#x201D;.<a class="changeset-link headerlink reference internal" href="#change-5df181a5d5e28fb2cade70322001e596">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-68"><span class="yiyi-st" id="yiyi-1174"><span class="target" id="change-89948a9f39a2ae2cba3dc69fc35f2d88"><strong>[metadata] </strong></span>&#x5217;&#x9ED8;&#x8BA4;&#x548C;onupdate Python&#x51FD;&#x6570;&#xFF08;&#x5373;&#x4F20;&#x9012;&#x7ED9;ColumnDefault&#xFF09;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x96F6;&#x4E2A;&#x6216;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF1B;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;ExecutionContext&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x4ECE;&#x4E2D;&#x8C03;&#x7528;&#x201C;context.parameters [someparam]&#x201D;&#x6765;&#x8BBF;&#x95EE;&#x9644;&#x52A0;&#x5230;&#x8BE5;&#x8BED;&#x53E5;&#x7684;&#x5176;&#x4ED6;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-1175">&#x7528;&#x4E8E;&#x6267;&#x884C;&#x7684;&#x8FDE;&#x63A5;&#x4E5F;&#x53EF;&#x7528;&#xFF0C;&#x4EE5;&#x4FBF;&#x60A8;&#x53EF;&#x4EE5;&#x9884;&#x6267;&#x884C;&#x8BED;&#x53E5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-89948a9f39a2ae2cba3dc69fc35f2d88">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1176">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/559">&#xFF03;559</a></span></p></li><li><p id="change-0.4.0beta1-69"><span class="yiyi-st" id="yiyi-1177"><span class="target" id="change-3424c25ad26ee106ba392edc6c3a817c"><strong>[metadata] </strong></span>&#x65B0;&#x589E;&#x4E86;&#x201C;explcit&#x201D;&#x521B;&#x5EFA;/&#x5220;&#x9664;/&#x6267;&#x884C;&#x5E8F;&#x5217;&#x652F;&#x6301;&#xFF08;&#x5373;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x201C;&#x53EF;&#x8FDE;&#x63A5;&#x201D;&#x4F20;&#x9012;&#x7ED9;&#x5E8F;&#x5217;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x65B9;&#x6CD5;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-3424c25ad26ee106ba392edc6c3a817c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-70"><span class="yiyi-st" id="yiyi-1178"><span class="target" id="change-7bb1f65298c3ca1debf3d2f941ac1247"><strong>[metadata] </strong></span>&#x5728;&#x64CD;&#x4F5C;&#x6A21;&#x5F0F;&#x65F6;&#x66F4;&#x597D;&#x5730;&#x5F15;&#x7528;&#x6807;&#x8BC6;&#x7B26;<a class="changeset-link headerlink reference internal" href="#change-7bb1f65298c3ca1debf3d2f941ac1247">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-71"><span class="yiyi-st" id="yiyi-1179"><span class="target" id="change-35fdc74c58ccab72b6a95ed3fd9c27bd"><strong>[metadata] </strong></span>&#x6807;&#x51C6;&#x5316;&#x65E0;&#x6CD5;&#x5B9A;&#x4F4D;&#x7C7B;&#x578B;&#x7684;&#x8868;&#x53CD;&#x5C04;&#x884C;&#x4E3A;&#xFF1B; NullType&#x88AB;&#x66FF;&#x6362;&#xFF0C;&#x5F15;&#x53D1;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-35fdc74c58ccab72b6a95ed3fd9c27bd">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-72"><span class="yiyi-st" id="yiyi-1180"><span class="target" id="change-91634a26453429e65ac127027572ca43"><strong>[metadata] </strong></span> ColumnCollection&#xFF08;&#x5373;&#x8868;&#x4E0A;&#x7684;&apos;c&apos;&#x5C5E;&#x6027;&#xFF09;&#x9075;&#x5FAA;&#x201C;__contains __&#x201D;&#x7684;&#x5B57;&#x5178;&#x8BED;&#x4E49;<a class="changeset-link headerlink reference internal" href="#change-91634a26453429e65ac127027572ca43">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1181">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/606">&#xFF03;606</a></span></p></li><li><p id="change-0.4.0beta1-73"><span class="yiyi-st" id="yiyi-1182"><span class="target" id="change-c2feef689fd707ec3da5f884a6aa2987"><strong>[engines] </strong></span>&#x901F;&#x5EA6;&#xFF01;</span><span class="yiyi-st" id="yiyi-1183">&#x7ED3;&#x679C;&#x5904;&#x7406;&#x548C;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x5904;&#x7406;&#x7684;&#x673A;&#x5236;&#x5DF2;&#x88AB;&#x5F7B;&#x5E95;&#x6539;&#x8FDB;&#xFF0C;&#x7CBE;&#x7B80;&#x548C;&#x4F18;&#x5316;&#xFF0C;&#x4EE5;&#x5C3D;&#x53EF;&#x80FD;&#x5C11;&#x5730;&#x53D1;&#x51FA;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-1184">&#x8D28;&#x91CF;INSERT&#x548C;&#x8D28;&#x91CF;&#x884C;&#x96C6;&#x8FED;&#x4EE3;&#x7684;&#x53F0;&#x67B6;&#x6D4B;&#x8BD5;&#x663E;&#x793A;&#xFF0C;0.4&#x7684;&#x901F;&#x5EA6;&#x6BD4;0.3&#x5FEB;&#x4E24;&#x500D;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6B21;&#x6570;&#x51CF;&#x5C11;&#x4E86;68&#xFF05;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c2feef689fd707ec3da5f884a6aa2987">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-74"><span class="yiyi-st" id="yiyi-1185"><span class="target" id="change-dbcb4c5e8906eb7ab54649e1e2eee3e6"><strong>[engines] </strong></span>You can now hook into the pool lifecycle and run SQL statements or other logic at new each DBAPI connection, pool check-out and check-in.<a class="changeset-link headerlink reference internal" href="#change-dbcb4c5e8906eb7ab54649e1e2eee3e6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-75"><span class="yiyi-st" id="yiyi-1186"><span class="target" id="change-fd980057fb18ce87420a619497401906"><strong>[engines] </strong></span>&#x8FDE;&#x63A5;&#x83B7;&#x5F97;&#x4E00;&#x4E2A;.properties&#x96C6;&#x5408;&#xFF0C;&#x5176;&#x5185;&#x5BB9;&#x8303;&#x56F4;&#x4E3A;&#x57FA;&#x7840;DBAPI&#x8FDE;&#x63A5;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;<a class="changeset-link headerlink reference internal" href="#change-fd980057fb18ce87420a619497401906">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-76"><span class="yiyi-st" id="yiyi-1187"><span class="target" id="change-7db700fb15caca564e6d1b470ddbf1c7"><strong>[engines] </strong></span>&#x4ECE;&#x6C60;&#x4E2D;&#x5220;&#x9664;&#x4E86;auto_close_cursors&#x548C;disallow_open_cursors&#x53C2;&#x6570;&#xFF1B;&#x7531;&#x4E8E;&#x6E38;&#x6807;&#x901A;&#x5E38;&#x7531;ResultProxy&#x548C;Connection&#x5173;&#x95ED;&#xFF0C;&#x56E0;&#x6B64;&#x51CF;&#x5C11;&#x5F00;&#x9500;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7db700fb15caca564e6d1b470ddbf1c7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-77"><span class="yiyi-st" id="yiyi-1188"><span class="target" id="change-3b532a60bc0029ec354daf934d3a927a"><strong>[extensions] </strong></span> proxyengine&#x6682;&#x65F6;&#x88AB;&#x79FB;&#x9664;&#xFF0C;&#x7B49;&#x5F85;&#x5B9E;&#x9645;&#x5DE5;&#x4F5C;&#x66FF;&#x6362;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3b532a60bc0029ec354daf934d3a927a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-78"><span class="yiyi-st" id="yiyi-1189"><span class="target" id="change-4365514b9b0ac1a9bf2782c1798256a6"><strong>[extensions] </strong></span> SelectResults&#x5DF2;&#x88AB;Query&#x53D6;&#x4EE3;&#x3002;</span><span class="yiyi-st" id="yiyi-1190">SelectResults / SelectResultsExt&#x4ECD;&#x7136;&#x5B58;&#x5728;&#xFF0C;&#x4F46;&#x53EA;&#x662F;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7A0D;&#x5FAE;&#x4FEE;&#x6539;&#x7684;Query&#x5BF9;&#x8C61;&#x4EE5;&#x5B9E;&#x73B0;&#x5411;&#x540E;&#x517C;&#x5BB9;&#x3002;</span><span class="yiyi-st" id="yiyi-1191">&#x6765;&#x81EA;SelectResults&#x7684;join_to()&#x65B9;&#x6CD5;&#x4E0D;&#x518D;&#x5B58;&#x5728;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;join()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4365514b9b0ac1a9bf2782c1798256a6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.4.0beta1-79"><span class="yiyi-st" id="yiyi-1192"><span class="target" id="change-bf48335461a856fcc94af29e957c22d2"><strong>[postgres] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4F7F;&#x7528;postgres&#x6570;&#x7EC4;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;PGArray&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bf48335461a856fcc94af29e957c22d2">&#xB6;</a></span></p><p></p></li></ul></div></div>