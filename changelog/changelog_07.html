<h1><span class="yiyi-st" id="yiyi-180">0.7&#x66F4;&#x65B0;&#x65E5;&#x5FD7;<a class="headerlink" href="#changelog" title="Permalink to this headline">&#xB6;</a></span></h1><div class="section" id="change-0.7.11"><h2><span class="yiyi-st" id="yiyi-181">0.7.11 <a class="headerlink" href="#change-0.7.11" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-219">&#x6CA1;&#x6709;&#x53D1;&#x5E03;&#x65E5;&#x671F;</span><div class="section" id="change-0.7.11-orm"><h3><span class="yiyi-st" id="yiyi-182">ORM <a class="headerlink" href="#change-0.7.11-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.11-0"><span class="yiyi-st" id="yiyi-183"><span class="target" id="change-452dd931d596e8eff62a71b5f6d967bd"><strong>[orm] [bug] </strong></span>Fixed bug where list instrumentation would fail to represent a setslice of <code class="docutils literal"><span class="pre">[0:0]</span></code> correctly, which in particular could occur when using <code class="docutils literal"><span class="pre">insert(0,</span> <span class="pre">item)</span></code> with the association proxy. </span><span class="yiyi-st" id="yiyi-184">&#x7531;&#x4E8E;Python&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x602A;&#x7656;&#xFF0C;&#x4F7F;&#x7528;Python 3&#x800C;&#x4E0D;&#x662F;2&#x7684;&#x53EF;&#x80FD;&#x6027;&#x66F4;&#x5927;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-452dd931d596e8eff62a71b5f6d967bd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-185">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2807">&#xFF03;2807</a></span></p></li><li><p id="change-0.7.11-1"><span class="yiyi-st" id="yiyi-186"><span class="target" id="change-67c2029e6f187392003eec283687e00e"><strong>[orm] [bug] </strong></span>Fixed bug when a query of the form: <code class="docutils literal"><span class="pre">query(SubClass).options(subqueryload(Baseclass.attrname))</span></code>, where <code class="docutils literal"><span class="pre">SubClass</span></code> is a joined inh of <code class="docutils literal"><span class="pre">BaseClass</span></code>, would fail to apply the <code class="docutils literal"><span class="pre">JOIN</span></code> inside the subquery on the attribute load, producing a cartesian product. </span><span class="yiyi-st" id="yiyi-187">&#x586B;&#x5145;&#x7684;&#x7ED3;&#x679C;&#x4ECD;&#x7136;&#x662F;&#x6B63;&#x786E;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x989D;&#x5916;&#x7684;&#x884C;&#x53EA;&#x662F;&#x88AB;&#x5FFD;&#x7565;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x65F6;&#x6027;&#x80FD;&#x4E0B;&#x964D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-67c2029e6f187392003eec283687e00e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-188">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2699">&#xFF03;2699</a></span></p></li><li><p id="change-0.7.11-2"><span class="yiyi-st" id="yiyi-189"><span class="target" id="change-70b9b9893c9cd22af7e63065e86830bc"><strong>[orm] [bug] </strong></span>Fixed bug in unit of work whereby a joined-inheritance subclass could insert the row for the &#x201C;sub&#x201D; table before the parent table, if the two tables had no ForeignKey constraints set up between them.<a class="changeset-link headerlink reference internal" href="#change-70b9b9893c9cd22af7e63065e86830bc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-190">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2689">&#xFF03;2689</a></span></p></li><li><p id="change-0.7.11-3"><span class="yiyi-st" id="yiyi-191"><span class="target" id="change-8a5e83498c9c0eded67638e01d96e699"><strong>[orm] [bug] </strong></span>Improved the error message emitted when a &#x201C;backref loop&#x201D; is detected, that is when an attribute event triggers a bidirectional assignment between two other attributes with no end. </span><span class="yiyi-st" id="yiyi-192">&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0D;&#x4EC5;&#x53D1;&#x751F;&#x5728;&#x5206;&#x914D;&#x4E86;&#x9519;&#x8BEF;&#x7C7B;&#x578B;&#x7684;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x800C;&#x4E14;&#x5F53;&#x67D0;&#x4E2A;&#x5C5E;&#x6027;&#x88AB;&#x9519;&#x8BEF;&#x5730;&#x914D;&#x7F6E;&#x4E3A;&#x53CD;&#x5411;&#x5F15;&#x7528;&#x5230;&#x73B0;&#x6709;&#x7684;backref&#x5BF9;&#x65F6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8a5e83498c9c0eded67638e01d96e699">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-193">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2674">&#xFF03;2674</a></span></p></li><li><p id="change-0.7.11-4"><span class="yiyi-st" id="yiyi-194"><span class="target" id="change-efb22c6e4fe4f34fd6705e77ab5f9bfa"><strong>[orm] [bug] </strong></span>A warning is emitted when a MapperProperty is assigned to a mapper that replaces an existing property, if the properties in question aren&#x2019;t plain column-based properties. </span><span class="yiyi-st" id="yiyi-195">&#x5173;&#x7CFB;&#x5C5E;&#x6027;&#x7684;&#x66FF;&#x6362;&#x5F88;&#x5C11;&#xFF08;&#x4ECE;&#x6765;&#x6CA1;&#x6709;&#xFF1F;&#xFF09;</span><span class="yiyi-st" id="yiyi-196">&#x610F;&#x56FE;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x6307;&#x6620;&#x5C04;&#x5668;&#x9519;&#x8BEF;&#x914D;&#x7F6E;&#x3002;</span><span class="yiyi-st" id="yiyi-197">&#x8FD9;&#x4E5F;&#x4F1A;&#x8B66;&#x544A;&#xFF0C;&#x5982;&#x679C;backref&#x5728;&#x7EE7;&#x627F;&#x5173;&#x7CFB;&#xFF08;&#x5728;0.8&#x4E2D;&#x662F;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#xFF09;&#x5728;&#x73B0;&#x6709;&#x914D;&#x7F6E;&#x4E0A;&#x8FDB;&#x884C;&#x81EA;&#x6211;&#x914D;&#x7F6E;&#xFF0C;<a class="changeset-link headerlink reference internal" href="#change-efb22c6e4fe4f34fd6705e77ab5f9bfa">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-198">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2674">&#xFF03;2674</a></span></p></li></ul></div><div class="section" id="change-0.7.11-engine"><h3><span class="yiyi-st" id="yiyi-199">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.7.11-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.11-5"><span class="yiyi-st" id="yiyi-200"><span class="target" id="change-005cb70429df3b19c76d850725f7a8b3"><strong>[engine] [bug] </strong></span>The regexp used by the <a class="reference internal" href="core_engines.html#sqlalchemy.engine.url.make_url" title="sqlalchemy.engine.url.make_url"><code class="xref py py-func docutils literal"><span class="pre">make_url()</span></code></a> function now parses ipv6 addresses, e.g. surrounded by brackets.<a class="changeset-link headerlink reference internal" href="#change-005cb70429df3b19c76d850725f7a8b3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-201">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2851">&#xFF03;2851</a></span></p></li></ul></div><div class="section" id="change-0.7.11-sql"><h3><span class="yiyi-st" id="yiyi-202">SQL <a class="headerlink" href="#change-0.7.11-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.11-6"><span class="yiyi-st" id="yiyi-203"><span class="target" id="change-8c33bcb081690fa732e3cf2794eac4e3"><strong>[sql] [bug] </strong></span>&#x56FA;&#x5B9A;&#x56DE;&#x5F52;&#x5230;0.7.9&#xFF0C;&#x5982;&#x679C;CTE&#x7684;&#x540D;&#x79F0;&#x5728;&#x591A;&#x4E2A;FROM&#x5B50;&#x53E5;&#x4E2D;&#x88AB;&#x5F15;&#x7528;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x7684;&#x540D;&#x79F0;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x88AB;&#x6B63;&#x786E;&#x5F15;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8c33bcb081690fa732e3cf2794eac4e3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-204">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2801">&#xFF03;2801</a></span></p></li><li><p id="change-0.7.11-7"><span class="yiyi-st" id="yiyi-205"><span class="target" id="change-cbc2ad305d9de1b8db977dd167cdff57"><strong>[sql] [bug] [cte] </strong></span>Fixed bug in common table expression system where if the CTE were used only as an <code class="docutils literal"><span class="pre">alias()</span></code> construct, it would not render using the WITH keyword.<a class="changeset-link headerlink reference internal" href="#change-cbc2ad305d9de1b8db977dd167cdff57">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-206">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2783">&#xFF03;2783</a></span></p></li><li><p id="change-0.7.11-8"><span class="yiyi-st" id="yiyi-207"><span class="target" id="change-558878ea1f3882a6457b6019765de96b"><strong>[sql] [bug] </strong></span>Fixed bug in <a class="reference internal" href="core_constraints.html#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal"><span class="pre">CheckConstraint</span></code></a> DDL where the &#x201C;quote&#x201D; flag from a <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> object would not be propagated.<a class="changeset-link headerlink reference internal" href="#change-558878ea1f3882a6457b6019765de96b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-208">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2784">&#xFF03;2784</a></span></p></li></ul></div><div class="section" id="change-0.7.11-postgresql"><h3><span class="yiyi-st" id="yiyi-209">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.7.11-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.11-9"><span class="yiyi-st" id="yiyi-210"><span class="target" id="change-4be83fabc8054be90db8d9ea622ea32c"><strong>[postgresql] [feature] </strong></span>Added support for Postgresql&#x2019;s traditional SUBSTRING function syntax, renders as &#x201C;SUBSTRING(x FROM y FOR z)&#x201D; when regular <code class="docutils literal"><span class="pre">func.substring()</span></code> is used. </span><span class="yiyi-st" id="yiyi-211">Courtesy Gunnlaugur&#xDE;&#xF3;rBriem&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4be83fabc8054be90db8d9ea622ea32c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-212">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2676">&#xFF03;2676</a></span></p></li></ul></div><div class="section" id="change-0.7.11-mysql"><h3><span class="yiyi-st" id="yiyi-213">MySQL&#x7684;<a class="headerlink" href="#change-0.7.11-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.11-10"><span class="yiyi-st" id="yiyi-214"><span class="target" id="change-e33b9298191a88a0edca1d40b5ddd554"><strong>[mysql] [bug] </strong></span>&#x7248;&#x672C;5.5,5.6&#x7684;MySQL&#x4FDD;&#x7559;&#x5B57;&#x66F4;&#x65B0;&#xFF0C;Hanno Schlichting&#x63D0;&#x4F9B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e33b9298191a88a0edca1d40b5ddd554">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-215">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2791">&#xFF03;2791</a></span></p></li></ul></div><div class="section" id="change-0.7.11-misc"><h3><span class="yiyi-st" id="yiyi-216">&#x6742;&#x9879;<a class="headerlink" href="#change-0.7.11-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.11-11"><span class="yiyi-st" id="yiyi-217"><span class="target" id="change-2f7a576e7a8d284e37a6743b00f108d6"><strong>[bug] [tests] </strong></span>&#x4FEE;&#x590D;&#x4E86;test_execute&#x4E2D;&#x7684;&#x201C;logging&#x201D;&#x5BFC;&#x5165;&#x95EE;&#x9898;&#xFF0C;&#x8BE5;&#x95EE;&#x9898;&#x5728;&#x67D0;&#x4E9B;linux&#x5E73;&#x53F0;&#x4E0A;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2f7a576e7a8d284e37a6743b00f108d6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-218">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2669">&#xFF03;2669</a>&#xFF0C;<a class="reference external" href="https://bitbucket.org/zzzeek/sqlalchemy/pull-request/41">&#x62C9;&#x53D6;&#x8BF7;&#x6C42;41</a></span></p></li></ul></div></div><div class="section" id="change-0.7.10"><h2><span class="yiyi-st" id="yiyi-220">0.7.10 <a class="headerlink" href="#change-0.7.10" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-273">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2013&#x5E74;2&#x6708;7&#x65E5;</span><div class="section" id="change-0.7.10-orm"><h3><span class="yiyi-st" id="yiyi-221">ORM <a class="headerlink" href="#change-0.7.10-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.10-0"><span class="yiyi-st" id="yiyi-222"><span class="target" id="change-db2025d4880044d4cbb1b4c52be875bb"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x521B;&#x5EFA;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;<a class="reference internal" href="orm_session_api.html#sqlalchemy.orm.session.sessionmaker" title="sqlalchemy.orm.session.sessionmaker"><code class="xref py py-class docutils literal"><span class="pre">sessionmaker</span></code></a>&#x5BF9;&#x8C61;&#x65F6;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x7684;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-223">&#x7531;sessionmaker&#x521B;&#x5EFA;&#x7684;&#x533F;&#x540D;&#x5B50;&#x7C7B;&#x5728;&#x53D6;&#x6D88;&#x5F15;&#x7528;&#x65F6;&#x4E0D;&#x4F1A;&#x88AB;&#x5783;&#x573E;&#x6536;&#x96C6;&#xFF0C;&#x56E0;&#x4E3A;&#x4E8B;&#x4EF6;&#x5305;&#x4E2D;&#x5269;&#x4F59;&#x7684;&#x7C7B;&#x7EA7;&#x522B;&#x5F15;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-224">&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4E5F;&#x9002;&#x7528;&#x4E8E;&#x4EFB;&#x4F55;&#x4F7F;&#x7528;ad-hoc&#x5B50;&#x7C7B;&#x4E0E;&#x4E8B;&#x4EF6;&#x5206;&#x6D3E;&#x5668;&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x7CFB;&#x7EDF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-db2025d4880044d4cbb1b4c52be875bb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-225">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2650">&#xFF03;2650</a></span></p></li><li><p id="change-0.7.10-1"><span class="yiyi-st" id="yiyi-226"><span class="target" id="change-7067a9d674a48894b96003b25993413c"><strong>[orm] [bug] </strong></span><a class="reference internal" href="orm_query.html#sqlalchemy.orm.query.Query.merge_result" title="sqlalchemy.orm.query.Query.merge_result"><code class="xref py py-meth docutils literal"><span class="pre">Query.merge_result()</span></code></a> can now load rows from an outer join where an entity may be <code class="docutils literal"><span class="pre">None</span></code> without throwing an error.<a class="changeset-link headerlink reference internal" href="#change-7067a9d674a48894b96003b25993413c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-227">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2640">&#xFF03;2640</a></span></p></li><li><p id="change-0.7.10-2"><span class="yiyi-st" id="yiyi-228"><span class="target" id="change-2ddfafd175eec1a2d9f2b88808c52919"><strong>[orm] [bug] </strong></span>The <a class="reference internal" href="orm_extensions_mutable.html#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal"><span class="pre">MutableComposite</span></code></a> type did not allow for the <a class="reference internal" href="orm_extensions_mutable.html#sqlalchemy.ext.mutable.MutableBase.coerce" title="sqlalchemy.ext.mutable.MutableBase.coerce"><code class="xref py py-meth docutils literal"><span class="pre">MutableBase.coerce()</span></code></a> method to be used, even though the code seemed to indicate this intent, so this now works and a brief example is added. </span><span class="yiyi-st" id="yiyi-229">&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x526F;&#x4F5C;&#x7528;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x7684;&#x673A;&#x5236;&#x5DF2;&#x7ECF;&#x6539;&#x53D8;&#xFF0C;&#x6240;&#x4EE5;&#x65B0;&#x7684;<a class="reference internal" href="orm_extensions_mutable.html#sqlalchemy.ext.mutable.MutableComposite" title="sqlalchemy.ext.mutable.MutableComposite"><code class="xref py py-class docutils literal"><span class="pre">MutableComposite</span></code></a>&#x7C7B;&#x578B;&#x4E0D;&#x518D;&#x6DFB;&#x52A0;&#x6BCF;&#x4E2A;&#x7C7B;&#x578B;&#x7684;&#x5168;&#x5C40;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x3002;</span><span class="yiyi-st" id="yiyi-230">&#x4E5F;&#x5728;0.8.0b2. <a class="changeset-link headerlink reference internal" href="#change-2ddfafd175eec1a2d9f2b88808c52919">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-231">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2624">&#xFF03;2624</a></span></p></li><li><p id="change-0.7.10-3"><span class="yiyi-st" id="yiyi-232"><span class="target" id="change-9534301c57ebb1ebcccf0b9a29165daa"><strong>[orm] [bug] </strong></span>Fixed Session accounting bug whereby replacing a deleted object in the identity map with another object of the same primary key would raise a &#x201C;conflicting state&#x201D; error on rollback(), if the replaced primary key were established either via non-unitofwork-established INSERT statement or by primary key switch of another instance.<a class="changeset-link headerlink reference internal" href="#change-9534301c57ebb1ebcccf0b9a29165daa">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-233">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2583">&#xFF03;2583</a></span></p></li></ul></div><div class="section" id="change-0.7.10-engine"><h3><span class="yiyi-st" id="yiyi-234">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.7.10-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.10-4"><span class="yiyi-st" id="yiyi-235"><span class="target" id="change-60e87964fba0b375da4e3e2525694bc3"><strong>[engine] [bug] </strong></span>Fixed <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.MetaData.reflect" title="sqlalchemy.schema.MetaData.reflect"><code class="xref py py-meth docutils literal"><span class="pre">MetaData.reflect()</span></code></a> to correctly use the given <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a>, if given, without opening a second connection from that connection&#x2019;s <a class="reference internal" href="core_connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>.<a class="changeset-link headerlink reference internal" href="#change-60e87964fba0b375da4e3e2525694bc3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-236">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2604">&#xFF03;2604</a></span></p></li></ul></div><div class="section" id="change-0.7.10-sql"><h3><span class="yiyi-st" id="yiyi-237">SQL <a class="headerlink" href="#change-0.7.10-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.10-5"><span class="yiyi-st" id="yiyi-238"><span class="target" id="change-9c4c1ed9adc28c0f4580ffb99fe90993"><strong>[sql] [bug] </strong></span>Backported adjustment to <code class="docutils literal"><span class="pre">__repr__</span></code> for <a class="reference internal" href="core_custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal"><span class="pre">TypeDecorator</span></code></a> to 0.7, allows <a class="reference internal" href="core_type_basics.html#sqlalchemy.types.PickleType" title="sqlalchemy.types.PickleType"><code class="xref py py-class docutils literal"><span class="pre">PickleType</span></code></a> to produce a clean <code class="docutils literal"><span class="pre">repr()</span></code> to help with Alembic.<a class="changeset-link headerlink reference internal" href="#change-9c4c1ed9adc28c0f4580ffb99fe90993">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-239">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2594">&#xFF03;2594</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2584">&#xFF03;2584</a></span></p></li><li><p id="change-0.7.10-6"><span class="yiyi-st" id="yiyi-240"><span class="target" id="change-8f574adb5328ea81c58038e0dc84e0f1"><strong>[sql] [bug] </strong></span>Fixed bug where <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Table.tometadata" title="sqlalchemy.schema.Table.tometadata"><code class="xref py py-meth docutils literal"><span class="pre">Table.tometadata()</span></code></a> would fail if a <a class="reference internal" href="core_metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></a> had both a foreign key as well as an alternate &#x201D;.key&#x201D; name for the column.<a class="changeset-link headerlink reference internal" href="#change-8f574adb5328ea81c58038e0dc84e0f1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-241">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2643">&#xFF03;2643</a></span></p></li><li><p id="change-0.7.10-7"><span class="yiyi-st" id="yiyi-242"><span class="target" id="change-ec0e00d90e249bad5a39a8d564525068"><strong>[sql] [bug] </strong></span>Fixed bug where using server_onupdate=<fetchedvalue|defaultclause> without passing the &#x201C;for_update=True&#x201D; flag would apply the default object to the server_default, blowing away whatever was there. </fetchedvalue|defaultclause></span><span class="yiyi-st" id="yiyi-243">&#x660E;&#x786E;&#x7684;for_update = True&#x53C2;&#x6570;&#x4E0D;&#x5E94;&#x8BE5;&#x4E0E;&#x6B64;&#x7528;&#x6CD5;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF08;&#x5C24;&#x5176;&#x662F;&#x56E0;&#x4E3A;&#x6587;&#x6863;&#x663E;&#x793A;&#x7684;&#x793A;&#x4F8B;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x5B83;&#xFF09;&#xFF0C;&#x56E0;&#x6B64;&#x73B0;&#x5728;&#x4F7F;&#x7528;&#x7ED9;&#x5B9A;&#x7684;&#x9ED8;&#x8BA4;&#x5BF9;&#x8C61;&#x7684;&#x526F;&#x672C;&#x5728;&#x5185;&#x90E8;&#x8FDB;&#x884C;&#x6392;&#x5217;&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x6807;&#x5FD7;&#x672A;&#x8BBE;&#x7F6E;&#x4E3A;&#x4EC0;&#x4E48;&#x5BF9;&#x5E94;&#x4E8E;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ec0e00d90e249bad5a39a8d564525068">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-244">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2631">&#xFF03;2631</a></span></p></li><li><p id="change-0.7.10-8"><span class="yiyi-st" id="yiyi-245"><span class="target" id="change-681094e6f3e1bffd849392f4ef50efd1"><strong>[sql] [gae] [mysql] </strong></span>Added a conditional import to the <code class="docutils literal"><span class="pre">gaerdbms</span></code> dialect which attempts to import rdbms_apiproxy vs. rdbms_googleapi to work on both dev and production platforms. </span><span class="yiyi-st" id="yiyi-246">&#x73B0;&#x5728;&#x4E5F;&#x5C0A;&#x91CD;<code class="docutils literal"><span class="pre">instance</span></code>&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-247">Courtesy Sean Lynch&#x3002;</span><span class="yiyi-st" id="yiyi-248">&#x8FD8;&#x652F;&#x6301;&#x589E;&#x5F3A;&#x529F;&#x80FD;&#x4EE5;&#x200B;&#x200B;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x540D;/&#x5BC6;&#x7801;&#x4EE5;&#x53CA;&#x4FEE;&#x590D;&#x4ECE;0.8&#x5F00;&#x59CB;&#x7684;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x89E3;&#x91CA;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-681094e6f3e1bffd849392f4ef50efd1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-249">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2649">&#xFF03;2649</a></span></p></li></ul></div><div class="section" id="change-0.7.10-mysql"><h3><span class="yiyi-st" id="yiyi-250">MySQL&#x7684;<a class="headerlink" href="#change-0.7.10-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.10-9"><span class="yiyi-st" id="yiyi-251"><span class="target" id="change-9bcc7f0ebf5e91716c978537334baec1"><strong>[mysql] [feature] </strong></span>&#x5728;OurSQL&#x65B9;&#x8A00;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x201C;raise_on_warnings&#x201D;&#x6807;&#x5FD7;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9bcc7f0ebf5e91716c978537334baec1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-252">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2523">&#xFF03;2523</a></span></p></li><li><p id="change-0.7.10-10"><span class="yiyi-st" id="yiyi-253"><span class="target" id="change-da61da414d2d06ce1fe869fffadd047d"><strong>[mysql] [feature] </strong></span>&#x5728;MySQLdb&#x65B9;&#x8A00;&#x4E2D;&#x52A0;&#x5165;&#x4E86;&#x201C;read_timeout&#x201D;&#x6807;&#x5FD7;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-da61da414d2d06ce1fe869fffadd047d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-254">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2554">&#xFF03;2554</a></span></p></li></ul></div><div class="section" id="change-0.7.10-sqlite"><h3><span class="yiyi-st" id="yiyi-255">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.7.10-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.10-11"><span class="yiyi-st" id="yiyi-256"><span class="target" id="change-9ff462ffd5c5507b484d835789aa8c2d"><strong>[sqlite] [bug] </strong></span>&#x5BF9;0.7.9&#x7248;&#x672C;&#x4E2D;&#x53D1;&#x5E03;&#x7684;SQLite&#x76F8;&#x5173;&#x95EE;&#x9898;&#x8FDB;&#x884C;&#x66F4;&#x591A;&#x8C03;&#x6574;&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;&#x53CD;&#x6620;&#x5916;&#x952E;&#x65F6;&#x62E6;&#x622A;&#x65E7;&#x7248;SQLite&#x5F15;&#x7528;&#x5B57;&#x7B26;&#x3002;</span><span class="yiyi-st" id="yiyi-257">&#x9664;&#x4E86;&#x62E6;&#x622A;&#x53CC;&#x5F15;&#x53F7;&#x5916;&#xFF0C;&#x5176;&#x4ED6;&#x5F15;&#x53F7;&#x5B57;&#x7B26;&#xFF08;&#x5982;&#x62EC;&#x53F7;&#xFF0C;&#x53CD;&#x5F15;&#x53F7;&#x548C;&#x5355;&#x5F15;&#x53F7;&#xFF09;&#x73B0;&#x5728;&#x4E5F;&#x88AB;&#x62E6;&#x622A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9ff462ffd5c5507b484d835789aa8c2d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-258">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2568">&#xFF03;2568</a></span></p></li></ul></div><div class="section" id="change-0.7.10-mssql"><h3><span class="yiyi-st" id="yiyi-259">MSSQL <a class="headerlink" href="#change-0.7.10-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.10-12"><span class="yiyi-st" id="yiyi-260"><span class="target" id="change-026a01a755a3ea79b58ce25a170e4207"><strong>[mssql] [bug] </strong></span>Fixed bug whereby using &#x201C;key&#x201D; with Column in conjunction with &#x201C;schema&#x201D; for the owning Table would fail to locate result rows due to the MSSQL dialect&#x2019;s &#x201C;schema rendering&#x201D; logic&#x2019;s failure to take .key into account.<a class="changeset-link headerlink reference internal" href="#change-026a01a755a3ea79b58ce25a170e4207">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.10-13"><span class="yiyi-st" id="yiyi-261"><span class="target" id="change-6a9f365322c513e531df8e04398b73ed"><strong>[mssql] [bug] </strong></span>&#x5728;mssql&#x4FE1;&#x606F;&#x6A21;&#x5F0F;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;Py3K&#x6761;&#x4EF6;&#xFF0C;&#x7528;&#x4E8E;&#x5728;&#x4E0D;&#x5FC5;&#x8981;&#x7684;.decode()&#x8C03;&#x7528;&#x4E2D;&#x4FEE;&#x590D;Py3k&#x4E2D;&#x7684;&#x53CD;&#x5C04;<a class="changeset-link headerlink reference internal" href="#change-6a9f365322c513e531df8e04398b73ed">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-262">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2638">&#xFF03;2638</a></span></p></li></ul></div><div class="section" id="change-0.7.10-oracle"><h3><span class="yiyi-st" id="yiyi-263">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.7.10-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.10-14"><span class="yiyi-st" id="yiyi-264"><span class="target" id="change-edf0bd57d1a082833b533bbae1afe691"><strong>[oracle] [bug] </strong></span>The Oracle LONG type, while an unbounded text type, does not appear to use the cx_Oracle.LOB type when result rows are returned, so the dialect has been repaired to exclude LONG from having cx_Oracle.LOB filtering applied.<a class="changeset-link headerlink reference internal" href="#change-edf0bd57d1a082833b533bbae1afe691">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-265">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2620">&#xFF03;2620</a></span></p></li><li><p id="change-0.7.10-15"><span class="yiyi-st" id="yiyi-266"><span class="target" id="change-cbc0a0886495a3f69359e08b1582633f"><strong>[oracle] [bug] </strong></span>Repaired the usage of <code class="docutils literal"><span class="pre">.prepare()</span></code> in conjunction with cx_Oracle so that a return value of <code class="docutils literal"><span class="pre">False</span></code> will result in no call to <code class="docutils literal"><span class="pre">connection.commit()</span></code>, hence avoiding &#x201C;no transaction&#x201D; errors. </span><span class="yiyi-st" id="yiyi-267">&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x8BC1;&#x660E;&#x4E24;&#x9636;&#x6BB5;&#x4E8B;&#x52A1;&#x4EE5;SQLAlchemy&#x548C;cx_oracle&#x7684;&#x65B9;&#x5F0F;&#x53D1;&#x6325;&#x4F5C;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x4E2D;&#x89C2;&#x5BDF;&#x5230;&#x8B66;&#x544A;&#xFF1B;&#x8BF7;&#x67E5;&#x770B;&#x6587;&#x6863;&#x4EE5;&#x83B7;&#x53D6;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cbc0a0886495a3f69359e08b1582633f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-268">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2611">&#xFF03;2611</a></span></p></li><li><p id="change-0.7.10-16"><span class="yiyi-st" id="yiyi-269"><span class="target" id="change-56a98378c99586a41c5d39996c01b27e"><strong>[oracle] [bug] </strong></span>&#x5C06;setinputsizes()&#x6B65;&#x9AA4;&#x4E2D;&#x6392;&#x9664;&#x7684;cx_oracle&#x7C7B;&#x578B;&#x5217;&#x8868;&#x66F4;&#x6539;&#x4E3A;&#x4EC5;&#x5305;&#x542B;STRING&#x548C;UNICODE&#xFF1B; CLOB&#x548C;NCLOB&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-270">&#x8FD9;&#x662F;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;executemany()&#x8C03;&#x7528;&#x7834;&#x574F;&#x7684;cx_oracle&#x884C;&#x4E3A;&#x3002;</span><span class="yiyi-st" id="yiyi-271">&#x5728;0.8&#x4E2D;&#xFF0C;&#x5E94;&#x7528;&#x4E86;&#x76F8;&#x540C;&#x7684;&#x66F4;&#x6539;&#xFF0C;&#x4F46;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;exclude_setinputsizes&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-56a98378c99586a41c5d39996c01b27e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-272">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2561">&#xFF03;2561</a></span></p></li></ul></div></div><div class="section" id="change-0.7.9"><h2><span class="yiyi-st" id="yiyi-274">0.7.9 <a class="headerlink" href="#change-0.7.9" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-350">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2012&#x5E74;10&#x6708;1&#x65E5;</span><div class="section" id="change-0.7.9-orm"><h3><span class="yiyi-st" id="yiyi-275">ORM <a class="headerlink" href="#change-0.7.9-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.9-0"><span class="yiyi-st" id="yiyi-276"><span class="target" id="change-7ca09fd9ba363a768515fbe6b4bb8064"><strong>[orm] [bug] </strong></span>Fixed bug mostly local to new AbstractConcreteBase helper where the &#x201C;type&#x201D; attribute from the superclass would not be overridden on the subclass to produce the &#x201C;reserved for base&#x201D; error message, instead placing a do-nothing attribute there. </span><span class="yiyi-st" id="yiyi-277">&#x8FD9;&#x4E0E;&#x4F7F;&#x7528;ConcreteBase&#x4EE5;&#x53CA;&#x7ECF;&#x5178;&#x5177;&#x4F53;&#x6620;&#x5C04;&#x7684;&#x6240;&#x6709;&#x884C;&#x4E3A;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x5176;&#x4E2D;&#x591A;&#x6001;&#x57FA;&#x672C;&#x7684;&#x201C;&#x7C7B;&#x578B;&#x201D;&#x5217;&#x5C06;&#x5728;&#x5B50;&#x7C7B;&#x4E2D;&#x663E;&#x5F0F;&#x7981;&#x7528;&#xFF0C;&#x9664;&#x975E;&#x660E;&#x786E;&#x8986;&#x76D6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7ca09fd9ba363a768515fbe6b4bb8064">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.9-1"><span class="yiyi-st" id="yiyi-278"><span class="target" id="change-27c5a25c7b22fafc80e0458e6f02d61f"><strong>[orm] [bug] </strong></span>&#x5F53;lazy =&apos;dynamic&apos;&#x4E0E;uselist = False&#x7EC4;&#x5408;&#x65F6;&#xFF0C;&#x4F1A;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x3002;</span><span class="yiyi-st" id="yiyi-279">&#x8FD9;&#x662F;0.8&#x4E2D;&#x7684;&#x5F02;&#x5E38;&#x63D0;&#x5347;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-27c5a25c7b22fafc80e0458e6f02d61f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.9-2"><span class="yiyi-st" id="yiyi-280"><span class="target" id="change-2cf1cdfdb883b1ac858fc99c3fd44c54"><strong>[orm] [bug] </strong></span>Fixed bug whereby user error in related-object assignment could cause recursion overflow if the assignment triggered a backref of the same name as a bi-directional attribute on the incorrect class to the same target. </span><span class="yiyi-st" id="yiyi-281">&#x73B0;&#x5728;&#x63D0;&#x51FA;&#x4E00;&#x4E2A;&#x4FE1;&#x606F;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2cf1cdfdb883b1ac858fc99c3fd44c54">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.9-3"><span class="yiyi-st" id="yiyi-282"><span class="target" id="change-2e086c449ad8b7f942f441534d3a1099"><strong>[orm] [bug] </strong></span>Fixed bug where incorrect type information would be passed when the ORM would bind the &#x201C;version&#x201D; column, when using the &#x201C;version&#x201D; feature. </span><span class="yiyi-st" id="yiyi-283">&#x6D4B;&#x8BD5;Daniel Miller&#x63D0;&#x4F9B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2e086c449ad8b7f942f441534d3a1099">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-284">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2539">&#xFF03;2539</a></span></p></li><li><p id="change-0.7.9-4"><span class="yiyi-st" id="yiyi-285"><span class="target" id="change-75a53327aac5791fe98ec087706a2821"><strong>[orm] [bug] </strong></span>Extra logic has been added to the &#x201C;flush&#x201D; that occurs within Session.commit(), such that the extra state added by an after_flush() or after_flush_postexec() hook is also flushed in a subsequent flush, before the &#x201C;commit&#x201D; completes. </span><span class="yiyi-st" id="yiyi-286">&#x968F;&#x540E;&#x5BF9;flush()&#x7684;&#x8C03;&#x7528;&#x5C06;&#x7EE7;&#x7EED;&#xFF0C;&#x76F4;&#x5230;after_flush&#x6302;&#x94A9;&#x505C;&#x6B62;&#x6DFB;&#x52A0;&#x65B0;&#x72B6;&#x6001;&#x3002;</span><span class="yiyi-st" id="yiyi-287">&#x5982;&#x679C;&#x6BCF;&#x6B21;&#x7834;&#x574F;after_flush()&#x6302;&#x94A9;&#x6DFB;&#x52A0;&#x65B0;&#x5185;&#x5BB9;&#xFF0C;&#x201C;overflow&#x201D;&#x8BA1;&#x6570;&#x5668;&#x4E5F;&#x4F1A;&#x5230;&#x4F4D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-75a53327aac5791fe98ec087706a2821">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-288">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2566">&#xFF03;2566</a></span></p></li></ul></div><div class="section" id="change-0.7.9-engine"><h3><span class="yiyi-st" id="yiyi-289">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.7.9-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.9-5"><span class="yiyi-st" id="yiyi-290"><span class="target" id="change-1ea4b7b984950d31f63149e35daeabd8"><strong>[engine] [feature] </strong></span>&#x4E8B;&#x4EF6;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x7684;&#x663E;&#x7740;&#x6539;&#x8FDB;&#xFF1B;&#x5B9E;&#x4F8B;&#x7EA7;&#x96C6;&#x5408;&#x4E0D;&#x518D;&#x4E3A;&#x7279;&#x5B9A;&#x7C7B;&#x578B;&#x7684;&#x4E8B;&#x4EF6;&#x521B;&#x5EFA;&#xFF0C;&#x9664;&#x975E;&#x4E3A;&#x8BE5;&#x4E8B;&#x4EF6;&#x5EFA;&#x7ACB;&#x5B9E;&#x4F8B;&#x7EA7;&#x4FA6;&#x542C;&#x5668;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1ea4b7b984950d31f63149e35daeabd8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-291">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2516">&#xFF03;2516</a></span></p></li><li><p id="change-0.7.9-6"><span class="yiyi-st" id="yiyi-292"><span class="target" id="change-fdcd7c2b744d1b0517dcd661225c5861"><strong>[engine] [bug] </strong></span>Fixed bug whereby a disconnect detect + dispose that occurs when the QueuePool has threads waiting for connections would leave those threads waiting for the duration of the timeout on the old pool (or indefinitely if timeout was disabled). </span><span class="yiyi-st" id="yiyi-293">&#x8BE5;&#x4FEE;&#x8865;&#x7A0B;&#x5E8F;&#x73B0;&#x5728;&#x901A;&#x77E5;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x670D;&#x52A1;&#x5458;&#xFF0C;&#x5E76;&#x8BA9;&#x4ED6;&#x4EEC;&#x8FDB;&#x5165;&#x65B0;&#x7684;&#x6C60;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fdcd7c2b744d1b0517dcd661225c5861">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-294">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2522">&#xFF03;2522</a></span></p></li><li><p id="change-0.7.9-7"><span class="yiyi-st" id="yiyi-295"><span class="target" id="change-930bf2bff085e41ee9f2bb165727c135"><strong>[engine] [bug] </strong></span>&#x5728;mysql / __ init__.py&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;gaerdbms&#x5BFC;&#x5165;&#xFF0C;&#x4F46;&#x6CA1;&#x6709;&#x963B;&#x6B62;&#x52A0;&#x8F7D;&#x65B0;&#x7684;GAE&#x65B9;&#x8A00;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-930bf2bff085e41ee9f2bb165727c135">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-296">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2529">&#xFF03;2529</a></span></p></li><li><p id="change-0.7.9-8"><span class="yiyi-st" id="yiyi-297"><span class="target" id="change-1611076226ee618bce70e17a998bb142"><strong>[engine] [bug] </strong></span>Fixed cextension bug whereby the &#x201C;ambiguous column error&#x201D; would fail to function properly if the given index were a Column object and not a string. </span><span class="yiyi-st" id="yiyi-298">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x91CC;&#x8FD8;&#x5B58;&#x5728;&#x4E00;&#x4E9B;&#x5217;&#x5B9A;&#x4F4D;&#x95EE;&#x9898;&#xFF0C;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x5728;0.8&#x4E2D;&#x5F97;&#x5230;&#x4FEE;&#x590D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1611076226ee618bce70e17a998bb142">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-299">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2553">&#xFF03;2553</a></span></p></li><li><p id="change-0.7.9-9"><span class="yiyi-st" id="yiyi-300"><span class="target" id="change-7a5dc641918acd3079fdf695b99feac6"><strong>[engine] [bug] </strong></span>Fixed the repr() of Enum to include the &#x201C;name&#x201D; and &#x201C;native_enum&#x201D; flags. </span><span class="yiyi-st" id="yiyi-301">&#x5E2E;&#x52A9;Alembic&#x81EA;&#x52A8;&#x751F;&#x6210;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7a5dc641918acd3079fdf695b99feac6">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.9-sql"><h3><span class="yiyi-st" id="yiyi-302">SQL <a class="headerlink" href="#change-0.7.9-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.9-10"><span class="yiyi-st" id="yiyi-303"><span class="target" id="change-4fa1e0b9d25273b768a3d9102cfc3964"><strong>[sql] [bug] </strong></span>Fixed the DropIndex construct to support an Index associated with a Table in a remote schema.<a class="changeset-link headerlink reference internal" href="#change-4fa1e0b9d25273b768a3d9102cfc3964">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-304">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2571">&#xFF03;2571</a></span></p></li><li><p id="change-0.7.9-11"><span class="yiyi-st" id="yiyi-305"><span class="target" id="change-de56e0073210255535e501662d7f096a"><strong>[sql] [bug] </strong></span>Fixed bug in over() construct whereby passing an empty list for either partition_by or order_by, as opposed to None, would fail to generate correctly. </span><span class="yiyi-st" id="yiyi-306">Courtesy Gunnlaugur&#xDE;&#xF3;rBriem&#x3002;<a class="changeset-link headerlink reference internal" href="#change-de56e0073210255535e501662d7f096a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-307">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2574">&#xFF03;2574</a></span></p></li><li><p id="change-0.7.9-12"><span class="yiyi-st" id="yiyi-308"><span class="target" id="change-3f0696f49c0d0cc576c2925339fa8b33"><strong>[sql] [bug] </strong></span>Fixed CTE bug whereby positional bound parameters present in the CTEs themselves would corrupt the overall ordering of bound parameters. </span><span class="yiyi-st" id="yiyi-309">&#x8FD9;&#x4E3B;&#x8981;&#x5F71;&#x54CD;SQL Server&#x4F5C;&#x4E3A;&#x5177;&#x6709;&#x4F4D;&#x7F6E;&#x7ED1;&#x5B9A;+ CTE&#x652F;&#x6301;&#x7684;&#x5E73;&#x53F0;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3f0696f49c0d0cc576c2925339fa8b33">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-310">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2521">&#xFF03;2521</a></span></p></li><li><p id="change-0.7.9-13"><span class="yiyi-st" id="yiyi-311"><span class="target" id="change-99a68f579410131cd9c11d84022701d0"><strong>[sql] [bug] </strong></span>Fixed more un-intuitivenesses in CTEs which prevented referring to a CTE in a union of itself without it being aliased. </span><span class="yiyi-st" id="yiyi-312">&#x73B0;&#x5728;&#xFF0C;CTE&#x53EA;&#x5BF9;&#x540D;&#x79F0;&#x8FDB;&#x884C;&#x6E32;&#x67D3;&#xFF0C;&#x4EC5;&#x6E32;&#x67D3;&#x7ED9;&#x5B9A;&#x540D;&#x79F0;&#x7684;&#x6700;&#x5916;&#x9762;&#x7684;CTE  - &#x6240;&#x6709;&#x5176;&#x4ED6;&#x5F15;&#x7528;&#x90FD;&#x4EE5;&#x540D;&#x79F0;&#x5448;&#x73B0;&#x3002;</span><span class="yiyi-st" id="yiyi-313">&#x8FD9;&#x751A;&#x81F3;&#x5305;&#x62EC;&#x5F15;&#x7528;&#x540C;&#x4E00;CTE&#x5BF9;&#x8C61;&#x7684;&#x4E0D;&#x540C;&#x7248;&#x672C;&#x7684;&#x5176;&#x4ED6;CTE / SELECT&#xFF0C;&#x4F8B;&#x5982;SELECT&#x6216;SELECT&#x7684;UNION ALL&#x3002;</span><span class="yiyi-st" id="yiyi-314">&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x7565;&#x5FAE;&#x653E;&#x677E;&#x4E86;&#x5BF9;&#x8C61;&#x8EAB;&#x4EFD;&#x548C;&#x8BCD;&#x6C47;&#x8EAB;&#x4EFD;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x5E38;&#x8054;&#x7CFB;&#x3002;</span><span class="yiyi-st" id="yiyi-315">&#x4E24;&#x4E2A;&#x4E0D;&#x76F8;&#x5173;&#x7684;CTE&#x4E4B;&#x95F4;&#x7684;&#x771F;&#x5B9E;&#x59D3;&#x540D;&#x51B2;&#x7A81;&#x73B0;&#x5728;&#x5F15;&#x53D1;&#x4E86;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-99a68f579410131cd9c11d84022701d0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.9-14"><span class="yiyi-st" id="yiyi-316"><span class="target" id="change-2da6697c7fa6a82e5f84b769b2c8b627"><strong>[sql] [bug] </strong></span>quoting is applied to the column names inside the WITH RECURSIVE clause of a common table expression according to the quoting rules for the originating Column.<a class="changeset-link headerlink reference internal" href="#change-2da6697c7fa6a82e5f84b769b2c8b627">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-317">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2512">&#xFF03;2512</a></span></p></li><li><p id="change-0.7.9-15"><span class="yiyi-st" id="yiyi-318"><span class="target" id="change-c1a4594a681dd605fd87e2250bf3279b"><strong>[sql] [bug] </strong></span>&#x4FEE;&#x6B63;0.7.6&#x4E2D;&#x5F15;&#x5165;&#x7684;&#x56DE;&#x5F52;&#xFF0C;&#x5728;&#x67D0;&#x4E9B;&#x201C;&#x514B;&#x9686;+&#x66FF;&#x6362;&#x201D;&#x573A;&#x666F;&#x4E2D;&#xFF0C;SELECT&#x8BED;&#x53E5;&#x7684;FROM&#x5217;&#x8868;&#x53EF;&#x80FD;&#x4E0D;&#x6B63;&#x786E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c1a4594a681dd605fd87e2250bf3279b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-319">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2518">&#xFF03;2518</a></span></p></li><li><p id="change-0.7.9-16"><span class="yiyi-st" id="yiyi-320"><span class="target" id="change-040c1b57e6448664e4b95f7c38bde6b0"><strong>[sql] [bug] </strong></span>Fixed bug whereby usage of a UNION or similar inside of an embedded subquery would interfere with result-column targeting, in the case that a result-column had the same ultimate name as a name inside the embedded UNION.<a class="changeset-link headerlink reference internal" href="#change-040c1b57e6448664e4b95f7c38bde6b0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-321">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2552">&#xFF03;2552</a></span></p></li><li><p id="change-0.7.9-17"><span class="yiyi-st" id="yiyi-322"><span class="target" id="change-b333e57b4e8138a52b594b9762773ecb"><strong>[sql] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x81EA;0.6&#x5F00;&#x59CB;&#x7684;&#x6709;&#x5173;&#x7ED3;&#x679C;&#x884C;&#x5B9A;&#x4F4D;&#x7684;&#x56DE;&#x5F52;&#x3002;</span><span class="yiyi-st" id="yiyi-323">&#x5E94;&#x8BE5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5E26;&#x6709;&#x57FA;&#x4E8E;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5217;&#x7684;select()&#x8BED;&#x53E5;&#xFF0C;&#x5373;select&#xFF08;[&apos;id&apos;&#xFF0C;&apos;name&apos;]&#xFF09;&#x3002;select_from&#xFF08;&apos;mytable&apos;&#xFF09;&#xFF0C;&#x5E76;&#x4F7F;&#x8BE5;&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;Column&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x5B9A;&#x4F4D;&#x8FD9;&#x4E9B;&#x540D;&#x5B57;&#xFF1B;&#x8FD9;&#x662F;&#x67E5;&#x8BE2;&#xFF08;MyClass&#xFF09;.from_statement&#xFF08;some_statement&#xFF09;&#x5DE5;&#x4F5C;&#x7684;&#x673A;&#x5236;&#x3002;</span><span class="yiyi-st" id="yiyi-324">At some point the specific case of using select([&#x2018;id&#x2019;]), which is equivalent to select([literal_column(&#x2018;id&#x2019;)]), stopped working here, so this has been re-instated and of course tested.<a class="changeset-link headerlink reference internal" href="#change-b333e57b4e8138a52b594b9762773ecb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-325">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2558">&#xFF03;2558</a></span></p></li><li><p id="change-0.7.9-18"><span class="yiyi-st" id="yiyi-326"><span class="target" id="change-c8cd2fe962e7e67b56bece706ecebf99"><strong>[sql] [bug] </strong></span>&#x5728;ColumnOperators&#x57FA;&#x7840;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x7F3A;&#x5C11;&#x7684;&#x8FD0;&#x7B97;&#x7B26;is_()&#xFF0C;isnot()&#xFF0C;&#x4EE5;&#x4FBF;&#x8FD9;&#x4E9B;&#x53EF;&#x7528;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#x50CF;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x8FD0;&#x7B97;&#x7B26;&#x4E00;&#x6837;&#x5B58;&#x5728;&#x4E8E;&#x65B9;&#x6CD5;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c8cd2fe962e7e67b56bece706ecebf99">/ T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-327">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2544">&#xFF03;2544</a></span></p></li></ul></div><div class="section" id="change-0.7.9-postgresql"><h3><span class="yiyi-st" id="yiyi-328">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.7.9-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.9-19"><span class="yiyi-st" id="yiyi-329"><span class="target" id="change-fc212ca64d8b904651fb2c76e5fa8961"><strong>[postgresql] [bug] </strong></span>&#x53CD;&#x6620;&#x7684;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x4E2D;&#x7684;&#x5217;&#x73B0;&#x5728;&#x6309;&#x7EA6;&#x675F;&#x672C;&#x8EAB;&#x5B9A;&#x4E49;&#x7684;&#x987A;&#x5E8F;&#x8FD4;&#x56DE;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6309;&#x7167;&#x8868;&#x7684;&#x987A;&#x5E8F;&#x6392;&#x5217;&#x3002;</span><span class="yiyi-st" id="yiyi-330">Courtesy Gunnlaugur&#xDE;&#xF3;rBriem .. <a class="changeset-link headerlink reference internal" href="#change-fc212ca64d8b904651fb2c76e5fa8961">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-331">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2531">&#xFF03;2531</a></span></p></li><li><p id="change-0.7.9-20"><span class="yiyi-st" id="yiyi-332"><span class="target" id="change-bb9b195b7b37981bc5a03b6ee00066fb"><strong>[postgresql] [bug] </strong></span>&#x5728;&#x6211;&#x4EEC;&#x7528;&#x6765;&#x68C0;&#x6D4B;&#x4E0E;PG&#x65AD;&#x5F00;&#x7684;&#x6D88;&#x606F;&#x5217;&#x8868;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x201C;&#x7EC8;&#x6B62;&#x8FDE;&#x63A5;&#x201D;&#xFF0C;&#x8FD9;&#x5728;&#x670D;&#x52A1;&#x5668;&#x91CD;&#x542F;&#x65F6;&#x51FA;&#x73B0;&#x5728;&#x67D0;&#x4E9B;&#x7248;&#x672C;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bb9b195b7b37981bc5a03b6ee00066fb">&#xB6;  T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-333">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2570">&#xFF03;2570</a></span></p></li></ul></div><div class="section" id="change-0.7.9-mysql"><h3><span class="yiyi-st" id="yiyi-334">MySQL&#x7684;<a class="headerlink" href="#change-0.7.9-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.9-21"><span class="yiyi-st" id="yiyi-335"><span class="target" id="change-5e04bb001a3d1f81860ab0a3eb880c8c"><strong>[mysql] [bug] </strong></span>&#x66F4;&#x65B0;mysqlconnector&#x63A5;&#x53E3;&#x4EE5;&#x4F7F;&#x7528;&#x66F4;&#x65B0;&#x7684;&#x201C;client flag&#x201D;&#x548C;&#x201C;charset&#x201D;API&#xFF0C;&#x7531;David McNelis&#x63D0;&#x4F9B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5e04bb001a3d1f81860ab0a3eb880c8c">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.9-sqlite"><h3><span class="yiyi-st" id="yiyi-336">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.7.9-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.9-22"><span class="yiyi-st" id="yiyi-337"><span class="target" id="change-8b6a9dd463218f41b6c8b796886f842d"><strong>[sqlite] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;SQLite&#x4E2D;&#x5B9E;&#x73B0;&#x7684;localtimestamp()SQL&#x51FD;&#x6570;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x7531;Richard Mitchell&#x63D0;&#x4F9B;<a class="changeset-link headerlink reference internal" href="#change-8b6a9dd463218f41b6c8b796886f842d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.9-23"><span class="yiyi-st" id="yiyi-338"><span class="target" id="change-8fdfac6e8169a77056e854ede3116b1d"><strong>[sqlite] [bug] </strong></span>Adjusted a very old bugfix which attempted to work around a SQLite issue that itself was &#x201C;fixed&#x201D; as of sqlite 3.6.14, regarding quotes surrounding a table name when using the &#x201C;foreign_key_list&#x201D; pragma. </span><span class="yiyi-st" id="yiyi-339">The fix has been adjusted to not interfere with quotes that are <em>actually in the name</em> of a column or table, to as much a degree as possible; sqlite still doesn&#x2019;t return the correct result for foreign_key_list() if the target table actually has quotes surrounding its name, as <em>part</em> of its name (i.e. &#x201C;&#x201D;&#x201C;mytable&#x201D;&#x201C;&#x201D;).<a class="changeset-link headerlink reference internal" href="#change-8fdfac6e8169a77056e854ede3116b1d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-340">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2568">&#xFF03;2568</a></span></p></li><li><p id="change-0.7.9-24"><span class="yiyi-st" id="yiyi-341"><span class="target" id="change-4f3a6c482d01e64bbcadcc806825c71f"><strong>[sqlite] [bug] </strong></span>&#x8C03;&#x6574;&#x5217;&#x9ED8;&#x8BA4;&#x53CD;&#x5C04;&#x4EE3;&#x7801;&#x4EE5;&#x5C06;&#x975E;&#x5B57;&#x7B26;&#x4E32;&#x503C;&#x8F6C;&#x6362;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4EE5;&#x9002;&#x5E94;&#x4E0D;&#x5C06;&#x9ED8;&#x8BA4;&#x4FE1;&#x606F;&#x4F5C;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x4F20;&#x9012;&#x7684;&#x65E7;SQLite&#x7248;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4f3a6c482d01e64bbcadcc806825c71f">&#xB6; t2 &gt;</a></span></p><p><span class="yiyi-st" id="yiyi-342">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2265">&#xFF03;2265</a></span></p></li></ul></div><div class="section" id="change-0.7.9-mssql"><h3><span class="yiyi-st" id="yiyi-343">MSSQL <a class="headerlink" href="#change-0.7.9-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.9-25"><span class="yiyi-st" id="yiyi-344"><span class="target" id="change-06d018a274ae08d49296d57e04e26ec7"><strong>[mssql] [bug] </strong></span>Fixed compiler bug whereby using a correlated subquery within an ORDER BY would fail to render correctly if the stament also used LIMIT/OFFSET, due to mis-rendering within the ROW_NUMBER() OVER clause. </span><span class="yiyi-st" id="yiyi-345">&#x4FEE;&#x6B63;&#x793C;&#x8C8C;sayap <a class="changeset-link headerlink reference internal" href="#change-06d018a274ae08d49296d57e04e26ec7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-346">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2538">&#xFF03;2538</a></span></p></li><li><p id="change-0.7.9-26"><span class="yiyi-st" id="yiyi-347"><span class="target" id="change-bd1df339b27f45dc5cda88f5736a4324"><strong>[mssql] [bug] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x7F16;&#x8BD1;&#x5668;&#x7684;bug&#xFF0C;&#x5982;&#x679C;&#x5B83;&#x6709;&#x4E00;&#x4E2A;&#x201C;offset&#x201D;&#x5C5E;&#x6027;&#xFF0C;&#x90A3;&#x4E48;&#x7ED9;&#x5B9A;&#x7684;select()&#x4F1A;&#x88AB;&#x4FEE;&#x6539;&#xFF0C;&#x5BFC;&#x81F4;&#x6784;&#x9020;&#x4E0D;&#x80FD;&#x518D;&#x6B21;&#x6B63;&#x786E;&#x7F16;&#x8BD1;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bd1df339b27f45dc5cda88f5736a4324">/ T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-348">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2545">&#xFF03;2545</a></span></p></li><li><p id="change-0.7.9-27"><span class="yiyi-st" id="yiyi-349"><span class="target" id="change-71245e957fd2b82f1ba3435287ea9f0d"><strong>[mssql] [bug] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5982;&#x679C;&#x5728;&#x591A;&#x4E2A;&#x6A21;&#x5F0F;&#x4E2D;&#x5B58;&#x5728;&#x76F8;&#x540C;&#x7EA6;&#x675F;/&#x8868;&#x7684;&#x8BDD;&#xFF0C;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x7684;&#x53CD;&#x5C04;&#x4F1A;&#x4F7F;&#x5217;&#x52A0;&#x500D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-71245e957fd2b82f1ba3435287ea9f0d">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.7.8"><h2><span class="yiyi-st" id="yiyi-351">0.7.8 <a class="headerlink" href="#change-0.7.8" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-391">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2012&#x5E74;6&#x6708;16&#x65E5;&#x661F;&#x671F;&#x516D;</span><div class="section" id="change-0.7.8-orm"><h3><span class="yiyi-st" id="yiyi-352">ORM <a class="headerlink" href="#change-0.7.8-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.8-0"><span class="yiyi-st" id="yiyi-353"><span class="target" id="change-90a7ad18c89ef080942d51375dd30972"><strong>[orm] [feature] </strong></span>&#x4E0D;&#x518D;&#x5E9F;&#x5F03;flush()&#x7684;&apos;objects&apos;&#x53C2;&#x6570;&#xFF0C;&#x56E0;&#x4E3A;&#x5DF2;&#x7ECF;&#x8BC6;&#x522B;&#x51FA;&#x4E00;&#x4E9B;&#x6709;&#x6548;&#x7684;&#x7528;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-90a7ad18c89ef080942d51375dd30972">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.8-1"><span class="yiyi-st" id="yiyi-354"><span class="target" id="change-cf3b8502914010cbf22dd36d53d49d41"><strong>[orm] [bug] </strong></span>Fixed bug whereby subqueryload() from a polymorphic mapping to a target would incur a new invocation of the query for each distinct class encountered in the polymorphic result.<a class="changeset-link headerlink reference internal" href="#change-cf3b8502914010cbf22dd36d53d49d41">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-355">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2480">&#xFF03;2480</a></span></p></li><li><p id="change-0.7.8-2"><span class="yiyi-st" id="yiyi-356"><span class="target" id="change-a32af8388995303eab427cf746d301ee"><strong>[orm] [bug] </strong></span>Fixed bug in declarative whereby the precedence of columns in a joined-table, composite column (typically for id) would fail to be correct if the columns contained names distinct from their attribute names. </span><span class="yiyi-st" id="yiyi-357">&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x9488;&#x5BF9;&#x5B9E;&#x4F53;&#x5C5E;&#x6027;&#x7684;primaryjoin&#x6761;&#x4EF6;&#x4E0D;&#x6B63;&#x786E;&#x3002;</span><span class="yiyi-st" id="yiyi-358">&#x76F8;&#x5173;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x5E94;&#x8BE5;&#x662F;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x8FD9;&#x662F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a32af8388995303eab427cf746d301ee">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-359">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2491">&#xFF03;2491</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1892">&#xFF03;1892</a></span></p></li><li><p id="change-0.7.8-3"><span class="yiyi-st" id="yiyi-360"><span class="target" id="change-f98e8f725d059fea2dfc556d72b1b131"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x4E0D;&#x63A5;&#x53D7;&#x6807;&#x8BC6;&#x53C2;&#x6570;&#x7684;identity_key()&#x51FD;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-361"><a class="changeset-link headerlink reference internal" href="#change-f98e8f725d059fea2dfc556d72b1b131">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-362">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2508">&#xFF03;2508</a></span></p></li><li><p id="change-0.7.8-4"><span class="yiyi-st" id="yiyi-363"><span class="target" id="change-4a617743b2bf4279e53c14ee010bc346"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;populate_existing&#x9009;&#x9879;&#x4E0D;&#x4F1A;&#x4F20;&#x64AD;&#x7ED9;&#x5B50;&#x67E5;&#x8BE2;&#x6E34;&#x671B;&#x52A0;&#x8F7D;&#x5668;&#x7684;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-364"><a class="changeset-link headerlink reference internal" href="#change-4a617743b2bf4279e53c14ee010bc346">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-365">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2497">&#xFF03;2497</a></span></p></li></ul></div><div class="section" id="change-0.7.8-engine"><h3><span class="yiyi-st" id="yiyi-366">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.7.8-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.8-5"><span class="yiyi-st" id="yiyi-367"><span class="target" id="change-348d36798c980e7c202e6fdcc5850810"><strong>[engine] [bug] </strong></span>Fixed memory leak in C version of result proxy whereby DBAPIs which don&#x2019;t deliver pure Python tuples for result rows would fail to decrement refcounts correctly. </span><span class="yiyi-st" id="yiyi-368">&#x6700;&#x53D7;&#x5173;&#x6CE8;&#x7684;DBAPI&#x662F;pyodbc&#x3002;<a class="changeset-link headerlink reference internal" href="#change-348d36798c980e7c202e6fdcc5850810">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-369">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2489">&#xFF03;2489</a></span></p></li><li><p id="change-0.7.8-6"><span class="yiyi-st" id="yiyi-370"><span class="target" id="change-fd4bdaeacedad743b6f3bbcd200ef237"><strong>[engine] [bug] </strong></span>Fixed bug affecting Py3K whereby string positional parameters passed to engine/connection execute() would fail to be interpreted correctly, due to __iter__ being present on Py3K string..<a class="changeset-link headerlink reference internal" href="#change-fd4bdaeacedad743b6f3bbcd200ef237">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-371">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2503">&#xFF03;2503</a></span></p></li></ul></div><div class="section" id="change-0.7.8-sql"><h3><span class="yiyi-st" id="yiyi-372">SQL <a class="headerlink" href="#change-0.7.8-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.8-7"><span class="yiyi-st" id="yiyi-373"><span class="target" id="change-5c6ba9ce1ee5598442500138f0eea997"><strong>[sql] [bug] </strong></span>&#x5C06;BIGINT&#x6DFB;&#x52A0;&#x5230;&#x7C7B;&#x578B;.__ all__&#xFF0C;BIGINT&#xFF0C;BINARY&#xFF0C;VARBINARY&#x5230;sqlalchemy&#x6A21;&#x5757;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#xFF0C;&#x518D;&#x52A0;&#x4E0A;&#x6D4B;&#x8BD5;&#x4EE5;&#x786E;&#x4FDD;&#x4E0D;&#x518D;&#x53D1;&#x751F;&#x6B64;&#x7834;&#x574F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5c6ba9ce1ee5598442500138f0eea997">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-374">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2499">&#xFF03;2499</a></span></p></li><li><p id="change-0.7.8-8"><span class="yiyi-st" id="yiyi-375"><span class="target" id="change-e2fe913b74611147fd04de969da717aa"><strong>[sql] [bug] </strong></span>Repaired common table expression rendering to function correctly when the SELECT statement contains UNION or other compound expressions, courtesy btbuilder.<a class="changeset-link headerlink reference internal" href="#change-e2fe913b74611147fd04de969da717aa">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-376">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2490">&#xFF03;2490</a></span></p></li><li><p id="change-0.7.8-9"><span class="yiyi-st" id="yiyi-377"><span class="target" id="change-82d5e8837ecd40049cc656f51882f9dd"><strong>[sql] [bug] </strong></span>&#x4FEE;&#x6B63;&#x4E86;bug&#xFF0C;&#x5373;append_column()&#x5728;&#x514B;&#x9686;&#x7684;select()&#x6784;&#x9020;&#x4E2D;&#x65E0;&#x6CD5;&#x6B63;&#x786E;&#x8FD0;&#x884C;&#xFF0C;&#x7531;Gunnlaugur&#xDE;&#xF3;rBriem&#x63D0;&#x4F9B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-82d5e8837ecd40049cc656f51882f9dd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-378">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2482">&#xFF03;2482</a></span></p></li></ul></div><div class="section" id="change-0.7.8-postgresql"><h3><span class="yiyi-st" id="yiyi-379">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.7.8-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.8-10"><span class="yiyi-st" id="yiyi-380"><span class="target" id="change-2b0b56fe92fecdf3f47b187723fac1d1"><strong>[postgresql] [bug] </strong></span>&#x5728;&#x53CD;&#x6620;&#x679A;&#x4E3E;&#x65F6;&#x5220;&#x9664;&#x4E86;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x8868;&#x5B50;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-381">Courtesy Gunnlaugur&#xDE;&#xF3;rBriem&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2b0b56fe92fecdf3f47b187723fac1d1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-382">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2510">&#xFF03;2510</a></span></p></li></ul></div><div class="section" id="change-0.7.8-mysql"><h3><span class="yiyi-st" id="yiyi-383">MySQL&#x7684;<a class="headerlink" href="#change-0.7.8-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.8-11"><span class="yiyi-st" id="yiyi-384"><span class="target" id="change-b9342db19c8d65b942f8bcb7638f0ad3"><strong>[mysql] [feature] </strong></span>&#x4E3A;Google App Engine&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x65B9;&#x8A00;&#x3002;</span><span class="yiyi-st" id="yiyi-385">Courtesy Richie Foreman&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b9342db19c8d65b942f8bcb7638f0ad3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-386">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2484">&#xFF03;2484</a></span></p></li></ul></div><div class="section" id="change-0.7.8-oracle"><h3><span class="yiyi-st" id="yiyi-387">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.7.8-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.8-12"><span class="yiyi-st" id="yiyi-388"><span class="target" id="change-ad8811c99ec2bf8fc5f2e8ff5e1b91a3"><strong>[oracle] [bug] </strong></span>&#x5411;oracle&#x6DFB;&#x52A0;&#x4E86;ROWID&#x3002;</span><span class="yiyi-st" id="yiyi-389">* <a class="changeset-link headerlink reference internal" href="#change-ad8811c99ec2bf8fc5f2e8ff5e1b91a3">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-390">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2483">&#xFF03;2483</a></span></p></li></ul></div></div><div class="section" id="change-0.7.7"><h2><span class="yiyi-st" id="yiyi-392">0.7.7 <a class="headerlink" href="#change-0.7.7" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-448">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2012&#x5E74;5&#x6708;5&#x65E5;&#x661F;&#x671F;&#x516D;</span><div class="section" id="change-0.7.7-orm"><h3><span class="yiyi-st" id="yiyi-393">ORM <a class="headerlink" href="#change-0.7.7-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.7-0"><span class="yiyi-st" id="yiyi-394"><span class="target" id="change-25aac7662d89caf0fb5cbcd3d4145b73"><strong>[orm] [feature] </strong></span>Added prefix_with() method to Query, calls upon select().prefix_with() to allow placement of MySQL SELECT directives in statements. </span><span class="yiyi-st" id="yiyi-395">Courtesy Diana Clarke <a class="changeset-link headerlink reference internal" href="#change-25aac7662d89caf0fb5cbcd3d4145b73">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-396">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2443">&#xFF03;2443</a></span></p></li><li><p id="change-0.7.7-1"><span class="yiyi-st" id="yiyi-397"><span class="target" id="change-9d753c51f57c3c616f604d0db83097d5"><strong>[orm] [feature] </strong></span>&#x4E3A;@validates include_removes&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x6807;&#x5FD7;&#x3002;</span><span class="yiyi-st" id="yiyi-398">&#x5982;&#x679C;&#x4E3A;True&#xFF0C;&#x5219;collection remove&#x548C;attribute del&#x4E8B;&#x4EF6;&#x4E5F;&#x5C06;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x9A8C;&#x8BC1;&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x5728;&#x4F7F;&#x7528;&#x6B64;&#x6807;&#x5FD7;&#x65F6;&#x63A5;&#x53D7;&#x9644;&#x52A0;&#x53C2;&#x6570;&#x201C;is_remove&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9d753c51f57c3c616f604d0db83097d5">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.7-2"><span class="yiyi-st" id="yiyi-399"><span class="target" id="change-b8f58dbdb7f5047dc8fa39d59cb26288"><strong>[orm] [bug] </strong></span>Fixed issue in unit of work whereby setting a non-None self-referential many-to-one relationship to None would fail to persist the change if the former value was not already loaded..<a class="changeset-link headerlink reference internal" href="#change-b8f58dbdb7f5047dc8fa39d59cb26288">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-400">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2477">&#xFF03;2477</a></span></p></li><li><p id="change-0.7.7-3"><span class="yiyi-st" id="yiyi-401"><span class="target" id="change-f77cf934beb15ca7e09a931e3b100a1a"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x6B63;0.7.6&#x5F15;&#x5165;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x5176;&#x4E2D;column_mapped_collection&#x7528;&#x4E8E;&#x6620;&#x5C04;&#x4E3A;&#x8FDE;&#x63A5;&#x6216;&#x5176;&#x4ED6;&#x95F4;&#x63A5;&#x9009;&#x62E9;&#x7684;&#x5217;&#x5C06;&#x65E0;&#x6CD5;&#x8FD0;&#x884C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f77cf934beb15ca7e09a931e3b100a1a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-402">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2409">&#xFF03;2409</a></span></p></li><li><p id="change-0.7.7-4"><span class="yiyi-st" id="yiyi-403"><span class="target" id="change-a152eaa87daaa0d2a342246bcb91e574"><strong>[orm] [bug] </strong></span>Fixed bug whereby polymorphic_on column that&#x2019;s not otherwise mapped on the class would be incorrectly included in a merge() operation, raising an error.<a class="changeset-link headerlink reference internal" href="#change-a152eaa87daaa0d2a342246bcb91e574">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-404">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2449">&#xFF03;2449</a></span></p></li><li><p id="change-0.7.7-5"><span class="yiyi-st" id="yiyi-405"><span class="target" id="change-abfe23b5d84195d02cbf3aae199c82cd"><strong>[orm] [bug] </strong></span>Fixed bug in expression annotation mechanics which could lead to incorrect rendering of SELECT statements with aliases and joins, particularly when using column_property().<a class="changeset-link headerlink reference internal" href="#change-abfe23b5d84195d02cbf3aae199c82cd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-406">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2453">&#xFF03;2453</a></span></p></li><li><p id="change-0.7.7-6"><span class="yiyi-st" id="yiyi-407"><span class="target" id="change-879e7b4c03a5046a0e6cc2aee6ab5036"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x4F1A;&#x963B;&#x6B62;OrderingList&#x88AB;pickleable&#x7684;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-408">&#x793C;&#x8C8C;Jeff Dairiki <a class="changeset-link headerlink reference internal" href="#change-879e7b4c03a5046a0e6cc2aee6ab5036">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-409">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2454">&#xFF03;2454</a></span></p></li><li><p id="change-0.7.7-7"><span class="yiyi-st" id="yiyi-410"><span class="target" id="change-a809abc1a2320cef2ddbf36f9823afac"><strong>[orm] [bug] </strong></span>Fixed bug in relationship comparisons whereby calling unimplemented methods like SomeClass.somerelationship.like() would produce a recursion overflow, instead of NotImplementedError.<a class="changeset-link headerlink reference internal" href="#change-a809abc1a2320cef2ddbf36f9823afac">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.7-sql"><h3><span class="yiyi-st" id="yiyi-411">SQL <a class="headerlink" href="#change-0.7.7-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.7-8"><span class="yiyi-st" id="yiyi-412"><span class="target" id="change-60e0de8dbae77883685d68262a548cb0"><strong>[sql] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x8FDE;&#x63A5;&#x4E8B;&#x4EF6;dbapi_error()&#x3002;</span><span class="yiyi-st" id="yiyi-413">&#x5728;SQLAlchemy&#x4FEE;&#x6539;&#x6E38;&#x6807;&#x72B6;&#x6001;&#x4E4B;&#x524D;&#x8C03;&#x7528;&#x6240;&#x6709;DBAPI&#x7EA7;&#x9519;&#x8BEF;&#x4F20;&#x9012;&#x539F;&#x59CB;DBAPI&#x5F02;&#x5E38;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-60e0de8dbae77883685d68262a548cb0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.7-9"><span class="yiyi-st" id="yiyi-414"><span class="target" id="change-258642bfde7a22ef72f36f37450b99fa"><strong>[sql] [bug] </strong></span>&#x5728;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x65F6;&#x4E0D;&#x5220;&#x9664;&#x8B66;&#x544A;&#xFF1B;&#x867D;&#x7136;&#x8FD9;&#x53EF;&#x80FD;&#x4E0D;&#x662F;&#x7528;&#x6237;&#x60F3;&#x8981;&#x7684;&#xFF0C;&#x4F46;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x7684;&#x7528;&#x4F8B;&#xFF0C;&#x56E0;&#x4E3A;&#x7D22;&#x5F15;&#x53EF;&#x80FD;&#x53EA;&#x662F;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x540D;&#x79F0;&#x7D22;&#x5F15;&#x7684;&#x5360;&#x4F4D;&#x7B26;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-258642bfde7a22ef72f36f37450b99fa">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.7-10"><span class="yiyi-st" id="yiyi-415"><span class="target" id="change-ab71ae4387dd75bf6a53122b28ae899e"><strong>[sql] [bug] </strong></span>&#x5982;&#x679C;&#x5728;&#x8C03;&#x7528;&#x201C;with engine.begin()&#x201D;&#x65F6;conn.begin()&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x65B0;&#x83B7;&#x53D6;&#x7684;Connection&#x5728;&#x901A;&#x5E38;&#x5411;&#x524D;&#x4F20;&#x64AD;&#x5F02;&#x5E38;&#x4E4B;&#x524D;&#x663E;&#x5F0F;&#x5173;&#x95ED;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ab71ae4387dd75bf6a53122b28ae899e">&#xB6;&lt; / T2&gt;</a></span></p><p></p></li><li><p id="change-0.7.7-11"><span class="yiyi-st" id="yiyi-416"><span class="target" id="change-e3411e9d22bdbb5992f9e88d3dcaee90"><strong>[sql] [bug] </strong></span>&#x5C06;BINARY&#xFF0C;VARBINARY&#x6DFB;&#x52A0;&#x5230;&#x7C7B;&#x578B;.__ all __&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e3411e9d22bdbb5992f9e88d3dcaee90">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-417">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2474">&#xFF03;2474</a></span></p></li></ul></div><div class="section" id="change-0.7.7-postgresql"><h3><span class="yiyi-st" id="yiyi-418">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.7.7-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.7-12"><span class="yiyi-st" id="yiyi-419"><span class="target" id="change-60c3844adeb64d1db651beaee5017dbe"><strong>[postgresql] [feature] </strong></span>Added new for_update/with_lockmode() options for Postgresql: for_update=&#x201D;read&#x201D;/ with_lockmode(&#x201C;read&#x201D;), for_update=&#x201D;read_nowait&#x201D;/ with_lockmode(&#x201C;read_nowait&#x201D;). </span><span class="yiyi-st" id="yiyi-420">&#x8FD9;&#x4E9B;&#x5206;&#x522B;&#x53D1;&#x51FA;&#x201C;FOR SHARE&#x201D;&#x548C;&#x201C;FOR NOWAREAIT&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-421">Courtesy Diana Clarke <a class="changeset-link headerlink reference internal" href="#change-60c3844adeb64d1db651beaee5017dbe">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-422">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2445">&#xFF03;2445</a></span></p></li><li><p id="change-0.7.7-13"><span class="yiyi-st" id="yiyi-423"><span class="target" id="change-a0e768a991b47e8fdefbd505b05b3e17"><strong>[postgresql] [bug] </strong></span>&#x5728;&#x53CD;&#x6620;&#x57DF;&#x65F6;&#x5220;&#x9664;&#x4E86;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x8868;&#x5B50;&#x53E5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a0e768a991b47e8fdefbd505b05b3e17">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-424">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2473">&#xFF03;2473</a></span></p></li></ul></div><div class="section" id="change-0.7.7-mysql"><h3><span class="yiyi-st" id="yiyi-425">MySQL&#x7684;<a class="headerlink" href="#change-0.7.7-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.7-14"><span class="yiyi-st" id="yiyi-426"><span class="target" id="change-1be3a59937fd9dfcf596e919548e77b0"><strong>[mysql] [bug] </strong></span>Fixed bug whereby column name inside of &#x201C;KEY&#x201D; clause for autoincrement composite column with InnoDB would double quote a name that&#x2019;s a reserved word. </span><span class="yiyi-st" id="yiyi-427">Courtesy Jeff Dairiki&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1be3a59937fd9dfcf596e919548e77b0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-428">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2460">&#xFF03;2460</a></span></p></li><li><p id="change-0.7.7-15"><span class="yiyi-st" id="yiyi-429"><span class="target" id="change-d53f513885dabbbb9b7b9479dcc6c9fb"><strong>[mysql] [bug] </strong></span>Fixed bug whereby get_view_names() for &#x201C;information_schema&#x201D; schema would fail to retrieve views marked as &#x201C;SYSTEM VIEW&#x201D;. </span><span class="yiyi-st" id="yiyi-430">&#x793C;&#x8C8C;Matthew Turland&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d53f513885dabbbb9b7b9479dcc6c9fb">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.7-16"><span class="yiyi-st" id="yiyi-431"><span class="target" id="change-665f633590992519d1a2afe8c40aa0b9"><strong>[mysql] [bug] </strong></span>Fixed bug whereby if cast() is used on a SQL expression whose type is not supported by cast() and therefore CAST isn&#x2019;t rendered by the dialect, the order of evaluation could change if the casted expression required that it be grouped; grouping is now applied to those expressions.<a class="changeset-link headerlink reference internal" href="#change-665f633590992519d1a2afe8c40aa0b9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-432">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2467">&#xFF03;2467</a></span></p></li></ul></div><div class="section" id="change-0.7.7-sqlite"><h3><span class="yiyi-st" id="yiyi-433">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.7.7-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.7-17"><span class="yiyi-st" id="yiyi-434"><span class="target" id="change-4d3073c4d8020a0289ac68eed962eaa3"><strong>[sqlite] [feature] </strong></span>&#x65B0;&#x589E;SQLite&#x6267;&#x884C;&#x9009;&#x9879;&#x201C;sqlite_raw_colnames = True&#x201D;&#xFF0C;&#x5C06;&#x7ED5;&#x8FC7;&#x5C1D;&#x8BD5;&#x4ECE;SQLite cursor.description&#x8FD4;&#x56DE;&#x7684;&#x5217;&#x540D;&#x79F0;&#x4E2D;&#x5220;&#x9664;&#x201C;&#x3002;&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4d3073c4d8020a0289ac68eed962eaa3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-435">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2475">&#xFF03;2475</a></span></p></li><li><p id="change-0.7.7-18"><span class="yiyi-st" id="yiyi-436"><span class="target" id="change-8c57451af0004baeb28caf92d4ee90b8"><strong>[sqlite] [bug] </strong></span>When the primary key column of a Table is replaced, such as via extend_existing, the &#x201C;auto increment&#x201D; column used by insert() constructs is reset. </span><span class="yiyi-st" id="yiyi-437">&#x4EE5;&#x524D;&#x5B83;&#x4F1A;&#x7EE7;&#x7EED;&#x5F15;&#x7528;&#x524D;&#x4E00;&#x4E2A;&#x4E3B;&#x952E;&#x5217;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8c57451af0004baeb28caf92d4ee90b8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-438">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2525">&#xFF03;2525</a></span></p></li></ul></div><div class="section" id="change-0.7.7-mssql"><h3><span class="yiyi-st" id="yiyi-439">MSSQL <a class="headerlink" href="#change-0.7.7-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.7-19"><span class="yiyi-st" id="yiyi-440"><span class="target" id="change-5948b6fff685d80894bef6e58a19581d"><strong>[mssql] [feature] </strong></span>&#x5C06;&#x4E34;&#x65F6;create_engine&#x6807;&#x5FD7;supports_unicode_bind&#x6DFB;&#x52A0;&#x5230;PyODBC&#x65B9;&#x8A00;&#x4E2D;&#xFF0C;&#x4EE5;&#x5F3A;&#x5236;&#x65B9;&#x8A00;&#x662F;&#x5426;&#x5C06;Python unicode&#x6587;&#x5B57;&#x4F20;&#x9012;&#x7ED9;PyODBC&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5948b6fff685d80894bef6e58a19581d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.7-20"><span class="yiyi-st" id="yiyi-441"><span class="target" id="change-f013930a1f1b98f461979f93285819df"><strong>[mssql] [bug] </strong></span>&#x5728;&#x4F7F;&#x7528;pyodbc&#x65B9;&#x8A00;&#x65F6;&#x4FEE;&#x590D;&#x4E86;use_scope_identity create_engine()&#x6807;&#x5FD7;&#x3002;</span><span class="yiyi-st" id="yiyi-442">&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;False&#xFF0C;&#x4EE5;&#x524D;&#x8BE5;&#x6807;&#x5FD7;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;</span><span class="yiyi-st" id="yiyi-443">&#x5F53;&#x8BBE;&#x7F6E;&#x4E3A;False&#x65F6;&#xFF0C;&#x5728;&#x6BCF;&#x4E2A;INSERT&#x4E4B;&#x540E;&#xFF0C;&#x60A8;&#x5C06;&#x5728;&#x201C;implicit_returning&#x201D;&#x8BBE;&#x7F6E;&#x4E3A;False&#x7684;&#x8868;&#x4E2D;&#x83B7;&#x5F97;&#x6700;&#x540E;&#x63D2;&#x5165;&#x7684;ID&#x540E;&#x7684;&#x201C;SELECT @@ identity&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f013930a1f1b98f461979f93285819df">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.7-21"><span class="yiyi-st" id="yiyi-444"><span class="target" id="change-06067c1d141545a78a5e38fea15d3736"><strong>[mssql] [bug] </strong></span>UPDATE..FROM syntax with SQL Server requires that the updated table be present in the FROM clause when an alias of that table is also present in the FROM clause. </span><span class="yiyi-st" id="yiyi-445">&#x5F53;FROM&#x51FA;&#x73B0;&#x5728;&#x7B2C;&#x4E00;&#x4F4D;&#x65F6;&#xFF0C;&#x66F4;&#x65B0;&#x7684;&#x8868;&#x73B0;&#x5728;&#x603B;&#x662F;&#x5B58;&#x5728;&#x4E8E;FROM&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-446">&#x793C;&#x8C8C;sayap&#x3002;<a class="changeset-link headerlink reference internal" href="#change-06067c1d141545a78a5e38fea15d3736">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-447">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2468">&#xFF03;2468</a></span></p></li></ul></div></div><div class="section" id="change-0.7.6"><h2><span class="yiyi-st" id="yiyi-449">0.7.6 <a class="headerlink" href="#change-0.7.6" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-535">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2012&#x5E74;3&#x6708;14&#x65E5;&#x661F;&#x671F;&#x4E09;</span><div class="section" id="change-0.7.6-orm"><h3><span class="yiyi-st" id="yiyi-450">ORM <a class="headerlink" href="#change-0.7.6-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.6-0"><span class="yiyi-st" id="yiyi-451"><span class="target" id="change-da251880fd88fa1c37bfa0d587e41173"><strong>[orm] [feature] </strong></span>&#x5728;&#x4F1A;&#x8BDD;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x201C;no_autoflush&#x201D;&#x4E0A;&#x4E0B;&#x6587;&#x7BA1;&#x7406;&#x5668;&#xFF0C;&#x4E0E;with&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF1A;&#x5C06;&#x4E34;&#x65F6;&#x7981;&#x7528;autoflush&#x3002;<a class="changeset-link headerlink reference internal" href="#change-da251880fd88fa1c37bfa0d587e41173">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.6-1"><span class="yiyi-st" id="yiyi-452"><span class="target" id="change-3dd168b2f746fa1b43aa5a01897c7ef3"><strong>[orm] [feature] </strong></span>&#x5728;Query&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;cte()&#x65B9;&#x6CD5;&#xFF0C;&#x4ECE;Core&#x4E2D;&#x8C03;&#x7528;&#x516C;&#x5171;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#x652F;&#x6301;&#xFF08;&#x89C1;&#x4E0B;&#x6587;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-3dd168b2f746fa1b43aa5a01897c7ef3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-453">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1859">&#xFF03;1859</a></span></p></li><li><p id="change-0.7.6-2"><span class="yiyi-st" id="yiyi-454"><span class="target" id="change-06c8bf2ebcd62bebb89b05351bf869c6"><strong>[orm] [feature] </strong></span>Added the ability to query for Table-bound column names when using query(sometable).filter_by(colname=value).<a class="changeset-link headerlink reference internal" href="#change-06c8bf2ebcd62bebb89b05351bf869c6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-455">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2400">&#xFF03;2400</a></span></p></li><li><p id="change-0.7.6-3"><span class="yiyi-st" id="yiyi-456"><span class="target" id="change-886ab67fd7fa03ee2c0d177071b3ded4"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x4E8B;&#x4EF6;&#x6CE8;&#x518C;&#x9519;&#x8BEF;&#xFF0C;&#x4E3B;&#x8981;&#x663E;&#x793A;&#x4E8B;&#x4EF6;&#x6CA1;&#x6709;&#x5728;&#x4E8B;&#x4EF6;&#x4E0E;Session&#x7C7B;&#x5173;&#x8054;&#x540E;&#x521B;&#x5EFA;&#x7684;sessionmaker()&#x4E2D;&#x6CE8;&#x518C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-886ab67fd7fa03ee2c0d177071b3ded4">&#xB6; t2 &gt;</a></span></p><p><span class="yiyi-st" id="yiyi-457">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2424">&#xFF03;2424</a></span></p></li><li><p id="change-0.7.6-4"><span class="yiyi-st" id="yiyi-458"><span class="target" id="change-d6df1da3c271d4360d60721dcd4d93cd"><strong>[orm] [bug] </strong></span>Fixed bug whereby a primaryjoin condition with a &#x201C;literal&#x201D; in it would raise an error on compile with certain kinds of deeply nested expressions which also needed to render the same bound parameter name more than once.<a class="changeset-link headerlink reference internal" href="#change-d6df1da3c271d4360d60721dcd4d93cd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-459">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2425">&#xFF03;2425</a></span></p></li><li><p id="change-0.7.6-5"><span class="yiyi-st" id="yiyi-460"><span class="target" id="change-c963d79fbb48b092468b8df14fe08b03"><strong>[orm] [bug] </strong></span>&#x5220;&#x9664;&#x5BF9;&#x6620;&#x5C04;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x591A;&#x6B21;&#x5220;&#x9664;&#x65F6;&#x53D7;&#x5F71;&#x54CD;&#x7684;&#x884C;&#x6570;&#x7684;&#x68C0;&#x67E5;&#x3002;</span><span class="yiyi-st" id="yiyi-461">&#x5982;&#x679C;&#x5728;&#x4E24;&#x884C;&#x4E4B;&#x95F4;&#x5B58;&#x5728;ON DELETE CASCADE&#xFF0C;&#x6211;&#x4EEC;&#x65E0;&#x6CD5;&#x4ECE;DBAPI&#x83B7;&#x5F97;&#x51C6;&#x786E;&#x7684;&#x884C;&#x8BA1;&#x6570;&#xFF1B;&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5927;&#x591A;&#x6570;DBAPI&#x90FD;&#x4E0D;&#x652F;&#x6301;&#x6B64;&#x7279;&#x5B9A;&#x8BA1;&#x6570;&#xFF0C;MySQLdb&#x662F;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x60C5;&#x51B5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c963d79fbb48b092468b8df14fe08b03">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-462">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2403">&#xFF03;2403</a></span></p></li><li><p id="change-0.7.6-6"><span class="yiyi-st" id="yiyi-463"><span class="target" id="change-8ce7b5c1f9764f4be9a06bb9f69e52f2"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x4F7F;&#x7528;attribute_mapped_collection&#x6216;column_mapped_collection&#x7684;&#x5BF9;&#x8C61;&#x65E0;&#x6CD5;&#x88AB;pickle&#x7684;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8ce7b5c1f9764f4be9a06bb9f69e52f2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-464">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2409">&#xFF03;2409</a></span></p></li><li><p id="change-0.7.6-7"><span class="yiyi-st" id="yiyi-465"><span class="target" id="change-4139f8190200416937260afba0d0f8b1"><strong>[orm] [bug] </strong></span>Fixed bug whereby MappedCollection would not get the appropriate collection instrumentation if it were only used in a custom subclass that used @collection.internally_instrumented.<a class="changeset-link headerlink reference internal" href="#change-4139f8190200416937260afba0d0f8b1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-466">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2406">&#xFF03;2406</a></span></p></li><li><p id="change-0.7.6-8"><span class="yiyi-st" id="yiyi-467"><span class="target" id="change-9e5cd50053bb474dbea526f38ba4e148"><strong>[orm] [bug] </strong></span>Fixed bug whereby SQL adaption mechanics would fail in a very nested scenario involving joined-inheritance, joinedload(), limit(), and a derived function in the columns clause.<a class="changeset-link headerlink reference internal" href="#change-9e5cd50053bb474dbea526f38ba4e148">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-468">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2419">&#xFF03;2419</a></span></p></li><li><p id="change-0.7.6-9"><span class="yiyi-st" id="yiyi-469"><span class="target" id="change-f8031eba4bd7fcd731200ea774332cdf"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;CascadeOptions&#x7684;repr()&#x4EE5;&#x5305;&#x542B;refresh-expire&#x3002;</span><span class="yiyi-st" id="yiyi-470">&#x8FD8;&#x91CD;&#x505A;&#x4E86;CascadeOptions&#x6210;&#x4E3A;<frozenset>&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f8031eba4bd7fcd731200ea774332cdf">&#xB6;</a></frozenset></span></p><p><span class="yiyi-st" id="yiyi-471">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2417">&#xFF03;2417</a></span></p></li><li><p id="change-0.7.6-10"><span class="yiyi-st" id="yiyi-472"><span class="target" id="change-55aab50690b92c57e72f96dae94d9731"><strong>[orm] [bug] </strong></span>Improved the &#x201C;declarative reflection&#x201D; example to support single-table inheritance, multiple calls to prepare(), tables that are present in alternate schemas, establishing only a subset of classes as reflected.<a class="changeset-link headerlink reference internal" href="#change-55aab50690b92c57e72f96dae94d9731">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.6-11"><span class="yiyi-st" id="yiyi-473"><span class="target" id="change-2bd80098953ad4f526aecbdbdb6c7a38"><strong>[orm] [bug] </strong></span>&#x7F29;&#x653E;&#x5728;flush()&#x4E2D;&#x5E94;&#x7528;&#x7684;&#x6D4B;&#x8BD5;&#xFF0C;&#x4EE5;&#x68C0;&#x67E5;UPDATE&#x5BF9;&#x4E00;&#x4E2A;&#x8868;&#x5185;&#x90E8;&#x5206;&#x4E3A;&#x7A7A;&#x7684;PK&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x771F;&#x6B63;&#x53D1;&#x751F;UPDATE&#x65F6;&#x624D;&#x4F1A;&#x53D1;&#x751F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2bd80098953ad4f526aecbdbdb6c7a38">&#xB6;&lt; / T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-474">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2390">&#xFF03;2390</a></span></p></li><li><p id="change-0.7.6-12"><span class="yiyi-st" id="yiyi-475"><span class="target" id="change-1c063ae66277f88058d137e25e63b77b"><strong>[orm] [bug] </strong></span>Fixed bug whereby if a method name conflicted with a column name, a TypeError would be raised when the mapper tried to inspect the __get__() method on the method object.<a class="changeset-link headerlink reference internal" href="#change-1c063ae66277f88058d137e25e63b77b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-476">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2352">&#xFF03;2352</a></span></p></li></ul></div><div class="section" id="change-0.7.6-engine"><h3><span class="yiyi-st" id="yiyi-477">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.7.6-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.6-13"><span class="yiyi-st" id="yiyi-478"><span class="target" id="change-2d7d75c321c420f13868c04f48c58024"><strong>[engine] [feature] </strong></span>&#x4E3A;&#x8FDE;&#x63A5;&#x6DFB;&#x52A0;&#x4E86;&#x201C;no_parameters = True&#x201D;&#x6267;&#x884C;&#x9009;&#x9879;&#x3002;</span><span class="yiyi-st" id="yiyi-479">&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x4EFB;&#x4F55;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x4F1A;&#x5C06;&#x8BE5;&#x8BED;&#x53E5;&#x4F5C;&#x4E3A;cursor.execute&#xFF08;&#x8BED;&#x53E5;&#xFF09;&#x4F20;&#x9012;&#xFF0C;&#x4ECE;&#x800C;&#x5728;&#x4E0D;&#x5B58;&#x5728;&#x53C2;&#x6570;&#x96C6;&#x5408;&#x65F6;&#x8C03;&#x7528;DBAPIs&#x884C;&#x4E3A;&#xFF1B;&#x5BF9;&#x4E8E;psycopg2&#x548C;mysql-python&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4E0D;&#x4F1A;&#x89E3;&#x91CA;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x7684;&#xFF05;&#x7B26;&#x53F7;&#x3002;</span><span class="yiyi-st" id="yiyi-480">&#x8FD9;&#x53EA;&#x4F1A;&#x53D1;&#x751F;&#x5728;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x4E2D;&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x53C2;&#x6570;&#x5217;&#x8868;&#x662F;&#x7A7A;&#x767D;&#x7684;&#xFF0C;&#x5426;&#x5219;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;SQL&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x8FD9;&#x901A;&#x5E38;&#x4F1A;&#x5BFC;&#x81F4;&#x767E;&#x5206;&#x53F7;&#x8F6C;&#x4E49;&#xFF08;&#x5E76;&#x4E14;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#xFF0C;&#x4E0D;&#x80FD;&#x63D0;&#x524D;&#x77E5;&#x9053;&#x53C2;&#x6570;&#x662F;&#x5426;&#x5B58;&#x5728;&#x4E8E;&#x4E00;&#x4E9B;&#x60C5;&#x51B5;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2d7d75c321c420f13868c04f48c58024">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-481">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2407">&#xFF03;2407</a></span></p></li><li><p id="change-0.7.6-14"><span class="yiyi-st" id="yiyi-482"><span class="target" id="change-48cbd41778bd9bf524befc7899045bd6"><strong>[engine] [feature] </strong></span>&#x5C06;create_engine&#x7684;pool_reset_on_return&#x53C2;&#x6570;&#x6DFB;&#x52A0;&#x5230;&#x63A7;&#x5236;&#x6743;&#xFF0C;&#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x201C;&#x8FDE;&#x63A5;&#x8FD4;&#x56DE;&#x201D;&#x884C;&#x4E3A;&#x3002;</span><span class="yiyi-st" id="yiyi-483">&#x8FD8;&#x4E3A;pool.reset_on_return&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x53C2;&#x6570;&apos;rollback&apos;&#xFF0C;&apos;commit&apos;&#xFF0C;None&#xFF0C;&#x4EE5;&#x5141;&#x8BB8;&#x5BF9;&#x8FDE;&#x63A5;&#x8FD4;&#x56DE;&#x6D3B;&#x52A8;&#x7684;&#x66F4;&#x591A;&#x63A7;&#x5236;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-48cbd41778bd9bf524befc7899045bd6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-484">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2378">&#xFF03;2378</a></span></p></li><li><p id="change-0.7.6-15"><span class="yiyi-st" id="yiyi-485"><span class="target" id="change-f22f644c754519a55485cda58f78ade4"><strong>[engine] [feature] </strong></span>&#x4E3A;&#x5F15;&#x64CE;&#xFF0C;&#x8FDE;&#x63A5;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E9B;&#x4F53;&#x9762;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x7BA1;&#x7406;&#x5668;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>with engine.begin() as conn:
    &lt;work with conn in a transaction&gt;</pre></div></div><p><span class="yiyi-st" id="yiyi-486">&#x548C;&#xFF1A;</span></p><div class="highlight-python"><div class="highlight"><pre><span></span>with engine.connect() as conn:
    &lt;work with conn&gt;</pre></div></div><p><span class="yiyi-st" id="yiyi-487">&#x5728;engine.begin()&#x5B8C;&#x6210;&#xFF0C;&#x63D0;&#x4EA4;&#x6216;&#x56DE;&#x6EDA;&#x4E8B;&#x52A1;&#x65F6;&#x51FA;&#x9519;&#x90FD;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x3002;</span></p><span class="yiyi-st" id="yiyi-488"> <a class="changeset-link headerlink reference internal" href="#change-f22f644c754519a55485cda58f78ade4">&#xB6;</a></span><p></p></li><li><p id="change-0.7.6-16"><span class="yiyi-st" id="yiyi-489"><span class="target" id="change-1b194e4331b2ed3e8f8f778123152f56"><strong>[engine] [bug] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;MockConnection&#xFF08;&#x5373;&#x4E0E;strategy =&#x201C;mock&#x201D;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF09;&#x7684;execution_options()&#x8C03;&#x7528;&#xFF0C;&#x5B83;&#x5145;&#x5F53;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1b194e4331b2ed3e8f8f778123152f56">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.6-sql"><h3><span class="yiyi-st" id="yiyi-490">SQL <a class="headerlink" href="#change-0.7.6-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.6-17"><span class="yiyi-st" id="yiyi-491"><span class="target" id="change-1591463b72830324d33006ffd884fc18"><strong>[sql] [feature] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;SQL&#x6807;&#x51C6;&#x516C;&#x7528;&#x8868;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;CTE&#xFF09;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x5141;&#x8BB8;SELECT&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;CTE&#x6E90;&#xFF08;DML&#x5C1A;&#x672A;&#x652F;&#x6301;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-492">&#x8FD9;&#x662F;&#x901A;&#x8FC7;&#x4EFB;&#x4F55;select()&#x6784;&#x9020;&#x7684;cte()&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1591463b72830324d33006ffd884fc18">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-493">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1859">&#xFF03;1859</a></span></p></li><li><p id="change-0.7.6-18"><span class="yiyi-st" id="yiyi-494">&#x4FEE;&#x6B63;&#x4E86;&#x5185;&#x6838;&#x4E2D;&#x7684;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x95EE;&#x9898;&#xFF0C;&#x5F53;C&#x6269;&#x5C55;&#x4E0E;&#x7279;&#x5B9A;&#x7C7B;&#x578B;&#x7684;&#x7ED3;&#x679C;&#x63D0;&#x53D6;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x5F53;&#x8C03;&#x7528;orm query.count()&#x65F6;&#xFF0C;&#x4F1A;&#x53D1;&#x751F;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-08dbc44d75c1c124d995d5797c268220"> <span class="target" id="change-08dbc44d75c1c124d995d5797c268220"><strong>[sql] [bug] </strong></span></a></span></p><p><span class="yiyi-st" id="yiyi-495">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2427">&#xFF03;2427</a></span></p></li><li><p id="change-0.7.6-19"><span class="yiyi-st" id="yiyi-496"><span class="target" id="change-d8df6d8759ad159ad56f547c506a3983"><strong>[sql] [bug] </strong></span>Fixed issue whereby attribute-based column access on a row would raise AttributeError with non-C version, NoSuchColumnError with C version. </span><span class="yiyi-st" id="yiyi-497">&#x73B0;&#x5728;&#x5728;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x4F1A;&#x5F15;&#x53D1;AttributeError&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d8df6d8759ad159ad56f547c506a3983">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-498">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2398">&#xFF03;2398</a></span></p></li><li><p id="change-0.7.6-20"><span class="yiyi-st" id="yiyi-499"><span class="target" id="change-49687573edf51e35f6e2e138c9d97ed4"><strong>[sql] [bug] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;&#x5217;&#x4E2D;&#x7684;.key&#x4F5C;&#x4E3A;&#x7ED3;&#x679C;&#x96C6;&#x884C;&#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x6807;&#x8BC6;&#x7B26;&#x7684;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-500">.key&#x5F53;&#x524D;&#x88AB;&#x5217;&#x4E3A;&#x5217;&#x7684;&#x201C;&#x5907;&#x7528;&#x201D;&#x540D;&#x79F0;&#xFF0C;&#x5E76;&#x88AB;&#x4EE5;&#x8BE5;&#x5E38;&#x91CF;&#x540D;&#x79F0;&#x5177;&#x6709;&#x8BE5;&#x952E;&#x503C;&#x7684;&#x5217;&#x7684;&#x540D;&#x79F0;&#x53D6;&#x4EE3;&#x3002;</span><span class="yiyi-st" id="yiyi-501">&#x5BF9;&#x4E8E;SQLAlchemy&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x4E3B;&#x8981;&#x7248;&#x672C;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x4F1A;&#x53CD;&#x8F6C;&#x6B64;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x4EE5;&#x4FBF;.key&#x4F18;&#x5148;&#xFF0C;&#x4F46;&#x5C1A;&#x672A;&#x786E;&#x5B9A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-49687573edf51e35f6e2e138c9d97ed4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-502">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2392">&#xFF03;2392</a></span></p></li><li><p id="change-0.7.6-21"><span class="yiyi-st" id="yiyi-503"><span class="target" id="change-343f97bf51f98600f6e8fcd6d441ddbe"><strong>[sql] [bug] </strong></span>&#x5F53;insert()&#x6216;update()&#x6784;&#x9020;&#x7684;values()&#x5B50;&#x53E5;&#x4E2D;&#x58F0;&#x660E;&#x4E0D;&#x5B58;&#x5728;&#x5217;&#x65F6;&#xFF0C;&#x4F1A;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x3002;</span><span class="yiyi-st" id="yiyi-504">&#x5C06;&#x5728;0.8&#x4E2D;&#x79FB;&#x81F3;&#x5F02;&#x5E38;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-343f97bf51f98600f6e8fcd6d441ddbe">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-505">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2413">&#xFF03;2413</a></span></p></li><li><p id="change-0.7.6-22"><span class="yiyi-st" id="yiyi-506"><span class="target" id="change-a77bfc79b387192867cd3cb1d2e792df"><strong>[sql] [bug] </strong></span>A significant change to how labeling is applied to columns in SELECT statements allows &#x201C;truncated&#x201D; labels, that is label names that are generated in Python which exceed the maximum identifier length (note this is configurable via label_length on create_engine()), to be properly referenced when rendered inside of a subquery, as well as to be present in a result set row using their original in-Python names.<a class="changeset-link headerlink reference internal" href="#change-a77bfc79b387192867cd3cb1d2e792df">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-507">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2396">&#xFF03;2396</a></span></p></li><li><p id="change-0.7.6-23"><span class="yiyi-st" id="yiyi-508"><span class="target" id="change-c2121d614de6518b5a70afb2a6acc1a8"><strong>[sql] [bug] </strong></span>Fixed bug in new &#x201C;autoload_replace&#x201D; flag which would fail to preserve the primary key constraint of the reflected table.<a class="changeset-link headerlink reference internal" href="#change-c2121d614de6518b5a70afb2a6acc1a8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-509">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2402">&#xFF03;2402</a></span></p></li><li><p id="change-0.7.6-24"><span class="yiyi-st" id="yiyi-510"><span class="target" id="change-e13352b56336bb2ca6357a005becb329"><strong>[sql] [bug] </strong></span>&#x5F53;&#x4F20;&#x9012;&#x7684;&#x53C2;&#x6570;&#x4E0D;&#x80FD;&#x88AB;&#x89E3;&#x91CA;&#x4E3A;&#x5217;&#x6216;&#x8868;&#x8FBE;&#x5F0F;&#x65F6;&#xFF0C;&#x7D22;&#x5F15;&#x4F1A;&#x5F15;&#x53D1;&#x3002;</span><span class="yiyi-st" id="yiyi-511">&#x5F53;&#x6CA1;&#x6709;&#x5217;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x65F6;&#xFF0C;&#x4F1A;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e13352b56336bb2ca6357a005becb329">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-512">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2380">&#xFF03;2380</a></span></p></li></ul></div><div class="section" id="change-0.7.6-mysql"><h3><span class="yiyi-st" id="yiyi-513">MySQL&#x7684;<a class="headerlink" href="#change-0.7.6-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.6-25"><span class="yiyi-st" id="yiyi-514"><span class="target" id="change-36eb1e2c4794e72f98f0ed14abf5e65b"><strong>[mysql] [feature] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;MySQL&#x7D22;&#x5F15;&#x548C;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x7C7B;&#x578B;&#x7684;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-515">USING&#xFF09;&#x901A;&#x8FC7;&#x65B0;&#x7684;mysql_using&#x53C2;&#x6570;&#x6765;&#x7D22;&#x5F15;&#x548C;PrimaryKeyConstraint&#xFF0C;&#x7531;Diana Clarke&#x63D0;&#x4F9B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-36eb1e2c4794e72f98f0ed14abf5e65b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-516">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2386">&#xFF03;2386</a></span></p></li><li><p id="change-0.7.6-26"><span class="yiyi-st" id="yiyi-517"><span class="target" id="change-3df61a1e9f44018504cf0be0185c2a7f"><strong>[mysql] [feature] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x6240;&#x6709;MySQL&#x65B9;&#x8A00;&#x7684;&#x201C;isolation_level&#x201D;&#x53C2;&#x6570;&#x7684;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-518">&#x611F;&#x8C22;mu_mind&#x8FD9;&#x91CC;&#x7684;&#x8865;&#x4E01;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3df61a1e9f44018504cf0be0185c2a7f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-519">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2394">&#xFF03;2394</a></span></p></li></ul></div><div class="section" id="change-0.7.6-sqlite"><h3><span class="yiyi-st" id="yiyi-520">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.7.6-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.6-27"><span class="yiyi-st" id="yiyi-521"><span class="target" id="change-75ed46e3397d789de20c3c9699f6328d"><strong>[sqlite] [bug] </strong></span>&#x4FEE;&#x6B63;C&#x6269;&#x5C55;&#x4E2D;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x5176;&#x4E2D;&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;&#x4E0D;&#x4F1A;&#x5E94;&#x7528;&#x4E8E;&#x4EE5;&#x6574;&#x6570;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x503C;&#xFF1B;&#x8FD9;&#x4E3B;&#x8981;&#x5F71;&#x54CD;SQLite&#xFF0C;&#x5B83;&#x4E0D;&#x4F1A;&#x4FDD;&#x6301;&#x6570;&#x5B57;&#x6BD4;&#x4F8B;&#x8BBE;&#x7F6E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-75ed46e3397d789de20c3c9699f6328d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-522">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2432">&#xFF03;2432</a></span></p></li></ul></div><div class="section" id="change-0.7.6-mssql"><h3><span class="yiyi-st" id="yiyi-523">MSSQL <a class="headerlink" href="#change-0.7.6-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.6-28"><span class="yiyi-st" id="yiyi-524"><span class="target" id="change-24dedd563345980d146ccf072345481c"><strong>[mssql] [feature] </strong></span>&#x5728;UpdateBase&#x4E0A;&#x4F7F;&#x7528;&#x65B0;&#x7684;with_hint()&#x65B9;&#x6CD5;&#x589E;&#x52A0;&#x4E86;&#x5BF9;MSSQL INSERT&#xFF0C;UPDATE&#x548C;DELETE&#x8868;&#x63D0;&#x793A;&#x7684;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-24dedd563345980d146ccf072345481c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-525">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2430">&#xFF03;2430</a></span></p></li></ul></div><div class="section" id="change-0.7.6-oracle"><h3><span class="yiyi-st" id="yiyi-526">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.7.6-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.6-29"><span class="yiyi-st" id="yiyi-527"><span class="target" id="change-fb4460bd1ca1980817d3dedb89755c9d"><strong>[oracle] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;create_engine()&#x6807;&#x5FD7;coerce_to_decimal = False&#xFF0C;&#x7981;&#x7528;&#x7CBE;&#x5EA6;&#x6570;&#x503C;&#x5904;&#x7406;&#xFF0C;&#x901A;&#x8FC7;&#x5C06;&#x6240;&#x6709;&#x6570;&#x503C;&#x8F6C;&#x6362;&#x4E3A;Decimal&#x53EF;&#x4EE5;&#x589E;&#x52A0;&#x5927;&#x91CF;&#x7684;&#x5F00;&#x9500;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fb4460bd1ca1980817d3dedb89755c9d">&#xB6; t2 &gt;</a></span></p><p><span class="yiyi-st" id="yiyi-528">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2399">&#xFF03;2399</a></span></p></li><li><p id="change-0.7.6-30"><span class="yiyi-st" id="yiyi-529"><span class="target" id="change-985364280fa865032dd045d68431f232"><strong>[oracle] [bug] </strong></span>&#x589E;&#x52A0;&#x4E86;LONG <a class="changeset-link headerlink reference internal" href="#change-985364280fa865032dd045d68431f232">&#x7F3A;&#x5C11;&#x7684;&#x7F16;&#x8BD1;&#x652F;&#x6301;&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-530">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2401">&#xFF03;2401</a></span></p></li><li><p id="change-0.7.6-31"><span class="yiyi-st" id="yiyi-531"><span class="target" id="change-b1c0ae3b7d2775d911aaeeb8e3d3c872"><strong>[oracle] [bug] </strong></span>&#x5C06;&apos;LEVEL&apos;&#x6DFB;&#x52A0;&#x5230;Oracle&#x7684;&#x4FDD;&#x7559;&#x5B57;&#x5217;&#x8868;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b1c0ae3b7d2775d911aaeeb8e3d3c872">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-532">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2435">&#xFF03;2435</a></span></p></li></ul></div><div class="section" id="change-0.7.6-misc"><h3><span class="yiyi-st" id="yiyi-533">&#x6742;&#x9879;<a class="headerlink" href="#change-0.7.6-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.6-32"><span class="yiyi-st" id="yiyi-534"><span class="target" id="change-19dae4d37fac9733caba73475b99064b"><strong>[bug] [examples] </strong></span>Altered _params_from_query() function in Beaker example to pull bindparams from the fully compiled statement, as a quick means to get everything including subqueries in the columns clause, etc.<a class="changeset-link headerlink reference internal" href="#change-19dae4d37fac9733caba73475b99064b">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.7.5"><h2><span class="yiyi-st" id="yiyi-536">0.7.5 <a class="headerlink" href="#change-0.7.5" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-622">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2012&#x5E74;1&#x6708;28&#x65E5;&#x661F;&#x671F;&#x516D;</span><div class="section" id="change-0.7.5-orm"><h3><span class="yiyi-st" id="yiyi-537">ORM <a class="headerlink" href="#change-0.7.5-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.5-0"><span class="yiyi-st" id="yiyi-538"><span class="target" id="change-3a102420811437e8993c20361a8d9534"><strong>[orm] [feature] </strong></span>&#x5728;declarative_base()&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x201C;class_registry&#x201D;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-539">&#x5141;&#x8BB8;&#x4E24;&#x4E2A;&#x6216;&#x66F4;&#x591A;&#x7684;&#x58F0;&#x660E;&#x5F0F;&#x5E93;&#x5171;&#x4EAB;&#x76F8;&#x540C;&#x7684;&#x7C7B;&#x540D;&#x6CE8;&#x518C;&#x8868;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3a102420811437e8993c20361a8d9534">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.5-1"><span class="yiyi-st" id="yiyi-540"><span class="target" id="change-0c9ac7ca68fc1ad2df5e31c3920b7fb3"><strong>[orm] [feature] </strong></span> query.filter()&#x63A5;&#x53D7;&#x901A;&#x8FC7;AND&#x8FDE;&#x63A5;&#x7684;&#x591A;&#x4E2A;&#x6761;&#x4EF6;&#xFF0C;&#x5373;query.filter&#xFF08;x == y&#xFF0C;z&gt; q&#xFF0C;...&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-0c9ac7ca68fc1ad2df5e31c3920b7fb3">&#xB6;&lt; / T2&gt;</a></span></p><p></p></li><li><p id="change-0.7.5-2"><span class="yiyi-st" id="yiyi-541"><span class="target" id="change-57c1f10c52d34b2117be666480e44fdc"><strong>[orm] [feature] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5173;&#x7CFB;&#x52A0;&#x8F7D;&#x5668;&#x9009;&#x9879;&#x7684;&#x65B0;&#x529F;&#x80FD;&#xFF0C;&#x4EE5;&#x5141;&#x8BB8;&#x201C;&#x9ED8;&#x8BA4;&#x201D;&#x52A0;&#x8F7D;&#x5668;&#x7B56;&#x7565;&#x3002;</span><span class="yiyi-st" id="yiyi-542">&#x5C06;&apos;*&apos;&#x4F20;&#x9012;&#x7ED9;&#x4EFB;&#x4F55;joinedload()&#xFF0C;lazyload()&#xFF0C;subqueryload()&#x6216;noload()&#xFF0C;&#x5E76;&#x6210;&#x4E3A;&#x7528;&#x4E8E;&#x6240;&#x6709;&#x5173;&#x7CFB;&#x7684;&#x52A0;&#x8F7D;&#x5668;&#x7B56;&#x7565;&#xFF0C;&#x9664;&#x4E86;&#x5728;&#x67E5;&#x8BE2;&#x4E2D;&#x660E;&#x786E;&#x58F0;&#x660E;&#x7684;&#x90A3;&#x4E9B;&#x7B56;&#x7565;&#x3002;</span><span class="yiyi-st" id="yiyi-543">&#x611F;&#x8C22;&#x5373;&#x5C06;&#x5230;&#x6765;&#x7684;&#x8D21;&#x732E;&#x8005;Kent Bower&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x8BE6;&#x5C3D;&#x4E14;&#x5199;&#x5F97;&#x5F88;&#x597D;&#x7684;&#x6D4B;&#x8BD5;&#x5957;&#x4EF6;&#xFF01;<a class="changeset-link headerlink reference internal" href="#change-57c1f10c52d34b2117be666480e44fdc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-544">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2351">&#xFF03;2351</a></span></p></li><li><p id="change-0.7.5-3"><span class="yiyi-st" id="yiyi-545"><span class="target" id="change-97633f7e42b1537d18cbeea43b26bc27"><strong>[orm] [feature] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x58F0;&#x660E;&#x6027;&#x53CD;&#x5C04;&#x793A;&#x4F8B;&#xFF0C;&#x8BF4;&#x660E;&#x5982;&#x4F55;&#x6700;&#x597D;&#x5730;&#x5C06;&#x8868;&#x53CD;&#x5C04;&#x4E0E;&#x58F0;&#x660E;&#x6DF7;&#x5408;&#x4EE5;&#x53CA;&#x4F7F;&#x7528;&#x4E00;&#x4E9B;&#x65B0;&#x7684;&#x7279;&#x6027;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-97633f7e42b1537d18cbeea43b26bc27">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-546">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2356">&#xFF03;2356</a></span></p></li><li><p id="change-0.7.5-4"><span class="yiyi-st" id="yiyi-547"><span class="target" id="change-55d8c1fff7aefe4a1f70319dec6adc6b"><strong>[orm] [bug] </strong></span>Fixed issue where modified session state established after a failed flush would be committed as part of the subsequent transaction that begins automatically after manual call to rollback(). </span><span class="yiyi-st" id="yiyi-548">&#x4F1A;&#x8BDD;&#x7684;&#x72B6;&#x6001;&#x5728;rollback()&#x4E2D;&#x8FDB;&#x884C;&#x68C0;&#x67E5;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#x65B0;&#x72B6;&#x6001;&#xFF0C;&#x5C06;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#xFF0C;&#x5E76;&#x7B2C;&#x4E8C;&#x6B21;&#x8C03;&#x7528;restore_snapshot()&#xFF0C;&#x653E;&#x5F03;&#x8FD9;&#x4E9B;&#x66F4;&#x6539;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-55d8c1fff7aefe4a1f70319dec6adc6b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-549">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2389">&#xFF03;2389</a></span></p></li><li><p id="change-0.7.5-5"><span class="yiyi-st" id="yiyi-550"><span class="target" id="change-b1e956782e806998b21c5c59c63196ea"><strong>[orm] [bug] </strong></span>&#x56FA;&#x5B9A;&#x4E86;0.7.4&#x7684;&#x56DE;&#x5F52;&#xFF0C;&#x4ECE;&#x8D85;&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;&#x5DF2;&#x7ECF;&#x68C0;&#x6D4B;&#x8FC7;&#x7684;&#x5217;&#x4F5C;&#x4E3A;&#x201C;polymorphic_on&#x201D;&#xFF0C;&#x65E0;&#x6CD5;&#x89E3;&#x6790;&#x5E95;&#x5C42;Column&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b1e956782e806998b21c5c59c63196ea">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-551">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2345">&#xFF03;2345</a></span></p></li><li><p id="change-0.7.5-6"><span class="yiyi-st" id="yiyi-552"><span class="target" id="change-8272906e502e3c17ceaf46c056dd61a7"><strong>[orm] [bug] </strong></span>&#x5982;&#x679C;xyzload_all()&#x4E0E;&#x4E24;&#x4E2A;&#x975E;&#x8FDE;&#x63A5;&#x5173;&#x7CFB;&#x4E0D;&#x6B63;&#x786E;&#x5730;&#x4F7F;&#x7528;&#xFF0C;&#x5219;&#x5F15;&#x53D1;&#x5F02;&#x5E38;<a class="changeset-link headerlink reference internal" href="#change-8272906e502e3c17ceaf46c056dd61a7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-553">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2370">&#xFF03;2370</a></span></p></li><li><p id="change-0.7.5-7"><span class="yiyi-st" id="yiyi-554"><span class="target" id="change-6af3c2131d1f215bc47d9088abe62c4b"><strong>[orm] [bug] </strong></span>Fixed bug whereby event.listen(SomeClass) forced an entirely unnecessary compile of the mapper, making events very hard to set up at module import time (nobody noticed this ??)<a class="changeset-link headerlink reference internal" href="#change-6af3c2131d1f215bc47d9088abe62c4b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-555">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2367">&#xFF03;2367</a></span></p></li><li><p id="change-0.7.5-8"><span class="yiyi-st" id="yiyi-556"><span class="target" id="change-d7b48db2025736b2d9643cb7b3a0e3c2"><strong>[orm] [bug] </strong></span>Fixed bug whereby hybrid_property didn&#x2019;t work as a kw arg in any(), has().<a class="changeset-link headerlink reference internal" href="#change-d7b48db2025736b2d9643cb7b3a0e3c2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.5-9"><span class="yiyi-st" id="yiyi-557"><span class="target" id="change-b88bd4933dc47c44005e5fdc6794709a"><strong>[orm] [bug] </strong></span>&#x786E;&#x4FDD;&#x6240;&#x6709;ORM&#x5F02;&#x5E38;&#x7684;pickleability&#x80FD;&#x591F;&#x517C;&#x5BB9;&#x591A;&#x5904;&#x7406;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b88bd4933dc47c44005e5fdc6794709a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-558">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2371">&#xFF03;2371</a></span></p></li><li><p id="change-0.7.5-10"><span class="yiyi-st" id="yiyi-559"><span class="target" id="change-a73cc2e518480d53268efadf9b8f7eb8"><strong>[orm] [bug] </strong></span>implemented standard &#x201C;can&#x2019;t set attribute&#x201D; / &#x201C;can&#x2019;t delete attribute&#x201D; AttributeError when setattr/delattr used on a hybrid that doesn&#x2019;t define fset or fdel.<a class="changeset-link headerlink reference internal" href="#change-a73cc2e518480d53268efadf9b8f7eb8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-560">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2353">&#xFF03;2353</a></span></p></li><li><p id="change-0.7.5-11"><span class="yiyi-st" id="yiyi-561"><span class="target" id="change-3551999284ff42f7dcdc41a5a7332711"><strong>[orm] [bug] </strong></span>Fixed bug where unpickled object didn&#x2019;t have enough of its state set up to work correctly within the unpickle() event established by the mutable object extension, if the object needed ORM attribute access within __eq__() or similar.<a class="changeset-link headerlink reference internal" href="#change-3551999284ff42f7dcdc41a5a7332711">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-562">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2362">&#xFF03;2362</a></span></p></li><li><p id="change-0.7.5-12"><span class="yiyi-st" id="yiyi-563"><span class="target" id="change-abf88e7bed26797a4f92f148de9b72cb"><strong>[orm] [bug] </strong></span>Fixed bug where &#x201C;merge&#x201D; cascade could mis-interpret an unloaded attribute, if the load_on_pending flag were used with relationship(). </span><span class="yiyi-st" id="yiyi-564">&#x611F;&#x8C22;Kent Bower&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-abf88e7bed26797a4f92f148de9b72cb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-565">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2374">&#xFF03;2374</a></span></p></li><li><p id="change-0.7.5-13"><span class="yiyi-st" id="yiyi-566"><span class="target" id="change-08885bc09f14b67a91d5920966baf2bc"><strong>[orm] </strong></span>Fixed regression from 0.6 whereby if &#x201C;load_on_pending&#x201D; relationship() flag were used where a non-&#x201C;get()&#x201D; lazy clause needed to be emitted on a pending object, it would fail to load.<a class="changeset-link headerlink reference internal" href="#change-08885bc09f14b67a91d5920966baf2bc">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.5-engine"><h3><span class="yiyi-st" id="yiyi-567">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.7.5-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.5-14"><span class="yiyi-st" id="yiyi-568"><span class="target" id="change-9ebe95491ecfb2edd5dc94384c92d141"><strong>[engine] [bug] </strong></span>&#x5C06;__reduce__&#x6DFB;&#x52A0;&#x5230;StatementError&#xFF0C;DBAPIError&#x5217;&#x9519;&#x8BEF;&#x4E2D;&#xFF0C;&#x4EE5;&#x4FBF;&#x5F02;&#x5E38;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF0C;&#x5C31;&#x50CF;&#x4F7F;&#x7528;&#x591A;&#x5904;&#x7406;&#x65F6;&#x4E00;&#x6837;&#x3002;</span><span class="yiyi-st" id="yiyi-569">&#x4F46;&#x662F;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;DBAPI&#x90FD;&#x652F;&#x6301;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x6BD4;&#x5982;psycopg2. <a class="changeset-link headerlink reference internal" href="#change-9ebe95491ecfb2edd5dc94384c92d141">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-570">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2371">&#xFF03;2371</a></span></p></li><li><p id="change-0.7.5-15"><span class="yiyi-st" id="yiyi-571"><span class="target" id="change-b6d472837686e1a147a08b7332fff398"><strong>[engine] [bug] </strong></span>Improved error messages when a non-string or invalid string is passed to any of the date/time processors used by SQLite, including C and Python versions.<a class="changeset-link headerlink reference internal" href="#change-b6d472837686e1a147a08b7332fff398">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-572">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2382">&#xFF03;2382</a></span></p></li><li><p id="change-0.7.5-16"><span class="yiyi-st" id="yiyi-573"><span class="target" id="change-ead8712a877501eeed679427b22e44f1"><strong>[engine] [bug] </strong></span>Fixed bug whereby a table-bound Column object named &#x201C;<a>_<b>&#x201D; which matched a column labeled as &#x201C;<tablename>_<colname>&#x201D; could match inappropriately when targeting in a result set row.<a class="changeset-link headerlink reference internal" href="#change-ead8712a877501eeed679427b22e44f1">&#xB6;</a></colname></tablename></b></a></span></p><p><span class="yiyi-st" id="yiyi-574">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2377">&#xFF03;2377</a></span></p></li><li><p id="change-0.7.5-17"><span class="yiyi-st" id="yiyi-575"><span class="target" id="change-1d2bfe0a34b8c72c15a364316180688c"><strong>[engine] [bug] </strong></span>Fixed bug in &#x201C;mock&#x201D; strategy whereby correct DDL visit method wasn&#x2019;t called, resulting in &#x201C;CREATE/DROP SEQUENCE&#x201D; statements being duplicated<a class="changeset-link headerlink reference internal" href="#change-1d2bfe0a34b8c72c15a364316180688c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-576">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2384">&#xFF03;2384</a></span></p></li></ul></div><div class="section" id="change-0.7.5-sql"><h3><span class="yiyi-st" id="yiyi-577">SQL <a class="headerlink" href="#change-0.7.5-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.5-18"><span class="yiyi-st" id="yiyi-578"><span class="target" id="change-c7de069c3fc21b68e50f220e6a0dffe4"><strong>[sql] [feature] </strong></span>&#x65B0;&#x7684;&#x53CD;&#x5C04;&#x529F;&#x80FD;&#x201C;autoload_replace&#x201D;&#xFF1B;&#x5F53;&#x5728;&#x8868;&#x683C;&#x4E0A;&#x8BBE;&#x7F6E;&#x4E3A;False&#x65F6;&#xFF0C;&#x8868;&#x683C;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x52A0;&#x8F7D;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x66FF;&#x6362;&#x73B0;&#x6709;&#x7684;&#x5217;&#x3002;</span><span class="yiyi-st" id="yiyi-579">&#x5141;&#x8BB8;&#x6784;&#x5EFA;&#x66F4;&#x7075;&#x6D3B;&#x7684;&#x8868;&#x7ED3;&#x6784;/&#x53CD;&#x5C04;&#x94FE;&#xFF0C;&#x5305;&#x62EC;&#x5B83;&#x6709;&#x52A9;&#x4E8E;&#x5C06;&#x58F0;&#x660E;&#x4E0E;&#x8868;&#x53CD;&#x5C04;&#x76F8;&#x7ED3;&#x5408;&#x3002;</span><span class="yiyi-st" id="yiyi-580">&#x8BF7;&#x53C2;&#x9605;wiki&#x4E0A;&#x7684;&#x65B0;&#x793A;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c7de069c3fc21b68e50f220e6a0dffe4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-581">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2356">&#xFF03;2356</a></span></p></li><li><p id="change-0.7.5-19"><span class="yiyi-st" id="yiyi-582"><span class="target" id="change-177b33e20d11306f6f5b91727ba15982"><strong>[sql] [feature] </strong></span>&#x5728;sqlalchemy.sql&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x201C;false()&#x201D;&#x548C;&#x201C;true()&#x201D;&#x8868;&#x8FBE;&#x5F0F;&#x7ED3;&#x6784;&#xFF0C;&#x5C3D;&#x7BA1;&#x4E0D;&#x662F;__all__&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-177b33e20d11306f6f5b91727ba15982">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.5-20"><span class="yiyi-st" id="yiyi-583"><span class="target" id="change-b3dc079dbd31fcbe3c24aa00c4f0f490"><strong>[sql] [feature] </strong></span>Dialect-specific compilers now raise CompileError for all type/statement compilation issues, instead of InvalidRequestError or ArgumentError. </span><span class="yiyi-st" id="yiyi-584">CREATE TABLE&#x7684;DDL&#x5C06;&#x91CD;&#x65B0;&#x5F15;&#x53D1;CompileError&#x4EE5;&#x5305;&#x542B;&#x6709;&#x95EE;&#x9898;&#x5217;&#x7684;&#x8868;/&#x5217;&#x4FE1;&#x606F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b3dc079dbd31fcbe3c24aa00c4f0f490">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-585">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2361">&#xFF03;2361</a></span></p></li><li><p id="change-0.7.5-21"><span class="yiyi-st" id="yiyi-586"><span class="target" id="change-39d3b5ddb9f3dcbd42a74dc6df0c998a"><strong>[sql] [bug] </strong></span>Improved the API for add_column() such that if the same column is added to its own table, an error is not raised and the constraints don&#x2019;t get doubled up. </span><span class="yiyi-st" id="yiyi-587">&#x8FD8;&#x6709;&#x4E00;&#x4E9B;&#x53CD;&#x5C04;/&#x58F0;&#x660E;&#x6A21;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-39d3b5ddb9f3dcbd42a74dc6df0c998a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-588">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2356">&#xFF03;2356</a></span></p></li><li><p id="change-0.7.5-22"><span class="yiyi-st" id="yiyi-589"><span class="target" id="change-37eea1099c4c938a74f03792a2635704"><strong>[sql] [bug] </strong></span>Fixed issue where the &#x201C;required&#x201D; exception would not be raised for bindparam() with required=True, if the statement were given no parameters at all.<a class="changeset-link headerlink reference internal" href="#change-37eea1099c4c938a74f03792a2635704">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-590">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2381">&#xFF03;2381</a></span></p></li></ul></div><div class="section" id="change-0.7.5-mysql"><h3><span class="yiyi-st" id="yiyi-591">MySQL&#x7684;<a class="headerlink" href="#change-0.7.5-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.5-23"><span class="yiyi-st" id="yiyi-592"><span class="target" id="change-f8751618b3a1220a24952e880d8d1ec0"><strong>[mysql] [bug] </strong></span>&#x4FEE;&#x6B63;&#x4E86;regexp&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x6EE4;&#x9664;&#x672A;&#x53CD;&#x6620;&#x7684;&#x201C;PARTITION&#x201D;&#x6307;&#x4EE4;&#x7684;&#x8B66;&#x544A;&#xFF0C;&#x8FD9;&#x8981;&#x5F52;&#x529F;&#x4E8E;George Reilly <a class="changeset-link headerlink reference internal" href="#change-f8751618b3a1220a24952e880d8d1ec0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-593">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2376">&#xFF03;2376</a></span></p></li></ul></div><div class="section" id="change-0.7.5-sqlite"><h3><span class="yiyi-st" id="yiyi-594">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.7.5-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.5-24"><span class="yiyi-st" id="yiyi-595"><span class="target" id="change-117c33e7b1627c5cc26eee90b4ffa6fd"><strong>[sqlite] [bug] </strong></span>the &#x201C;name&#x201D; of an FK constraint in SQLite is reflected as &#x201C;None&#x201D;, not &#x201C;0&#x201D; or other integer value. </span><span class="yiyi-st" id="yiyi-596">&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;SQLite&#x4F3C;&#x4E4E;&#x90FD;&#x4E0D;&#x652F;&#x6301;&#x7EA6;&#x675F;&#x547D;&#x540D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-117c33e7b1627c5cc26eee90b4ffa6fd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-597">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2364">&#xFF03;2364</a></span></p></li><li><p id="change-0.7.5-25"><span class="yiyi-st" id="yiyi-598"><span class="target" id="change-54d9c20f63f1e057ffafe7cd4bff6569"><strong>[sqlite] [bug] </strong></span>sql.false() and sql.true() compile to 0 and 1, respectively in sqlite<a class="changeset-link headerlink reference internal" href="#change-54d9c20f63f1e057ffafe7cd4bff6569">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-599">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2368">&#xFF03;2368</a></span></p></li><li><p id="change-0.7.5-26"><span class="yiyi-st" id="yiyi-600"><span class="target" id="change-2bdd22a024225bc7479dc1df515c5a4c"><strong>[sqlite] [bug] </strong></span>removed an erroneous &#x201C;raise&#x201D; in the SQLite dialect when getting table names and view names, where logic is in place to fall back to an older version of SQLite that doesn&#x2019;t have the &#x201C;sqlite_temp_master&#x201D; table.<a class="changeset-link headerlink reference internal" href="#change-2bdd22a024225bc7479dc1df515c5a4c">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.5-mssql"><h3><span class="yiyi-st" id="yiyi-601">MSSQL <a class="headerlink" href="#change-0.7.5-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.5-27"><span class="yiyi-st" id="yiyi-602"><span class="target" id="change-cfa986a99df4132f7d3327a8948212a3"><strong>[mssql] [bug] </strong></span>Adjusted the regexp used in the mssql.TIME type to ensure only six digits are received for the &#x201C;microseconds&#x201D; portion of the value, which is expected by Python&#x2019;s datetime.time(). </span><span class="yiyi-st" id="yiyi-603">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5BF9;&#x4E8E;&#x53D1;&#x9001;&#x5FAE;&#x79D2;&#x7684;&#x652F;&#x6301;&#x81F3;&#x5C11;&#x5728;pyodbc&#x4E2D;&#x4F3C;&#x4E4E;&#x8FD8;&#x6CA1;&#x6709;&#x53EF;&#x80FD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cfa986a99df4132f7d3327a8948212a3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-604">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2340">&#xFF03;2340</a></span></p></li><li><p id="change-0.7.5-28"><span class="yiyi-st" id="yiyi-605"><span class="target" id="change-65bbfc0cbf4ea706329108c2d0689758"><strong>[mssql] [bug] </strong></span>&#x57FA;&#x4E8E;pymssql&#x4E0A;&#x7684;&#x201C;30&#x4E2A;&#x5B57;&#x7B26;&#x201D;&#x9650;&#x5236;&#xFF0C;&#x6839;&#x636E;&#x62A5;&#x544A;&#x8BF4;&#x5B83;&#x73B0;&#x5728;&#x505A;&#x7684;&#x66F4;&#x597D;&#x3002;</span><span class="yiyi-st" id="yiyi-606">pymssql&#x6CA1;&#x6709;&#x5F97;&#x5230;&#x5F88;&#x597D;&#x7684;&#x6D4B;&#x8BD5;&#xFF0C;&#x5E76;&#x4E14;&#x7531;&#x4E8E;DBAPI&#x5904;&#x4E8E;&#x4E0D;&#x65AD;&#x53D8;&#x5316;&#x4E4B;&#x4E2D;&#xFF0C;&#x76EE;&#x524D;&#x8FD8;&#x4E0D;&#x6E05;&#x695A;&#x8BE5;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x7684;&#x72B6;&#x6001;&#x4EE5;&#x53CA;SQLAlchemy&#x7684;&#x5B9E;&#x73B0;&#x5E94;&#x5982;&#x4F55;&#x9002;&#x5E94;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-65bbfc0cbf4ea706329108c2d0689758"></a></span></p><p><span class="yiyi-st" id="yiyi-607">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2347">&#xFF03;2347</a></span></p></li></ul></div><div class="section" id="change-0.7.5-oracle"><h3><span class="yiyi-st" id="yiyi-608">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.7.5-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.5-29"><span class="yiyi-st" id="yiyi-609"><span class="target" id="change-b601d2076969dff424f84e83f7e23a3f"><strong>[oracle] [bug] </strong></span>&#x5C06;ORA-03135&#x6DFB;&#x52A0;&#x5230;oracle&#x201C;&#x8FDE;&#x63A5;&#x4E22;&#x5931;&#x201D;&#x9519;&#x8BEF;&#x6C38;&#x4E0D;&#x505C;&#x6B62;&#x7684;&#x5217;&#x8868;&#x4E2D;<a class="changeset-link headerlink reference internal" href="#change-b601d2076969dff424f84e83f7e23a3f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-610">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2388">&#xFF03;2388</a></span></p></li></ul></div><div class="section" id="change-0.7.5-misc"><h3><span class="yiyi-st" id="yiyi-611">&#x6742;&#x9879;<a class="headerlink" href="#change-0.7.5-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.5-30"><span class="yiyi-st" id="yiyi-612"><span class="target" id="change-7ea101b9e5ac780313f4ec94a8e11e50"><strong>[feature] [examples] </strong></span>&#x7B80;&#x5316;&#x7248;&#x672C;&#x793A;&#x4F8B;&#xFF0C;&#x4F7F;&#x7528;&#x58F0;&#x660E;&#x6027;&#x6DF7;&#x5408;&#x4EE5;&#x53CA;&#x4E8B;&#x4EF6;&#x4FA6;&#x542C;&#x5668;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5143;&#x7C7B;+ SessionExtension&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7ea101b9e5ac780313f4ec94a8e11e50">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-613">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2313">&#xFF03;2313</a></span></p></li><li><p id="change-0.7.5-31"><span class="yiyi-st" id="yiyi-614"><span class="target" id="change-8d78c8ac914fdc73f0352b8d86340cc3"><strong>[bug] [core] </strong></span>Changed LRUCache, used by the mapper to cache INSERT/UPDATE/DELETE statements, to use an incrementing counter instead of a timestamp to track entries, for greater reliability versus using time.time(), which can cause test failures on some platforms.<a class="changeset-link headerlink reference internal" href="#change-8d78c8ac914fdc73f0352b8d86340cc3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-615">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2379">&#xFF03;2379</a></span></p></li><li><p id="change-0.7.5-32"><span class="yiyi-st" id="yiyi-616"><span class="target" id="change-f11c1ccaa941a5a91a34b9ed4664bc49"><strong>[bug] [core] </strong></span>Added a boolean check for the &#x201C;finalize&#x201D; function within the pool connection proxy&#x2019;s weakref callback before calling it, so that a warning isn&#x2019;t emitted that this function is None when the application is exiting and gc has removed the function from the module before the weakref callback was invoked.<a class="changeset-link headerlink reference internal" href="#change-f11c1ccaa941a5a91a34b9ed4664bc49">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-617">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2383">&#xFF03;2383</a></span></p></li><li><p id="change-0.7.5-33"><span class="yiyi-st" id="yiyi-618"><span class="target" id="change-1556c377ef9bf08b1aa03c0a86a85045"><strong>[bug] [py3k] </strong></span>Fixed inappropriate usage of util.py3k flag and renamed it to util.py3k_warning, since this flag is intended to detect the -3 flag series of import restrictions only.<a class="changeset-link headerlink reference internal" href="#change-1556c377ef9bf08b1aa03c0a86a85045">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-619">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2348">&#xFF03;2348</a></span></p></li><li><p id="change-0.7.5-34"><span class="yiyi-st" id="yiyi-620"><span class="target" id="change-6152f928a75eb13ceaee66f9f222b9f0"><strong>[bug] [examples] </strong></span>&#x4FEE;&#x6B63;large_collection.py&#x5728;&#x5220;&#x9664;&#x8868;&#x4E4B;&#x524D;&#x5173;&#x95ED;&#x4F1A;&#x8BDD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6152f928a75eb13ceaee66f9f222b9f0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-621">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2346">&#xFF03;2346</a></span></p></li></ul></div></div><div class="section" id="change-0.7.4"><h2><span class="yiyi-st" id="yiyi-623">0.7.4 <a class="headerlink" href="#change-0.7.4" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-750">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2011&#x5E74;12&#x6708;9&#x65E5;&#x661F;&#x671F;&#x4E94;</span><div class="section" id="change-0.7.4-orm"><h3><span class="yiyi-st" id="yiyi-624">ORM <a class="headerlink" href="#change-0.7.4-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.4-0"><span class="yiyi-st" id="yiyi-625"><span class="target" id="change-dc3aefb201de941ad86706e78e661813"><strong>[orm] [feature] </strong></span> polymorphic_on&#x73B0;&#x5728;&#x63A5;&#x53D7;&#x8BB8;&#x591A;&#x65B0;&#x7684;&#x503C;&#xFF1A;</span></p><blockquote><div><ul><li><span class="yiyi-st" id="yiyi-626">&#x672A;&#x6620;&#x5C04;&#x7684;&#x72EC;&#x7ACB;&#x8868;&#x8FBE;&#x5F0F;</span></li><li><span class="yiyi-st" id="yiyi-627">column_property()&#x5BF9;&#x8C61;</span></li><li><span class="yiyi-st" id="yiyi-628">&#x4EFB;&#x4F55;column_property()&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x540D;&#x79F0;&#x6216;&#x6620;&#x5C04;&#x5217;&#x7684;&#x5C5E;&#x6027;&#x540D;&#x79F0;</span></li></ul></div></blockquote><p><span class="yiyi-st" id="yiyi-629">&#x8BE5;&#x6587;&#x6863;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;case()&#x6784;&#x9020;&#x7684;&#x793A;&#x4F8B;&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x662F;&#x6B64;&#x5904;&#x4F7F;&#x7528;&#x7684;&#x5E38;&#x89C1;&#x6784;&#x9020;&#x3002;</span><span class="yiyi-st" id="yiyi-630">&#x548C;&#x90E8;&#x5206;</span></p><p><span class="yiyi-st" id="yiyi-631">polymorphic_on&#x4E2D;&#x7684;&#x72EC;&#x7ACB;&#x8868;&#x8FBE;&#x5F0F;&#x4F20;&#x64AD;&#x5230;&#x5355;&#x8868;&#x7EE7;&#x627F;&#x5B50;&#x7C7B;&#xFF0C;&#x4EE5;&#x4FBF;&#x5B83;&#x4EEC;&#x5728;WHERE / JOIN&#x5B50;&#x53E5;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x4EE5;&#x4FBF;&#x50CF;&#x5F80;&#x5E38;&#x4E00;&#x6837;&#x5C06;&#x884C;&#x9650;&#x5236;&#x5230;&#x8BE5;&#x5B50;&#x7C7B;&#x3002;</span></p><span class="yiyi-st" id="yiyi-633"> <a class="changeset-link headerlink reference internal" href="#change-dc3aefb201de941ad86706e78e661813">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-632">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2345">&#xFF03;2345</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2238">&#xFF03;2238</a></span></p></li><li><p id="change-0.7.4-1"><span class="yiyi-st" id="yiyi-634"><span class="target" id="change-596c83c399ac6bb626dfd9b5aa932b9c"><strong>[orm] [feature] </strong></span>&#x5728;&#x5904;&#x7406;Session.dirty&#x7B49;&#x65F6;&#xFF0C;IdentitySet&#x652F;&#x6301; - &#x64CD;&#x4F5C;&#x7B26;&#x4E0E;difference()&#x76F8;&#x540C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-596c83c399ac6bb626dfd9b5aa932b9c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-635">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2301">&#xFF03;2301</a></span></p></li><li><p id="change-0.7.4-2"><span class="yiyi-st" id="yiyi-636"><span class="target" id="change-5c8167d0e62819144052e2a38f39b9ce"><strong>[orm] [feature] </strong></span>Added new value for Column autoincrement called &#x201C;ignore_fk&#x201D;, can be used to force autoincrement on a column that&#x2019;s still part of a ForeignKeyConstraint. </span><span class="yiyi-st" id="yiyi-637">&#x5173;&#x7CFB;&#x6587;&#x6863;&#x4E2D;&#x7684;&#x65B0;&#x793A;&#x4F8B;&#x8BF4;&#x660E;&#x4E86;&#x5B83;&#x7684;&#x7528;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5c8167d0e62819144052e2a38f39b9ce">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.4-3"><span class="yiyi-st" id="yiyi-638"><span class="target" id="change-31707f56997df996d8e87251b442de49"><strong>[orm] [bug] </strong></span>Fixed backref behavior when &#x201C;popping&#x201D; the value off of a many-to-one in response to a removal from a stale one-to-many - the operation is skipped, since the many-to-one has since been updated.<a class="changeset-link headerlink reference internal" href="#change-31707f56997df996d8e87251b442de49">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-639">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2315">&#xFF03;2315</a></span></p></li><li><p id="change-0.7.4-4"><span class="yiyi-st" id="yiyi-640"><span class="target" id="change-0597b131afb6950c6095cc7b9d41a22b"><strong>[orm] [bug] </strong></span>After some years of not doing this, added more granularity to the &#x201C;is X a parent of Y&#x201D; functionality, which is used when determining if the FK on &#x201C;Y&#x201D; needs to be &#x201C;nulled out&#x201D; as well as if &#x201C;Y&#x201D; should be deleted with delete-orphan cascade. </span><span class="yiyi-st" id="yiyi-641">&#x73B0;&#x5728;&#x6D4B;&#x8BD5;&#x8003;&#x8651;&#x4E86;&#x7236;&#x6BCD;&#x7684;Python&#x8EAB;&#x4EFD;&#x53CA;&#x5176;&#x8EAB;&#x4EFD;&#x5BC6;&#x94A5;&#xFF0C;&#x4EE5;&#x67E5;&#x770B;Y&#x7684;&#x6700;&#x540E;&#x5DF2;&#x77E5;&#x7236;&#x6BCD;&#x662F;&#x5426;&#x80AF;&#x5B9A;&#x662F;X.</span><span class="yiyi-st" id="yiyi-642">&#x5982;&#x679C;&#x65E0;&#x6CD5;&#x505A;&#x51FA;&#x51B3;&#x5B9A;&#xFF0C;&#x5219;&#x4F1A;&#x5F15;&#x53D1;StaleDataError&#x3002;</span><span class="yiyi-st" id="yiyi-643">&#x51FA;&#x73B0;&#x6B64;&#x9519;&#x8BEF;&#x7684;&#x6761;&#x4EF6;&#x76F8;&#x5F53;&#x7F55;&#x89C1;&#xFF0C;&#x8981;&#x6C42;&#x5148;&#x524D;&#x7684;&#x7236;&#x9879;&#x5DF2;&#x88AB;&#x5783;&#x573E;&#x6536;&#x96C6;&#xFF0C;&#x5E76;&#x4E14;&#x4EE5;&#x524D;&#x53EF;&#x80FD;&#x4F1A;&#x975E;&#x5E38;&#x4E0D;&#x6070;&#x5F53;&#x5730;&#x66F4;&#x65B0;/&#x5220;&#x9664;&#x81EA;&#x4ECE;&#x8FC1;&#x79FB;&#x5230;&#x65B0;&#x7236;&#x9879;&#x540E;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x4F46;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#xFF0C;&#x5373;&#x201C;&#x65E0;&#x58F0;&#x6210;&#x529F;&#x201D;&#x4E4B;&#x524D;&#x53D1;&#x751F;&#x7684;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x5C06;&#x5728;&#x6A21;&#x7CCA;&#x4E0D;&#x6E05;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x51FA;&#x73B0;&#x3002;</span><span class="yiyi-st" id="yiyi-644">&#x5230;&#x671F;&#x201C;Y&#x201D;&#x4F1A;&#x91CD;&#x7F6E;&#x201C;&#x7236;&#x201D;&#x8DDF;&#x8E2A;&#x5668;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5373;&#x4F7F;X&#x8FC7;&#x65F6;&#xFF0C;X.remove&#xFF08;Y&#xFF09;&#x4E5F;&#x53EF;&#x80FD;&#x4F1A;&#x5220;&#x9664;Y&#xFF0C;&#x4F46;&#x8FD9;&#x4E0E;&#x4E4B;&#x524D;&#x7684;&#x884C;&#x4E3A;&#x76F8;&#x540C;&#xFF1B;&#x5EFA;&#x8BAE;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x8FC7;&#x671F;X. <a class="changeset-link headerlink reference internal" href="#change-0597b131afb6950c6095cc7b9d41a22b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-645">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2264">&#xFF03;2264</a></span></p></li><li><p id="change-0.7.4-5"><span class="yiyi-st" id="yiyi-646"><span class="target" id="change-1c8ec65ea5e475b56844652263a2ae2a"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;query.get()&#x4E2D;&#x5E03;&#x5C14;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x7528;&#x6237;&#x6620;&#x5C04;&#x5BF9;&#x8C61;&#x7684;&#x4E0D;&#x6070;&#x5F53;&#x8BC4;&#x4F30;&#x3002;</span><span class="yiyi-st" id="yiyi-647">&#x4E5F;&#x5728;0.6.9. <a class="changeset-link headerlink reference internal" href="#change-1c8ec65ea5e475b56844652263a2ae2a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-648">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2310">&#xFF03;2310</a></span></p></li><li><p id="change-0.7.4-6"><span class="yiyi-st" id="yiyi-649"><span class="target" id="change-bd50a6ee2954d91d3f6baec72cde98d0"><strong>[orm] [bug] </strong></span>&#x5C06;&#x7F3A;&#x5C11;&#x7684;&#x9017;&#x53F7;&#x6DFB;&#x52A0;&#x5230;PASSIVE_RETURN_NEVER_SET&#x7B26;&#x53F7;<a class="changeset-link headerlink reference internal" href="#change-bd50a6ee2954d91d3f6baec72cde98d0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-650">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2304">&#xFF03;2304</a></span></p></li><li><p id="change-0.7.4-7"><span class="yiyi-st" id="yiyi-651"><span class="target" id="change-4cdfabe6f7b63319f49ffe1859ae22ef"><strong>[orm] [bug] </strong></span> Cls.column.collat&#x200B;&#x200B;e&#xFF08;&#x201C;some collat&#x200B;&#x200B;ion&#x201D;&#xFF09;&#x73B0;&#x5728;&#x53EF;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-652">&#x4E5F;&#x5728;0.6.9 <a class="changeset-link headerlink reference internal" href="#change-4cdfabe6f7b63319f49ffe1859ae22ef">&#xB6;</a>&#x4E2D;</span></p><p><span class="yiyi-st" id="yiyi-653">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1776">&#xFF03;1776</a></span></p></li><li><p id="change-0.7.4-8"><span class="yiyi-st" id="yiyi-654"><span class="target" id="change-7ef516d5f722bd65a4071a3c93af8dcf"><strong>[orm] [bug] </strong></span>the value of a composite attribute is now expired after an insert or update operation, instead of regenerated in place. </span><span class="yiyi-st" id="yiyi-655">&#x8FD9;&#x53EF;&#x786E;&#x4FDD;&#x5728;&#x4F7F;&#x7528;&#x8BE5;&#x503C;&#x91CD;&#x65B0;&#x751F;&#x6210;&#x7EC4;&#x5408;&#x503C;&#x4E4B;&#x524D;&#xFF0C;&#x5C06;&#x5148;&#x8F7D;&#x5165;&#x5728;&#x5237;&#x65B0;&#x5185;&#x8FC7;&#x671F;&#x7684;&#x5217;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7ef516d5f722bd65a4071a3c93af8dcf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-656">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2309">&#xFF03;2309</a></span></p></li><li><p id="change-0.7.4-9"><span class="yiyi-st" id="yiyi-657"><span class="target" id="change-05249cc8e387c5a8a616aaae385531e3"><strong>[orm] [bug] </strong></span>The fix in also emits the &#x201C;refresh&#x201D; event when the composite value is loaded on access, even if all column values were already present, as is appropriate. </span><span class="yiyi-st" id="yiyi-658">&#x8FD9;&#x4FEE;&#x6B63;&#x4E86;&#x4F9D;&#x8D56;&#x4E8E;&#x201C;&#x52A0;&#x8F7D;&#x201D;&#x4E8B;&#x4EF6;&#x7684;&#x201C;&#x53EF;&#x53D8;&#x201D;&#x6269;&#x5C55;&#xFF0C;&#x4EE5;&#x786E;&#x4FDD;_parents&#x5B57;&#x5178;&#x662F;&#x6700;&#x65B0;&#x7684;&#x4FEE;&#x590D;&#x3002;</span><span class="yiyi-st" id="yiyi-659">&#x611F;&#x8C22;Scott Torborg&#x5728;&#x8FD9;&#x91CC;&#x7684;&#x6D4B;&#x8BD5;&#x6848;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-05249cc8e387c5a8a616aaae385531e3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-660">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2309">&#xFF03;2309</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2308">&#xFF03;2308</a></span></p></li><li><p id="change-0.7.4-10"><span class="yiyi-st" id="yiyi-661"><span class="target" id="change-609fe72c8353d6327b7563d3f1a83b71"><strong>[orm] [bug] </strong></span>Fixed bug whereby a subclass of a subclass using concrete inheritance in conjunction with the new ConcreteBase or AbstractConcreteBase would fail to apply the subclasses deeper than one level to the &#x201C;polymorphic loader&#x201D; of each base<a class="changeset-link headerlink reference internal" href="#change-609fe72c8353d6327b7563d3f1a83b71">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-662">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2312">&#xFF03;2312</a></span></p></li><li><p id="change-0.7.4-11"><span class="yiyi-st" id="yiyi-663"><span class="target" id="change-8198da84adbc73e64b436c59dc6a16f3"><strong>[orm] [bug] </strong></span>Fixed bug whereby a subclass of a subclass using the new AbstractConcreteBase would fail to acquire the correct &#x201C;base_mapper&#x201D; attribute when the &#x201C;base&#x201D; mapper was generated, thereby causing failures later on.<a class="changeset-link headerlink reference internal" href="#change-8198da84adbc73e64b436c59dc6a16f3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-664">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2312">&#xFF03;2312</a></span></p></li><li><p id="change-0.7.4-12"><span class="yiyi-st" id="yiyi-665"><span class="target" id="change-3928c6de9c155292edc1adf1edecb9d3"><strong>[orm] [bug] </strong></span>Fixed bug whereby column_property() created against ORM-level column could be treated as a distinct entity when producing certain kinds of joined-inh joins.<a class="changeset-link headerlink reference internal" href="#change-3928c6de9c155292edc1adf1edecb9d3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-666">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2316">&#xFF03;2316</a></span></p></li><li><p id="change-0.7.4-13"><span class="yiyi-st" id="yiyi-667"><span class="target" id="change-4a30fc1572fd8ad440dc0246b95e4424"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x5143;&#x7EC4;&#x65E0;&#x610F;&#x4E2D;&#x4F20;&#x9012;&#x7ED9;session.query()&#x65F6;&#x5F15;&#x53D1;&#x7684;&#x9519;&#x8BEF;&#x683C;&#x5F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-668">&#x4E5F;&#x5728;0.6.9. <a class="changeset-link headerlink reference internal" href="#change-4a30fc1572fd8ad440dc0246b95e4424">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-669">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2297">&#xFF03;2297</a></span></p></li><li><p id="change-0.7.4-14"><span class="yiyi-st" id="yiyi-670"><span class="target" id="change-a33290eb16ea6f93b88fc619c1643bec"><strong>[orm] [bug] </strong></span>&#x73B0;&#x5728;&#x8DDF;&#x8E2A;&#x8C03;&#x7528;query.join()&#x5230;&#x5355;&#x8868;&#x7EE7;&#x627F;&#x5B50;&#x7C7B;&#xFF0C;&#x5E76;&#x7528;&#x4E8E;&#x6D88;&#x9664;&#x989D;&#x5916;&#x7684;WHERE ..</span><span class="yiyi-st" id="yiyi-671">IN&#x6807;&#x51C6;&#x901A;&#x5E38;&#x4F7F;&#x7528;&#x5355;&#x8868;&#x7EE7;&#x627F;&#xFF0C;&#x56E0;&#x4E3A;&#x8054;&#x63A5;&#x5E94;&#x8BE5;&#x9002;&#x5E94;&#x5B83;&#x3002;</span><span class="yiyi-st" id="yiyi-672">&#x8FD9;&#x5141;&#x8BB8;OUTER JOIN&#x751F;&#x6210;&#x6B63;&#x786E;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x5904;&#x7406;&#x5355;&#x4E2A;&#x8868;&#x7EE7;&#x627F;&#x8FDE;&#x63A5;&#x65F6;&#x603B;&#x4F53;&#x4E0A;&#x4F1A;&#x4EA7;&#x751F;&#x66F4;&#x5C11;&#x7684;WHERE&#x6807;&#x51C6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a33290eb16ea6f93b88fc619c1643bec">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-673">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2328">&#xFF03;2328</a></span></p></li><li><p id="change-0.7.4-15"><span class="yiyi-st" id="yiyi-674"><span class="target" id="change-598ef96bfad7670cdec19b24aba4df59"><strong>[orm] [bug] </strong></span> __ table_args__&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x7A7A;&#x5143;&#x7EC4;&#x4EE5;&#x53CA;&#x7A7A;&#x5B57;&#x5178;&#x4F20;&#x9012;&#x3002;</span><span class="yiyi-st" id="yiyi-675">&#x611F;&#x8C22;Fayaz Yusuf Khan&#x63D0;&#x4F9B;&#x7684;&#x8865;&#x4E01;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-598ef96bfad7670cdec19b24aba4df59">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-676">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2339">&#xFF03;2339</a></span></p></li><li><p id="change-0.7.4-16"><span class="yiyi-st" id="yiyi-677"><span class="target" id="change-66ff5c39136a31854eb15d8bb803cb68"><strong>[orm] [bug] </strong></span>Updated warning message when setting delete-orphan without delete to no longer refer to 0.6, as we never got around to upgrading this to an exception. </span><span class="yiyi-st" id="yiyi-678">&#x7406;&#x60F3;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x66F4;&#x597D;&#xFF0C;&#x4F46;&#x8FD9;&#x5E76;&#x4E0D;&#x662F;&#x5173;&#x952E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-66ff5c39136a31854eb15d8bb803cb68">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-679">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2325">&#xFF03;2325</a></span></p></li><li><p id="change-0.7.4-17"><span class="yiyi-st" id="yiyi-680"><span class="target" id="change-e28cb51839fda175259aa581e046b920"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;get_history()&#x5F15;&#x7528;&#x6CA1;&#x6709;&#x503C;&#x7684;&#x590D;&#x5408;&#x5C5E;&#x6027;&#x65F6;&#x7684;&#x9519;&#x8BEF;&#xFF1B;&#x4E3A;get_history()&#x6DFB;&#x52A0;&#x4E86;&#x5173;&#x4E8E;&#x590D;&#x5408;&#x7684;&#x8986;&#x76D6;&#x8303;&#x56F4;&#xFF0C;&#x5426;&#x5219;&#x8FD9;&#x53EA;&#x662F;&#x4E00;&#x4E2A;userland&#x51FD;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e28cb51839fda175259aa581e046b920">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.4-engine"><h3><span class="yiyi-st" id="yiyi-681">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.7.4-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.4-18"><span class="yiyi-st" id="yiyi-682"><span class="target" id="change-b0f112949f1f605e403ae19464fd0f72"><strong>[engine] [bug] </strong></span>Fixed bug whereby transaction.rollback() would throw an error on an invalidated connection if the transaction were a two-phase or savepoint transaction. </span><span class="yiyi-st" id="yiyi-683">&#x5BF9;&#x4E8E;&#x666E;&#x901A;&#x4E8B;&#x52A1;&#x6765;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x8FDE;&#x63A5;&#x5931;&#x6548;&#xFF0C;rollback()&#x662F;&#x65E0;&#x64CD;&#x4F5C;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x867D;&#x7136;&#x5B83;&#x4E0D;&#x662F;100&#xFF05;&#x6E05;&#x695A;&#x5B83;&#x662F;&#x5426;&#x5E94;&#x8BE5;&#x662F;&#x65E0;&#x64CD;&#x4F5C;&#xFF0C;&#x81F3;&#x5C11;&#x73B0;&#x5728;&#x8BE5;&#x63A5;&#x53E3;&#x662F;&#x4E00;&#x81F4;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b0f112949f1f605e403ae19464fd0f72"> T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-684">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2317">&#xFF03;2317</a></span></p></li></ul></div><div class="section" id="change-0.7.4-sql"><h3><span class="yiyi-st" id="yiyi-685">SQL <a class="headerlink" href="#change-0.7.4-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.4-19"><span class="yiyi-st" id="yiyi-686"><span class="target" id="change-16a2053641572c412b6754e5dbf15b08"><strong>[sql] [feature] </strong></span>The update() construct can now accommodate multiple tables in the WHERE clause, which will render an &#x201C;UPDATE..FROM&#x201D; construct, recognized by Postgresql and MSSQL. </span><span class="yiyi-st" id="yiyi-687">&#x5728;MySQL&#x4E0A;&#x7F16;&#x8BD1;&#x65F6;&#xFF0C;&#x5C06;&#x4F1A;&#x751F;&#x6210;&#x201C;UPDATE t1&#xFF0C;t2&#xFF0C;..&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-688">&#x5982;&#x679C;Column&#x5BF9;&#x8C61;&#x7528;&#x4F5C;&#x201C;values&#x201D;&#x53C2;&#x6570;&#x6216;&#x751F;&#x6210;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x952E;&#xFF0C;&#x5219;MySQL&#x8FD8;&#x53EF;&#x4EE5;&#x5728;SET&#x5B50;&#x53E5;&#x4E2D;&#x9488;&#x5BF9;&#x591A;&#x4E2A;&#x8868;&#x8FDB;&#x884C;&#x6E32;&#x67D3;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-16a2053641572c412b6754e5dbf15b08">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-689">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2166">&#xFF03;2166</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1944">&#xFF03;1944</a></span></p></li><li><p id="change-0.7.4-20"><span class="yiyi-st" id="yiyi-690"><span class="target" id="change-7b1b8704940a6df76cfdeaf3ebdaf8bf"><strong>[sql] [feature] </strong></span>&#x5BF9;&#x79F0;&#x4E3A;&#x201C;python_type&#x201D;&#x7684;&#x7C7B;&#x578B;&#x6DFB;&#x52A0;&#x8BBF;&#x95EE;&#x5668;&#xFF0C;&#x8FD4;&#x56DE;&#x7279;&#x5B9A;TypeEngine&#x5B9E;&#x4F8B;&#x7684;&#x57FA;&#x672C;Python&#x7C7B;&#x578B;&#x5BF9;&#x8C61;&#xFF08;&#x5982;&#x679C;&#x5DF2;&#x77E5;&#xFF09;&#xFF0C;&#x5426;&#x5219;&#x5F15;&#x53D1;NotImplementedError <a class="changeset-link headerlink reference internal" href="#change-7b1b8704940a6df76cfdeaf3ebdaf8bf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-691">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/77">&#xFF03;77</a></span></p></li><li><p id="change-0.7.4-21"><span class="yiyi-st" id="yiyi-692"><span class="target" id="change-93f0d91f5bbe4c6452dfb872bf427219"><strong>[sql] [bug] </strong></span>related to, made some adjustments to the change from regarding the &#x201C;from&#x201D; list on a select(). </span><span class="yiyi-st" id="yiyi-693">_froms&#x96C6;&#x5408;&#x4E0D;&#x518D;&#x88AB;&#x8BB0;&#x5FC6;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x7B80;&#x5316;&#x4E86;&#x5404;&#x79CD;&#x7528;&#x4F8B;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x5217;&#x5DF2;&#x7ECF;&#x5728;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x4F7F;&#x7528;&#x4E4B;&#x540E;&#x5C06;&#x5217;&#x9644;&#x52A0;&#x5230;&#x8868;&#x4E0A;&#x65F6;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x201C;&#x8B66;&#x544A;&#x201D; -  select()&#x6784;&#x9020;&#x73B0;&#x5728;&#x5C06;&#x59CB;&#x7EC8;&#x751F;&#x6210;&#x6B63;&#x786E;&#x7684;&#x8868;&#x8FBE;&#x3002;</span><span class="yiyi-st" id="yiyi-694">&#x8FD9;&#x91CC;&#x53EF;&#x80FD;&#x6CA1;&#x6709;&#x771F;&#x5B9E;&#x4E16;&#x754C;&#x7684;&#x6027;&#x80FD;&#x3002; select()&#x5BF9;&#x8C61;&#x51E0;&#x4E4E;&#x603B;&#x662F;&#x4E34;&#x65F6;&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x5E0C;&#x671B;&#x4F18;&#x5316;select()&#x7684;&#x91CD;&#x7528;&#x7684;&#x7CFB;&#x7EDF;&#x5C06;&#x4F7F;&#x7528;&#x201C;compiled_cache&#x201D;&#x7279;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-695">&#x8C03;&#x7528;select.bind&#x65F6;&#x53D1;&#x751F;&#x7684;&#x547D;&#x4E2D;&#x5DF2;&#x7ECF;&#x51CF;&#x5C11;&#xFF0C;&#x4F46;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x7528;&#x6237;&#x4E0D;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x201C;&#x7ED1;&#x5B9A;&#x5143;&#x6570;&#x636E;&#x201D;&#xFF1A;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-93f0d91f5bbe4c6452dfb872bf427219">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-696">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2316">&#xFF03;2316</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2261">&#xFF03;2261</a></span></p></li><li><p id="change-0.7.4-22"><span class="yiyi-st" id="yiyi-697"><span class="target" id="change-980730aa57637cb4737a12677e711fb6"><strong>[sql] [bug] </strong></span>further tweak to the fix from, so that generative methods work a bit better off of cloned (this is almost a non-use case though). </span><span class="yiyi-st" id="yiyi-698">&#x7279;&#x522B;&#x662F;&#xFF0C;&#x8FD9;&#x5141;&#x8BB8;with_only_columns()&#x8868;&#x73B0;&#x5F97;&#x66F4;&#x52A0;&#x4E00;&#x81F4;&#x3002;</span><span class="yiyi-st" id="yiyi-699">&#x5411;with_only_columns()&#x6DFB;&#x52A0;&#x4E86;&#x989D;&#x5916;&#x7684;&#x6587;&#x6863;&#xFF0C;&#x4EE5;&#x9610;&#x660E;&#x9884;&#x671F;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x8FD9;&#x4E9B;&#x884C;&#x4E3A;&#x7531;&#x4E8E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-980730aa57637cb4737a12677e711fb6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-700">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2261">&#xFF03;2261</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2319">&#xFF03;2319</a></span></p></li></ul></div><div class="section" id="change-0.7.4-schema"><h3><span class="yiyi-st" id="yiyi-701">&#x67B6;&#x6784;<a class="headerlink" href="#change-0.7.4-schema" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.4-23"><span class="yiyi-st" id="yiyi-702"><span class="target" id="change-30eeb63f3664807fb7da0abb1b45863d"><strong>[schema] [feature] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x8FDC;&#x7A0B;&#x201C;&#x6A21;&#x5F0F;&#x201D;&#x7684;&#x65B0;&#x652F;&#x6301;&#xFF1A;<a class="changeset-link headerlink reference internal" href="#change-30eeb63f3664807fb7da0abb1b45863d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.4-24"><span class="yiyi-st" id="yiyi-703"><span class="target" id="change-f8b27554125d172552f8afbb264be5ce"><strong>[schema] [feature] </strong></span>The &#x201C;extend_existing&#x201D; flag on Table now allows for the reflection process to take effect for a Table object that&#x2019;s already been defined; when autoload=True and extend_existing=True are both set, the full set of columns will be reflected from the Table which will then <em>overwrite</em> those columns already present, rather than no activity occurring. </span><span class="yiyi-st" id="yiyi-704">&#x7136;&#x800C;&#xFF0C;&#x76F4;&#x63A5;&#x5B58;&#x5728;&#x4E8E;&#x81EA;&#x52A8;&#x8F7D;&#x5165;&#x8FD0;&#x884C;&#x4E2D;&#x7684;&#x5217;&#x5C06;&#x4E00;&#x5982;&#x65E2;&#x5F80;&#x5730;&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f8b27554125d172552f8afbb264be5ce">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-705">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1410">&#xFF03;1410</a></span></p></li><li><p id="change-0.7.4-25"><span class="yiyi-st" id="yiyi-706"><span class="target" id="change-740f1ca9e5f6d1013a43d2f2a3b62e46"><strong>[schema] [bug] </strong></span>Fixed bug whereby TypeDecorator would return a stale value for _type_affinity, when using a TypeDecorator that &#x201C;switches&#x201D; types, like the CHAR/UUID type.<a class="changeset-link headerlink reference internal" href="#change-740f1ca9e5f6d1013a43d2f2a3b62e46">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.4-26"><span class="yiyi-st" id="yiyi-707"><span class="target" id="change-e6f81ac547b821c6e3284e266230443c"><strong>[schema] [bug] </strong></span>Fixed bug whereby &#x201C;order_by=&#x2019;foreign_key&#x2019;&#x201D; option to Inspector.get_table_names wasn&#x2019;t implementing the sort properly, replaced with the existing sort algorithm<a class="changeset-link headerlink reference internal" href="#change-e6f81ac547b821c6e3284e266230443c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.4-27"><span class="yiyi-st" id="yiyi-708"><span class="target" id="change-d16f46aeda4253c3b9b85c8bbacdeeef"><strong>[schema] [bug] </strong></span>the &#x201C;name&#x201D; of a column-level CHECK constraint, if present, is now rendered in the CREATE TABLE statement using &#x201C;CONSTRAINT <name> CHECK <expression>&#x201D;.<a class="changeset-link headerlink reference internal" href="#change-d16f46aeda4253c3b9b85c8bbacdeeef">&#xB6;</a></expression></name></span></p><p><span class="yiyi-st" id="yiyi-709">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2305">&#xFF03;2305</a></span></p></li><li><p id="change-0.7.4-28"><span class="yiyi-st" id="yiyi-710"><span class="target" id="change-82862f893ba8ec9c5f0ee21833ef35a4"><strong>[schema] </strong></span>MetaData() accepts &#x201C;schema&#x201D; and &#x201C;quote_schema&#x201D; arguments, which will be applied to the same-named arguments of a Table or Sequence which leaves these at their default of <code class="docutils literal"><span class="pre">None</span></code>.<a class="changeset-link headerlink reference internal" href="#change-82862f893ba8ec9c5f0ee21833ef35a4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.4-29"><span class="yiyi-st" id="yiyi-711"><span class="target" id="change-0ee589a6906f82d2282e3743c9ac4052"><strong>[schema] </strong></span> Sequence&#x63A5;&#x53D7;&#x201C;quote_schema&#x201D;&#x53C2;&#x6570;<a class="changeset-link headerlink reference internal" href="#change-0ee589a6906f82d2282e3743c9ac4052">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.4-30"><span class="yiyi-st" id="yiyi-712"><span class="target" id="change-b47c1358552d546535afa1ac13ce8cc1"><strong>[schema] </strong></span>tometadata() for Table will use the &#x201C;schema&#x201D; of the incoming MetaData for the new Table if the schema argument is explicitly &#x201C;None&#x201D;<a class="changeset-link headerlink reference internal" href="#change-b47c1358552d546535afa1ac13ce8cc1">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.4-31"><span class="yiyi-st" id="yiyi-713"><span class="target" id="change-7fbdac893513ac9abb39e64255d2f8b4"><strong>[schema] </strong></span>&#x6DFB;&#x52A0;&#x4E86;CreateSchema&#x548C;DropSchema DDL&#x7ED3;&#x6784; - &#x5B83;&#x4EEC;&#x53EA;&#x63A5;&#x53D7;&#x6A21;&#x5F0F;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x540D;&#x79F0;&#x548C;&#x201C;quote&#x201D;&#x6807;&#x5FD7;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7fbdac893513ac9abb39e64255d2f8b4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.4-32"><span class="yiyi-st" id="yiyi-714"><span class="target" id="change-efb9e7247339600fac23ba8079daedaa"><strong>[schema] </strong></span>When using default &#x201C;schema&#x201D; with MetaData, ForeignKey will also assume the &#x201C;default&#x201D; schema when locating remote table. </span><span class="yiyi-st" id="yiyi-715">&#x8FD9;&#x5141;&#x8BB8;&#x5143;&#x6570;&#x636E;&#x4E0A;&#x7684;&#x201C;&#x6A21;&#x5F0F;&#x201D;&#x53C2;&#x6570;&#x5E94;&#x7528;&#x4E8E;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x6CA1;&#x6709;&#x201C;&#x6A21;&#x5F0F;&#x201D;&#x7684;&#x8868;&#x5BF9;&#x8C61;&#x96C6;&#x5408;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-efb9e7247339600fac23ba8079daedaa">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.4-33"><span class="yiyi-st" id="yiyi-716"><span class="target" id="change-32e0b173bcbaa624549e413ea0c38bda"><strong>[schema] </strong></span>&#x65B9;&#x8A00;&#x4E2D;&#x5B9E;&#x73B0;&#x4E86;&#x201C;has_schema&#x201D;&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x4EC5;&#x9002;&#x7528;&#x4E8E;Postgresql&#x3002;</span><span class="yiyi-st" id="yiyi-717">&#x793C;&#x8C8C;Manlio Perillo&#x3002;<a class="changeset-link headerlink reference internal" href="#change-32e0b173bcbaa624549e413ea0c38bda">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-718">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1679">&#xFF03;1679</a></span></p></li></ul></div><div class="section" id="change-0.7.4-postgresql"><h3><span class="yiyi-st" id="yiyi-719">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.7.4-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.4-34"><span class="yiyi-st" id="yiyi-720"><span class="target" id="change-240e42b2a45d8da58ef70d6352879aa0"><strong>[postgresql] [feature] </strong></span>&#x5411;pg.ENUM&#x6DFB;&#x52A0;&#x4E86;create_type&#x6784;&#x9020;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-721">&#x5982;&#x679C;&#x4E3A;False&#xFF0C;&#x5219;&#x4E0D;&#x4F1A;&#x6267;&#x884C;CREATE / DROP&#x6216;&#x68C0;&#x67E5;&#x8BE5;&#x7C7B;&#x578B;&#x4F5C;&#x4E3A;&#x8868;&#x521B;&#x5EFA;/&#x5220;&#x9664;&#x4E8B;&#x4EF6;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF1B;&#x53EA;&#x6709;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x7684;create()/ drop&#xFF09;()&#x65B9;&#x6CD5;&#x624D;&#x80FD;&#x505A;&#x5230;&#x8FD9;&#x4E00;&#x70B9;&#x3002;</span><span class="yiyi-st" id="yiyi-722">&#x5E2E;&#x52A9;Alembic&#x201C;&#x79BB;&#x7EBF;&#x201D;&#x811A;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-240e42b2a45d8da58ef70d6352879aa0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.4-35"><span class="yiyi-st" id="yiyi-723"><span class="target" id="change-fcdadfef6dc24e48c5801555aed80ea6"><strong>[postgresql] [bug] </strong></span> Postgresql&#x65B9;&#x8A00;&#x8BB0;&#x4F4F;&#x5728;&#x521B;&#x5EFA;/&#x5220;&#x9664;&#x5E8F;&#x5217;&#x671F;&#x95F4;&#x5904;&#x7406;&#x4E86;&#x7279;&#x5B9A;&#x540D;&#x79F0;&#x7684;ENUM&#x3002;</span><span class="yiyi-st" id="yiyi-724">&#x8FD9;&#x5141;&#x8BB8;&#x521B;&#x5EFA;/&#x5220;&#x9664;&#x5E8F;&#x5217;&#x5728;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5BF9;&#x201C;checkfirst&#x201D;&#x7684;&#x8C03;&#x7528;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5DE5;&#x4F5C;&#xFF0C;&#x5E76;&#x4E14;&#x4E5F;&#x610F;&#x5473;&#x7740;&#x6253;&#x5F00;&#x201C;checkfirst&#x201D;&#x5B83;&#x53EA;&#x9700;&#x8981;&#x68C0;&#x67E5;ENUM&#x4E00;&#x6B21;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fcdadfef6dc24e48c5801555aed80ea6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-725">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2311">&#xFF03;2311</a></span></p></li></ul></div><div class="section" id="change-0.7.4-mysql"><h3><span class="yiyi-st" id="yiyi-726">MySQL&#x7684;<a class="headerlink" href="#change-0.7.4-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.4-36"><span class="yiyi-st" id="yiyi-727"><span class="target" id="change-87f7d5afd8c8a0001858444e6cd3690a"><strong>[mysql] [bug] </strong></span> Unicode&#x8C03;&#x6574;&#x5141;&#x8BB8;&#x6700;&#x65B0;&#x7684;pymysql&#xFF08;post 0.4&#xFF09;&#x5728;Python 2&#x4E0A;&#x4F20;&#x9012;100&#xFF05;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-87f7d5afd8c8a0001858444e6cd3690a">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.4-mssql"><h3><span class="yiyi-st" id="yiyi-728">MSSQL <a class="headerlink" href="#change-0.7.4-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.4-37"><span class="yiyi-st" id="yiyi-729"><span class="target" id="change-a87623bce57b04db403132f2fa33acb1"><strong>[mssql] [feature] </strong></span>&#x89E3;&#x9664;&#x4E86;SQL Server&#x7684;SAVEPOINT&#x9650;&#x5236;&#x3002;</span><span class="yiyi-st" id="yiyi-730">&#x6240;&#x6709;&#x6D4B;&#x8BD5;&#x90FD;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x4F46;&#x4E0D;&#x77E5;&#x9053;&#x662F;&#x5426;&#x6709;&#x66F4;&#x6DF1;&#x5C42;&#x7684;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a87623bce57b04db403132f2fa33acb1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-731">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/822">&#xFF03;822</a></span></p></li><li><p id="change-0.7.4-38"><span class="yiyi-st" id="yiyi-732"><span class="target" id="change-8ce7ab418720d92012440e27a7609754"><strong>[mssql] [bug] </strong></span>repaired the with_hint() feature which wasn&#x2019;t implemented correctly on MSSQL - usually used for the &#x201C;WITH (NOLOCK)&#x201D; hint (which you shouldn&#x2019;t be using anyway ! </span><span class="yiyi-st" id="yiyi-733">&#x6539;&#x4E3A;&#x4F7F;&#x7528;&#x5FEB;&#x7167;&#x9694;&#x79BB;:)&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-8ce7ab418720d92012440e27a7609754">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-734">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2336">&#xFF03;2336</a></span></p></li><li><p id="change-0.7.4-39"><span class="yiyi-st" id="yiyi-735"><span class="target" id="change-24887a76b4459a4583801f84bf9c9130"><strong>[mssql] [bug] </strong></span>&#x5BF9;_need_decimal_fix&#x9009;&#x9879;&#x4F7F;&#x7528;&#x65B0;&#x7684;pyodbc&#x7248;&#x672C;&#x68C0;&#x6D4B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-24887a76b4459a4583801f84bf9c9130">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-736">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2318">&#xFF03;2318</a></span></p></li><li><p id="change-0.7.4-40"><span class="yiyi-st" id="yiyi-737"><span class="target" id="change-f7f5ed67d9b7d73a8f4cf6aaa054c0c6"><strong>[mssql] [bug] </strong></span>&#x4E0D;&#x8981;&#x5728;SQL Server 2000&#x4E0A;&#x5C06;&#x201C;&#x8868;&#x540D;&#x201D;&#x8F6C;&#x6362;&#x4E3A;NVARCHAR&#x3002;</span><span class="yiyi-st" id="yiyi-738">&#x7136;&#x800C;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x9ED1;&#x6697;&#x4E2D;&#x9700;&#x8981;&#x4EC0;&#x4E48;&#x5492;&#x8BED;&#x624D;&#x80FD;&#x4F7F;PyODBC&#x5728;FreeTDS 0.91&#x4E2D;&#x5B8C;&#x5168;&#x5DE5;&#x4F5C;&#x3002;&#x7136;&#x800C;&#xFF0C;<a class="changeset-link headerlink reference internal" href="#change-f7f5ed67d9b7d73a8f4cf6aaa054c0c6"></a></span></p><p><span class="yiyi-st" id="yiyi-739">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2343">&#xFF03;2343</a></span></p></li><li><p id="change-0.7.4-41"><span class="yiyi-st" id="yiyi-740"><span class="target" id="change-426d539458da725fa9abfb7f28580ca7"><strong>[mssql] [bug] </strong></span>&#x5728;&#x68C0;&#x7D22;&#x7D22;&#x5F15;&#x540D;&#x79F0;&#x5217;&#x8868;&#x548C;&#x7D22;&#x5F15;&#x5185;&#x7684;&#x5217;&#x540D;&#x79F0;&#x65F6;&#x89E3;&#x7801;&#x4F20;&#x5165;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-426d539458da725fa9abfb7f28580ca7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-741">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2269">&#xFF03;2269</a></span></p></li></ul></div><div class="section" id="change-0.7.4-misc"><h3><span class="yiyi-st" id="yiyi-742">&#x6742;&#x9879;<a class="headerlink" href="#change-0.7.4-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.4-42"><span class="yiyi-st" id="yiyi-743"><span class="target" id="change-079906bcdf912b0240d809ea2295ab7d"><strong>[feature] [ext] </strong></span>&#x4E3A;&#x201C;&#x53D8;&#x6362;&#x5668;&#x201D;&#x7684;&#x6DF7;&#x5408;&#x6587;&#x6863;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x793A;&#x4F8B; - &#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x6DF7;&#x5408;&#x7A0B;&#x5E8F;&#xFF0C;&#x5B83;&#x5C06;&#x81EA;&#x5B9A;&#x4E49;&#x6BD4;&#x8F83;&#x5668;&#x4E0E;&#x67E5;&#x8BE2;&#x53D8;&#x6362;&#x53EF;&#x8C03;&#x7528;&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x3002;</span><span class="yiyi-st" id="yiyi-744">&#x5728;&#x8C03;&#x7528;with_transformation()&#x7684;Query&#x4E0A;&#x4F7F;&#x7528;&#x65B0;&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-745">&#x8FD9;&#x91CC;&#x7684;&#x7528;&#x4F8B;&#x662F;&#x76F8;&#x5F53;&#x5B9E;&#x9A8C;&#x6027;&#x7684;&#xFF0C;&#x4F46;&#x4EC5;&#x5411;Query&#x6DFB;&#x52A0;&#x4E00;&#x884C;&#x4EE3;&#x7801;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-079906bcdf912b0240d809ea2295ab7d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.4-43"><span class="yiyi-st" id="yiyi-746"><span class="target" id="change-8903fbf1a6a4cb048375458cf67d2ee1"><strong>[bug] [pyodbc] </strong></span>pyodbc-based dialects now parse the pyodbc accurately as far as observed pyodbc strings, including such gems as &#x201C;py3-3.0.1-beta4&#x201D;<a class="changeset-link headerlink reference internal" href="#change-8903fbf1a6a4cb048375458cf67d2ee1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-747">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2318">&#xFF03;2318</a></span></p></li><li><p id="change-0.7.4-44"><span class="yiyi-st" id="yiyi-748"><span class="target" id="change-1ed8ebcf5df5083fc07f342f18c03ac7"><strong>[bug] [ext] </strong></span>&#x5F53;&#x6CA1;&#x6709;&#x201C;default&#x201D;&#x7F16;&#x8BD1;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x800C;&#x4E0D;&#x662F;KeyError&#x65F6;&#xFF0C;@compiles&#x4FEE;&#x9970;&#x5668;&#x4F1A;&#x5F15;&#x53D1;&#x4E00;&#x6761;&#x4FE1;&#x606F;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1ed8ebcf5df5083fc07f342f18c03ac7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.4-45"><span class="yiyi-st" id="yiyi-749"><span class="target" id="change-cfcfa2af9f30380f7d1dd29b4b8942c6"><strong>[bug] [examples] </strong></span>Fixed bug in history_meta.py example where the &#x201C;unique&#x201D; flag was not removed from a single-table-inheritance subclass which generates columns to put up onto the base.<a class="changeset-link headerlink reference internal" href="#change-cfcfa2af9f30380f7d1dd29b4b8942c6">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.7.3"><h2><span class="yiyi-st" id="yiyi-751">0.7.3 <a class="headerlink" href="#change-0.7.3" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-904">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2011&#x5E74;10&#x6708;16&#x65E5;</span><div class="section" id="change-0.7.3-general"><h3><span class="yiyi-st" id="yiyi-752">&#x4E00;&#x822C;<a class="headerlink" href="#change-0.7.3-general" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.3-0"><span class="yiyi-st" id="yiyi-753"><span class="target" id="change-29ab8f946c75b6324ab4623bb4dbe039"><strong>[general] </strong></span>Adjusted the &#x201C;importlater&#x201D; mechanism, which is used internally to resolve import cycles, such that the usage of __import__ is completed when the import of sqlalchemy or sqlalchemy.orm is done, thereby avoiding any usage of __import__ after the application starts new threads, fixes. </span><span class="yiyi-st" id="yiyi-754">&#x4E5F;&#x5728;0.6.9. <a class="changeset-link headerlink reference internal" href="#change-29ab8f946c75b6324ab4623bb4dbe039">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-755">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2279">&#xFF03;2279</a></span></p></li></ul></div><div class="section" id="change-0.7.3-orm"><h3><span class="yiyi-st" id="yiyi-756">ORM <a class="headerlink" href="#change-0.7.3-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.3-1"><span class="yiyi-st" id="yiyi-757"><span class="target" id="change-ae5b4bf7f08f7c5c83775c1368dad41a"><strong>[orm] </strong></span>Improved query.join() such that the &#x201C;left&#x201D; side can more flexibly be a non-ORM selectable, such as a subquery. </span><span class="yiyi-st" id="yiyi-758">select_from()&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x9879;&#x73B0;&#x5728;&#x5C06;&#x7528;&#x4F5C;&#x5DE6;&#x4FA7;&#xFF0C;&#x504F;&#x5411;&#x4E8E;&#x9690;&#x5F0F;&#x4F7F;&#x7528;&#x6620;&#x5C04;&#x5B9E;&#x4F53;&#x3002;</span><span class="yiyi-st" id="yiyi-759">&#x5982;&#x679C;&#x7531;&#x4E8E;&#x7F3A;&#x5C11;&#x5916;&#x952E;&#x800C;&#x5BFC;&#x81F4;&#x52A0;&#x5165;&#x4ECD;&#x7136;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#x5305;&#x542B;&#x6B64;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x3002;</span><span class="yiyi-st" id="yiyi-760">&#x611F;&#x8C22;IRC&#x4E0A;&#x7684;brianrhude&#x4F5C;&#x4E3A;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ae5b4bf7f08f7c5c83775c1368dad41a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-761">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2298">&#xFF03;2298</a></span></p></li><li><p id="change-0.7.3-2"><span class="yiyi-st" id="yiyi-762"><span class="target" id="change-6c9416f183df27b183148e9bd94420a1"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;after_soft_rollback()&#x4F1A;&#x8BDD;&#x4E8B;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-763">&#x65E0;&#x8BBA;&#x4F55;&#x65F6;&#x53D1;&#x751F;&#x5B9E;&#x9645;&#x7684;DBAPI&#x7EA7;&#x522B;&#x56DE;&#x6EDA;&#xFF0C;&#x6BCF;&#x5F53;&#x8C03;&#x7528;rollback()&#x65F6;&#x90FD;&#x4F1A;&#x65E0;&#x6761;&#x4EF6;&#x89E6;&#x53D1;&#x6B64;&#x4E8B;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-764">&#x6B64;&#x4E8B;&#x4EF6;&#x4E13;&#x95E8;&#x8BBE;&#x8BA1;&#x7528;&#x4E8E;&#x5728;Session.is_active&#x4E3A;True&#x65F6;&#x5141;&#x8BB8;Session&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6c9416f183df27b183148e9bd94420a1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-765">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2241">&#xFF03;2241</a></span></p></li><li><p id="change-0.7.3-3"><span class="yiyi-st" id="yiyi-766"><span class="target" id="change-8cc754ccc2adc294ad252d4bdeb370d0"><strong>[orm] </strong></span>&#x5728;orm.aliased()&#x6784;&#x9020;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x201C;adapt_on_names&#x201D;&#x5E03;&#x5C14;&#x6807;&#x5FD7;&#x3002;</span><span class="yiyi-st" id="yiyi-767">&#x5982;&#x679C;&#x540D;&#x79F0;&#x4E0E;&#x5B9E;&#x4F53;&#x6620;&#x5C04;&#x5217;&#x7684;&#x540D;&#x79F0;&#x76F8;&#x540C;&#xFF0C;&#x5141;&#x8BB8;&#x522B;&#x540D;()&#x6784;&#x9020;&#x5C06;ORM&#x5B9E;&#x4F53;&#x94FE;&#x63A5;&#x5230;&#x5305;&#x542B;&#x7279;&#x5B9A;&#x5C5E;&#x6027;&#x7684;&#x805A;&#x5408;&#x6216;&#x5176;&#x4ED6;&#x6D3E;&#x751F;&#x5F62;&#x5F0F;&#x7684;&#x53EF;&#x9009;&#x9879;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8cc754ccc2adc294ad252d4bdeb370d0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.3-4"><span class="yiyi-st" id="yiyi-768"><span class="target" id="change-f10203ba4e7e846b2ba30301f2a94379"><strong>[orm] </strong></span>Added new flag expire_on_flush=False to column_property(), marks those properties that would otherwise be considered to be &#x201C;readonly&#x201D;, i.e. derived from SQL expressions, to retain their value after a flush has occurred, including if the parent object itself was involved in an update.<a class="changeset-link headerlink reference internal" href="#change-f10203ba4e7e846b2ba30301f2a94379">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.3-5"><span class="yiyi-st" id="yiyi-769"><span class="target" id="change-dabcd52c3c2100f50821b002f1e3a6a5"><strong>[orm] </strong></span>Enhanced the instrumentation in the ORM to support Py3K&#x2019;s new argument style of &#x201C;required kw arguments&#x201D;, i.e. fn(a, b, *, c, d), fn(a, b, *args, c, d). </span><span class="yiyi-st" id="yiyi-770">&#x6620;&#x5C04;&#x5BF9;&#x8C61;&#x7684;__init__&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x7B7E;&#x540D;&#x5C06;&#x88AB;&#x4FDD;&#x7559;&#xFF0C;&#x5305;&#x62EC;&#x6240;&#x9700;&#x7684;kw&#x89C4;&#x5219;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dabcd52c3c2100f50821b002f1e3a6a5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-771">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2237">&#xFF03;2237</a></span></p></li><li><p id="change-0.7.3-6"><span class="yiyi-st" id="yiyi-772"><span class="target" id="change-c4cedeedbd7be98f6ce67dac3e197919"><strong>[orm] </strong></span>Fixed bug in unit of work whereby detection of &#x201C;cycles&#x201D; among classes in highly interlinked patterns would not produce a deterministic result; thereby sometimes missing some nodes that should be considered cycles and causing further issues down the road. </span><span class="yiyi-st" id="yiyi-773">&#x6CE8;&#x610F;&#x8FD9;&#x4E2A;bug&#x4E5F;&#x662F;0.6&#xFF1B;&#x76EE;&#x524D;&#x4E0D;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c4cedeedbd7be98f6ce67dac3e197919">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-774">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2282">&#xFF03;2282</a></span></p></li><li><p id="change-0.7.3-7"><span class="yiyi-st" id="yiyi-775"><span class="target" id="change-01e3a7d2882ae99168675b1632b15b86"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x4ECE;0.6&#x5F00;&#x59CB;&#x7684;&#x5404;&#x79CD;&#x540C;&#x4E49;&#x8BCD;()&#x76F8;&#x5173;&#x7684;&#x56DE;&#x5F52;&#xFF1A;</span></p><blockquote><div><ul><li><span class="yiyi-st" id="yiyi-776">&#x5BF9;&#x540C;&#x4E49;&#x8BCD;&#x505A;&#x540C;&#x4E49;&#x8BCD;&#x73B0;&#x5728;&#x8D77;&#x4F5C;&#x7528;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-777">&#x9488;&#x5BF9;&#x5173;&#x7CFB;()&#x7684;&#x540C;&#x4E49;&#x8BCD;&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x7ED9;query.join()&#xFF0C;&#x53D1;&#x9001;&#x7ED9;query.options()&#x7684;&#x9009;&#x9879;&#x901A;&#x8FC7;&#x540D;&#x79F0;&#x4F20;&#x9012;&#x7ED9;query.with_parent()&#x3002;</span></li></ul></div></blockquote><span class="yiyi-st" id="yiyi-778"> <a class="changeset-link headerlink reference internal" href="#change-01e3a7d2882ae99168675b1632b15b86">&#xB6;</a></span><p></p></li><li><p id="change-0.7.3-8"><span class="yiyi-st" id="yiyi-779"><span class="target" id="change-3376d1f0f8fd5692e18be45ec4f9df6d"><strong>[orm] </strong></span>Fixed bug whereby mapper.order_by attribute would be ignored in the &#x201C;inner&#x201D; query within a subquery eager load. </span><span class="yiyi-st" id="yiyi-780">. </span><span class="yiyi-st" id="yiyi-781">&#x4E5F;&#x5728;0.6.9. <a class="changeset-link headerlink reference internal" href="#change-3376d1f0f8fd5692e18be45ec4f9df6d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-782">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2287">&#xFF03;2287</a></span></p></li><li><p id="change-0.7.3-9"><span class="yiyi-st" id="yiyi-783"><span class="target" id="change-1eeda31b58b0498795c90858495711b1"><strong>[orm] </strong></span>&#x8EAB;&#x4EFD;&#x6620;&#x5C04;.discard()&#x5728;&#x5185;&#x90E8;&#x4F7F;&#x7528;dict.pop&#xFF08;&#xFF0C;None&#xFF09;&#x800C;&#x4E0D;&#x662F;&#x201C;del&#x201D;&#x6765;&#x907F;&#x514D;&#x5728;&#x975E;&#x786E;&#x5B9A;&#x6027;gc&#x62C6;&#x5378;&#x671F;&#x95F4;&#x51FA;&#x73B0;KeyError / warning <a class="changeset-link headerlink reference internal" href="#change-1eeda31b58b0498795c90858495711b1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-784">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2267">&#xFF03;2267</a></span></p></li><li><p id="change-0.7.3-10"><span class="yiyi-st" id="yiyi-785"><span class="target" id="change-b2a626fabeac396bf73fa7b10eaf0786"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x65B0;&#x590D;&#x5408;&#x91CD;&#x5199;&#x4E2D;&#x7684;&#x56DE;&#x5F52;&#xFF0C;&#x5176;&#x4E2D;&#x7531;&#x4E8E;&#x7F3A;&#x5C11;&#x5BFC;&#x5165;&#xFF0C;deferred = True&#x9009;&#x9879;&#x5931;&#x8D25;<a class="changeset-link headerlink reference internal" href="#change-b2a626fabeac396bf73fa7b10eaf0786">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-786">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2253">&#xFF03;2253</a></span></p></li><li><p id="change-0.7.3-11"><span class="yiyi-st" id="yiyi-787"><span class="target" id="change-1cfd554de6fd12bc9bbed36f51379b32"><strong>[orm] </strong></span>&#x590D;&#x5236;&#x4E86;&#x201C;comparator_factory&#x201D;&#x53C2;&#x6570;&#x5230;composite()&#xFF0C;&#x5F53;0.7&#x88AB;&#x91CA;&#x653E;&#x65F6;&#x88AB;&#x79FB;&#x9664;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1cfd554de6fd12bc9bbed36f51379b32">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-788">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2248">&#xFF03;2248</a></span></p></li><li><p id="change-0.7.3-12"><span class="yiyi-st" id="yiyi-789"><span class="target" id="change-ecfede670d6323fc4e0c9f2b4c2d4ffa"><strong>[orm] </strong></span>Fixed bug in query.join() which would occur in a complex multiple-overlapping path scenario, where the same table could be joined to twice. </span><span class="yiyi-st" id="yiyi-790">Thanks <em>much</em> to Dave Vitek for the excellent fix here.<a class="changeset-link headerlink reference internal" href="#change-ecfede670d6323fc4e0c9f2b4c2d4ffa">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-791">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2247">&#xFF03;2247</a></span></p></li><li><p id="change-0.7.3-13"><span class="yiyi-st" id="yiyi-792"><span class="target" id="change-ca7dab171c5b45294a127e6ae80ee565"><strong>[orm] </strong></span>&#x5F53;&#x5207;&#x7247;&#x4E3A;None&#x65F6;&#xFF0C;&#x67E5;&#x8BE2;&#x4F1A;&#x5C06;OFFSET&#x8F6C;&#x6362;&#x4E3A;&#x96F6;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E0D;&#x8C03;&#x7528;&#x65E0;&#x7528;&#x7684;OFFSET&#x5B50;&#x53E5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ca7dab171c5b45294a127e6ae80ee565">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.3-14"><span class="yiyi-st" id="yiyi-793"><span class="target" id="change-bfefa86c53e4b97eb19697ef006bac6a"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x8FB9;&#x754C;&#x60C5;&#x51B5;&#xFF0C;&#x5F53;&#x65B0;&#x6620;&#x5C04;&#x5668;&#x4E0A;&#x7684;&#x5173;&#x7CFB;&#x4F1A;&#x5728;&#x7B2C;&#x4E00;&#x4E2A;&#x6620;&#x5C04;&#x5668;&#x4E0A;&#x5EFA;&#x7ACB;backref&#x65F6;&#xFF0C;&#x6620;&#x5C04;&#x5668;&#x65E0;&#x6CD5;&#x5B8C;&#x5168;&#x66F4;&#x65B0;&#x5185;&#x90E8;&#x72B6;&#x6001;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bfefa86c53e4b97eb19697ef006bac6a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.3-15"><span class="yiyi-st" id="yiyi-794"><span class="target" id="change-35a916ff4e0cd3752176e3645b8e726c"><strong>[orm] </strong></span>Fixed bug whereby if __eq__() was redefined, a relationship many-to-one lazyload would hit the __eq__() and fail. </span><span class="yiyi-st" id="yiyi-795">&#x4E0D;&#x9002;&#x7528;&#x4E8E;0.6.9. <a class="changeset-link headerlink reference internal" href="#change-35a916ff4e0cd3752176e3645b8e726c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-796">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2260">&#xFF03;2260</a></span></p></li><li><p id="change-0.7.3-16"><span class="yiyi-st" id="yiyi-797"><span class="target" id="change-f3c15c1285778343f7424d1dd8d2dc23"><strong>[orm] </strong></span>Calling class_mapper() and passing in an object that is not a &#x201C;type&#x201D; (i.e. a class that could potentially be mapped) now raises an informative ArgumentError, rather than UnmappedClassError.<a class="changeset-link headerlink reference internal" href="#change-f3c15c1285778343f7424d1dd8d2dc23">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-798">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2196">&#xFF03;2196</a></span></p></li><li><p id="change-0.7.3-17"><span class="yiyi-st" id="yiyi-799"><span class="target" id="change-f11c11a3ef0b67817b440a0b327c60a3"><strong>[orm] </strong></span>&#x65B0;&#x7684;&#x4E8B;&#x4EF6;&#x6302;&#x94A9;MapperEvents.after_configured()&#x3002;</span><span class="yiyi-st" id="yiyi-800">&#x5728;configure()&#x6B65;&#x9AA4;&#x5B8C;&#x6210;&#x5E76;&#x4E14;&#x6620;&#x5C04;&#x5668;&#x5B9E;&#x9645;&#x4E0A;&#x53D7;&#x5230;&#x5F71;&#x54CD;&#x540E;&#x8C03;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-801">&#x4ECE;&#x7406;&#x8BBA;&#x4E0A;&#x8BB2;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x5728;&#x6BCF;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x88AB;&#x8C03;&#x7528;&#x4E00;&#x6B21;&#xFF0C;&#x9664;&#x975E;&#x5728;&#x5DF2;&#x7ECF;&#x4F7F;&#x7528;&#x73B0;&#x6709;&#x7684;&#x6620;&#x5C04;&#x4E4B;&#x540E;&#x6784;&#x9020;&#x65B0;&#x7684;&#x6620;&#x5C04;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f11c11a3ef0b67817b440a0b327c60a3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.3-18"><span class="yiyi-st" id="yiyi-802">&#x5F53;&#x4E00;&#x4E2A;&#x6253;&#x5F00;&#x7684;&#x4F1A;&#x8BDD;&#x88AB;&#x5783;&#x573E;&#x56DE;&#x6536;&#x65F6;&#xFF0C;&#x5F53;&#x5B83;&#x4EEC;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4F1A;&#x8BDD;&#x4E2D;&#x65F6;&#xFF0C;&#x5B83;&#x6240;&#x4FDD;&#x7559;&#x7684;&#x5BF9;&#x8C61;&#x5C06;&#x88AB;&#x89C6;&#x4E3A;&#x518D;&#x6B21;&#x88AB;&#x5206;&#x79BB;&#x51FA;&#x6765;&#x3002;<span class="target" id="change-5c6dee5ef6c553b074703bc9546027b3"><strong>[orm] </strong></span></span><span class="yiyi-st" id="yiyi-803">&#x8FD9;&#x662F;&#x901A;&#x8FC7;&#x989D;&#x5916;&#x7684;&#x68C0;&#x67E5;&#x6765;&#x5B8C;&#x6210;&#x7684;&#xFF0C;&#x5373;&#x524D;&#x4E00;&#x4E2A;&#x201C;session_key&#x201D;&#x5B9E;&#x9645;&#x4E0A;&#x5E76;&#x4E0D;&#x5B58;&#x5728;&#x4E8E;&#x4F1A;&#x8BDD;&#x6C60;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5c6dee5ef6c553b074703bc9546027b3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-804">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2281">&#xFF03;2281</a></span></p></li><li><p id="change-0.7.3-19"><span class="yiyi-st" id="yiyi-805"><span class="target" id="change-afb3a8e244c8f1d29f26afd5b9a181ba"><strong>[orm] </strong></span>&#x65B0;&#x7684;&#x58F0;&#x660E;&#x6027;&#x529F;&#x80FD;&#xFF1A;</span></p><blockquote><div><ul><li><span class="yiyi-st" id="yiyi-806">__declare_last __()&#x65B9;&#x6CD5;&#x4E3A;&#x7C7B;&#x65B9;&#x6CD5;&#x5EFA;&#x7ACB;&#x4E8B;&#x4EF6;&#x4FA6;&#x542C;&#x5668;&#xFF0C;&#x5F53;&#x6620;&#x5C04;&#x5668;&#x901A;&#x8FC7;&#x6700;&#x540E;&#x7684;&#x201C;configure&#x201D;&#x6B65;&#x9AA4;&#x5B8C;&#x6210;&#x65F6;&#x5C06;&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-807">__abstract__&#x6807;&#x5FD7;&#x3002;</span><span class="yiyi-st" id="yiyi-808">&#x5F53;&#x8FD9;&#x4E2A;&#x6807;&#x8BB0;&#x51FA;&#x73B0;&#x5728;&#x8FD9;&#x4E2A;&#x7C7B;&#x4E0A;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x5C06;&#x4E0D;&#x4F1A;&#x88AB;&#x6620;&#x5C04;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-809">&#x65B0;&#x7684;&#x5E2E;&#x52A9;&#x7C7B;ConcreteBase&#xFF0C;AbstractConcreteBase&#x3002;</span><span class="yiyi-st" id="yiyi-810">&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x58F0;&#x660E;&#x7684;&#x5177;&#x4F53;&#x6620;&#x5C04;&#xFF0C;&#x5F53;&#x8C03;&#x7528;&#x201C;configure&#x201D;&#x6620;&#x5C04;&#x5668;&#x6B65;&#x9AA4;&#x65F6;&#xFF0C;&#x58F0;&#x660E;&#x4F1A;&#x81EA;&#x52A8;&#x8BBE;&#x7F6E;&#x201C;polymorphic_union&#x201D;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-811">&#x6620;&#x5C04;&#x5668;&#x672C;&#x8EAB;&#x5177;&#x6709;&#x534A;&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#xFF0C;&#x5141;&#x8BB8;&#x5728;&#x914D;&#x7F6E;&#x5B8C;&#x6210;&#x540E;&#x5C06;&#x201C;with_polymorphic&#x201D;&#x5206;&#x914D;&#x7ED9;&#x6620;&#x5C04;&#x5668;&#x3002;</span></li></ul></div></blockquote><span class="yiyi-st" id="yiyi-813"> <a class="changeset-link headerlink reference internal" href="#change-afb3a8e244c8f1d29f26afd5b9a181ba">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-812">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2239">&#xFF03;2239</a></span></p></li><li><p id="change-0.7.3-20"><span class="yiyi-st" id="yiyi-814"><span class="target" id="change-939714d3448edca7f9d13cce0b4ba5cb"><strong>[orm] </strong></span>Declarative will warn when a subclass&#x2019; base uses @declared_attr for a regular column - this attribute does not propagate to subclasses.<a class="changeset-link headerlink reference internal" href="#change-939714d3448edca7f9d13cce0b4ba5cb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-815">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2283">&#xFF03;2283</a></span></p></li><li><p id="change-0.7.3-21"><span class="yiyi-st" id="yiyi-816"><span class="target" id="change-a38f4b857777203b02c6fb8320f6ab56"><strong>[orm] </strong></span>The integer &#x201C;id&#x201D; used to link a mapped instance with its owning Session is now generated by a sequence generation function rather than id(Session), to eliminate the possibility of recycled id() values causing an incorrect result, no need to check that object actually in the session.<a class="changeset-link headerlink reference internal" href="#change-a38f4b857777203b02c6fb8320f6ab56">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-817">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2280">&#xFF03;2280</a></span></p></li><li><p id="change-0.7.3-22"><span class="yiyi-st" id="yiyi-818"><span class="target" id="change-4e682b3609b1baadc8abcfc7bd1a9cfe"><strong>[orm] </strong></span>Behavioral improvement: empty conjunctions such as and_() and or_() will be flattened in the context of an enclosing conjunction, i.e. and_(x, or_()) will produce &#x2018;X&#x2019; and not &#x2018;X AND ()&#x2019;..<a class="changeset-link headerlink reference internal" href="#change-4e682b3609b1baadc8abcfc7bd1a9cfe">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-819">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2257">&#xFF03;2257</a></span></p></li><li><p id="change-0.7.3-23"><span class="yiyi-st" id="yiyi-820"><span class="target" id="change-9f535715e9461a8906aa9ad3b5766826"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x5173;&#x4E8E;&#x8BA1;&#x7B97;select()&#x5143;&#x7D20;&#x7684;&#x201C;from&#x201D;&#x5217;&#x8868;&#x7684;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-821">&#x201C;from&#x201D;calc&#x73B0;&#x5728;&#x88AB;&#x5EF6;&#x8FDF;&#xFF0C;&#x56E0;&#x6B64;&#x5982;&#x679C;&#x6784;&#x9020;&#x4F7F;&#x7528;&#x5C1A;&#x672A;&#x9644;&#x52A0;&#x5230;&#x8868;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x7A0D;&#x540E;&#x4E0E;&#x8868;&#x5173;&#x8054;&#xFF0C;&#x5219;&#x5B83;&#x5C06;&#x4F7F;&#x7528;&#x8BE5;&#x8868;&#x4F5C;&#x4E3A;FROM&#x751F;&#x6210;SQL&#x3002;</span><span class="yiyi-st" id="yiyi-822">&#x8FD9;&#x79CD;&#x53D8;&#x5316;&#x6DF1;&#x523B;&#x5F71;&#x54CD;&#x4E86;FROM&#x5217;&#x8868;&#x4EE5;&#x53CA;&#x201C;&#x76F8;&#x5173;&#x201D;&#x96C6;&#x5408;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x5236;&#xFF0C;&#x56E0;&#x4E3A;&#x4E00;&#x4E9B;&#x201C;&#x5B50;&#x53E5;&#x81EA;&#x9002;&#x5E94;&#x201D;&#x65B9;&#x6848;&#xFF08;&#x8FD9;&#x4E9B;&#x5728;ORM&#x4E2D;&#x4F7F;&#x7528;&#x975E;&#x5E38;&#x4E25;&#x91CD;&#xFF09;&#x4F9D;&#x8D56;&#x4E8E;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x4E8B;&#x5B9E;&#xFF0C;&#x5373;&#x201C;froms&#x201D;&#x901A;&#x5E38;&#x5728;&#x9002;&#x5E94;&#x5B8C;&#x6210;&#x4E4B;&#x524D;&#x7F13;&#x5B58;&#x96C6;&#x5408;&#x3002;</span><span class="yiyi-st" id="yiyi-823">&#x8FD4;&#x5DE5;&#x5141;&#x8BB8;&#x5B83;&#x53EF;&#x4EE5;&#x968F;&#x65F6;&#x6E05;&#x9664;&#x548C;&#x91CD;&#x65B0;&#x751F;&#x6210;&#x201C;froms&#x201D;&#x96C6;&#x5408;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9f535715e9461a8906aa9ad3b5766826">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-824">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2261">&#xFF03;2261</a></span></p></li><li><p id="change-0.7.3-24"><span class="yiyi-st" id="yiyi-825"><span class="target" id="change-99995021df97bdd6d7230fd3bf0b14f7"><strong>[orm] </strong></span>Fixed bug whereby with_only_columns() method of Select would fail if a selectable were passed.. Also in 0.6.9.<a class="changeset-link headerlink reference internal" href="#change-99995021df97bdd6d7230fd3bf0b14f7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-826">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2270">&#xFF03;2270</a></span></p></li></ul></div><div class="section" id="change-0.7.3-engine"><h3><span class="yiyi-st" id="yiyi-827">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.7.3-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.3-25"><span class="yiyi-st" id="yiyi-828"><span class="target" id="change-fe03967391583f1af44b0523e58c6f32"><strong>[engine] </strong></span>The recreate() method in all pool classes uses self.__class__ to get at the type of pool to produce, in the case of subclassing. </span><span class="yiyi-st" id="yiyi-829">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x901A;&#x5E38;&#x4E0D;&#x9700;&#x8981;&#x7EE7;&#x627F;&#x6C60;&#x7684;&#x5B50;&#x7C7B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fe03967391583f1af44b0523e58c6f32">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-830">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2254">&#xFF03;2254</a></span></p></li><li><p id="change-0.7.3-26"><span class="yiyi-st" id="yiyi-831"><span class="target" id="change-c8b58c6c69a06f1d1edd761f2c33f734"><strong>[engine] </strong></span>Improvement to multi-param statement logging, long lists of bound parameter sets will be compressed with an informative indicator of the compression taking place. </span><span class="yiyi-st" id="yiyi-832">&#x5F02;&#x5E38;&#x6D88;&#x606F;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;&#x6539;&#x8FDB;&#x683C;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c8b58c6c69a06f1d1edd761f2c33f734">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-833">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2243">&#xFF03;2243</a></span></p></li><li><p id="change-0.7.3-27"><span class="yiyi-st" id="yiyi-834"><span class="target" id="change-cb1dfd536798db442dde52ee6331cdd4"><strong>[engine] </strong></span>&#x4E3A;pool.manage&#xFF08;dbapi&#xFF09;.connect()&#x6DFB;&#x52A0;&#x4E86;&#x53EF;&#x9009;&#x7684;&#x201C;sa_pool_key&#x201D;&#x53C2;&#x6570;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E0D;&#x9700;&#x8981;&#x5E8F;&#x5217;&#x5316;args <a class="changeset-link headerlink reference internal" href="#change-cb1dfd536798db442dde52ee6331cdd4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.3-28"><span class="yiyi-st" id="yiyi-835"><span class="target" id="change-81ebdbd8717e73506ce6b46e7f145f52"><strong>[engine] </strong></span>The entry point resolution supported by create_engine() now supports resolution of individual DBAPI drivers on top of a built-in or entry point-resolved dialect, using the standard &#x2018;+&#x2019; notation - it&#x2019;s converted to a &#x2018;.&#x2019; before being resolved as an entry point.<a class="changeset-link headerlink reference internal" href="#change-81ebdbd8717e73506ce6b46e7f145f52">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-836">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2286">&#xFF03;2286</a></span></p></li><li><p id="change-0.7.3-29"><span class="yiyi-st" id="yiyi-837"><span class="target" id="change-d8e856413f2efc008bfbfc1c10a5421e"><strong>[engine] </strong></span>&#x4E3A;&#x8FDE;&#x63A5;&#x4E2D;&#x7684;&#x201C;return unicode detection&#x201D;&#x6B65;&#x9AA4;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;catch +&#x8B66;&#x544A;&#xFF0C;&#x5141;&#x8BB8;&#x5728;NVARCHAR&#x4E0A;&#x5D29;&#x6E83;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7EE7;&#x7EED;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x5047;&#x8BBE;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;NVARCHAR&#x7C7B;&#x578B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d8e856413f2efc008bfbfc1c10a5421e">&#xB6; t2 &gt;</a></span></p><p><span class="yiyi-st" id="yiyi-838">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2299">&#xFF03;2299</a></span></p></li></ul></div><div class="section" id="change-0.7.3-schema"><h3><span class="yiyi-st" id="yiyi-839">&#x67B6;&#x6784;<a class="headerlink" href="#change-0.7.3-schema" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.3-30"><span class="yiyi-st" id="yiyi-840">&#x4FEE;&#x6539;Column.copy()&#x4EE5;&#x4F7F;&#x7528;_constructor()&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;self .__ class__&#xFF0C;&#x4EE5;&#x4FBF;&#x521B;&#x5EFA;&#x65B0;&#x5BF9;&#x8C61;&#x3002;<span class="target" id="change-de8c32a6729c83da17177f6a13979717"><strong>[schema] </strong></span></span><span class="yiyi-st" id="yiyi-841">&#x8FD9;&#x5141;&#x8BB8;&#x66F4;&#x5BB9;&#x6613;&#x652F;&#x6301;Column&#x7684;&#x5B50;&#x7C7B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-de8c32a6729c83da17177f6a13979717">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-842">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2284">&#xFF03;2284</a></span></p></li><li><p id="change-0.7.3-31"><span class="yiyi-st" id="yiyi-843"><span class="target" id="change-32308255f47669cee375f30b9c00fd93"><strong>[schema] </strong></span>Added a slightly nicer __repr__() to SchemaItem classes. </span><span class="yiyi-st" id="yiyi-844">&#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x7684;repr&#x4E0D;&#x80FD;&#x5B8C;&#x5168;&#x652F;&#x6301;&#x201C;repr&#x662F;&#x6784;&#x9020;&#x51FD;&#x6570;&#x201D;&#x7684;&#x60F3;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;&#x6A21;&#x5F0F;&#x9879;&#x53EF;&#x4EE5;&#x662F;&#x975E;&#x5E38;&#x6DF1;&#x7684;&#x5D4C;&#x5957;/&#x5FAA;&#x73AF;&#x7684;&#xFF0C;&#x6709;&#x4E9B;&#x4E8B;&#x60C5;&#x7684;&#x540E;&#x671F;&#x521D;&#x59CB;&#x5316;&#x7B49;&#x7B49;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-32308255f47669cee375f30b9c00fd93">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-845">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2223">&#xFF03;2223</a></span></p></li></ul></div><div class="section" id="change-0.7.3-postgresql"><h3><span class="yiyi-st" id="yiyi-846">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.7.3-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.3-32"><span class="yiyi-st" id="yiyi-847"><span class="target" id="change-dfbbf7fcd27cee6a40162ad7712796a8"><strong>[postgresql] </strong></span>&#x4E3A;Index()&#x6DFB;&#x52A0;&#x4E86;&#x201C;postgresql_using&#x201D;&#x53C2;&#x6570;&#xFF0C;&#x4EA7;&#x751F;USING&#x5B50;&#x53E5;&#x6765;&#x6307;&#x5B9A;PG&#x7684;&#x7D22;&#x5F15;&#x5B9E;&#x73B0;&#x3002;</span><span class="yiyi-st" id="yiyi-848">. </span><span class="yiyi-st" id="yiyi-849">&#x611F;&#x8C22;Ryan P. Kelly&#x7684;&#x8865;&#x4E01;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dfbbf7fcd27cee6a40162ad7712796a8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-850">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2290">&#xFF03;2290</a></span></p></li><li><p id="change-0.7.3-33"><span class="yiyi-st" id="yiyi-851"><span class="target" id="change-ce7825ce219e385bc6db449ec1a37fa4"><strong>[postgresql] </strong></span>&#x5728;&#x4F7F;&#x7528;postgresql + psycopg2&#x65B9;&#x8A00;&#x65F6;&#xFF0C;&#x5411;create_engine()&#x6DFB;&#x52A0;&#x4E86;client_encoding&#x53C2;&#x6570;&#xFF1B;&#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x65F6;&#x7684;&#x503C;&#x8C03;&#x7528;psycopg2 set_client_encoding()&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ce7825ce219e385bc6db449ec1a37fa4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-852">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1839">&#xFF03;1839</a></span></p></li><li><p id="change-0.7.3-34"><span class="yiyi-st" id="yiyi-853"><span class="target" id="change-1a2de32673fea06a4118fba7422b3b5e"><strong>[postgresql] </strong></span>Fixed bug related to whereby the same modified index behavior in PG 9 affected primary key reflection on a renamed column.. Also in 0.6.9.<a class="changeset-link headerlink reference internal" href="#change-1a2de32673fea06a4118fba7422b3b5e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-854">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2291">&#xFF03;2291</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2141">&#xFF03;2141</a></span></p></li><li><p id="change-0.7.3-35"><span class="yiyi-st" id="yiyi-855"><span class="target" id="change-a5584939f5bbdeea7e400a4f8440ee72"><strong>[postgresql] </strong></span> Table&#xFF0C;Sequence&#x7684;&#x53CD;&#x5C04;&#x51FD;&#x6570;&#x4E0D;&#x518D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x3002;</span><span class="yiyi-st" id="yiyi-856">&#x59D3;&#x540D;&#x53EA;&#x80FD;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x624D;&#x4F1A;&#x6709;&#x6240;&#x4E0D;&#x540C;&#xFF0C;&#x5E76;&#x4E14;&#x4F1A;&#x88AB;&#x6B63;&#x786E;&#x533A;&#x5206;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a5584939f5bbdeea7e400a4f8440ee72">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-857">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2256">&#xFF03;2256</a></span></p></li><li><p id="change-0.7.3-36"><span class="yiyi-st" id="yiyi-858"><span class="target" id="change-39b479d7d5d6b7bfce6b386c07e71086"><strong>[postgresql] </strong></span>&#x4F7F;&#x7528;&#x539F;&#x5B50;&#x8BA1;&#x6570;&#x5668;&#x4F5C;&#x4E3A;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6E38;&#x6807;&#x540D;&#x79F0;&#x7684;&#x201C;&#x968F;&#x673A;&#x6570;&#x201D;&#x6765;&#x6E90;&#xFF1B;&#x5728;&#x6781;&#x5C11;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x62A5;&#x9053;&#x4E86;&#x51B2;&#x7A81;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-39b479d7d5d6b7bfce6b386c07e71086">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.3-37"><span class="yiyi-st" id="yiyi-859"><span class="target" id="change-26fee7eb2a113690d6c965d0964e4638"><strong>[postgresql] </strong></span>&#x7F29;&#x5C0F;&#x4E86;&#x5728;&#x5F53;&#x524D;&#x641C;&#x7D22;&#x8DEF;&#x5F84;&#x4E2D;&#x53CD;&#x6620;&#x5177;&#x6709;&#x6A21;&#x5F0F;&#x7684;&#x5916;&#x952E;&#x5F15;&#x7528;&#x8868;&#x65F6;&#x6240;&#x505A;&#x7684;&#x5047;&#x8BBE;&#xFF1B;&#x4E00;&#x4E2A;&#x663E;&#x5F0F;&#x7684;&#x6A21;&#x5F0F;&#x53EA;&#x6709;&#x5728;&#x5B83;&#x5B9E;&#x9645;&#x4E0A;&#x4E0E;&#x5F15;&#x7528;&#x8868;&#x76F8;&#x5339;&#x914D;&#x7684;&#x65F6;&#x5019;&#x624D;&#x4F1A;&#x88AB;&#x5E94;&#x7528;&#x5230;&#x5F15;&#x7528;&#x8868;&#x4E2D;&#xFF0C;&#x8BE5;&#x5F15;&#x7528;&#x8868;&#x4E5F;&#x6709;&#x4E00;&#x4E2A;&#x660E;&#x786E;&#x7684;&#x6A21;&#x5F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-860">&#x4EE5;&#x524D;&#x5B83;&#x5047;&#x5B9A;&#x201C;&#x5F53;&#x524D;&#x201D;&#x6A21;&#x5F0F;&#x4E0E;&#x5B8C;&#x6574;&#x7684;search_path&#x662F;&#x540C;&#x4E49;&#x8BCD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-26fee7eb2a113690d6c965d0964e4638">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-861">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2249">&#xFF03;2249</a></span></p></li></ul></div><div class="section" id="change-0.7.3-mysql"><h3><span class="yiyi-st" id="yiyi-862">MySQL&#x7684;<a class="headerlink" href="#change-0.7.3-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.3-38"><span class="yiyi-st" id="yiyi-863"><span class="target" id="change-dd71574d14be141186b7bdcca5c9a7f8"><strong>[mysql] </strong></span> CREATE TABLE&#x4F1A;&#x5C06;COLLATE&#x9009;&#x9879;&#x653E;&#x5728;CHARSET&#x4E4B;&#x540E;&#xFF0C;&#x8FD9;&#x4F3C;&#x4E4E;&#x662F;MySQL&#x7684;&#x4EFB;&#x610F;&#x89C4;&#x5219;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5173;&#x4E8E;&#x5B83;&#x662F;&#x5426;&#x5B9E;&#x9645;&#x5DE5;&#x4F5C;&#x3002;</span><span class="yiyi-st" id="yiyi-864">&#x4E5F;&#x5728;0.6.9. <a class="changeset-link headerlink reference internal" href="#change-dd71574d14be141186b7bdcca5c9a7f8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-865">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2225">&#xFF03;2225</a></span></p></li><li><p id="change-0.7.3-39"><span class="yiyi-st" id="yiyi-866"><span class="target" id="change-34aeb67581ad7ffc3ae0f6881dd7c33a"><strong>[mysql] </strong></span>&#x4E3A;Index&#x6784;&#x9020;&#x6DFB;&#x52A0;&#x4E86;mysql_length&#x53C2;&#x6570;&#xFF0C;&#x4E3A;&#x7D22;&#x5F15;&#x6307;&#x5B9A;&#x4E86;&#x201C;length&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-34aeb67581ad7ffc3ae0f6881dd7c33a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-867">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2293">&#xFF03;2293</a></span></p></li></ul></div><div class="section" id="change-0.7.3-sqlite"><h3><span class="yiyi-st" id="yiyi-868">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.7.3-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.3-40"><span class="yiyi-st" id="yiyi-869"><span class="target" id="change-8baaec5ace78d532c085c871572559c6"><strong>[sqlite] </strong></span>&#x786E;&#x4FDD;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x89E3;&#x6790;&#x51FA;&#x7684;&#x975E;&#x6CD5;&#x65E5;&#x671F;/&#x65F6;&#x95F4;/&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x5B57;&#x7B26;&#x4E32;&#x5F15;&#x53D1;&#x76F8;&#x540C;&#x7684;ValueError&#xFF0C;&#x65E0;&#x8BBA;C&#x6269;&#x5C55;&#x540D;&#x662F;&#x5426;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8baaec5ace78d532c085c871572559c6">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.3-mssql"><h3><span class="yiyi-st" id="yiyi-870">MSSQL <a class="headerlink" href="#change-0.7.3-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.3-41"><span class="yiyi-st" id="yiyi-871"><span class="target" id="change-36fa8324de82b137e203587ba0e82d17"><strong>[mssql] </strong></span>&#x66F4;&#x6539;&#x4E3A;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528;Pyodbc&#x652F;&#x6301;FreeTDS 0.91&#x3002;</span><span class="yiyi-st" id="yiyi-872">&#x8FD9;&#x5305;&#x62EC;&#x5F53;&#x68C0;&#x6D4B;&#x5230;FreeTDS 0.91&#x65F6;&#x5B57;&#x7B26;&#x4E32;&#x7ED1;&#x5B9A;&#x4EE5;Python unicode&#x5BF9;&#x8C61;&#x7684;&#x5F62;&#x5F0F;&#x53D1;&#x9001;&#xFF0C;&#x5E76;&#x4E14;CAST&#xFF08;&#xFF1F;</span><span class="yiyi-st" id="yiyi-873">AS NVARCHAR&#xFF09;&#x7528;&#x4E8E;&#x68C0;&#x6D4B;&#x8868;&#x683C;&#x65F6;&#x3002;</span><span class="yiyi-st" id="yiyi-874">&#x7136;&#x800C;&#xFF0C;&#x6211;&#x4ECD;&#x7136;&#x5C06;Pyodbc + FreeTDS 0.91&#x884C;&#x4E3A;&#x63CF;&#x8FF0;&#x4E3A;&#x975E;&#x5E38;&#x7CDF;&#x7CD5;&#xFF0C;&#x4F46;&#x4ECD;&#x6709;&#x8BB8;&#x591A;&#x67E5;&#x8BE2;&#xFF08;&#x5982;&#x7528;&#x4E8E;&#x53CD;&#x5C04;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD9;&#x4E9B;&#x67E5;&#x8BE2;&#x4F1A;&#x5728;Linux&#x4E0A;&#x5BFC;&#x81F4;&#x6838;&#x5FC3;&#x8F6C;&#x50A8;&#xFF09;&#xFF0C;&#x800C;&#x4E14;&#x5728;OSX&#x4E0A;&#x5B83;&#x6839;&#x672C;&#x4E0D;&#x53EF;&#x7528;&#xFF0C;MemoryErrors&#x6BD4;&#x6BD4;&#x7686;&#x662F;&#xFF0C;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x7834;&#x89E3;unicode&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-36fa8324de82b137e203587ba0e82d17">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-875">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2273">&#xFF03;2273</a></span></p></li><li><p id="change-0.7.3-42"><span class="yiyi-st" id="yiyi-876"><span class="target" id="change-62130dcfba80f0c29915ea8aabfbe802"><strong>[mssql] </strong></span>The behavior of =/!= when comparing a scalar select to a value will no longer produce IN/NOT IN as of 0.8; this behavior is a little too heavy handed (use in_() if you want to emit IN) and now emits a deprecation warning. </span><span class="yiyi-st" id="yiyi-877">&#x8981;&#x7ACB;&#x5373;&#x83B7;&#x5F97;0.8&#x884C;&#x4E3A;&#x5E76;&#x79FB;&#x9664;&#x8B66;&#x544A;&#xFF0C;&#x53EF;&#x5728;<a class="reference external" href="http://www.sqlalchemy.org/docs/07/dialects_mssql.html#scalar-select-comparisons">http://www.sqlalchemy.org/docs/07/dialects_mssql.html#scalar-select-comparisons</a>&#x5904;&#x63D0;&#x4F9B;&#x7F16;&#x8BD1;&#x5668;&#x914D;&#x65B9;&#x4EE5;&#x8986;&#x76D6;visit_binary()&#x7684;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-62130dcfba80f0c29915ea8aabfbe802">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-878">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2277">&#xFF03;2277</a></span></p></li><li><p id="change-0.7.3-43"><span class="yiyi-st" id="yiyi-879"><span class="target" id="change-b05f07d0da547e8ca3fdddde13481629"><strong>[mssql] </strong></span>&#x201C;0&#x201D;&#x88AB;&#x63A5;&#x53D7;&#x4E3A;limit()&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x5B83;&#x5C06;&#x4EA7;&#x751F;&#x201C;TOP 0&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b05f07d0da547e8ca3fdddde13481629">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-880">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2222">&#xFF03;2222</a></span></p></li></ul></div><div class="section" id="change-0.7.3-oracle"><h3><span class="yiyi-st" id="yiyi-881">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.7.3-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.3-44"><span class="yiyi-st" id="yiyi-882"><span class="target" id="change-a7c4980a1f5230b6dddb072ad74b1bcc"><strong>[oracle] </strong></span>&#x56FA;&#x5B9A;&#x7528;&#x4E8E;zxjdbc&#x65B9;&#x8A00;&#x7684;ReturningResultProxy ..&#x4ECE;0.6&#x5F00;&#x59CB;&#x56DE;&#x5F52;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a7c4980a1f5230b6dddb072ad74b1bcc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-883">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2272">&#xFF03;2272</a></span></p></li><li><p id="change-0.7.3-45"><span class="yiyi-st" id="yiyi-884"><span class="target" id="change-100c2e0f9af568f915d40868c86cd363"><strong>[oracle] </strong></span>&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x73B0;&#x5728;&#x5728;Oracle&#x4E0A;&#x751F;&#x6210;VARCHAR2&#xFF0C;&#x5EFA;&#x8BAE;&#x5C06;&#x5176;&#x4F5C;&#x4E3A;&#x9ED8;&#x8BA4;VARCHAR&#x3002;</span><span class="yiyi-st" id="yiyi-885">&#x4E5F;&#x4E3A;Oracle&#x65B9;&#x8A00;&#x6DFB;&#x52A0;&#x4E86;&#x663E;&#x5F0F;&#x7684;VARCHAR2&#x548C;NVARCHAR2&#x3002;</span><span class="yiyi-st" id="yiyi-886">&#x4F7F;&#x7528;NVARCHAR&#x4ECD;&#x4F1A;&#x751F;&#x6210;&#x201C;NVARCHAR2&#x201D; -  Oracle&#x4E0A;&#x4E0D;&#x5B58;&#x5728;&#x201C;NVARCHAR&#x201D; - &#x8FD9;&#x4ECD;&#x7136;&#x662F;&#x201C;&#x5927;&#x5199;&#x5B57;&#x6BCD;&#x603B;&#x662F;&#x6B63;&#x597D;&#x7ED9;&#x51FA;&#x8BE5;&#x201D;&#x7B56;&#x7565;&#x7684;&#x8F7B;&#x5FAE;&#x7834;&#x574F;&#x3002;</span><span class="yiyi-st" id="yiyi-887">VARCHAR&#x4ECD;&#x7136;&#x4F1A;&#x6839;&#x636E;&#x7B56;&#x7565;&#x751F;&#x6210;&#x201C;VARCHAR&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-888">&#x5982;&#x679C;Oracle&#x5C06;&#x201C;VARCHAR&#x201D;&#x5B9A;&#x4E49;&#x4E3A;&#x4ED6;&#x4EEC;&#x58F0;&#x79F0;&#x7684;&#x4E0D;&#x540C;&#x7684;&#x4E1C;&#x897F;&#xFF08;&#x6055;&#x6211;&#x76F4;&#x8A00;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x7C7B;&#x578B;&#x5C06;&#x53EF;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-100c2e0f9af568f915d40868c86cd363">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-889">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2252">&#xFF03;2252</a></span></p></li></ul></div><div class="section" id="change-0.7.3-misc"><h3><span class="yiyi-st" id="yiyi-890">&#x6742;&#x9879;<a class="headerlink" href="#change-0.7.3-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.3-46"><span class="yiyi-st" id="yiyi-891"><span class="target" id="change-b651e9bd5d27c58a581a88d5ae871614"><strong>[types] </strong></span>&#x8D85;&#x51FA;&#x201C;precision&#x201D;&#x548C;&#x201C;asdecimal&#x201D;&#x7684;&#x6D6E;&#x70B9;&#x7C7B;&#x578B;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#xFF1B;&#x5728;&#x6B64;&#x6DFB;&#x52A0;&#x5F03;&#x7528;&#x8B66;&#x544A;&#x4EE5;&#x53CA;&#x4E0E;<a class="changeset-link headerlink reference internal" href="#change-b651e9bd5d27c58a581a88d5ae871614">&#xB6;</a>&#x76F8;&#x5173;&#x7684;&#x5176;&#x4ED6;&#x6587;&#x6863;</span></p><p><span class="yiyi-st" id="yiyi-892">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2258">&#xFF03;2258</a></span></p></li><li><p id="change-0.7.3-47"><span class="yiyi-st" id="yiyi-893"><span class="target" id="change-94592809a49fc2de7c8eb955f55e91c9"><strong>[ext] </strong></span> SQLSoup&#x4E0D;&#x4F1A;&#x5305;&#x542B;&#x5728;SQLAlchemy&#x7684;0.8&#x7248;&#x4E2D;&#xFF1B;&#x867D;&#x7136;&#x6709;&#x7528;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x4FDD;&#x6301;SQLAlchemy&#x672C;&#x8EAB;&#x4E13;&#x6CE8;&#x4E8E;&#x4E00;&#x4E2A;ORM&#x4F7F;&#x7528;&#x8303;&#x4F8B;&#x3002;</span><span class="yiyi-st" id="yiyi-894">SQLSoup&#x6709;&#x671B;&#x5F88;&#x5FEB;&#x88AB;&#x7B2C;&#x4E09;&#x65B9;&#x9879;&#x76EE;&#x53D6;&#x4EE3;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-94592809a49fc2de7c8eb955f55e91c9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-895">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2262">&#xFF03;2262</a></span></p></li><li><p id="change-0.7.3-48"><span class="yiyi-st" id="yiyi-896"><span class="target" id="change-0ea049fd6f98a49f4675f411731db74b"><strong>[ext] </strong></span>&#x5411;AssociationProxy&#x6DFB;&#x52A0;&#x4E86;local_attr&#xFF0C;remote_attr&#xFF0C;attr&#x8BBF;&#x95EE;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x7C7B;&#x7EA7;&#x522B;&#x5FEB;&#x901F;&#x8BBF;&#x95EE;&#x4EE3;&#x7406;&#x5C5E;&#x6027;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0ea049fd6f98a49f4675f411731db74b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-897">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2236">&#xFF03;2236</a></span></p></li><li><p id="change-0.7.3-49"><span class="yiyi-st" id="yiyi-898"><span class="target" id="change-5c74d8048c22d34b8f6e3fea82e57ea5"><strong>[ext] </strong></span>Changed the update() method on association proxy dictionary to use a duck typing approach, i.e. checks for &#x201C;keys&#x201D;, to discern between update({}) and update((a, b)). </span><span class="yiyi-st" id="yiyi-899">&#x4EE5;&#x524D;&#xFF0C;&#x4F20;&#x9012;&#x4E00;&#x4E2A;&#x6709;&#x5143;&#x7EC4;&#x4F5C;&#x4E3A;&#x952E;&#x7684;&#x5B57;&#x5178;&#x4F1A;&#x88AB;&#x8BEF;&#x89E3;&#x4E3A;&#x4E00;&#x4E2A;&#x5E8F;&#x5217;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5c74d8048c22d34b8f6e3fea82e57ea5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-900">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2275">&#xFF03;2275</a></span></p></li><li><p id="change-0.7.3-50"><span class="yiyi-st" id="yiyi-901"><span class="target" id="change-6c08f21fbfe0067678dc79a3a4fe76ff"><strong>[examples] </strong></span>&#x8C03;&#x6574;dictlike-polymorphic.py&#x793A;&#x4F8B;&#x4EE5;&#x5E94;&#x7528;CAST&#xFF0C;&#x4F7F;&#x5176;&#x53EF;&#x4EE5;&#x5728;PG&#xFF0C;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5E93;&#x4E0A;&#x8FD0;&#x884C;&#x3002;</span><span class="yiyi-st" id="yiyi-902">&#x4E5F;&#x5728;0.6.9. <a class="changeset-link headerlink reference internal" href="#change-6c08f21fbfe0067678dc79a3a4fe76ff">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-903">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2266">&#xFF03;2266</a></span></p></li></ul></div></div><div class="section" id="change-0.7.2"><h2><span class="yiyi-st" id="yiyi-905">0.7.2 <a class="headerlink" href="#change-0.7.2" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1016">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2011&#x5E74;7&#x6708;31&#x65E5;</span><div class="section" id="change-0.7.2-orm"><h3><span class="yiyi-st" id="yiyi-906">ORM <a class="headerlink" href="#change-0.7.2-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.2-0"><span class="yiyi-st" id="yiyi-907"><span class="target" id="change-1739a61f4e8cd25f6b8ab125e4dc5127"><strong>[orm] </strong></span>Feature enhancement: joined and subquery loading will now traverse already-present related objects and collections in search of unpopulated attributes throughout the scope of the eager load being defined, so that the eager loading that is specified via mappings or query options unconditionally takes place for the full depth, populating whatever is not already populated. </span><span class="yiyi-st" id="yiyi-908">&#x4EE5;&#x524D;&#xFF0C;&#x5982;&#x679C;&#x76F8;&#x5173;&#x7684;&#x5BF9;&#x8C61;&#x6216;&#x96C6;&#x5408;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x5BFC;&#x81F4;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x884C;&#x4E3A;&#xFF08;&#x5C3D;&#x7BA1;&#x53EF;&#x4EE5;&#x8282;&#x7701;&#x5DF2;&#x52A0;&#x8F7D;&#x56FE;&#x5F62;&#x7684;&#x52A0;&#x8F7D;/&#x5468;&#x671F;&#xFF09;&#xFF0C;&#x5219;&#x6B64;&#x904D;&#x5386;&#x5C06;&#x505C;&#x6B62;&#x3002;</span><span class="yiyi-st" id="yiyi-909">&#x5BF9;&#x4E8E;&#x5B50;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5B50;&#x67E5;&#x8BE2;&#x53D1;&#x51FA;&#x7684;&#x9644;&#x52A0;SELECT&#x8BED;&#x53E5;&#x5C06;&#x65E0;&#x6761;&#x4EF6;&#x5730;&#x8C03;&#x7528;&#xFF0C;&#x65E0;&#x8BBA;&#x73B0;&#x6709;&#x56FE;&#x7684;&#x591A;&#x5C11;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#xFF08;&#x56E0;&#x6B64;&#x5B58;&#x5728;&#x4E89;&#x8BAE;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-910">&#x5F53;&#x67E5;&#x8BE2;&#x662F;&#x5C5E;&#x6027;&#x542F;&#x52A8;&#x7684;lazyload&#x7684;&#x7ED3;&#x679C;&#x65F6;&#xFF0C;&#x201C;&#x505C;&#x6B62;&#x201D;&#x7684;&#x5148;&#x524D;&#x884C;&#x4E3A;&#x4ECD;&#x7136;&#x6709;&#x6548;&#xFF0C;&#x5426;&#x5219;&#x5F53;&#x91CD;&#x590D;&#x9047;&#x5230;&#x76F8;&#x540C;&#x7684;&#x76F8;&#x5173;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x201C;N + 1&#x201D;&#x98CE;&#x683C;&#x7684;&#x96C6;&#x5408;&#x8FED;&#x4EE3;&#x53EF;&#x80FD;&#x53D8;&#x5F97;&#x4E0D;&#x5FC5;&#x8981;&#x5730;&#x6602;&#x8D35;&#x3002;</span><span class="yiyi-st" id="yiyi-911">&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x5C1A;&#x672A;&#x516C;&#x5F00;&#x7684;&#x751F;&#x6210;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;_with_invoke_all_eagers()&#xFF0C;&#x5B83;&#x9009;&#x62E9;&#x65E7;/&#x65B0;&#x884C;&#x4E3A;<a class="changeset-link headerlink reference internal" href="#change-1739a61f4e8cd25f6b8ab125e4dc5127">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-912">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2213">&#xFF03;2213</a></span></p></li><li><p id="change-0.7.2-1"><span class="yiyi-st" id="yiyi-913"><span class="target" id="change-a051536230c394b7aa1762379e347b73"><strong>[orm] </strong></span>A rework of &#x201C;replacement traversal&#x201D; within the ORM as it alters selectables to be against aliases of things (i.e. clause adaption) includes a fix for multiply-nested any()/has() constructs against a joined table structure.<a class="changeset-link headerlink reference internal" href="#change-a051536230c394b7aa1762379e347b73">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-914">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2195">&#xFF03;2195</a></span></p></li><li><p id="change-0.7.2-2"><span class="yiyi-st" id="yiyi-915"><span class="target" id="change-7cfc8ca67b366824479efed798d288b6"><strong>[orm] </strong></span>Fixed bug where query.join() + aliased=True from a joined-inh structure to itself on relationship() with join condition on the child table would convert the lead entity into the joined one inappropriately. </span><span class="yiyi-st" id="yiyi-916">&#x4E5F;&#x5728;0.6.9. <a class="changeset-link headerlink reference internal" href="#change-7cfc8ca67b366824479efed798d288b6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-917">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2234">&#xFF03;2234</a></span></p></li><li><p id="change-0.7.2-3"><span class="yiyi-st" id="yiyi-918"><span class="target" id="change-1a864fa03e54fc13755917c5f8b9e4b5"><strong>[orm] </strong></span>Fixed regression from 0.6 where Session.add() against an object which contained None in a collection would raise an internal exception. </span><span class="yiyi-st" id="yiyi-919">&#x6062;&#x590D;&#x5230;0.6&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x5373;&#x63A5;&#x53D7;None&#xFF0C;&#x4F46;&#x663E;&#x7136;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x4E1C;&#x897F;&#x88AB;&#x6301;&#x7EED;&#x3002;</span><span class="yiyi-st" id="yiyi-920">&#x7406;&#x60F3;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5E26;&#x6709;None&#x6216;append()&#x7684;&#x96C6;&#x5408;&#x81F3;&#x5C11;&#x5E94;&#x8BE5;&#x53D1;&#x51FA;&#x4E00;&#x4E2A;&#x8B66;&#x544A;&#xFF0C;&#x8BE5;&#x8B66;&#x544A;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;0.8. <a class="changeset-link headerlink reference internal" href="#change-1a864fa03e54fc13755917c5f8b9e4b5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-921">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2205">&#xFF03;2205</a></span></p></li><li><p id="change-0.7.2-4"><span class="yiyi-st" id="yiyi-922"><span class="target" id="change-1bc8115fca741ab8a339a7f655aa525d"><strong>[orm] </strong></span>&#x5728;&#x65E0;&#x6CD5;&#x5B9A;&#x4F4D;&#x884C;&#x7684;&#x5BF9;&#x8C61;&#x4E0A;&#x52A0;&#x8F7D;deferred()&#x5C5E;&#x6027;&#x4F1A;&#x5F15;&#x53D1;ObjectDeletedError&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7A0D;&#x540E;&#x5931;&#x8D25;&#xFF1B;&#x6539;&#x8FDB;&#x4E86;ObjectDeletedError&#x4E2D;&#x7684;&#x6D88;&#x606F;&#x4EE5;&#x5305;&#x542B;&#x9664;&#x7B80;&#x5355;&#x201C;&#x5220;&#x9664;&#x201D;&#x4EE5;&#x5916;&#x7684;&#x5176;&#x4ED6;&#x6761;&#x4EF6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1bc8115fca741ab8a339a7f655aa525d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-923">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2191">&#xFF03;2191</a></span></p></li><li><p id="change-0.7.2-5"><span class="yiyi-st" id="yiyi-924"><span class="target" id="change-f36e6273d56268c70ed5e545bf51c45f"><strong>[orm] </strong></span>Fixed regression from 0.6 where a get history operation on some relationship() based attributes would fail when a lazyload would emit; this could trigger within a flush() under certain conditions. </span><span class="yiyi-st" id="yiyi-925">&#x611F;&#x8C22;&#x4E3A;&#x6B64;&#x63D0;&#x4EA4;&#x4E86;&#x826F;&#x597D;&#x6D4B;&#x8BD5;&#x7684;&#x7528;&#x6237;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f36e6273d56268c70ed5e545bf51c45f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-926">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2224">&#xFF03;2224</a></span></p></li><li><p id="change-0.7.2-6"><span class="yiyi-st" id="yiyi-927"><span class="target" id="change-792cce3e71360b029edf5d3c50c4df50"><strong>[orm] </strong></span>Fixed bug apparent only in Python 3 whereby sorting of persistent + pending objects during flush would produce an illegal comparison, if the persistent object primary key is not a single integer. </span><span class="yiyi-st" id="yiyi-928">&#x4E5F;&#x5728;0.6.9 <a class="changeset-link headerlink reference internal" href="#change-792cce3e71360b029edf5d3c50c4df50">&#xB6;</a>&#x4E2D;</span></p><p><span class="yiyi-st" id="yiyi-929">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2228">&#xFF03;2228</a></span></p></li><li><p id="change-0.7.2-7"><span class="yiyi-st" id="yiyi-930"><span class="target" id="change-2e9b266bc9d8a064d8e2df64b691f537"><strong>[orm] </strong></span>Fixed bug whereby the source clause used by query.join() would be inconsistent if against a column expression that combined multiple entities together. </span><span class="yiyi-st" id="yiyi-931">&#x4E5F;&#x5728;0.6.9 <a class="changeset-link headerlink reference internal" href="#change-2e9b266bc9d8a064d8e2df64b691f537">&#xB6;</a>&#x4E2D;</span></p><p><span class="yiyi-st" id="yiyi-932">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2197">&#xFF03;2197</a></span></p></li><li><p id="change-0.7.2-8"><span class="yiyi-st" id="yiyi-933"><span class="target" id="change-3d44518370e682ece5ea85b6520a24c4"><strong>[orm] </strong></span>Fixed bug whereby if a mapped class redefined __hash__() or __eq__() to something non-standard, which is a supported use case as SQLA should never consult these, the methods would be consulted if the class was part of a &#x201C;composite&#x201D; (i.e. non-single-entity) result set. </span><span class="yiyi-st" id="yiyi-934">&#x4E5F;&#x5728;0.6.9. <a class="changeset-link headerlink reference internal" href="#change-3d44518370e682ece5ea85b6520a24c4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-935">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2215">&#xFF03;2215</a></span></p></li><li><p id="change-0.7.2-9"><span class="yiyi-st" id="yiyi-936"><span class="target" id="change-a3fdfb9e75c58eafef3f473a85141949"><strong>[orm] </strong></span>Added public attribute &#x201D;.validators&#x201D; to Mapper, an immutable dictionary view of all attributes that have been decorated with the @validates decorator. </span><span class="yiyi-st" id="yiyi-937">&#x793C;&#x8C8C;Stefano Fontanelli <a class="changeset-link headerlink reference internal" href="#change-a3fdfb9e75c58eafef3f473a85141949">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-938">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2240">&#xFF03;2240</a></span></p></li><li><p id="change-0.7.2-10"><span class="yiyi-st" id="yiyi-939"><span class="target" id="change-c7799003ae3c4017f6c50d5b4174048e"><strong>[orm] </strong></span>Fixed subtle bug that caused SQL to blow up if: column_property() against subquery + joinedload + LIMIT + order by the column property() occurred. </span><span class="yiyi-st" id="yiyi-940">. </span><span class="yiyi-st" id="yiyi-941">&#x4E5F;&#x5728;0.6.9 <a class="changeset-link headerlink reference internal" href="#change-c7799003ae3c4017f6c50d5b4174048e">&#xB6;</a>&#x4E2D;</span></p><p><span class="yiyi-st" id="yiyi-942">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2188">&#xFF03;2188</a></span></p></li><li><p id="change-0.7.2-11"><span class="yiyi-st" id="yiyi-943"><span class="target" id="change-a26c4de8b069bb0f1d742ca954b24a5a"><strong>[orm] </strong></span> with_parent&#x4EA7;&#x751F;&#x7684;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x4EE5;&#x53CA;&#x5BF9;&#x7236;&#x4EE3;&#x4F7F;&#x7528;&#x201C;&#x52A8;&#x6001;&#x201D;&#x5173;&#x7CFB;&#x65F6;&#x5C06;&#x751F;&#x6210;&#x552F;&#x4E00;&#x7684;bindparams&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x9519;&#x8BEF;&#x5730;&#x91CD;&#x590D;&#x76F8;&#x540C;&#x7684;bindparam&#x3002;</span><span class="yiyi-st" id="yiyi-944">. </span><span class="yiyi-st" id="yiyi-945">&#x4E5F;&#x5728;0.6.9. <a class="changeset-link headerlink reference internal" href="#change-a26c4de8b069bb0f1d742ca954b24a5a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-946">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2207">&#xFF03;2207</a></span></p></li><li><p id="change-0.7.2-12"><span class="yiyi-st" id="yiyi-947"><span class="target" id="change-6676824fef13b5c985a65ce599197318"><strong>[orm] </strong></span>&#x5728;&#x63A5;&#x6536;&#x5230;&#x7528;&#x6237;&#x53C2;&#x6570;relationship.order_by&#xFF0C;foreign_keys&#xFF0C;remote_side&#x7B49;&#x65F6;&#x4F7F;&#x7528;&#x7684;mapper.polymorphic_on&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x76F8;&#x540C;&#x7684;&#x201C;&#x4EC5;&#x5217;&#x201D;&#x68C0;&#x67E5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6676824fef13b5c985a65ce599197318">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.2-13"><span class="yiyi-st" id="yiyi-948"><span class="target" id="change-13c7fbc21f418ab14248949e4feca96c"><strong>[orm] </strong></span>Fixed bug whereby comparison of column expression to a Query() would not call as_scalar() on the underlying SELECT statement to produce a scalar subquery, in the way that occurs if you called it on Query().subquery().<a class="changeset-link headerlink reference internal" href="#change-13c7fbc21f418ab14248949e4feca96c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-949">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2190">&#xFF03;2190</a></span></p></li><li><p id="change-0.7.2-14"><span class="yiyi-st" id="yiyi-950"><span class="target" id="change-86ea39be50d19682a75bf6d8b6a9d38d"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x7531;&#x4E8E;&#x5728;_decl_class_registry&#x4E2D;&#x4E0D;&#x5FC5;&#x8981;&#x5730;&#x67E5;&#x627E;&#x540D;&#x79F0;&#x800C;&#x5BFC;&#x81F4;&#x4ECE;&#x76F8;&#x540C;&#x540D;&#x79F0;&#x7684;&#x8D85;&#x7C7B;&#x7EE7;&#x627F;&#x7684;&#x7C7B;&#x5931;&#x8D25;&#x7684;&#x58F0;&#x660E;&#x6027;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-86ea39be50d19682a75bf6d8b6a9d38d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-951">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2194">&#xFF03;2194</a></span></p></li><li><p id="change-0.7.2-15"><span class="yiyi-st" id="yiyi-952"><span class="target" id="change-59cf1b12fed65cf8fec6dc9e7c376536"><strong>[orm] </strong></span>Repaired the &#x201C;no statement condition&#x201D; assertion in Query which would attempt to raise if a generative method were called after from_statement() were called.. Also in 0.6.9.<a class="changeset-link headerlink reference internal" href="#change-59cf1b12fed65cf8fec6dc9e7c376536">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-953">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2199">&#xFF03;2199</a></span></p></li></ul></div><div class="section" id="change-0.7.2-engine"><h3><span class="yiyi-st" id="yiyi-954">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.7.2-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.2-16"><span class="yiyi-st" id="yiyi-955"><span class="target" id="change-0385e1ab6c61e95bc73e698999b3a9d3"><strong>[engine] </strong></span>&#x5982;&#x679C;commit()&#x5931;&#x8D25;&#xFF0C;Connection.begin()&#x63D0;&#x4F9B;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x7BA1;&#x7406;&#x5668;&#x5C06;&#x53D1;&#x51FA;rollback()&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0385e1ab6c61e95bc73e698999b3a9d3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.2-17"><span class="yiyi-st" id="yiyi-956"><span class="target" id="change-f04f77f2075dff4e599f01387a3ac100"><strong>[engine] </strong></span>Use urllib.parse_qsl() in Python 2.6 and above, no deprecation warning about cgi.parse_qsl()<a class="changeset-link headerlink reference internal" href="#change-f04f77f2075dff4e599f01387a3ac100">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-957">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1682">&#xFF03;1682</a></span></p></li><li><p id="change-0.7.2-18"><span class="yiyi-st" id="yiyi-958"><span class="target" id="change-12f69061ac63135f31122ccd030e4137"><strong>[engine] </strong></span>&#x6DFB;&#x52A0;&#x4E86;mixin&#x7C7B;sqlalchemy.ext.DontWrapMixin&#x3002;</span><span class="yiyi-st" id="yiyi-959">&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;&#x8FD9;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x5F02;&#x5E38;&#x5728;&#x8BED;&#x53E5;&#x6267;&#x884C;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x4E0D;&#x4F1A;&#x5305;&#x542B;&#x5728;StatementException&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-12f69061ac63135f31122ccd030e4137">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.2-19"><span class="yiyi-st" id="yiyi-960"><span class="target" id="change-810ad51bfbb5ba21fc145768df376ec8"><strong>[engine] </strong></span> StatementException&#x5305;&#x88C5;&#x5C06;&#x5728;&#x6D88;&#x606F;&#x4E2D;&#x663E;&#x793A;&#x539F;&#x59CB;&#x7684;&#x5F02;&#x5E38;&#x7C7B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-810ad51bfbb5ba21fc145768df376ec8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.2-20"><span class="yiyi-st" id="yiyi-961"><span class="target" id="change-93add98c10eed840d3b7c907476d4f1c"><strong>[engine] </strong></span>Failures on connect which raise dbapi.Error will forward the error to dialect.is_disconnect() and set the &#x201C;connection_invalidated&#x201D; flag if the dialect knows this to be a potentially &#x201C;retryable&#x201D; condition. </span><span class="yiyi-st" id="yiyi-962">&#x76EE;&#x524D;&#x53EA;&#x6709;Oracle ORA-01033&#x88AB;&#x6267;&#x884C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-93add98c10eed840d3b7c907476d4f1c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-963">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2201">&#xFF03;2201</a></span></p></li></ul></div><div class="section" id="change-0.7.2-sql"><h3><span class="yiyi-st" id="yiyi-964">SQL <a class="headerlink" href="#change-0.7.2-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.2-21"><span class="yiyi-st" id="yiyi-965"><span class="target" id="change-b8a57863c962b6e42184a303176122b6"><strong>[sql] </strong></span>Fixed two subtle bugs involving column correspondence in a selectable, one with the same labeled subquery repeated, the other when the label has been &#x201C;grouped&#x201D; and loses itself. </span><span class="yiyi-st" id="yiyi-966">&#x5F71;&#x54CD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b8a57863c962b6e42184a303176122b6">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-967">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2188">&#xFF03;2188</a></span></p></li></ul></div><div class="section" id="change-0.7.2-schema"><h3><span class="yiyi-st" id="yiyi-968">&#x67B6;&#x6784;<a class="headerlink" href="#change-0.7.2-schema" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.2-22"><span class="yiyi-st" id="yiyi-969"><span class="target" id="change-401b949c0225e6348b817f4bb541d046"><strong>[schema] </strong></span>&#x65B0;&#x7279;&#x6027;&#xFF1A;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x90FD;&#x6709;with_variant()&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-970">&#x4EA7;&#x751F;Variant()&#x7684;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x7684;TypeDecorator&#xFF0C;&#x5B83;&#x5C06;&#x6839;&#x636E;&#x4F7F;&#x7528;&#x7684;&#x65B9;&#x8A00;&#x9009;&#x62E9;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x7528;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-401b949c0225e6348b817f4bb541d046">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-971">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2187">&#xFF03;2187</a></span></p></li><li><p id="change-0.7.2-23"><span class="yiyi-st" id="yiyi-972"><span class="target" id="change-9bddb9db3d02fbbbb602dbc2e0a8bcad"><strong>[schema] </strong></span>Added an informative error message when ForeignKeyConstraint refers to a column name in the parent that is not found. </span><span class="yiyi-st" id="yiyi-973">&#x4E5F;&#x5728;0.6.9. <a class="changeset-link headerlink reference internal" href="#change-9bddb9db3d02fbbbb602dbc2e0a8bcad">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.2-24"><span class="yiyi-st" id="yiyi-974"><span class="target" id="change-fd58411b045a4477dae9c656cd656700"><strong>[schema] </strong></span>Fixed bug whereby adaptation of old append_ddl_listener() function was passing unexpected **kw through to the Table event. </span><span class="yiyi-st" id="yiyi-975">Table&#x6CA1;&#x6709;&#x83B7;&#x53D6;kws&#xFF0C;0.6&#x4E2D;&#x7684;MetaData&#x4E8B;&#x4EF6;&#x4F1A;&#x5F97;&#x5230;&#x201C;tables = somecollection&#x201D;&#xFF0C;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x88AB;&#x4FDD;&#x7559;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fd58411b045a4477dae9c656cd656700">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-976">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2206">&#xFF03;2206</a></span></p></li><li><p id="change-0.7.2-25"><span class="yiyi-st" id="yiyi-977"><span class="target" id="change-25b1468fb18fd0faf9c058f6fb1f0f70"><strong>[schema] </strong></span>Fixed bug where &#x201C;autoincrement&#x201D; detection on Table would fail if the type had no &#x201C;affinity&#x201D; value, in particular this would occur when using the UUID example on the site that uses TypeEngine as the &#x201C;impl&#x201D;.<a class="changeset-link headerlink reference internal" href="#change-25b1468fb18fd0faf9c058f6fb1f0f70">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.2-26"><span class="yiyi-st" id="yiyi-978"><span class="target" id="change-1380c32b42b8ac54c0c0cf0fb67c3e94"><strong>[schema] </strong></span>&#x4E3A;TypeEngine&#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x6539;&#x8FDB;&#x7684;repr()&#xFF0C;&#x5B83;&#x5C06;&#x53EA;&#x663E;&#x793A;&#x6784;&#x9020;&#x51FD;&#x6570;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x662F;&#x4F4D;&#x7F6E;&#x6216;kwargs&#x504F;&#x79BB;&#x9ED8;&#x8BA4;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1380c32b42b8ac54c0c0cf0fb67c3e94">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-979">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2209">&#xFF03;2209</a></span></p></li></ul></div><div class="section" id="change-0.7.2-postgresql"><h3><span class="yiyi-st" id="yiyi-980">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.7.2-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.2-27"><span class="yiyi-st" id="yiyi-981"><span class="target" id="change-5e7fbb67c30f10c299ecf5f079610643"><strong>[postgresql] </strong></span>&#x4E3A;Index&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x201C;postgresql_ops&#x201D;&#x53C2;&#x6570;&#xFF0C;&#x5141;&#x8BB8;&#x4E3A;&#x7D22;&#x5F15;&#x5217;&#x6307;&#x5B9A;PostgreSQL&#x64CD;&#x4F5C;&#x7B26;&#x7C7B;&#x3002;</span><span class="yiyi-st" id="yiyi-982">Courtesy Filip Zyzniewski&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5e7fbb67c30f10c299ecf5f079610643">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-983">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2198">&#xFF03;2198</a></span></p></li></ul></div><div class="section" id="change-0.7.2-mysql"><h3><span class="yiyi-st" id="yiyi-984">MySQL&#x7684;<a class="headerlink" href="#change-0.7.2-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.2-28"><span class="yiyi-st" id="yiyi-985"><span class="target" id="change-89bd952e65c8b1c1dd5f09e71b858a1a"><strong>[mysql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;OurSQL&#x65B9;&#x8A00;&#x4F7F;&#x7528;ANSI&#x4E2D;&#x6027;&#x5F15;&#x7528;&#x7B26;&#x53F7;&#x201C;&apos;&#x201D;&#x4F5C;&#x4E3A;XA&#x547D;&#x4EE4;&#x800C;&#x4E0D;&#x662F;&apos;&#x201C;&apos;&#x3002;</span><span class="yiyi-st" id="yiyi-986">. </span><span class="yiyi-st" id="yiyi-987">&#x4E5F;&#x5728;0.6.9. <a class="changeset-link headerlink reference internal" href="#change-89bd952e65c8b1c1dd5f09e71b858a1a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-988">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2186">&#xFF03;2186</a></span></p></li></ul></div><div class="section" id="change-0.7.2-sqlite"><h3><span class="yiyi-st" id="yiyi-989">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.7.2-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.2-29"><span class="yiyi-st" id="yiyi-990"><span class="target" id="change-a76d1c5d7fb5742f5907e331f3e060b5"><strong>[sqlite] </strong></span> SQLite&#x65B9;&#x8A00;&#x4E0D;&#x518D;&#x5C06;&#x53CD;&#x6620;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x7684;&#x5F15;&#x53F7;&#x5265;&#x79BB;&#xFF0C;&#x4ECE;&#x800C;&#x5141;&#x8BB8;&#x5F80;&#x8FD4;CREATE TABLE&#x7684;&#x5DE5;&#x4F5C;&#x3002;</span><span class="yiyi-st" id="yiyi-991">&#x8FD9;&#x4E0E;&#x5176;&#x4ED6;&#x65B9;&#x8A00;&#x4E5F;&#x662F;&#x4E00;&#x81F4;&#x7684;&#xFF0C;&#x8FD9;&#x4E9B;&#x65B9;&#x8A00;&#x4E5F;&#x4FDD;&#x6301;&#x9ED8;&#x8BA4;&#x7684;&#x786E;&#x5207;&#x5F62;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a76d1c5d7fb5742f5907e331f3e060b5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-992">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2189">&#xFF03;2189</a></span></p></li></ul></div><div class="section" id="change-0.7.2-mssql"><h3><span class="yiyi-st" id="yiyi-993">MSSQL <a class="headerlink" href="#change-0.7.2-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.2-30"><span class="yiyi-st" id="yiyi-994"><span class="target" id="change-600cd2aaea617df4bcb0c1cc8219406a"><strong>[mssql] </strong></span>Adjusted the pyodbc dialect such that bound values are passed as bytes and not unicode if the &#x201C;Easysoft&#x201D; unix drivers are detected. </span><span class="yiyi-st" id="yiyi-995">&#x8FD9;&#x4E0E;FreeTDS&#x53D1;&#x751F;&#x7684;&#x884C;&#x4E3A;&#x76F8;&#x540C;&#x3002;</span><span class="yiyi-st" id="yiyi-996">&#x5982;&#x679C;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x4F20;&#x9012;&#x4E86;Python unicodes&#xFF0C;Easysoft&#x4F3C;&#x4E4E;&#x4F1A;&#x53D1;&#x751F;segfault&#x3002;<a class="changeset-link headerlink reference internal" href="#change-600cd2aaea617df4bcb0c1cc8219406a">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.2-oracle"><h3><span class="yiyi-st" id="yiyi-997">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.7.2-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.2-31"><span class="yiyi-st" id="yiyi-998"><span class="target" id="change-160a70a653da208a38ffb9040ea5726d"><strong>[oracle] </strong></span>&#x6DFB;&#x52A0;ORA-00028&#x65AD;&#x5F00;&#x4EE3;&#x7801;&#xFF0C;&#x4F7F;&#x7528;cx_oracle _Error.code&#x83B7;&#x53D6;&#x4EE3;&#x7801;&#x3002;</span><span class="yiyi-st" id="yiyi-999">&#x4E5F;&#x5728;0.6.9. <a class="changeset-link headerlink reference internal" href="#change-160a70a653da208a38ffb9040ea5726d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1000">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2200">&#xFF03;2200</a></span></p></li><li><p id="change-0.7.2-32"><span class="yiyi-st" id="yiyi-1001"><span class="target" id="change-6c87e4c4b4093629e3ba1f02bdf3ab64"><strong>[oracle] </strong></span>&#x6DFB;&#x52A0;&#x4E86;ORA-01033&#x6765;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x4EE3;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x8FDE;&#x63A5;&#x4E8B;&#x4EF6;&#x4E2D;&#x6355;&#x83B7;&#x4EE3;&#x7801;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6c87e4c4b4093629e3ba1f02bdf3ab64">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1002">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2201">&#xFF03;2201</a></span></p></li><li><p id="change-0.7.2-33"><span class="yiyi-st" id="yiyi-1003"><span class="target" id="change-03bd66691ff42c3c20f33e7bab730cd1"><strong>[oracle] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x6CA1;&#x6709;&#x751F;&#x6210;&#x6B63;&#x786E;DDL&#x7684;oracle.RAW&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1004">&#x4E5F;&#x5728;0.6.9. <a class="changeset-link headerlink reference internal" href="#change-03bd66691ff42c3c20f33e7bab730cd1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1005">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2220">&#xFF03;2220</a></span></p></li><li><p id="change-0.7.2-34"><span class="yiyi-st" id="yiyi-1006"><span class="target" id="change-a7992f3b1ebcc0afe915f2e5b81059dc"><strong>[oracle] </strong></span>&#x5C06;CURRENT&#x6DFB;&#x52A0;&#x5230;&#x4FDD;&#x7559;&#x5B57;&#x5217;&#x8868;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-1007">&#x4E5F;&#x5728;0.6.9. <a class="changeset-link headerlink reference internal" href="#change-a7992f3b1ebcc0afe915f2e5b81059dc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1008">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2212">&#xFF03;2212</a></span></p></li><li><p id="change-0.7.2-35"><span class="yiyi-st" id="yiyi-1009"><span class="target" id="change-c1007ad607ff9e6ef6af1e934d877593"><strong>[oracle] </strong></span>Fixed bug in the mutable extension whereby if the same type were used twice in one mapping, the attributes beyond the first would not get instrumented.<a class="changeset-link headerlink reference internal" href="#change-c1007ad607ff9e6ef6af1e934d877593">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.2-36"><span class="yiyi-st" id="yiyi-1010"><span class="target" id="change-dc447cba87916cdbf0e26b9026b3a710"><strong>[oracle] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x53EF;&#x53D8;&#x6269;&#x5C55;&#x4E2D;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E86;None&#x6216;&#x975E;&#x5BF9;&#x5E94;&#x7C7B;&#x578B;&#xFF0C;&#x5219;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-1011">&#x73B0;&#x5728;&#x4E0D;&#x63A5;&#x53D7;&#x4EFB;&#x4F55;&#x5C06;None&#x5206;&#x914D;&#x7ED9;&#x6240;&#x6709;&#x5C5E;&#x6027;&#x7684;&#x503C;&#xFF0C;&#x975E;&#x6CD5;&#x503C;&#x4F1A;&#x5F15;&#x53D1;ValueError&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dc447cba87916cdbf0e26b9026b3a710">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.2-misc"><h3><span class="yiyi-st" id="yiyi-1012">&#x6742;&#x9879;<a class="headerlink" href="#change-0.7.2-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.2-37"><span class="yiyi-st" id="yiyi-1013"><span class="target" id="change-4d1214f86691d7af90b6aec2a6000b50"><strong>[examples] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x793A;&#x4F8B;/&#x7248;&#x672C;&#x63A7;&#x5236;&#x6D4B;&#x8BD5;&#x8FD0;&#x884C;&#x5668;&#xFF0C;&#x4E0D;&#x4F9D;&#x8D56;&#x4E8E;SQLAlchemy&#x6D4B;&#x8BD5;&#x5E93;&#xFF0C;nosetests&#x5FC5;&#x987B;&#x4ECE;examples / versioning&#x4E2D;&#x8FD0;&#x884C;&#xFF0C;&#x4EE5;&#x907F;&#x514D;setup.cfg&#x6253;&#x7834;&#x5B83;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4d1214f86691d7af90b6aec2a6000b50">&#xB6; t2 &gt;</a></span></p><p></p></li><li><p id="change-0.7.2-38"><span class="yiyi-st" id="yiyi-1014"><span class="target" id="change-167aac7d99e8dbb5b0ddd7ea0e5ab0d4"><strong>[examples] </strong></span>&#x5BF9;&#x793A;&#x4F8B;/&#x7248;&#x672C;&#x8FDB;&#x884C;&#x8C03;&#x6574;&#xFF0C;&#x4EE5;&#x5728;&#x591A;&#x7EA7;&#x7EE7;&#x627F;&#x60C5;&#x51B5;&#x4E0B;&#x9009;&#x62E9;&#x6B63;&#x786E;&#x7684;&#x5916;&#x952E;<a class="changeset-link headerlink reference internal" href="#change-167aac7d99e8dbb5b0ddd7ea0e5ab0d4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.2-39"><span class="yiyi-st" id="yiyi-1015"><span class="target" id="change-e68d0bc608be6e8845d4b5a7d44194b6"><strong>[examples] </strong></span>&#x4FEE;&#x6B63;&#x5C5E;&#x6027;shard&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x4EE5;0.7&#x98CE;&#x683C;&#x6B63;&#x786E;&#x8C03;&#x7528;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e68d0bc608be6e8845d4b5a7d44194b6">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.7.1"><h2><span class="yiyi-st" id="yiyi-1017">0.7.1 <a class="headerlink" href="#change-0.7.1" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1058">&#x53D1;&#x5E03;&#xFF1A;2011&#x5E74;6&#x6708;15&#x65E5;</span><div class="section" id="change-0.7.1-general"><h3><span class="yiyi-st" id="yiyi-1018">&#x4E00;&#x822C;<a class="headerlink" href="#change-0.7.1-general" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.1-0"><span class="yiyi-st" id="yiyi-1019"><span class="target" id="change-d964cd2a33f222066a35562de86fea5c"><strong>[general] </strong></span>&#x4E3A;Python bug 7511&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF0C;C&#x6269;&#x5C55;&#x6784;&#x5EFA;&#x5931;&#x8D25;&#x5E76;&#x672A;&#x5728;Windows 64&#x4F4D;+ VC express&#x4E0A;&#x5F15;&#x53D1;&#x9002;&#x5F53;&#x7684;&#x5F02;&#x5E38;<a class="changeset-link headerlink reference internal" href="#change-d964cd2a33f222066a35562de86fea5c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1020">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2184">&#xFF03;2184</a></span></p></li></ul></div><div class="section" id="change-0.7.1-orm"><h3><span class="yiyi-st" id="yiyi-1021">ORM <a class="headerlink" href="#change-0.7.1-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.1-1"><span class="yiyi-st" id="yiyi-1022"><span class="target" id="change-17de5b36d8997caf117a46a3670a3f8a"><strong>[orm] </strong></span>&#x201C;delete-orphan&#x201D; cascade is now allowed on self-referential relationships - this since SQLA 0.7 no longer enforces &#x201C;parent with no child&#x201D; at the ORM level; this check is left up to foreign key nullability. </span><span class="yiyi-st" id="yiyi-1023">&#x4E0E;<a class="changeset-link headerlink reference internal" href="#change-17de5b36d8997caf117a46a3670a3f8a">&#xB6;</a>&#x6709;&#x5173;</span></p><p><span class="yiyi-st" id="yiyi-1024">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1912">&#xFF03;1912</a></span></p></li><li><p id="change-0.7.1-2"><span class="yiyi-st" id="yiyi-1025"><span class="target" id="change-92b2af9262983ea532c0f658bfb17f2c"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x65B0;&#x7684;&#x201C;&#x53EF;&#x53D8;&#x201D;&#x6269;&#x5C55;&#x4EE5;&#x6B63;&#x786E;&#x5730;&#x5C06;&#x4E8B;&#x4EF6;&#x4F20;&#x64AD;&#x7ED9;&#x5B50;&#x7C7B;&#xFF1B;&#x4E0D;&#x8981;&#x4E3A;&#x5B50;&#x7C7B;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x4E8B;&#x4EF6;&#x4FA6;&#x542C;&#x5668;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-92b2af9262983ea532c0f658bfb17f2c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1026">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2180">&#xFF03;2180</a></span></p></li><li><p id="change-0.7.1-3"><span class="yiyi-st" id="yiyi-1027"><span class="target" id="change-c8d8913620eed4ee345ac9d7820ae1a4"><strong>[orm] </strong></span>Modify the text of the message which occurs when the &#x201C;identity&#x201D; key isn&#x2019;t detected on flush, to include the common cause that the Column isn&#x2019;t set up to detect auto-increment correctly;. </span><span class="yiyi-st" id="yiyi-1028">&#x4E5F;&#x5728;0.6.8. <a class="changeset-link headerlink reference internal" href="#change-c8d8913620eed4ee345ac9d7820ae1a4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1029">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2170">&#xFF03;2170</a></span></p></li><li><p id="change-0.7.1-4"><span class="yiyi-st" id="yiyi-1030"><span class="target" id="change-83414e0c5ba2231873ec5e6f1f09e4a2"><strong>[orm] </strong></span>Fixed bug where transaction-level &#x201C;deleted&#x201D; collection wouldn&#x2019;t be cleared of expunged states, raising an error if they later became transient. </span><span class="yiyi-st" id="yiyi-1031">&#x4E5F;&#x5728;0.6.8. <a class="changeset-link headerlink reference internal" href="#change-83414e0c5ba2231873ec5e6f1f09e4a2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1032">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2182">&#xFF03;2182</a></span></p></li></ul></div><div class="section" id="change-0.7.1-engine"><h3><span class="yiyi-st" id="yiyi-1033">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.7.1-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.1-5"><span class="yiyi-st" id="yiyi-1034"><span class="target" id="change-efd707a33500efe6db9ee55b32d39216"><strong>[engine] </strong></span>Deprecate schema/SQL-oriented methods on Connection/Engine that were never well known and are redundant: reflecttable(), create(), drop(), text(), engine.func<a class="changeset-link headerlink reference internal" href="#change-efd707a33500efe6db9ee55b32d39216">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.1-6"><span class="yiyi-st" id="yiyi-1035"><span class="target" id="change-78e7d60238ce4141107a00fcad3d7fec"><strong>[engine] </strong></span>Adjusted the __contains__() method of a RowProxy result row such that no exception throw is generated internally; NoSuchColumnError() also will generate its message regardless of whether or not the column construct can be coerced to a string.. Also in 0.6.8.<a class="changeset-link headerlink reference internal" href="#change-78e7d60238ce4141107a00fcad3d7fec">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1036">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2178">&#xFF03;2178</a></span></p></li></ul></div><div class="section" id="change-0.7.1-sql"><h3><span class="yiyi-st" id="yiyi-1037">SQL <a class="headerlink" href="#change-0.7.1-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.1-7"><span class="yiyi-st" id="yiyi-1038"><span class="target" id="change-a536533da35533b9d8846e5ccde035ba"><strong>[sql] </strong></span>Fixed bug whereby metadata.reflect(bind) would close a Connection passed as a bind argument. </span><span class="yiyi-st" id="yiyi-1039">&#x4ECE;0.6&#x5F00;&#x59CB;&#x7684;&#x56DE;&#x5F52;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a536533da35533b9d8846e5ccde035ba">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.1-8"><span class="yiyi-st" id="yiyi-1040"><span class="target" id="change-4f4c4de0d29089abddf8db7cf35a10e6"><strong>[sql] </strong></span>&#x7B80;&#x5316;&#x9009;&#x62E9;&#x51B3;&#x5B9A;&#x5176;&apos;.c&apos;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x7684;&#x8FC7;&#x7A0B;&#x3002;</span><span class="yiyi-st" id="yiyi-1041">&#x9664;&#x4E86;&#x4F20;&#x9012;&#x7ED9;select&#xFF08;[]&#xFF09;&#x7684;&#x539F;&#x59CB;ClauseList()&#xFF08;&#x5B83;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x7684;&#x6848;&#x4F8B;&#xFF09;&#x4E4B;&#x5916;&#xFF0C;&#x5B83;&#x7684;&#x884C;&#x4E3A;&#x662F;&#x76F8;&#x540C;&#x7684;&#xFF0C;&#x73B0;&#x5728;&#x5B83;&#x5C06;&#x88AB;&#x6269;&#x5C55;&#x5230;&#x5B83;&#x7684;&#x5404;&#x4E2A;&#x5217;&#x5143;&#x7D20;&#x4E2D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x88AB;&#x5FFD;&#x7565;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4f4c4de0d29089abddf8db7cf35a10e6">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.1-postgresql"><h3><span class="yiyi-st" id="yiyi-1042">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.7.1-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.1-9"><span class="yiyi-st" id="yiyi-1043"><span class="target" id="change-036a468c7e481fd6d26a23d398c7209b"><strong>[postgresql] </strong></span>&#x6709;&#x5173;&#x6570;&#x503C;&#x6570;&#x7EC4;MATCH&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x4E00;&#x4E9B;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x4FEE;&#x6B63;&#x3002;</span><span class="yiyi-st" id="yiyi-1044">&#x4E00;&#x4E2A;&#x6F5C;&#x5728;&#x7684;&#x6D6E;&#x70B9;&#x4E0D;&#x51C6;&#x786E;&#x95EE;&#x9898;&#x5DF2;&#x7ECF;&#x4FEE;&#x590D;&#xFF0C;MATCH&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x67D0;&#x4E9B;&#x6D4B;&#x8BD5;&#x76EE;&#x524D;&#x53EA;&#x80FD;&#x5728;&#x9762;&#x5411;EN&#x7684;&#x8BED;&#x8A00;&#x73AF;&#x5883;&#x4E2D;&#x6267;&#x884C;&#x3002;</span><span class="yiyi-st" id="yiyi-1045">. </span><span class="yiyi-st" id="yiyi-1046">&#x4E5F;&#x5728;0.6.8. <a class="changeset-link headerlink reference internal" href="#change-036a468c7e481fd6d26a23d398c7209b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1047">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2175">&#xFF03;2175</a></span></p></li></ul></div><div class="section" id="change-0.7.1-mysql"><h3><span class="yiyi-st" id="yiyi-1048">MySQL&#x7684;<a class="headerlink" href="#change-0.7.1-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.1-10"><span class="yiyi-st" id="yiyi-1049"><span class="target" id="change-0cf81608466b1ee490d9df9f2e4eb80c"><strong>[mysql] </strong></span>&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x5728;&#x5B89;&#x88C5;&#x5728;windows&#x4E0A;&#x7684;MySQL&#x4E0A;&#x901A;&#x8FC7;100&#xFF05;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0cf81608466b1ee490d9df9f2e4eb80c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.1-11"><span class="yiyi-st" id="yiyi-1050"><span class="target" id="change-766d1ca6ed7112502e017193c6a681e6"><strong>[mysql] </strong></span>&#x5220;&#x9664;&#x4E86;&#x5728;&#x6DF7;&#x5408;&#x5927;&#x5C0F;&#x5199;&#x540D;&#x79F0;&#x7684;&#x7A97;&#x53E3;&#x4E0A;&#x53CD;&#x6620;MySQL&#x4E0A;&#x7684;&#x8868;&#x65F6;&#x5C06;&#x5931;&#x8D25;&#x7684;&#x201C;&#x8C03;&#x6574;&#x5927;&#x5C0F;&#x5199;&#x201D;&#x6B65;&#x9AA4;&#x3002;</span><span class="yiyi-st" id="yiyi-1051">&#x5728;&#x5BF9;Windows MySQL&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x4E86;&#x4E00;&#x4E9B;&#x5B9E;&#x9A8C;&#x4E4B;&#x540E;&#xFF0C;&#x5DF2;&#x7ECF;&#x786E;&#x5B9A;&#x8FD9;&#x4E00;&#x6B65;&#x5E76;&#x6CA1;&#x6709;&#x771F;&#x6B63;&#x5E2E;&#x52A9;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002; MySQL&#x5728;&#x975E;Windows&#x5E73;&#x53F0;&#x4E0A;&#x4E0D;&#x4F1A;&#x8FD4;&#x56DE;FK&#x540D;&#x79F0;&#xFF0C;&#x5E76;&#x4E14;&#x5220;&#x9664;&#x8BE5;&#x6B65;&#x9AA4;&#x81F3;&#x5C11;&#x53EF;&#x4EE5;&#x8BA9;&#x53CD;&#x5C04;&#x7684;&#x884C;&#x4E3A;&#x66F4;&#x50CF;&#x5176;&#x4ED6;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3002;</span><span class="yiyi-st" id="yiyi-1052">&#x8FD9;&#x91CC;&#x5DF2;&#x7ECF;&#x8003;&#x8651;&#x8FC7;&#x4E00;&#x4E2A;&#x8B66;&#x544A;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x5F88;&#x96BE;&#x786E;&#x5B9A;&#x5728;&#x4EC0;&#x4E48;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x4EE5;&#x63D0;&#x51FA;&#x8FD9;&#x6837;&#x7684;&#x8B66;&#x544A;&#xFF0C;&#x6240;&#x4EE5;&#x73B0;&#x5728;&#x5C31;&#x8FD9;&#x4E48;&#x8BF4; - &#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E9B;&#x6587;&#x6863;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-766d1ca6ed7112502e017193c6a681e6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1053">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2181">&#xFF03;2181</a></span></p></li><li><p id="change-0.7.1-12"><span class="yiyi-st" id="yiyi-1054"><span class="target" id="change-b9b78f2fe96924ca3f08b9d15350b202"><strong>[mysql] </strong></span>supports_sane_rowcount will be set to False if using MySQLdb and the DBAPI doesn&#x2019;t provide the constants.CLIENT module.<a class="changeset-link headerlink reference internal" href="#change-b9b78f2fe96924ca3f08b9d15350b202">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.1-sqlite"><h3><span class="yiyi-st" id="yiyi-1055">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.7.1-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.1-13"><span class="yiyi-st" id="yiyi-1056"><span class="target" id="change-8eee0e021de144283ef4bee007693646"><strong>[sqlite] </strong></span>Accept None from cursor.fetchone() when &#x201C;PRAGMA read_uncommitted&#x201D; is called to determine current isolation mode at connect time and default to SERIALIZABLE; this to support SQLite versions pre-3.3.0 that did not have this feature.<a class="changeset-link headerlink reference internal" href="#change-8eee0e021de144283ef4bee007693646">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1057">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2173">&#xFF03;2173</a></span></p></li></ul></div></div><div class="section" id="change-0.7.0"><h2><span class="yiyi-st" id="yiyi-1059">0.7.0 <a class="headerlink" href="#change-0.7.0" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1134">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2011&#x5E74;5&#x6708;20&#x65E5;</span><div class="section" id="change-0.7.0-orm"><h3><span class="yiyi-st" id="yiyi-1060">ORM <a class="headerlink" href="#change-0.7.0-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0-0"><span class="yiyi-st" id="yiyi-1061"><span class="target" id="change-dd788f403779ce46f1b284caf86744f1"><strong>[orm] </strong></span>&#x56FA;&#x5B9A;&#x56DE;&#x5F52;&#x5728;0.7b4&#xFF08;&#xFF01;&#xFF09;&#x4E2D;&#x5F15;&#x5165;</span><span class="yiyi-st" id="yiyi-1062">&#x7531;&#x6B64;query.options&#xFF08;someoption&#xFF08;&#x201C;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x540D;&#x79F0;&#x201D;&#xFF09;&#xFF09;&#x5C06;&#x4E0D;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-1063">&#x6B64;&#x5916;&#xFF0C;&#x8FD8;&#x589E;&#x52A0;&#x4E86;&#x989D;&#x5916;&#x7684;&#x9519;&#x8BEF;&#x6355;&#x83B7;&#x529F;&#x80FD;&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;&#x8BE5;&#x9009;&#x9879;&#x5C1D;&#x8BD5;&#x6784;&#x5EFA;&#x57FA;&#x4E8E;&#x5217;&#x7684;&#x5143;&#x7D20;&#x65F6;&#x8FDB;&#x4E00;&#x6B65;&#x4FEE;&#x590D;&#x67D0;&#x4E9B;&#x5728;<a class="changeset-link headerlink reference internal" href="#change-dd788f403779ce46f1b284caf86744f1">&#xB6;</a>&#x4E2D;&#x5B9A;&#x5236;&#x7684;&#x9519;&#x8BEF;&#x6D88;&#x606F;</span></p><p><span class="yiyi-st" id="yiyi-1064">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2069">&#xFF03;2069</a></span></p></li><li><p id="change-0.7.0-1"><span class="yiyi-st" id="yiyi-1065"><span class="target" id="change-d4667c0cd130250d8c628298a590a146"><strong>[orm] </strong></span>query.count() emits &#x201C;count(*)&#x201D; instead of &#x201C;count(1)&#x201D;.<a class="changeset-link headerlink reference internal" href="#change-d4667c0cd130250d8c628298a590a146">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1066">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2162">&#xFF03;2162</a></span></p></li><li><p id="change-0.7.0-2"><span class="yiyi-st" id="yiyi-1067"><span class="target" id="change-eb378c4f08449233f13c8d8f9b93740c"><strong>[orm] </strong></span>Fine tuning of Query clause adaptation when from_self(), union(), or other &#x201C;select from myself&#x201D; operation, such that plain SQL expression elements added to filter(), order_by() etc. </span><span class="yiyi-st" id="yiyi-1068">which are present in the nested &#x201C;from myself&#x201D; query <em>will</em> be adapted in the same way an ORM expression element will, since these elements are otherwise not easily accessible.<a class="changeset-link headerlink reference internal" href="#change-eb378c4f08449233f13c8d8f9b93740c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1069">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2155">&#xFF03;2155</a></span></p></li><li><p id="change-0.7.0-3"><span class="yiyi-st" id="yiyi-1070"><span class="target" id="change-137910b827fa5951d6eaaddedb4ee0fb"><strong>[orm] </strong></span>Fixed bug where determination of &#x201C;self referential&#x201D; relationship would fail with no workaround for joined-inh subclass related to itself, or joined-inh subclass related to a subclass of that with no cols in the sub-sub class in the join condition. </span><span class="yiyi-st" id="yiyi-1071">&#x4E5F;&#x5728;0.6.8. <a class="changeset-link headerlink reference internal" href="#change-137910b827fa5951d6eaaddedb4ee0fb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1072">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2149">&#xFF03;2149</a></span></p></li><li><p id="change-0.7.0-4"><span class="yiyi-st" id="yiyi-1073"><span class="target" id="change-c391bd5e3f88944f1c0807d34fb45f2b"><strong>[orm] </strong></span>mapper() will ignore non-configured foreign keys to unrelated tables when determining inherit condition between parent and child class, but will raise as usual for unresolved columns and table names regarding the inherited table. </span><span class="yiyi-st" id="yiyi-1074">&#x8FD9;&#x662F;&#x4EE5;&#x524D;&#x5DF2;&#x7ECF;&#x5E94;&#x7528;&#x4E8E;&#x58F0;&#x660E;&#x7684;&#x884C;&#x4E3A;&#x7684;&#x589E;&#x5F3A;&#x6CDB;&#x5316;&#x3002;</span><span class="yiyi-st" id="yiyi-1075">0.6.8&#x6709;&#x4E00;&#x4E2A;&#x66F4;&#x4FDD;&#x5B88;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x5B83;&#x5E76;&#x6CA1;&#x6709;&#x4ECE;&#x6839;&#x672C;&#x4E0A;&#x6539;&#x53D8;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x7684;&#x786E;&#x5B9A;&#x65B9;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c391bd5e3f88944f1c0807d34fb45f2b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1076">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2153">&#xFF03;2153</a></span></p></li><li><p id="change-0.7.0-5"><span class="yiyi-st" id="yiyi-1077"><span class="target" id="change-1fd991ce05becf2f02fe6b7626ed5533"><strong>[orm] </strong></span>&#x5F53;&#x7ED9;&#x5B9A;&#x5B9E;&#x4F53;&#x4E0D;&#x662F;&#x5355;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x7C7B;&#x5B9E;&#x4F53;&#x6216;&#x6620;&#x5C04;&#x5668;&#xFF08;&#x5373;&#x5217;&#xFF09;&#x65F6;&#x8C03;&#x7528;query.get()&#x662F;&#x9519;&#x8BEF;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-1078">&#x8FD9;&#x662F;0.6.8&#x4E2D;&#x7684;&#x5F03;&#x7528;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1fd991ce05becf2f02fe6b7626ed5533">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1079">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2144">&#xFF03;2144</a></span></p></li><li><p id="change-0.7.0-6"><span class="yiyi-st" id="yiyi-1080"><span class="target" id="change-71cf0b71941a427e86274e502d705578"><strong>[orm] </strong></span>Fixed a potential KeyError which under some circumstances could occur with the identity map, part of<a class="changeset-link headerlink reference internal" href="#change-71cf0b71941a427e86274e502d705578">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1081">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2148">&#xFF03;2148</a></span></p></li><li><p id="change-0.7.0-7"><span class="yiyi-st" id="yiyi-1082"><span class="target" id="change-5dbf57f6a88bfe6de8fb836ee68bc8b5"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;Query.with_session()&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;Query&#x5207;&#x6362;&#x4E3A;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x4F1A;&#x8BDD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5dbf57f6a88bfe6de8fb836ee68bc8b5">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0-8"><span class="yiyi-st" id="yiyi-1083"><span class="target" id="change-faa9884008b31420f7bb380d6ff9fc64"><strong>[orm] </strong></span>horizontal shard query should use execution options per connection as per<a class="changeset-link headerlink reference internal" href="#change-faa9884008b31420f7bb380d6ff9fc64">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1084">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2131">&#xFF03;2131</a></span></p></li><li><p id="change-0.7.0-9"><span class="yiyi-st" id="yiyi-1085"><span class="target" id="change-b653622696e0f575c1fd2451854ac4cd"><strong>[orm] </strong></span>&#x975E;&#x4E3B;&#x6620;&#x5C04;&#x5668;&#x5C06;&#x7EE7;&#x627F;&#x4E3B;&#x6620;&#x5C04;&#x5668;&#x7684;_identity_class&#x3002;</span><span class="yiyi-st" id="yiyi-1086">&#x8FD9;&#x6837;&#x4E00;&#x6765;&#xFF0C;&#x9488;&#x5BF9;&#x901A;&#x5E38;&#x5728;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x4E2D;&#x7684;&#x7C7B;&#x5EFA;&#x7ACB;&#x7684;non_primary&#x5C06;&#x751F;&#x6210;&#x4E0E;&#x4E3B;&#x6620;&#x5C04;&#x5668;&#xFF08;&#x4E5F;&#x5728;0.6.8&#x4E2D;&#xFF09;&#x7684;&#x8EAB;&#x4EFD;&#x6620;&#x5C04;&#x517C;&#x5BB9;&#x7684;&#x7ED3;&#x679C;<a class="changeset-link headerlink reference internal" href="#change-b653622696e0f575c1fd2451854ac4cd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1087">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2151">&#xFF03;2151</a></span></p></li><li><p id="change-0.7.0-10"><span class="yiyi-st" id="yiyi-1088"><span class="target" id="change-4030bddfa4958646441435b3e8495e02"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x9488;&#x5BF9;&#x201C;&#x65E0;&#x6CD5;&#x4E3A;&#x76EE;&#x6807;&#x5217;q&#x6267;&#x884C;syncrule&#x201D;&#x53D1;&#x51FA;&#x7684;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#xFF1B;&#x6620;&#x5C04;&#x5668;&apos;X&apos;&#x4E0D;&#x6620;&#x5C04;&#x6B64;&#x5217;&#x201C;&#x4EE5;&#x5F15;&#x7528;&#x6B63;&#x786E;&#x7684;&#x6620;&#x5C04;&#x5668;&#x3002;</span><span class="yiyi-st" id="yiyi-1089">. </span><span class="yiyi-st" id="yiyi-1090">&#x4E5F;&#x5728;0.6.8. <a class="changeset-link headerlink reference internal" href="#change-4030bddfa4958646441435b3e8495e02">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1091">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2163">&#xFF03;2163</a></span></p></li><li><p id="change-0.7.0-11"><span class="yiyi-st" id="yiyi-1092"><span class="target" id="change-74b159ca3a99bc5fe6f663d021fbc89e"><strong>[orm] </strong></span>polymorphic_union() gets a &#x201C;cast_nulls&#x201D; option, disables the usage of CAST when it renders the labeled NULL columns.<a class="changeset-link headerlink reference internal" href="#change-74b159ca3a99bc5fe6f663d021fbc89e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1093">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1502">&#xFF03;1502</a></span></p></li><li><p id="change-0.7.0-12"><span class="yiyi-st" id="yiyi-1094"><span class="target" id="change-3eb3b816c40c15eed9d6821d323c425a"><strong>[orm] </strong></span>polymorphic_union() renders the columns in their original table order, as according to the first table/selectable in the list of polymorphic unions in which they appear. </span><span class="yiyi-st" id="yiyi-1095">&#xFF08;&#x9664;&#x975E;&#x4F20;&#x9012;OrderedDict&#xFF0C;&#x5426;&#x5219;&#x5B83;&#x672C;&#x8EAB;&#x5C31;&#x662F;&#x65E0;&#x5E8F;&#x6620;&#x5C04;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3eb3b816c40c15eed9d6821d323c425a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0-13"><span class="yiyi-st" id="yiyi-1096"><span class="target" id="change-9e05f5299c14ba88437debe75cd6021d"><strong>[orm] </strong></span>Fixed bug whereby mapper mapped to an anonymous alias would fail if logging were used, due to unescaped % sign in the alias name. </span><span class="yiyi-st" id="yiyi-1097">&#x4E5F;&#x5728;0.6.8. <a class="changeset-link headerlink reference internal" href="#change-9e05f5299c14ba88437debe75cd6021d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1098">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2171">&#xFF03;2171</a></span></p></li></ul></div><div class="section" id="change-0.7.0-sql"><h3><span class="yiyi-st" id="yiyi-1099">SQL <a class="headerlink" href="#change-0.7.0-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0-14"><span class="yiyi-st" id="yiyi-1100"><span class="target" id="change-6969c79eaa9adb98a299ca808a96ba99"><strong>[sql] </strong></span>Fixed bug whereby nesting a label of a select() with another label in it would produce incorrect exported columns. </span><span class="yiyi-st" id="yiyi-1101">&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x8FD9;&#x4F1A;&#x7834;&#x574F;&#x53E6;&#x4E00;&#x4E2A;column_property()&#x7684;ORM column_property()&#x6620;&#x5C04;&#x3002;</span><span class="yiyi-st" id="yiyi-1102">. </span><span class="yiyi-st" id="yiyi-1103">&#x4E5F;&#x5728;0.6.8 <a class="changeset-link headerlink reference internal" href="#change-6969c79eaa9adb98a299ca808a96ba99">&#xB6;</a>&#x4E2D;</span></p><p><span class="yiyi-st" id="yiyi-1104">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2167">&#xFF03;2167</a></span></p></li><li><p id="change-0.7.0-15"><span class="yiyi-st" id="yiyi-1105"><span class="target" id="change-7b39659e3a5787183e7b9f5455b1bf98"><strong>[sql] </strong></span>&#x5728;&#x786E;&#x5B9A;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x65F6;&#x66F4;&#x6539;&#x4E86;&#x5904;&#x7406;&#xFF0C;&#x4EE5;&#x4FBF;&#x4EC5;&#x5728;&#x4E24;&#x4E2A;&#x7ED9;&#x5B9A;&#x8868;&#x4E4B;&#x95F4;&#x8003;&#x8651;&#x5916;&#x952E;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-1106">&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;t1.join&#xFF08;t2&#xFF09;&#x5C06;&#x62A5;&#x544A;&#x6D89;&#x53CA;&apos;t1&apos;&#x6216;&apos;t2&apos;&#x7684;FK&#x9519;&#x8BEF;&#xFF0C;&#x4F46;&#x6D89;&#x53CA;&apos;t3&apos;&#x7684;&#x4EFB;&#x4F55;&#x9519;&#x8BEF;&#x90FD;&#x5C06;&#x88AB;&#x8DF3;&#x8FC7;&#x3002;</span><span class="yiyi-st" id="yiyi-1107">&#x8FD9;&#x4F1A;&#x5F71;&#x54CD;join()&#xFF0C;&#x4EE5;&#x53CA;ORM&#x5173;&#x7CFB;&#x548C;&#x7EE7;&#x627F;&#x6761;&#x4EF6;&#x903B;&#x8F91;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7b39659e3a5787183e7b9f5455b1bf98">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0-16"><span class="yiyi-st" id="yiyi-1108"><span class="target" id="change-1abc44fe4928d1fb7b67de993024c975"><strong>[sql] </strong></span>&#x5F53;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x9519;&#x8BEF;&#x5904;&#x7406;&#x6709;&#x4E00;&#x4E9B;&#x6539;&#x8FDB;&#x65F6;&#xFF0C;&#x786E;&#x4FDD;&#x81EA;&#x52A8;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x5728;&#x51FA;&#x73B0;&#x5F02;&#x5E38;DBAPI&#x9519;&#x8BEF;&#x65F6;&#x771F;&#x6B63;&#x5173;&#x95ED;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1abc44fe4928d1fb7b67de993024c975">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0-17"><span class="yiyi-st" id="yiyi-1109"><span class="target" id="change-402e6ed8f3da378e37a1813c62700551"><strong>[sql] </strong></span> metadata.reflect()&#x548C;reflection.Inspector()&#x5BF9;GC&#x7684;&#x4E00;&#x4E9B;&#x4F9D;&#x8D56;&#x5173;&#x95ED;&#x4E86;&#x5185;&#x90E8;&#x83B7;&#x53D6;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x5E76;&#x89E3;&#x51B3;&#x4E86;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-402e6ed8f3da378e37a1813c62700551">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0-18"><span class="yiyi-st" id="yiyi-1110"><span class="target" id="change-a4aa1f5d35bf43355add704f191f639a"><strong>[sql] </strong></span>&#x65B0;&#x589E;&#x663E;&#x5F0F;&#x68C0;&#x67E5;Column .name&#x662F;&#x5426;&#x88AB;&#x6307;&#x5B9A;&#x4E3A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;<a class="changeset-link headerlink reference internal" href="#change-a4aa1f5d35bf43355add704f191f639a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1111">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2140">&#xFF03;2140</a></span></p></li><li><p id="change-0.7.0-19"><span class="yiyi-st" id="yiyi-1112"><span class="target" id="change-adefc09b01691db8adf07315e9824db6"><strong>[sql] </strong></span>Fixed bug whereby if FetchedValue was passed to column server_onupdate, it would not have its parent &#x201C;column&#x201D; assigned, added test coverage for all column default assignment patterns. </span><span class="yiyi-st" id="yiyi-1113">&#x4E5F;&#x5728;0.6.8 <a class="changeset-link headerlink reference internal" href="#change-adefc09b01691db8adf07315e9824db6">&#xB6;</a>&#x4E2D;</span></p><p><span class="yiyi-st" id="yiyi-1114">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2147">&#xFF03;2147</a></span></p></li></ul></div><div class="section" id="change-0.7.0-postgresql"><h3><span class="yiyi-st" id="yiyi-1115">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.7.0-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0-20"><span class="yiyi-st" id="yiyi-1116"><span class="target" id="change-14212188e4f0bd379551e87f9b85174b"><strong>[postgresql] </strong></span>&#x4FEE;&#x6B63;psycopg2&#x65B9;&#x8A00;&#x4E2D;&#x7684;psycopg2_version&#x89E3;&#x6790;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-14212188e4f0bd379551e87f9b85174b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0-21"><span class="yiyi-st" id="yiyi-1117"><span class="target" id="change-5388cff58c8560a78aca381e346a28c8"><strong>[postgresql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5F71;&#x54CD;PG9&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x56E0;&#x6B64;&#x5982;&#x679C;&#x9488;&#x5BF9;&#x540D;&#x79F0;&#x5DF2;&#x66F4;&#x6539;&#x7684;&#x5217;&#xFF0C;&#x7D22;&#x5F15;&#x53CD;&#x5C04;&#x5C06;&#x5931;&#x8D25;&#x3002;</span><span class="yiyi-st" id="yiyi-1118">. </span><span class="yiyi-st" id="yiyi-1119">&#x4E5F;&#x5728;0.6.8. <a class="changeset-link headerlink reference internal" href="#change-5388cff58c8560a78aca381e346a28c8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1120">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2141">&#xFF03;2141</a></span></p></li></ul></div><div class="section" id="change-0.7.0-mssql"><h3><span class="yiyi-st" id="yiyi-1121">MSSQL <a class="headerlink" href="#change-0.7.0-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0-22"><span class="yiyi-st" id="yiyi-1122"><span class="target" id="change-54f2c1f5f537415c50f6115da435a07d"><strong>[mssql] </strong></span>Fixed bug in MSSQL dialect whereby the aliasing applied to a schema-qualified table would leak into enclosing select statements. </span><span class="yiyi-st" id="yiyi-1123">&#x4E5F;&#x5728;0.6.8. <a class="changeset-link headerlink reference internal" href="#change-54f2c1f5f537415c50f6115da435a07d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1124">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2169">&#xFF03;2169</a></span></p></li></ul></div><div class="section" id="change-0.7.0-misc"><h3><span class="yiyi-st" id="yiyi-1125">&#x6742;&#x9879;<a class="headerlink" href="#change-0.7.0-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0-23"><span class="yiyi-st" id="yiyi-1126"><span class="target" id="change-1d93ec65d8ccdfeddf18f3d0748d91cd"></span>&#x672C;&#x8282;&#x8BB0;&#x5F55;&#x4E86;&#x4ECE;0.7b4&#x5230;0.7.0&#x7684;&#x8FD9;&#x4E9B;&#x53D8;&#x5316;&#x3002;</span><span class="yiyi-st" id="yiyi-1127">&#x5BF9;&#x4E8E;&#x4EC0;&#x4E48;SQLAlchemy&#x7684;0.7&#x7684;&#x65B0;&#x529F;&#x80FD;&#x7684;&#x6982;&#x8FF0;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference external" href="http://docs.sqlalchemy.org/en/latest/changelog_migration_07.html"> http://docs.sqlalchemy.org/en/latest/changelog_migration_07.html  T0&gt; <a class="changeset-link headerlink reference internal" href="#change-1d93ec65d8ccdfeddf18f3d0748d91cd">&#xB6; T1&gt;</a></a></span></p><p></p></li><li><p id="change-0.7.0-24"><span class="yiyi-st" id="yiyi-1128"><span class="target" id="change-1b8c150a713fcfe2bfa9be75de0808d9"><strong>[documentation] </strong></span>&#x4ECE;ext.mutable&#x6587;&#x6863;&#x4E2D;&#x5220;&#x9664;&#x4E86;&#x201C;collections.MutableMapping&#x201D;abc&#x7684;&#x7528;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x88AB;&#x9519;&#x8BEF;&#x5730;&#x4F7F;&#x7528;&#xFF0C;&#x5E76;&#x4E14;&#x4F7F;&#x5F97;&#x8BE5;&#x793A;&#x4F8B;&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x66F4;&#x96BE;&#x4EE5;&#x7406;&#x89E3;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1b8c150a713fcfe2bfa9be75de0808d9">&#xB6;&lt; / T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-1129">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2152">&#xFF03;2152</a></span></p></li><li><p id="change-0.7.0-25"><span class="yiyi-st" id="yiyi-1130"><span class="target" id="change-5caeaaa0861dc6502cd2388eece068e4"><strong>[examples] </strong></span>removed the ancient &#x201C;polymorphic association&#x201D; examples and replaced with an updated set of examples that use declarative mixins, &#x201C;generic_associations&#x201D;. </span><span class="yiyi-st" id="yiyi-1131">&#x6BCF;&#x4E2A;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x66FF;&#x4EE3;&#x8868;&#x683C;&#x5E03;&#x5C40;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5caeaaa0861dc6502cd2388eece068e4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0-26"><span class="yiyi-st" id="yiyi-1132"><span class="target" id="change-8cd79396a14e3d4871c28ac127541834"><strong>[ext] </strong></span>&#x4FEE;&#x590D;&#x4E86;sqlalchemy.ext.mutable&#x6269;&#x5C55;&#x4E2D;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x5176;&#x4E2D;<cite>None</cite>&#x6CA1;&#x6709;&#x5F97;&#x5230;&#x9002;&#x5F53;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x66FF;&#x6362;&#x4E8B;&#x4EF6;&#x6CA1;&#x6709;&#x5F97;&#x5230;&#x9002;&#x5F53;&#x7684;&#x5904;&#x7406;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8cd79396a14e3d4871c28ac127541834"></a></span></p><p><span class="yiyi-st" id="yiyi-1133">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2143">&#xFF03;2143</a></span></p></li></ul></div></div><div class="section" id="change-0.7.0b4"><h2><span class="yiyi-st" id="yiyi-1135">0.7.0b4 <a class="headerlink" href="#change-0.7.0b4" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1225">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2011&#x5E74;4&#x6708;17&#x65E5;</span><div class="section" id="change-0.7.0b4-general"><h3><span class="yiyi-st" id="yiyi-1136">&#x4E00;&#x822C;<a class="headerlink" href="#change-0.7.0b4-general" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b4-0"><span class="yiyi-st" id="yiyi-1137"><span class="target" id="change-c10e330a6fb6868b79d2f8ea4ca8f2f4"><strong>[general] </strong></span>&#x66F4;&#x6539;&#x6B64;&#x6587;&#x4EF6;&#x7684;CHANGES&#x683C;&#x5F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-1138">&#x683C;&#x5F0F;&#x66F4;&#x6539;&#x5DF2;&#x5E94;&#x7528;&#x4E8E;0.7&#x7248;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c10e330a6fb6868b79d2f8ea4ca8f2f4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b4-1"><span class="yiyi-st" id="yiyi-1139"><span class="target" id="change-568f4ce9f54eaab769ed2bd7d8e4521e"><strong>[general] </strong></span>&#x73B0;&#x5728;&#xFF0C;&#x201C;-claclarative&#x201D;&#x66F4;&#x6539;&#x5C06;&#x76F4;&#x63A5;&#x5217;&#x5728;&#x201C;-orm&#x201D;&#x90E8;&#x5206;&#x4E0B;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x5BC6;&#x5207;&#x76F8;&#x5173;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-568f4ce9f54eaab769ed2bd7d8e4521e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b4-2"><span class="yiyi-st" id="yiyi-1140"><span class="target" id="change-33020374149ff987953b51cc27c1d41b"><strong>[general] </strong></span> 0.5&#x7CFB;&#x5217;&#x66F4;&#x6539;&#x5DF2;&#x88AB;&#x79FB;&#x81F3;&#x66FF;&#x6362;CHANGES_PRE_05&#x7684;&#x6587;&#x4EF6;CHANGES_PRE_06. <a class="changeset-link headerlink reference internal" href="#change-33020374149ff987953b51cc27c1d41b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b4-3"><span class="yiyi-st" id="yiyi-1141"><span class="target" id="change-4b59da9baea961eaaf0893565f87e4a7"><strong>[general] </strong></span> 0.6&#x7CFB;&#x5217;&#x4E2D;&#x7684;0.6.7&#x53CA;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#x7684;&#x66F4;&#x65B0;&#x65E5;&#x5FD7;&#x73B0;&#x5728;&#x4EC5;&#x5728;0.6&#x5206;&#x652F;&#x4E2D;&#x7684;CHANGES&#x6587;&#x4EF6;&#x4E2D;&#x5217;&#x51FA;&#x3002;</span><span class="yiyi-st" id="yiyi-1142">&#x5728;0.7&#x7684;CHANGES&#x6587;&#x4EF6;&#xFF08;&#x5373;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF09;&#x4E2D;&#xFF0C;&#x6240;&#x6709;0.6&#x7684;&#x53D8;&#x5316;&#x90FD;&#x5728;&#x5B83;&#x4EEC;&#x88AB;&#x5E94;&#x7528;&#x7684;0.7&#x8282;&#x4E2D;&#x5185;&#x8054;&#x5217;&#x51FA;&#xFF08;&#x56E0;&#x4E3A;&#x6240;&#x6709;&#x7684;0.6&#x53D8;&#x5316;&#x4E5F;&#x90FD;&#x5728;0.7&#x4E2D;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-1143">&#x6CE8;&#x610F;&#x9002;&#x7528;&#x4E8E;0.6&#x7248;&#x672C;&#x7684;&#x66F4;&#x6539;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#x5B9E;&#x73B0;/&#x884C;&#x4E3A;&#x7684;&#x4EFB;&#x4F55;&#x5DEE;&#x5F02;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4b59da9baea961eaaf0893565f87e4a7">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.0b4-orm"><h3><span class="yiyi-st" id="yiyi-1144">ORM <a class="headerlink" href="#change-0.7.0b4-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b4-4"><span class="yiyi-st" id="yiyi-1145"><span class="target" id="change-45801dddde8d0c78af04b421301b8307"><strong>[orm] </strong></span>Some fixes to &#x201C;evaluate&#x201D; and &#x201C;fetch&#x201D; evaluation when query.update(), query.delete() are called. </span><span class="yiyi-st" id="yiyi-1146">&#x8BB0;&#x5F55;&#x7684;&#x68C0;&#x7D22;&#x5728;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x662F;&#x5728;&#x81EA;&#x52A8;&#x5237;&#x65B0;&#x4E4B;&#x540E;&#x5B8C;&#x6210;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x53D1;&#x5E03;&#x66F4;&#x65B0;/&#x5220;&#x9664;&#x4E4B;&#x524D;&#xFF0C;&#x9632;&#x6B62;&#x672A;&#x5237;&#x65B0;&#x7684;&#x6570;&#x636E;&#x5B58;&#x5728;&#x4EE5;&#x53CA;&#x5728;&#x8BC4;&#x4F30;&#x671F;&#x95F4;&#x8FC7;&#x671F;&#x7684;&#x5931;&#x8D25;&#x5BF9;&#x8C61;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-45801dddde8d0c78af04b421301b8307">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1147">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2122">&#xFF03;2122</a></span></p></li><li><p id="change-0.7.0b4-5"><span class="yiyi-st" id="yiyi-1148"><span class="target" id="change-af8e701eaf7ec13322ab104bb650aecb"><strong>[orm] </strong></span>&#x91CD;&#x5199;&#x4E86;&#x5728;&#x5C1D;&#x8BD5;&#x5237;&#x65B0;&#x975E;&#x8D85;&#x7C7B;&#x578B;&#x7684;&#x5B50;&#x7C7B;&#x65F6;&#x53D1;&#x751F;&#x7684;&#x5F02;&#x5E38;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-af8e701eaf7ec13322ab104bb650aecb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1149">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2063">&#xFF03;2063</a></span></p></li><li><p id="change-0.7.0b4-6"><span class="yiyi-st" id="yiyi-1150"><span class="target" id="change-1fc825ca38aa549debb3965be29f975a"><strong>[orm] </strong></span>&#x5F53;&#x67E5;&#x8BE2;&#x9009;&#x9879;&#x65E0;&#x6CD5;&#x627E;&#x5230;&#x76EE;&#x6807;&#x5B9E;&#x4F53;&#x65F6;&#xFF0C;&#x8FD8;&#x4F1A;&#x8FDB;&#x884C;&#x66F4;&#x591A;&#x63AA;&#x8F9E;&#x8C03;&#x6574;&#x3002;</span><span class="yiyi-st" id="yiyi-1151">&#x89E3;&#x91CA;&#x8DEF;&#x5F84;&#x5FC5;&#x987B;&#x6765;&#x81EA;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x6839;&#x5B9E;&#x4F53;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1fc825ca38aa549debb3965be29f975a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b4-7"><span class="yiyi-st" id="yiyi-1152"><span class="target" id="change-1a848298d843da4ca6e3bbb41d8ae1c6"><strong>[orm] </strong></span>Some fixes to the state handling regarding backrefs, typically when autoflush=False, where the back-referenced collection wouldn&#x2019;t properly handle add/removes with no net change. </span><span class="yiyi-st" id="yiyi-1153">&#x611F;&#x8C22;Richard Murri&#x63D0;&#x4F9B;&#x7684;&#x6D4B;&#x8BD5;&#x6848;&#x4F8B;+&#x8865;&#x4E01;&#x3002;</span><span class="yiyi-st" id="yiyi-1154">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1a848298d843da4ca6e3bbb41d8ae1c6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1155">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2123">&#xFF03;2123</a></span></p></li><li><p id="change-0.7.0b4-8"><span class="yiyi-st" id="yiyi-1156"><span class="target" id="change-bde26159f4aa960b057cc47bd3c0e866"><strong>[orm] </strong></span>&#x5728;UOW&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x68C0;&#x67E5;&#xFF0C;&#x4EE5;&#x68C0;&#x6D4B;&#x88AB;&#x8BF7;&#x6C42;&#x66F4;&#x65B0;&#x6216;&#x5220;&#x9664;&#x5305;&#x542B;NULL&#x7684;&#x4E3B;&#x952E;&#x503C;&#x7684;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bde26159f4aa960b057cc47bd3c0e866">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1157">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2127">&#xFF03;2127</a></span></p></li><li><p id="change-0.7.0b4-9"><span class="yiyi-st" id="yiyi-1158"><span class="target" id="change-c257d9a6b362baee9ac13f47aada6784"><strong>[orm] </strong></span>&#x4E00;&#x4E9B;&#x6539;&#x8FDB;&#x5C5E;&#x6027;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x3002;</span><span class="yiyi-st" id="yiyi-1159">&#x5728;0.8&#x7248;&#x672C;&#x4E2D;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x66F4;&#x591A;&#x7684;&#x66F4;&#x6539;&#xFF0C;&#x4F46;&#x662F;&#x73B0;&#x5728;&#x5386;&#x53F2;&#x5DF2;&#x7ECF;&#x88AB;&#x4FEE;&#x6539;&#xFF0C;&#x6807;&#x91CF;&#x5386;&#x53F2;&#x6CA1;&#x6709;&#x4E3A;&#x975E;&#x73B0;&#x503C;&#x8D4B;&#x503C;None&#x7684;&#x201C;&#x526F;&#x4F5C;&#x7528;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1160">&#x8FD9;&#x5141;&#x8BB8;&#x7A0D;&#x5FAE;&#x66F4;&#x597D;&#x5730;&#x533A;&#x5206;None&#x96C6;&#x5408;&#x548C;&#x6CA1;&#x6709;&#x5B9E;&#x9645;&#x53D8;&#x5316;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x4E5F;&#x5F71;&#x54CD;&#x5230;&#x5B83;&#x4EEC;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c257d9a6b362baee9ac13f47aada6784">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1161">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2127">&#xFF03;2127</a></span></p></li><li><p id="change-0.7.0b4-10"><span class="yiyi-st" id="yiyi-1162"><span class="target" id="change-99eb10573ae36fd1d9fff5e087a4cfd2"><strong>[orm] </strong></span>a &#x201C;having&#x201D; clause would be copied from the inside to the outside query if from_self() were used; in particular this would break an 0.7 style count() query. </span><span class="yiyi-st" id="yiyi-1163">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-99eb10573ae36fd1d9fff5e087a4cfd2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1164">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2130">&#xFF03;2130</a></span></p></li><li><p id="change-0.7.0b4-11"><span class="yiyi-st" id="yiyi-1165"><span class="target" id="change-beca9e44abdcdfcfd9daa8cf2d849cf8"><strong>[orm] </strong></span>the Query.execution_options() method now passes those options to the Connection rather than the SELECT statement, so that all available options including isolation level and compiled cache may be used.<a class="changeset-link headerlink reference internal" href="#change-beca9e44abdcdfcfd9daa8cf2d849cf8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1166">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2131">&#xFF03;2131</a></span></p></li></ul></div><div class="section" id="change-0.7.0b4-engine"><h3><span class="yiyi-st" id="yiyi-1167">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.7.0b4-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b4-12"><span class="yiyi-st" id="yiyi-1168"><span class="target" id="change-ab06f7b93d81343ab8080f5e4b808885"><strong>[engine] </strong></span>&#x5982;&#x679C;CPython 2.x&#x9ED8;&#x8BA4;&#x542F;&#x7528;&#x4E86;C&#x6269;&#x5C55;&#xFF0C;&#x5982;&#x679C;&#x7F16;&#x8BD1;&#x5931;&#x8D25;&#xFF0C;&#x5B83;&#x5C06;&#x56DE;&#x9000;&#x5230;&#x7EAF;Python&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ab06f7b93d81343ab8080f5e4b808885">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1169">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2129">&#xFF03;2129</a></span></p></li></ul></div><div class="section" id="change-0.7.0b4-sql"><h3><span class="yiyi-st" id="yiyi-1170">SQL <a class="headerlink" href="#change-0.7.0b4-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b4-13"><span class="yiyi-st" id="yiyi-1171"><span class="target" id="change-e8fcd9c241670c115a04b0c0a16536b2"><strong>[sql] </strong></span>&#x5F53;&#x4F20;&#x9012;&#x7ED9;SELECT&#x8BED;&#x53E5;&#x800C;&#x4E0D;&#x662F;Connection&#x65F6;&#xFF0C;&#x201C;compiled_cache&#x201D;&#x6267;&#x884C;&#x9009;&#x9879;&#x73B0;&#x5728;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-1172">&#x4EE5;&#x524D;&#x5B83;&#x88AB;&#x5B8C;&#x5168;&#x5FFD;&#x7565;&#x3002;</span><span class="yiyi-st" id="yiyi-1173">&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x4F1A;&#x8003;&#x8651;&#x8BA9;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x5728;&#x6BCF;&#x4E2A;&#x8BED;&#x53E5;&#x7EA7;&#x522B;&#x4E0A;&#x5DE5;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e8fcd9c241670c115a04b0c0a16536b2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1174">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2131">&#xFF03;2131</a></span></p></li><li><p id="change-0.7.0b4-14"><span class="yiyi-st" id="yiyi-1175"><span class="target" id="change-489c8fdbf96ab63bb53f2a1a861bba4e"><strong>[sql] </strong></span>&#x5728;&#x57FA;&#x7840;TypeEngine&#x7C7B;&#x4E2D;&#x8FD8;&#x539F;&#x4E86;&#x201C;catchall&#x201D;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x5E76;&#x5E26;&#x6709;&#x5F03;&#x7528;&#x8B66;&#x544A;&#x3002;</span><span class="yiyi-st" id="yiyi-1176">&#x8FD9;&#x4F7F;&#x5F97;&#x50CF;Integer&#xFF08;11&#xFF09;&#x8FD9;&#x6837;&#x7684;&#x4EE3;&#x7801;&#x4ECD;&#x7136;&#x6210;&#x529F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-489c8fdbf96ab63bb53f2a1a861bba4e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b4-15"><span class="yiyi-st" id="yiyi-1177"><span class="target" id="change-f00374d634cfacde67965712e5aff348"><strong>[sql] </strong></span>Fixed regression whereby MetaData() coming back from unpickling did not keep track of new things it keeps track of now, i.e. collection of Sequence objects, list of schema names.<a class="changeset-link headerlink reference internal" href="#change-f00374d634cfacde67965712e5aff348">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1178">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2104">&#xFF03;2104</a></span></p></li><li><p id="change-0.7.0b4-16"><span class="yiyi-st" id="yiyi-1179"><span class="target" id="change-82ab067a38871b8fab4a70169e0ed7ef"><strong>[sql] </strong></span>The limit/offset keywords to select() as well as the value passed to select.limit()/offset() will be coerced to integer. </span><span class="yiyi-st" id="yiyi-1180">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-82ab067a38871b8fab4a70169e0ed7ef">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1181">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2116">&#xFF03;2116</a></span></p></li><li><p id="change-0.7.0b4-17"><span class="yiyi-st" id="yiyi-1182"><span class="target" id="change-6cf3eb37879e278dcebe3d7eca622bd3"><strong>[sql] </strong></span>fixed bug where &#x201C;from&#x201D; clause gathering from an over() clause would be an itertools.chain() and not a list, causing &#x201C;can only concatenate list&#x201D; TypeError when combined with other clauses.<a class="changeset-link headerlink reference internal" href="#change-6cf3eb37879e278dcebe3d7eca622bd3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b4-18"><span class="yiyi-st" id="yiyi-1183"><span class="target" id="change-94181c686d44776e147c618e176fecbb"><strong>[sql] </strong></span>Fixed incorrect usage of &#x201D;,&#x201D; in over() clause being placed between the &#x201C;partition&#x201D; and &#x201C;order by&#x201D; clauses.<a class="changeset-link headerlink reference internal" href="#change-94181c686d44776e147c618e176fecbb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1184">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2134">&#xFF03;2134</a></span></p></li><li><p id="change-0.7.0b4-19"><span class="yiyi-st" id="yiyi-1185"><span class="target" id="change-d51ca5e1b2cfb62e5942a810d58354f7"><strong>[sql] </strong></span>&#x5728;&#x4E3A;PrimaryKeyConstraint now&#x51FD;&#x6570;&#x9644;&#x52A0;&#x4E8B;&#x4EF6;&#x4E4B;&#x524D;/&#x4E4B;&#x540E;&#xFF0C;&#x4E3A;&#x6240;&#x6709;&#x7EA6;&#x675F;&#x7C7B;&#x578B;&#x7684;&#x4E8B;&#x4EF6;&#x4E4B;&#x524D;/&#x4E4B;&#x540E;&#x6DFB;&#x52A0;&#x4E86;&#x6D4B;&#x8BD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d51ca5e1b2cfb62e5942a810d58354f7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1186">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2105">&#xFF03;2105</a></span></p></li><li><p id="change-0.7.0b4-20"><span class="yiyi-st" id="yiyi-1187"><span class="target" id="change-42aaa6dc1625418edc7375d7ad85c837"><strong>[sql] </strong></span>Added explicit true()/false() constructs to expression lib - coercion rules will intercept &#x201C;False&#x201D;/&#x201D;True&#x201D; into these constructs. </span><span class="yiyi-st" id="yiyi-1188">&#x5728;0.6&#x4E2D;&#xFF0C;&#x6784;&#x9020;&#x901A;&#x5E38;&#x76F4;&#x63A5;&#x8F6C;&#x6362;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x8FD9;&#x5728;0.7&#x4E2D;&#x4E0D;&#x518D;&#x88AB;&#x63A5;&#x53D7;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-42aaa6dc1625418edc7375d7ad85c837">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1189">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2117">&#xFF03;2117</a></span></p></li></ul></div><div class="section" id="change-0.7.0b4-schema"><h3><span class="yiyi-st" id="yiyi-1190">&#x67B6;&#x6784;<a class="headerlink" href="#change-0.7.0b4-schema" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b4-21"><span class="yiyi-st" id="yiyi-1191"><span class="target" id="change-631dc3d09fac43240ec00fb355fc6132"><strong>[schema] </strong></span> Table&#x4E0A;&#x7684;&apos;useexisting&apos;&#x6807;&#x5FD7;&#x5DF2;&#x88AB;&#x65B0;&#x7684;&#x4E00;&#x5BF9;&#x6807;&#x5FD7;&apos;keep_existing&apos;&#x548C;&apos;extend_existing&apos;&#x53D6;&#x4EE3;&#x3002;</span><span class="yiyi-st" id="yiyi-1192">&apos;extend_existing&apos;&#x76F8;&#x5F53;&#x4E8E;&apos;useexisting&apos; - &#x8FD4;&#x56DE;&#x73B0;&#x6709;&#x7684;&#x8868;&#xFF0C;&#x5E76;&#x6DFB;&#x52A0;&#x989D;&#x5916;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5143;&#x7D20;&#x3002;</span><span class="yiyi-st" id="yiyi-1193">&#x4F7F;&#x7528;&apos;keep_existing&apos;&#xFF0C;&#x5C06;&#x8FD4;&#x56DE;&#x73B0;&#x6709;&#x8868;&#xFF0C;&#x4F46;&#x4E0D;&#x4F1A;&#x6DFB;&#x52A0;&#x5176;&#x4ED6;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5143;&#x7D20; - &#x8FD9;&#x4E9B;&#x5143;&#x7D20;&#x4EC5;&#x5728;&#x65B0;&#x521B;&#x5EFA;&#x8868;&#x65F6;&#x5E94;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-631dc3d09fac43240ec00fb355fc6132">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1194">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2109">&#xFF03;2109</a></span></p></li></ul></div><div class="section" id="change-0.7.0b4-postgresql"><h3><span class="yiyi-st" id="yiyi-1195">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.7.0b4-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b4-22"><span class="yiyi-st" id="yiyi-1196"><span class="target" id="change-0441092a868aeb0b91d8d24e59c41d75"><strong>[postgresql] </strong></span>&#x73B0;&#x5728;&#x652F;&#x6301;Python 3&#x7684;Psycopg2. <a class="changeset-link headerlink reference internal" href="#change-0441092a868aeb0b91d8d24e59c41d75">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b4-23"><span class="yiyi-st" id="yiyi-1197"><span class="target" id="change-a8605dec5f8e63d728bc927ef61cf975"><strong>[postgresql] </strong></span>&#x56FA;&#x5B9A;&#x652F;&#x6301;&#x4F7F;&#x7528;pg8000&#x65F6;&#x7684;&#x7CBE;&#x786E;&#x6570;&#x5B57;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a8605dec5f8e63d728bc927ef61cf975">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1198">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2132">&#xFF03;2132</a></span></p></li></ul></div><div class="section" id="change-0.7.0b4-sqlite"><h3><span class="yiyi-st" id="yiyi-1199">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.7.0b4-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b4-24"><span class="yiyi-st" id="yiyi-1200"><span class="target" id="change-3d3d5c73e15d038b45b311224716fa7b"><strong>[sqlite] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x521B;&#x5EFA;&#x4E3A;&#x201C;REFERENCES <tablename>&#x201D;&#x800C;&#x6CA1;&#x6709;&#x5217;&#x540D;&#x7684;&#x5916;&#x952E;&#x53CD;&#x6620;&#x5931;&#x8D25;&#x7684;&#x95EE;&#x9898;&#x3002;  T2&gt;</tablename></span><span class="yiyi-st" id="yiyi-1201">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-3d3d5c73e15d038b45b311224716fa7b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1202">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2115">&#xFF03;2115</a></span></p></li></ul></div><div class="section" id="change-0.7.0b4-oracle"><h3><span class="yiyi-st" id="yiyi-1203">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.7.0b4-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b4-25"><span class="yiyi-st" id="yiyi-1204"><span class="target" id="change-a04f9e54c60f2a5d5a0591e7e0b563e2"><strong>[oracle] </strong></span>Using column names that would require quotes for the column itself or for a name-generated bind parameter, such as names with special characters, underscores, non-ascii characters, now properly translate bind parameter keys when talking to cx_oracle. </span><span class="yiyi-st" id="yiyi-1205">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-a04f9e54c60f2a5d5a0591e7e0b563e2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1206">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2100">&#xFF03;2100</a></span></p></li><li><p id="change-0.7.0b4-26"><span class="yiyi-st" id="yiyi-1207"><span class="target" id="change-b3b1ce9d18a4f1b765507ed4c82f7f4d"><strong>[oracle] </strong></span>Oracle dialect adds use_binds_for_limits=False create_engine() flag, will render the LIMIT/OFFSET values inline instead of as binds, reported to modify the execution plan used by Oracle. </span><span class="yiyi-st" id="yiyi-1208">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-b3b1ce9d18a4f1b765507ed4c82f7f4d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1209">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2116">&#xFF03;2116</a></span></p></li></ul></div><div class="section" id="change-0.7.0b4-misc"><h3><span class="yiyi-st" id="yiyi-1210">&#x6742;&#x9879;<a class="headerlink" href="#change-0.7.0b4-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b4-27"><span class="yiyi-st" id="yiyi-1211"><span class="target" id="change-57e3cb1dc539a3540bd8469dd0663039"><strong>[types] </strong></span> REAL&#x5DF2;&#x6DFB;&#x52A0;&#x5230;&#x6838;&#x5FC3;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1212">Postgresql&#xFF0C;SQL Server&#xFF0C;MySQL&#xFF0C;SQLite&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-1213">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;SQL Server&#x548C;MySQL&#x7248;&#x672C;&#x4E2D;&#x589E;&#x52A0;&#x4E86;&#x989D;&#x5916;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x4E9B;&#x65B9;&#x8A00;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-57e3cb1dc539a3540bd8469dd0663039">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1214">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2081">&#xFF03;2081</a></span></p></li><li><p id="change-0.7.0b4-28"><span class="yiyi-st" id="yiyi-1215"><span class="target" id="change-d497389785db3672fe86a6119a68b1ab"><strong>[types] </strong></span>&#x6DFB;&#x52A0;@ event.listens_for()&#x88C5;&#x9970;&#x5668;&#xFF0C;&#x7ED9;&#x5B9A;&#x76EE;&#x6807;+&#x4E8B;&#x4EF6;&#x540D;&#x79F0;&#xFF0C;&#x5C06;&#x88C5;&#x9970;&#x51FD;&#x6570;&#x4F5C;&#x4E3A;&#x4FA6;&#x542C;&#x5668;&#x5E94;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d497389785db3672fe86a6119a68b1ab">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1216">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2106">&#xFF03;2106</a></span></p></li><li><p id="change-0.7.0b4-29"><span class="yiyi-st" id="yiyi-1217">&#x73B0;&#x5728;&#xFF0C;AssertionPool&#x5B58;&#x50A8;&#x56DE;&#x6EAF;&#x6307;&#x793A;&#x5F53;&#x524D;&#x68C0;&#x51FA;&#x7684;&#x8FDE;&#x63A5;&#x88AB;&#x83B7;&#x53D6;&#x7684;&#x4F4D;&#x7F6E;&#xFF1B; <span class="target" id="change-af3a34c122e1b93c7637b389b5c8dca8"><strong>[pool] </strong></span>&#x6B64;&#x56DE;&#x6EAF;&#x62A5;&#x544A;&#x5728;&#x7B2C;&#x4E8C;&#x6B21;&#x5E76;&#x53D1;&#x7ED3;&#x8D26;&#x65F6;&#x4EA7;&#x751F;&#x7684;&#x65AD;&#x8A00;&#x4E2D;&#xFF1B;&#x793C;&#x8C8C;Gunnlaugur Briem <a class="changeset-link headerlink reference internal" href="#change-af3a34c122e1b93c7637b389b5c8dca8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1218">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2103">&#xFF03;2103</a></span></p></li><li><p id="change-0.7.0b4-30"><span class="yiyi-st" id="yiyi-1219"><span class="target" id="change-0babcdca864d1007baf6c858bdf0377f"><strong>[pool] </strong></span>The &#x201C;pool.manage&#x201D; feature doesn&#x2019;t use pickle anymore to hash the arguments for each pool.<a class="changeset-link headerlink reference internal" href="#change-0babcdca864d1007baf6c858bdf0377f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b4-31"><span class="yiyi-st" id="yiyi-1220"><span class="target" id="change-846e0f46d0f5a9d667fe57b1d7c73355"><strong>[documentation] </strong></span>&#x8BB0;&#x5F55;&#x7684;SQLite&#x65E5;&#x671F;/&#x65F6;&#x95F4;/&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1221">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-846e0f46d0f5a9d667fe57b1d7c73355">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1222">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2029">&#xFF03;2029</a></span></p></li><li><p id="change-0.7.0b4-32"><span class="yiyi-st" id="yiyi-1223"><span class="target" id="change-f0da43d53108c83663cf5c8421677f79"><strong>[documentation] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x53EF;&#x53D8;&#x6269;&#x5C55;&#x6587;&#x6863;&#xFF0C;&#x4EE5;&#x663E;&#x793A;&#x6B63;&#x786E;&#x7684;&#x7C7B;&#x578B;&#x5173;&#x8054;&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f0da43d53108c83663cf5c8421677f79">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1224">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2118">&#xFF03;2118</a></span></p></li></ul></div></div><div class="section" id="change-0.7.0b3"><h2><span class="yiyi-st" id="yiyi-1226">0.7.0b3 <a class="headerlink" href="#change-0.7.0b3" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1302">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2011&#x5E74;3&#x6708;20&#x65E5;</span><div class="section" id="change-0.7.0b3-general"><h3><span class="yiyi-st" id="yiyi-1227">&#x4E00;&#x822C;<a class="headerlink" href="#change-0.7.0b3-general" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b3-0"><span class="yiyi-st" id="yiyi-1228"><span class="target" id="change-5612722a30cc5802a707b0c00967f91f"><strong>[general] </strong></span>&#x5728;Pypy&#x4E0B;&#x8FD0;&#x884C;&#x65F6;&#x5BF9;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x6709;&#x5F88;&#x591A;&#x4FEE;&#x6B63;&#xFF08;&#x793C;&#x8C8C;Alex Gaynor&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5612722a30cc5802a707b0c00967f91f">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.0b3-orm"><h3><span class="yiyi-st" id="yiyi-1229">ORM <a class="headerlink" href="#change-0.7.0b3-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b3-1"><span class="yiyi-st" id="yiyi-1230"><span class="target" id="change-b00ce7472b8519195eaddc530dcd0f9e"><strong>[orm] </strong></span>&#x66F4;&#x6539;&#x4E86;query.count()&#x7684;&#x5E95;&#x5C42;&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-1231">query.count()&#x73B0;&#x5728;&#x5728;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x662F;&#x7CBE;&#x786E;&#x7684;&#xFF1A;</span></p><blockquote><div><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-1232">&#x67E5;&#x8BE2;&#x3002;</span></dt><dd><span class="yiyi-st" id="yiyi-1233">from_self&#xFF08;func.count&#xFF08;literal_column&#xFF08;&#x201C;1&#x201D;&#xFF09;&#xFF09;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-1234">&#x6807;()</span></dd></dl></div></blockquote><p><span class="yiyi-st" id="yiyi-1235">&#x5373;&#xFF0C;&#x201C;&#x4ECE;&#xFF08;<full query="">&#xFF09;&#x201D;&#x9009;&#x62E9;&#x8BA1;&#x6570;&#xFF08;1&#xFF09;&#x201C;&#x3002;  T0&gt;</full></span><span class="yiyi-st" id="yiyi-1236">&#x8FD9;&#x4F1A;&#x5728;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#x4EA7;&#x751F;&#x5B50;&#x67E5;&#x8BE2;&#xFF0C;&#x4F46;&#x5927;&#x5927;&#x7B80;&#x5316;&#x4E86;&#x4E4B;&#x524D;&#x5C1D;&#x8BD5;&#x6267;&#x884C;&#x7684;&#x6240;&#x6709;&#x731C;&#x6D4B;count()&#xFF0C;&#x5728;&#x8BB8;&#x591A;&#x60C5;&#x51B5;&#x4E0B;&#x4ECD;&#x7136;&#x4F1A;&#x5931;&#x8D25;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5F53;&#x6D89;&#x53CA;&#x5230;&#x8868;&#x8FDE;&#x63A5;&#x548C;&#x5176;&#x4ED6;&#x8FDE;&#x63A5;&#x65F6;&#x3002;</span><span class="yiyi-st" id="yiyi-1237">&#x5982;&#x679C;&#x4E3A;&#x5176;&#x4ED6;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x7684;&#x8BA1;&#x6570;&#x751F;&#x6210;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x786E;&#x5B9E;&#x662F;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;query&#xFF08;func.count()&#xFF09;&#x4F5C;&#x4E3A;&#x4F18;&#x5316;&#x3002;</span></p><span class="yiyi-st" id="yiyi-1239"> <a class="changeset-link headerlink reference internal" href="#change-b00ce7472b8519195eaddc530dcd0f9e">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-1238">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2093">&#xFF03;2093</a></span></p></li><li><p id="change-0.7.0b3-2"><span class="yiyi-st" id="yiyi-1240"><span class="target" id="change-7d31abf822a2e7e64b102f9796997f9b"><strong>[orm] </strong></span>&#x5728;&#x8FED;&#x4EE3;&#x671F;&#x95F4;&#x5BF9;&#x7F55;&#x89C1;weakref&#x56DE;&#x8C03;&#x7684;&#x6807;&#x8BC6;&#x6620;&#x5C04;&#x8FDB;&#x884C;&#x4E86;&#x4E00;&#x4E9B;&#x66F4;&#x6539;&#x3002;</span><span class="yiyi-st" id="yiyi-1241">&#x4E92;&#x65A5;&#x4F53;&#x5DF2;&#x88AB;&#x5220;&#x9664;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x663E;&#x7136;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x91CD;&#x5165;&#xFF08;&#x5373;&#x5728;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x4E2D;&#xFF09;&#x6B7B;&#x9501;&#xFF0C;&#x4E5F;&#x8BB8;&#x5F53;gc&#x5728;&#x8FED;&#x4EE3;&#x70B9;&#x6536;&#x96C6;&#x5BF9;&#x8C61;&#x4EE5;&#x83B7;&#x5F97;&#x66F4;&#x591A;&#x5185;&#x5B58;&#x65F6;&#x3002;</span><span class="yiyi-st" id="yiyi-1242">&#x5E0C;&#x671B;&#x201C;&#x8FED;&#x4EE3;&#x8FC7;&#x7A0B;&#x4E2D;&#x5B57;&#x5178;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x201D;&#x5C06;&#x975E;&#x5E38;&#x7F55;&#x89C1;&#xFF0C;&#x56E0;&#x4E3A;&#x8FED;&#x4EE3;&#x65B9;&#x6CD5;&#x5728;&#x5185;&#x90E8;&#x83B7;&#x53D6;&#x5355;&#x4E2A;values()&#x8C03;&#x7528;&#x4E2D;&#x7684;&#x5B8C;&#x6574;&#x5BF9;&#x8C61;&#x5217;&#x8868;&#x3002;</span><span class="yiyi-st" id="yiyi-1243">&#x6CE8;&#x610F;0.6.7&#x5728;&#x8FD9;&#x91CC;&#x6709;&#x4E00;&#x4E2A;&#x66F4;&#x4FDD;&#x5B88;&#x7684;&#x4FEE;&#x590D;&#xFF0C;&#x5B83;&#x4ECD;&#x7136;&#x4FDD;&#x6301;&#x4E92;&#x65A5;&#x4F53;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7d31abf822a2e7e64b102f9796997f9b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1244">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2087">&#xFF03;2087</a></span></p></li><li><p id="change-0.7.0b3-3"><span class="yiyi-st" id="yiyi-1245"><span class="target" id="change-bfed6815f260e8ac2239597807031e35"><strong>[orm] </strong></span>A tweak to the unit of work causes it to order the flush along relationship() dependencies even if the given objects don&#x2019;t have any inter-attribute references in memory, which was the behavior in 0.5 and earlier, so a flush of Parent/Child with only foreign key/primary key set will succeed. </span><span class="yiyi-st" id="yiyi-1246">&#x5728;&#x4FDD;&#x6301;0.6&#x6216;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x8FD9;&#x4E0D;&#x4F1A;&#x5728;flush&#x4E2D;&#x4EA7;&#x751F;&#x5927;&#x91CF;&#x65E0;&#x7528;&#x7684;&#x5185;&#x90E8;&#x4F9D;&#x8D56;&#x6027;&#x7ED3;&#x6784;&#xFF0C;&#x800C;&#x8FD9;&#x4E9B;&#x5185;&#x90E8;&#x4F9D;&#x8D56;&#x6027;&#x7ED3;&#x6784;&#x5E76;&#x4E0D;&#x5BF9;&#x5E94;&#x4E8E;&#x5F53;&#x524D;flush&#x4E2D;&#x5B9E;&#x9645;&#x7684;&#x72B6;&#x6001;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bfed6815f260e8ac2239597807031e35">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1247">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2082">&#xFF03;2082</a></span></p></li><li><p id="change-0.7.0b3-4"><span class="yiyi-st" id="yiyi-1248"><span class="target" id="change-f888621663e752a17e10e531c6e70078"><strong>[orm] </strong></span>&#x6539;&#x8FDB;&#x4E86;&#x4EC5;&#x5F53;&#x4F7F;&#x7528;&#x52A0;&#x8F7D;&#x5668;&#x9009;&#x9879;&#xFF08;&#x901A;&#x5E38;&#x4E0D;&#x6B63;&#x786E;&#xFF09;&#x67E5;&#x8BE2;&#x4EC5;&#x5217;&#x5B9E;&#x4F53;&#x65F6;&#x51FA;&#x73B0;&#x7684;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#xFF0C;&#x5176;&#x4E2D;&#x7236;&#x5B9E;&#x4F53;&#x4E0D;&#x5B8C;&#x5168;&#x5B58;&#x5728;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f888621663e752a17e10e531c6e70078">&#xB6; t2 &gt;</a></span></p><p><span class="yiyi-st" id="yiyi-1249">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2069">&#xFF03;2069</a></span></p></li><li><p id="change-0.7.0b3-5"><span class="yiyi-st" id="yiyi-1250"><span class="target" id="change-691e4dcace5092b3faa9e88301875a19"><strong>[orm] </strong></span>Fixed bug in query.options() whereby a path applied to a lazyload using string keys could overlap a same named attribute on the wrong entity. </span><span class="yiyi-st" id="yiyi-1251">&#x6CE8;&#x610F;0.6.7&#x5BF9;&#x6B64;&#x6709;&#x4E00;&#x4E2A;&#x66F4;&#x4FDD;&#x5B88;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-691e4dcace5092b3faa9e88301875a19">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1252">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2098">&#xFF03;2098</a></span></p></li></ul></div><div class="section" id="change-0.7.0b3-engine"><h3><span class="yiyi-st" id="yiyi-1253">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.7.0b3-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b3-6"><span class="yiyi-st" id="yiyi-1254"><span class="target" id="change-4687c720a53db425d7516c3325af024b"><strong>[engine] </strong></span>&#x4FEE;&#x6B63;&#x4E86;AssertionPool&#x56DE;&#x5F52;bug&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4687c720a53db425d7516c3325af024b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1255">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2097">&#xFF03;2097</a></span></p></li><li><p id="change-0.7.0b3-7"><span class="yiyi-st" id="yiyi-1256"><span class="target" id="change-dabd057d91cbbc1025be172472b16366"><strong>[engine] </strong></span>&#x5F53;&#x6307;&#x5B9A;&#x4E86;&#x65E0;&#x6548;&#x7684;&#x65B9;&#x8A00;&#x65F6;&#xFF0C;&#x5C06;&#x5F15;&#x53D1;&#x7684;&#x5F02;&#x5E38;&#x66F4;&#x6539;&#x4E3A;ArgumentError <a class="changeset-link headerlink reference internal" href="#change-dabd057d91cbbc1025be172472b16366">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1257">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2060">&#xFF03;2060</a></span></p></li></ul></div><div class="section" id="change-0.7.0b3-sql"><h3><span class="yiyi-st" id="yiyi-1258">SQL <a class="headerlink" href="#change-0.7.0b3-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b3-8"><span class="yiyi-st" id="yiyi-1259"><span class="target" id="change-887e7334d6776bfb4ec1c01f6fb67d4d"><strong>[sql] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x5B8C;&#x5168;&#x63CF;&#x8FF0;&#x6027;&#x7684;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#xFF0C;&#x5176;&#x4E2D;Column&#x662F;&#x5B50;&#x7C7B;&#xFF0C;_make_proxy()&#x7531;&#x4E8E;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;TypeError&#x800C;&#x65E0;&#x6CD5;&#x590D;&#x5236;&#x3002;</span><span class="yiyi-st" id="yiyi-1260">&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5E94;&#x8BE5;&#x5B9E;&#x73B0;_constructor&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-887e7334d6776bfb4ec1c01f6fb67d4d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b3-9"><span class="yiyi-st" id="yiyi-1261"><span class="target" id="change-8a8960a5ec68a2f3af6208fc1b25f4ec"><strong>[sql] </strong></span>&#x4E3A;&#x8868;&#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x4E8B;&#x4EF6;&#x201C;column_reflect&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1262">&#x5728;&#x5BF9;&#x8C61;&#x5728;&#x53CD;&#x5C04;&#x4E2D;&#x751F;&#x6210;&#x4E4B;&#x524D;&#x63A5;&#x6536;&#x5173;&#x4E8E;Column&#x7684;&#x4FE1;&#x606F;&#x5B57;&#x5178;&#xFF0C;&#x5E76;&#x5141;&#x8BB8;&#x4FEE;&#x6539;&#x5B57;&#x5178;&#x4EE5;&#x63A7;&#x5236;&#x751F;&#x6210;&#x7684;Column&#x7684;&#x5927;&#x90E8;&#x5206;&#x65B9;&#x9762;&#xFF0C;&#x5305;&#x62EC;&#x952E;&#xFF0C;&#x540D;&#x79F0;&#xFF0C;&#x7C7B;&#x578B;&#xFF0C;&#x4FE1;&#x606F;&#x5B57;&#x5178;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8a8960a5ec68a2f3af6208fc1b25f4ec">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1263">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2095">&#xFF03;2095</a></span></p></li><li><p id="change-0.7.0b3-10"><span class="yiyi-st" id="yiyi-1264"><span class="target" id="change-506927bdc1d6192b785d5111a36c591a"><strong>[sql] </strong></span>To help with the &#x201C;column_reflect&#x201D; event being used with specific Table objects instead of all instances of Table, listeners can be added to a Table object inline with its construction using a new argument &#x201C;listeners&#x201D;, a list of tuples of the form (<eventname>, <fn>), which are applied to the Table before the reflection process begins.<a class="changeset-link headerlink reference internal" href="#change-506927bdc1d6192b785d5111a36c591a">&#xB6;</a></fn></eventname></span></p><p></p></li><li><p id="change-0.7.0b3-11"><span class="yiyi-st" id="yiyi-1265"><span class="target" id="change-fc859aa865a01a4d305dee5ee7edc1ce"><strong>[sql] </strong></span>Added new generic function &#x201C;next_value()&#x201D;, accepts a Sequence object as its argument and renders the appropriate &#x201C;next value&#x201D; generation string on the target platform, if supported. </span><span class="yiyi-st" id="yiyi-1266">&#x8FD8;&#x5728;Sequence&#x672C;&#x8EAB;&#x63D0;&#x4F9B;&#x4E86;&#x201C;.next_value()&#x201D;&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fc859aa865a01a4d305dee5ee7edc1ce">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1267">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2085">&#xFF03;2085</a></span></p></li><li><p id="change-0.7.0b3-12"><span class="yiyi-st" id="yiyi-1268"><span class="target" id="change-c53fe13321aabe9b1255beeab83db25c"><strong>[sql] </strong></span>func.next_value() or other SQL expression can be embedded directly into an insert() construct, and if implicit or explicit &#x201C;returning&#x201D; is used in conjunction with a primary key column, the newly generated value will be present in result.inserted_primary_key.<a class="changeset-link headerlink reference internal" href="#change-c53fe13321aabe9b1255beeab83db25c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1269">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2084">&#xFF03;2084</a></span></p></li><li><p id="change-0.7.0b3-13"><span class="yiyi-st" id="yiyi-1270"><span class="target" id="change-5dcae35a30548ea7a895134981194320"><strong>[sql] </strong></span>&#x4E3A;ResultProxy&#x6DFB;&#x52A0;&#x8BBF;&#x95EE;&#x5668;&#x201C;returns_rows&#x201D;&#xFF0C;&#x201C;is_insert&#x201D;&#xFF08;&#x4E5F;&#x5728;0.6.7&#x4E2D;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-5dcae35a30548ea7a895134981194320">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1271">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2089">&#xFF03;2089</a></span></p></li></ul></div><div class="section" id="change-0.7.0b3-postgresql"><h3><span class="yiyi-st" id="yiyi-1272">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.7.0b3-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b3-14"><span class="yiyi-st" id="yiyi-1273"><span class="target" id="change-68e0e1286435ce3f342c12f928e020cb"><strong>[postgresql] </strong></span>&#x4E3A;postgresql&#x65B9;&#x8A00;&#x6DFB;&#x52A0;&#x4E86;RESERVED_WORDS&#x3002;</span><span class="yiyi-st" id="yiyi-1274">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-68e0e1286435ce3f342c12f928e020cb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1275">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2092">&#xFF03;2092</a></span></p></li><li><p id="change-0.7.0b3-15"><span class="yiyi-st" id="yiyi-1276"><span class="target" id="change-d2a17779006167796e2a05814a64b40d"><strong>[postgresql] </strong></span>&#x56FA;&#x5B9A;BIT&#x7C7B;&#x578B;&#x4EE5;&#x5141;&#x8BB8;&#x201C;&#x957F;&#x5EA6;&#x201D;&#x53C2;&#x6570;&#xFF0C;&#x201C;&#x53D8;&#x5316;&#x201D;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-1277">&#x53CD;&#x601D;&#x4E5F;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-1278">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-d2a17779006167796e2a05814a64b40d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1279">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2073">&#xFF03;2073</a></span></p></li></ul></div><div class="section" id="change-0.7.0b3-mssql"><h3><span class="yiyi-st" id="yiyi-1280">MSSQL <a class="headerlink" href="#change-0.7.0b3-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b3-16"><span class="yiyi-st" id="yiyi-1281"><span class="target" id="change-1310d3a0d8b578fd7875434f5ccac9b5"><strong>[mssql] </strong></span>Rewrote the query used to get the definition of a view, typically when using the Inspector interface, to use sys.sql_modules instead of the information schema, thereby allowing views definitions longer than 4000 characters to be fully returned. </span><span class="yiyi-st" id="yiyi-1282">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-1310d3a0d8b578fd7875434f5ccac9b5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1283">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2071">&#xFF03;2071</a></span></p></li></ul></div><div class="section" id="change-0.7.0b3-firebird"><h3><span class="yiyi-st" id="yiyi-1284">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.7.0b3-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b3-17"><span class="yiyi-st" id="yiyi-1285"><span class="target" id="change-71fef9ae2d4a3fee911550e2dd3956b5"><strong>[firebird] </strong></span>&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;False&#xFF0C;create_engine()&#x4E0A;&#x7684;&#x201C;implicit_returning&#x201D;&#x6807;&#x5FD7;&#x5C06;&#x88AB;&#x63A5;&#x53D7;&#x3002;</span><span class="yiyi-st" id="yiyi-1286">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-71fef9ae2d4a3fee911550e2dd3956b5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1287">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2083">&#xFF03;2083</a></span></p></li></ul></div><div class="section" id="change-0.7.0b3-misc"><h3><span class="yiyi-st" id="yiyi-1288">&#x6742;&#x9879;<a class="headerlink" href="#change-0.7.0b3-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b3-18"><span class="yiyi-st" id="yiyi-1289"><span class="target" id="change-f2aa1ca45ecfe557dbce711ee18b7414"><strong>[declarative] </strong></span> __mapper_args__&#x4E2D;&#x4E0D;&#x662F;&#x201C;&#x53EF;&#x6563;&#x5217;&#x201D;&#x7684;&#x53C2;&#x6570;&#x4E0D;&#x4F1A;&#x88AB;&#x8BEF;&#x8BA4;&#x4E3A;&#x662F;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x7684;&#xFF0C;&#x53EF;&#x80FD;&#x5217;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-1290">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-f2aa1ca45ecfe557dbce711ee18b7414">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1291">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2091">&#xFF03;2091</a></span></p></li><li><p id="change-0.7.0b3-19"><span class="yiyi-st" id="yiyi-1292"><span class="target" id="change-048e59b99152e03dc94aece7d4a58bc5"><strong>[informix] </strong></span>&#x6DFB;&#x52A0;&#x4E86;RESERVED_WORDS informix&#x65B9;&#x8A00;&#x3002;</span><span class="yiyi-st" id="yiyi-1293">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-048e59b99152e03dc94aece7d4a58bc5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1294">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2092">&#xFF03;2092</a></span></p></li><li><p id="change-0.7.0b3-20"><span class="yiyi-st" id="yiyi-1295"><span class="target" id="change-0c37ff1205a5698e49e1cd702b6f6aab"><strong>[ext] </strong></span>The horizontal_shard ShardedSession class accepts the common Session argument &#x201C;query_cls&#x201D; as a constructor argument, to enable further subclassing of ShardedQuery. </span><span class="yiyi-st" id="yiyi-1296">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-0c37ff1205a5698e49e1cd702b6f6aab">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1297">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2090">&#xFF03;2090</a></span></p></li><li><p id="change-0.7.0b3-21"><span class="yiyi-st" id="yiyi-1298"><span class="target" id="change-c9056c5a1b48170ebc2ddf8226ec46b9"><strong>[examples] </strong></span>&#x66F4;&#x65B0;&#x4E86;&#x5173;&#x8054;&#xFF0C;&#x5173;&#x8054;&#x4EE3;&#x7406;&#x793A;&#x4F8B;&#x4EE5;&#x4F7F;&#x7528;&#x58F0;&#x660E;&#x5F0F;&#xFF0C;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x4F8B;&#x5B50;dict_of_sets_with_default.py&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x201C;&#x63A8;&#x9001;&#x5173;&#x8054;&#x4EE3;&#x7406;&#x201D;&#x7684;&#x4F8B;&#x5B50;<a class="changeset-link headerlink reference internal" href="#change-c9056c5a1b48170ebc2ddf8226ec46b9">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b3-22"><span class="yiyi-st" id="yiyi-1299"><span class="target" id="change-50d97717471ad817c432c80cce080947"><strong>[examples] </strong></span>&#x70E7;&#x676F;&#x7F13;&#x5B58;&#x793A;&#x4F8B;&#x5141;&#x8BB8;query_callable()&#x51FD;&#x6570;&#x7684;&#x201C;query_cls&#x201D;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-1300">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-50d97717471ad817c432c80cce080947">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1301">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2090">&#xFF03;2090</a></span></p></li></ul></div></div><div class="section" id="change-0.7.0b2"><h2><span class="yiyi-st" id="yiyi-1303">0.7.0b2 <a class="headerlink" href="#change-0.7.0b2" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1332">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2011&#x5E74;2&#x6708;19&#x65E5;</span><div class="section" id="change-0.7.0b2-orm"><h3><span class="yiyi-st" id="yiyi-1304">ORM <a class="headerlink" href="#change-0.7.0b2-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b2-0"><span class="yiyi-st" id="yiyi-1305"><span class="target" id="change-b274fba360c2b009eb105c6c3e69931c"><strong>[orm] </strong></span>Fixed bug whereby Session.merge() would call the load() event with one too few arguments.<a class="changeset-link headerlink reference internal" href="#change-b274fba360c2b009eb105c6c3e69931c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1306">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2053">&#xFF03;2053</a></span></p></li><li><p id="change-0.7.0b2-1"><span class="yiyi-st" id="yiyi-1307"><span class="target" id="change-5f74d0b93a75d1a035e5774a2f3efe4a"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x903B;&#x8F91;&#xFF0C;&#x7528;&#x4E8E;&#x9632;&#x6B62;MapperExtension&#x6216;SessionExtension&#x4E2D;&#x7684;&#x4E8B;&#x4EF6;&#x751F;&#x6210;&#x4E3A;&#x672A;&#x8986;&#x76D6;&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x751F;&#x6210;&#x4E0D;&#x6267;&#x884C;&#x4E8B;&#x4EF6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5f74d0b93a75d1a035e5774a2f3efe4a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1308">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2052">&#xFF03;2052</a></span></p></li></ul></div><div class="section" id="change-0.7.0b2-sql"><h3><span class="yiyi-st" id="yiyi-1309">SQL <a class="headerlink" href="#change-0.7.0b2-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b2-2"><span class="yiyi-st" id="yiyi-1310"><span class="target" id="change-dc2cf4dea9f417e9de9e08875f99a6e2"><strong>[sql] </strong></span>&#x5C06;EngineEvents&#x4E8B;&#x4EF6;&#x7C7B;&#x91CD;&#x547D;&#x540D;&#x4E3A;ConnectionEvents&#x3002;</span><span class="yiyi-st" id="yiyi-1311">&#x7531;&#x4E8E;&#x8FD9;&#x4E9B;&#x7C7B;&#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x88AB;&#x6700;&#x7EC8;&#x7528;&#x6237;&#x4EE3;&#x7801;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E25;&#x683C;&#x5730;&#x662F;&#x5BF9;&#x6700;&#x7EC8;&#x7528;&#x6237;&#x7684;&#x6587;&#x6863;&#x66F4;&#x6539;&#x3002;</span><span class="yiyi-st" id="yiyi-1312">&#x8FD8;&#x7B80;&#x5316;&#x4E86;&#x4E8B;&#x4EF6;&#x5982;&#x4F55;&#x94FE;&#x63A5;&#x5230;&#x5185;&#x90E8;&#x7684;&#x5F15;&#x64CE;&#x548C;&#x8FDE;&#x63A5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dc2cf4dea9f417e9de9e08875f99a6e2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1313">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2059">&#xFF03;2059</a></span></p></li><li><p id="change-0.7.0b2-3"><span class="yiyi-st" id="yiyi-1314"><span class="target" id="change-7299f4b7dbf53dbcd7da7f65a3155088"><strong>[sql] </strong></span>The Sequence() construct, when passed a MetaData() object via its &#x2018;metadata&#x2019; argument, will be included in CREATE/DROP statements within metadata.create_all() and metadata.drop_all(), including &#x201C;checkfirst&#x201D; logic.<a class="changeset-link headerlink reference internal" href="#change-7299f4b7dbf53dbcd7da7f65a3155088">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1315">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2055">&#xFF03;2055</a></span></p></li><li><p id="change-0.7.0b2-4"><span class="yiyi-st" id="yiyi-1316"><span class="target" id="change-226a1b45c1480947ae9cd710a9ea6b17"><strong>[sql] </strong></span>&#x5982;&#x679C;Column.references()&#x65B9;&#x6CD5;&#x6709;&#x4E00;&#x4E2A;&#x5916;&#x952E;&#x5B8C;&#x5168;&#x5F15;&#x7528;&#x7ED9;&#x5B9A;&#x5217;&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x5B83;&#x7684;&#x7236;&#x8868;&#xFF0C;&#x5219;&#x5B83;&#x8FD4;&#x56DE;True&#x3002;<a class="changeset-link headerlink reference internal" href="#change-226a1b45c1480947ae9cd710a9ea6b17">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1317">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2064">&#xFF03;2064</a></span></p></li></ul></div><div class="section" id="change-0.7.0b2-postgresql"><h3><span class="yiyi-st" id="yiyi-1318">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.7.0b2-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b2-5"><span class="yiyi-st" id="yiyi-1319"><span class="target" id="change-4b228a39709839285af0e98dcc00a2e5"><strong>[postgresql] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x4ECE;0.6&#x5F00;&#x59CB;&#x7684;&#x56DE;&#x5F52;&#xFF0C;&#x5176;&#x4E2D;SMALLINT&#x548C;BIGINT&#x7C7B;&#x578B;&#x90FD;&#x4F1A;&#x5728;&#x6574;&#x6570;PK&#x5217;&#x4E0A;&#x751F;&#x6210;SERIAL&#xFF0C;&#x800C;&#x4E0D;&#x662F;SMALLINT&#x548C;BIGSERIAL <a class="changeset-link headerlink reference internal" href="#change-4b228a39709839285af0e98dcc00a2e5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1320">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2065">&#xFF03;2065</a></span></p></li></ul></div><div class="section" id="change-0.7.0b2-misc"><h3><span class="yiyi-st" id="yiyi-1321">&#x6742;&#x9879;<a class="headerlink" href="#change-0.7.0b2-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b2-6"><span class="yiyi-st" id="yiyi-1322"><span class="target" id="change-c38fe2e3d383ffe42f0caca46aa19754"><strong>[declarative] </strong></span>&#x56FA;&#x5B9A;&#x56DE;&#x5F52;&#xFF0C;&#x5176;&#x4E2D;&#x5E26;&#x6709;&#x5185;&#x5D4C;&#x5217;&#x7684;&#x5BF9;&#x8C61;&#x7684;composite()&#x5C06;&#x65E0;&#x6CD5;&#x521D;&#x59CB;&#x5316;&#x3002;</span><span class="yiyi-st" id="yiyi-1323">Column&#x5BF9;&#x8C61;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x4E0E;composite()&#x6216;&#x5916;&#x90E8;&#x5185;&#x8054;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x540D;&#x79F0;&#x6216;&#x5BF9;&#x8C61;&#x5F15;&#x7528;&#x62C9;&#x5165;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c38fe2e3d383ffe42f0caca46aa19754">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1324">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2058">&#xFF03;2058</a></span></p></li><li><p id="change-0.7.0b2-7"><span class="yiyi-st" id="yiyi-1325"><span class="target" id="change-868f6a352dcb3c48154087013ea5446d"><strong>[declarative] </strong></span>&#x4FEE;&#x590D;&#x5F15;&#x7528;&#x65E7;&#x7684;@classproperty&#x540D;&#x79F0;&#x5F15;&#x7528;@declared_attr&#xFF08;&#x540C;&#x6837;&#x5728;0.6.7&#xFF09;&#x7684;&#x9519;&#x8BEF;&#x6D88;&#x606F;<a class="changeset-link headerlink reference internal" href="#change-868f6a352dcb3c48154087013ea5446d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1326">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2061">&#xFF03;2061</a></span></p></li><li><p id="change-0.7.0b2-8"><span class="yiyi-st" id="yiyi-1327"><span class="target" id="change-74177071c6a10f9bfc0211cbd13fd13b"><strong>[declarative] </strong></span> __table_args__&#x5143;&#x7EC4;&#x7ED3;&#x5C3E;&#x5904;&#x7684;&#x5B57;&#x5178;&#x73B0;&#x5728;&#x662F;&#x53EF;&#x9009;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-74177071c6a10f9bfc0211cbd13fd13b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1328">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1468">&#xFF03;1468</a></span></p></li><li><p id="change-0.7.0b2-9"><span class="yiyi-st" id="yiyi-1329"><span class="target" id="change-fbab34328d4fe6cc71b895aa96f6e969"><strong>[ext] </strong></span>Association proxy now has correct behavior for any(), has(), and contains() when proxying a many-to-one scalar attribute to a one-to-many collection (i.e. the reverse of the &#x2018;typical&#x2019; association proxy use case)<a class="changeset-link headerlink reference internal" href="#change-fbab34328d4fe6cc71b895aa96f6e969">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1330">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2054">&#xFF03;2054</a></span></p></li><li><p id="change-0.7.0b2-10"><span class="yiyi-st" id="yiyi-1331"><span class="target" id="change-5f4e8c1c67082ea05fef1c10cf1f5591"><strong>[examples] </strong></span>Beaker example now takes into account &#x2018;limit&#x2019; and &#x2018;offset&#x2019;, bind params within embedded FROM clauses (like when you use union() or from_self()) when generating a cache key.<a class="changeset-link headerlink reference internal" href="#change-5f4e8c1c67082ea05fef1c10cf1f5591">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.7.0b1"><h2><span class="yiyi-st" id="yiyi-1333">0.7.0b1 <a class="headerlink" href="#change-0.7.0b1" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1507">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2011&#x5E74;2&#x6708;12&#x65E5;&#x661F;&#x671F;&#x516D;</span><div class="section" id="change-0.7.0b1-general"><h3><span class="yiyi-st" id="yiyi-1334">&#x4E00;&#x822C;<a class="headerlink" href="#change-0.7.0b1-general" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b1-0"><span class="yiyi-st" id="yiyi-1335"><span class="target" id="change-c4d4e65ccf6d7de7dedaf8e334fd9d16"><strong>[general] </strong></span>&#x65B0;&#x7684;&#x4E8B;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x53D6;&#x4EE3;&#x6240;&#x6709;&#x6269;&#x5C55;&#x540D;&#xFF0C;&#x4FA6;&#x542C;&#x5668;&#x7B49;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c4d4e65ccf6d7de7dedaf8e334fd9d16">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1336">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1902">&#xFF03;1902</a></span></p></li><li><p id="change-0.7.0b1-1"><span class="yiyi-st" id="yiyi-1337"><span class="target" id="change-945982ae61324c2ad8e97d0b27c94438"><strong>[general] </strong></span>&#x8BB0;&#x5F55;&#x589E;&#x5F3A;<a class="changeset-link headerlink reference internal" href="#change-945982ae61324c2ad8e97d0b27c94438">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1338">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1926">&#xFF03;1926</a></span></p></li><li><p id="change-0.7.0b1-2"><span class="yiyi-st" id="yiyi-1339"><span class="target" id="change-f6989c0ecdc122204dd55da78db6a998"><strong>[general] </strong></span>&#x5B89;&#x88C5;&#x7A0B;&#x5E8F;&#x4E0D;&#x518D;&#x5B89;&#x88C5;&#x9F3B;&#x63D2;&#x4EF6;<a class="changeset-link headerlink reference internal" href="#change-f6989c0ecdc122204dd55da78db6a998">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1340">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1949">&#xFF03;1949</a></span></p></li><li><p id="change-0.7.0b1-3"><span class="yiyi-st" id="yiyi-1341"><span class="target" id="change-8789fcdc9fc591ffd61cdf382b03f1bf"><strong>[general] </strong></span> sys.modules&#x4E2D;&#x7684;&#x201C;sqlalchemy.exceptions&#x201D;&#x522B;&#x540D;&#x5DF2;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1342">&#x57FA;&#x672C;SQLA&#x4F8B;&#x5916;&#x53EF;&#x901A;&#x8FC7;&#x201C;from sqlalchemy import exc&#x201D;&#x83B7;&#x5F97;&#x3002;</span><span class="yiyi-st" id="yiyi-1343">&#x201C;exc&#x201D;&#x7684;&#x201C;&#x4F8B;&#x5916;&#x201D;&#x522B;&#x540D;&#x73B0;&#x5728;&#x4ECD;&#x7136;&#x4FDD;&#x7559;&#x5728;&#x201C;sqlalchemy&#x201D;&#x4E2D;&#xFF0C;&#x5B83;&#x53EA;&#x662F;&#x6CA1;&#x6709;&#x4FEE;&#x8865;&#x5230;sys.modules&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8789fcdc9fc591ffd61cdf382b03f1bf">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.7.0b1-orm"><h3><span class="yiyi-st" id="yiyi-1344">ORM <a class="headerlink" href="#change-0.7.0b1-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b1-4"><span class="yiyi-st" id="yiyi-1345"><span class="target" id="change-e2528c2304f18c2ce5f5394b38fd2415"><strong>[orm] </strong></span>&#x66F4;&#x7B80;&#x6D01;&#x7684;query.join&#x5F62;&#x5F0F;&#xFF08;target&#xFF0C;onclause&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-e2528c2304f18c2ce5f5394b38fd2415">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1346">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1923">&#xFF03;1923</a></span></p></li><li><p id="change-0.7.0b1-5"><span class="yiyi-st" id="yiyi-1347"><span class="target" id="change-7ede0cc31794c29e3305ea557cb017ce"><strong>[orm] </strong></span>&#x6DF7;&#x5408;&#x5C5E;&#x6027;&#xFF0C;implements / supersedes synonym()<a class="changeset-link headerlink reference internal" href="#change-7ede0cc31794c29e3305ea557cb017ce">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1348">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1903">&#xFF03;1903</a></span></p></li><li><p id="change-0.7.0b1-6"><span class="yiyi-st" id="yiyi-1349"><span class="target" id="change-5ff099f70239c548b3bc388c7870d61d"><strong>[orm] </strong></span>&#x91CD;&#x5199;&#x7EC4;&#x5408;<a class="changeset-link headerlink reference internal" href="#change-5ff099f70239c548b3bc388c7870d61d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1350">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2008">&#xFF03;2008</a></span></p></li><li><p id="change-0.7.0b1-7"><span class="yiyi-st" id="yiyi-1351"><span class="target" id="change-9933b5cedb94b7f32e325d86e65a33ab"><strong>[orm] </strong></span>&#x7A81;&#x53D8;&#x4E8B;&#x4EF6;&#x6269;&#x5C55;&#xFF0C;&#x53D6;&#x4EE3;&#x201C;mutable = True&#x201D;</span></p><div class="admonition seealso"><p class="first admonition-title"><span class="yiyi-st" id="yiyi-1352">&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;</span></p><p class="last"><span class="yiyi-st" id="yiyi-1353"><a class="reference internal" href="migration_07.html#migration-mutation-extension"><span>Mutation event extension, supersedes &#x201C;mutable=True&#x201D;</span></a></span></p></div><span class="yiyi-st" id="yiyi-1354"> <a class="changeset-link headerlink reference internal" href="#change-9933b5cedb94b7f32e325d86e65a33ab">&#xB6;</a></span><p></p></li><li><p id="change-0.7.0b1-8"><span class="yiyi-st" id="yiyi-1355"><span class="target" id="change-452cd1cadc41336c00209963c1a0efec"><strong>[orm] </strong></span>&#x9ED8;&#x8BA4;&#x5173;&#x95ED;PickleType&#x548C;ARRAY&#x53EF;&#x53D8;&#x6027;<a class="changeset-link headerlink reference internal" href="#change-452cd1cadc41336c00209963c1a0efec">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1356">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1980">&#xFF03;1980</a></span></p></li><li><p id="change-0.7.0b1-9"><span class="yiyi-st" id="yiyi-1357"><span class="target" id="change-fa249f9f1f872acaf7380e30c7058dfb"><strong>[orm] </strong></span>&#x7B80;&#x5316;&#x7684;polymorphic_on&#x8D4B;&#x503C;<a class="changeset-link headerlink reference internal" href="#change-fa249f9f1f872acaf7380e30c7058dfb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1358">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1895">&#xFF03;1895</a></span></p></li><li><p id="change-0.7.0b1-10"><span class="yiyi-st" id="yiyi-1359"><span class="target" id="change-65fcae8bce879fde267e5bc2176105d2"><strong>[orm] </strong></span>&#x5141;&#x8BB8;&#x6CA1;&#x6709;&#x7236;&#x6BCD;&#x7684;&#x5B64;&#x513F;&#x8FDB;&#x884C;&#x51B2;&#x6D17;<a class="changeset-link headerlink reference internal" href="#change-65fcae8bce879fde267e5bc2176105d2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1360">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1912">&#xFF03;1912</a></span></p></li><li><p id="change-0.7.0b1-11"><span class="yiyi-st" id="yiyi-1361"><span class="target" id="change-dd6608b232dab23abed7950caa675c94"><strong>[orm] </strong></span>&#x5728;autocommit = True&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x63D0;&#x4EA4;&#x4E4B;&#x524D;&#x8C03;&#x6574;&#x7684;&#x5237;&#x65B0;&#x8BB0;&#x5E10;&#x6B65;&#x9AA4;&#x53D1;&#x751F;&#x3002;</span><span class="yiyi-st" id="yiyi-1362">&#x8FD9;&#x5141;&#x8BB8;autocommit = True&#x4E0E;expire_on_commit = True&#x4E00;&#x8D77;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#xFF0C;&#x5E76;&#x4E14;&#x8FD8;&#x5141;&#x8BB8;post-flush&#x4F1A;&#x8BDD;&#x6302;&#x94A9;&#x5728;&#x4E0E;autocommit = False&#x76F8;&#x540C;&#x7684;&#x4E8B;&#x52A1;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x64CD;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dd6608b232dab23abed7950caa675c94">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1363">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2041">&#xFF03;2041</a></span></p></li><li><p id="change-0.7.0b1-12"><span class="yiyi-st" id="yiyi-1364"><span class="target" id="change-586a512ca20f542fb0b3dc90624687c0"><strong>[orm] </strong></span>&#x6536;&#x96C6;&#x6210;&#x5458;&#x65F6;&#x4EA7;&#x751F;&#x7684;&#x8B66;&#x544A;&#xFF0C;&#x6807;&#x91CF;&#x6307;&#x793A;&#x4E0D;&#x5C5E;&#x4E8E;flush <a class="changeset-link headerlink reference internal" href="#change-586a512ca20f542fb0b3dc90624687c0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1365">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1973">&#xFF03;1973</a></span></p></li><li><p id="change-0.7.0b1-13"><span class="yiyi-st" id="yiyi-1366"><span class="target" id="change-de6d90bab81e4535b80a9aaec843aae3"><strong>[orm] </strong></span>&#x975E;<cite>&#x8868;</cite>  - &#x884D;&#x751F;&#x7684;&#x7ED3;&#x6784;&#x53EF;&#x4EE5;&#x6620;&#x5C04;<a class="changeset-link headerlink reference internal" href="#change-de6d90bab81e4535b80a9aaec843aae3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1367">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1876">&#xFF03;1876</a></span></p></li><li><p id="change-0.7.0b1-14"><span class="yiyi-st" id="yiyi-1368"><span class="target" id="change-9f98e54eee44096194e20016e063a63f"><strong>[orm] </strong></span>&#x67E5;&#x8BE2;&#x6539;&#x8FDB;<a class="changeset-link headerlink reference internal" href="#change-9f98e54eee44096194e20016e063a63f">&#xB6;</a>&#x4E2D;&#x7684;&#x5143;&#x7EC4;&#x6807;&#x7B7E;&#x540D;&#x79F0;</span></p><p><span class="yiyi-st" id="yiyi-1369">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1942">&#xFF03;1942</a></span></p></li><li><p id="change-0.7.0b1-15"><span class="yiyi-st" id="yiyi-1370"><span class="target" id="change-d7e002896ff0028a50064856662321b7"><strong>[orm] </strong></span>&#x6620;&#x200B;&#x200B;&#x5C04;&#x5217;&#x5C5E;&#x6027;&#x9996;&#x5148;&#x5F15;&#x7528;&#x6700;&#x5177;&#x4F53;&#x7684;&#x5217;<a class="changeset-link headerlink reference internal" href="#change-d7e002896ff0028a50064856662321b7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1371">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1892">&#xFF03;1892</a></span></p></li><li><p id="change-0.7.0b1-16"><span class="yiyi-st" id="yiyi-1372"><span class="target" id="change-f59d4965cb5e9d7d9ba76a7bae137d5d"><strong>[orm] </strong></span>&#x6620;&#x200B;&#x200B;&#x5C04;&#x5230;&#x4E24;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x540C;&#x540D;&#x5217;&#x7684;&#x8FDE;&#x63A5;&#x9700;&#x8981;&#x663E;&#x5F0F;&#x58F0;&#x660E;<a class="changeset-link headerlink reference internal" href="#change-f59d4965cb5e9d7d9ba76a7bae137d5d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1373">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1896">&#xFF03;1896</a></span></p></li><li><p id="change-0.7.0b1-17"><span class="yiyi-st" id="yiyi-1374"><span class="target" id="change-13e4c4103063e6adbaaedc9649f9c1fe"><strong>[orm] </strong></span>Mapper requires that polymorphic_on column be present in the mapped selectable<a class="changeset-link headerlink reference internal" href="#change-13e4c4103063e6adbaaedc9649f9c1fe">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1375">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1875">&#xFF03;1875</a></span></p></li><li><p id="change-0.7.0b1-18"><span class="yiyi-st" id="yiyi-1376"><span class="target" id="change-2dabcc2d64dee7e464a3d9ff742f95b4"><strong>[orm] </strong></span> compile_mappers()&#x91CD;&#x547D;&#x540D;&#x4E3A;configure_mappers()&#xFF0C;&#x7B80;&#x5316;&#x4E86;&#x914D;&#x7F6E;&#x5185;&#x90E8;<a class="changeset-link headerlink reference internal" href="#change-2dabcc2d64dee7e464a3d9ff742f95b4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1377">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1966">&#xFF03;1966</a></span></p></li><li><p id="change-0.7.0b1-19"><span class="yiyi-st" id="yiyi-1378"><span class="target" id="change-60d1bd5cee4037cb48cb3ee6c86a3435"><strong>[orm] </strong></span>the aliased() function, if passed a SQL FromClause element (i.e. not a mapped class), will return element.alias() instead of raising an error on AliasedClass.<a class="changeset-link headerlink reference internal" href="#change-60d1bd5cee4037cb48cb3ee6c86a3435">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1379">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2018">&#xFF03;2018</a></span></p></li><li><p id="change-0.7.0b1-20"><span class="yiyi-st" id="yiyi-1380"><span class="target" id="change-dc30e7fb7d7d28808f8ca91367130826"><strong>[orm] </strong></span>Session.merge() will check the version id of the incoming state against that of the database, assuming the mapping uses version ids and incoming state has a version_id assigned, and raise StaleDataError if they don&#x2019;t match.<a class="changeset-link headerlink reference internal" href="#change-dc30e7fb7d7d28808f8ca91367130826">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1381">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2027">&#xFF03;2027</a></span></p></li><li><p id="change-0.7.0b1-21"><span class="yiyi-st" id="yiyi-1382"><span class="target" id="change-191d0bb9d2c5b9df0b3ca39410d088ea"><strong>[orm] </strong></span> Session.connection()&#xFF0C;Session.execute()&#x63A5;&#x53D7;&apos;bind&apos;&#xFF0C;&#x4EE5;&#x5141;&#x8BB8;&#x6267;&#x884C;/&#x8FDE;&#x63A5;&#x64CD;&#x4F5C;&#x663E;&#x5F0F;&#x5730;&#x53C2;&#x4E0E;&#x5F15;&#x64CE;&#x7684;&#x6253;&#x5F00;&#x4E8B;&#x52A1;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-191d0bb9d2c5b9df0b3ca39410d088ea">&#xB6; t2 &gt;</a></span></p><p><span class="yiyi-st" id="yiyi-1383">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1996">&#xFF03;1996</a></span></p></li><li><p id="change-0.7.0b1-22"><span class="yiyi-st" id="yiyi-1384"><span class="target" id="change-ed301a804b81ba5c8f397eed63b643a8"><strong>[orm] </strong></span>Query.join(), Query.outerjoin(), eagerload(), eagerload_all(), others no longer allow lists of attributes as arguments (i.e. option([x, y, z]) form, deprecated since 0.5)<a class="changeset-link headerlink reference internal" href="#change-ed301a804b81ba5c8f397eed63b643a8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b1-23"><span class="yiyi-st" id="yiyi-1385"><span class="target" id="change-74d839b75f6ed3070bb2089114ec518d"><strong>[orm] </strong></span>&#x5220;&#x9664;&#x4E86;ScopedSession.mapper&#xFF08;&#x81EA;0.5&#x5F00;&#x59CB;&#x5F03;&#x7528;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-74d839b75f6ed3070bb2089114ec518d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b1-24"><span class="yiyi-st" id="yiyi-1386"><span class="target" id="change-220a91af357bdbb12a4ddac587ad3bc6"><strong>[orm] </strong></span>&#x6C34;&#x5E73;&#x5206;&#x7247;&#x67E5;&#x8BE2;&#x5C06;&apos;shard_id&apos;&#x653E;&#x7F6E;&#x5728;context.attributes&#x4E2D;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x201C;load()&#x201D;&#x4E8B;&#x4EF6;&#x8BBF;&#x95EE;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-220a91af357bdbb12a4ddac587ad3bc6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1387">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2031">&#xFF03;2031</a></span></p></li><li><p id="change-0.7.0b1-25"><span class="yiyi-st" id="yiyi-1388"><span class="target" id="change-1d6862171baa025c434e161124856982"><strong>[orm] </strong></span>&#x8DE8;&#x591A;&#x4E2A;&#x5B9E;&#x4F53;&#x7684;&#x5355;&#x4E2A;contains_eager()&#x8C03;&#x7528;&#x5C06;&#x6307;&#x793A;&#x6CBF;&#x8BE5;&#x8DEF;&#x5F84;&#x52A0;&#x8F7D;&#x7684;&#x6240;&#x6709;&#x96C6;&#x5408;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6BCF;&#x4E2A;&#x7AEF;&#x70B9;&#x90FD;&#x8981;&#x6C42;&#x4E0D;&#x540C;&#x7684;contains_eager()&#x8C03;&#x7528;&#xFF08;&#x8FD9;&#x4ECE;&#x672A;&#x6B63;&#x786E;&#x8BB0;&#x5F55;&#x8FC7;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-1d6862171baa025c434e161124856982">&#xB6; T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-1389">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2032">&#xFF03;2032</a></span></p></li><li><p id="change-0.7.0b1-26"><span class="yiyi-st" id="yiyi-1390"><span class="target" id="change-eb3d1a3aeabd2864f9d545834fcd8608"><strong>[orm] </strong></span>The &#x201C;name&#x201D; field used in orm.aliased() now renders in the resulting SQL statement.<a class="changeset-link headerlink reference internal" href="#change-eb3d1a3aeabd2864f9d545834fcd8608">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b1-27"><span class="yiyi-st" id="yiyi-1391"><span class="target" id="change-0cf6ed342d196434add59c6825ec0e14"><strong>[orm] </strong></span>&#x4F1A;&#x8BDD;weak_instance_dict = False&#x5DF2;&#x5F03;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0cf6ed342d196434add59c6825ec0e14">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1392">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1473">&#xFF03;1473</a></span></p></li><li><p id="change-0.7.0b1-28"><span class="yiyi-st" id="yiyi-1393"><span class="target" id="change-1ee59f0d4bd130bb4f4e3b46008c4f81"><strong>[orm] </strong></span></span><span class="yiyi-st" id="yiyi-1394">&#x662F;0.6.6&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1ee59f0d4bd130bb4f4e3b46008c4f81">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1395">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2046">&#xFF03;2046</a></span></p></li><li><p id="change-0.7.0b1-29"><span class="yiyi-st" id="yiyi-1396"><span class="target" id="change-04563633a2d6f4ae487b736e7b6940fc"><strong>[orm] </strong></span>Query.distinct() now accepts column expressions as *args, interpreted by the Postgresql dialect as DISTINCT ON (<expr>).<a class="changeset-link headerlink reference internal" href="#change-04563633a2d6f4ae487b736e7b6940fc">&#xB6;</a></expr></span></p><p><span class="yiyi-st" id="yiyi-1397">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1069">&#xFF03;1069</a></span></p></li><li><p id="change-0.7.0b1-30"><span class="yiyi-st" id="yiyi-1398"><span class="target" id="change-38da3ba0231e5a2247b5a85e512c64af"><strong>[orm] </strong></span>Additional tuning to &#x201C;many-to-one&#x201D; relationship loads during a flush(). </span><span class="yiyi-st" id="yiyi-1399">&#x7248;&#x672C;0.6.6&#xFF08;[ticket&#xFF1A;2002]&#xFF09;&#x7684;&#x66F4;&#x6539;&#x8981;&#x6C42;&#x5728;&#x5237;&#x65B0;&#x671F;&#x95F4;&#x53EF;&#x80FD;&#x4F1A;&#x53D1;&#x751F;&#x66F4;&#x591A;&#x201C;&#x4E0D;&#x5FC5;&#x8981;&#x201D;&#x7684;m2o&#x52A0;&#x8F7D;&#x3002;</span><span class="yiyi-st" id="yiyi-1400">&#x989D;&#x5916;&#x7684;&#x52A0;&#x8F7D;&#x6A21;&#x5F0F;&#x5DF2;&#x88AB;&#x6DFB;&#x52A0;&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;&#x8FD9;&#x4E2A;&#x7279;&#x5B9A;&#x7528;&#x4F8B;&#x4E2D;&#x53D1;&#x51FA;&#x7684;SQL&#x88AB;&#x4FEE;&#x526A;&#x56DE;&#x6765;&#xFF0C;&#x540C;&#x65F6;&#x4ECD;&#x7136;&#x68C0;&#x7D22;flush&#x6240;&#x9700;&#x7684;&#x4FE1;&#x606F;&#x4EE5;&#x907F;&#x514D;&#x9057;&#x6F0F;&#x4EFB;&#x4F55;&#x4E1C;&#x897F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-38da3ba0231e5a2247b5a85e512c64af"></a></span></p><p><span class="yiyi-st" id="yiyi-1401">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2049">&#xFF03;2049</a></span></p></li><li><p id="change-0.7.0b1-31"><span class="yiyi-st" id="yiyi-1402"><span class="target" id="change-cd5eacd2ab6529a6aced3f60d15768f1"><strong>[orm] </strong></span>&#x4F20;&#x9012;&#x7ED9;attributes.get_history()&#x7684;&#x201C;passive&#x201D;&#x7684;&#x503C;&#x5E94;&#x8BE5;&#x662F;&#x5C5E;&#x6027;&#x5305;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x5E38;&#x91CF;&#x4E4B;&#x4E00;&#x3002;</span><span class="yiyi-st" id="yiyi-1403">&#x53D1;&#x9001;True&#x6216;False&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cd5eacd2ab6529a6aced3f60d15768f1">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b1-32"><span class="yiyi-st" id="yiyi-1404"><span class="target" id="change-06edae870b218a7c13eae46fc5fef29d"><strong>[orm] </strong></span>&#x4E3A;<cite>Query.subquery()</cite>&#x6DFB;&#x52A0;&#x4E86;<cite>&#x540D;&#x79F0;</cite>&#x53C2;&#x6570;&#xFF0C;&#x4EE5;&#x5141;&#x8BB8;&#x5C06;&#x56FA;&#x5B9A;&#x540D;&#x79F0;&#x5206;&#x914D;&#x7ED9;&#x522B;&#x540D;&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-1405">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-06edae870b218a7c13eae46fc5fef29d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1406">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2030">&#xFF03;2030</a></span></p></li><li><p id="change-0.7.0b1-33"><span class="yiyi-st" id="yiyi-1407"><span class="target" id="change-95089bbf3908e1e43535422631fcd73c"><strong>[orm] </strong></span>&#x5F53;&#x8FDE;&#x63A5;&#x8868;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x7A0B;&#x5E8F;&#x5728;&#x672C;&#x5730;&#x6620;&#x5C04;&#x8868;&#x4E0A;&#x6CA1;&#x6709;&#x4E3B;&#x952E;&#xFF08;&#x4F46;&#x5728;&#x8D85;&#x7C7B;&#x8868;&#x4E0A;&#x6709;pks&#xFF09;&#x65F6;&#xFF0C;&#x4F1A;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x3002;</span><span class="yiyi-st" id="yiyi-1408">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-95089bbf3908e1e43535422631fcd73c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1409">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2019">&#xFF03;2019</a></span></p></li><li><p id="change-0.7.0b1-34"><span class="yiyi-st" id="yiyi-1410"><span class="target" id="change-92bbd3ad95fb22126cc39a64783f97a8"><strong>[orm] </strong></span>Fixed bug where &#x201C;middle&#x201D; class in a polymorphic hierarchy would have no &#x2018;polymorphic_on&#x2019; column if it didn&#x2019;t also specify a &#x2018;polymorphic_identity&#x2019;, leading to strange errors upon refresh, wrong class loaded when querying from that target. </span><span class="yiyi-st" id="yiyi-1411">&#x5728;&#x4F7F;&#x7528;&#x5355;&#x4E2A;&#x8868;&#x7EE7;&#x627F;&#x65F6;&#x4E5F;&#x4F1A;&#x53D1;&#x51FA;&#x6B63;&#x786E;&#x7684;WHERE&#x6807;&#x51C6;&#x3002;</span><span class="yiyi-st" id="yiyi-1412">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-92bbd3ad95fb22126cc39a64783f97a8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1413">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2038">&#xFF03;2038</a></span></p></li><li><p id="change-0.7.0b1-35"><span class="yiyi-st" id="yiyi-1414"><span class="target" id="change-0734871e34b4de0cfa57a987165f3e25"><strong>[orm] </strong></span>Fixed bug where a column with a SQL or server side default that was excluded from a mapping with include_properties or exclude_properties would result in UnmappedColumnError. </span><span class="yiyi-st" id="yiyi-1415">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-0734871e34b4de0cfa57a987165f3e25">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1416">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1995">&#xFF03;1995</a></span></p></li><li><p id="change-0.7.0b1-36"><span class="yiyi-st" id="yiyi-1417"><span class="target" id="change-c0ff4c4fbb4211eee4b16aa8804e09e1"><strong>[orm] </strong></span>&#x5728;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x53D1;&#x751F;&#x8B66;&#x544A;&#xFF0C;&#x5373;&#x5728;&#x53D6;&#x6D88;&#x5F15;&#x7528;&#x7236;&#x5BF9;&#x8C61;&#x540E;&#x53D1;&#x751F;&#x96C6;&#x5408;&#x4E0A;&#x7684;&#x9644;&#x52A0;&#x4E8B;&#x4EF6;&#x6216;&#x7C7B;&#x4F3C;&#x4E8B;&#x4EF6;&#xFF0C;&#x8FD9;&#x4F1A;&#x963B;&#x6B62;&#x7236;&#x4F1A;&#x8BDD;&#x5728;&#x4F1A;&#x8BDD;&#x4E2D;&#x88AB;&#x6807;&#x8BB0;&#x4E3A;&#x201C;&#x810F;&#x201D; &#x3002;</span><span class="yiyi-st" id="yiyi-1418">&#x8FD9;&#x5728;0.7&#x4E2D;&#x662F;&#x4E2A;&#x4F8B;&#x5916;&#x3002;</span><span class="yiyi-st" id="yiyi-1419">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-c0ff4c4fbb4211eee4b16aa8804e09e1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1420">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2046">&#xFF03;2046</a></span></p></li></ul></div><div class="section" id="change-0.7.0b1-sql"><h3><span class="yiyi-st" id="yiyi-1421">SQL <a class="headerlink" href="#change-0.7.0b1-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b1-37"><span class="yiyi-st" id="yiyi-1422"><span class="target" id="change-4eb7f2aa59933bfc4c2322c448c1238f"><strong>[sql] </strong></span>Added over() function, method to FunctionElement classes, produces the _Over() construct which in turn generates &#x201C;window functions&#x201D;, i.e. &#x201C;<window function=""> OVER (PARTITION BY <partition by="">, ORDER BY <order by="">)&#x201D;.<a class="changeset-link headerlink reference internal" href="#change-4eb7f2aa59933bfc4c2322c448c1238f">&#xB6;</a></order></partition></window></span></p><p><span class="yiyi-st" id="yiyi-1423">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1844">&#xFF03;1844</a></span></p></li><li><p id="change-0.7.0b1-38"><span class="yiyi-st" id="yiyi-1424"><span class="target" id="change-008af6797c834ccbbd51f2ae2c7fba1b"><strong>[sql] </strong></span> LIMIT / OFFSET&#x5B50;&#x53E5;&#x73B0;&#x5728;&#x4F7F;&#x7528;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;<a class="changeset-link headerlink reference internal" href="#change-008af6797c834ccbbd51f2ae2c7fba1b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1425">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/805">&#xFF03;805</a></span></p></li><li><p id="change-0.7.0b1-39"><span class="yiyi-st" id="yiyi-1426"><span class="target" id="change-77f1c98a5680d59107e84241644a0c9e"><strong>[sql] </strong></span>select.distinct() now accepts column expressions as *args, interpreted by the Postgresql dialect as DISTINCT ON (<expr>). </expr></span><span class="yiyi-st" id="yiyi-1427">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x5DF2;&#x901A;&#x8FC7;&#x5C06;&#x5217;&#x8868;&#x4F20;&#x9012;&#x7ED9;<cite>distinct</cite>&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x4EE5;&#x7528;&#x4E8E;select()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-77f1c98a5680d59107e84241644a0c9e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1428">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1069">&#xFF03;1069</a></span></p></li><li><p id="change-0.7.0b1-40"><span class="yiyi-st" id="yiyi-1429"><span class="target" id="change-a0fb484c1222b50996aa723baba384f1"><strong>[sql] </strong></span>select.prefix_with() accepts multiple expressions (i.e. *expr), &#x2018;prefix&#x2019; keyword argument to select() accepts a list or tuple.<a class="changeset-link headerlink reference internal" href="#change-a0fb484c1222b50996aa723baba384f1">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b1-41"><span class="yiyi-st" id="yiyi-1430"><span class="target" id="change-df9bfaf8018c8b1539a0b4c8a07550c8"><strong>[sql] </strong></span>Passing a string to the <cite>distinct</cite> keyword argument of <cite>select()</cite> for the purpose of emitting special MySQL keywords (DISTINCTROW etc.) </span><span class="yiyi-st" id="yiyi-1431">&#x5DF2;&#x5F03;&#x7528; - &#x4E3A;&#x6B64;&#x4F7F;&#x7528;<cite>prefix_with()</cite>&#x3002;<a class="changeset-link headerlink reference internal" href="#change-df9bfaf8018c8b1539a0b4c8a07550c8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b1-42"><span class="yiyi-st" id="yiyi-1432"><span class="target" id="change-9112c97367c753c162923d518d541ed0"><strong>[sql] </strong></span> TypeDecorator&#x4F7F;&#x7528;&#x4E3B;&#x952E;&#x5217;<a class="changeset-link headerlink reference internal" href="#change-9112c97367c753c162923d518d541ed0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1433">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2006">&#xFF03;2006</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2005">&#xFF03;2005</a></span></p></li><li><p id="change-0.7.0b1-43"><span class="yiyi-st" id="yiyi-1434"><span class="target" id="change-fc71ca433aef5e4ec0d6b0d752fd6b2e"><strong>[sql] </strong></span> DDL()&#x6784;&#x9020;&#x73B0;&#x5728;&#x8F6C;&#x4E49;&#x767E;&#x5206;&#x53F7;<a class="changeset-link headerlink reference internal" href="#change-fc71ca433aef5e4ec0d6b0d752fd6b2e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1435">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1897">&#xFF03;1897</a></span></p></li><li><p id="change-0.7.0b1-44"><span class="yiyi-st" id="yiyi-1436"><span class="target" id="change-f3cb599e9c46745a4bf2b2b7201214bf"><strong>[sql] </strong></span>Table.c / MetaData.tables refined a bit, don&#x2019;t allow direct mutation<a class="changeset-link headerlink reference internal" href="#change-f3cb599e9c46745a4bf2b2b7201214bf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1437">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1917">&#xFF03;1917</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1893">&#xFF03;1893</a></span></p></li><li><p id="change-0.7.0b1-45"><span class="yiyi-st" id="yiyi-1438"><span class="target" id="change-9b51a25af44112e886144cd60fa90f62"><strong>[sql] </strong></span>&#x4F20;&#x9012;&#x7ED9;<cite>bindparam()</cite>&#x7684;callables&#x4E0D;&#x4F1A;&#x88AB;&#x8BC4;&#x4F30;<a class="changeset-link headerlink reference internal" href="#change-9b51a25af44112e886144cd60fa90f62">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1439">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1950">&#xFF03;1950</a></span></p></li><li><p id="change-0.7.0b1-46"><span class="yiyi-st" id="yiyi-1440"><span class="target" id="change-d22c8592021bf7d745621ed05d7429f1"><strong>[sql] </strong></span> types.type_map&#x73B0;&#x5728;&#x662F;private&#xFF0C;types._type_map <a class="changeset-link headerlink reference internal" href="#change-d22c8592021bf7d745621ed05d7429f1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1441">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1870">&#xFF03;1870</a></span></p></li><li><p id="change-0.7.0b1-47"><span class="yiyi-st" id="yiyi-1442"><span class="target" id="change-1c2d3bb55bfa7910f19563447af291d6"><strong>[sql] </strong></span>&#x5F3A;&#x8C03;&#x975E;&#x516C;&#x6709;&#x6C60;&#x65B9;&#x6CD5;<a class="changeset-link headerlink reference internal" href="#change-1c2d3bb55bfa7910f19563447af291d6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1443">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1982">&#xFF03;1982</a></span></p></li><li><p id="change-0.7.0b1-48"><span class="yiyi-st" id="yiyi-1444"><span class="target" id="change-192c99cfcb4e50b3886277fbd4c9a212"><strong>[sql] </strong></span>&#x6DFB;&#x52A0;&#x4E86;NULLS FIRST&#x548C;NULLS LAST&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-1445">&#x5B83;&#x4F5C;&#x4E3A;asc()&#x548C;desc()&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x6269;&#x5C55;&#x5B9E;&#x73B0;&#xFF0C;&#x79F0;&#x4E3A;nullsfirst()&#x548C;nullslast()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-192c99cfcb4e50b3886277fbd4c9a212">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1446">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/723">&#xFF03;723</a></span></p></li><li><p id="change-0.7.0b1-49"><span class="yiyi-st" id="yiyi-1447"><span class="target" id="change-8a34b5293403955387df1c3e2d0a0a41"><strong>[sql] </strong></span>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x4F5C;&#x4E3A;&#x5217;&#x540D;&#x5185;&#x8054;&#x8868;&#x521B;&#x5EFA;Index()&#x6784;&#x9020;&#xFF0C;&#x4F5C;&#x4E3A;&#x5728;&#x8868;&#x5916;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8a34b5293403955387df1c3e2d0a0a41"> T2&gt;</a></span></p><p></p></li><li><p id="change-0.7.0b1-50"><span class="yiyi-st" id="yiyi-1448"><span class="target" id="change-62c7aacfaee859d90d792e30c31ac9bc"><strong>[sql] </strong></span>execution_options() on Connection accepts &#x201C;isolation_level&#x201D; argument, sets transaction isolation level for that connection only until returned to the connection pool, for those backends which support it (SQLite, Postgresql)<a class="changeset-link headerlink reference internal" href="#change-62c7aacfaee859d90d792e30c31ac9bc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1449">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2001">&#xFF03;2001</a></span></p></li><li><p id="change-0.7.0b1-51"><span class="yiyi-st" id="yiyi-1450"><span class="target" id="change-f93d9cab78c0153cf9fb0a71c0ea0259"><strong>[sql] </strong></span>A TypeDecorator of Integer can be used with a primary key column, and the &#x201C;autoincrement&#x201D; feature of various dialects as well as the &#x201C;sqlite_autoincrement&#x201D; flag will honor the underlying database type as being Integer-based.<a class="changeset-link headerlink reference internal" href="#change-f93d9cab78c0153cf9fb0a71c0ea0259">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1451">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2005">&#xFF03;2005</a></span></p></li><li><p id="change-0.7.0b1-52"><span class="yiyi-st" id="yiyi-1452"><span class="target" id="change-4913415ba5d037bab37eccc00e534daa"><strong>[sql] </strong></span>&#x5728;Integer PK&#x5217;&#x4E0A;&#x5B58;&#x5728;server_default&#x65F6;&#x5EFA;&#x7ACB;&#x4E00;&#x81F4;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-1453">SQLA&#x4E0D;&#x4F1A;&#x9884;&#x53D6;&#x8FD9;&#x4E9B;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x8FD4;&#x56DE;&#x5230;cursor.lastrowid&#xFF08;DBAPI&#xFF09;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-1454">&#x786E;&#x4FDD;&#x6240;&#x6709;&#x540E;&#x7AEF;&#x5728;result.inserted_primary_key&#x4E2D;&#x59CB;&#x7EC8;&#x8FD4;&#x56DE;&#x65E0;&#x3002;</span><span class="yiyi-st" id="yiyi-1455">&#x5173;&#x4E8E;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x7684;&#x53CD;&#x601D;&#xFF0C;&#x9664;&#x4E86;&#x5728;&#x6211;&#x4EEC;&#x68C0;&#x6D4B;&#x5230;&#x5E8F;&#x5217;&#x9ED8;&#x8BA4;&#x503C;&#x7684;PG SERIAL col&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5BF9;server_default&#x7684;int PK col&#x7684;&#x53CD;&#x6620;&#x5C06;&#x201C;autoincrement&#x201D;&#x6807;&#x5FD7;&#x8BBE;&#x7F6E;&#x4E3A;False&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4913415ba5d037bab37eccc00e534daa">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1456">References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2020">#2020</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2021">#2021</a></span></p></li><li><p id="change-0.7.0b1-53"><span class="yiyi-st" id="yiyi-1457"><span class="target" id="change-523eaa86a6fb8bbbe523f6ff4320e065"><strong>[sql] </strong></span>Result-row processors are applied to pre-executed SQL defaults, as well as cursor.lastrowid, when determining the contents of result.inserted_primary_key.<a class="changeset-link headerlink reference internal" href="#change-523eaa86a6fb8bbbe523f6ff4320e065">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1458">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2006">&#xFF03;2006</a></span></p></li><li><p id="change-0.7.0b1-54"><span class="yiyi-st" id="yiyi-1459"><span class="target" id="change-64b01c67299868c1e98b5a3c2f0c472a"><strong>[sql] </strong></span>Bind parameters present in the &#x201C;columns clause&#x201D; of a select are now auto-labeled like other &#x201C;anonymous&#x201D; clauses, which among other things allows their &#x201C;type&#x201D; to be meaningful when the row is fetched, as in result row processors.<a class="changeset-link headerlink reference internal" href="#change-64b01c67299868c1e98b5a3c2f0c472a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b1-55"><span class="yiyi-st" id="yiyi-1460"><span class="target" id="change-ecc90be10a16dfffd1ad51bf80e0de25"><strong>[sql] </strong></span> TypeDecorator&#x5B58;&#x5728;&#x4E8E;&#x201C;sqlalchemy&#x201D;&#x5BFC;&#x5165;&#x7A7A;&#x95F4;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ecc90be10a16dfffd1ad51bf80e0de25">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b1-56"><span class="yiyi-st" id="yiyi-1461"><span class="target" id="change-fb26558eb829e86d5464e9c8f060232b"><strong>[sql] </strong></span>Non-DBAPI errors which occur in the scope of an <cite>execute()</cite> call are now wrapped in sqlalchemy.exc.StatementError, and the text of the SQL statement and repr() of params is included. </span><span class="yiyi-st" id="yiyi-1462">&#x8FD9;&#x4F7F;&#x5F97;&#x66F4;&#x5BB9;&#x6613;&#x8BC6;&#x522B;&#x5728;DBAPI&#x6D89;&#x53CA;&#x4E4B;&#x524D;&#x5931;&#x8D25;&#x7684;&#x8BED;&#x53E5;&#x6267;&#x884C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fb26558eb829e86d5464e9c8f060232b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1463">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2015">&#xFF03;2015</a></span></p></li><li><p id="change-0.7.0b1-57"><span class="yiyi-st" id="yiyi-1464"><span class="target" id="change-a66b20fca49c0f8524e0f9b13450df30"><strong>[sql] </strong></span>The concept of associating a &#x201D;.bind&#x201D; directly with a ClauseElement has been explicitly moved to Executable, i.e. the mixin that describes ClauseElements which represent engine-executable constructs. </span><span class="yiyi-st" id="yiyi-1465">&#x8FD9;&#x79CD;&#x6539;&#x53D8;&#x662F;&#x5BF9;&#x5185;&#x90E8;&#x7EC4;&#x7EC7;&#x7684;&#x6539;&#x8FDB;&#xFF0C;&#x4E0D;&#x592A;&#x53EF;&#x80FD;&#x5F71;&#x54CD;&#x4EFB;&#x4F55;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a66b20fca49c0f8524e0f9b13450df30">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1466">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2048">&#xFF03;2048</a></span></p></li><li><p id="change-0.7.0b1-58"><span class="yiyi-st" id="yiyi-1467"><span class="target" id="change-a466de1bb8545241b6aa4e22314db722"><strong>[sql] </strong></span>Column.copy(), as used in table.tometadata(), copies the &#x2018;doc&#x2019; attribute. </span><span class="yiyi-st" id="yiyi-1468">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-a466de1bb8545241b6aa4e22314db722">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1469">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2028">&#xFF03;2028</a></span></p></li><li><p id="change-0.7.0b1-59"><span class="yiyi-st" id="yiyi-1470"><span class="target" id="change-e01bc44c0b8683e725b54e07f17b3db8"><strong>[sql] </strong></span>Added some defs to the resultproxy.c extension so that the extension compiles and runs on Python 2.4. </span><span class="yiyi-st" id="yiyi-1471">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-e01bc44c0b8683e725b54e07f17b3db8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1472">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2023">&#xFF03;2023</a></span></p></li><li><p id="change-0.7.0b1-60"><span class="yiyi-st" id="yiyi-1473"><span class="target" id="change-eb2cc6cfb9f8870e2eec8d687b2b5f2c"><strong>[sql] </strong></span>The compiler extension now supports overriding the default compilation of expression._BindParamClause including that the auto-generated binds within the VALUES/SET clause of an insert()/update() statement will also use the new compilation rules. </span><span class="yiyi-st" id="yiyi-1474">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-eb2cc6cfb9f8870e2eec8d687b2b5f2c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1475">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2042">&#xFF03;2042</a></span></p></li><li><p id="change-0.7.0b1-61"><span class="yiyi-st" id="yiyi-1476"><span class="target" id="change-4664bca0e88c4aa7baf8649d823fa11e"><strong>[sql] </strong></span>SQLite dialect now uses <cite>NullPool</cite> for file-based databases<a class="changeset-link headerlink reference internal" href="#change-4664bca0e88c4aa7baf8649d823fa11e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1477">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1921">&#xFF03;1921</a></span></p></li><li><p id="change-0.7.0b1-62"><span class="yiyi-st" id="yiyi-1478"><span class="target" id="change-4afa9ef114e44f1d7f2ee4ab49ea60b0"><strong>[sql] </strong></span>The path given as the location of a sqlite database is now normalized via os.path.abspath(), so that directory changes within the process don&#x2019;t affect the ultimate location of a relative file path.<a class="changeset-link headerlink reference internal" href="#change-4afa9ef114e44f1d7f2ee4ab49ea60b0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1479">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2036">&#xFF03;2036</a></span></p></li></ul></div><div class="section" id="change-0.7.0b1-postgresql"><h3><span class="yiyi-st" id="yiyi-1480">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.7.0b1-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b1-63"><span class="yiyi-st" id="yiyi-1481"><span class="target" id="change-b5ada6099a9b9ba39ca6d8b0c0827b92"><strong>[postgresql] </strong></span>When explicit sequence execution derives the name of the auto-generated sequence of a SERIAL column, which currently only occurs if implicit_returning=False, now accommodates if the table + column name is greater than 63 characters using the same logic Postgresql uses. </span><span class="yiyi-st" id="yiyi-1482">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-b5ada6099a9b9ba39ca6d8b0c0827b92">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1483">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1083">&#xFF03;1083</a></span></p></li><li><p id="change-0.7.0b1-64"><span class="yiyi-st" id="yiyi-1484"><span class="target" id="change-05134b7490c95da9c06e6ec525e05543"><strong>[postgresql] </strong></span>&#x5728;&#x201C;disconnect&#x201D;&#x5F02;&#x5E38;&#x5217;&#x8868;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x989D;&#x5916;&#x7684;libpq&#x6D88;&#x606F;&#xFF0C;&#x201C;&#x65E0;&#x6CD5;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x63A5;&#x6536;&#x6570;&#x636E;&#x201D;&#xFF08;&#x540C;&#x6837;&#x5728;0.6.7&#x4E2D;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-05134b7490c95da9c06e6ec525e05543">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1485">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2044">&#xFF03;2044</a></span></p></li></ul></div><div class="section" id="change-0.7.0b1-mysql"><h3><span class="yiyi-st" id="yiyi-1486">MySQL&#x7684;<a class="headerlink" href="#change-0.7.0b1-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b1-65"><span class="yiyi-st" id="yiyi-1487"><span class="target" id="change-7d80eda9ae55c5d7135bf452c7420586"><strong>[mysql] </strong></span> pymysql&#x7684;&#x65B0;&#x7684;DBAPI&#x652F;&#x6301;&#xFF0C;&#x5B83;&#x662F;MySQL-python&#x7684;&#x7EAF;Python&#x7AEF;&#x53E3;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7d80eda9ae55c5d7135bf452c7420586">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1488">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1991">&#xFF03;1991</a></span></p></li><li><p id="change-0.7.0b1-66"><span class="yiyi-st" id="yiyi-1489"><span class="target" id="change-b7f58cb72e13cc5af0d1da04d82b64d3"><strong>[mysql] </strong></span>oursql dialect accepts the same &#x201C;ssl&#x201D; arguments in create_engine() as that of MySQLdb. </span><span class="yiyi-st" id="yiyi-1490">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-b7f58cb72e13cc5af0d1da04d82b64d3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1491">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2047">&#xFF03;2047</a></span></p></li></ul></div><div class="section" id="change-0.7.0b1-mssql"><h3><span class="yiyi-st" id="yiyi-1492">MSSQL <a class="headerlink" href="#change-0.7.0b1-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b1-67"><span class="yiyi-st" id="yiyi-1493"><span class="target" id="change-63bd4273775d5a53a36af9dd8ee5b79b"><strong>[mssql] </strong></span>the String/Unicode types, and their counterparts VARCHAR/ NVARCHAR, emit &#x201C;max&#x201D; as the length when no length is specified, so that the default length, normally &#x2018;1&#x2019; as per SQL server documentation, is instead &#x2018;unbounded&#x2019;. </span><span class="yiyi-st" id="yiyi-1494">&#x5BF9;&#x4E8E;VARBINARY&#x7C7B;&#x578B;&#x4E5F;&#x4F1A;&#x53D1;&#x751F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-1495">&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x4F7F;&#x5F97;&#x8FD9;&#x4E9B;&#x7C7B;&#x578B;&#x4E0E;Postgresql&#x7684;VARCHAR&#x7C7B;&#x578B;&#x66F4;&#x7D27;&#x5BC6;&#x7684;&#x517C;&#x5BB9;&#xFF0C;&#x5F53;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x957F;&#x5EA6;&#x65F6;&#xFF0C;&#x5B83;&#x7C7B;&#x4F3C;&#x5730;&#x662F;&#x65E0;&#x754C;&#x7684;&#x3002;</span></p><span class="yiyi-st" id="yiyi-1497"> <a class="changeset-link headerlink reference internal" href="#change-63bd4273775d5a53a36af9dd8ee5b79b">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-1496">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1833">&#xFF03;1833</a></span></p></li></ul></div><div class="section" id="change-0.7.0b1-firebird"><h3><span class="yiyi-st" id="yiyi-1498">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.7.0b1-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b1-68"><span class="yiyi-st" id="yiyi-1499"><span class="target" id="change-432e2525c02e26b7c7853622f71b1123"><strong>[firebird] </strong></span>&#x4E00;&#x4E9B;&#x8C03;&#x6574;&#xFF0C;&#x4EE5;&#x4FBF;&#x652F;&#x6301;Interbase&#x3002;</span><span class="yiyi-st" id="yiyi-1500">FB / Interbase&#x7248;&#x672C;&#x6807;&#x8BC6;&#x7B26;&#x88AB;&#x5206;&#x6790;&#x4E3A;&#x4E00;&#x4E2A;&#x7ED3;&#x6784;&#xFF0C;&#x4F8B;&#x5982;&#xFF08;8,1,1&#xFF0C;&apos;interbase&apos;&#xFF09;&#x6216;&#xFF08;2,1,588&#xFF0C;&apos;firebird&apos;&#xFF09;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x533A;&#x5206;&#x5B83;&#x4EEC;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-432e2525c02e26b7c7853622f71b1123">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1501">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1885">&#xFF03;1885</a></span></p></li></ul></div><div class="section" id="change-0.7.0b1-misc"><h3><span class="yiyi-st" id="yiyi-1502">&#x6742;&#x9879;<a class="headerlink" href="#change-0.7.0b1-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.7.0b1-69"><span class="yiyi-st" id="yiyi-1503"><span class="target" id="change-d347d88fe254c05459e964fb7a9d3005"></span>&#x4E0B;&#x9762;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x6BCF;&#x9879;&#x53D8;&#x66F4;&#xFF1A;<a class="reference external" href="http://docs.sqlalchemy.org/en/latest/changelog_migration_07.html">http://docs.sqlalchemy.org/en/latest/changelog_migration_07.html</a> <a class="changeset-link headerlink reference internal" href="#change-d347d88fe254c05459e964fb7a9d3005">&#xB6;</a></span></p><p></p></li><li><p id="change-0.7.0b1-70"><span class="yiyi-st" id="yiyi-1504"><span class="target" id="change-f4bd4cade780402e38c5ce23e28051cb"><strong>[declarative] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x663E;&#x5F0F;&#x68C0;&#x67E5;&#xFF0C;&#x7528;&#x4E8E;&#x540D;&#x79F0;&apos;metadata&apos;&#x7528;&#x4E8E;&#x58F0;&#x660E;&#x7C7B;&#x7684;&#x5217;&#x5C5E;&#x6027;&#x7684;&#x60C5;&#x51B5;&#x3002;</span><span class="yiyi-st" id="yiyi-1505">&#xFF08;&#x4E5F;&#x5728;0.6.7&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-f4bd4cade780402e38c5ce23e28051cb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1506">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2050">&#xFF03;2050</a></span></p></li></ul></div></div>