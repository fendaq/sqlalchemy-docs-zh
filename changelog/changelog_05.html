<h1><span class="yiyi-st" id="yiyi-155">0.5 Changelog <a class="headerlink" href="#changelog" title="Permalink to this headline">&#xB6;</a></span></h1><div class="section" id="change-0.5.9"><h2><span class="yiyi-st" id="yiyi-156">0.5.9 <a class="headerlink" href="#change-0.5.9" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-160">&#x6CA1;&#x6709;&#x53D1;&#x5E03;&#x65E5;&#x671F;</span><div class="section" id="change-0.5.9-sql"><h3><span class="yiyi-st" id="yiyi-157">SQL <a class="headerlink" href="#change-0.5.9-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.9-0"><span class="yiyi-st" id="yiyi-158"><span class="target" id="change-2b3dbc23ccb7c7fba44587cc3e64c2b4"><strong>[sql] </strong></span>&#x4FEE;&#x590D;&#x8868;&#x8FBE;&#x5F0F;&#x5305;&#x4E2D;&#x7684;&#x9519;&#x8BEF;self_group()&#x8C03;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2b3dbc23ccb7c7fba44587cc3e64c2b4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-159">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1661">&#xFF03;1661</a></span></p></li></ul></div></div><div class="section" id="change-0.5.8"><h2><span class="yiyi-st" id="yiyi-161">0.5.8 <a class="headerlink" href="#change-0.5.8" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-178">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2010&#x5E74;1&#x6708;16&#x65E5;</span><div class="section" id="change-0.5.8-sql"><h3><span class="yiyi-st" id="yiyi-162">SQL <a class="headerlink" href="#change-0.5.8-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.8-0"><span class="yiyi-st" id="yiyi-163"><span class="target" id="change-cfd691fb4a1a3dc9cc52fbd338afb03e"><strong>[sql] </strong></span> Column&#x4E0A;&#x7684;copy()&#x65B9;&#x6CD5;&#x73B0;&#x5728;&#x652F;&#x6301;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x672A;&#x547D;&#x540D;&#x7684;Column&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-164">&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5730;&#x521B;&#x5EFA;&#x58F0;&#x660E;&#x5F0F;&#x52A9;&#x624B;&#xFF0C;&#x8FD9;&#x4E9B;&#x52A9;&#x624B;&#x53EF;&#x4EE5;&#x5728;&#x591A;&#x4E2A;&#x5B50;&#x7C7B;&#x4E2D;&#x653E;&#x7F6E;&#x516C;&#x5171;&#x5217;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cfd691fb4a1a3dc9cc52fbd338afb03e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.8-1"><span class="yiyi-st" id="yiyi-165"><span class="target" id="change-33eee31f1b1df00ed8abad9a8b9bb7d4"><strong>[sql] </strong></span>&#x50CF;Sequence()&#x8FD9;&#x6837;&#x7684;&#x9ED8;&#x8BA4;&#x751F;&#x6210;&#x5668;&#x53EF;&#x4EE5;&#x5728;copy()&#x64CD;&#x4F5C;&#x4E2D;&#x6B63;&#x786E;&#x8F6C;&#x6362;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-33eee31f1b1df00ed8abad9a8b9bb7d4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.8-2"><span class="yiyi-st" id="yiyi-166"><span class="target" id="change-357782766666ec6efb3f7d938d277a2d"><strong>[sql] </strong></span>Sequence() and other DefaultGenerator objects are accepted as the value for the &#x201C;default&#x201D; and &#x201C;onupdate&#x201D; keyword arguments of Column, in addition to being accepted positionally.<a class="changeset-link headerlink reference internal" href="#change-357782766666ec6efb3f7d938d277a2d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.8-3"><span class="yiyi-st" id="yiyi-167">&#x4FEE;&#x590D;&#x4E86;&#x4E00;&#x4E2A;&#x5217;&#x7B97;&#x672F;&#x9519;&#x8BEF;&#xFF0C;&#x5B83;&#x5F71;&#x54CD;&#x4E86;&#x5305;&#x542B;&#x72EC;&#x7ACB;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x514B;&#x9686;&#x9009;&#x62E9;&#x5217;&#x7684;&#x5217;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#x3002;<span class="target" id="change-8bee8818221b5bb1cf4c4108b3aa9610"><strong>[sql] </strong></span></span><span class="yiyi-st" id="yiyi-168">&#x8FD9;&#x4E2A;bug&#x901A;&#x5E38;&#x53EA;&#x5728;&#x6267;&#x884C;0.6 via&#x65F6;&#x4F7F;&#x7528;&#x66F4;&#x65B0;&#x7684;ORM&#x884C;&#x4E3A;&#x65F6;&#x624D;&#x4F1A;&#x5F15;&#x4EBA;&#x6CE8;&#x610F;&#xFF0C;&#x4F46;&#x5728;SQL&#x8868;&#x8FBE;&#x5F0F;&#x7EA7;&#x522B;&#x4E5F;&#x66F4;&#x52A0;&#x6B63;&#x786E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8bee8818221b5bb1cf4c4108b3aa9610">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-169">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1568">&#xFF03;1568</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1617">&#xFF03;1617</a></span></p></li></ul></div><div class="section" id="change-0.5.8-postgresql"><h3><span class="yiyi-st" id="yiyi-170">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.5.8-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.8-4"><span class="yiyi-st" id="yiyi-171"><span class="target" id="change-dd873689e69524aaf89929bdce508264"><strong>[postgresql] </strong></span>The extract() function, which was slightly improved in 0.5.7, needed a lot more work to generate the correct typecast (the typecasts appear to be necessary in PG&#x2019;s EXTRACT quite a lot of the time). </span><span class="yiyi-st" id="yiyi-172">&#x73B0;&#x5728;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;PG&#x7684;&#x65E5;&#x671F;/&#x65F6;&#x95F4;/&#x95F4;&#x9694;&#x7B97;&#x672F;&#x6587;&#x6863;&#x7684;&#x89C4;&#x5219;&#x5B57;&#x5178;&#x751F;&#x6210;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x3002;</span><span class="yiyi-st" id="yiyi-173">&#x5B83;&#x4E5F;&#x63A5;&#x53D7;text()&#x6784;&#x9020;&#xFF0C;&#x5B83;&#x5728;0.5.7&#x4E2D;&#x88AB;&#x6253;&#x7834;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dd873689e69524aaf89929bdce508264">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-174">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1647">&#xFF03;1647</a></span></p></li></ul></div><div class="section" id="change-0.5.8-firebird"><h3><span class="yiyi-st" id="yiyi-175">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.5.8-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.8-5"><span class="yiyi-st" id="yiyi-176"><span class="target" id="change-9083459c05e2b92c9fefe9ca76cd36db"><strong>[firebird] </strong></span>&#x5C06;&#x66F4;&#x591A;&#x9519;&#x8BEF;&#x89C6;&#x4E3A;&#x65AD;&#x7EBF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9083459c05e2b92c9fefe9ca76cd36db">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-177">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1646">&#xFF03;1646</a></span></p></li></ul></div></div><div class="section" id="change-0.5.7"><h2><span class="yiyi-st" id="yiyi-179">0.5.7 <a class="headerlink" href="#change-0.5.7" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-250">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2009&#x5E74;12&#x6708;26&#x65E5;&#x661F;&#x671F;&#x516D;</span><div class="section" id="change-0.5.7-orm"><h3><span class="yiyi-st" id="yiyi-180">ORM <a class="headerlink" href="#change-0.5.7-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.7-0"><span class="yiyi-st" id="yiyi-181"><span class="target" id="change-560431e6a014d0ad8ba45deb990b3e40"><strong>[orm] </strong></span>contains_eager() now works with the automatically generated subquery that results when you say &#x201C;query(Parent).join(Parent.somejoinedsubclass)&#x201D;, i.e. when Parent joins to a joined-table-inheritance subclass. </span><span class="yiyi-st" id="yiyi-182">&#x4EE5;&#x524D;&#xFF0C;contains_eager()&#x4F1A;&#x9519;&#x8BEF;&#x5730;&#x5C06;&#x5B50;&#x7C7B;&#x8868;&#x6DFB;&#x52A0;&#x5230;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x5206;&#x522B;&#x751F;&#x6210;&#x7B1B;&#x5361;&#x5C14;&#x79EF;&#x3002;</span><span class="yiyi-st" id="yiyi-183">&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;&#x5728;&#x7968;&#x636E;&#x63CF;&#x8FF0;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-560431e6a014d0ad8ba45deb990b3e40">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-184">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1543">&#xFF03;1543</a></span></p></li><li><p id="change-0.5.7-1"><span class="yiyi-st" id="yiyi-185"><span class="target" id="change-b39b877f6bf39bfdf655bc9f19edbbe0"><strong>[orm] </strong></span>query.options() now only propagate to loaded objects for potential further sub-loads only for options where such behavior is relevant, keeping various unserializable options like those generated by contains_eager() out of individual instance states.<a class="changeset-link headerlink reference internal" href="#change-b39b877f6bf39bfdf655bc9f19edbbe0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-186">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1553">&#xFF03;1553</a></span></p></li><li><p id="change-0.5.7-2"><span class="yiyi-st" id="yiyi-187"><span class="target" id="change-af73d67063a48f3d8eb60df156646a1d"><strong>[orm] </strong></span>Session.execute() now locates table- and mapper-specific binds based on a passed in expression which is an insert()/update()/delete() construct.<a class="changeset-link headerlink reference internal" href="#change-af73d67063a48f3d8eb60df156646a1d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-188">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1054">&#xFF03;1054</a></span></p></li><li><p id="change-0.5.7-3"><span class="yiyi-st" id="yiyi-189"><span class="target" id="change-5f51b3a5ed232849fed023e0e50c68c0"><strong>[orm] </strong></span>&#x5982;&#x679C;&#x8981;&#x5408;&#x5E76;&#x7684;&#x7ED9;&#x5B9A;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x5C5E;&#x6027;&#x4E5F;&#x4E3A;None&#xFF0C;&#x5219;Session.merge()&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x6B63;&#x786E;&#x8986;&#x76D6;&#x591A;&#x5BF9;&#x4E00;&#x6216;uselist = False&#x5C5E;&#x6027;&#x4E3A;None&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5f51b3a5ed232849fed023e0e50c68c0">&#xB6;&lt; / T2&gt;</a></span></p><p></p></li><li><p id="change-0.5.7-4"><span class="yiyi-st" id="yiyi-190"><span class="target" id="change-7971259a1cd52e28cfaaca415345964d"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x5408;&#x5E76;&#x5305;&#x542B;&#x7A7A;&#x4E3B;&#x952E;&#x6807;&#x8BC6;&#x7B26;&#x7684;&#x4E34;&#x65F6;&#x5BF9;&#x8C61;&#x65F6;&#x53D1;&#x751F;&#x7684;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x9009;&#x62E9;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7971259a1cd52e28cfaaca415345964d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-191">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1618">&#xFF03;1618</a></span></p></li><li><p id="change-0.5.7-5"><span class="yiyi-st" id="yiyi-192"><span class="target" id="change-4250173297f3d118a49e5b7b3dabe57e"><strong>[orm] </strong></span>&#x4F20;&#x9012;&#x7ED9;relation()&#xFF0C;column_property()&#x7B49;&#x7684;&#x201C;extension&#x201D;&#x5C5E;&#x6027;&#x7684;&#x53EF;&#x53D8;&#x96C6;&#x5408;</span><span class="yiyi-st" id="yiyi-193">&#x5C06;&#x4E0D;&#x4F1A;&#x5728;&#x591A;&#x4E2A;&#x5DE5;&#x5177;&#x8C03;&#x7528;&#x4E2D;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x6216;&#x5171;&#x4EAB;&#xFF0C;&#x4ECE;&#x800C;&#x9632;&#x6B62;&#x5C06;&#x91CD;&#x590D;&#x7684;&#x6269;&#x5C55;&#xFF08;&#x5982;backref populator&#xFF09;&#x63D2;&#x5165;&#x5230;&#x5217;&#x8868;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4250173297f3d118a49e5b7b3dabe57e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-194">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1585">&#xFF03;1585</a></span></p></li><li><p id="change-0.5.7-6"><span class="yiyi-st" id="yiyi-195"><span class="target" id="change-1dc4c6e7d74bb61d6fa728e67a228d6d"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x5BF9;CompositeProperty&#x4E0A;&#x7684;get_committed_value()&#x7684;&#x8C03;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1dc4c6e7d74bb61d6fa728e67a228d6d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-196">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1504">&#xFF03;1504</a></span></p></li><li><p id="change-0.5.7-7"><span class="yiyi-st" id="yiyi-197"><span class="target" id="change-0f42893b8a0ff586bba4d1d1b7a1b642"><strong>[orm] </strong></span>Fixed bug where Query would crash if a join() with no clear &#x201C;left&#x201D; side were called when a non-mapped column entity appeared in the columns list.<a class="changeset-link headerlink reference internal" href="#change-0f42893b8a0ff586bba4d1d1b7a1b642">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-198">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1602">&#xFF03;1602</a></span></p></li><li><p id="change-0.5.7-8"><span class="yiyi-st" id="yiyi-199"><span class="target" id="change-83dc5691a5f7015fc10d5cf5d8cc181f"><strong>[orm] </strong></span>Fixed bug whereby composite columns wouldn&#x2019;t load properly when configured on a joined-table subclass, introduced in version 0.5.6 as a result of the fix for. </span><span class="yiyi-st" id="yiyi-200">thx to Scott Torborg&#x3002;<a class="changeset-link headerlink reference internal" href="#change-83dc5691a5f7015fc10d5cf5d8cc181f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-201">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1616">&#xFF03;1616</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1480">&#xFF03;1480</a></span></p></li><li><p id="change-0.5.7-9"><span class="yiyi-st" id="yiyi-202"><span class="target" id="change-56b79c2153a808998c71d6d836429bd8"><strong>[orm] </strong></span>The &#x201C;use get&#x201D; behavior of many-to-one relations, i.e. that a lazy load will fallback to the possibly cached query.get() value, now works across join conditions where the two compared types are not exactly the same class, but share the same &#x201C;affinity&#x201D; - i.e. Integer and SmallInteger. </span><span class="yiyi-st" id="yiyi-203">&#x8FD8;&#x5141;&#x8BB8;&#x53CD;&#x5C04;&#x7C7B;&#x578B;&#x548C;&#x975E;&#x53CD;&#x5C04;&#x7C7B;&#x578B;&#x7684;&#x7EC4;&#x5408;&#x4F7F;&#x7528;0.5&#x6837;&#x5F0F;&#x7C7B;&#x578B;&#x7684;&#x53CD;&#x5C04;&#xFF0C;&#x4F8B;&#x5982;PGText / Text&#xFF08;&#x6CE8;&#x610F;0.6&#x53CD;&#x6620;&#x7C7B;&#x578B;&#x4F5C;&#x4E3A;&#x5176;&#x901A;&#x7528;&#x7248;&#x672C;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-56b79c2153a808998c71d6d836429bd8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-204">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1556">&#xFF03;1556</a></span></p></li><li><p id="change-0.5.7-10"><span class="yiyi-st" id="yiyi-205"><span class="target" id="change-0e7c7e57cbf63637c2c6d7e339b898d2"><strong>[orm] </strong></span>Fixed bug in query.update() when passing Cls.attribute as keys in the value dict and using synchronize_session=&#x2019;expire&#x2019; (&#x2018;fetch&#x2019; in 0.6).<a class="changeset-link headerlink reference internal" href="#change-0e7c7e57cbf63637c2c6d7e339b898d2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-206">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1436">&#xFF03;1436</a></span></p></li></ul></div><div class="section" id="change-0.5.7-sql"><h3><span class="yiyi-st" id="yiyi-207">SQL <a class="headerlink" href="#change-0.5.7-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.7-11"><span class="yiyi-st" id="yiyi-208"><span class="target" id="change-90ddd20ebdf9aa18aa6b46e383828843"><strong>[sql] </strong></span>Fixed bug in two-phase transaction whereby commit() method didn&#x2019;t set the full state which allows subsequent close() call to succeed.<a class="changeset-link headerlink reference internal" href="#change-90ddd20ebdf9aa18aa6b46e383828843">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-209">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1603">&#xFF03;1603</a></span></p></li><li><p id="change-0.5.7-12"><span class="yiyi-st" id="yiyi-210"><span class="target" id="change-dea36b8a8804bde0500e3de803341e81"><strong>[sql] </strong></span>Fixed the &#x201C;numeric&#x201D; paramstyle, which apparently is the default paramstyle used by Informixdb.<a class="changeset-link headerlink reference internal" href="#change-dea36b8a8804bde0500e3de803341e81">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.7-13"><span class="yiyi-st" id="yiyi-211"><span class="target" id="change-1113d645a6af6e994b228afb6af6d0cc"><strong>[sql] </strong></span>Repeat expressions in the columns clause of a select are deduped based on the identity of each clause element, not the actual string. </span><span class="yiyi-st" id="yiyi-212">&#x8FD9;&#x5141;&#x8BB8;&#x4F4D;&#x7F6E;&#x5143;&#x7D20;&#x6B63;&#x786E;&#x5730;&#x5448;&#x73B0;&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x4EEC;&#x5168;&#x90E8;&#x5448;&#x73B0;&#x76F8;&#x540C;&#xFF0C;&#x4F8B;&#x5982;&#x201C;qmark&#x201D;&#x6837;&#x5F0F;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1113d645a6af6e994b228afb6af6d0cc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-213">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1574">&#xFF03;1574</a></span></p></li><li><p id="change-0.5.7-14"><span class="yiyi-st" id="yiyi-214"><span class="target" id="change-282c334839ec8fc95e85b310efe0b0ec"><strong>[sql] </strong></span>&#x4E0E;&#x8FDE;&#x63A5;&#x6C60;&#x8FDE;&#x63A5;&#x5173;&#x8054;&#x7684;&#x6E38;&#x6807;&#xFF08;&#x5373;_CursorFairy&#xFF09;&#x73B0;&#x5728;&#x6B63;&#x786E;&#x5730;&#x5C06;<cite>__ iter __()</cite>&#x4EE3;&#x7406;&#x5230;&#x5E95;&#x5C42;&#x6E38;&#x6807;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-282c334839ec8fc95e85b310efe0b0ec">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-215">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1632">&#xFF03;1632</a></span></p></li><li><p id="change-0.5.7-15"><span class="yiyi-st" id="yiyi-216"><span class="target" id="change-6447c5455b1dc2e4085905562e5a90d7"><strong>[sql] </strong></span>types now support an &#x201C;affinity comparison&#x201D; operation, i.e. that an Integer/SmallInteger are &#x201C;compatible&#x201D;, or a Text/String, PickleType/Binary, etc. </span><span class="yiyi-st" id="yiyi-217">&#x90E8;&#x5206;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6447c5455b1dc2e4085905562e5a90d7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-218">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1556">&#xFF03;1556</a></span></p></li><li><p id="change-0.5.7-16"><span class="yiyi-st" id="yiyi-219"><span class="target" id="change-e3d9eb142cd6308934879b26398c804a"><strong>[sql] </strong></span>Fixed bug preventing alias() of an alias() from being cloned or adapted (occurs frequently in ORM operations).<a class="changeset-link headerlink reference internal" href="#change-e3d9eb142cd6308934879b26398c804a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-220">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1641">&#xFF03;1641</a></span></p></li></ul></div><div class="section" id="change-0.5.7-postgresql"><h3><span class="yiyi-st" id="yiyi-221">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.5.7-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.7-17"><span class="yiyi-st" id="yiyi-222"><span class="target" id="change-285f02813a233d1a64010965c7e7d46e"><strong>[postgresql] </strong></span>&#x901A;&#x8FC7;&#x65B0;&#x7684;postgres.PGDoublePrecision&#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;&#x53CD;&#x6620;DOUBLE PRECISION&#x7C7B;&#x578B;&#x7684;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-223">&#x8FD9;&#x662F;0.6&#x4E2D;&#x7684;postgresql.DOUBLE_PRECISION&#x3002;<a class="changeset-link headerlink reference internal" href="#change-285f02813a233d1a64010965c7e7d46e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-224">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1085">&#xFF03;1085</a></span></p></li><li><p id="change-0.5.7-18"><span class="yiyi-st" id="yiyi-225"><span class="target" id="change-9869dc611263b6a47738adeb046e8e92"><strong>[postgresql] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;INTERVAL&#x7C7B;&#x578B;&#x7684;INTERVAL YEAR TO MONTH&#x548C;INTERVAL DAY TO SECOND&#x8BED;&#x6CD5;&#x7684;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9869dc611263b6a47738adeb046e8e92">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-226">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/460">&#xFF03;460</a></span></p></li><li><p id="change-0.5.7-19"><span class="yiyi-st" id="yiyi-227"><span class="target" id="change-348276082502e7ee642501b51e87b609"><strong>[postgresql] </strong></span>&#x66F4;&#x6B63;&#x4E86;&#x201C;has_sequence&#x201D;&#x67E5;&#x8BE2;&#x4EE5;&#x8003;&#x8651;&#x5F53;&#x524D;&#x6A21;&#x5F0F;&#x6216;&#x663E;&#x5F0F;&#x5E8F;&#x5217;&#x6A21;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-348276082502e7ee642501b51e87b609">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-228">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1576">&#xFF03;1576</a></span></p></li><li><p id="change-0.5.7-20"><span class="yiyi-st" id="yiyi-229"><span class="target" id="change-16cb8f29ef1c6da912d1c738ae74068d"><strong>[postgresql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;extract()&#x5728;&#x5E94;&#x7528;&#x201C;timestamp&#x201D;&#x8F6C;&#x6362;&#x65F6;&#x5C06;&#x8FD0;&#x7B97;&#x7B26;&#x4F18;&#x5148;&#x7EA7;&#x89C4;&#x5219;&#x5E94;&#x7528;&#x4E8E;&#x201C;::&#x201D;&#x8FD0;&#x7B97;&#x7B26; - &#x786E;&#x4FDD;&#x6B63;&#x786E;&#x7684;&#x62EC;&#x53F7;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-16cb8f29ef1c6da912d1c738ae74068d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-230">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1611">&#xFF03;1611</a></span></p></li></ul></div><div class="section" id="change-0.5.7-sqlite"><h3><span class="yiyi-st" id="yiyi-231">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.5.7-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.7-21"><span class="yiyi-st" id="yiyi-232"><span class="target" id="change-38abbb1aa83741482b4943a46d20a835"><strong>[sqlite] </strong></span> sqlite&#x65B9;&#x8A00;&#x6B63;&#x786E;&#x5730;&#x4E3A;&#x5904;&#x4E8E;&#x5907;&#x7528;&#x6A21;&#x5F0F;&#x4E2D;&#x7684;&#x8868;&#x751F;&#x6210;CREATE INDEX&#x3002;<a class="changeset-link headerlink reference internal" href="#change-38abbb1aa83741482b4943a46d20a835">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-233">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1439">&#xFF03;1439</a></span></p></li></ul></div><div class="section" id="change-0.5.7-mssql"><h3><span class="yiyi-st" id="yiyi-234">MSSQL <a class="headerlink" href="#change-0.5.7-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.7-22"><span class="yiyi-st" id="yiyi-235"><span class="target" id="change-b91807fd16a6879d886a98e03172a36b"><strong>[mssql] </strong></span>&#x5728;&#x6784;&#x5EFA;pyodbc&#x8FDE;&#x63A5;&#x53C2;&#x6570;&#x65F6;&#x5C06;TrustedConnection&#x7684;&#x540D;&#x79F0;&#x66F4;&#x6539;&#x4E3A;Trusted_Connection <a class="changeset-link headerlink reference internal" href="#change-b91807fd16a6879d886a98e03172a36b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-236">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1561">&#xFF03;1561</a></span></p></li></ul></div><div class="section" id="change-0.5.7-oracle"><h3><span class="yiyi-st" id="yiyi-237">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.5.7-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.7-23"><span class="yiyi-st" id="yiyi-238"><span class="target" id="change-8da4a36b631015a25392cbcab3c7ad04"><strong>[oracle] </strong></span>The &#x201C;table_names&#x201D; dialect function, used by MetaData .reflect(), omits &#x201C;index overflow tables&#x201D;, a system table generated by Oracle when &#x201C;index only tables&#x201D; with overflow are used. </span><span class="yiyi-st" id="yiyi-239">&#x8FD9;&#x4E9B;&#x8868;&#x4E0D;&#x80FD;&#x901A;&#x8FC7;SQL&#x8BBF;&#x95EE;&#xFF0C;&#x4E0D;&#x80FD;&#x53CD;&#x6620;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8da4a36b631015a25392cbcab3c7ad04">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-240">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1637">&#xFF03;1637</a></span></p></li></ul></div><div class="section" id="change-0.5.7-misc"><h3><span class="yiyi-st" id="yiyi-241">&#x6742;&#x9879;<a class="headerlink" href="#change-0.5.7-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.7-24"><span class="yiyi-st" id="yiyi-242"><span class="target" id="change-ed2a389aec169db8a34e5c988818084f"><strong>[ext] </strong></span>&#x5728;&#x6784;&#x9020;&#x7C7B;&#x4E4B;&#x540E;&#xFF08;&#x5373;&#x901A;&#x8FC7;&#x7C7B;&#x7EA7;&#x5C5E;&#x6027;&#x5206;&#x914D;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x5217;&#x6DFB;&#x52A0;&#x5230;&#x8054;&#x5408;&#x8868;&#x58F0;&#x660E;&#x5F0F;&#x8D85;&#x7C7B;&#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x8BE5;&#x5217;&#x5C06;&#x5411;&#x4E0B;&#x4F20;&#x64AD;&#x5230;&#x5B50;&#x7C7B;&#x3002;</span><span class="yiyi-st" id="yiyi-243">&#x8FD9;&#x662F;&#x76F8;&#x53CD;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x56FA;&#x5B9A;&#x5728;0.5.6. <a class="changeset-link headerlink reference internal" href="#change-ed2a389aec169db8a34e5c988818084f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-244">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1570">&#xFF03;1570</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1523">&#xFF03;1523</a></span></p></li><li><p id="change-0.5.7-25"><span class="yiyi-st" id="yiyi-245"><span class="target" id="change-e611ebfe687b0c2ef99c6348a9a40b35"><strong>[ext] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5206;&#x7247;&#x793A;&#x4F8B;&#x4E2D;&#x7684;&#x8F7B;&#x5FAE;&#x4E0D;&#x51C6;&#x786E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-246">&#x6BD4;&#x8F83;ORM&#x4E2D;&#x5217;&#x7684;&#x7B49;&#x4EF7;&#x6027;&#x6700;&#x597D;&#x4F7F;&#x7528;col1.shares_lineage&#xFF08;col2&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e611ebfe687b0c2ef99c6348a9a40b35">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-247">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1491">&#xFF03;1491</a></span></p></li><li><p id="change-0.5.7-26"><span class="yiyi-st" id="yiyi-248"><span class="target" id="change-c23faacc23d4d5d4fcf2fbc5a6a00340"><strong>[ext] </strong></span>&#x4ECE;ShardedQuery&#x4E2D;&#x79FB;&#x9664;&#x672A;&#x4F7F;&#x7528;&#x7684;<cite>load()</cite>&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c23faacc23d4d5d4fcf2fbc5a6a00340">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-249">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1606">&#xFF03;1606</a></span></p></li></ul></div></div><div class="section" id="change-0.5.6"><h2><span class="yiyi-st" id="yiyi-251">0.5.6 <a class="headerlink" href="#change-0.5.6" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-319">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2009&#x5E74;9&#x6708;12&#x65E5;</span><div class="section" id="change-0.5.6-orm"><h3><span class="yiyi-st" id="yiyi-252">ORM <a class="headerlink" href="#change-0.5.6-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.6-0"><span class="yiyi-st" id="yiyi-253"><span class="target" id="change-e377a6ac781cb62d4d6abf3473c81a24"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x590D;&#x5408;&#x4E3B;&#x952E;&#x7684;&#x7EE7;&#x627F;&#x9274;&#x522B;&#x5668;&#x90E8;&#x5206;&#x5728;&#x66F4;&#x65B0;&#x65F6;&#x5931;&#x8D25;&#x7684;&#x95EE;&#x9898;&#x3002;</span><span class="yiyi-st" id="yiyi-254">&#x7EE7;&#x7EED;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e377a6ac781cb62d4d6abf3473c81a24">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-255">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1300">&#xFF03;1300</a></span></p></li><li><p id="change-0.5.6-1"><span class="yiyi-st" id="yiyi-256"><span class="target" id="change-21bec2bccd75a800dce74b993437f025"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x4E00;&#x4E2A;&#x4E0D;&#x5141;&#x8BB8;&#x591A;&#x5BF9;&#x591A;&#x53CC;&#x5411;&#x5F15;&#x7528;&#x7684;&#x4E00;&#x8FB9;&#x58F0;&#x660E;&#x81EA;&#x5DF1;&#x4E3A;&#x201C;viewonly&#x201D;&#x7684;bug <a class="changeset-link headerlink reference internal" href="#change-21bec2bccd75a800dce74b993437f025">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-257">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1507">&#xFF03;1507</a></span></p></li><li><p id="change-0.5.6-2"><span class="yiyi-st" id="yiyi-258"><span class="target" id="change-413bce465d70e4b30ba74d205de21bbc"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65AD;&#x8A00;&#xFF0C;&#x7528;&#x4E8E;&#x963B;&#x6B62;@validates&#x51FD;&#x6570;&#x6216;&#x5176;&#x4ED6;AttributeExtension&#x52A0;&#x8F7D;&#x672A;&#x52A0;&#x8F7D;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x4F7F;&#x5185;&#x90E8;&#x72B6;&#x6001;&#x53EF;&#x80FD;&#x635F;&#x574F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-413bce465d70e4b30ba74d205de21bbc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-259">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1526">&#xFF03;1526</a></span></p></li><li><p id="change-0.5.6-3"><span class="yiyi-st" id="yiyi-260"><span class="target" id="change-939ca7047297631279649cb4be7ffa8a"><strong>[orm] </strong></span>Fixed bug which prevented two entities from mutually replacing each other&#x2019;s primary key values within a single flush() for some orderings of operations.<a class="changeset-link headerlink reference internal" href="#change-939ca7047297631279649cb4be7ffa8a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-261">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1519">&#xFF03;1519</a></span></p></li><li><p id="change-0.5.6-4"><span class="yiyi-st" id="yiyi-262"><span class="target" id="change-9e614f68926a2f9caf784974ef2ab8d6"><strong>[orm] </strong></span>Fixed an obscure issue whereby a joined-table subclass with a self-referential eager load on the base class would populate the related object&#x2019;s &#x201C;subclass&#x201D; table with data from the &#x201C;subclass&#x201D; table of the parent.<a class="changeset-link headerlink reference internal" href="#change-9e614f68926a2f9caf784974ef2ab8d6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-263">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1485">&#xFF03;1485</a></span></p></li><li><p id="change-0.5.6-5"><span class="yiyi-st" id="yiyi-264"><span class="target" id="change-36501830fd25288209b9374d875ddde6"><strong>[orm] </strong></span>relations() now have greater ability to be &#x201C;overridden&#x201D;, meaning a subclass that explicitly specifies a relation() overriding that of the parent class will be honored during a flush. </span><span class="yiyi-st" id="yiyi-265">&#x76EE;&#x524D;&#x8FD9;&#x662F;&#x4E3A;&#x4E86;&#x652F;&#x6301;&#x6765;&#x81EA;&#x5177;&#x4F53;&#x7EE7;&#x627F;&#x8BBE;&#x7F6E;&#x7684;&#x591A;&#x5BF9;&#x591A;&#x5173;&#x7CFB;&#x3002;</span><span class="yiyi-st" id="yiyi-266">&#x5728;&#x8FD9;&#x4E2A;&#x7528;&#x4F8B;&#x4E4B;&#x5916;&#xFF0C;YMMV&#x3002;<a class="changeset-link headerlink reference internal" href="#change-36501830fd25288209b9374d875ddde6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-267">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1477">&#xFF03;1477</a></span></p></li><li><p id="change-0.5.6-6"><span class="yiyi-st" id="yiyi-268"><span class="target" id="change-271faabb70c445bb48c86563489eabe9"><strong>[orm] </strong></span>&#x4ECE;&#x5173;&#x7CFB;()&#x4E2D;&#x6324;&#x51FA;&#x66F4;&#x591A;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x201C;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-269">&#x5F53;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#xFF0C;&#x9664;&#x975E;&#x8BBE;&#x7F6E;&#x4E86;&#x201C;single_parent = True&#x201D;&#xFF0C;&#x5426;&#x5219;&#x53E6;&#x4E00;&#x7AEF;&#x7684;&#x591A;&#x5BF9;&#x4E00;&#x540E;&#x9000;&#x5C06;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x52A0;&#x8F7D;&#x201C;&#x65E7;&#x201D;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-270">&#x591A;&#x5BF9;&#x4E00;&#x7684;&#x76F4;&#x63A5;&#x5206;&#x914D;&#x4ECD;&#x4F1A;&#x52A0;&#x8F7D;&#x201C;&#x65E7;&#x201D;&#x503C;&#xFF0C;&#x4EE5;&#x4FBF;&#x66F4;&#x65B0;&#x8BE5;&#x503C;&#x4E0A;&#x7684;backref&#x96C6;&#x5408;&#xFF0C;&#x8BE5;&#x96C6;&#x5408;&#x53EF;&#x80FD;&#x5DF2;&#x5B58;&#x5728;&#x4E8E;&#x4F1A;&#x8BDD;&#x4E2D;&#xFF0C;&#x4ECE;&#x800C;&#x7EF4;&#x62A4;0.5&#x884C;&#x4E3A;&#x5951;&#x7EA6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-271faabb70c445bb48c86563489eabe9">&#xB6; t0 &gt;</a></span></p><p><span class="yiyi-st" id="yiyi-271">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1483">&#xFF03;1483</a></span></p></li><li><p id="change-0.5.6-7"><span class="yiyi-st" id="yiyi-272"><span class="target" id="change-b11ab392a8221aaae324a0b843f92436"><strong>[orm] </strong></span>Fixed bug whereby a load/refresh of joined table inheritance attributes which were based on column_property() or similar would fail to evaluate.<a class="changeset-link headerlink reference internal" href="#change-b11ab392a8221aaae324a0b843f92436">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-273">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1480">&#xFF03;1480</a></span></p></li><li><p id="change-0.5.6-8"><span class="yiyi-st" id="yiyi-274"><span class="target" id="change-0a60b4eab11c772d6c8d654d52bf3c4b"><strong>[orm] </strong></span>&#x6539;&#x8FDB;&#x4E86;&#x5BF9;MapperProperty&#x5BF9;&#x8C61;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x8986;&#x76D6;&#x4E86;&#x975E;&#x5177;&#x4F53;&#x7EE7;&#x627F;&#x8BBE;&#x7F6E;&#x7684;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668; - &#x5C5E;&#x6027;&#x6269;&#x5C55;&#x4E0D;&#x4F1A;&#x968F;&#x673A;&#x76F8;&#x4E92;&#x78B0;&#x649E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0a60b4eab11c772d6c8d654d52bf3c4b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-275">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1488">&#xFF03;1488</a></span></p></li><li><p id="change-0.5.6-9"><span class="yiyi-st" id="yiyi-276"><span class="target" id="change-0d4f1ab1ab6b39d352893b946e2af9d9"><strong>[orm] </strong></span> UPDATE&#x548C;DELETE&#x4E0D;&#x652F;&#x6301;ORDER BY&#xFF0C;LIMIT&#xFF0C;OFFSET&#x7B49;&#x3002;</span><span class="yiyi-st" id="yiyi-277">&#x5728;&#x6807;&#x51C6;&#x7684;SQL&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-278">&#x5982;&#x679C;&#x8C03;&#x7528;&#x4E86;limit()&#xFF0C;offset()&#xFF0C;order_by()&#xFF0C;group_by()&#x6216;distinct()&#xFF0C;&#x5219;Query.update()&#x548C;Query.delete()&#x73B0;&#x5728;&#x4F1A;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0d4f1ab1ab6b39d352893b946e2af9d9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-279">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1487">&#xFF03;1487</a></span></p></li><li><p id="change-0.5.6-10"><span class="yiyi-st" id="yiyi-280"><span class="target" id="change-cd80ef9fe6dc09fc2205346b05be66a4"><strong>[orm] </strong></span>&#x5C06;AttributeExtension&#x6DFB;&#x52A0;&#x5230;sqlalchemy.orm .__ all __ <a class="changeset-link headerlink reference internal" href="#change-cd80ef9fe6dc09fc2205346b05be66a4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.6-11"><span class="yiyi-st" id="yiyi-281"><span class="target" id="change-ec7f05f44d5c54351798f563518bf6e5"><strong>[orm] </strong></span>Improved error message when query() is called with a non-SQL /entity expression.<a class="changeset-link headerlink reference internal" href="#change-ec7f05f44d5c54351798f563518bf6e5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-282">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1476">&#xFF03;1476</a></span></p></li><li><p id="change-0.5.6-12"><span class="yiyi-st" id="yiyi-283"><span class="target" id="change-622cc5e00f4af851cab2ca4cdbe9816a"><strong>[orm] </strong></span>&#x4F7F;&#x7528;False&#x6216;0&#x4F5C;&#x4E3A;&#x591A;&#x6001;&#x9274;&#x522B;&#x7B26;&#xFF0C;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5728;&#x57FA;&#x7C7B;&#x548C;&#x5B50;&#x7C7B;&#x4E0A;&#x4F7F;&#x7528;<a class="changeset-link headerlink reference internal" href="#change-622cc5e00f4af851cab2ca4cdbe9816a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-284">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1440">&#xFF03;1440</a></span></p></li><li><p id="change-0.5.6-13"><span class="yiyi-st" id="yiyi-285"><span class="target" id="change-86add61f8d0b31f3db1dafe61599f9fd"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;enable_assertions&#xFF08;False&#xFF09;&#x4EE5;&#x67E5;&#x8BE2;&#x54EA;&#x4E9B;&#x529F;&#x80FD;&#x4F1A;&#x7981;&#x7528;&#x9884;&#x671F;&#x72B6;&#x6001;&#x7684;&#x5E38;&#x7528;&#x65AD;&#x8A00; - &#x67E5;&#x8BE2;&#x5B50;&#x7C7B;&#x7528;&#x4E8E;&#x8BBE;&#x8BA1;&#x81EA;&#x5B9A;&#x4E49;&#x72B6;&#x6001;&#x3002;&#x8BF7;&#x53C2;&#x9605;<a class="reference external" href="http://www.sqlalchemy.org/trac/wiki/UsageRecipes/PreFilteredQuery">http://www.sqlalchemy.org/ trac / wiki / UsageRecipes / PreFilteredQuery</a>&#x4E3A;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-86add61f8d0b31f3db1dafe61599f9fd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-286">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1424">&#xFF03;1424</a></span></p></li><li><p id="change-0.5.6-14"><span class="yiyi-st" id="yiyi-287"><span class="target" id="change-bd03cdda4f3805582c68e5d89d128cee"><strong>[orm] </strong></span>Fixed recursion issue which occurred if a mapped object&#x2019;s <cite>__len__()</cite> or <cite>__nonzero__()</cite> method resulted in state changes.<a class="changeset-link headerlink reference internal" href="#change-bd03cdda4f3805582c68e5d89d128cee">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-288">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1501">&#xFF03;1501</a></span></p></li><li><p id="change-0.5.6-15"><span class="yiyi-st" id="yiyi-289"><span class="target" id="change-492e04471392666b62e00c94cf43b82e"><strong>[orm] </strong></span>Fixed incorrect exception raise in Weak/StrongIdentityMap.add()<a class="changeset-link headerlink reference internal" href="#change-492e04471392666b62e00c94cf43b82e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-290">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1506">&#xFF03;1506</a></span></p></li><li><p id="change-0.5.6-16"><span class="yiyi-st" id="yiyi-291"><span class="target" id="change-79f7955b6626dd510154f8e555b4f143"><strong>[orm] </strong></span>Fixed the error message for &#x201C;could not find a FROM clause&#x201D; in query.join() which would fail to issue correctly if the query was against a pure SQL construct.<a class="changeset-link headerlink reference internal" href="#change-79f7955b6626dd510154f8e555b4f143">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-292">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1522">&#xFF03;1522</a></span></p></li><li><p id="change-0.5.6-17"><span class="yiyi-st" id="yiyi-293"><span class="target" id="change-06567c7b80f2bf5f775fcdac8f4fb117"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x4E00;&#x4E2A;&#x6709;&#x70B9;&#x5047;&#x8BBE;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5B83;&#x4F1A;&#x5BFC;&#x81F4;&#x4F7F;&#x7528;&#x65E7;&#x7684;polymorphic_union&#x51FD;&#x6570;&#x8BA1;&#x7B97;&#x6620;&#x5C04;&#x5668;&#x7684;&#x9519;&#x8BEF;&#x4E3B;&#x952E; - &#x4F46;&#x8FD9;&#x662F;&#x65E7;&#x4E1C;&#x897F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-06567c7b80f2bf5f775fcdac8f4fb117">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-294">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1486">&#xFF03;1486</a></span></p></li></ul></div><div class="section" id="change-0.5.6-sql"><h3><span class="yiyi-st" id="yiyi-295">SQL <a class="headerlink" href="#change-0.5.6-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.6-18"><span class="yiyi-st" id="yiyi-296"><span class="target" id="change-3a5e144720affd0b71e0cea44d85fa80"><strong>[sql] </strong></span>&#x4FEE;&#x590D;&#x4E86;column.copy()&#x6765;&#x590D;&#x5236;&#x9ED8;&#x8BA4;&#x503C;&#x548C;onupdates&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3a5e144720affd0b71e0cea44d85fa80">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-297">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1373">&#xFF03;1373</a></span></p></li><li><p id="change-0.5.6-19"><span class="yiyi-st" id="yiyi-298"><span class="target" id="change-99749b627af38a3ab394a246b4f50b4e"><strong>[sql] </strong></span>Fixed a bug in extract() introduced in 0.5.4 whereby the string &#x201C;field&#x201D; argument was getting treated as a ClauseElement, causing various errors within more complex SQL transformations.<a class="changeset-link headerlink reference internal" href="#change-99749b627af38a3ab394a246b4f50b4e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.6-20"><span class="yiyi-st" id="yiyi-299"><span class="target" id="change-a2da94cbd3d65ae38ac60a995fca7496"><strong>[sql] </strong></span>&#x4E00;&#x5143;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;&#x5982;DISTINCT&#xFF09;&#x5C06;&#x5176;&#x7C7B;&#x578B;&#x5904;&#x7406;&#x4F20;&#x64AD;&#x5230;&#x7ED3;&#x679C;&#x96C6;&#xFF0C;&#x4ECE;&#x800C;&#x5141;&#x8BB8;&#x50CF;unicode&#x4E4B;&#x7C7B;&#x7684;&#x8F6C;&#x6362;&#x53D1;&#x751F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a2da94cbd3d65ae38ac60a995fca7496">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-300">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1420">&#xFF03;1420</a></span></p></li><li><p id="change-0.5.6-21"><span class="yiyi-st" id="yiyi-301"><span class="target" id="change-42423bddc5c58508e18ba4802e3cfd52"><strong>[sql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;Table&#x548C;Column&#x4E2D;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x4F20;&#x9012;&#x201C;info&#x201D;&#x53C2;&#x6570;&#x7684;&#x7A7A;&#x5B57;&#x5178;&#x4F1A;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-42423bddc5c58508e18ba4802e3cfd52">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-302">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1482">&#xFF03;1482</a></span></p></li></ul></div><div class="section" id="change-0.5.6-oracle"><h3><span class="yiyi-st" id="yiyi-303">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.5.6-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.6-22"><span class="yiyi-st" id="yiyi-304"><span class="target" id="change-2cbd246043e6f11db78ec4d9bcf2b6cd"><strong>[oracle] </strong></span>&#x9488;&#x5BF9;Oracle&#x522B;&#x540D;&#x7684;Backported 0.6&#x4FEE;&#x590D;&#x4E0D;&#x4F1A;&#x88AB;&#x622A;&#x65AD;<a class="changeset-link headerlink reference internal" href="#change-2cbd246043e6f11db78ec4d9bcf2b6cd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-305">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1309">&#xFF03;1309</a></span></p></li></ul></div><div class="section" id="change-0.5.6-misc"><h3><span class="yiyi-st" id="yiyi-306">&#x6742;&#x9879;<a class="headerlink" href="#change-0.5.6-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.6-23"><span class="yiyi-st" id="yiyi-307"><span class="target" id="change-4093be8cbdab495564f9ccc28298b34f"><strong>[ext] </strong></span>&#x7531;associationproxy&#x751F;&#x6210;&#x7684;&#x96C6;&#x5408;&#x4EE3;&#x7406;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x88AB;pickleable&#x3002;</span><span class="yiyi-st" id="yiyi-308">&#x4F46;&#x662F;&#xFF0C;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;proxy_factory&#x9664;&#x975E;&#x5B9A;&#x4E49;__getstate__&#x548C;__setstate __&#xFF0C;&#x5426;&#x5219;&#x4ECD;&#x7136;&#x4E0D;&#x53EF;&#x9009;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4093be8cbdab495564f9ccc28298b34f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-309">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1446">&#xFF03;1446</a></span></p></li><li><p id="change-0.5.6-24"><span class="yiyi-st" id="yiyi-310"><span class="target" id="change-fda92ddefb6831ca7c8303d4489d964a"><strong>[ext] </strong></span>Declarative will raise an informative exception if __table_args__ is passed as a tuple with no dict argument. </span><span class="yiyi-st" id="yiyi-311">&#x6539;&#x8FDB;&#x7684;&#x6587;&#x6863;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fda92ddefb6831ca7c8303d4489d964a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-312">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1468">&#xFF03;1468</a></span></p></li><li><p id="change-0.5.6-25"><span class="yiyi-st" id="yiyi-313"><span class="target" id="change-8fc95671d45876214d8e04f575f2981b"><strong>[ext] </strong></span>Table objects declared in the MetaData can now be used in string expressions sent to primaryjoin/secondaryjoin/ secondary - the name is pulled from the MetaData of the declarative base.<a class="changeset-link headerlink reference internal" href="#change-8fc95671d45876214d8e04f575f2981b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-314">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1527">&#xFF03;1527</a></span></p></li><li><p id="change-0.5.6-26"><span class="yiyi-st" id="yiyi-315"><span class="target" id="change-d11b075fc91fd14dae4a242abd35198a"><strong>[ext] </strong></span>&#x5728;&#x6784;&#x9020;&#x7C7B;&#x4E4B;&#x540E;&#xFF08;&#x5373;&#xFF0C;&#x901A;&#x8FC7;&#x7C7B;&#x7EA7;&#x5C5E;&#x6027;&#x5206;&#x914D;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x5217;&#x6DFB;&#x52A0;&#x5230;&#x8054;&#x63A5;&#x8868;&#x5B50;&#x7C7B;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-316">&#x8BE5;&#x5217;&#x4E00;&#x76F4;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x5E95;&#x5C42;&#x8868;&#xFF0C;&#x4F46;&#x73B0;&#x5728;&#x6620;&#x5C04;&#x5668;&#x5C06;&#x91CD;&#x65B0;&#x6784;&#x5EFA;&#x5B83;&#x7684;&#x201C;&#x8FDE;&#x63A5;&#x201D;&#x4EE5;&#x5305;&#x542B;&#x65B0;&#x5217;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5F15;&#x53D1;&#x201C;&#x6CA1;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x5217;&#x201D;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x7528;column_property()&#x4EE3;&#x66FF;&#x201C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d11b075fc91fd14dae4a242abd35198a">&#xB6;&lt; / T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-317">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1523">&#xFF03;1523</a></span></p></li><li><p id="change-0.5.6-27"><span class="yiyi-st" id="yiyi-318"><span class="target" id="change-94585ae176a1f269e4d1db5e4819e921"><strong>[test] </strong></span>&#x5728;&#x6D4B;&#x8BD5;&#x5957;&#x4EF6;&#x4E2D;&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E9B;&#x793A;&#x4F8B;&#xFF0C;&#x4EE5;&#x4FBF;&#x5B83;&#x4EEC;&#x5B9A;&#x671F;&#x953B;&#x70BC;&#x5E76;&#x6E05;&#x9664;&#x4E00;&#x4E9B;&#x53CD;&#x5BF9;&#x5F03;&#x7528;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-94585ae176a1f269e4d1db5e4819e921">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.5.5"><h2><span class="yiyi-st" id="yiyi-320">0.5.5 <a class="headerlink" href="#change-0.5.5" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-361">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2009&#x5E74;7&#x6708;13&#x65E5;</span><div class="section" id="change-0.5.5-general"><h3><span class="yiyi-st" id="yiyi-321">&#x4E00;&#x822C;<a class="headerlink" href="#change-0.5.5-general" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.5-0"><span class="yiyi-st" id="yiyi-322"><span class="target" id="change-b291919579ac2922c1861f30d9c48534"><strong>[general] </strong></span>&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x5DF2;&#x4ECE;unittest&#x8FC1;&#x79FB;&#x5230;nose&#x3002;</span><span class="yiyi-st" id="yiyi-323">&#x6709;&#x5173;&#x5982;&#x4F55;&#x8FD0;&#x884C;&#x6D4B;&#x8BD5;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;README.unittests&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b291919579ac2922c1861f30d9c48534">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-324">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/970">&#xFF03;970</a></span></p></li></ul></div><div class="section" id="change-0.5.5-orm"><h3><span class="yiyi-st" id="yiyi-325">ORM <a class="headerlink" href="#change-0.5.5-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.5-1"><span class="yiyi-st" id="yiyi-326"><span class="target" id="change-4e7cee15f685dfecf68097230f6e27be"><strong>[orm] </strong></span> relation()&#x7684;&#x201C;foreign_keys&#x201D;&#x53C2;&#x6570;&#x73B0;&#x5728;&#x5C06;&#x4EE5;&#x4E0E;primaryjoin&#x548C;secondaryjoin&#x76F8;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#x81EA;&#x52A8;&#x4F20;&#x64AD;&#x5230;backref&#x3002;</span><span class="yiyi-st" id="yiyi-327">For the extremely rare use case where the backref of a relation() has intentionally different &#x201C;foreign_keys&#x201D; configured, both sides now need to be configured explicitly (if they do in fact require this setting, see the next note...).<a class="changeset-link headerlink reference internal" href="#change-4e7cee15f685dfecf68097230f6e27be">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.5-2"><span class="yiyi-st" id="yiyi-328"><span class="target" id="change-24fc47177d47aae7dc806a78788115f0"><strong>[orm] </strong></span> ...&#x552F;&#x4E00;&#x5DF2;&#x77E5;&#x7684;&#xFF08;&#x5B9E;&#x9645;&#x4E0A;&#x975E;&#x200B;&#x200B;&#x5E38;&#x7F55;&#x89C1;&#x7684;&#xFF09;&#x7528;&#x4F8B;&#xFF0C;&#x5176;&#x4E2D;&#x5728;&#x5411;&#x524D;/&#x5411;&#x540E;&#x4FA7;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;foreign_keys&#x8BBE;&#x7F6E;&#xFF0C;&#x90E8;&#x5206;&#x6307;&#x5411;&#x5176;&#x81EA;&#x5DF1;&#x7684;&#x5217;&#x7684;&#x7EC4;&#x5408;&#x5916;&#x952E;&#xFF0C;&#x5DF2;&#x88AB;&#x589E;&#x5F3A;&#xFF0C;&#x4F7F;&#x5F97;&#x5173;&#x7CFB;&#x7684;fk-&gt;&#x81EA;&#x8EAB;&#x65B9;&#x9762;&#x4E0D;&#x4F1A;&#x7528;&#x4E8E;&#x786E;&#x5B9A;&#x5173;&#x7CFB;&#x65B9;&#x5411;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-24fc47177d47aae7dc806a78788115f0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.5-3"><span class="yiyi-st" id="yiyi-329"><span class="target" id="change-5ec7b4a36de5fda6af191af1682064eb"><strong>[orm] </strong></span> Session.mapper&#x73B0;&#x5728;<em>&#x5DF2;&#x5F03;&#x7528;</em>&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-330">&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8BA9;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x5BF9;&#x8C61;&#x6210;&#x4E3A;&#x4F1A;&#x8BDD;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x8BF7;&#x8C03;&#x7528;session.add()&#x3002;</span><span class="yiyi-st" id="yiyi-331">&#x5426;&#x5219;&#xFF0C;&#x73B0;&#x5728;&#x5728;<a class="reference external" href="http://www.sqlalchemy.org/trac/wiki/UsageRecipes/SessionAwareMapper">http://www.sqlalchemy.org/trac/wiki/UsageRecipes/SessionAwareMapper</a>&#x4E2D;&#x8BB0;&#x5F55;&#x4E86;&#x4E00;&#x4E2A;DIY&#x7248;&#x672C;&#x7684;Session.mapper&#x3002;&#x8BE5;&#x65B9;&#x6CD5;&#x5C06;&#x5728;&#x6574;&#x4E2A;0.6&#x7248;&#x672C;&#x4E2D;&#x4FDD;&#x6301;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x3002;</span></p><span class="yiyi-st" id="yiyi-332"> <a class="changeset-link headerlink reference internal" href="#change-5ec7b4a36de5fda6af191af1682064eb">&#xB6;</a></span><p></p></li><li><p id="change-0.5.5-4"><span class="yiyi-st" id="yiyi-333"><span class="target" id="change-17862f643537dcbc4df0471a4553a0bd"><strong>[orm] </strong></span>Fixed Query being able to join() from individual columns of a joined-table subclass entity, i.e. query(SubClass.foo, SubcClass.bar).join(<anything>). </anything></span><span class="yiyi-st" id="yiyi-334">&#x5728;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F1A;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x201C;&#x65E0;&#x6CD5;&#x627E;&#x5230;&#x8981;&#x4ECE;&#x4E2D;&#x52A0;&#x5165;&#x7684;FROM&#x5B50;&#x53E5;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-335">&#x5728;&#x5176;&#x4ED6;&#x4E00;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7ED3;&#x679C;&#x5C06;&#x4EE5;&#x57FA;&#x7C7B;&#x800C;&#x4E0D;&#x662F;&#x5B50;&#x7C7B;&#x7684;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE; - &#x56E0;&#x6B64;&#x9700;&#x8981;&#x8C03;&#x6574;&#x4F9D;&#x8D56;&#x6B64;&#x9519;&#x8BEF;&#x7ED3;&#x679C;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-17862f643537dcbc4df0471a4553a0bd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-336">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1431">&#xFF03;1431</a></span></p></li><li><p id="change-0.5.5-5"><span class="yiyi-st" id="yiyi-337"><span class="target" id="change-45cab12e273914c4095fe6753eb613b7"><strong>[orm] </strong></span>Fixed a bug involving contains_eager(), which would apply itself to a secondary (i.e. lazy) load in a particular rare case, producing cartesian products. </span><span class="yiyi-st" id="yiyi-338">&#x6539;&#x8FDB;&#x4E86;&#x5BF9;&#x4E8C;&#x7EA7;&#x8D1F;&#x8F7D;query.options()&#x7684;&#x6574;&#x4F53;&#x5B9A;&#x4F4D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-45cab12e273914c4095fe6753eb613b7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-339">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1461">&#xFF03;1461</a></span></p></li><li><p id="change-0.5.5-6"><span class="yiyi-st" id="yiyi-340"><span class="target" id="change-103ff88cc328345956bf43128d6228a2"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5728;0.5.4&#x4E2D;&#x5F15;&#x5165;&#x7684;&#x7F3A;&#x9677;&#xFF0C;&#x56E0;&#x6B64;&#x5F53;&#x6E05;&#x9664;&#x9ED8;&#x8BA4;&#x6301;&#x6709;&#x7684;&#x5217;&#x65F6;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x5931;&#x8D25;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-103ff88cc328345956bf43128d6228a2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.5-7"><span class="yiyi-st" id="yiyi-341"><span class="target" id="change-a4bd6f267de2ee8961aca6a80454335c"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x53E6;&#x4E00;&#x4E2A;0.5.4&#x7684;bug&#xFF0C;&#x5373;&#x5F53;&#x6574;&#x4E2A;&#x5BF9;&#x8C61;&#x88AB;&#x5E8F;&#x5217;&#x5316;&#x65F6;&#xFF0C;&#x53EF;&#x53D8;&#x5C5E;&#x6027;&#xFF08;&#x5373;PickleType&#xFF09;&#x4E0D;&#x4F1A;&#x88AB;&#x6B63;&#x786E;&#x5730;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a4bd6f267de2ee8961aca6a80454335c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-342">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1426">&#xFF03;1426</a></span></p></li><li><p id="change-0.5.5-8"><span class="yiyi-st" id="yiyi-343"><span class="target" id="change-9786df0adacfa866cdc2f8a7e8ef1ba4"><strong>[orm] </strong></span>Fixed bug whereby session.is_modified() would raise an exception if any synonyms were in use.<a class="changeset-link headerlink reference internal" href="#change-9786df0adacfa866cdc2f8a7e8ef1ba4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.5-9"><span class="yiyi-st" id="yiyi-344"><span class="target" id="change-41602c4224b47194b140b47ade7dc16f"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x6F5C;&#x5728;&#x7684;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#xFF0C;&#x56E0;&#x4E3A;&#x5148;&#x524D;&#x88AB;&#x5254;&#x9664;&#x7684;&#x5BF9;&#x8C61;&#x653E;&#x56DE;&#x5230;&#x4F1A;&#x8BDD;&#x4E2D;&#x5C06;&#x4E0D;&#x4F1A;&#x88AB;&#x5B8C;&#x5168;&#x5783;&#x573E;&#x6536;&#x96C6;&#xFF0C;&#x9664;&#x975E;Session&#x88AB;&#x660E;&#x786E;&#x5173;&#x95ED;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-41602c4224b47194b140b47ade7dc16f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.5-10"><span class="yiyi-st" id="yiyi-345"><span class="target" id="change-c44cbe8c9a172ffd50841eca0f7e0e4b"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x57FA;&#x4E8E;&#x5217;&#x8868;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x5982;pickletype&#x548C;PGArray&#xFF0C;&#x65E0;&#x6CD5;&#x5408;&#x5E76;()&#x7684;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c44cbe8c9a172ffd50841eca0f7e0e4b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.5-11"><span class="yiyi-st" id="yiyi-346"><span class="target" id="change-fddc914c8b585115272b6107670f7d9a"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x975E;&#x5DE5;&#x4F5C;&#x5C5E;&#x6027;.set_committed_value&#x51FD;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fddc914c8b585115272b6107670f7d9a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.5-12"><span class="yiyi-st" id="yiyi-347"><span class="target" id="change-38276e4fa1687abecb695e85c17bf6c0"><strong>[orm] </strong></span>&#x4FEE;&#x526A;InstanceState&#x7684;pickle&#x683C;&#x5F0F;&#xFF0C;&#x8FD9;&#x4F1A;&#x8FDB;&#x4E00;&#x6B65;&#x51CF;&#x5C11;pickled&#x5B9E;&#x4F8B;&#x7684;&#x5185;&#x5B58;&#x5360;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-348">&#x683C;&#x5F0F;&#x5E94;&#x8BE5;&#x4E0E;0.5.4&#x548C;&#x4E4B;&#x524D;&#x7684;&#x683C;&#x5F0F;&#x5411;&#x540E;&#x517C;&#x5BB9;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-38276e4fa1687abecb695e85c17bf6c0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.5-13"><span class="yiyi-st" id="yiyi-349"><span class="target" id="change-938ee7f755114d272d61da8161799836"><strong>[orm] </strong></span>sqlalchemy.orm.join and sqlalchemy.orm.outerjoin are now added to __all__ in sqlalchemy.orm. </span><span class="yiyi-st" id="yiyi-350">* <a class="changeset-link headerlink reference internal" href="#change-938ee7f755114d272d61da8161799836">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-351">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1463">&#xFF03;1463</a></span></p></li><li><p id="change-0.5.5-14"><span class="yiyi-st" id="yiyi-352"><span class="target" id="change-e4350e9ef86688cbc129c52b3135c7af"><strong>[orm] </strong></span>Fixed bug where Query exception raise would fail when a too-short composite primary key value were passed to get().<a class="changeset-link headerlink reference internal" href="#change-e4350e9ef86688cbc129c52b3135c7af">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-353">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1458">&#xFF03;1458</a></span></p></li></ul></div><div class="section" id="change-0.5.5-sql"><h3><span class="yiyi-st" id="yiyi-354">SQL <a class="headerlink" href="#change-0.5.5-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.5-15"><span class="yiyi-st" id="yiyi-355"><span class="target" id="change-b94ba806169e988459d7239aad691687"><strong>[sql] </strong></span>Removed an obscure feature of execute() (including connection, engine, Session) whereby a bindparam() construct can be sent as a key to the params dictionary. </span><span class="yiyi-st" id="yiyi-356">&#x8FD9;&#x4E2A;&#x7528;&#x6CD5;&#x662F;&#x6CA1;&#x6709;&#x8BB0;&#x5F55;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x662F;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#x6838;&#x5FC3;&#xFF0C;&#x7531;text()&#x6784;&#x9020;&#x9690;&#x5F0F;&#x521B;&#x5EFA;&#x7684;bindparam()&#x5BF9;&#x8C61;&#x53EF;&#x80FD;&#x4E0E;&#x653E;&#x7F6E;&#x5728;params&#x5B57;&#x5178;&#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5177;&#x6709;&#x76F8;&#x540C;&#x7684;&#x6563;&#x5217;&#x503C;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x8BA1;&#x7B97;&#x65F6;&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x4E0D;&#x9002;&#x5F53;&#x7684;&#x5339;&#x914D;&#x6700;&#x7EC8;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-357">&#x5BF9;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x7684;&#x5185;&#x90E8;&#x68C0;&#x67E5;&#x4F1A;&#x589E;&#x52A0;&#x53C2;&#x6570;&#x5448;&#x73B0;&#x7684;&#x5173;&#x952E;&#x4EFB;&#x52A1;&#x7684;&#x663E;&#x7740;&#x5EF6;&#x8FDF;&#xFF0C;&#x56E0;&#x6B64;&#x884C;&#x4E3A;&#x5C06;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-358">&#x5BF9;&#x4E8E;&#x4EFB;&#x4F55;&#x53EF;&#x80FD;&#x4F7F;&#x7528;&#x6B64;&#x529F;&#x80FD;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5411;&#x540E;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x4F46;&#x662F;&#x8BE5;&#x529F;&#x80FD;&#x4ECE;&#x672A;&#x88AB;&#x8BB0;&#x5F55;&#x8FC7;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b94ba806169e988459d7239aad691687">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.5-misc"><h3><span class="yiyi-st" id="yiyi-359">&#x6742;&#x9879;<a class="headerlink" href="#change-0.5.5-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.5-16"><span class="yiyi-st" id="yiyi-360"><span class="target" id="change-8d79519ee7c9700dfa29d6abe4cdc84f"><strong>[engine/pool] </strong></span>&#x4E3A;StaticPool&#x5B9E;&#x73B0;&#x4E86;recreate()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8d79519ee7c9700dfa29d6abe4cdc84f">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.5.4p2"><h2><span class="yiyi-st" id="yiyi-362">0.5.4p2 <a class="headerlink" href="#change-0.5.4p2" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-370">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2009&#x5E74;5&#x6708;26&#x65E5;</span><div class="section" id="change-0.5.4p2-sql"><h3><span class="yiyi-st" id="yiyi-363">SQL <a class="headerlink" href="#change-0.5.4p2-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.4p2-0"><span class="yiyi-st" id="yiyi-364"><span class="target" id="change-62b7b5ea2627c1a58405b73e6485a68a"><strong>[sql] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x4E0D;&#x57FA;&#x4E8E;&#x53C2;&#x6570;&#x6216;&#x4E0D;&#x662F;executemany()&#x98CE;&#x683C;&#x7684;SQL&#x5F02;&#x5E38;&#x6253;&#x5370;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-62b7b5ea2627c1a58405b73e6485a68a">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.4p2-postgresql"><h3><span class="yiyi-st" id="yiyi-365">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.5.4p2-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.4p2-1"><span class="yiyi-st" id="yiyi-366"><span class="target" id="change-bb7bb4c34e0e00220dd3155755cebe15"><strong>[postgresql] </strong></span>&#x5F03;&#x7528;&#x786C;&#x7F16;&#x7801;&#x7684;TIMESTAMP&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x5728;&#x7528;&#x4F5C;func.TIMESTAMP&#xFF08;value&#xFF09;&#x65F6;&#x4F1A;&#x5448;&#x73B0;&#x201C;TIMESTAMP&#x503C;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-367">&#x7531;&#x4E8E;PostgreSQL&#x4E0D;&#x5141;&#x8BB8;&#x5728;&#x6B64;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x4F7F;&#x7528;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x67D0;&#x4E9B;&#x5E73;&#x53F0;&#x4E0A;&#x53D1;&#x751F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;</span><span class="yiyi-st" id="yiyi-368">&#x786C;&#x7F16;&#x7801;&#x7684;&#x5927;&#x5199;&#x5B57;&#x6BCD;&#x4E5F;&#x662F;&#x4E0D;&#x5408;&#x9002;&#x7684;&#xFF0C;&#x8FD8;&#x6709;&#x5F88;&#x591A;&#x5176;&#x4ED6;&#x7684;PG&#x9700;&#x8981;&#x6211;&#x4EEC;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-369">&#x76F8;&#x53CD;&#xFF0C;&#x4F7F;&#x7528;&#x6587;&#x672C;&#x7ED3;&#x6784;&#x5373;select&#xFF08;[&#x201C;timestamp &apos;12 / 05/09&apos;&#x201D;]&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bb7bb4c34e0e00220dd3155755cebe15">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.5.4p1"><h2><span class="yiyi-st" id="yiyi-371">0.5.4p1 <a class="headerlink" href="#change-0.5.4p1" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-374">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2009&#x5E74;5&#x6708;18&#x65E5;</span><div class="section" id="change-0.5.4p1-orm"><h3><span class="yiyi-st" id="yiyi-372">ORM <a class="headerlink" href="#change-0.5.4p1-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.4p1-0"><span class="yiyi-st" id="yiyi-373"><span class="target" id="change-fe8595c476f4a3e16ce1856812832d7c"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;0.5.4&#x4E2D;&#x5F15;&#x5165;&#x7684;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x9519;&#x8BEF;&#xFF0C;&#x5F53;merge()&#x4E0E;&#x4E00;&#x4E2A;&#x4E0D;&#x5B8C;&#x6574;&#x7684;&#x5BF9;&#x8C61;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x65F6;&#x4F1A;&#x53D1;&#x751F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fe8595c476f4a3e16ce1856812832d7c">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.5.4"><h2><span class="yiyi-st" id="yiyi-375">0.5.4 <a class="headerlink" href="#change-0.5.4" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-457">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2009&#x5E74;5&#x6708;17&#x65E5;</span><div class="section" id="change-0.5.4-orm"><h3><span class="yiyi-st" id="yiyi-376">ORM <a class="headerlink" href="#change-0.5.4-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.4-0"><span class="yiyi-st" id="yiyi-377"><span class="target" id="change-8c507593c28a9c706a8b28b9bb6a4906"><strong>[orm] </strong></span>Significant performance enhancements regarding Sessions/flush() in conjunction with large mapper graphs, large numbers of objects:</span></p><ul><li><span class="yiyi-st" id="yiyi-379">&#x4ECE;flush()&#x8FDB;&#x7A0B;&#x4E2D;&#x5220;&#x9664;&#x4E86;&#x6240;&#x6709;* O&#xFF08;N&#xFF09;&#x626B;&#x63CF;&#x884C;&#x4E3A;&#xFF0C;&#x5373;&#x626B;&#x63CF;&#x6574;&#x4E2A;&#x4F1A;&#x8BDD;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5305;&#x62EC;&#x975E;&#x5E38;&#x6602;&#x8D35;&#x7684;&#xFF0C;&#x9519;&#x8BEF;&#x5730;&#x5047;&#x5B9A;&#x4E3B;&#x952E;&#x503C;&#x5728;&#x975E;&#x60C5;&#x51B5;&#x4E0B;&#x6B63;&#x5728;&#x6539;&#x53D8;&#x7684;&#x64CD;&#x4F5C;&#x3002;</span><ul><li><span class="yiyi-st" id="yiyi-378">&#x5982;&#x679C;&#x73B0;&#x6709;&#x4E3B;&#x952E;&#x5C5E;&#x6027;&#x88AB;&#x4FEE;&#x6539;&#x4E3A;&#x65B0;&#x503C;&#xFF0C;&#x5219;&#x53EF;&#x80FD;&#x4F1A;&#x8C03;&#x7528;&#x5168;&#x626B;&#x63CF;&#x7684;&#x4E00;&#x4E2A;&#x8FB9;&#x7F18;&#x6848;&#x4F8B;&#x3002;</span></li></ul></li><li><span class="yiyi-st" id="yiyi-385">The Session&#x2019;s &#x201C;weak referencing&#x201D; behavior is now <em>full</em> - no strong references whatsoever are made to a mapped object or related items/collections in its __dict__. </span><span class="yiyi-st" id="yiyi-386">&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x540E;&#x9000;&#x5904;&#x7406;&#x548C;&#x5176;&#x4ED6;&#x5FAA;&#x73AF;&#x4E0D;&#x518D;&#x5F71;&#x54CD;&#x4F1A;&#x8BDD;&#x4E22;&#x5931;&#x5BF9;&#x672A;&#x4FEE;&#x6539;&#x5BF9;&#x8C61;&#x7684;&#x6240;&#x6709;&#x5F15;&#x7528;&#x7684;&#x80FD;&#x529B;&#x3002;</span><span class="yiyi-st" id="yiyi-387">&#x5177;&#x6709;&#x6302;&#x8D77;&#x66F4;&#x6539;&#x7684;&#x5BF9;&#x8C61;&#x4ECD;&#x7136;&#x5F3A;&#x70C8;&#x7EF4;&#x62A4;&#xFF0C;&#x76F4;&#x5230;&#x5237;&#x65B0;&#x3002;</span><p><span class="yiyi-st" id="yiyi-380">&#x901A;&#x8FC7;&#x5C06;&#x5783;&#x573E;&#x6536;&#x96C6;&#x9879;&#x76EE;&#x7684;&#x201C;&#x590D;&#x6D3B;&#x201D;&#x8FC7;&#x7A0B;&#x79FB;&#x52A8;&#x5230;&#x4EC5;&#x4E0E;&#x6620;&#x5C04;&#x201C;&#x53EF;&#x53D8;&#x201D;&#x5C5E;&#x6027;&#xFF08;&#x5373;PickleType&#xFF0C;&#x590D;&#x5408;&#x5173;&#x8054;&#xFF09;&#x7684;&#x6620;&#x5C04;&#x76F8;&#x5173;&#xFF0C;&#x8BE5;&#x5B9E;&#x73B0;&#x8FD8;&#x63D0;&#x9AD8;&#x4E86;&#x6027;&#x80FD;&#x3002;</span><span class="yiyi-st" id="yiyi-381">&#x8FD9;&#x6D88;&#x9664;&#x4E86;gc&#x8FC7;&#x7A0B;&#x7684;&#x5F00;&#x9500;&#x5E76;&#x7B80;&#x5316;&#x4E86;&#x5185;&#x90E8;&#x884C;&#x4E3A;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-382">&#x5982;&#x679C;&#x201C;&#x53EF;&#x53D8;&#x201D;&#x5C5E;&#x6027;&#x66F4;&#x6539;&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x552F;&#x4E00;&#x66F4;&#x6539;&#xFF0C;&#x7136;&#x540E;&#x8BE5;&#x5BF9;&#x8C61;&#x88AB;&#x89E3;&#x5F15;&#x7528;&#xFF0C;&#x90A3;&#x4E48;&#x5F53;UPDATE&#x53D1;&#x5E03;&#x65F6;&#xFF0C;&#x6620;&#x5C04;&#x5668;&#x5C06;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#x5176;&#x4ED6;&#x5C5E;&#x6027;&#x72B6;&#x6001;&#x3002;</span><span class="yiyi-st" id="yiyi-383">&#x5BF9;&#x4E8E;&#x67D0;&#x4E9B;MapperExtensions&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-384">&#x6B64;&#x66F4;&#x6539;&#x8FD8;&#x4F1A;&#x5F71;&#x54CD;&#x5185;&#x90E8;&#x5C5E;&#x6027;API&#xFF0C;&#x4F46;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;AttributeExtension&#x754C;&#x9762;&#x6216;&#x4EFB;&#x4F55;&#x516C;&#x5F00;&#x8BB0;&#x5F55;&#x7684;&#x5C5E;&#x6027;&#x51FD;&#x6570;&#x3002;</span></p></li><li><span class="yiyi-st" id="yiyi-388">&#x5DE5;&#x4F5C;&#x5355;&#x5143;&#x4E0D;&#x518D;&#x4E3A;flush()&#x671F;&#x95F4;&#x7684;mapper&#x5B8C;&#x6574;&#x56FE;&#x5F62;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x201C;dependency&#x201D;&#x5904;&#x7406;&#x5668;&#x56FE;&#x8868;&#xFF0C;&#x800C;&#x662F;&#x4EC5;&#x4E3A;&#x4EE3;&#x8868;&#x5177;&#x6709;&#x672A;&#x51B3;&#x66F4;&#x6539;&#x5BF9;&#x8C61;&#x7684;&#x6620;&#x5C04;&#x5668;&#x521B;&#x5EFA;&#x6B64;&#x7C7B;&#x5904;&#x7406;&#x5668;&#x3002;</span><span class="yiyi-st" id="yiyi-389">&#x8FD9;&#x5728;&#x6620;&#x5C04;&#x5668;&#x7684;&#x5927;&#x578B;&#x4E92;&#x8FDE;&#x56FE;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x8282;&#x7701;&#x4E86;&#x5927;&#x91CF;&#x7684;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-390">&#x7F13;&#x5B58;&#x4E86;&#x5148;&#x524D;&#x6BCF;&#x6B21;&#x5237;&#x65B0;&#x591A;&#x6B21;&#x51FA;&#x73B0;&#x7684;&#x6D6A;&#x8D39;&#x7684;&#x201C;&#x8868;&#x683C;&#x6392;&#x5E8F;&#x201D;&#x64CD;&#x4F5C;&#xFF0C;&#x4E5F;&#x4ECE;flush()&#x4E2D;&#x5220;&#x9664;&#x4E86;&#x91CD;&#x8981;&#x7684;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x8BA1;&#x6570;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-391">&#x5176;&#x4ED6;&#x591A;&#x4F59;&#x7684;&#x884C;&#x4E3A;&#x5DF2;&#x7ECF;&#x5728;mapper._save_obj()&#x4E2D;&#x7B80;&#x5316;&#x4E86;&#x3002;</span></li></ul><span class="yiyi-st" id="yiyi-393"> <a class="changeset-link headerlink reference internal" href="#change-8c507593c28a9c706a8b28b9bb6a4906">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-392">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1398">&#xFF03;1398</a></span></p></li><li><p id="change-0.5.4-1"><span class="yiyi-st" id="yiyi-394"><span class="target" id="change-02d1af2be8f7649b6004f9e563fc9e85"><strong>[orm] </strong></span>&#x4FEE;&#x6539;&#x4E86;DynamicAttributeImpl&#x4E0A;&#x7684;query_cls&#x4EE5;&#x63A5;&#x53D7;AppenderQuery&#x7684;&#x5B8C;&#x6574;&#x6DF7;&#x5408;&#x7248;&#x672C;&#xFF0C;&#x8BE5;&#x7248;&#x672C;&#x5141;&#x8BB8;&#x5BF9;AppenderMixin&#x8FDB;&#x884C;&#x5B50;&#x7C7B;&#x5316;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-02d1af2be8f7649b6004f9e563fc9e85">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.4-2"><span class="yiyi-st" id="yiyi-395"><span class="target" id="change-9afb5ea823566aaac340ca1fdcd9d108"><strong>[orm] </strong></span>&#x201C;&#x591A;&#x6001;&#x9274;&#x522B;&#x5668;&#x201D;&#x5217;&#x53EF;&#x4EE5;&#x662F;&#x4E3B;&#x952E;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5E76;&#x4E14;&#x5C06;&#x586B;&#x5145;&#x6B63;&#x786E;&#x7684;&#x9274;&#x522B;&#x7B26;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9afb5ea823566aaac340ca1fdcd9d108">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-396">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1300">&#xFF03;1300</a></span></p></li><li><p id="change-0.5.4-3"><span class="yiyi-st" id="yiyi-397"><span class="target" id="change-765bf6633bf8d6d51c59b3bf1dc71045"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x8BC4;&#x4F30;&#x8005;&#x65E0;&#x6CD5;&#x8BC4;&#x4F30;IS NULL&#x5B50;&#x53E5;&#x7684;&#x60C5;&#x51B5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-765bf6633bf8d6d51c59b3bf1dc71045">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.4-4"><span class="yiyi-st" id="yiyi-398"><span class="target" id="change-33e14ebeceaa52fab11e805acf5eb04e"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x201C;&#x52A8;&#x6001;&#x201D;&#x5173;&#x7CFB;&#x7684;&#x201C;&#x96C6;&#x5408;&#x96C6;&#x5408;&#x201D;&#x529F;&#x80FD;&#xFF0C;&#x4EE5;&#x6B63;&#x786E;&#x542F;&#x52A8;&#x4E8B;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-399">&#x4EE5;&#x524D;&#x53EA;&#x80FD;&#x5C06;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x5206;&#x914D;&#x7ED9;&#x5F85;&#x5904;&#x7406;&#x7684;&#x7236;&#x5B9E;&#x4F8B;&#xFF0C;&#x5426;&#x5219;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x4E8B;&#x4EF6;&#x4E0D;&#x4F1A;&#x88AB;&#x6B63;&#x786E;&#x89E6;&#x53D1;&#x3002;</span><span class="yiyi-st" id="yiyi-400">Set&#x96C6;&#x5408;&#x73B0;&#x5728;&#x517C;&#x5BB9;merge()&#xFF0C;&#x4FEE;&#x590D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-33e14ebeceaa52fab11e805acf5eb04e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-401">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1352">&#xFF03;1352</a></span></p></li><li><p id="change-0.5.4-5"><span class="yiyi-st" id="yiyi-402"><span class="target" id="change-0f4934965e99f59451b514175a5478a7"><strong>[orm] </strong></span>&#x5141;&#x8BB8;&#x5BF9;&#x4F7F;&#x7528;&#x68C0;&#x6D4B;&#x63CF;&#x8FF0;&#x7B26;&#x6784;&#x9020;&#x7684;PropertyOption&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x9178;&#x6D17;&#xFF1B;&#x4EE5;&#x524D;&#xFF0C;&#x5728;&#x9178;&#x6D17;&#x4E00;&#x4E2A;&#x52A0;&#x8F7D;&#x4E86;&#x57FA;&#x4E8E;&#x63CF;&#x8FF0;&#x7B26;&#x7684;&#x9009;&#x9879;&#x7684;&#x5BF9;&#x8C61;&#xFF08;&#x6BD4;&#x5982;query.options&#xFF08;eagerload&#xFF08;MyClass.foo&#xFF09;&#xFF09;&#x65F6;&#x4F1A;&#x53D1;&#x751F;pickle&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0f4934965e99f59451b514175a5478a7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.4-6"><span class="yiyi-st" id="yiyi-403">&#x5982;&#x679C;&#x201C;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x201D;SQL&#x5B50;&#x53E5;&#x4E0E;get()&#x4F7F;&#x7528;&#x7684;&#x5B50;&#x53E5;&#x76F8;&#x5339;&#x914D;&#xFF0C;&#x4F46;&#x5305;&#x542B;&#x67D0;&#x4E9B;&#x786C;&#x7F16;&#x7801;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x61D2;&#x60F0;&#x52A0;&#x8F7D;&#x7A0B;&#x5E8F;&#x5C06;&#x4E0D;&#x4F1A;&#x4F7F;&#x7528;get()&#x3002;<span class="target" id="change-08b2a4944a9b24faa36cfd730f464541"><strong>[orm] </strong></span></span><span class="yiyi-st" id="yiyi-404">&#x4EE5;&#x524D;&#xFF0C;&#x61D2;&#x60F0;&#x7B56;&#x7565;&#x4F1A;&#x5931;&#x8D25;&#xFF0C;get()&#x3002;</span><span class="yiyi-st" id="yiyi-405">&#x7406;&#x60F3;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;get()&#x5C06;&#x7528;&#x4E8E;&#x786C;&#x7F16;&#x7801;&#x53C2;&#x6570;&#xFF0C;&#x4F46;&#x8FD9;&#x9700;&#x8981;&#x8FDB;&#x4E00;&#x6B65;&#x5F00;&#x53D1;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-08b2a4944a9b24faa36cfd730f464541">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-406">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1357">&#xFF03;1357</a></span></p></li><li><p id="change-0.5.4-7"><span class="yiyi-st" id="yiyi-407"><span class="target" id="change-ede32bc8bf8a18fb1c656d4d0d19c2de"><strong>[orm] </strong></span>MapperOptions and other state associated with query.options() is no longer bundled within callables associated with each lazy/deferred-loading attribute during a load. </span><span class="yiyi-st" id="yiyi-408">&#x73B0;&#x5728;&#xFF0C;&#x9009;&#x9879;&#x5728;&#x586B;&#x5145;&#x65F6;&#x4E0E;&#x5B9E;&#x4F8B;&#x7684;&#x72B6;&#x6001;&#x5BF9;&#x8C61;&#x5173;&#x8054;&#x4E00;&#x6B21;&#x3002;</span><span class="yiyi-st" id="yiyi-409">&#x8FD9;&#x6D88;&#x9664;&#x4E86;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x5BF9;&#x6BCF;&#x4E2A;&#x5B9E;&#x4F8B;/&#x5C5E;&#x6027;&#x52A0;&#x8F7D;&#x5668;&#x5BF9;&#x8C61;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x63D0;&#x9AD8;&#x4E86;&#x5355;&#x4E2A;&#x5B9E;&#x4F8B;&#x7684;&#x52A0;&#x8F7D;&#x901F;&#x5EA6;&#x548C;&#x5185;&#x5B58;&#x5F00;&#x9500;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ede32bc8bf8a18fb1c656d4d0d19c2de">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-410">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1391">&#xFF03;1391</a></span></p></li><li><p id="change-0.5.4-8"><span class="yiyi-st" id="yiyi-411"><span class="target" id="change-68a6b0a8471cb14cc06532a4b3ee39ec"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;autoflush&#x5E72;&#x6270;session.merge()&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x3002;</span><span class="yiyi-st" id="yiyi-412">autoflush&#x5728;merge()now&#x671F;&#x95F4;&#x88AB;&#x5B8C;&#x5168;&#x7981;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-68a6b0a8471cb14cc06532a4b3ee39ec">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-413">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1360">&#xFF03;1360</a></span></p></li><li><p id="change-0.5.4-9"><span class="yiyi-st" id="yiyi-414"><span class="target" id="change-c143a7896b6a700568186ae4cdd28302"><strong>[orm] </strong></span>Fixed bug which prevented &#x201C;mutable primary key&#x201D; dependency logic from functioning properly on a one-to-one relation().<a class="changeset-link headerlink reference internal" href="#change-c143a7896b6a700568186ae4cdd28302">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-415">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1406">&#xFF03;1406</a></span></p></li><li><p id="change-0.5.4-10"><span class="yiyi-st" id="yiyi-416"><span class="target" id="change-a29f9754bc238d3a72cda15f442d153b"><strong>[orm] </strong></span>Fixed bug in relation(), introduced in 0.5.3, whereby a self referential relation from a base class to a joined-table subclass would not configure correctly.<a class="changeset-link headerlink reference internal" href="#change-a29f9754bc238d3a72cda15f442d153b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.4-11"><span class="yiyi-st" id="yiyi-417"><span class="target" id="change-b92b0b122859758ffdb16e6c35539077"><strong>[orm] </strong></span>&#x4F7F;&#x7528;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668;&#x7684;&#x56FA;&#x5B9A;&#x6A21;&#x7CCA;&#x6620;&#x5C04;&#x5668;&#x7F16;&#x8BD1;&#x95EE;&#x9898;&#x4F1A;&#x5BFC;&#x81F4;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x5C5E;&#x6027;<a class="changeset-link headerlink reference internal" href="#change-b92b0b122859758ffdb16e6c35539077">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.4-12"><span class="yiyi-st" id="yiyi-418"><span class="target" id="change-fa6a44199fecae4da34ff430bf581a4c"><strong>[orm] </strong></span>&#x4F1A;&#x8BDD;&#x7684;&#x56FA;&#x5B9A;&#x6587;&#x6863;weak_identity_map  - &#x9ED8;&#x8BA4;&#x503C;&#x4E3A;True&#xFF0C;&#x8868;&#x793A;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x5F31;&#x5F15;&#x7528;&#x5730;&#x56FE;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fa6a44199fecae4da34ff430bf581a4c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.4-13"><span class="yiyi-st" id="yiyi-419"><span class="target" id="change-8e34b36b4b2a7c1908d3d1f8d9dc789f"><strong>[orm] </strong></span>Fixed a unit of work issue whereby the foreign key attribute on an item contained within a collection owned by an object being deleted would not be set to None if the relation() was self-referential.<a class="changeset-link headerlink reference internal" href="#change-8e34b36b4b2a7c1908d3d1f8d9dc789f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-420">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1376">&#xFF03;1376</a></span></p></li><li><p id="change-0.5.4-14"><span class="yiyi-st" id="yiyi-421"><span class="target" id="change-98f3b9a092c02fbbc7ad6057d90ff7b9"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x4F7F;&#x7528;&#x9884;&#x5148;&#x52A0;&#x8F7D;&#x5173;&#x7CFB;&#x7684;Query.update()&#x548C;Query.delete()&#x5931;&#x8D25;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-98f3b9a092c02fbbc7ad6057d90ff7b9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-422">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1378">&#xFF03;1378</a></span></p></li><li><p id="change-0.5.4-15"><span class="yiyi-st" id="yiyi-423"><span class="target" id="change-dc9f22bb714dcf5a5310cb3c1a45ec33"><strong>[orm] </strong></span>&#x5728;foreign_keys&#x6216;remote_side&#x96C6;&#x5408;&#x4E2D;&#x6307;&#x5B9A;&#x4E8C;&#x8FDB;&#x5236;primaryjoin&#x6761;&#x4EF6;&#x7684;&#x5217;&#x73B0;&#x5728;&#x662F;&#x9519;&#x8BEF;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-424">&#x800C;&#x4EE5;&#x524D;&#x5B83;&#x53EA;&#x662F;&#x65E0;&#x610F;&#x4E49;&#x7684;&#xFF0C;&#x4F46;&#x4F1A;&#x4EE5;&#x975E;&#x786E;&#x5B9A;&#x6027;&#x7684;&#x65B9;&#x5F0F;&#x83B7;&#x5F97;&#x6210;&#x529F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dc9f22bb714dcf5a5310cb3c1a45ec33">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.4-sql"><h3><span class="yiyi-st" id="yiyi-425">SQL <a class="headerlink" href="#change-0.5.4-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.4-16"><span class="yiyi-st" id="yiyi-426"><span class="target" id="change-89258126655ed4679dfaa9df772ac8ba"><strong>[sql] </strong></span>Back-ported the &#x201C;compiler&#x201D; extension from SQLA 0.6. </span><span class="yiyi-st" id="yiyi-427">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6807;&#x51C6;&#x5316;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x5141;&#x8BB8;&#x521B;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49;&#x7684;ClauseElement&#x5B50;&#x7C7B;&#x548C;&#x7F16;&#x8BD1;&#x5668;&#x3002;</span><span class="yiyi-st" id="yiyi-428">&#x7279;&#x522B;&#x662F;&#x5F53;&#x60A8;&#x60F3;&#x8981;&#x6784;&#x5EFA;&#x5177;&#x6709;&#x7279;&#x5B9A;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7F16;&#x8BD1;&#x7684;&#x6784;&#x9020;&#x65F6;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;text()&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-429">&#x6709;&#x5173;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x6269;&#x5C55;&#x6587;&#x6863;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-89258126655ed4679dfaa9df772ac8ba">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.4-17"><span class="yiyi-st" id="yiyi-430"><span class="target" id="change-6a264288f4c28d189d06b156158f75f9"><strong>[sql] </strong></span>Exception messages are truncated when the list of bound parameters is larger than 10, preventing enormous multi-page exceptions from filling up screens and logfiles for large executemany() statements.<a class="changeset-link headerlink reference internal" href="#change-6a264288f4c28d189d06b156158f75f9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-431">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1413">&#xFF03;1413</a></span></p></li><li><p id="change-0.5.4-18"><span class="yiyi-st" id="yiyi-432"><span class="target" id="change-01d31f576dc5491eb4674d5a24c5dd32"><strong>[sql] </strong></span><code class="docutils literal"><span class="pre">sqlalchemy.extract()</span></code> is now dialect sensitive and can extract components of timestamps idiomatically across the supported databases, including SQLite.<a class="changeset-link headerlink reference internal" href="#change-01d31f576dc5491eb4674d5a24c5dd32">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.4-19"><span class="yiyi-st" id="yiyi-433"><span class="target" id="change-898794cdf1dd9645bd1fd9efac46a7f0"><strong>[sql] </strong></span>&#x4FEE;&#x590D;&#x4E86;__clause_element __()&#x98CE;&#x683C;&#x6784;&#x9020;&#xFF08;&#x5373;&#x58F0;&#x660E;&#x6027;&#x5217;&#xFF09;&#x6784;&#x9020;&#x7684;ForeignKey&#x4E0A;&#x7684;__repr __()&#x548C;&#x5176;&#x4ED6;_get_colspec()&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-898794cdf1dd9645bd1fd9efac46a7f0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-434">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1353">&#xFF03;1353</a></span></p></li></ul></div><div class="section" id="change-0.5.4-schema"><h3><span class="yiyi-st" id="yiyi-435">&#x67B6;&#x6784;<a class="headerlink" href="#change-0.5.4-schema" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.4-20"><span class="yiyi-st" id="yiyi-436"><span class="target" id="change-794d23381cdd544ab4c3b79eab6cac16"><strong>[schema] [1341] [ticket: 594] </strong></span>Added a quote_schema() method to the IdentifierPreparer class so that dialects can override how schemas get handled. </span><span class="yiyi-st" id="yiyi-437">&#x8FD9;&#x4F7F;&#x5F97;MSSQL&#x65B9;&#x8A00;&#x53EF;&#x4EE5;&#x5C06;&#x6A21;&#x5F0F;&#x89C6;&#x4E3A;&#x591A;&#x90E8;&#x5206;&#x6807;&#x8BC6;&#x7B26;&#xFF0C;&#x5982;&apos;database.owner&apos;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-794d23381cdd544ab4c3b79eab6cac16">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.4-mysql"><h3><span class="yiyi-st" id="yiyi-438">MySQL&#x7684;<a class="headerlink" href="#change-0.5.4-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.4-21"><span class="yiyi-st" id="yiyi-439"><span class="target" id="change-e9757b5037798376d36b7052c50712f6"><strong>[mysql] </strong></span>&#x5982;&#x679C;&#x5916;&#x952E;&#x5F15;&#x7528;&#x8FDC;&#x7A0B;&#x6A21;&#x5F0F;&#x4E2D;&#x7684;&#x8868;&#xFF0C;&#x5219;&#x53CD;&#x6620;FOREIGN KEY&#x7ED3;&#x6784;&#x5C06;&#x8003;&#x8651;&#x865A;&#x7EBF;schema.tablename&#x7EC4;&#x5408;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e9757b5037798376d36b7052c50712f6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-440">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1405">&#xFF03;1405</a></span></p></li></ul></div><div class="section" id="change-0.5.4-sqlite"><h3><span class="yiyi-st" id="yiyi-441">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.5.4-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.4-22"><span class="yiyi-st" id="yiyi-442"><span class="target" id="change-4450dd533e773dd96f7a084af9a2a7ca"><strong>[sqlite] </strong></span>&#x4FEE;&#x6B63;&#x4E86;SLBoolean&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x4FBF;&#x5B83;&#x53EA;&#x5C06;1&#x4F5C;&#x4E3A;True&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4450dd533e773dd96f7a084af9a2a7ca">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-443">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1402">&#xFF03;1402</a></span></p></li><li><p id="change-0.5.4-23"><span class="yiyi-st" id="yiyi-444"><span class="target" id="change-7cd77e4e92c89a03ee8a6bd01ea65288"><strong>[sqlite] </strong></span>&#x66F4;&#x6B63;&#x6D6E;&#x70B9;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;&#x53CD;&#x5C04;&#x65F6;&#x6B63;&#x786E;&#x6620;&#x5C04;&#x5230;SLFloat&#x7C7B;&#x578B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7cd77e4e92c89a03ee8a6bd01ea65288">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-445">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1273">&#xFF03;1273</a></span></p></li></ul></div><div class="section" id="change-0.5.4-mssql"><h3><span class="yiyi-st" id="yiyi-446">MSSQL <a class="headerlink" href="#change-0.5.4-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.4-24"><span class="yiyi-st" id="yiyi-447"><span class="target" id="change-34b2f02d462e1dad2f952dfca3b176d2"><strong>[mssql] </strong></span>&#x4FEE;&#x6539;&#x4E86;&#x4FDD;&#x5B58;&#x70B9;&#x903B;&#x8F91;&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#xFF0C;&#x4EE5;&#x9632;&#x6B62;&#x5B83;&#x8DE8;&#x8FC7;&#x975E;&#x4FDD;&#x5B58;&#x70B9;&#x5BFC;&#x5411;&#x7684;&#x4F8B;&#x7A0B;&#x3002;</span><span class="yiyi-st" id="yiyi-448">Savepoint&#x652F;&#x6301;&#x4ECD;&#x7136;&#x662F;&#x975E;&#x5E38;&#x5B9E;&#x9A8C;&#x6027;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-34b2f02d462e1dad2f952dfca3b176d2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.4-25"><span class="yiyi-st" id="yiyi-449"><span class="target" id="change-2dfd6cf98bed7b00fa27c24db33e98ef"><strong>[mssql] </strong></span>&#x6DFB;&#x52A0;MSSQL&#x7684;&#x4FDD;&#x7559;&#x5B57;&#xFF0C;&#x6DB5;&#x76D6;&#x7248;&#x672C;2008&#x548C;&#x4EE5;&#x524D;&#x7684;&#x6240;&#x6709;&#x7248;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2dfd6cf98bed7b00fa27c24db33e98ef">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-450">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1310">&#xFF03;1310</a></span></p></li><li><p id="change-0.5.4-26"><span class="yiyi-st" id="yiyi-451"><span class="target" id="change-a58e32c6e4a30bcfc4a03e4bb2997895"><strong>[mssql] </strong></span>&#x66F4;&#x6B63;&#x4E86;&#x4FE1;&#x606F;&#x6A21;&#x5F0F;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x57FA;&#x4E8E;&#x4E8C;&#x8FDB;&#x5236;&#x6392;&#x5E8F;&#x89C4;&#x5219;&#x7684;&#x6570;&#x636E;&#x5E93;&#x3002;</span><span class="yiyi-st" id="yiyi-452">&#x6E05;&#x7406;&#x4FE1;&#x606F;&#x6A21;&#x5F0F;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x73B0;&#x5728;&#x53EA;&#x88AB;mssql&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a58e32c6e4a30bcfc4a03e4bb2997895">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-453">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1343">&#xFF03;1343</a></span></p></li></ul></div><div class="section" id="change-0.5.4-misc"><h3><span class="yiyi-st" id="yiyi-454">&#x6742;&#x9879;<a class="headerlink" href="#change-0.5.4-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.4-27"><span class="yiyi-st" id="yiyi-455"><span class="target" id="change-6142a6736e533364992dc02fc1bd2905"><strong>[extensions] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x58F0;&#x660E;&#x5F0F;&#x7C7B;&#x7684;&#x5EF6;&#x8FDF;&#x6216;&#x5176;&#x4ED6;&#x5217;&#x5C5E;&#x6027;&#x7684;&#x589E;&#x52A0;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6142a6736e533364992dc02fc1bd2905">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-456">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1379">&#xFF03;1379</a></span></p></li></ul></div></div><div class="section" id="change-0.5.3"><h2><span class="yiyi-st" id="yiyi-458">0.5.3 <a class="headerlink" href="#change-0.5.3" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-528">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2009&#x5E74;3&#x6708;24&#x65E5;</span><div class="section" id="change-0.5.3-orm"><h3><span class="yiyi-st" id="yiyi-459">ORM <a class="headerlink" href="#change-0.5.3-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.3-0"><span class="yiyi-st" id="yiyi-460"><span class="target" id="change-db1d72103852cfcb972a2119cd1e8100"><strong>[orm] </strong></span>&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;session.flush()&#x7684;&#x201C;objects&#x201D;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-461">&#x8868;&#x793A;&#x7236;&#x5BF9;&#x8C61;&#x4E0E;&#x5B50;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x94FE;&#x63A5;&#x7684;&#x72B6;&#x6001;&#x4E0D;&#x652F;&#x6301;&#x94FE;&#x63A5;&#x4E00;&#x4FA7;&#x800C;&#x4E0D;&#x662F;&#x53E6;&#x4E00;&#x4FA7;&#x7684;&#x201C;&#x5237;&#x65B0;&#x201D;&#x72B6;&#x6001;&#xFF0C;&#x56E0;&#x6B64;&#x652F;&#x6301;&#x6B64;&#x64CD;&#x4F5C;&#x4F1A;&#x5BFC;&#x81F4;&#x8BEF;&#x5BFC;&#x7ED3;&#x679C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-db1d72103852cfcb972a2119cd1e8100">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-462">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1315">&#xFF03;1315</a></span></p></li><li><p id="change-0.5.3-1"><span class="yiyi-st" id="yiyi-463"><span class="target" id="change-e7587d306012f7b240f0e8d0b47973bd"><strong>[orm] </strong></span>Query now implements __clause_element__() which produces its selectable, which means a Query instance can be accepted in many SQL expressions, including col.in_(query), union(query1, query2), select([foo]).select_from(query), etc.<a class="changeset-link headerlink reference internal" href="#change-e7587d306012f7b240f0e8d0b47973bd">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.3-2"><span class="yiyi-st" id="yiyi-464"><span class="target" id="change-1ea1a46ef46bddd4113e372777bbdd7b"><strong>[orm] </strong></span>Query.join() can now construct multiple FROM clauses, if needed. </span><span class="yiyi-st" id="yiyi-465">&#x5982;&#x67E5;&#x8BE2;&#xFF08;A&#xFF0C;B&#xFF09;.join&#xFF08;A.x&#xFF09;.join&#xFF08;B.y&#xFF09;&#x53EF;&#x80FD;&#x4F1A;&#x8BF4;SELECT A.</span><span class="yiyi-st" id="yiyi-466">*&#xFF0C;B</span><span class="yiyi-st" id="yiyi-467">*&#x4ECE;A JOIN X&#xFF0C;B JOIN Y.</span><span class="yiyi-st" id="yiyi-468">&#x6025;&#x5207;&#x7684;&#x52A0;&#x8F7D;&#x4E5F;&#x53EF;&#x4EE5;&#x52A0;&#x5165;&#x5230;&#x591A;&#x4E2A;FROM&#x5B50;&#x53E5;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1ea1a46ef46bddd4113e372777bbdd7b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-469">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1337">&#xFF03;1337</a></span></p></li><li><p id="change-0.5.3-3"><span class="yiyi-st" id="yiyi-470"><span class="target" id="change-87e7bf3e238b44f6f2d0b81211ee2d90"><strong>[orm] </strong></span>Fixed bug in dynamic_loader() where append/remove events after construction time were not being propagated to the UOW to pick up on flush().<a class="changeset-link headerlink reference internal" href="#change-87e7bf3e238b44f6f2d0b81211ee2d90">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-471">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1347">&#xFF03;1347</a></span></p></li><li><p id="change-0.5.3-4"><span class="yiyi-st" id="yiyi-472"><span class="target" id="change-ee1b0cf4caa20be816da0374ad4e7fe9"><strong>[orm] </strong></span>Fixed bug where column_prefix wasn&#x2019;t being checked before not mapping an attribute that already had class-level name present.<a class="changeset-link headerlink reference internal" href="#change-ee1b0cf4caa20be816da0374ad4e7fe9">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.3-5"><span class="yiyi-st" id="yiyi-473"><span class="target" id="change-442895d66bb3ffff66fa2aaa04e5a00f"><strong>[orm] </strong></span>a session.expire() on a particular collection attribute will clear any pending backref additions as well, so that the next access correctly returns only what was present in the database. </span><span class="yiyi-st" id="yiyi-474">&#x5C3D;&#x7BA1;&#x6211;&#x4EEC;&#x6B63;&#x5728;&#x8003;&#x8651;&#x5F7B;&#x5E95;&#x5220;&#x9664;flush&#xFF08;[objects]&#xFF09;&#x7279;&#x6027;&#xFF0C;&#x4F46;&#x4E3A;&#x67D0;&#x79CD;&#x7A0B;&#x5EA6;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-442895d66bb3ffff66fa2aaa04e5a00f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-475">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1315">&#xFF03;1315</a></span></p></li><li><p id="change-0.5.3-6"><span class="yiyi-st" id="yiyi-476"><span class="target" id="change-e39483da4bef1d4c9c7a2563d9fd396f"><strong>[orm] </strong></span>Session.scalar() now converts raw SQL strings to text() the same way Session.execute() does and accepts same alternative **kw args.<a class="changeset-link headerlink reference internal" href="#change-e39483da4bef1d4c9c7a2563d9fd396f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.3-7"><span class="yiyi-st" id="yiyi-477"><span class="target" id="change-a502af23359ad8929b580406382ab22f"><strong>[orm] </strong></span>improvements to the &#x201C;determine direction&#x201D; logic of relation() such that the direction of tricky situations like mapper(A.join(B)) -&gt; relation-&gt; mapper(B) can be determined.<a class="changeset-link headerlink reference internal" href="#change-a502af23359ad8929b580406382ab22f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.3-8"><span class="yiyi-st" id="yiyi-478"><span class="target" id="change-d959719a53bc430983e9bdfb60ed473c"><strong>[orm] </strong></span>When flushing partial sets of objects using session.flush([somelist]), pending objects which remain pending after the operation won&#x2019;t inadvertently be added as persistent.<a class="changeset-link headerlink reference internal" href="#change-d959719a53bc430983e9bdfb60ed473c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-479">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1306">&#xFF03;1306</a></span></p></li><li><p id="change-0.5.3-9"><span class="yiyi-st" id="yiyi-480"><span class="target" id="change-1e7641278419404b4ccff781a8493eef"><strong>[orm] </strong></span>&#x5411;InstrumentationManager&#x6DFB;&#x52A0;&#x4E86;&#x201C;post_configure_attribute&#x201D;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE5;&#x4FBF;&#x201C;listen_for_events.py&#x201D;&#x793A;&#x4F8B;&#x518D;&#x6B21;&#x8FD0;&#x884C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1e7641278419404b4ccff781a8493eef">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-481">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1314">&#xFF03;1314</a></span></p></li><li><p id="change-0.5.3-10"><span class="yiyi-st" id="yiyi-482"><span class="target" id="change-1416ba36c9a6db7488347ac2f1836434"><strong>[orm] </strong></span>a forward and complementing backwards reference which are both of the same direction, i.e. ONETOMANY or MANYTOONE, is now detected, and an error message is raised. </span><span class="yiyi-st" id="yiyi-483">&#x7A0D;&#x540E;&#x4FDD;&#x5B58;&#x75AF;&#x72C2;&#x7684;CircularDependencyErrors&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1416ba36c9a6db7488347ac2f1836434">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.3-11"><span class="yiyi-st" id="yiyi-484"><span class="target" id="change-82634554436213406975972cc9a9185f"><strong>[orm] </strong></span>Fixed bugs in Query regarding simultaneous selection of multiple joined-table inheritance entities with common base classes:</span></p><ul><li><span class="yiyi-st" id="yiyi-485">&#x5148;&#x524D;&#x5728;&#x201C;A JOIN B&#x201D;&#x4E0A;&#x5E94;&#x7528;&#x4E8E;&#x201C;B&#x201D;&#x7684;&#x9002;&#x914D;&#x5C06;&#x9519;&#x8BEF;&#x5730;&#x90E8;&#x5206;&#x5E94;&#x7528;&#x4E8E;&#x201C;A&#x201D;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-486">&#x5173;&#x7CFB;&#x7684;&#x6BD4;&#x8F83;&#xFF08;&#x5373;A.related == someb&#xFF09;&#x6CA1;&#x6709;&#x5F97;&#x5230;&#x9002;&#x5E94;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4ED6;&#x4EEC;&#x5E94;&#x8BE5;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-487">&#x5176;&#x4ED6;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x5982;&#x67E5;&#x8BE2;&#xFF08;A&#xFF09;.join&#xFF08;A.bs&#xFF09;.filter&#xFF08;B.foo ==&apos;bar&apos;&#xFF09;&#xFF0C;&#x9519;&#x8BEF;&#x5730;&#x5C06;&#x201C;B.foo&#x201D;&#x6539;&#x5199;&#x4E3A;&#x201C;A&#x201D;&#x3002;</span></li></ul><span class="yiyi-st" id="yiyi-488"> <a class="changeset-link headerlink reference internal" href="#change-82634554436213406975972cc9a9185f">&#xB6;</a></span><p></p></li><li><p id="change-0.5.3-12"><span class="yiyi-st" id="yiyi-489"><span class="target" id="change-192d36e5463caf99edcc9d7d3b1d9ccc"><strong>[orm] </strong></span>Fixed adaptation of EXISTS clauses via any(), has(), etc. </span><span class="yiyi-st" id="yiyi-490">&#x7ED3;&#x5408;&#x5DE6;&#x4FA7;&#x7684;&#x522B;&#x540D;&#x5BF9;&#x8C61;&#x548C;&#x53F3;&#x4FA7;&#x7684;of_type()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-192d36e5463caf99edcc9d7d3b1d9ccc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-491">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1325">&#xFF03;1325</a></span></p></li><li><p id="change-0.5.3-13"><span class="yiyi-st" id="yiyi-492"><span class="target" id="change-2a46f035edea7feda9d9d6a572b6975f"><strong>[orm] </strong></span>&#x5728;sqlalchemy.orm.attributes&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x52A9;&#x624B;&#x65B9;&#x6CD5;<code class="docutils literal"><span class="pre">set_committed_value</span></code>&#x3002;</span><span class="yiyi-st" id="yiyi-493">&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x548C;&#x503C;&#xFF0C;&#x4F1A;&#x5C06;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x503C;&#x8BBE;&#x7F6E;&#x4E3A;&#x5176;&#x201C;&#x5DF2;&#x63D0;&#x4EA4;&#x201D;&#x72B6;&#x6001;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5373;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x5DF2;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x52A0;&#x8F7D;&#x7684;&#x72B6;&#x6001;&#x3002;</span><span class="yiyi-st" id="yiyi-494">&#x5E2E;&#x52A9;&#x521B;&#x5EFA;&#x672C;&#x571F;&#x6536;&#x96C6;&#x88C5;&#x8F7D;&#x673A;&#x7B49;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2a46f035edea7feda9d9d6a572b6975f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.3-14"><span class="yiyi-st" id="yiyi-495"><span class="target" id="change-7dae2aa4d2d51b88a2c767d11a880027"><strong>[orm] </strong></span>&#x5F53;&#x4F20;&#x9012;&#x4E86;&#x975E;&#x6620;&#x5C04;&#x5668;/&#x7C7B;&#x7684;&#x68C0;&#x6D4B;&#x63CF;&#x8FF0;&#x7B26;&#x65F6;&#xFF0C;&#x67E5;&#x8BE2;&#x4E0D;&#x4F1A;&#x5931;&#x8D25;&#xFF0C;&#x5E76;&#x51FA;&#x73B0;weakref&#x9519;&#x8BEF;&#xFF0C;&#x5E76;&#x5F15;&#x53D1;&#x201C;&#x65E0;&#x6548;&#x7684;&#x5217;&#x7ECF;&#x9A8C;&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7dae2aa4d2d51b88a2c767d11a880027">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.3-15"><span class="yiyi-st" id="yiyi-496"><span class="target" id="change-0d291e026106f5b96e459c08e07d64ef"><strong>[orm] </strong></span>Query.group_by() properly takes into account aliasing applied to the FROM clause, such as with select_from(), using with_polymorphic(), or using from_self().<a class="changeset-link headerlink reference internal" href="#change-0d291e026106f5b96e459c08e07d64ef">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.3-sql"><h3><span class="yiyi-st" id="yiyi-497">SQL <a class="headerlink" href="#change-0.5.3-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.3-16"><span class="yiyi-st" id="yiyi-498"><span class="target" id="change-f4c329ebf5d4f8d39ed26796f4776135"><strong>[sql] </strong></span>An alias() of a select() will convert to a &#x201C;scalar subquery&#x201D; when used in an unambiguously scalar context, i.e. it&#x2019;s used in a comparison operation. </span><span class="yiyi-st" id="yiyi-499">&#x8FD9;&#x540C;&#x6837;&#x9002;&#x7528;&#x4E8E;&#x4F7F;&#x7528;query.subquery()&#x7684;ORM&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f4c329ebf5d4f8d39ed26796f4776135">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.3-17"><span class="yiyi-st" id="yiyi-500"><span class="target" id="change-3a5a52f698452fd0c3775848413f0a4b"><strong>[sql] </strong></span>Fixed missing _label attribute on Function object, others when used in a select() with use_labels (such as when used in an ORM column_property()).<a class="changeset-link headerlink reference internal" href="#change-3a5a52f698452fd0c3775848413f0a4b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-501">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1302">&#xFF03;1302</a></span></p></li><li><p id="change-0.5.3-18"><span class="yiyi-st" id="yiyi-502"><span class="target" id="change-f925a1a1d2ef2848907b27d9344a9157"><strong>[sql] </strong></span>anonymous alias names now truncate down to the max length allowed by the dialect. </span><span class="yiyi-st" id="yiyi-503">&#x5BF9;&#x4E8E;&#x50CF;Oracle&#x8FD9;&#x6837;&#x7684;&#x6570;&#x636E;&#x5E93;&#x6765;&#x8BF4;&#xFF0C;&#x5B83;&#x7684;&#x5B57;&#x7B26;&#x9650;&#x5236;&#x975E;&#x5E38;&#x5C0F;&#xFF0C;&#x56E0;&#x6B64;&#x66F4;&#x4E3A;&#x91CD;&#x8981;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f925a1a1d2ef2848907b27d9344a9157">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-504">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1309">&#xFF03;1309</a></span></p></li><li><p id="change-0.5.3-19"><span class="yiyi-st" id="yiyi-505"><span class="target" id="change-add28ca90a6f17b7082c1f017ab736eb"><strong>[sql] </strong></span> __selectable __()&#x63A5;&#x53E3;&#x5DF2;&#x88AB;&#x5B8C;&#x5168;&#x66FF;&#x6362;&#x4E3A;__clause_element __()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-add28ca90a6f17b7082c1f017ab736eb">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.3-20"><span class="yiyi-st" id="yiyi-506"><span class="target" id="change-c60dd590c50147430235f1343500fc91"><strong>[sql] </strong></span>The per-dialect cache used by TypeEngine to cache dialect-specific types is now a WeakKeyDictionary. </span><span class="yiyi-st" id="yiyi-507">&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x65B9;&#x8A00;&#x5BF9;&#x8C61;&#x88AB;&#x6C38;&#x4E45;&#x5F15;&#x7528;&#x5230;&#x521B;&#x5EFA;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x5F15;&#x64CE;&#x6216;&#x65B9;&#x8A00;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-508">&#x6709;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x6027;&#x80FD;&#x635F;&#x5931;&#xFF0C;&#x5C06;&#x5728;0.6&#x4E2D;&#x5F97;&#x5230;&#x89E3;&#x51B3;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c60dd590c50147430235f1343500fc91">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-509">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1299">&#xFF03;1299</a></span></p></li></ul></div><div class="section" id="change-0.5.3-postgresql"><h3><span class="yiyi-st" id="yiyi-510">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.5.3-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.3-21"><span class="yiyi-st" id="yiyi-511"><span class="target" id="change-dcbcca3e16a72bb4257afe818c178a07"><strong>[postgresql] </strong></span>&#x9047;&#x5230;&#x5177;&#x6709;&#x591A;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7D22;&#x5F15;&#x65F6;&#xFF0C;&#x7D22;&#x5F15;&#x53CD;&#x5C04;&#x4E0D;&#x4F1A;&#x5931;&#x8D25;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dcbcca3e16a72bb4257afe818c178a07">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.3-22"><span class="yiyi-st" id="yiyi-512"><span class="target" id="change-a08e9891d7c2750db9f6802c3d168768"><strong>[postgresql] </strong></span>&#x5C06;PGUuid&#x548C;PGBit&#x7C7B;&#x578B;&#x6DFB;&#x52A0;&#x5230;sqlalchemy.databases.postgres&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a08e9891d7c2750db9f6802c3d168768">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-513">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1327">&#xFF03;1327</a></span></p></li><li><p id="change-0.5.3-23"><span class="yiyi-st" id="yiyi-514"><span class="target" id="change-23ab1c01c10410310246fe16a0c49afe"><strong>[postgresql] </strong></span>&#x5728;&#x57DF;&#x4E2D;&#x6307;&#x5B9A;&#x8FD9;&#x4E9B;&#x7C7B;&#x578B;&#x65F6;&#xFF0C;&#x672A;&#x77E5;PG&#x7C7B;&#x578B;&#x7684;&#x53CD;&#x5E94;&#x4E0D;&#x4F1A;&#x5D29;&#x6E83;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-23ab1c01c10410310246fe16a0c49afe">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-515">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1327">&#xFF03;1327</a></span></p></li></ul></div><div class="section" id="change-0.5.3-sqlite"><h3><span class="yiyi-st" id="yiyi-516">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.5.3-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.3-24"><span class="yiyi-st" id="yiyi-517"><span class="target" id="change-bce03de137e528e4dc184cd2d6a2c750"><strong>[sqlite] </strong></span>Fixed SQLite reflection methods so that non-present cursor.description, which triggers an auto-cursor close, will be detected so that no results doesn&#x2019;t fail on recent versions of pysqlite which raise an error when fetchone() called with no rows present.<a class="changeset-link headerlink reference internal" href="#change-bce03de137e528e4dc184cd2d6a2c750">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.3-mssql"><h3><span class="yiyi-st" id="yiyi-518">MSSQL <a class="headerlink" href="#change-0.5.3-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.3-25"><span class="yiyi-st" id="yiyi-519"><span class="target" id="change-3194055f787560d6f9ffd8ff886494d5"><strong>[mssql] </strong></span>&#x521D;&#x6B65;&#x652F;&#x6301;pymssql 1.0.1 <a class="changeset-link headerlink reference internal" href="#change-3194055f787560d6f9ffd8ff886494d5">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.3-26"><span class="yiyi-st" id="yiyi-520"><span class="target" id="change-deccb81a88d339fadb2c73679aa3bdb9"><strong>[mssql] </strong></span>&#x66F4;&#x6B63;&#x4E86;mssql&#x4E2D;max_identifier_length&#x4E0D;&#x53D7;&#x5C0A;&#x91CD;&#x7684;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-deccb81a88d339fadb2c73679aa3bdb9">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.3-misc"><h3><span class="yiyi-st" id="yiyi-521">&#x6742;&#x9879;<a class="headerlink" href="#change-0.5.3-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.3-27"><span class="yiyi-st" id="yiyi-522"><span class="target" id="change-d808456099666feebbfc2d6d0319c26f"><strong>[extensions] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5E8F;&#x5217;&#x5316;&#x7A0B;&#x5E8F;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x9012;&#x5F52;&#x9178;&#x6D17;&#x95EE;&#x9898;&#xFF0C;&#x7531;EXISTS&#x6216;&#x5176;&#x4ED6;&#x5D4C;&#x5165;&#x5F0F;FROM&#x7ED3;&#x6784;&#x89E6;&#x53D1;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d808456099666feebbfc2d6d0319c26f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.3-28"><span class="yiyi-st" id="yiyi-523"><span class="target" id="change-8ff5afad7258930672d81ad7e55e1cd4"><strong>[extensions] </strong></span>&#x58F0;&#x660E;&#x5F0F;&#x5B9A;&#x4F4D;&#x201C;inherits&#x201D;&#x7C7B;&#xFF0C;&#x4F7F;&#x7528;__bases__&#x8FDB;&#x884C;&#x641C;&#x7D22;&#xFF0C;&#x8DF3;&#x8FC7;&#x5B50;&#x7C7B;&#x672C;&#x5730;&#x7684;mixins&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8ff5afad7258930672d81ad7e55e1cd4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.3-29"><span class="yiyi-st" id="yiyi-524"><span class="target" id="change-5b4c354d7202eb0cead4c9fdac357c17"><strong>[extensions] </strong></span>&#x5373;&#x4F7F;&#x660E;&#x786E;&#x7ED9;&#x51FA;&#x4E86;&#x201C;&#x7EE7;&#x627F;&#x201D;&#x6620;&#x5C04;&#x5668;&#x53C2;&#x6570;&#xFF0C;&#x58F0;&#x660E;&#x5F0F;&#x6570;&#x5B57;&#x4E5F;&#x4E0D;&#x4F1A;&#x8FDE;&#x63A5;&#x8868;&#x7EE7;&#x627F;&#x4E3B;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5b4c354d7202eb0cead4c9fdac357c17">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.3-30"><span class="yiyi-st" id="yiyi-525"><span class="target" id="change-4c8e2bad941cf4481721c166b8fc630d"><strong>[extensions] </strong></span>&#x5982;&#x679C;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;Declarative&#x5C06;&#x6B63;&#x786E;&#x5730;&#x89E3;&#x91CA;backref()&#x4E2D;&#x7684;&#x201C;foreign_keys&#x201D;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4c8e2bad941cf4481721c166b8fc630d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.3-31"><span class="yiyi-st" id="yiyi-526"><span class="target" id="change-3b8983c231c5a078b26bdd1615b26546"><strong>[extensions] </strong></span>Declarative will accept a table-bound column as a property when used in conjunction with __table__, if the column is already present in __table__. </span><span class="yiyi-st" id="yiyi-527">&#x8BE5;&#x5217;&#x5C06;&#x4EE5;&#x4E0E;&#x6DFB;&#x52A0;&#x5230;mapper()&#x5C5E;&#x6027;&#x5B57;&#x5178;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#x91CD;&#x65B0;&#x6620;&#x5C04;&#x5230;&#x7ED9;&#x5B9A;&#x952E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3b8983c231c5a078b26bdd1615b26546">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.5.2"><h2><span class="yiyi-st" id="yiyi-529">0.5.2 <a class="headerlink" href="#change-0.5.2" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-558">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2009&#x5E74;1&#x6708;24&#x65E5;</span><div class="section" id="change-0.5.2-orm"><h3><span class="yiyi-st" id="yiyi-530">ORM <a class="headerlink" href="#change-0.5.2-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.2-0"><span class="yiyi-st" id="yiyi-531"><span class="target" id="change-5cdc10aa381b945a9fb6df668bae7f5c"><strong>[orm] </strong></span>&#x8FDB;&#x4E00;&#x6B65;&#x6539;&#x8FDB;&#x4E86;0.5.1&#x5173;&#x4E8E;&#x653E;&#x7F6E;&#x5728;&#x591A;&#x5BF9;&#x591A;&#x5173;&#x7CFB;&#x4E0A;&#x7684;&#x5220;&#x9664;&#x5B64;&#x7ACB;&#x7EA7;&#x8054;&#x7684;&#x8B66;&#x544A;&#x3002;</span><span class="yiyi-st" id="yiyi-532">&#x9996;&#x5148;&#xFF0C;&#x574F;&#x6D88;&#x606F;&#x662F;&#xFF1A;&#x8FD9;&#x4E2A;&#x8B66;&#x544A;&#x5C06;&#x9002;&#x7528;&#x4E8E;&#x591A;&#x5BF9;&#x591A;&#x4EE5;&#x53CA;&#x591A;&#x5BF9;&#x4E00;&#x7684;&#x5173;&#x7CFB;&#x3002;</span><span class="yiyi-st" id="yiyi-533">&#x8FD9;&#x662F;&#x5FC5;&#x8981;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x8FD9;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;SQLA&#x5728;&#x786E;&#x5B9A;&#x201C;&#x5B64;&#x7ACB;&#x201D;&#x72B6;&#x6001;&#x65F6;&#x90FD;&#x4E0D;&#x4F1A;&#x626B;&#x63CF;&#x6574;&#x5957;&#x6F5C;&#x5728;&#x7236;&#x6BCD; - &#x5BF9;&#x4E8E;&#x6301;&#x4E45;&#x5BF9;&#x8C61;&#xFF0C;&#x5B83;&#x53EA;&#x68C0;&#x6D4B;&#x5230;&#x4E00;&#x4E2A;in-python&#x89E3;&#x9664;&#x5173;&#x8054;&#x4E8B;&#x4EF6;&#x4EE5;&#x5C06;&#x8BE5;&#x5BF9;&#x8C61;&#x5EFA;&#x7ACB;&#x4E3A;&#x201C;&#x5B64;&#x513F;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-534">&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x597D;&#x6D88;&#x606F;&#x662F;&#xFF1A;&#x901A;&#x8FC7;&#x5916;&#x952E;&#x6216;&#x5173;&#x8054;&#x8868;&#x6765;&#x652F;&#x6301;&#x4E00;&#x5BF9;&#x4E00;&#xFF0C;&#x6216;&#x8005;&#x901A;&#x8FC7;&#x5173;&#x8054;&#x8868;&#x6765;&#x652F;&#x6301;&#x4E00;&#x5BF9;&#x591A;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6807;&#x5FD7;single_parent = True&#xFF0C;&#x8BE5;&#x6807;&#x5FD7;&#x6307;&#x793A;&#x94FE;&#x63A5;&#x5230;&#x8BE5;&#x5173;&#x7CFB;&#x7684;&#x5BF9;&#x8C61;&#x53EA;&#x610F;&#x5473;&#x7740;&#x6709;&#x4E00;&#x4E2A;&#x5355;&#x4EB2;&#x3002;</span><span class="yiyi-st" id="yiyi-535">&#x5982;&#x679C;&#x5728;Python&#x4E2D;&#x53D1;&#x751F;&#x591A;&#x4E2A;&#x7236;&#x5173;&#x8054;&#x4E8B;&#x4EF6;&#xFF0C;&#x8BE5;&#x5173;&#x7CFB;&#x5C06;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5cdc10aa381b945a9fb6df668bae7f5c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.2-1"><span class="yiyi-st" id="yiyi-536"><span class="target" id="change-ac6a6c886cc28b8a4624799f3a67e800"><strong>[orm] </strong></span>&#x4ECE;0.5.1&#x8C03;&#x6574;&#x5C5E;&#x6027;&#x68C0;&#x6D4B;&#x66F4;&#x6539;&#xFF0C;&#x4EE5;&#x5B8C;&#x5168;&#x5EFA;&#x7ACB;&#x5728;&#x8D85;&#x7C7B;&#x5DF2;&#x7ECF;&#x5B8C;&#x5168;&#x68C0;&#x6D4B;&#x540E;&#x521B;&#x5EFA;&#x6620;&#x5C04;&#x5668;&#x7684;&#x5B50;&#x7C7B;&#x7684;&#x68C0;&#x6D4B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ac6a6c886cc28b8a4624799f3a67e800">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-537">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1292">&#xFF03;1292</a></span></p></li><li><p id="change-0.5.2-2"><span class="yiyi-st" id="yiyi-538"><span class="target" id="change-252f8ac693af8a64d5cbaa517d732448"><strong>[orm] </strong></span>Fixed bug in delete-orphan cascade whereby two one-to-one relations from two different parent classes to the same target class would prematurely expunge the instance.<a class="changeset-link headerlink reference internal" href="#change-252f8ac693af8a64d5cbaa517d732448">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.2-3"><span class="yiyi-st" id="yiyi-539"><span class="target" id="change-e2b026833b662fec2ba7e60e9fd8dba1"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x4E00;&#x4E2A;&#x6025;&#x5207;&#x7684;&#x52A0;&#x8F7D;&#x9519;&#x8BEF;&#xFF0C;&#x5373;&#x81EA;&#x5F15;&#x7528;&#x52A0;&#x8F7D;&#x52A0;&#x8F7D;&#x4F1A;&#x963B;&#x6B62;&#x5176;&#x4ED6;&#x52A0;&#x8F7D;&#xFF0C;&#x81EA;&#x5F15;&#x7528;&#x6216;&#x4E0D;&#x52A0;&#x8F7D;&#xFF0C;&#x4ECE;&#x800C;&#x6B63;&#x786E;&#x52A0;&#x5165;&#x7236;JOIN&#x3002;</span><span class="yiyi-st" id="yiyi-540">&#x611F;&#x8C22;Alex K&#x521B;&#x9020;&#x4E86;&#x4E00;&#x4E2A;&#x4F1F;&#x5927;&#x7684;&#x6D4B;&#x8BD5;&#x6848;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e2b026833b662fec2ba7e60e9fd8dba1">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.2-4"><span class="yiyi-st" id="yiyi-541"><span class="target" id="change-8feb07e7f3baa53af64fcf4a674c0511"><strong>[orm] </strong></span>session.expire() and related methods will not expire() unloaded deferred attributes. </span><span class="yiyi-st" id="yiyi-542">&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x5728;&#x5B9E;&#x4F8B;&#x5237;&#x65B0;&#x65F6;&#x4E0D;&#x5FC5;&#x8981;&#x5730;&#x52A0;&#x8F7D;&#x5B83;&#x4EEC;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8feb07e7f3baa53af64fcf4a674c0511">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.2-5"><span class="yiyi-st" id="yiyi-543"><span class="target" id="change-03ac4ea79a651b4ca097f9c08aa6a490"><strong>[orm] </strong></span>query.join()/outerjoin() will now properly join an aliased() construct to the existing left side, even if query.from_self() or query.select_from(someselectable) has been called.<a class="changeset-link headerlink reference internal" href="#change-03ac4ea79a651b4ca097f9c08aa6a490">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-544">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1293">&#xFF03;1293</a></span></p></li></ul></div><div class="section" id="change-0.5.2-sql"><h3><span class="yiyi-st" id="yiyi-545">SQL <a class="headerlink" href="#change-0.5.2-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.2-6"><span class="yiyi-st" id="yiyi-546"><span class="target" id="change-5e680aeeda4bbf301e587736a84ba9ed"><strong>[sql] </strong></span></span></p><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-547">&#x8FDB;&#x4E00;&#x6B65;&#x4FEE;&#x590D;&#x201C;&#x5217;/&#x8868;&#x4E2D;&#x7684;&#x767E;&#x5206;&#x53F7;&#x548C;&#x7A7A;&#x683C;&#x201D;</span></dt><dd><span class="yiyi-st" id="yiyi-548">&#x540D;&#x79F0;&#x201C;&#x529F;&#x80FD;&#x3002;</span></dd></dl><span class="yiyi-st" id="yiyi-550"> <a class="changeset-link headerlink reference internal" href="#change-5e680aeeda4bbf301e587736a84ba9ed">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-549">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1284">&#xFF03;1284</a></span></p></li></ul></div><div class="section" id="change-0.5.2-mssql"><h3><span class="yiyi-st" id="yiyi-551">MSSQL <a class="headerlink" href="#change-0.5.2-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.2-7"><span class="yiyi-st" id="yiyi-552"><span class="target" id="change-0c390545c0b67d6ec4a1bc02bbd89894"><strong>[mssql] </strong></span>&#x6062;&#x590D;&#x4E86;convert_unicode&#x5904;&#x7406;&#x3002;</span><span class="yiyi-st" id="yiyi-553">&#x7ED3;&#x679C;&#x6B63;&#x5728;&#x901A;&#x8FC7;&#x800C;&#x6CA1;&#x6709;&#x8F6C;&#x6362;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0c390545c0b67d6ec4a1bc02bbd89894">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-554">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1291">&#xFF03;1291</a></span></p></li><li><p id="change-0.5.2-8"><span class="yiyi-st" id="yiyi-555"><span class="target" id="change-507536fb87345f67009c56fd2bf3b89c"><strong>[mssql] </strong></span>&#x8FD9;&#x6B21;&#x786E;&#x5B9E;&#x4FEE;&#x590D;&#x4E86;&#x5341;&#x8FDB;&#x5236;&#x5904;&#x7406;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-507536fb87345f67009c56fd2bf3b89c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-556">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1282">&#xFF03;1282</a></span></p></li><li><p id="change-0.5.2-9"><span class="yiyi-st" id="yiyi-557"><span class="target" id="change-2db326e86e2e0155290796bca98be830"><strong>[mssql] [Ticket:1289] </strong></span>&#x4FEE;&#x6539;&#x8868;&#x53CD;&#x5C04;&#x4EE3;&#x7801;&#xFF0C;&#x5728;&#x6784;&#x9020;&#x8868;&#x65F6;&#x53EA;&#x4F7F;&#x7528;kwargs <a class="changeset-link headerlink reference internal" href="#change-2db326e86e2e0155290796bca98be830">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.5.1"><h2><span class="yiyi-st" id="yiyi-559">0.5.1 <a class="headerlink" href="#change-0.5.1" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-622">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2009&#x5E74;1&#x6708;17&#x65E5;</span><div class="section" id="change-0.5.1-orm"><h3><span class="yiyi-st" id="yiyi-560">ORM <a class="headerlink" href="#change-0.5.1-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.1-0"><span class="yiyi-st" id="yiyi-561"><span class="target" id="change-5f7ebabe0cc040a9dfe4ff0e48f322df"><strong>[orm] </strong></span>&#x5220;&#x9664;&#x4E86;&#x4E00;&#x4E2A;&#x5185;&#x90E8;&#x8FDE;&#x63A5;&#x7F13;&#x5B58;&#xFF0C;&#x5F53;&#x91CD;&#x590D;&#x53D1;&#x51FA;query.join()&#x7ED9;ad-hoc selectables&#x65F6;&#x53EF;&#x80FD;&#x4F1A;&#x6CC4;&#x6F0F;&#x5185;&#x5B58;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5f7ebabe0cc040a9dfe4ff0e48f322df">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.1-1"><span class="yiyi-st" id="yiyi-562"><span class="target" id="change-77cb4815db5b7492e88c260f9285a6d9"><strong>[orm] </strong></span>The &#x201C;clear()&#x201D;, &#x201C;save()&#x201D;, &#x201C;update()&#x201D;, &#x201C;save_or_update()&#x201D; Session methods have been deprecated, replaced by &#x201C;expunge_all()&#x201D; and &#x201C;add()&#x201D;. </span><span class="yiyi-st" id="yiyi-563">&#x201C;expunge_all()&#x201D;&#x4E5F;&#x88AB;&#x6DFB;&#x52A0;&#x5230;ScopedSession&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-77cb4815db5b7492e88c260f9285a6d9">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.1-2"><span class="yiyi-st" id="yiyi-564"><span class="target" id="change-c83d9cf2b7e16bf5f23858a2629cdc3c"><strong>[orm] </strong></span>&#x5BF9;&#x201C;no mapped table&#x201D;&#x5F02;&#x5E38;&#x8FDB;&#x884C;&#x4E86;&#x73B0;&#x4EE3;&#x5316;&#x5904;&#x7406;&#xFF0C;&#x5E76;&#x4E3A;&#x58F0;&#x660E;&#x5F0F;&#x6DFB;&#x52A0;&#x4E86;&#x66F4;&#x660E;&#x786E;&#x7684;__table __ / __ tablename__&#x5F02;&#x5E38;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c83d9cf2b7e16bf5f23858a2629cdc3c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.1-3"><span class="yiyi-st" id="yiyi-565"><span class="target" id="change-69f3da8d1cbab03f36506ddf26ba16fe"><strong>[orm] </strong></span>Concrete inheriting mappers now instrument attributes which are inherited from the superclass, but are not defined for the concrete mapper itself, with an InstrumentedAttribute that issues a descriptive error when accessed.<a class="changeset-link headerlink reference internal" href="#change-69f3da8d1cbab03f36506ddf26ba16fe">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-566">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1237">&#xFF03;1237</a></span></p></li><li><p id="change-0.5.1-4"><span class="yiyi-st" id="yiyi-567"><span class="target" id="change-3a079ea5d41a22d7814b5d922e478025"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<cite>&#x5173;&#x7CFB;()</cite>&#x5173;&#x952E;&#x5B57;<cite>back_populates</cite>&#x3002;</span><span class="yiyi-st" id="yiyi-568">&#x8FD9;&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x663E;&#x5F0F;&#x5173;&#x7CFB;&#x6765;&#x914D;&#x7F6E;&#x53CD;&#x5411;&#x5F15;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-569">&#x5728;&#x521B;&#x5EFA;&#x5177;&#x4F53;&#x6620;&#x5C04;&#x5668;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x4E0E;&#x5176;&#x4ED6;&#x7C7B;&#x4E4B;&#x95F4;&#x7684;&#x53CC;&#x5411;&#x5173;&#x7CFB;&#x65F6;&#xFF0C;&#x8FD9;&#x662F;&#x5FC5;&#x9700;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3a079ea5d41a22d7814b5d922e478025">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-570">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1237">&#xFF03;1237</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/781">&#xFF03;781</a></span></p></li><li><p id="change-0.5.1-5"><span class="yiyi-st" id="yiyi-571"><span class="target" id="change-9d5221a68f4c01b3524dfd39940a7643"><strong>[orm] </strong></span>&#x4E3A;&#x5177;&#x4F53;&#x6620;&#x5C04;&#x5668;&#x4E0A;&#x6307;&#x5B9A;&#x7684;<cite>relation()</cite>&#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x7684;&#x6D4B;&#x8BD5;&#x8986;&#x76D6;&#x7387;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9d5221a68f4c01b3524dfd39940a7643">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-572">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1237">&#xFF03;1237</a></span></p></li><li><p id="change-0.5.1-6"><span class="yiyi-st" id="yiyi-573"><span class="target" id="change-f7d09fa52c66733af926a77dcc6889b8"><strong>[orm] </strong></span>Query.from_self() as well as query.subquery() both disable the rendering of eager joins inside the subquery produced. </span><span class="yiyi-st" id="yiyi-574">&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x65B0;&#x7684;query.enable_eagerloads()&#x751F;&#x6210;&#x529F;&#x80FD;&#x516C;&#x5171;&#x5730;&#x63D0;&#x4F9B;&#x201C;&#x7981;&#x7528;&#x6240;&#x6709;&#x6E34;&#x671B;&#x52A0;&#x5165;&#x201D;&#x529F;&#x80FD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f7d09fa52c66733af926a77dcc6889b8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-575">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1276">&#xFF03;1276</a></span></p></li><li><p id="change-0.5.1-7"><span class="yiyi-st" id="yiyi-576"><span class="target" id="change-d84677c9459d45a1aa0c69a534f2dcf6"><strong>[orm] </strong></span>Added a rudimental series of set operations to Query that receive Query objects as arguments, including union(), union_all(), intersect(), except_(), insertsect_all(), except_all(). </span><span class="yiyi-st" id="yiyi-577">&#x6709;&#x5173;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;Query.union()&#x7684;API&#x6587;&#x6863;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d84677c9459d45a1aa0c69a534f2dcf6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.1-8"><span class="yiyi-st" id="yiyi-578"><span class="target" id="change-a390ebca59496b69af528a1f6dcd1882"><strong>[orm] </strong></span>Fixed bug that prevented Query.join() and eagerloads from attaching to a query that selected from a union or aliased union.<a class="changeset-link headerlink reference internal" href="#change-a390ebca59496b69af528a1f6dcd1882">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.1-9"><span class="yiyi-st" id="yiyi-579"><span class="target" id="change-4e519ca0bc4a46ef1572da0ad263a948"><strong>[orm] </strong></span>&#x4E3A;&#x5177;&#x4F53;&#x6620;&#x5C04;&#x5668;&#x4E0A;&#x6307;&#x5B9A;&#x7684;&#x53CC;&#x5411;&#x5173;&#x7CFB;&#x6DFB;&#x52A0;&#x7684;&#x7B80;&#x77ED;&#x6587;&#x6863;&#x793A;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4e519ca0bc4a46ef1572da0ad263a948">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-580">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1237">&#xFF03;1237</a></span></p></li><li><p id="change-0.5.1-10"><span class="yiyi-st" id="yiyi-581"><span class="target" id="change-d942c9f0feaf7f8fe8d86dd5f3846838"><strong>[orm] </strong></span>&#x4F7F;&#x7528;&#x4FDD;&#x6301;&#x6301;&#x4E45;&#x6027;&#x7684;&#x6700;&#x7EC8;InstrumentedAttribute&#x5BF9;&#x8C61;&#x6784;&#x9020;&#x73B0;&#x5728;&#x7684;&#x4EEA;&#x5668;&#x7C7B;&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-582"><cite>_CompileOnAttr</cite> / <cite>__ getattribute __()</cite>&#x65B9;&#x6CD5;&#x5DF2;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-583">&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x662F;&#xFF0C;&#x57FA;&#x4E8E;&#x5217;&#x7684;&#x6620;&#x5C04;&#x7C7B;&#x5C5E;&#x6027;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5728;&#x7C7B;&#x7EA7;&#x5B8C;&#x5168;&#x4F7F;&#x7528;&#xFF0C;&#x800C;&#x65E0;&#x9700;&#x8C03;&#x7528;&#x6620;&#x5C04;&#x5668;&#x7F16;&#x8BD1;&#x64CD;&#x4F5C;&#xFF0C;&#x4ECE;&#x800C;&#x5927;&#x5927;&#x7B80;&#x5316;&#x4E86;&#x58F0;&#x660E;&#x4E2D;&#x7684;&#x5178;&#x578B;&#x4F7F;&#x7528;&#x6A21;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d942c9f0feaf7f8fe8d86dd5f3846838">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-584">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1269">&#xFF03;1269</a></span></p></li><li><p id="change-0.5.1-11"><span class="yiyi-st" id="yiyi-585"><span class="target" id="change-82c422d444d39214d5378d7961dd511b"><strong>[orm] </strong></span> ColumnProperty&#xFF08;&#x548C;<code class="docutils literal"><span class="pre">deferred</span></code>&#x7B49;&#x524D;&#x7AEF;&#x52A9;&#x624B;&#xFF09;&#x4E0D;&#x518D;&#x5FFD;&#x7565;&#x672A;&#x77E5;&#x7684;**&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-82c422d444d39214d5378d7961dd511b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.1-12"><span class="yiyi-st" id="yiyi-586"><span class="target" id="change-1cae8adff596e0421b11143747cac92f"><strong>[orm] </strong></span>Fixed a bug with the unitofwork&#x2019;s &#x201C;row switch&#x201D; mechanism, i.e. the conversion of INSERT/DELETE into an UPDATE, when combined with joined-table inheritance and an object which contained no defined values for the child table where an UPDATE with no SET clause would be rendered.<a class="changeset-link headerlink reference internal" href="#change-1cae8adff596e0421b11143747cac92f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.1-13"><span class="yiyi-st" id="yiyi-587"><span class="target" id="change-12c056541bc4fd04c59756c40cb8e530"><strong>[orm] </strong></span>&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x591A;&#x5BF9;&#x591A;&#x5173;&#x7CFB;&#x4E2D;&#x7684;delete-orphan&#x3002;</span><span class="yiyi-st" id="yiyi-588">&#x8FD9;&#x4F1A;&#x4EA7;&#x751F;&#x8BEF;&#x5BFC;&#x6216;&#x9519;&#x8BEF;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x56E0;&#x4E3A;SQLA&#x4E0D;&#x68C0;&#x7D22;m2m&#x7684;&#x201C;&#x7236;&#x6BCD;&#x201D;&#x7684;&#x5B8C;&#x6574;&#x5217;&#x8868;&#x3002;</span><span class="yiyi-st" id="yiyi-589">&#x8981;&#x4F7F;&#x7528;m2m&#x8868;&#x83B7;&#x5F97;&#x5220;&#x9664;&#x5B64;&#x7ACB;&#x884C;&#x4E3A;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;explcit&#x5173;&#x8054;&#x7C7B;&#xFF0C;&#x4EE5;&#x4FBF;&#x5C06;&#x5404;&#x4E2A;&#x5173;&#x8054;&#x884C;&#x89C6;&#x4E3A;&#x7236;&#x9879;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-12c056541bc4fd04c59756c40cb8e530">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-590">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1281">&#xFF03;1281</a></span></p></li><li><p id="change-0.5.1-14"><span class="yiyi-st" id="yiyi-591"><span class="target" id="change-1bfde55510fa78321ebc2a86ed56639d"><strong>[orm] </strong></span>delete-orphan cascade always requires delete cascade. </span><span class="yiyi-st" id="yiyi-592">&#x73B0;&#x5728;&#x6307;&#x5B9A;delete-orphan&#x800C;&#x4E0D;&#x5220;&#x9664;&#x4F1A;&#x5F15;&#x53D1;&#x5F03;&#x7528;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1bfde55510fa78321ebc2a86ed56639d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-593">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1281">&#xFF03;1281</a></span></p></li></ul></div><div class="section" id="change-0.5.1-sql"><h3><span class="yiyi-st" id="yiyi-594">SQL <a class="headerlink" href="#change-0.5.1-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.1-15"><span class="yiyi-st" id="yiyi-595"><span class="target" id="change-f22d8d0a0f98407735a67c6d3dcc1181"><strong>[sql] </strong></span>&#x6539;&#x8FDB;&#x4E86;&#x5904;&#x7406;&#x5217;&#x540D;&#x4E2D;&#x7684;&#x767E;&#x5206;&#x53F7;&#x7684;&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-596">&#x589E;&#x52A0;&#x4E86;&#x66F4;&#x591A;&#x6D4B;&#x8BD5;&#x3002;</span><span class="yiyi-st" id="yiyi-597">MySQL&#x548C;PostgreSQL&#x65B9;&#x8A00;&#x4ECD;&#x7136;&#x4E0D;&#x4F1A;&#x4E3A;&#x5305;&#x542B;&#x767E;&#x5206;&#x53F7;&#x7684;&#x6807;&#x8BC6;&#x7B26;&#x53D1;&#x51FA;&#x6B63;&#x786E;&#x7684;CREATE TABLE&#x8BED;&#x53E5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f22d8d0a0f98407735a67c6d3dcc1181">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-598">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1256">&#xFF03;1256</a></span></p></li></ul></div><div class="section" id="change-0.5.1-schema"><h3><span class="yiyi-st" id="yiyi-599">&#x67B6;&#x6784;<a class="headerlink" href="#change-0.5.1-schema" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.1-16"><span class="yiyi-st" id="yiyi-600"><span class="target" id="change-2cbce9f8f05e9d65a6b86934e8c67a99"><strong>[schema] </strong></span>&#x7D22;&#x5F15;&#x73B0;&#x5728;&#x63A5;&#x53D7;&#x5217;&#x5BFC;&#x5411;&#x7684;InstrumentedAttributes&#xFF08;&#x5373;&#x57FA;&#x4E8E;&#x5217;&#x7684;&#x6620;&#x5C04;&#x7C7B;&#x5C5E;&#x6027;&#xFF09;&#x4F5C;&#x4E3A;&#x5217;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2cbce9f8f05e9d65a6b86934e8c67a99">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-601">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1214">&#xFF03;1214</a></span></p></li><li><p id="change-0.5.1-17"><span class="yiyi-st" id="yiyi-602"><span class="target" id="change-2c9147ef2ccab23fc1b8801fe1dcbde9"><strong>[schema] </strong></span>&#x6CA1;&#x6709;&#x540D;&#x79F0;&#x7684;&#x5217;&#xFF08;&#x5982;&#x58F0;&#x660E;&#x5F0F;&#xFF09;&#x4E0D;&#x4F1A;&#x5728;&#x8BF7;&#x6C42;&#x5B57;&#x7B26;&#x4E32;&#x8F93;&#x51FA;&#x65F6;&#x5F15;&#x53D1;NoneType&#x9519;&#x8BEF;&#xFF08;&#x4F8B;&#x5982;&#x5728;&#x5806;&#x6808;&#x8DDF;&#x8E2A;&#x4E2D;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2c9147ef2ccab23fc1b8801fe1dcbde9">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.1-18"><span class="yiyi-st" id="yiyi-603"><span class="target" id="change-a3dad3ae16e7410704efd7b0ac6e059f"><strong>[schema] </strong></span>Fixed bug when overriding a Column with a ForeignKey on a reflected table, where derived columns (i.e. the &#x201C;virtual&#x201D; columns of a select, etc.) </span><span class="yiyi-st" id="yiyi-604">&#x4F1A;&#x65E0;&#x610F;&#x4E2D;&#x8C03;&#x7528;&#x4EC5;&#x7528;&#x4E8E;&#x539F;&#x59CB;&#x5217;&#x7684;&#x6A21;&#x5F0F;&#x7EA7;&#x6E05;&#x7406;&#x903B;&#x8F91;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a3dad3ae16e7410704efd7b0ac6e059f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-605">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1278">&#xFF03;1278</a></span></p></li></ul></div><div class="section" id="change-0.5.1-mysql"><h3><span class="yiyi-st" id="yiyi-606">MySQL&#x7684;<a class="headerlink" href="#change-0.5.1-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.1-19"><span class="yiyi-st" id="yiyi-607"><span class="target" id="change-72b1b1a78ead597e7b1f225bc193c234"><strong>[mysql] </strong></span>&#x5728;MySQL 4.1&#x4E2D;&#x6DFB;&#x52A0;&#x7F3A;&#x5C11;&#x7684;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x4EE5;&#x4FBF;&#x5B83;&#x4EEC;&#x6B63;&#x786E;&#x8F6C;&#x4E49;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-72b1b1a78ead597e7b1f225bc193c234">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.1-mssql"><h3><span class="yiyi-st" id="yiyi-608">MSSQL <a class="headerlink" href="#change-0.5.1-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.1-20"><span class="yiyi-st" id="yiyi-609"><span class="target" id="change-34cdd9f929bd0dca34a8aca677e572d2"><strong>[mssql] </strong></span>&#x901A;&#x8FC7;&#x66F4;&#x5F3A;&#x5927;&#x7684;&#x6D4B;&#x8BD5;&#x66F4;&#x6B63;&#x4E86;&#x5BF9;&#x5927;&#x5341;&#x8FDB;&#x5236;&#x503C;&#x7684;&#x5904;&#x7406;&#x3002;</span><span class="yiyi-st" id="yiyi-610">&#x5220;&#x9664;&#x4E86;&#x6D6E;&#x70B9;&#x4E0A;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x64CD;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-34cdd9f929bd0dca34a8aca677e572d2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-611">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1280">&#xFF03;1280</a></span></p></li><li><p id="change-0.5.1-21"><span class="yiyi-st" id="yiyi-612"><span class="target" id="change-f6267ad5ec64ce02c5d649e0a9656e15"><strong>[mssql] </strong></span>&#x4FEE;&#x6539;&#x4E86;mssql&#x4E2D;&#x7684;do_begin&#x5904;&#x7406;&#xFF0C;&#x4F7F;&#x7528;Cursor&#x800C;&#x4E0D;&#x662F;Connection&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x4E0E;DBAPI&#x517C;&#x5BB9;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f6267ad5ec64ce02c5d649e0a9656e15">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.1-22"><span class="yiyi-st" id="yiyi-613"><span class="target" id="change-50f4cc34e316267b64a62baad731764e"><strong>[mssql] </strong></span>&#x901A;&#x8FC7;&#x66F4;&#x6539;&#x5BF9;mssql&#x4E0D;&#x652F;&#x6301;&#x7684;savepoint_release&#x7684;&#x5904;&#x7406;&#xFF0C;&#x66F4;&#x6B63;&#x4E86;adodbapi&#x4E0A;&#x7684;SAVEPOINT&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-50f4cc34e316267b64a62baad731764e">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.1-misc"><h3><span class="yiyi-st" id="yiyi-614">&#x6742;&#x9879;<a class="headerlink" href="#change-0.5.1-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.1-23"><span class="yiyi-st" id="yiyi-615"><span class="target" id="change-1576364825a1be661c97e91433441123"><strong>[declarative] </strong></span>&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5728;&#x6CA1;&#x6709;&#x81EA;&#x5DF1;&#x8868;&#x7684;&#x5B50;&#x7C7B;&#x4E0A;&#x6307;&#x5B9A;Column&#x5BF9;&#x8C61;&#xFF08;&#x5373;&#x4F7F;&#x7528;&#x5355;&#x4E2A;&#x8868;&#x7EE7;&#x627F;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-616">&#x8FD9;&#x4E9B;&#x5217;&#x5C06;&#x9644;&#x52A0;&#x5230;&#x57FA;&#x8868;&#x4E2D;&#xFF0C;&#x4F46;&#x53EA;&#x80FD;&#x7531;&#x5B50;&#x7C7B;&#x6620;&#x5C04;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1576364825a1be661c97e91433441123">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.1-24"><span class="yiyi-st" id="yiyi-617"><span class="target" id="change-adcaa17526d45c7edf13c8a1451209c3"><strong>[declarative] </strong></span>&#x5BF9;&#x4E8E;&#x8FDE;&#x63A5;&#x548C;&#x5355;&#x4E2A;&#x7EE7;&#x627F;&#x5B50;&#x7C7B;&#xFF0C;&#x5B50;&#x7C7B;&#x53EA;&#x6620;&#x5C04;&#x90A3;&#x4E9B;&#x5DF2;&#x7ECF;&#x6620;&#x5C04;&#x5230;&#x8D85;&#x7C7B;&#x7684;&#x5217;&#x548C;&#x90A3;&#x4E9B;&#x5728;&#x5B50;&#x7C7B;&#x4E0A;&#x663E;&#x5F0F;&#x6620;&#x5C04;&#x7684;&#x5217;&#x3002;</span><span class="yiyi-st" id="yiyi-618">&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;<cite>&#x8868;</cite>&#x4E2D;&#x5B58;&#x5728;&#x7684;&#x5176;&#x4ED6;&#x5217;&#x5C06;&#x4ECE;&#x6620;&#x5C04;&#x4E2D;&#x6392;&#x9664;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;&#x5411;<cite>__ mapper_args __</cite>&#x4F20;&#x9012;&#x7A7A;&#x7684;<cite>exclude_properties</cite> &gt;&#x3002;</span><span class="yiyi-st" id="yiyi-619">&#x8FD9;&#x4F7F;&#x5F97;&#x5B9A;&#x4E49;&#x5B83;&#x4EEC;&#x81EA;&#x5DF1;&#x7684;&#x5217;&#x7684;&#x5355;&#x4E00;&#x7EE7;&#x627F;&#x7C7B;&#x662F;&#x6620;&#x5C04;&#x8FD9;&#x4E9B;&#x5217;&#x7684;&#x552F;&#x4E00;&#x7C7B;&#x3002;</span><span class="yiyi-st" id="yiyi-620">&#x9664;&#x975E;&#x660E;&#x786E;&#x8BBE;&#x7F6E;&#x4E86;<cite>exclude_properties</cite>&#x53C2;&#x6570;&#xFF0C;&#x5426;&#x5219;&#x6548;&#x679C;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x6BD4;&#x901A;&#x5E38;&#x4F7F;&#x7528;&#x663E;&#x5F0F;<cite>mapper()</cite>&#x8C03;&#x7528;&#x66F4;&#x6709;&#x7EC4;&#x7EC7;&#x7684;&#x6620;&#x5C04;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-adcaa17526d45c7edf13c8a1451209c3">&#xB6; t2 &gt;</a></span></p><p></p></li><li><p id="change-0.5.1-25"><span class="yiyi-st" id="yiyi-621"><span class="target" id="change-5aa4c8c1650f1958b4b640fd1d5b28e8"><strong>[declarative] </strong></span>&#x5C06;&#x65B0;&#x7684;Column&#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x5230;&#x4F7F;&#x7528;__table __&#x6307;&#x5B9A;&#x73B0;&#x6709;&#x8868;&#x7684;&#x58F0;&#x660E;&#x7C7B;&#x4E2D;&#x662F;&#x9519;&#x8BEF;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5aa4c8c1650f1958b4b640fd1d5b28e8">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.5.0"><h2><span class="yiyi-st" id="yiyi-623">0.5.0 <a class="headerlink" href="#change-0.5.0" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-795">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2009&#x5E74;1&#x6708;6&#x65E5;</span><div class="section" id="change-0.5.0-general"><h3><span class="yiyi-st" id="yiyi-624">&#x4E00;&#x822C;<a class="headerlink" href="#change-0.5.0-general" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0-0"><span class="yiyi-st" id="yiyi-625"><span class="target" id="change-eea66a331a882cd7bbab29da2a14aace"><strong>[general] </strong></span>&#x6587;&#x6863;&#x5DF2;&#x88AB;&#x8F6C;&#x6362;&#x4E3A;Sphinx&#x3002;</span><span class="yiyi-st" id="yiyi-626">&#x7279;&#x522B;&#x662F;&#xFF0C;&#x751F;&#x6210;&#x7684;API&#x6587;&#x6863;&#x5DF2;&#x7ECF;&#x6784;&#x5EFA;&#x4E3A;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x201C;API&#x53C2;&#x8003;&#x201D;&#x90E8;&#x5206;&#xFF0C;&#x8BE5;&#x90E8;&#x5206;&#x7EC4;&#x7EC7;&#x7F16;&#x8F91;&#x6587;&#x6863;&#x4EE5;&#x53CA;&#x751F;&#x6210;&#x7684;&#x6587;&#x6863;&#x5B57;&#x7B26;&#x4E32;&#x3002;</span><span class="yiyi-st" id="yiyi-627">&#x90E8;&#x5206;&#x548C;API&#x6587;&#x6863;&#x4E4B;&#x95F4;&#x7684;&#x4EA4;&#x53C9;&#x94FE;&#x63A5;&#x5927;&#x5927;&#x6539;&#x8FDB;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;javascript&#x7684;&#x641C;&#x7D22;&#x529F;&#x80FD;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x4E86;&#x6240;&#x6709;&#x7C7B;&#xFF0C;&#x51FD;&#x6570;&#x548C;&#x6210;&#x5458;&#x7684;&#x5B8C;&#x6574;&#x7D22;&#x5F15;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-eea66a331a882cd7bbab29da2a14aace">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-1"><span class="yiyi-st" id="yiyi-628"><span class="target" id="change-3a9d633de48ce51f826b6d7223742ad6"><strong>[general] </strong></span> setup.py&#x73B0;&#x5728;&#x53EA;&#x80FD;&#x9009;&#x62E9;&#x6027;&#x5730;&#x5BFC;&#x5165;setuptools&#x3002;</span><span class="yiyi-st" id="yiyi-629">&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x4F7F;&#x7528;distutils&#x3002;</span><span class="yiyi-st" id="yiyi-630">&#x65B0;&#x7684;&#x201C;pip&#x201D;&#x5B89;&#x88C5;&#x7A0B;&#x5E8F;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;easy_install&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4EE5;&#x66F4;&#x7B80;&#x5316;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x5B89;&#x88C5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3a9d633de48ce51f826b6d7223742ad6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-2"><span class="yiyi-st" id="yiyi-631"><span class="target" id="change-32af7159db8d14dc32feb73b2f845e43"><strong>[general] </strong></span>&#x5728;&#x793A;&#x4F8B;&#x6587;&#x4EF6;&#x5939;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;PostGIS&#x96C6;&#x6210;&#x7684;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x57FA;&#x672C;&#x7684;&#x63D2;&#x56FE;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-32af7159db8d14dc32feb73b2f845e43">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0-orm"><h3><span class="yiyi-st" id="yiyi-632">ORM <a class="headerlink" href="#change-0.5.0-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0-3"><span class="yiyi-st" id="yiyi-633"><span class="target" id="change-b7910c83dd3b7784efb8dc7292ea337b"><strong>[orm] </strong></span>Query.with_polymorphic() now accepts a third argument &#x201C;discriminator&#x201D; which will replace the value of mapper.polymorphic_on for that query. </span><span class="yiyi-st" id="yiyi-634">&#x6620;&#x5C04;&#x5668;&#x672C;&#x8EAB;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x8BBE;&#x7F6E;polymorphic_on&#xFF0C;&#x5373;&#x4F7F;&#x6620;&#x5C04;&#x5668;&#x5177;&#x6709;polymorphic_identity&#x3002;</span><span class="yiyi-st" id="yiyi-635">&#x672A;&#x8BBE;&#x7F6E;&#x65F6;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6620;&#x5C04;&#x5668;&#x5C06;&#x975E;&#x591A;&#x6001;&#x52A0;&#x8F7D;&#x3002;</span><span class="yiyi-st" id="yiyi-636">&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x7279;&#x6027;&#x5141;&#x8BB8;&#x975E;&#x591A;&#x6001;&#x6DF7;&#x51DD;&#x571F;&#x7EE7;&#x627F;&#x8BBE;&#x7F6E;&#x5728;&#x6BCF;&#x4E2A;&#x67E5;&#x8BE2;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x4F7F;&#x7528;&#x591A;&#x6001;&#x52A0;&#x8F7D;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#x4F7F;&#x7528;&#x591A;&#x6001;&#x65F6;&#xFF0C;&#x5177;&#x4F53;&#x8BBE;&#x7F6E;&#x5F88;&#x5BB9;&#x6613;&#x51FA;&#x73B0;&#x8BB8;&#x591A;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b7910c83dd3b7784efb8dc7292ea337b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-4"><span class="yiyi-st" id="yiyi-637"><span class="target" id="change-e31793af1ffe0503ed92f4a18d66ec82"><strong>[orm] </strong></span> dynamic_loader&#x63A5;&#x53D7;query_class =&#x6765;&#x81EA;&#x5B9A;&#x4E49;&#x7528;&#x4E8E;&#x52A8;&#x6001;&#x96C6;&#x5408;&#x548C;&#x7531;&#x5B83;&#x6784;&#x5EFA;&#x7684;&#x67E5;&#x8BE2;&#x7684;Query&#x7C7B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e31793af1ffe0503ed92f4a18d66ec82">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-5"><span class="yiyi-st" id="yiyi-638"><span class="target" id="change-06ef25b63d4278d910e873a167d4ce8a"><strong>[orm] </strong></span>query.order_by() accepts None which will remove any pending order_by state from the query, as well as cancel out any mapper/relation configured ordering. </span><span class="yiyi-st" id="yiyi-639">&#x8FD9;&#x5BF9;&#x4E8E;&#x91CD;&#x5199;&#x5728;dynamic_loader()&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x987A;&#x5E8F;&#x5F88;&#x6709;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-06ef25b63d4278d910e873a167d4ce8a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-640">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1079">&#xFF03;1079</a></span></p></li><li><p id="change-0.5.0-6"><span class="yiyi-st" id="yiyi-641"><span class="target" id="change-02567c4d2f0747eb216a42367bcec8c7"><strong>[orm] </strong></span>Exceptions raised during compile_mappers() are now preserved to provide &#x201C;sticky behavior&#x201D; - if a hasattr() call on a pre-compiled mapped attribute triggers a failing compile and suppresses the exception, subsequent compilation is blocked and the exception will be reiterated on the next compile() call. </span><span class="yiyi-st" id="yiyi-642">&#x5F53;&#x4F7F;&#x7528;&#x58F0;&#x660E;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7ECF;&#x5E38;&#x53D1;&#x751F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-02567c4d2f0747eb216a42367bcec8c7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-7"><span class="yiyi-st" id="yiyi-643"><span class="target" id="change-a84f7f35a63cff6eef0ed8514b84e187"><strong>[orm] </strong></span>property.of_type() is now recognized on a single-table inheriting target, when used in the context of prop.of_type(..).any()/has(), as well as query.join(prop.of_type(...)).<a class="changeset-link headerlink reference internal" href="#change-a84f7f35a63cff6eef0ed8514b84e187">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-8"><span class="yiyi-st" id="yiyi-644"><span class="target" id="change-2440c5dcd446cdd0047720b5de4cffa5"><strong>[orm] </strong></span>query.join() raises an error when the target of the join doesn&#x2019;t match the property-based attribute - while it&#x2019;s unlikely anyone is doing this, the SQLAlchemy author was guilty of this particular loosey-goosey behavior.<a class="changeset-link headerlink reference internal" href="#change-2440c5dcd446cdd0047720b5de4cffa5">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-9"><span class="yiyi-st" id="yiyi-645"><span class="target" id="change-079005f18e95c701b36d4bbb9dbc1224"><strong>[orm] </strong></span>Fixed bug when using weak_instance_map=False where modified events would not be intercepted for a flush().<a class="changeset-link headerlink reference internal" href="#change-079005f18e95c701b36d4bbb9dbc1224">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-646">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1272">&#xFF03;1272</a></span></p></li><li><p id="change-0.5.0-10"><span class="yiyi-st" id="yiyi-647"><span class="target" id="change-493f00822d5a6a6c58ff9b68a83154e9"><strong>[orm] </strong></span>Fixed some deep &#x201C;column correspondence&#x201D; issues which could impact a Query made against a selectable containing multiple versions of the same table, as well as unions and similar which contained the same table columns in different column positions at different levels.<a class="changeset-link headerlink reference internal" href="#change-493f00822d5a6a6c58ff9b68a83154e9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-648">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1268">&#xFF03;1268</a></span></p></li><li><p id="change-0.5.0-11"><span class="yiyi-st" id="yiyi-649"><span class="target" id="change-5fb674658bd173367fadd8284d26c377"><strong>[orm] </strong></span>Custom comparator classes used in conjunction with column_property(), relation() etc. </span><span class="yiyi-st" id="yiyi-650">&#x53EF;&#x4EE5;&#x5728;&#x6BD4;&#x8F83;&#x5668;&#x4E0A;&#x5B9A;&#x4E49;&#x65B0;&#x7684;&#x6BD4;&#x8F83;&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x5C06;&#x901A;&#x8FC7;InstrumentedAttribute&#x4E0A;&#x7684;__getattr __()&#x53D8;&#x4E3A;&#x53EF;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-651">&#x5BF9;&#x4E8E;&#x540C;&#x4E49;&#x8BCD;()&#x6216;&#x53EF;&#x6BD4;&#x8F83;&#x5C5E;&#x6027;()&#x800C;&#x8A00;&#xFF0C;&#x9996;&#x5148;&#x5728;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;&#x63CF;&#x8FF0;&#x7B26;&#x4E0A;&#x89E3;&#x6790;&#x5C5E;&#x6027;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;&#x6BD4;&#x8F83;&#x5668;&#x4E0A;&#x89E3;&#x6790;&#x5C5E;&#x6027;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5fb674658bd173367fadd8284d26c377">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-12"><span class="yiyi-st" id="yiyi-652"><span class="target" id="change-6421b8358dfa43d30aa98dd6a905645a"><strong>[orm] </strong></span>&#x65B0;&#x589E;&#x4E86;ScopedSession.is_active&#x8BBF;&#x95EE;&#x8005;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6421b8358dfa43d30aa98dd6a905645a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-653">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/976">&#xFF03;976</a></span></p></li><li><p id="change-0.5.0-13"><span class="yiyi-st" id="yiyi-654"><span class="target" id="change-aaabaeccae30500a5e174c86899db3d5"><strong>[orm] </strong></span>&#x53EF;&#x4EE5;&#x5C06;&#x6620;&#x5C04;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x5217;&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x952E;&#x4F20;&#x9012;&#x7ED9;query.update&#xFF08;{}&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-aaabaeccae30500a5e174c86899db3d5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-655">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1262">&#xFF03;1262</a></span></p></li><li><p id="change-0.5.0-14"><span class="yiyi-st" id="yiyi-656">&#x4F20;&#x9012;&#x7ED9;&#x8868;&#x8FBE;&#x5F0F;level()&#x6216;update()&#x7684;values()&#x7684;&#x6620;&#x5C04;&#x5C5E;&#x6027;&#x5C06;&#x4F7F;&#x7528;&#x6620;&#x5C04;&#x5217;&#x7684;&#x952E;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6620;&#x5C04;&#x5C5E;&#x6027;&#x7684;&#x952E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2176eccd58bfc9b9738a8f634805d5bb"> <span class="target" id="change-2176eccd58bfc9b9738a8f634805d5bb"><strong>[orm] </strong></span></a></span></p><p></p></li><li><p id="change-0.5.0-15"><span class="yiyi-st" id="yiyi-657"><span class="target" id="change-4249b9419e01bc5e574864acd9dbd888"><strong>[orm] </strong></span>&#x66F4;&#x6B63;&#x4E86;Query.delete()&#x548C;Query.update()&#x4E0E;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x65E0;&#x6CD5;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x7684;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4249b9419e01bc5e574864acd9dbd888">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-658">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1242">&#xFF03;1242</a></span></p></li><li><p id="change-0.5.0-16"><span class="yiyi-st" id="yiyi-659"><span class="target" id="change-48951eb96c4072874e12e9ef16b39e5c"><strong>[orm] </strong></span> Query.select_from()&#xFF0C;from_statement()&#x786E;&#x4FDD;&#x7ED9;&#x5B9A;&#x7684;&#x53C2;&#x6570;&#x5206;&#x522B;&#x662F;FromClause&#x6216;Text / Select / Union&#x3002;<a class="changeset-link headerlink reference internal" href="#change-48951eb96c4072874e12e9ef16b39e5c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-17"><span class="yiyi-st" id="yiyi-660"><span class="target" id="change-5597bdb333fa372d5420afd158bd3093"><strong>[orm] </strong></span>Query() can be passed a &#x201C;composite&#x201D; attribute as a column expression and it will be expanded. </span><span class="yiyi-st" id="yiyi-661">&#x6709;&#x4E9B;&#x4E0E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5597bdb333fa372d5420afd158bd3093">&#xB6;</a>&#x6709;&#x5173;</span></p><p><span class="yiyi-st" id="yiyi-662">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1253">&#xFF03;1253</a></span></p></li><li><p id="change-0.5.0-18"><span class="yiyi-st" id="yiyi-663"><span class="target" id="change-d4125ce6dd00535ad9a7f23d71090246"><strong>[orm] </strong></span>Query() is a little more robust when passed various column expressions such as strings, clauselists, text() constructs (which may mean it just raises an error more nicely).<a class="changeset-link headerlink reference internal" href="#change-d4125ce6dd00535ad9a7f23d71090246">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-19"><span class="yiyi-st" id="yiyi-664"><span class="target" id="change-e33b3858481eec706f4b5413f82ce074"><strong>[orm] </strong></span>first() works as expected with Query.from_statement().<a class="changeset-link headerlink reference internal" href="#change-e33b3858481eec706f4b5413f82ce074">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-20"><span class="yiyi-st" id="yiyi-665"><span class="target" id="change-70b5b219f4a11d42cf210ae6ae0d83d3"><strong>[orm] </strong></span>Fixed bug introduced in 0.5rc4 involving eager loading not functioning for properties which were added to a mapper post-compile using add_property() or equivalent.<a class="changeset-link headerlink reference internal" href="#change-70b5b219f4a11d42cf210ae6ae0d83d3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-21"><span class="yiyi-st" id="yiyi-666"><span class="target" id="change-2ccb0c45c759877b42064d76bf99bcf7"><strong>[orm] </strong></span>Fixed bug where many-to-many relation() with viewonly=True would not correctly reference the link between secondary-&gt;remote.<a class="changeset-link headerlink reference internal" href="#change-2ccb0c45c759877b42064d76bf99bcf7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-22"><span class="yiyi-st" id="yiyi-667"><span class="target" id="change-1a61f53a8bf148ab3f8311330af61a4e"><strong>[orm] </strong></span>Duplicate items in a list-based collection will be maintained when issuing INSERTs to a &#x201C;secondary&#x201D; table in a many-to-many relation. </span><span class="yiyi-st" id="yiyi-668">&#x5047;&#x8BBE;m2m&#x8868;&#x5177;&#x6709;&#x552F;&#x4E00;&#x6216;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#xFF0C;&#x8FD9;&#x5C06;&#x5F15;&#x53D1;&#x9884;&#x671F;&#x7684;&#x7EA6;&#x675F;&#x8FDD;&#x89C4;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6084;&#x6084;&#x5730;&#x4E22;&#x5F03;&#x91CD;&#x590D;&#x7684;&#x6761;&#x76EE;&#x3002;</span><span class="yiyi-st" id="yiyi-669">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x65E7;&#x884C;&#x4E3A;&#x4ECD;&#x7136;&#x662F;&#x4E00;&#x5BF9;&#x591A;&#x5173;&#x7CFB;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6536;&#x96C6;&#x6761;&#x76EE;&#x4E0D;&#x4F1A;&#x5BFC;&#x81F4;INSERT&#x8BED;&#x53E5;&#xFF0C;&#x5E76;&#x4E14;SQLA&#x4E0D;&#x4F1A;&#x624B;&#x52A8;&#x7BA1;&#x7406;&#x96C6;&#x5408;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1a61f53a8bf148ab3f8311330af61a4e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-670">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1232">&#xFF03;1232</a></span></p></li><li><p id="change-0.5.0-23"><span class="yiyi-st" id="yiyi-671"><span class="target" id="change-446311bba6705a3c6633528ee49a0946"><strong>[orm] </strong></span>Query.add_column() can accept FromClause objects in the same manner as session.query() can.<a class="changeset-link headerlink reference internal" href="#change-446311bba6705a3c6633528ee49a0946">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-24"><span class="yiyi-st" id="yiyi-672"><span class="target" id="change-aaa084b509a29822e580970c9ed27105"><strong>[orm] </strong></span>&#x4E0E;NULL&#x7684;&#x591A;&#x5BF9;&#x4E00;&#x5173;&#x7CFB;&#x7684;&#x6BD4;&#x8F83;&#x6839;&#x636E;not _()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-aaa084b509a29822e580970c9ed27105">&#xB6;</a>&#x6B63;&#x786E;&#x8F6C;&#x6362;&#x4E3A;IS NOT NULL&#x3002;</span></p><p></p></li><li><p id="change-0.5.0-25"><span class="yiyi-st" id="yiyi-673"><span class="target" id="change-19b4a3d892b5556548dee40f3e860baf"><strong>[orm] </strong></span>&#x4E3A;&#x4E86;&#x786E;&#x4FDD;&#x663E;&#x5F0F;&#x7684;primaryjoin / secondaryjoin&#x662F;ClauseElement&#x5B9E;&#x4F8B;&#xFF0C;&#x6DFB;&#x52A0;&#x989D;&#x5916;&#x7684;&#x68C0;&#x67E5;&#x4EE5;&#x9632;&#x6B62;&#x4EE5;&#x540E;&#x51FA;&#x73B0;&#x66F4;&#x591A;&#x6DF7;&#x6DC6;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-19b4a3d892b5556548dee40f3e860baf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-674">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1087">&#xFF03;1087</a></span></p></li><li><p id="change-0.5.0-26"><span class="yiyi-st" id="yiyi-675"><span class="target" id="change-e8d33d06a02c7657be959fbfa2fe38a6"><strong>[orm] </strong></span>&#x6539;&#x8FDB;&#x4E86;mapper()&#x68C0;&#x67E5;&#x975E;&#x7C7B;&#x7684;&#x7C7B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e8d33d06a02c7657be959fbfa2fe38a6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-676">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1236">&#xFF03;1236</a></span></p></li><li><p id="change-0.5.0-27"><span class="yiyi-st" id="yiyi-677"><span class="target" id="change-e7e5aec7031582afa528f11773cbabef"><strong>[orm] </strong></span>comparator_factory argument is now documented and supported by all MapperProperty types, including column_property(), relation(), backref(), and synonym().<a class="changeset-link headerlink reference internal" href="#change-e7e5aec7031582afa528f11773cbabef">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-678">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/5051">&#xFF03;5051</a></span></p></li><li><p id="change-0.5.0-28"><span class="yiyi-st" id="yiyi-679"><span class="target" id="change-d186907ddc6b3f823c7b0bc6fb4d8b02"><strong>[orm] </strong></span>&#x5C06;PropertyLoader&#x7684;&#x540D;&#x79F0;&#x66F4;&#x6539;&#x4E3A;RelationProperty&#xFF0C;&#x4EE5;&#x4E0E;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x540D;&#x79F0;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#x3002;</span><span class="yiyi-st" id="yiyi-680">PropertyLoader&#x4ECD;&#x7136;&#x662F;&#x4E00;&#x4E2A;&#x540C;&#x4E49;&#x8BCD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d186907ddc6b3f823c7b0bc6fb4d8b02">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-29"><span class="yiyi-st" id="yiyi-681"><span class="target" id="change-9baac05bdfa8c85bd5e3615095d36406"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x5728;&#x5206;&#x7247;API&#x4E2D;&#x5BFC;&#x81F4;&#x603B;&#x7EBF;&#x9519;&#x8BEF;&#x7684;&#x201C;double iter()&#x201D;&#x8C03;&#x7528;&#xFF0C;&#x4ECE;0.4&#x7248;&#x672C;&#x4E2D;&#x5220;&#x9664;&#x4E86;&#x9519;&#x8BEF;&#x7684;result.close()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9baac05bdfa8c85bd5e3615095d36406">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-682">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1099">&#xFF03;1099</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1228">&#xFF03;1228</a></span></p></li><li><p id="change-0.5.0-30"><span class="yiyi-st" id="yiyi-683"><span class="target" id="change-5e2248787d968939e4e9d2f8e559e18b"><strong>[orm] </strong></span>&#x4F7F;Session.merge&#x7EA7;&#x8054;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;autoflush&#x3002;</span><span class="yiyi-st" id="yiyi-684">&#x4FEE;&#x590D;&#x4E86;&#x8FC7;&#x65E9;&#x63D2;&#x5165;&#x7F3A;&#x5931;&#x503C;&#x7684;&#x5408;&#x5E76;&#x5B9E;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5e2248787d968939e4e9d2f8e559e18b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-31"><span class="yiyi-st" id="yiyi-685"><span class="target" id="change-6555cfb0451b569305186ee8a0689589"><strong>[orm] </strong></span>Two fixes to help prevent out-of-band columns from being rendered in polymorphic_union inheritance scenarios (which then causes extra tables to be rendered in the FROM clause causing cartesian products):</span></p><blockquote><div><ul><li><span class="yiyi-st" id="yiyi-686">&#x5BF9;a-&gt; b-&gt; c&#x7EE7;&#x627F;&#x60C5;&#x51B5;&#x7684;&#x201C;&#x5217;&#x81EA;&#x9002;&#x5E94;&#x201D;&#x6539;&#x8FDB;&#x53EF;&#x4EE5;&#x66F4;&#x597D;&#x5730;&#x5B9A;&#x4F4D;&#x901A;&#x8FC7;&#x591A;&#x4E2A;&#x95F4;&#x63A5;&#x7EA7;&#x522B;&#x76F8;&#x4E92;&#x5173;&#x8054;&#x7684;&#x5217;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6E32;&#x67D3;&#x672A;&#x7ECF;&#x8FC7;&#x4FEE;&#x6539;&#x7684;&#x5217;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-687">&#x201C;&#x591A;&#x6001;&#x9274;&#x522B;&#x5668;&#x201D;&#x5217;&#x4EC5;&#x9488;&#x5BF9;&#x6B63;&#x5728;&#x67E5;&#x8BE2;&#x7684;&#x5B9E;&#x9645;&#x6620;&#x5C04;&#x5668;&#x5448;&#x73B0;&#x3002;</span><span class="yiyi-st" id="yiyi-688">&#x8BE5;&#x5217;&#x4E0D;&#x4F1A;&#x4ECE;&#x5B50;&#x7C7B;&#x6216;&#x8D85;&#x7C7B;&#x6620;&#x5C04;&#x5668;&#x201C;&#x62C9;&#x5165;&#x201D;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4E0D;&#x662F;&#x5FC5;&#x9700;&#x7684;&#x3002;</span></li></ul></div></blockquote><span class="yiyi-st" id="yiyi-689"> <a class="changeset-link headerlink reference internal" href="#change-6555cfb0451b569305186ee8a0689589">&#xB6;</a></span><p></p></li><li><p id="change-0.5.0-32"><span class="yiyi-st" id="yiyi-690"><span class="target" id="change-66fe0a8f3b46c831a3b3b83a3f3de315"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;ShardedSession.execute()&#x4E2D;&#x7684;shard_id&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-66fe0a8f3b46c831a3b3b83a3f3de315">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-691">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1072">&#xFF03;1072</a></span></p></li></ul></div><div class="section" id="change-0.5.0-sql"><h3><span class="yiyi-st" id="yiyi-692">SQL <a class="headerlink" href="#change-0.5.0-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0-33"><span class="yiyi-st" id="yiyi-693"><span class="target" id="change-5a0b923b1b514ed25e1500aca2106047"><strong>[sql] </strong></span>RowProxy objects can be used in place of dictionary arguments sent to connection.execute() and friends.<a class="changeset-link headerlink reference internal" href="#change-5a0b923b1b514ed25e1500aca2106047">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-694">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/935">&#xFF03;935</a></span></p></li><li><p id="change-0.5.0-34"><span class="yiyi-st" id="yiyi-695"><span class="target" id="change-719d0771fac124ea77465775b701b8c5"><strong>[sql] </strong></span>&#x5217;&#x53EF;&#x4EE5;&#x5728;&#x5176;&#x540D;&#x79F0;&#x4E2D;&#x518D;&#x6B21;&#x5305;&#x542B;&#x767E;&#x5206;&#x53F7;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-719d0771fac124ea77465775b701b8c5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-696">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1256">&#xFF03;1256</a></span></p></li><li><p id="change-0.5.0-35"><span class="yiyi-st" id="yiyi-697"><span class="target" id="change-af7e9ecbc72bdb194a01c553c0e3aaaf"><strong>[sql] </strong></span>sqlalchemy.sql.expression.Function is now a public class. </span><span class="yiyi-st" id="yiyi-698">&#x5B83;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x5F3A;&#x5236;&#x98CE;&#x683C;&#x63D0;&#x4F9B;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;SQL&#x51FD;&#x6570;&#xFF0C;&#x5305;&#x62EC;&#x9884;&#x5148;&#x5EFA;&#x7ACB;&#x7684;&#x884C;&#x4E3A;&#x3002;</span><span class="yiyi-st" id="yiyi-699">postgis.py&#x4F8B;&#x5B50;&#x8BF4;&#x660E;&#x4E86;&#x8FD9;&#x79CD;&#x7528;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-af7e9ecbc72bdb194a01c553c0e3aaaf">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-36"><span class="yiyi-st" id="yiyi-700"><span class="target" id="change-79be4984bd311cf1c3cc7aa0ee2c225b"><strong>[sql] </strong></span>PickleType now favors == comparison by default, if the incoming object (such as a dict) implements __eq__(). </span><span class="yiyi-st" id="yiyi-701">&#x5982;&#x679C;&#x5BF9;&#x8C61;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;__eq __()&#x548C;mutable = True&#xFF0C;&#x5219;&#x4F1A;&#x5F15;&#x53D1;&#x5F03;&#x7528;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-79be4984bd311cf1c3cc7aa0ee2c225b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-37"><span class="yiyi-st" id="yiyi-702"><span class="target" id="change-1c6cd4432680ee3b88d1409ad8a2595a"><strong>[sql] </strong></span>Fixed the import weirdness in sqlalchemy.sql to not export __names__.<a class="changeset-link headerlink reference internal" href="#change-1c6cd4432680ee3b88d1409ad8a2595a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-703">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1215">&#xFF03;1215</a></span></p></li><li><p id="change-0.5.0-38"><span class="yiyi-st" id="yiyi-704"><span class="target" id="change-053010ae5db7a1ef1c0cad28255e6e1a"><strong>[sql] </strong></span>&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;ForeignKey&#x5BF9;&#x8C61;&#x4F1A;&#x91CD;&#x590D;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x5728;&#x7A0D;&#x540E;&#x4EE5;&#x9759;&#x9ED8;&#x65B9;&#x5F0F;&#x5931;&#x8D25;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-053010ae5db7a1ef1c0cad28255e6e1a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-705">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1238">&#xFF03;1238</a></span></p></li><li><p id="change-0.5.0-39"><span class="yiyi-st" id="yiyi-706"><span class="target" id="change-b7deff0590fd52cd195b8b32345f2fe9"><strong>[sql] </strong></span>Added NotImplementedError for params() method on Insert/Update/Delete constructs. </span><span class="yiyi-st" id="yiyi-707">&#x8FD9;&#x4E9B;&#x9879;&#x76EE;&#x76EE;&#x524D;&#x4E0D;&#x652F;&#x6301;&#x8FD9;&#x79CD;&#x529F;&#x80FD;&#xFF0C;&#x4E0E;values()&#x76F8;&#x6BD4;&#xFF0C;&#x8FD9;&#x4E5F;&#x6709;&#x70B9;&#x8BEF;&#x5BFC;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b7deff0590fd52cd195b8b32345f2fe9">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-40"><span class="yiyi-st" id="yiyi-708"><span class="target" id="change-a1565732582db1a51b3aab75c0add31e"><strong>[sql] </strong></span>Reflected foreign keys will properly locate their referenced column, even if the column was given a &#x201C;key&#x201D; attribute different from the reflected name. </span><span class="yiyi-st" id="yiyi-709">&#x8FD9;&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;&#x201C;link_to_name&#x201D;&#x7684;ForeignKey / ForeignKeyConstraint&#x4E0A;&#x7684;&#x65B0;&#x6807;&#x5FD7;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x5982;&#x679C;True&#x8868;&#x793A;&#x7ED9;&#x5B9A;&#x7684;&#x540D;&#x79F0;&#x662F;&#x5F15;&#x7528;&#x5217;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5176;&#x5206;&#x914D;&#x7684;&#x952E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a1565732582db1a51b3aab75c0add31e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-710">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/650">&#xFF03;650</a></span></p></li><li><p id="change-0.5.0-41"><span class="yiyi-st" id="yiyi-711"><span class="target" id="change-0293ff97680a8f6fbee7f294e134068e"><strong>[sql] </strong></span>select() can accept a ClauseList as a column in the same way as a Table or other selectable and the interior expressions will be used as column elements.<a class="changeset-link headerlink reference internal" href="#change-0293ff97680a8f6fbee7f294e134068e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-712">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1253">&#xFF03;1253</a></span></p></li><li><p id="change-0.5.0-42"><span class="yiyi-st" id="yiyi-713"><span class="target" id="change-7f4d1737378bcea5c89e3882a6828ae0"><strong>[sql] </strong></span>the &#x201C;passive&#x201D; flag on session.is_modified() is correctly propagated to the attribute manager.<a class="changeset-link headerlink reference internal" href="#change-7f4d1737378bcea5c89e3882a6828ae0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-43"><span class="yiyi-st" id="yiyi-714"><span class="target" id="change-9aeae9fe877bc5208fc96c2c0187ce15"><strong>[sql] </strong></span>union() and union_all() will not whack any order_by() that has been applied to the select()s inside. </span><span class="yiyi-st" id="yiyi-715">&#x5982;&#x679C;&#x4F60;union()&#x4E00;&#x4E2A;select()&#x548C;order_by()&#xFF08;&#x5927;&#x6982;&#x652F;&#x6301;LIMIT / OFFSET&#xFF09;&#xFF0C;&#x4F60;&#x8FD8;&#x5E94;&#x8BE5;&#x8C03;&#x7528;self_group()&#x6765;&#x5E94;&#x7528;&#x62EC;&#x53F7;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9aeae9fe877bc5208fc96c2c0187ce15">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0-mysql"><h3><span class="yiyi-st" id="yiyi-716">MySQL&#x7684;<a class="headerlink" href="#change-0.5.0-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0-44"><span class="yiyi-st" id="yiyi-717"><span class="target" id="change-8658ecc046653e3b8297dd6a91e62d3c"><strong>[mysql] </strong></span> text()&#x6784;&#x9020;&#x4E2D;&#x7684;&#x201C;&#xFF05;&#x201D;&#x7B26;&#x53F7;&#x4F1A;&#x81EA;&#x52A8;&#x8F6C;&#x4E49;&#x4E3A;&#x201C;%%&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-718">&#x7531;&#x4E8E;&#x8FD9;&#x79CD;&#x53D8;&#x5316;&#x7684;&#x540E;&#x5411;&#x4E0D;&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x68C0;&#x6D4B;&#x5230;&apos;%%&apos;&#xFF0C;&#x5219;&#x4F1A;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8658ecc046653e3b8297dd6a91e62d3c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-45"><span class="yiyi-st" id="yiyi-719"><span class="target" id="change-dc5635e0b09e6d0ef90551f1458bfa1f"><strong>[mysql] </strong></span>&#x4FEE;&#x6B63;&#x5728;&#x53CD;&#x5C04;&#x671F;&#x95F4;FK&#x5217;&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x5F02;&#x5E38;&#x5F15;&#x53D1;&#x7684;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dc5635e0b09e6d0ef90551f1458bfa1f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-720">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1241">&#xFF03;1241</a></span></p></li><li><p id="change-0.5.0-46"><span class="yiyi-st" id="yiyi-721"><span class="target" id="change-26f82549faec2086390040b56ed67f52"><strong>[mysql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x6D89;&#x53CA;&#x5C06;&#x8FDC;&#x7A0B;&#x6A21;&#x5F0F;&#x8868;&#x4E0E;&#x5916;&#x952E;&#x5F15;&#x7528;&#x53CD;&#x6620;&#x5230;&#x8BE5;&#x6A21;&#x5F0F;&#x4E2D;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x8868;&#x7684;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-26f82549faec2086390040b56ed67f52">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0-sqlite"><h3><span class="yiyi-st" id="yiyi-722">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.5.0-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0-47"><span class="yiyi-st" id="yiyi-723"><span class="target" id="change-84584072c8de1c3fe482627927fd714f"><strong>[sqlite] </strong></span>&#x8868;&#x53CD;&#x5C04;&#x73B0;&#x5728;&#x5B58;&#x50A8;&#x5217;&#x7684;&#x5B9E;&#x9645;DefaultClause&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-84584072c8de1c3fe482627927fd714f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-724">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1266">&#xFF03;1266</a></span></p></li><li><p id="change-0.5.0-48"><span class="yiyi-st" id="yiyi-725"><span class="target" id="change-93d4830182415e1331aeea24907c3080"><strong>[sqlite] </strong></span>&#x9519;&#x8BEF;&#x4FEE;&#x6B63;&#xFF0C;&#x884C;&#x4E3A;&#x6539;&#x53D8;<a class="changeset-link headerlink reference internal" href="#change-93d4830182415e1331aeea24907c3080">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0-mssql"><h3><span class="yiyi-st" id="yiyi-726">MSSQL <a class="headerlink" href="#change-0.5.0-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0-49"><span class="yiyi-st" id="yiyi-727"><span class="target" id="change-c8d0719e80c9b09957d73e77785af6bd"><strong>[mssql] </strong></span>&#x65B0;&#x589E;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;MSGenericBinary&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-728">&#x8FD9;&#x6620;&#x5C04;&#x5230;&#x4E8C;&#x8FDB;&#x5236;&#x7C7B;&#x578B;&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5C06;&#x957F;&#x5EA6;&#x6307;&#x5B9A;&#x7C7B;&#x578B;&#x89C6;&#x4E3A;&#x56FA;&#x5B9A;&#x5BBD;&#x5EA6;&#x4E8C;&#x8FDB;&#x5236;&#x7C7B;&#x578B;&#x548C;&#x975E;&#x957F;&#x5EA6;&#x7C7B;&#x578B;&#x4F5C;&#x4E3A;&#x672A;&#x7ED1;&#x5B9A;&#x53D8;&#x91CF;&#x957F;&#x5EA6;&#x4E8C;&#x8FDB;&#x5236;&#x7C7B;&#x578B;&#x7684;&#x7279;&#x5B9A;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c8d0719e80c9b09957d73e77785af6bd">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-50"><span class="yiyi-st" id="yiyi-729"><span class="target" id="change-8f66fc574e3c160f44588cf02ca284e3"><strong>[mssql] </strong></span>&#x6DFB;&#x52A0;&#x65B0;&#x7C7B;&#x578B;&#xFF1A;MSVarBinary&#x548C;MSImage <a class="changeset-link headerlink reference internal" href="#change-8f66fc574e3c160f44588cf02ca284e3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-730">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1249">&#xFF03;1249</a></span></p></li><li><p id="change-0.5.0-51"><span class="yiyi-st" id="yiyi-731"><span class="target" id="change-5c00e393c842b417f4285b3a178aadcb"><strong>[mssql] </strong></span>Added in the MSReal, MSNText, MSSmallDateTime, MSTime, MSDateTimeOffset, and MSDateTime2 types<a class="changeset-link headerlink reference internal" href="#change-5c00e393c842b417f4285b3a178aadcb">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-52"><span class="yiyi-st" id="yiyi-732"><span class="target" id="change-b759863e8434ae6cea17a2115098b806"><strong>[mssql] </strong></span>&#x91CD;&#x6784;&#x65E5;&#x671F;/&#x65F6;&#x95F4;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-733"><code class="docutils literal"><span class="pre">smalldatetime</span></code>&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E0D;&#x518D;&#x4EC5;&#x622A;&#x65AD;&#x4E3A;&#x65E5;&#x671F;&#xFF0C;&#x73B0;&#x5728;&#x5C06;&#x6620;&#x5C04;&#x5230;MSSmallDateTime&#x7C7B;&#x578B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b759863e8434ae6cea17a2115098b806">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-734">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1254">&#xFF03;1254</a></span></p></li><li><p id="change-0.5.0-53"><span class="yiyi-st" id="yiyi-735"><span class="target" id="change-7ad24f536d7b91e2dd7a3b2b99a19727"><strong>[mssql] </strong></span>&#x66F4;&#x6B63;&#x4E86;Numerics&#x63A5;&#x53D7;int&#x7684;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7ad24f536d7b91e2dd7a3b2b99a19727">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-54"><span class="yiyi-st" id="yiyi-736"><span class="target" id="change-75b12696700d5e57f4fe29cdbc7ec8ac"><strong>[mssql] </strong></span>&#x5C06;<code class="docutils literal"><span class="pre">char_length</span></code>&#x6620;&#x5C04;&#x5230;<code class="docutils literal"><span class="pre">LEN()</span></code>&#x51FD;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-75b12696700d5e57f4fe29cdbc7ec8ac">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-55"><span class="yiyi-st" id="yiyi-737"><span class="target" id="change-ec975da215d6fde5f163e8a064cd4591"><strong>[mssql] </strong></span>If an <code class="docutils literal"><span class="pre">INSERT</span></code> includes a subselect the <code class="docutils literal"><span class="pre">INSERT</span></code> is converted from an <code class="docutils literal"><span class="pre">INSERT</span> <span class="pre">INTO</span> <span class="pre">VALUES</span></code> construct to a <code class="docutils literal"><span class="pre">INSERT</span> <span class="pre">INTO</span> <span class="pre">SELECT</span></code> construct.<a class="changeset-link headerlink reference internal" href="#change-ec975da215d6fde5f163e8a064cd4591">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-56"><span class="yiyi-st" id="yiyi-738"><span class="target" id="change-eaa3b35c76afd357117e3d0dd780ae3f"><strong>[mssql] </strong></span>&#x5982;&#x679C;&#x8BE5;&#x5217;&#x662F;<code class="docutils literal"><span class="pre">primary_key</span></code>&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5B83;&#x5C06;&#x662F;<code class="docutils literal"><span class="pre">NOT</span> <span class="pre">NULL</span>  t4 &gt;&#x56E0;&#x4E3A;MSSQL&#x5728;primary_key&#x5217;&#x4E2D;&#x4E0D;&#x5141;&#x8BB8;<code class="docutils literal"><span class="pre">NULL</span></code>&#x3002;<a class="changeset-link headerlink reference internal" href="#change-eaa3b35c76afd357117e3d0dd780ae3f">&#xB6;</a></code></span></p><p></p></li><li><p id="change-0.5.0-57"><span class="yiyi-st" id="yiyi-739"><span class="target" id="change-b986d7aae928f54f9c93125d11c52073"><strong>[mssql] </strong></span><code class="docutils literal"><span class="pre">MSBinary</span></code> now returns a <code class="docutils literal"><span class="pre">BINARY</span></code> instead of an <code class="docutils literal"><span class="pre">IMAGE</span></code>. </span><span class="yiyi-st" id="yiyi-740">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5411;&#x540E;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x56E0;&#x4E3A;<code class="docutils literal"><span class="pre">BINARY</span></code>&#x662F;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x957F;&#x5EA6;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x800C;<code class="docutils literal"><span class="pre">IMAGE</span></code>&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x53D8;&#x957F;&#x5EA6;&#x6570;&#x636E;&#x7C7B;&#x578B;<a class="changeset-link headerlink reference internal" href="#change-b986d7aae928f54f9c93125d11c52073">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-741">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1249">&#xFF03;1249</a></span></p></li><li><p id="change-0.5.0-58"><span class="yiyi-st" id="yiyi-742"><span class="target" id="change-804ce8c8340ab54b256a14785ec30540"><strong>[mssql] </strong></span> <code class="docutils literal"><span class="pre">get_default_schema_name</span></code>&#x73B0;&#x5728;&#x57FA;&#x4E8E;&#x7528;&#x6237;&#x7684;&#x9ED8;&#x8BA4;&#x6A21;&#x5F0F;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x53CD;&#x6620;&#x51FA;&#x6765;&#x3002;</span><span class="yiyi-st" id="yiyi-743">&#x8FD9;&#x53EA;&#x9002;&#x7528;&#x4E8E;MSSQL 2005&#x53CA;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-804ce8c8340ab54b256a14785ec30540">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-744">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1258">&#xFF03;1258</a></span></p></li><li><p id="change-0.5.0-59"><span class="yiyi-st" id="yiyi-745"><span class="target" id="change-bb18e5b89f2406099a7534d51e13fa2f"><strong>[mssql] </strong></span>&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x65B0;&#x7684;&#x6392;&#x5E8F;&#x89C4;&#x5219;&#x53C2;&#x6570;&#x589E;&#x52A0;&#x6392;&#x5E8F;&#x89C4;&#x5219;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-746">&#x8FD9;&#x5728;&#x4EE5;&#x4E0B;&#x7C7B;&#x578B;&#x4E2D;&#x53D7;&#x652F;&#x6301;&#xFF1A;char&#xFF0C;nchar&#xFF0C;varchar&#xFF0C;nvarchar&#xFF0C;text&#xFF0C;ntext&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bb18e5b89f2406099a7534d51e13fa2f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-747">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1248">&#xFF03;1248</a></span></p></li><li><p id="change-0.5.0-60"><span class="yiyi-st" id="yiyi-748"><span class="target" id="change-a286cda677ccfa3f76731e7a3199818b"><strong>[mssql] </strong></span>&#x5BF9;&#x8FDE;&#x63A5;&#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x7684;&#x66F4;&#x6539;&#x6709;&#x5229;&#x4E8E;DSN&#x4F5C;&#x4E3A;pyodbc&#x7684;&#x9ED8;&#x8BA4;&#x89C4;&#x8303;&#x3002;</span><span class="yiyi-st" id="yiyi-749">&#x6709;&#x5173;&#x8BE6;&#x7EC6;&#x7684;&#x7528;&#x6CD5;&#x8BF4;&#x660E;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;mssql.py docstring&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a286cda677ccfa3f76731e7a3199818b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-61"><span class="yiyi-st" id="yiyi-750"><span class="target" id="change-4c4a5e9e4b9c08f355846e1f696f9a30"><strong>[mssql] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x4FDD;&#x5B58;&#x70B9;&#x7684;&#x5B9E;&#x9A8C;&#x6027;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-751">&#x5B83;&#x76EE;&#x524D;&#x4E0D;&#x80FD;&#x5B8C;&#x5168;&#x7528;&#x4E8E;&#x4F1A;&#x8BDD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4c4a5e9e4b9c08f355846e1f696f9a30">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-62"><span class="yiyi-st" id="yiyi-752"><span class="target" id="change-149c046864d1ddbacc3fd459c9370503"><strong>[mssql] </strong></span>&#x652F;&#x6301;&#x4E09;&#x4E2A;&#x5217;&#x53EF;&#x7A7A;&#x6027;&#x7EA7;&#x522B;&#xFF1A;NULL&#xFF0C;NOT NULL&#x548C;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-753">&#x9ED8;&#x8BA4;&#x7684;Column&#x914D;&#x7F6E;&#xFF08;nullable = True&#xFF09;&#x73B0;&#x5728;&#x5C06;&#x5728;DDL&#x4E2D;&#x751F;&#x6210;NULL&#x3002;</span><span class="yiyi-st" id="yiyi-754">&#x4EE5;&#x524D;&#x6CA1;&#x6709;&#x53D1;&#x5E03;&#x89C4;&#x8303;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x9ED8;&#x8BA4;&#x4F1A;&#x751F;&#x6548;&#xFF08;&#x901A;&#x5E38;&#x662F;NULL&#xFF0C;&#x4F46;&#x5E76;&#x4E0D;&#x603B;&#x662F;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-755">&#x8981;&#x663E;&#x5F0F;&#x8BF7;&#x6C42;&#x6570;&#x636E;&#x5E93;&#x7F3A;&#x7701;&#x503C;&#xFF0C;&#x8BF7;&#x914D;&#x7F6E;nullable = None&#x7684;&#x5217;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x4F1A;&#x5728;DDL&#x4E2D;&#x53D1;&#x51FA;&#x89C4;&#x8303;&#x3002;</span><span class="yiyi-st" id="yiyi-756">&#x8FD9;&#x662F;&#x5411;&#x540E;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-149c046864d1ddbacc3fd459c9370503">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-757">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1243">&#xFF03;1243</a></span></p></li></ul></div><div class="section" id="change-0.5.0-oracle"><h3><span class="yiyi-st" id="yiyi-758">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.5.0-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0-63"><span class="yiyi-st" id="yiyi-759"><span class="target" id="change-a43e314d4f2cf68b62002484aaf006e4"><strong>[oracle] </strong></span>&#x8C03;&#x6574;create_xid()&#x7684;&#x683C;&#x5F0F;&#x6765;&#x4FEE;&#x590D;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x3002;</span><span class="yiyi-st" id="yiyi-760">&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x6709;Oracle&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x7684;&#x73B0;&#x573A;&#x62A5;&#x544A;&#xFF0C;&#x53EF;&#x4EE5;&#x6B63;&#x786E;&#x5904;&#x7406;&#x8FD9;&#x79CD;&#x53D8;&#x5316;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a43e314d4f2cf68b62002484aaf006e4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-64"><span class="yiyi-st" id="yiyi-761"><span class="target" id="change-03197feb9b2b7658cf40cfe853e5f05c"><strong>[oracle] </strong></span>&#x6DFB;&#x52A0;&#x4E86;OracleNVarchar&#x7C7B;&#x578B;&#xFF0C;&#x751F;&#x6210;&#x4E86;NVARCHAR2&#xFF0C;&#x5E76;&#x4E14;&#x8FD8;&#x4F7F;&#x7528;&#x4E86;Unicode&#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x4EE5;&#x4FBF;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;convert_unicode = True&#x3002;</span><span class="yiyi-st" id="yiyi-762">NVARCHAR2&#x4F1A;&#x81EA;&#x52A8;&#x53CD;&#x6620;&#x5230;&#x8FD9;&#x79CD;&#x7C7B;&#x578B;&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E9B;&#x5217;&#x5728;&#x53CD;&#x5C04;&#x8868;&#x4E0A;&#x4F20;&#x9012;unicode&#xFF0C;&#x6CA1;&#x6709;&#x663E;&#x5F0F;&#x7684;convert_unicode = True&#x6807;&#x5FD7;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-03197feb9b2b7658cf40cfe853e5f05c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-763">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1233">&#xFF03;1233</a></span></p></li><li><p id="change-0.5.0-65"><span class="yiyi-st" id="yiyi-764"><span class="target" id="change-b72444e553b994170040c0428fbf65d0"><strong>[oracle] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x9632;&#x6B62;&#x63A5;&#x6536;&#x67D0;&#x4E9B;&#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570;&#x7684;&#x9519;&#x8BEF;&#xFF1B;&#x975E;&#x5E38;&#x611F;&#x8C22;wwu.edu huddlej&#xFF01;<a class="changeset-link headerlink reference internal" href="#change-b72444e553b994170040c0428fbf65d0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-765">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1265">&#xFF03;1265</a></span></p></li></ul></div><div class="section" id="change-0.5.0-misc"><h3><span class="yiyi-st" id="yiyi-766">&#x6742;&#x9879;<a class="headerlink" href="#change-0.5.0-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0-66"><span class="yiyi-st" id="yiyi-767"><span class="target" id="change-da970a157a1834cd79c819f5c3f2540d"><strong>[dialect] </strong></span>&#x5728;&#x5904;&#x7406;&#x5143;&#x6570;&#x636E;&#x65F6;&#x7528;&#x4E8E;&#x7F16;&#x7801;&#x5217;&#x540D;&#x79F0;&#x7684;&#x65B9;&#x8A00;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;description_encoding&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-768">&#x8FD9;&#x901A;&#x5E38;&#x9ED8;&#x8BA4;&#x4E3A;utf-8. <a class="changeset-link headerlink reference internal" href="#change-da970a157a1834cd79c819f5c3f2540d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-67"><span class="yiyi-st" id="yiyi-769"><span class="target" id="change-5e7ce396d34dc5ae7ad3f1cb8b384593"><strong>[engine/pool] </strong></span> Connection.invalidate()&#x68C0;&#x67E5;&#x5173;&#x95ED;&#x72B6;&#x6001;&#x4EE5;&#x907F;&#x514D;&#x5C5E;&#x6027;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5e7ce396d34dc5ae7ad3f1cb8b384593">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-770">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1246">&#xFF03;1246</a></span></p></li><li><p id="change-0.5.0-68"><span class="yiyi-st" id="yiyi-771"><span class="target" id="change-bc7d2b0fc90717fe3325c56e15f4283d"><strong>[engine/pool] </strong></span> NullPool&#x652F;&#x6301;&#x5728;&#x5931;&#x8D25;&#x884C;&#x4E3A;&#x4E2D;&#x91CD;&#x65B0;&#x8FDE;&#x63A5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bc7d2b0fc90717fe3325c56e15f4283d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-772">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1094">&#xFF03;1094</a></span></p></li><li><p id="change-0.5.0-69"><span class="yiyi-st" id="yiyi-773"><span class="target" id="change-75ce0f6341ffdfdd61a122e4b20f355b"><strong>[engine/pool] </strong></span>&#x4F7F;&#x7528;pool.manage&#xFF08;dbapi&#xFF09;&#x65F6;&#xFF0C;&#x4E3A;&#x521D;&#x59CB;&#x6C60;&#x521B;&#x5EFA;&#x6DFB;&#x52A0;&#x4E86;&#x4E92;&#x65A5;&#x9501;&#x3002;</span><span class="yiyi-st" id="yiyi-774">&#x8FD9;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x8F7B;&#x5FAE;&#x7684;&#x201C;&#x7B28;&#x86CB;&#x201D;&#x884C;&#x4E3A;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x5728;&#x91CD;&#x8F7D;&#x542F;&#x52A8;&#x65F6;&#x53D1;&#x751F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-75ce0f6341ffdfdd61a122e4b20f355b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-775">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/799">&#xFF03;799</a></span></p></li><li><p id="change-0.5.0-70"><span class="yiyi-st" id="yiyi-776"><span class="target" id="change-0b049b47c08c88cb2921ec8fa213c7dd"><strong>[engine/pool] </strong></span> _execute_clauseelement()&#x8FD4;&#x56DE;&#x4E3A;&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-777">&#x5728;ConnectionProxy&#x53EF;&#x7528;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B50;&#x7C7B;&#x5316;Connection&#x4E0D;&#x662F;&#x5FC5;&#x9700;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0b049b47c08c88cb2921ec8fa213c7dd">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-71"><span class="yiyi-st" id="yiyi-778"><span class="target" id="change-8627c67839907a4a8ac4b47976556828"><strong>[documentation] </strong></span> Tickets&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8627c67839907a4a8ac4b47976556828">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-779">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1149">&#xFF03;1149</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1200">&#xFF03;1200</a></span></p></li><li><p id="change-0.5.0-72"><span class="yiyi-st" id="yiyi-780"><span class="target" id="change-e55294d74e10af807807f871712b0880"><strong>[documentation] </strong></span>&#x6DFB;&#x52A0;&#x5173;&#x4E8E;create_session()&#x7684;&#x6CE8;&#x91CA;&#x9ED8;&#x8BA4;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e55294d74e10af807807f871712b0880">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-73"><span class="yiyi-st" id="yiyi-781"><span class="target" id="change-270e327e2fc5e5129363645f1bbf17a9"><strong>[documentation] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x6709;&#x5173;metadata.reflect()&#x7684;&#x90E8;&#x5206;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-270e327e2fc5e5129363645f1bbf17a9">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-74"><span class="yiyi-st" id="yiyi-782"><span class="target" id="change-5fd98e9cb67ac4d2452ca17a5cb7d03f"><strong>[documentation] </strong></span>&#x5DF2;&#x66F4;&#x65B0;<cite>TypeDecorator</cite>&#x90E8;&#x5206;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5fd98e9cb67ac4d2452ca17a5cb7d03f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-75"><span class="yiyi-st" id="yiyi-783"><span class="target" id="change-bc0ede0d6a7a62f229788a0cc644a33b"><strong>[documentation] </strong></span>&#x7531;&#x4E8E;&#x6700;&#x8FD1;&#x5BF9;&#x6B64;&#x529F;&#x80FD;&#x7684;&#x6DF7;&#x6DC6;&#xFF0C;&#x91CD;&#x5199;&#x4E86;&#x6587;&#x6863;&#x7684;&#x201C;threadlocal&#x201D;&#x7B56;&#x7565;&#x90E8;&#x5206;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bc0ede0d6a7a62f229788a0cc644a33b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-76"><span class="yiyi-st" id="yiyi-784"><span class="target" id="change-6f07fa2dced69d5f8b9840955c2152b6"><strong>[documentation] </strong></span>&#x4ECE;&#x7EE7;&#x627F;&#x4E2D;&#x5220;&#x9664;&#x4E86;&#x8FC7;&#x671F;&#x7684;&apos;polymorphic_fetch&apos;&#x548C;&apos;select_table&apos;&#x6587;&#x6863;&#xFF0C;&#x91CD;&#x5199;&#x4E86;&#x201C;&#x8FDE;&#x63A5;&#x8868;&#x7EE7;&#x627F;&#x201D;&#x7684;&#x540E;&#x534A;&#x90E8;&#x5206;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6f07fa2dced69d5f8b9840955c2152b6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-77"><span class="yiyi-st" id="yiyi-785"><span class="target" id="change-38b473492814598fc57602ec7a2e240a"><strong>[documentation] </strong></span>&#x8BB0;&#x5F55;&#x4E86;<cite>comparator_factory</cite> kwarg&#xFF0C;&#x589E;&#x52A0;&#x4E86;&#x65B0;&#x7684;doc&#x90E8;&#x5206;&#x201C;Custom Comparators&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-38b473492814598fc57602ec7a2e240a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-78"><span class="yiyi-st" id="yiyi-786"><span class="target" id="change-8658ecc046653e3b8297dd6a91e62d3c"><strong>[postgres] </strong></span> text()&#x6784;&#x9020;&#x4E2D;&#x7684;&#x201C;&#xFF05;&#x201D;&#x7B26;&#x53F7;&#x4F1A;&#x81EA;&#x52A8;&#x8F6C;&#x4E49;&#x4E3A;&#x201C;%%&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-787">&#x7531;&#x4E8E;&#x8FD9;&#x79CD;&#x53D8;&#x5316;&#x7684;&#x540E;&#x5411;&#x4E0D;&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x68C0;&#x6D4B;&#x5230;&apos;%%&apos;&#xFF0C;&#x5219;&#x4F1A;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8658ecc046653e3b8297dd6a91e62d3c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-788">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1267">&#xFF03;1267</a></span></p></li><li><p id="change-0.5.0-79"><span class="yiyi-st" id="yiyi-789"><span class="target" id="change-4632b52224527c408a498d9cd920b87f"><strong>[postgres] </strong></span>&#x4E0E;server_side_cursors&#x4E00;&#x8D77;&#x8C03;&#x7528;alias.execute()&#x4E0D;&#x4F1A;&#x5F15;&#x53D1;AttributeError&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4632b52224527c408a498d9cd920b87f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-80"><span class="yiyi-st" id="yiyi-790"><span class="target" id="change-7f7eca144e08cf2cfce5a0ea42a49236"><strong>[postgres] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;PostgreSQL&#x7684;&#x7D22;&#x5F15;&#x53CD;&#x5C04;&#x652F;&#x6301;&#xFF0C;&#x4F7F;&#x7528;&#x4E86;&#x7531;Ken Kuhlman&#x63D0;&#x4EA4;&#x7684;&#x4E00;&#x4E2A;&#x957F;&#x671F;&#x88AB;&#x5FFD;&#x7565;&#x7684;&#x4F18;&#x79C0;&#x8865;&#x4E01;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7f7eca144e08cf2cfce5a0ea42a49236">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-791">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/714">&#xFF03;714</a></span></p></li><li><p id="change-0.5.0-81"><span class="yiyi-st" id="yiyi-792"><span class="target" id="change-5b9a3396875da1271c6cb891adaaaa46"><strong>[associationproxy] </strong></span>&#x5173;&#x8054;&#x4EE3;&#x7406;&#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x5728;&#x8BFE;&#x7A0B;&#x7EA7;&#x522B;&#x81EA;&#x884C;&#x63D0;&#x4F9B;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C; MyClass.aproxy&#x3002;</span><span class="yiyi-st" id="yiyi-793">&#x4EE5;&#x524D;&#x8FD9;&#x4E2A;&#x8BC4;&#x4F30;&#x4E3A;None&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5b9a3396875da1271c6cb891adaaaa46">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0-82"><span class="yiyi-st" id="yiyi-794"><span class="target" id="change-33380ccfcfce84e083d372599c2b9832"><strong>[declarative] </strong></span>&#x7531;backref()&#x63A5;&#x53D7;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5B8C;&#x6574;&#x53C2;&#x6570;&#x5217;&#x8868;&#x5305;&#x62EC;&apos;primaryjoin&apos;&#xFF0C;&apos;secondaryjoin&apos;&#xFF0C;&apos;secondary&apos;&#xFF0C;&apos;foreign_keys&apos;&#xFF0C;&apos;remote_side&apos;&#xFF0C;&apos;order_by&apos;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-33380ccfcfce84e083d372599c2b9832">&#xB6; T2&gt;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.5.0rc4"><h2><span class="yiyi-st" id="yiyi-796">0.5.0rc4 <a class="headerlink" href="#change-0.5.0rc4" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-837">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2008&#x5E74;11&#x6708;14&#x65E5;</span><div class="section" id="change-0.5.0rc4-general"><h3><span class="yiyi-st" id="yiyi-797">&#x4E00;&#x822C;<a class="headerlink" href="#change-0.5.0rc4-general" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc4-0"><span class="yiyi-st" id="yiyi-798"><span class="target" id="change-8a6aec8fb7018c963d0184c84264d310"><strong>[general] </strong></span>&#x5168;&#x5C40;&#x201C;propigate&#x201D; - &gt;&#x201C;&#x4F20;&#x64AD;&#x201D;&#x66F4;&#x6539;<a class="changeset-link headerlink reference internal" href="#change-8a6aec8fb7018c963d0184c84264d310">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0rc4-orm"><h3><span class="yiyi-st" id="yiyi-799">ORM <a class="headerlink" href="#change-0.5.0rc4-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc4-1"><span class="yiyi-st" id="yiyi-800"><span class="target" id="change-e706abaafd4163571c3b5fcd73799ba3"><strong>[orm] </strong></span>Query.count() has been enhanced to do the &#x201C;right thing&#x201D; in a wider variety of cases. </span><span class="yiyi-st" id="yiyi-801">&#x5B83;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x8BA1;&#x7B97;&#x591A;&#x5B9E;&#x4F53;&#x67E5;&#x8BE2;&#x4EE5;&#x53CA;&#x57FA;&#x4E8E;&#x5217;&#x7684;&#x67E5;&#x8BE2;&#x3002;</span><span class="yiyi-st" id="yiyi-802">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5982;&#x679C;&#x60A8;&#x5728;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x52A0;&#x5165;&#x6807;&#x51C6;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x67E5;&#x8BE2;&#xFF08;A&#xFF0C;B&#xFF09;.count()&#xFF0C;&#x5B83;&#x5C06;&#x8BA1;&#x7B97;A * B&#x7684;&#x7B1B;&#x5361;&#x5C14;&#x4E58;&#x79EF;&#x3002;</span><span class="yiyi-st" id="yiyi-803">&#x4EFB;&#x4F55;&#x9488;&#x5BF9;&#x57FA;&#x4E8E;&#x5217;&#x7684;&#x5B9E;&#x4F53;&#x7684;&#x67E5;&#x8BE2;&#x90FD;&#x4F1A;&#x81EA;&#x52A8;&#x53D1;&#x51FA;&#x201C;SELECT count&#xFF08;1&#xFF09;FROM&#xFF08;SELECT ...&#xFF09;&#x201D;&#xFF0C;&#x4EE5;&#x4FBF;&#x8FD4;&#x56DE;&#x771F;&#x5B9E;&#x7684;&#x884C;&#x8BA1;&#x6570;&#xFF0C;&#x5373;query&#xFF08;func.count&#xFF08;A.name&#xFF09;&#xFF09;&#x4E4B;&#x7C7B;&#x7684;&#x67E5;&#x8BE2;&#x3002; .count()&#x5C06;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x56E0;&#x4E3A;&#x8BE5;&#x67E5;&#x8BE2;&#x5C06;&#x8FD4;&#x56DE;&#x4E00;&#x884C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e706abaafd4163571c3b5fcd73799ba3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc4-2"><span class="yiyi-st" id="yiyi-804"><span class="target" id="change-849958bf53fe31d2e33d918bdfd33bdd"><strong>[orm] </strong></span>&#x5F88;&#x591A;&#x6027;&#x80FD;&#x8C03;&#x6574;&#x3002;</span><span class="yiyi-st" id="yiyi-805">&#x5BF9;&#x5404;&#x79CD;ORM&#x64CD;&#x4F5C;&#x7684;&#x7C97;&#x7565;&#x731C;&#x6D4B;&#x4F7F;&#x5176;&#x6BD4;0.5.0rc3&#x5FEB;10&#xFF05;&#xFF0C;&#x6BD4;0.4.8&#x9AD8;25-30&#xFF05;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-849958bf53fe31d2e33d918bdfd33bdd">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc4-3"><span class="yiyi-st" id="yiyi-806"><span class="target" id="change-999726fd1a9b23baf51053bd59286402"><strong>[orm] </strong></span>&#x9519;&#x8BEF;&#x4FEE;&#x6B63;&#x548C;&#x884C;&#x4E3A;&#x6539;&#x53D8;<a class="changeset-link headerlink reference internal" href="#change-999726fd1a9b23baf51053bd59286402">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc4-4"><span class="yiyi-st" id="yiyi-807"><span class="target" id="change-89395a39a61e30e16768f166ecf74f13"><strong>[orm] </strong></span>&#x8C03;&#x6574;InstanceState&#x4E0A;&#x589E;&#x5F3A;&#x7684;&#x5783;&#x573E;&#x6536;&#x96C6;&#xFF0C;&#x4EE5;&#x66F4;&#x597D;&#x5730;&#x9632;&#x6B62;&#x7531;&#x4E8E;&#x72B6;&#x6001;&#x4E22;&#x5931;&#x5BFC;&#x81F4;&#x7684;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-89395a39a61e30e16768f166ecf74f13">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc4-5"><span class="yiyi-st" id="yiyi-808"><span class="target" id="change-f42b51bc7c7c3769ecbdf41f431dd6e7"><strong>[orm] </strong></span>&#x5F53;&#x9488;&#x5BF9;&#x591A;&#x4E2A;&#x5B9E;&#x4F53;&#x6267;&#x884C;&#x65F6;&#xFF0C;Query.get()&#x8FD4;&#x56DE;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f42b51bc7c7c3769ecbdf41f431dd6e7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-809">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1220">&#xFF03;1220</a></span></p></li><li><p id="change-0.5.0rc4-6"><span class="yiyi-st" id="yiyi-810"><span class="target" id="change-ab894d2d68d342df5dc9eeb9cbd09b0c"><strong>[orm] </strong></span>&#x5728;Cls.relation.in&#x4E2D;&#x6062;&#x590D;NotImplementedError _()<a class="changeset-link headerlink reference internal" href="#change-ab894d2d68d342df5dc9eeb9cbd09b0c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-811">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1140">&#xFF03;1140</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1221">&#xFF03;1221</a></span></p></li><li><p id="change-0.5.0rc4-7"><span class="yiyi-st" id="yiyi-812"><span class="target" id="change-22fe0443a88de30a1342a3a099b22329"><strong>[orm] </strong></span>&#x56FA;&#x5B9A;PendingDeprecationWarning&#x6D89;&#x53CA;relation()&#x4E2D;&#x7684;order_by&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-22fe0443a88de30a1342a3a099b22329">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-813">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1226">&#xFF03;1226</a></span></p></li></ul></div><div class="section" id="change-0.5.0rc4-sql"><h3><span class="yiyi-st" id="yiyi-814">SQL <a class="headerlink" href="#change-0.5.0rc4-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc4-8"><span class="yiyi-st" id="yiyi-815"><span class="target" id="change-5224b4a3507abcf1fe778389eaf02902"><strong>[sql] </strong></span>&#x5220;&#x9664;Connection&#x5BF9;&#x8C61;&#x7684;&apos;properties&apos;&#x5C5E;&#x6027;&#xFF0C;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;Connection.info&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5224b4a3507abcf1fe778389eaf02902">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc4-9"><span class="yiyi-st" id="yiyi-816"><span class="target" id="change-6f2b6ddaa306d06266d2c436ea5ca0e9"><strong>[sql] </strong></span>Restored &#x201C;active rowcount&#x201D; fetch before ResultProxy autocloses the cursor. </span><span class="yiyi-st" id="yiyi-817">&#x8FD9;&#x5728;0.5rc3&#x4E2D;&#x88AB;&#x5220;&#x9664;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6f2b6ddaa306d06266d2c436ea5ca0e9">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc4-10"><span class="yiyi-st" id="yiyi-818"><span class="target" id="change-6ef99ec88220d96a834e5814ff6f2d2f"><strong>[sql] </strong></span>Rearranged the <cite>load_dialect_impl()</cite> method in <cite>TypeDecorator</cite> such that it will take effect even if the user-defined <cite>TypeDecorator</cite> uses another <cite>TypeDecorator</cite> as its impl.<a class="changeset-link headerlink reference internal" href="#change-6ef99ec88220d96a834e5814ff6f2d2f">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0rc4-mssql"><h3><span class="yiyi-st" id="yiyi-819">MSSQL <a class="headerlink" href="#change-0.5.0rc4-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc4-11"><span class="yiyi-st" id="yiyi-820"><span class="target" id="change-02d361683d4caaf79aca978254b4d825"><strong>[mssql] </strong></span>&#x5927;&#x91CF;&#x7684;&#x6E05;&#x7406;&#x548C;&#x4FEE;&#x590D;&#x6765;&#x7EA0;&#x6B63;&#x6781;&#x9650;&#x548C;&#x504F;&#x79FB;&#x95EE;&#x9898;<a class="changeset-link headerlink reference internal" href="#change-02d361683d4caaf79aca978254b4d825">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc4-12"><span class="yiyi-st" id="yiyi-821"><span class="target" id="change-614a34b39f33b0ee777ad0be205f9d25"><strong>[mssql] </strong></span>&#x9700;&#x8981;&#x5C06;&#x5B50;&#x67E5;&#x8BE2;&#x4F5C;&#x4E3A;&#x4E8C;&#x8FDB;&#x5236;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x8F6C;&#x6362;&#x4E3A;&#x4F7F;&#x7528;IN&#x548C;NOT IN&#x8BED;&#x6CD5;&#x7684;&#x6B63;&#x786E;&#x60C5;&#x51B5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-614a34b39f33b0ee777ad0be205f9d25">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc4-13"><span class="yiyi-st" id="yiyi-822"><span class="target" id="change-c54f50ebca87d4604d60f5e0f79671a9"><strong>[mssql] </strong></span>&#x56FA;&#x5B9A;E&#x7B26;&#x53F7;&#x95EE;&#x9898;&#xFF0C;&#x963B;&#x6B62;&#x63D2;&#x5165;&#x5C0F;&#x4E8E;1E-6&#x7684;&#x5341;&#x8FDB;&#x5236;&#x503C;&#x7684;&#x80FD;&#x529B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c54f50ebca87d4604d60f5e0f79671a9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-823">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1216">&#xFF03;1216</a></span></p></li><li><p id="change-0.5.0rc4-14"><span class="yiyi-st" id="yiyi-824"><span class="target" id="change-c306dde89a40d3eb755ee92c176e2071"><strong>[mssql] </strong></span>&#x66F4;&#x6B63;&#x4E86;&#x5904;&#x7406;&#x6A21;&#x5F0F;&#x65F6;&#x7684;&#x53CD;&#x5C04;&#x95EE;&#x9898;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5F53;&#x8FD9;&#x4E9B;&#x6A21;&#x5F0F;&#x662F;&#x9ED8;&#x8BA4;&#x6A21;&#x5F0F;&#x65F6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c306dde89a40d3eb755ee92c176e2071">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-825">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1217">&#xFF03;1217</a></span></p></li><li><p id="change-0.5.0rc4-15"><span class="yiyi-st" id="yiyi-826"><span class="target" id="change-602cb2c9da1ddce66cf973e04b4f44fa"><strong>[mssql] </strong></span>&#x89E3;&#x51B3;&#x4E86;&#x5C06;&#x96F6;&#x957F;&#x5EA6;&#x9879;&#x76EE;&#x6295;&#x5C04;&#x5230;varchar&#x7684;&#x95EE;&#x9898;&#x3002;</span><span class="yiyi-st" id="yiyi-827">&#x73B0;&#x5728;&#x5B83;&#x53EF;&#x4EE5;&#x6B63;&#x786E;&#x8C03;&#x6574;CAST&#x3002;<a class="changeset-link headerlink reference internal" href="#change-602cb2c9da1ddce66cf973e04b4f44fa">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0rc4-misc"><h3><span class="yiyi-st" id="yiyi-828">&#x6742;&#x9879;<a class="headerlink" href="#change-0.5.0rc4-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc4-16"><span class="yiyi-st" id="yiyi-829"><span class="target" id="change-0609f1d794bed5620afd2c5fcfe4485c"><strong>[access] </strong></span>&#x589E;&#x52A0;&#x5BF9;&#x8D27;&#x5E01;&#x7C7B;&#x578B;&#x7684;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0609f1d794bed5620afd2c5fcfe4485c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc4-17"><span class="yiyi-st" id="yiyi-830"><span class="target" id="change-4871138a9e4725231382a94cadc641fa"><strong>[access] </strong></span>&#x51FD;&#x6570;&#x6CA1;&#x6709;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4871138a9e4725231382a94cadc641fa">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-831">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1017">&#xFF03;1017</a></span></p></li><li><p id="change-0.5.0rc4-18"><span class="yiyi-st" id="yiyi-832"><span class="target" id="change-629213dc9d8caec224eab7efaf0c9e8c"><strong>[access] </strong></span>&#x66F4;&#x6B63;&#x8FDE;&#x63A5;&#x95EE;&#x9898;&#x3002;</span><span class="yiyi-st" id="yiyi-833">&#x8BBF;&#x95EE;&#x53EA;&#x652F;&#x6301;&#x5DE6;&#x5916;&#x90E8;&#x6216;&#x5185;&#x90E8;&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x81EA;&#x5DF1;&#x52A0;&#x5165;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-629213dc9d8caec224eab7efaf0c9e8c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-834">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1017">&#xFF03;1017</a></span></p></li><li><p id="change-0.5.0rc4-19"><span class="yiyi-st" id="yiyi-835"><span class="target" id="change-ead812e3dcdf543e63ae4eb41cb6e786"><strong>[ext] </strong></span>&#x4F7F;&#x7528;&#x58F0;&#x660E;&#x5F0F;&#x65F6;&#xFF0C;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5728;__mapper_args__&#x4E2D;&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x201C;inherit_condition&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ead812e3dcdf543e63ae4eb41cb6e786">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc4-20"><span class="yiyi-st" id="yiyi-836"><span class="target" id="change-d703da716eeb441018b2fabb134131b1"><strong>[ext] </strong></span>&#x56FA;&#x5B9A;&#x7684;&#x57FA;&#x4E8E;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x201C;remote_side&#x201D;&#xFF0C;&#x201C;order_by&#x201D;&#x7B49;&#x5728;backref()&#x4E2D;&#x4F7F;&#x7528;&#x65F6;&#x4E0D;&#x80FD;&#x6B63;&#x786E;&#x4F20;&#x64AD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d703da716eeb441018b2fabb134131b1">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.5.0rc3"><h2><span class="yiyi-st" id="yiyi-838">0.5.0rc3 <a class="headerlink" href="#change-0.5.0rc3" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-904">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2008&#x5E74;11&#x6708;7&#x65E5;</span><div class="section" id="change-0.5.0rc3-orm"><h3><span class="yiyi-st" id="yiyi-839">ORM <a class="headerlink" href="#change-0.5.0rc3-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc3-0"><span class="yiyi-st" id="yiyi-840"><span class="target" id="change-38a7a9ceedebd3ec3a3cd628c4cbae6c"><strong>[orm] </strong></span>&#x4E3A;SessionExtension&#x6DFB;&#x52A0;&#x4E86;&#x4E24;&#x4E2A;&#x65B0;&#x7684;&#x6302;&#x94A9;&#xFF1A;after_bulk_delete()&#x548C;after_bulk_update()&#x3002;</span><span class="yiyi-st" id="yiyi-841">&#x5728;&#x5BF9;&#x67E5;&#x8BE2;&#x8FDB;&#x884C;&#x6279;&#x91CF;&#x5220;&#x9664;()&#x64CD;&#x4F5C;&#x540E;&#x8C03;&#x7528;after_bulk_delete()&#x3002;</span><span class="yiyi-st" id="yiyi-842">&#x5BF9;&#x67E5;&#x8BE2;&#x8FDB;&#x884C;&#x6279;&#x91CF;&#x66F4;&#x65B0;()&#x64CD;&#x4F5C;&#x540E;&#x8C03;&#x7528;after_bulk_update()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-38a7a9ceedebd3ec3a3cd628c4cbae6c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-1"><span class="yiyi-st" id="yiyi-843"><span class="target" id="change-5dc36955ff448a52543110b78b8fb9a8"><strong>[orm] </strong></span>&#x201C;&#x4E0D;&#x7B49;&#x4E8E;&#x201D;&#xFF0C;&#x7B80;&#x5355;&#x591A;&#x5BF9;&#x4E00;&#x5173;&#x7CFB;&#x4E0E;&#x5B9E;&#x4F8B;&#x7684;&#x6BD4;&#x8F83;&#x4E0D;&#x4F1A;&#x843D;&#x5165;EXISTS&#x5B50;&#x53E5;&#x4E2D;&#xFF0C;&#x800C;&#x662F;&#x4F1A;&#x6BD4;&#x8F83;&#x5916;&#x952E;&#x5217;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5dc36955ff448a52543110b78b8fb9a8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-2"><span class="yiyi-st" id="yiyi-844"><span class="target" id="change-bcd58afe9c7ed7adbd952b916c4cd2c3"><strong>[orm] </strong></span>&#x5220;&#x9664;&#x4E86;&#x5C06;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x4E0E;&#x4E00;&#x4E2A;&#x8FED;&#x4EE3;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x7684;&#x975E;&#x771F;&#x5B9E;&#x5DE5;&#x4F5C;&#x7528;&#x4F8B;&#x3002;</span><span class="yiyi-st" id="yiyi-845">&#x4F7F;&#x7528;contains()&#x6765;&#x6D4B;&#x8BD5;&#x96C6;&#x5408;&#x6210;&#x5458;&#x8D44;&#x683C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bcd58afe9c7ed7adbd952b916c4cd2c3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-3"><span class="yiyi-st" id="yiyi-846"><span class="target" id="change-d85456f650e249dc2dcf7b525c28e126"><strong>[orm] </strong></span>&#x6539;&#x8FDB;&#x4E86;&#x522B;&#x540D;()&#x5BF9;&#x8C61;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x4EE5;&#x4FBF;&#x66F4;&#x7CBE;&#x786E;&#x5730;&#x8C03;&#x6574;&#x751F;&#x6210;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8FD9;&#x7279;&#x522B;&#x6709;&#x52A9;&#x4E8E;&#x81EA;&#x5F15;&#x7528;&#x6BD4;&#x8F83;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d85456f650e249dc2dcf7b525c28e126">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-847">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1171">&#xFF03;1171</a></span></p></li><li><p id="change-0.5.0rc3-4"><span class="yiyi-st" id="yiyi-848"><span class="target" id="change-d57fdc182451c7d14e3421d47a7355d7"><strong>[orm] </strong></span>Fixed bug involving primaryjoin/secondaryjoin conditions constructed from class-bound attributes (as often occurs when using declarative), which later would be inappropriately aliased by Query, particularly with the various EXISTS based comparators.<a class="changeset-link headerlink reference internal" href="#change-d57fdc182451c7d14e3421d47a7355d7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-5"><span class="yiyi-st" id="yiyi-849"><span class="target" id="change-3d6adbfb55e19cfd355c9cbb5c452e23"><strong>[orm] </strong></span>Fixed bug when using multiple query.join() with an aliased-bound descriptor which would lose the left alias.<a class="changeset-link headerlink reference internal" href="#change-3d6adbfb55e19cfd355c9cbb5c452e23">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-6"><span class="yiyi-st" id="yiyi-850"><span class="target" id="change-2fdd25ee1e71530dd4e6a0e6a5d7634e"><strong>[orm] </strong></span>&#x6539;&#x8FDB;&#x4E86;weakref&#x6807;&#x8BC6;&#x6620;&#x5C04;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#xFF0C;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x4F7F;&#x7528;mutexing&#xFF0C;&#x4E3A;&#x5177;&#x6709;&#x6302;&#x8D77;&#x66F4;&#x6539;&#x7684;InstanceState&#x4EE5;&#x60F0;&#x6027;&#x65B9;&#x5F0F;&#x91CD;&#x65B0;&#x751F;&#x6210;&#x5783;&#x573E;&#x6536;&#x96C6;&#x5B9E;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2fdd25ee1e71530dd4e6a0e6a5d7634e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-7"><span class="yiyi-st" id="yiyi-851"><span class="target" id="change-0fcd457e5ee2b0c4d942be9f0514327b"><strong>[orm] </strong></span> InstanceState&#x5BF9;&#x8C61;&#x73B0;&#x5728;&#x4F1A;&#x5728;&#x5904;&#x7F6E;&#x65F6;&#x5220;&#x9664;&#x5BF9;&#x81EA;&#x8EAB;&#x7684;&#x5FAA;&#x73AF;&#x5F15;&#x7528;&#xFF0C;&#x4EE5;&#x5C06;&#x5176;&#x4FDD;&#x7559;&#x5728;&#x5FAA;&#x73AF;&#x5783;&#x573E;&#x56DE;&#x6536;&#x4E4B;&#x5916;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0fcd457e5ee2b0c4d942be9f0514327b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-8"><span class="yiyi-st" id="yiyi-852"><span class="target" id="change-87f1da0275cd2fbc5c4c593a2be9bfd6"><strong>[orm] </strong></span>relation() won&#x2019;t hide unrelated ForeignKey errors inside of the &#x201C;please specify primaryjoin&#x201D; message when determining join condition.<a class="changeset-link headerlink reference internal" href="#change-87f1da0275cd2fbc5c4c593a2be9bfd6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-9"><span class="yiyi-st" id="yiyi-853"><span class="target" id="change-05f11c467432dec3f888c0cf94d79a0f"><strong>[orm] </strong></span>Fixed bug in Query involving order_by() in conjunction with multiple aliases of the same class (will add tests in)<a class="changeset-link headerlink reference internal" href="#change-05f11c467432dec3f888c0cf94d79a0f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-854">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1218">&#xFF03;1218</a></span></p></li><li><p id="change-0.5.0rc3-10"><span class="yiyi-st" id="yiyi-855"><span class="target" id="change-b4f0becdc69679a440af05ec27cbafc7"><strong>[orm] </strong></span>When using Query.join() with an explicit clause for the ON clause, the clause will be aliased in terms of the left side of the join, allowing scenarios like query(Source). </span><span class="yiyi-st" id="yiyi-856">from_self()&#x3002;join&#xFF08;&#xFF08;Dest&#xFF0C;Source.id == Dest.source_id&#xFF09;&#xFF09;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b4f0becdc69679a440af05ec27cbafc7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-11"><span class="yiyi-st" id="yiyi-857"><span class="target" id="change-c5c461585564866cc3949fdeadb64475"><strong>[orm] </strong></span> polymorphic_union()&#x51FD;&#x6570;&#x5982;&#x679C;&#x4E0E;&#x5217;&#x7684;&#x540D;&#x79F0;&#x4E0D;&#x540C;&#xFF0C;&#x5B83;&#x5C06;&#x5C0A;&#x91CD;&#x6BCF;&#x4E2A;&#x5217;&#x7684;&#x201C;&#x952E;&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c5c461585564866cc3949fdeadb64475">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-12"><span class="yiyi-st" id="yiyi-858"><span class="target" id="change-e90fa35d010065cc1fc98b81f72ff089"><strong>[orm] </strong></span>&#x901A;&#x8FC7;&#x201C;&#x5220;&#x9664;&#x201D;&#x7EA7;&#x8054;&#x4FEE;&#x590D;&#x4E86;&#x591A;&#x5BF9;&#x4E00;&#x5173;&#x7CFB;()&#x4E0A;&#x201C;&#x88AB;&#x52A8;&#x5220;&#x9664;&#x201D;&#x7684;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e90fa35d010065cc1fc98b81f72ff089">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-859">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1183">&#xFF03;1183</a></span></p></li><li><p id="change-0.5.0rc3-13"><span class="yiyi-st" id="yiyi-860"><span class="target" id="change-8b474b31c4dce5478119b8d2d994d20e"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x963B;&#x6B62;&#x4E3B;&#x952E;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x53D1;&#x751F;&#x53D8;&#x5F02;&#x7684;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x7684;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8b474b31c4dce5478119b8d2d994d20e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-861">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1213">&#xFF03;1213</a></span></p></li><li><p id="change-0.5.0rc3-14"><span class="yiyi-st" id="yiyi-862"><span class="target" id="change-e08ca53c8d86d8b83e4a311722d70cd9"><strong>[orm] </strong></span>Added more granularity to internal attribute access, such that cascade and flush operations will not initialize unloaded attributes and collections, leaving them intact for a lazy-load later on. </span><span class="yiyi-st" id="yiyi-863">Backref&#x4E8B;&#x4EF6;&#x4ECD;&#x7136;&#x4E3A;&#x5F85;&#x5B9A;&#x5B9E;&#x4F8B;&#x521D;&#x59CB;&#x5316;attrbutes&#x548C;&#x96C6;&#x5408;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e08ca53c8d86d8b83e4a311722d70cd9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-864">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1202">&#xFF03;1202</a></span></p></li></ul></div><div class="section" id="change-0.5.0rc3-sql"><h3><span class="yiyi-st" id="yiyi-865">SQL <a class="headerlink" href="#change-0.5.0rc3-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc3-15"><span class="yiyi-st" id="yiyi-866"><span class="target" id="change-4e7f0b4700c725c4a2c9cc64c36318a6"><strong>[sql] </strong></span>SQL compiler optimizations and complexity reduction. </span><span class="yiyi-st" id="yiyi-867">&#x7F16;&#x8BD1;&#x5178;&#x578B;select()&#x6784;&#x9020;&#x7684;&#x8C03;&#x7528;&#x6B21;&#x6570;&#x6BD4;0.5.0rc2&#x5C11;20&#xFF05;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4e7f0b4700c725c4a2c9cc64c36318a6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-16"><span class="yiyi-st" id="yiyi-868"><span class="target" id="change-c5d75ff2e08bff5447d3ee8f93bd1820"><strong>[sql] </strong></span>Dialects can now generate label names of adjustable length. </span><span class="yiyi-st" id="yiyi-869">&#x5C06;&#x53C2;&#x6570;&#x201C;label_length = <value>&#x201D;&#x4F20;&#x9012;&#x7ED9;create_engine()&#x4EE5;&#x8C03;&#x6574;&#x52A8;&#x6001;&#x751F;&#x6210;&#x7684;&#x5217;&#x6807;&#x7B7E;&#x4E2D;&#x6700;&#x591A;&#x6709;&#x591A;&#x5C11;&#x4E2A;&#x5B57;&#x7B26;&#xFF0C;&#x5373;&#x201C;somecolumn AS somelabel&#x201D;&#x3002;  T0&gt;</value></span><span class="yiyi-st" id="yiyi-870">&#x4EFB;&#x4F55;&#x5C0F;&#x4E8E;6&#x7684;&#x503C;&#x90FD;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x6700;&#x5C0F;&#x5C3A;&#x5BF8;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x7531;&#x4E00;&#x4E2A;&#x4E0B;&#x5212;&#x7EBF;&#x548C;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x8BA1;&#x6570;&#x5668;&#x7EC4;&#x6210;&#x3002;</span><span class="yiyi-st" id="yiyi-871">&#x7F16;&#x8BD1;&#x5668;&#x4F7F;&#x7528;dialect.max_identifier_length&#x7684;&#x503C;&#x4F5C;&#x4E3A;&#x9ED8;&#x8BA4;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c5d75ff2e08bff5447d3ee8f93bd1820">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-872">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1211">&#xFF03;1211</a></span></p></li><li><p id="change-0.5.0rc3-17"><span class="yiyi-st" id="yiyi-873"><span class="target" id="change-cf6a1fa1ded84fbb9322d461f0a8bfeb"><strong>[sql] </strong></span>&#x7B80;&#x5316;&#x5BF9;ResultProxy&#x7684;&#x68C0;&#x67E5;&#xFF0C;&#x201C;&#x65E0;&#x7ED3;&#x679C;&#x81EA;&#x52A8;&#x5173;&#x95ED;&#x201D;&#x4EC5;&#x57FA;&#x4E8E;cursor.description&#x7684;&#x5B58;&#x5728;&#x3002;</span><span class="yiyi-st" id="yiyi-874">&#x6240;&#x6709;&#x5173;&#x4E8E;&#x8FD4;&#x56DE;&#x884C;&#x7684;&#x8BED;&#x53E5;&#x7684;&#x57FA;&#x4E8E;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x731C;&#x6D4B;&#x5DF2;&#x88AB;&#x5220;&#x9664;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cf6a1fa1ded84fbb9322d461f0a8bfeb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-875">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1212">&#xFF03;1212</a></span></p></li><li><p id="change-0.5.0rc3-18"><span class="yiyi-st" id="yiyi-876"><span class="target" id="change-8542c7fbeca3c824f9292b2c0c753b65"><strong>[sql] </strong></span>&#x76F4;&#x63A5;&#x6267;&#x884C;union()&#x6784;&#x9020;&#x4F1A;&#x6B63;&#x786E;&#x8BBE;&#x7F6E;&#x7ED3;&#x679C;&#x884C;&#x5904;&#x7406;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8542c7fbeca3c824f9292b2c0c753b65">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-877">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1194">&#xFF03;1194</a></span></p></li><li><p id="change-0.5.0rc3-19"><span class="yiyi-st" id="yiyi-878"><span class="target" id="change-19fdbca4f61b7fc504e390b8b486bd95"><strong>[sql] </strong></span>&#x201C;OID&#x201D;&#x6216;&#x201C;ROWID&#x201D;&#x5217;&#x7684;&#x5185;&#x90E8;&#x6982;&#x5FF5;&#x5DF2;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-879">&#x5B83;&#x57FA;&#x672C;&#x4E0A;&#x6CA1;&#x6709;&#x88AB;&#x4EFB;&#x4F55;&#x65B9;&#x8A00;&#x4F7F;&#x7528;&#xFF0C;&#x5E76;&#x4E14;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;psycopg2&#x7684;cursor.lastrowid&#xFF0C;&#x56E0;&#x4E3A;INSERT..RETURNING&#x53EF;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-19fdbca4f61b7fc504e390b8b486bd95">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-20"><span class="yiyi-st" id="yiyi-880"><span class="target" id="change-746ae8a34836c9f89ff26e4dfefd0801"><strong>[sql] </strong></span>&#x5220;&#x9664;&#x4E86;&#x6240;&#x6709;FromClause&#x5BF9;&#x8C61;&#x4E0A;&#x7684;&#x201C;default_order_by()&#x201D;&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-746ae8a34836c9f89ff26e4dfefd0801">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-21"><span class="yiyi-st" id="yiyi-881"><span class="target" id="change-7d19f5c441dd8c3c88fde27a171a6170"><strong>[sql] </strong></span>&#x4FEE;&#x590D;&#x4E86;table.tometadata()&#x65B9;&#x6CD5;&#xFF0C;&#x4EE5;&#x4FBF;&#x5C06;&#x4F20;&#x5165;&#x7684;&#x6A21;&#x5F0F;&#x53C2;&#x6570;&#x4F20;&#x64AD;&#x5230;ForeignKey&#x6784;&#x9020;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7d19f5c441dd8c3c88fde27a171a6170">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-22"><span class="yiyi-st" id="yiyi-882"><span class="target" id="change-7c5ade464b6936417497cfde871aad5e"><strong>[sql] </strong></span>&#x7565;&#x5FAE;&#x6539;&#x53D8;&#x4E86;IN&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E0E;&#x7A7A;&#x96C6;&#x5408;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x3002;</span><span class="yiyi-st" id="yiyi-883">&#x73B0;&#x5728;&#x5BFC;&#x81F4;&#x4E0E;&#x81EA;&#x5DF1;&#x7684;&#x4E0D;&#x5E73;&#x7B49;&#x6BD4;&#x8F83;&#x3002;</span><span class="yiyi-st" id="yiyi-884">&#x66F4;&#x4FBF;&#x643A;&#xFF0C;&#x4F46;&#x6253;&#x7834;&#x4E86;&#x975E;&#x7EAF;&#x51FD;&#x6570;&#x7684;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7c5ade464b6936417497cfde871aad5e">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0rc3-mysql"><h3><span class="yiyi-st" id="yiyi-885">MySQL&#x7684;<a class="headerlink" href="#change-0.5.0rc3-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc3-23"><span class="yiyi-st" id="yiyi-886"><span class="target" id="change-71d35a417c7941d33fa99cd0465a0727"><strong>[mysql] </strong></span>Fixed foreign key reflection in the edge case where a Table&#x2019;s explicit schema= is the same as the schema (database) the connection is attached to.<a class="changeset-link headerlink reference internal" href="#change-71d35a417c7941d33fa99cd0465a0727">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-24"><span class="yiyi-st" id="yiyi-887"><span class="target" id="change-99f4355bd2b87a5f286bbf59cf8bc8a5"><strong>[mysql] </strong></span>&#x4E0D;&#x518D;&#x9700;&#x8981;&#x8868;&#x53CD;&#x5C04;&#x4E2D;&#x7684;include_columns&#x4E3A;&#x5C0F;&#x5199;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-99f4355bd2b87a5f286bbf59cf8bc8a5">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0rc3-oracle"><h3><span class="yiyi-st" id="yiyi-888">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.5.0rc3-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc3-25"><span class="yiyi-st" id="yiyi-889"><span class="target" id="change-b2d74160c560863704ae165259a375be"><strong>[oracle] </strong></span>&#x4E3A;Oracle&#x8BED;&#x8A00;&#x5199;&#x4E86;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x5B57;&#x7B26;&#x4E32;&#x3002;</span><span class="yiyi-st" id="yiyi-890">&#x5F88;&#x663E;&#x7136;&#xFF0C;Ohloh&#x201C;&#x5C11;&#x6570;&#x6E90;&#x4EE3;&#x7801;&#x8BC4;&#x8BBA;&#x201D;&#x6807;&#x7B7E;&#x5F00;&#x59CB;&#x523A;&#x75DB;&#xFF1A;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b2d74160c560863704ae165259a375be">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-26"><span class="yiyi-st" id="yiyi-891"><span class="target" id="change-f410ff5e98d4f8304757e7b80a9fc89f"><strong>[oracle] </strong></span>Removed FIRST_ROWS() optimize flag when using LIMIT/OFFSET, can be reenabled with optimize_limits=True create_engine() flag.<a class="changeset-link headerlink reference internal" href="#change-f410ff5e98d4f8304757e7b80a9fc89f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-892">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/536">&#xFF03;536</a></span></p></li><li><p id="change-0.5.0rc3-27"><span class="yiyi-st" id="yiyi-893"><span class="target" id="change-008e6e9fe2ae6723730008d372f3e2b3"><strong>[oracle] </strong></span>&#x9519;&#x8BEF;&#x4FEE;&#x6B63;&#x548C;&#x884C;&#x4E3A;&#x6539;&#x53D8;<a class="changeset-link headerlink reference internal" href="#change-008e6e9fe2ae6723730008d372f3e2b3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-28"><span class="yiyi-st" id="yiyi-894"><span class="target" id="change-6230e778d3864d6e75bfb537df9f4019"><strong>[oracle] </strong></span>&#x5728;create_engine()&#x4E0A;&#x5C06;auto_convert_lobs&#x8BBE;&#x7F6E;&#x4E3A;False&#x4E5F;&#x4F1A;&#x6307;&#x793A;OracleBinary&#x7C7B;&#x578B;&#x8FD4;&#x56DE;&#x672A;&#x66F4;&#x6539;&#x7684;cx_oracle LOB&#x5BF9;&#x8C61;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6230e778d3864d6e75bfb537df9f4019">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0rc3-misc"><h3><span class="yiyi-st" id="yiyi-895">&#x6742;&#x9879;<a class="headerlink" href="#change-0.5.0rc3-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc3-29"><span class="yiyi-st" id="yiyi-896"><span class="target" id="change-8744852a94323ea2fbca283f3a688d6d"><strong>[ext] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x6269;&#x5C55;&#x540D;sqlalchemy.ext.serializer&#x3002;</span><span class="yiyi-st" id="yiyi-897">&#x63D0;&#x4F9B;&#x955C;&#x50CF;Pickle / Unpickle&#xFF0C;&#x4EE5;&#x53CA;dump()&#x548C;loads()&#x7684;Serializer / Deserializer&#x201C;classes&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-898">&#x8FD9;&#x4E2A;&#x5E8F;&#x5217;&#x5316;&#x5668;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x201C;&#x5916;&#x90E8;&#x5BF9;&#x8C61;&#x201D;pickler&#xFF0C;&#x5B83;&#x5728;pickle&#x6D41;&#x4E4B;&#x5916;&#x4FDD;&#x5B58;&#x5173;&#x952E;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x654F;&#x611F;&#x5BF9;&#x8C61;&#xFF0C;&#x5305;&#x62EC;&#x5F15;&#x64CE;&#xFF0C;&#x4F1A;&#x8BDD;&#xFF0C;&#x5143;&#x6570;&#x636E;&#xFF0C;&#x8868;/&#x5217;&#x548C;&#x6620;&#x5C04;&#x5668;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x5728;&#x4EE5;&#x540E;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x5F15;&#x64CE;/&#x5143;&#x6570;&#x636E;/&#x4F1A;&#x8BDD;&#x6765;&#x6062;&#x590D;pickle&#x4F9B;&#x5E94;&#x5546;&#x3002;</span><span class="yiyi-st" id="yiyi-899">&#x8FD9;&#x4E0D;&#x662F;&#x7528;&#x4E8E;&#x9178;&#x6D17;&#x5E38;&#x89C4;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#xFF0C;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#x53EF;&#x4EE5;&#x5728;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x7279;&#x6B8A;&#x903B;&#x8F91;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8FDB;&#x884C;&#x9009;&#x62E9;&#xFF0C;&#x800C;&#x662F;&#x7528;&#x4E8E;&#x9178;&#x6D17;&#x8868;&#x8FBE;&#x5F0F;&#x5BF9;&#x8C61;&#x548C;&#x5B8C;&#x6574;&#x7684;Query&#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x6837;&#x6240;&#x6709;&#x6620;&#x5C04;&#x5668;/&#x5F15;&#x64CE;/&#x4F1A;&#x8BDD;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x6253;&#x5F00;&#x65F6;&#x6062;&#x590D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8744852a94323ea2fbca283f3a688d6d"> T0&gt;</a></span></p><p></p></li><li><p id="change-0.5.0rc3-30"><span class="yiyi-st" id="yiyi-900"><span class="target" id="change-bd744cf8b70f47e4b21c501000d5ed0c"><strong>[ext] </strong></span>Fixed bug preventing declarative-bound &#x201C;column&#x201D; objects from being used in column_mapped_collection().<a class="changeset-link headerlink reference internal" href="#change-bd744cf8b70f47e4b21c501000d5ed0c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-901">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1174">&#xFF03;1174</a></span></p></li><li><p id="change-0.5.0rc3-31"><span class="yiyi-st" id="yiyi-902"><span class="target" id="change-5f7bc358f6dd8a36286e4a3e296d02c1"><strong>[misc] </strong></span>util.flatten_iterator() func doesn&#x2019;t interpret strings with __iter__() methods as iterators, such as in pypy.<a class="changeset-link headerlink reference internal" href="#change-5f7bc358f6dd8a36286e4a3e296d02c1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-903">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1077">&#xFF03;1077</a></span></p></li></ul></div></div><div class="section" id="change-0.5.0rc2"><h2><span class="yiyi-st" id="yiyi-905">0.5.0rc2 <a class="headerlink" href="#change-0.5.0rc2" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-938">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2008&#x5E74;10&#x6708;12&#x65E5;</span><div class="section" id="change-0.5.0rc2-orm"><h3><span class="yiyi-st" id="yiyi-906">ORM <a class="headerlink" href="#change-0.5.0rc2-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc2-0"><span class="yiyi-st" id="yiyi-907"><span class="target" id="change-f5b0922d748f836bf849faf609f236fb"><strong>[orm] </strong></span>Fixed bug involving read/write relation()s that contain literal or other non-column expressions within their primaryjoin condition equated to a foreign key column.<a class="changeset-link headerlink reference internal" href="#change-f5b0922d748f836bf849faf609f236fb">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc2-1"><span class="yiyi-st" id="yiyi-908"><span class="target" id="change-6f0c82ba7e9d929eb20bf24b7363ad34"><strong>[orm] </strong></span>&#x201C;non-batch&#x201D; mode in mapper(), a feature which allows mapper extension methods to be called as each instance is updated/inserted, now honors the insert order of the objects given.<a class="changeset-link headerlink reference internal" href="#change-6f0c82ba7e9d929eb20bf24b7363ad34">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc2-2"><span class="yiyi-st" id="yiyi-909"><span class="target" id="change-0809d581f494798f25857c9aae8d002b"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x6620;&#x5C04;&#x5668;&#x4E2D;&#x4E0E;RLock&#x6709;&#x5173;&#x7684;bug&#xFF0C;&#x5B83;&#x53EF;&#x80FD;&#x5728;&#x91CD;&#x5165;&#x6620;&#x5C04;&#x5668;&#x7F16;&#x8BD1;()&#x8C03;&#x7528;&#x65F6;&#x6B7B;&#x9501;&#xFF0C;&#x8FD9;&#x662F;&#x5728;ForeignKey&#x5BF9;&#x8C61;&#x5185;&#x90E8;&#x4F7F;&#x7528;&#x58F0;&#x660E;&#x6027;&#x6784;&#x9020;&#x65F6;&#x53D1;&#x751F;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0809d581f494798f25857c9aae8d002b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc2-3"><span class="yiyi-st" id="yiyi-910"><span class="target" id="change-c54cba17c56398a1c5b08c1b84a02ddf"><strong>[orm] </strong></span> ScopedSession.query_property&#x73B0;&#x5728;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;query_cls&#x5DE5;&#x5382;&#xFF0C;&#x8986;&#x76D6;&#x4F1A;&#x8BDD;&#x914D;&#x7F6E;&#x7684;query_cls&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c54cba17c56398a1c5b08c1b84a02ddf">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc2-4"><span class="yiyi-st" id="yiyi-911"><span class="target" id="change-32756406d7766861ec920823351f7333"><strong>[orm] </strong></span>Fixed shared state bug interfering with ScopedSession.mapper&#x2019;s ability to apply default __init__ implementations on object subclasses.<a class="changeset-link headerlink reference internal" href="#change-32756406d7766861ec920823351f7333">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc2-5"><span class="yiyi-st" id="yiyi-912"><span class="target" id="change-e1cf8921386e47618a71f91c9f397141"><strong>[orm] </strong></span>&#x56FA;&#x5B9A;Query&#x4E0A;&#x7684;&#x5207;&#x7247;&#xFF08;&#x5373;query [x&#xFF1A;y]&#xFF09;&#xFF0C;&#x4EE5;&#x4FBF;&#x96F6;&#x957F;&#x5EA6;&#x5207;&#x7247;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#xFF0C;&#x5207;&#x7247;&#x4E24;&#x7AEF;&#x90FD;&#x662F;None&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e1cf8921386e47618a71f91c9f397141">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-913">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1177">&#xFF03;1177</a></span></p></li><li><p id="change-0.5.0rc2-6"><span class="yiyi-st" id="yiyi-914"><span class="target" id="change-7481c2d6bb456c0af61a6a6c09fba5f1"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x8BF4;&#x660E;Celko&#x7684;&#x201C;&#x5D4C;&#x5957;&#x96C6;&#x201D;&#x4F5C;&#x4E3A;SQLA&#x6620;&#x5C04;&#x7684;&#x4F8B;&#x5B50;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7481c2d6bb456c0af61a6a6c09fba5f1">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc2-7"><span class="yiyi-st" id="yiyi-915"><span class="target" id="change-73a352c45698be882a53ca36f295ef17"><strong>[orm] </strong></span>contains_eager() with an alias argument works even when the alias is embedded in a SELECT, as when sent to the Query via query.select_from().<a class="changeset-link headerlink reference internal" href="#change-73a352c45698be882a53ca36f295ef17">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc2-8"><span class="yiyi-st" id="yiyi-916"><span class="target" id="change-48074ef8f2ae70e97dd4181ed0391fc0"><strong>[orm] </strong></span> contains_eager()&#x7528;&#x6CD5;&#x73B0;&#x5728;&#x4E0E;&#x4E00;&#x4E2A;Query&#x76F8;&#x517C;&#x5BB9;&#xFF0C;&#x8BE5;&#x67E5;&#x8BE2;&#x8FD8;&#x5305;&#x542B;&#x5E38;&#x89C4;&#x7684;&#x8D1F;&#x8F7D;&#x548C;&#x9650;&#x5236;/&#x504F;&#x79FB;&#x91CF;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E9B;&#x5217;&#x88AB;&#x6DFB;&#x52A0;&#x5230;Query&#x751F;&#x6210;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-48074ef8f2ae70e97dd4181ed0391fc0">/ T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-917">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1180">&#xFF03;1180</a></span></p></li><li><p id="change-0.5.0rc2-9"><span class="yiyi-st" id="yiyi-918"><span class="target" id="change-85bf1511ee8b4b14e75649f2b44a7e13"><strong>[orm] </strong></span>session.execute() will execute a Sequence object passed to it (regression from 0.4).<a class="changeset-link headerlink reference internal" href="#change-85bf1511ee8b4b14e75649f2b44a7e13">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc2-10"><span class="yiyi-st" id="yiyi-919"><span class="target" id="change-0e2181a984be58fab18171e6dfaa9cb8"><strong>[orm] </strong></span>&#x4ECE;object_mapper()&#x548C;class_mapper()&#x4E2D;&#x5220;&#x9664;&#x4E86;&#x201C;raiseerror&#x201D;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-920">&#x5982;&#x679C;&#x7ED9;&#x5B9A;&#x7684;&#x7C7B;/&#x5B9E;&#x4F8B;&#x6CA1;&#x6709;&#x6620;&#x5C04;&#xFF0C;&#x8FD9;&#x4E9B;&#x51FD;&#x6570;&#x4F1A;&#x5728;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#x5F15;&#x53D1;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0e2181a984be58fab18171e6dfaa9cb8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc2-11"><span class="yiyi-st" id="yiyi-921"><span class="target" id="change-73e385a22a5f13ca33fa594da9156975"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;autocommit = False&#x4F1A;&#x8BDD;&#x4E2D;session.transaction.commit()&#x672A;&#x542F;&#x52A8;&#x65B0;&#x4E8B;&#x52A1;<a class="changeset-link headerlink reference internal" href="#change-73e385a22a5f13ca33fa594da9156975">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc2-12"><span class="yiyi-st" id="yiyi-922"><span class="target" id="change-b1a04e4b706f1e6f85dc123694f84b1b"><strong>[orm] </strong></span>&#x5BF9;Session.identity_map&#x7684;&#x5F31;&#x5F15;&#x7528;&#x884C;&#x4E3A;&#x8FDB;&#x884C;&#x4E00;&#x4E9B;&#x8C03;&#x6574;&#x4EE5;&#x51CF;&#x5C11;&#x5F02;&#x6B65;GC&#x526F;&#x4F5C;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b1a04e4b706f1e6f85dc123694f84b1b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc2-13"><span class="yiyi-st" id="yiyi-923"><span class="target" id="change-5f0c28140f7322c81248e44c6f16543f"><strong>[orm] </strong></span>&#x8C03;&#x6574;&#x4F1A;&#x8BDD;&#x5BF9;&#x65B0;&#x201C;&#x5E72;&#x51C0;&#x201D;&#x5BF9;&#x8C61;&#x7684;&#x5237;&#x65B0;&#x540E;&#x8BB0;&#x5E10;&#xFF0C;&#x4EE5;&#x4FBF;&#x66F4;&#x597D;&#x5730;&#x9632;&#x6B62;&#x5728;&#x5BF9;&#x8C61;&#x4E0A;&#x8FDB;&#x884C;&#x5F02;&#x6B65;&#x64CD;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5f0c28140f7322c81248e44c6f16543f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-924">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1182">&#xFF03;1182</a></span></p></li></ul></div><div class="section" id="change-0.5.0rc2-sql"><h3><span class="yiyi-st" id="yiyi-925">SQL <a class="headerlink" href="#change-0.5.0rc2-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc2-14"><span class="yiyi-st" id="yiyi-926"><span class="target" id="change-c19f10ddecf8af41aa89725ac892e5d1"><strong>[sql] </strong></span>column.in_(someselect) can now be used as a columns-clause expression without the subquery bleeding into the FROM clause<a class="changeset-link headerlink reference internal" href="#change-c19f10ddecf8af41aa89725ac892e5d1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-927">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1074">&#xFF03;1074</a></span></p></li></ul></div><div class="section" id="change-0.5.0rc2-mysql"><h3><span class="yiyi-st" id="yiyi-928">MySQL&#x7684;<a class="headerlink" href="#change-0.5.0rc2-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc2-15"><span class="yiyi-st" id="yiyi-929"><span class="target" id="change-e747128d425bac8915c3340c83f4bfcd"><strong>[mysql] </strong></span>&#x4E34;&#x65F6;&#x8868;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x53CD;&#x6620;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e747128d425bac8915c3340c83f4bfcd">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0rc2-sqlite"><h3><span class="yiyi-st" id="yiyi-930">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.5.0rc2-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc2-16"><span class="yiyi-st" id="yiyi-931"><span class="target" id="change-de2f3457a9881a2d5d58e60866dca3ee"><strong>[sqlite] </strong></span>&#x6574;&#x4F53;SQLite&#x65E5;&#x671F;/&#x65F6;&#x95F4;&#x7ED1;&#x5B9A;/&#x7ED3;&#x679C;&#x5904;&#x7406;&#x4F7F;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x548C;&#x683C;&#x5F0F;&#x5316;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x800C;&#x4E0D;&#x662F;strptime / strftime&#xFF0C;&#x4E00;&#x822C;&#x652F;&#x6301;1900&#x4E4B;&#x524D;&#x7684;&#x65E5;&#x671F;&#xFF0C;&#x65E5;&#x671F;&#x4E3A;&#x5FAE;&#x79D2;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-de2f3457a9881a2d5d58e60866dca3ee"> / T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-932">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/968">&#xFF03;968</a></span></p></li><li><p id="change-0.5.0rc2-17"><span class="yiyi-st" id="yiyi-933"><span class="target" id="change-4b26a6e311de808b495a135487eb4a35"><strong>[sqlite] </strong></span>&#x5B57;&#x7B26;&#x4E32;&#xFF08;&#x548C;Unicode&#x7684;&#xFF0C;UnicodeText&#x7684;&#x7B49;&#xFF09;</span><span class="yiyi-st" id="yiyi-934">&#x5728;sqlite&#x65B9;&#x8A00;&#x4E2D;&#x7981;&#x7528;convert_unicode&#x903B;&#x8F91;&#xFF0C;&#x4EE5;&#x8C03;&#x6574;pysqlite 2.5.0&#x7684;&#x65B0;&#x8981;&#x6C42;&#xFF0C;&#x5373;&#x53EA;&#x63A5;&#x53D7;Python unicode&#x5BF9;&#x8C61;&#xFF1B; <a class="reference external" href="http://itsystementwicklung.de/pipermail/list-pysqlite/2008-March/000018.html"> http://itsystementwicklung.de/pipermail/list-pysqlite/2008-March/000018.html  T0&gt; <a class="changeset-link headerlink reference internal" href="#change-4b26a6e311de808b495a135487eb4a35">&#xB6; T1&gt;</a></a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0rc2-oracle"><h3><span class="yiyi-st" id="yiyi-935">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.5.0rc2-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc2-18"><span class="yiyi-st" id="yiyi-936"><span class="target" id="change-7baa28a7c8c206ace952a46829cdb59d"><strong>[oracle] </strong></span>Oracle will detect string-based statements which contain comments at the front before a SELECT as SELECT statements.<a class="changeset-link headerlink reference internal" href="#change-7baa28a7c8c206ace952a46829cdb59d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-937">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1187">&#xFF03;1187</a></span></p></li></ul></div></div><div class="section" id="change-0.5.0rc1"><h2><span class="yiyi-st" id="yiyi-939">0.5.0rc1 <a class="headerlink" href="#change-0.5.0rc1" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1025">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2008&#x5E74;9&#x6708;11&#x65E5;</span><div class="section" id="change-0.5.0rc1-orm"><h3><span class="yiyi-st" id="yiyi-940">ORM <a class="headerlink" href="#change-0.5.0rc1-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc1-0"><span class="yiyi-st" id="yiyi-941"><span class="target" id="change-8c84c46f35760eb2ceb74f595d9c2088"><strong>[orm] </strong></span>&#x67E5;&#x8BE2;&#x73B0;&#x5728;&#x5177;&#x6709;delete()&#x548C;update&#xFF08;values&#xFF09;&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-942">&#x8FD9;&#x5141;&#x8BB8;&#x4F7F;&#x7528;Query&#x5BF9;&#x8C61;&#x6267;&#x884C;&#x6279;&#x91CF;&#x5220;&#x9664;/&#x66F4;&#x65B0;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8c84c46f35760eb2ceb74f595d9c2088">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-1"><span class="yiyi-st" id="yiyi-943"><span class="target" id="change-653915646165f193a73800ec694ef476"><strong>[orm] </strong></span>The RowTuple object returned by Query(*cols) now features keynames which prefer mapped attribute names over column keys, column keys over column names, i.e. Query(Class.foo, Class.bar) will have names &#x201C;foo&#x201D; and &#x201C;bar&#x201D; even if those are not the names of the underlying Column objects. </span><span class="yiyi-st" id="yiyi-944">&#x76F4;&#x63A5;&#x7684;Column&#x5BF9;&#x8C61;&#xFF0C;&#x5982;Query&#xFF08;table.c.col&#xFF09;&#x5C06;&#x8FD4;&#x56DE;Column&#x7684;&#x201C;key&#x201D;&#x5C5E;&#x6027;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-653915646165f193a73800ec694ef476">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-2"><span class="yiyi-st" id="yiyi-945"><span class="target" id="change-bc299fb9b9d12f2bc21df15e57b86e7d"><strong>[orm] </strong></span>&#x5411;Query&#x6DFB;&#x52A0;&#x6807;&#x91CF;()&#x548C;&#x503C;()&#x65B9;&#x6CD5;&#xFF0C;&#x6BCF;&#x4E2A;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x5355;&#x4E2A;&#x6807;&#x91CF;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-946">scalar()&#x4E0D;&#x63A5;&#x53D7;&#x4EFB;&#x4F55;&#x53C2;&#x6570;&#xFF0C;&#x5927;&#x81F4;&#x7B49;&#x4EF7;&#x4E8E;first()[0]&#xFF0C;value()&#x63A5;&#x53D7;&#x5355;&#x4E2A;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5E76;&#x4E14;&#x5927;&#x81F4;&#x7B49;&#x4EF7;&#x4E8E;values&#xFF08;expr&#xFF09;.next()[0]&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bc299fb9b9d12f2bc21df15e57b86e7d">&#xB6; t0 &gt;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-3"><span class="yiyi-st" id="yiyi-947"><span class="target" id="change-aa571bda5c49dd455a2b376e55d22ccf"><strong>[orm] </strong></span>&#x6539;&#x8FDB;&#x4E86;&#x5728;&#x5B9E;&#x4F53;&#x7684;query()&#x5217;&#x8868;&#x4E2D;&#x653E;&#x7F6E;SQL&#x8868;&#x8FBE;&#x5F0F;&#x65F6;&#x786E;&#x5B9A;FROM&#x5B50;&#x53E5;&#x7684;&#x60C5;&#x51B5;&#x3002;</span><span class="yiyi-st" id="yiyi-948">&#x7279;&#x522B;&#x662F;&#x6807;&#x91CF;&#x5B50;&#x67E5;&#x8BE2;&#x4E0D;&#x5E94;&#x8BE5;&#x5C06;&#x5176;&#x5185;&#x90E8;&#x7684;FROM&#x5BF9;&#x8C61;&#x201C;&#x6CC4;&#x6F0F;&#x201D;&#x5230;&#x5305;&#x542B;&#x67E5;&#x8BE2;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-aa571bda5c49dd455a2b376e55d22ccf">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-4"><span class="yiyi-st" id="yiyi-949"><span class="target" id="change-d69b4c7364bc587c6c1f189243e71ada"><strong>[orm] </strong></span>&#x5C06;&#x4E00;&#x4E2A;&#x5173;&#x7CFB;()&#x4ECE;&#x4E00;&#x4E2A;&#x6620;&#x5C04;&#x7C7B;&#x8FDE;&#x63A5;&#x5230;&#x4E00;&#x4E2A;&#x6620;&#x5C04;&#x5B50;&#x7C7B;&#xFF0C;&#x5176;&#x4E2D;&#x6620;&#x5C04;&#x5B50;&#x7C7B;&#x914D;&#x7F6E;&#x4E86;&#x5355;&#x4E2A;&#x8868;&#x7EE7;&#x627F;&#xFF0C;&#x5C06;&#x5305;&#x542B;&#x4E00;&#x4E2A;IN&#x5B50;&#x53E5;&#xFF0C;&#x8BE5;&#x5B50;&#x53E5;&#x5C06;&#x8054;&#x63A5;&#x7C7B;&#x7684;&#x5B50;&#x7C7B;&#x578B;&#x9650;&#x5236;&#x4E3A;&#x5728;&#x52A0;&#x5165;&#x7684;ON&#x5B50;&#x53E5;&#x4E2D;&#x8BF7;&#x6C42;&#x7684;&#x90A3;&#x4E9B;&#x3002;</span><span class="yiyi-st" id="yiyi-950">&#x8FD9;&#x5BF9;&#x4E8E;&#x70ED;&#x5207;&#x52A0;&#x8F7D;&#x8FDE;&#x63A5;&#x4EE5;&#x53CA;query.join()&#x90FD;&#x6709;&#x6548;&#x3002;</span><span class="yiyi-st" id="yiyi-951">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;IN&#x5B50;&#x53E5;&#x5C06;&#x51FA;&#x73B0;&#x5728;&#x67E5;&#x8BE2;&#x7684;WHERE&#x5B50;&#x53E5;&#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;&#x6B64;&#x6B67;&#x89C6;&#x5177;&#x6709;&#x591A;&#x4E2A;&#x89E6;&#x53D1;&#x70B9;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d69b4c7364bc587c6c1f189243e71ada">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-5"><span class="yiyi-st" id="yiyi-952"><span class="target" id="change-5284be0f6bd79911d5fbc38bb1d9844e"><strong>[orm] </strong></span>AttributeExtension has been refined such that the event is fired before the mutation actually occurs. </span><span class="yiyi-st" id="yiyi-953">&#x6B64;&#x5916;&#xFF0C;append()&#x548C;set()&#x65B9;&#x6CD5;&#x73B0;&#x5728;&#x5FC5;&#x987B;&#x8FD4;&#x56DE;&#x7ED9;&#x5B9A;&#x503C;&#xFF0C;&#x8BE5;&#x503C;&#x7528;&#x4F5C;&#x8981;&#x5728;&#x53D8;&#x5F02;&#x64CD;&#x4F5C;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-954">&#x8FD9;&#x5141;&#x8BB8;&#x521B;&#x5EFA;&#x5728;&#x52A8;&#x4F5C;&#x5B9E;&#x9645;&#x53D1;&#x751F;&#x4E4B;&#x524D;&#x5F15;&#x53D1;&#x7684;&#x9A8C;&#x8BC1;AttributeListeners&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x5728;&#x7ED9;&#x5B9A;&#x503C;&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#x5C06;&#x5176;&#x6539;&#x53D8;&#x4E3A;&#x5176;&#x4ED6;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5284be0f6bd79911d5fbc38bb1d9844e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-6"><span class="yiyi-st" id="yiyi-955"><span class="target" id="change-5e040c7be045989474bef052f124b0e7"><strong>[orm] </strong></span> column_property()&#xFF0C;composite_property()&#x548C;relation()&#x73B0;&#x5728;&#x4F7F;&#x7528;&#x201C;extension&#x201D;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x6216;&#x4E00;&#x7CFB;&#x5217;AttributeExtensions <a class="changeset-link headerlink reference internal" href="#change-5e040c7be045989474bef052f124b0e7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-7"><span class="yiyi-st" id="yiyi-956"><span class="target" id="change-bc9ecda64807b38920f7cb6826c2c4d4"><strong>[orm] </strong></span>query.order_by().get() silently drops the &#x201C;ORDER BY&#x201D; from the query issued by GET but does not raise an exception.<a class="changeset-link headerlink reference internal" href="#change-bc9ecda64807b38920f7cb6826c2c4d4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-8"><span class="yiyi-st" id="yiyi-957"><span class="target" id="change-ef2dee6873ef902b11bbee01803f4ae5"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;Validator AttributeExtension&#xFF0C;&#x4EE5;&#x53CA;&#x4E00;&#x4E2A;@validates&#x88C5;&#x9970;&#x5668;&#xFF0C;&#x5B83;&#x4EE5;&#x4E0E;@reconstructor&#x7C7B;&#x4F3C;&#x7684;&#x65B9;&#x5F0F;&#x4F7F;&#x7528;&#xFF0C;&#x5E76;&#x5C06;&#x65B9;&#x6CD5;&#x6807;&#x8BB0;&#x4E3A;&#x9A8C;&#x8BC1;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x6620;&#x5C04;&#x5C5E;&#x6027;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ef2dee6873ef902b11bbee01803f4ae5"> / T2&gt;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-9"><span class="yiyi-st" id="yiyi-958"><span class="target" id="change-0f7d684617407aa815e6b0691cd80152"><strong>[orm] </strong></span>class.someprop.in_() raises NotImplementedError pending the implementation of &#x201C;in_&#x201D; for relation<a class="changeset-link headerlink reference internal" href="#change-0f7d684617407aa815e6b0691cd80152">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-959">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1140">&#xFF03;1140</a></span></p></li><li><p id="change-0.5.0rc1-10"><span class="yiyi-st" id="yiyi-960"><span class="target" id="change-e53c35f85da237cfc80b6dd06a426a1d"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x96C6;&#x5408;&#x5C1A;&#x672A;&#x52A0;&#x8F7D;&#x7684;&#x591A;&#x5BF9;&#x591A;&#x96C6;&#x5408;&#x7684;&#x4E3B;&#x952E;&#x66F4;&#x65B0;<a class="changeset-link headerlink reference internal" href="#change-e53c35f85da237cfc80b6dd06a426a1d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-961">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1127">&#xFF03;1127</a></span></p></li><li><p id="change-0.5.0rc1-11"><span class="yiyi-st" id="yiyi-962"><span class="target" id="change-224716a1dadbeb6f1866db3440a6ff30"><strong>[orm] </strong></span>Fixed bug whereby deferred() columns with a group in conjunction with an otherwise unrelated synonym() would produce an AttributeError during deferred load.<a class="changeset-link headerlink reference internal" href="#change-224716a1dadbeb6f1866db3440a6ff30">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-12"><span class="yiyi-st" id="yiyi-963"><span class="target" id="change-ba4c025060cc6553792a05a302be7322"><strong>[orm] </strong></span>The before_flush() hook on SessionExtension takes place before the list of new/dirty/deleted is calculated for the final time, allowing routines within before_flush() to further change the state of the Session before the flush proceeds.<a class="changeset-link headerlink reference internal" href="#change-ba4c025060cc6553792a05a302be7322">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-964">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1128">&#xFF03;1128</a></span></p></li><li><p id="change-0.5.0rc1-13"><span class="yiyi-st" id="yiyi-965"><span class="target" id="change-37fc8438846c6b43c7d59ef8a7a828d4"><strong>[orm] </strong></span> Session&#x548C;&#x5176;&#x4ED6;&#x4EBA;&#x7684;&#x201C;extension&#x201D;&#x53C2;&#x6570;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x6709;&#x9009;&#x62E9;&#x5730;&#x4F5C;&#x4E3A;&#x5217;&#x8868;&#xFF0C;&#x652F;&#x6301;&#x53D1;&#x9001;&#x5230;&#x591A;&#x4E2A;SessionExtension&#x5B9E;&#x4F8B;&#x7684;&#x4E8B;&#x4EF6;&#x3002;</span><span class="yiyi-st" id="yiyi-966">&#x4F1A;&#x8BDD;&#x5728;Session.extensions&#x4E2D;&#x653E;&#x7F6E;SessionExtensions&#x3002;<a class="changeset-link headerlink reference internal" href="#change-37fc8438846c6b43c7d59ef8a7a828d4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-14"><span class="yiyi-st" id="yiyi-967"><span class="target" id="change-011d4fb8d5a8e138821dc28600012a05"><strong>[orm] </strong></span>&#x91CD;&#x65B0;&#x8C03;&#x7528;flush()&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-968">&#x8FD9;&#x4E5F;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x57FA;&#x672C;&#x4F46;&#x4E0D;&#x662F;&#x4E07;&#x65E0;&#x4E00;&#x5931;&#x7684;&#x68C0;&#x67E5;Session.flush()&#x7684;&#x5E76;&#x53D1;&#x8C03;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-011d4fb8d5a8e138821dc28600012a05">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-15"><span class="yiyi-st" id="yiyi-969"><span class="target" id="change-c25ec40209007cd9ba2064bebfb34232"><strong>[orm] </strong></span>&#x4F7F;&#x7528;&#x663E;&#x5F0F;&#x8FDE;&#x63A5;&#x6807;&#x51C6;&#xFF08;&#x5373;&#x4E0D;&#x5728;&#x5173;&#x7CFB;&#x4E2D;&#xFF09;&#x6539;&#x8FDB;&#x4E86;&#x8FDE;&#x63A5;&#x5230;&#x8FDE;&#x63A5;&#x8868;&#x7EE7;&#x627F;&#x5B50;&#x7C7B;&#x65F6;query.join()&#x7684;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c25ec40209007cd9ba2064bebfb34232">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-16"><span class="yiyi-st" id="yiyi-970"><span class="target" id="change-1fb74025f94dc7b21831167635777693"><strong>[orm] </strong></span>@orm.attributes.reconstitute and MapperExtension.reconstitute have been renamed to @orm.reconstructor and MapperExtension.reconstruct_instance<a class="changeset-link headerlink reference internal" href="#change-1fb74025f94dc7b21831167635777693">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-17"><span class="yiyi-st" id="yiyi-971"><span class="target" id="change-cd79264b3790d04f0e63b83903fa5ed8"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x4ECE;&#x57FA;&#x7C7B;&#x7EE7;&#x627F;&#x7684;&#x5B50;&#x7C7B;&#x7684;@reconstructor&#x94A9;&#x5B50;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cd79264b3790d04f0e63b83903fa5ed8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-972">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1129">&#xFF03;1129</a></span></p></li><li><p id="change-0.5.0rc1-18"><span class="yiyi-st" id="yiyi-973"><span class="target" id="change-508bd3c6df6fae18dd5395584def48c6"><strong>[orm] </strong></span>The composite() property type now supports a __set_composite_values__() method on the composite class which is required if the class represents state using attribute names other than the column&#x2019;s keynames; default-generated values now get populated properly upon flush. </span><span class="yiyi-st" id="yiyi-974">&#x53E6;&#x5916;&#xFF0C;&#x5C5E;&#x6027;&#x8BBE;&#x7F6E;&#x4E3A;None&#x7684;&#x7EC4;&#x5408;&#x6BD4;&#x8F83;&#x6B63;&#x786E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-508bd3c6df6fae18dd5395584def48c6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-975">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1132">&#xFF03;1132</a></span></p></li><li><p id="change-0.5.0rc1-19"><span class="yiyi-st" id="yiyi-976"><span class="target" id="change-178fc756263765b259ff38672eac1c02"><strong>[orm] </strong></span>&#x7531;attributes.get_history()&#x8FD4;&#x56DE;&#x7684;&#x53EF;&#x8FED;&#x4EE3;&#x5143;&#x7D20;&#x7684;&#x4E09;&#x5143;&#x7EC4;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x662F;&#x5217;&#x8868;&#x548C;&#x5143;&#x7EC4;&#x7684;&#x6DF7;&#x5408;&#x3002;</span><span class="yiyi-st" id="yiyi-977">&#xFF08;&#x4EE5;&#x524D;&#x7684;&#x6210;&#x5458;&#x603B;&#x662F;&#x5217;&#x8868;&#x3002;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-178fc756263765b259ff38672eac1c02">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-20"><span class="yiyi-st" id="yiyi-978"><span class="target" id="change-4056d1b03d6c9596e7ca59f94acca718"><strong>[orm] </strong></span>Fixed bug whereby changing a primary key attribute on an entity where the attribute&#x2019;s previous value had been expired would produce an error upon flush().<a class="changeset-link headerlink reference internal" href="#change-4056d1b03d6c9596e7ca59f94acca718">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-979">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1151">&#xFF03;1151</a></span></p></li><li><p id="change-0.5.0rc1-21"><span class="yiyi-st" id="yiyi-980"><span class="target" id="change-ef27e7fe8139e580bcb3c9ce33434365"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x68C0;&#x6D4B;&#x9519;&#x8BEF;&#xFF0C;&#x5176;&#x4E2D;get_instance_dict()&#x672A;&#x9488;&#x5BF9;&#x672A;&#x7531;ORM&#x52A0;&#x8F7D;&#x7684;&#x65B0;&#x6784;&#x5EFA;&#x7684;&#x5B9E;&#x4F8B;&#x8C03;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ef27e7fe8139e580bcb3c9ce33434365">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-22"><span class="yiyi-st" id="yiyi-981"><span class="target" id="change-3c5325abcfbe1c8301b63a8ec8e57185"><strong>[orm] </strong></span>Session.delete() adds the given object to the session if not already present. </span><span class="yiyi-st" id="yiyi-982">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4ECE;0.4&#x5F00;&#x59CB;&#x7684;&#x56DE;&#x5F52;bug&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3c5325abcfbe1c8301b63a8ec8e57185">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-983">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1150">&#xFF03;1150</a></span></p></li><li><p id="change-0.5.0rc1-23"><span class="yiyi-st" id="yiyi-984"><span class="target" id="change-5e86c8cc2cb9ead3e00ebc093e0a7715"><strong>[orm] </strong></span>The <cite>echo_uow</cite> flag on <cite>Session</cite> is deprecated, and unit-of-work logging is now application-level only, not per-session level.<a class="changeset-link headerlink reference internal" href="#change-5e86c8cc2cb9ead3e00ebc093e0a7715">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-24"><span class="yiyi-st" id="yiyi-985"><span class="target" id="change-da6822c97f484346929c37f0beaa3376"><strong>[orm] </strong></span>&#x4ECE;<cite>InstrumentedAttribute</cite>&#x4E2D;&#x5220;&#x9664;&#x4E86;&#x51B2;&#x7A81;&#x7684;<cite>contains()</cite>&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x8BE5;&#x8FD0;&#x7B97;&#x7B26;&#x4E0D;&#x63A5;&#x53D7;<cite>escape</cite> kwaarg&#x3002;<a class="changeset-link headerlink reference internal" href="#change-da6822c97f484346929c37f0beaa3376">&#xB6; T5&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-986">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1153">&#xFF03;1153</a></span></p></li></ul></div><div class="section" id="change-0.5.0rc1-sql"><h3><span class="yiyi-st" id="yiyi-987">SQL <a class="headerlink" href="#change-0.5.0rc1-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc1-25"><span class="yiyi-st" id="yiyi-988"><span class="target" id="change-3cbba3907af4febdae6339124e49bbf1"><strong>[sql] </strong></span>&#x6682;&#x65F6;&#x56DE;&#x6EDA;&#x201C;ORDER BY&#x201D;&#x589E;&#x5F3A;&#x3002;</span><span class="yiyi-st" id="yiyi-989">&#x6B64;&#x529F;&#x80FD;&#x5904;&#x4E8E;&#x6682;&#x505C;&#x72B6;&#x6001;&#x4EE5;&#x5F85;&#x8FDB;&#x4E00;&#x6B65;&#x5F00;&#x53D1;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3cbba3907af4febdae6339124e49bbf1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-990">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1068">&#xFF03;1068</a></span></p></li><li><p id="change-0.5.0rc1-26"><span class="yiyi-st" id="yiyi-991">&#x5B58;&#x5728;()&#x6784;&#x9020;&#x4E0D;&#x4F1A;&#x5C06;&#x5176;&#x5305;&#x542B;&#x7684;&#x5143;&#x7D20;&#x5217;&#x8868;&#x201C;&#x5BFC;&#x51FA;&#x201D;&#x4E3A;FROM&#x5B50;&#x53E5;&#xFF0C;&#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x5728;SELECT&#x7684;columns&#x5B50;&#x53E5;&#x4E2D;&#x66F4;&#x6709;&#x6548;&#x5730;&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-73494969fdc62e43dc91f1870944fca3"> <span class="target" id="change-73494969fdc62e43dc91f1870944fca3"><strong>[sql] </strong></span></a></span></p><p></p></li><li><p id="change-0.5.0rc1-27"><span class="yiyi-st" id="yiyi-992"><span class="target" id="change-a1129d13e840176ff64e74f0dffc726c"><strong>[sql] </strong></span>and_() and or_() now generate a ColumnElement, allowing boolean expressions as result columns, i.e. select([and_(1, 0)]).<a class="changeset-link headerlink reference internal" href="#change-a1129d13e840176ff64e74f0dffc726c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-993">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/798">&#xFF03;798</a></span></p></li><li><p id="change-0.5.0rc1-28"><span class="yiyi-st" id="yiyi-994"><span class="target" id="change-671d11640be75b25d117c6f76193c982"><strong>[sql] </strong></span>Bind params now subclass ColumnElement which allows them to be selectable by orm.query (they already had most ColumnElement semantics).<a class="changeset-link headerlink reference internal" href="#change-671d11640be75b25d117c6f76193c982">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-29"><span class="yiyi-st" id="yiyi-995"><span class="target" id="change-f5e8b1bf0c1545cc9b8fc7694e96dae5"><strong>[sql] </strong></span>&#x5C06;select_from()&#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x5230;exists()&#x6784;&#x9020;&#x4E2D;&#xFF0C;&#x8BE5;&#x6784;&#x9020;&#x53D8;&#x5F97;&#x4E0E;&#x5E38;&#x89C4;select()&#x66F4;&#x52A0;&#x517C;&#x5BB9;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f5e8b1bf0c1545cc9b8fc7694e96dae5">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-30"><span class="yiyi-st" id="yiyi-996"><span class="target" id="change-53f291443975e20e506406053e65f6cf"><strong>[sql] </strong></span>&#x6DFB;&#x52A0;&#x4E86;func.min()&#xFF0C;func.max()&#xFF0C;func.sum()&#x4F5C;&#x4E3A;&#x201C;&#x901A;&#x7528;&#x51FD;&#x6570;&#x201D;&#xFF0C;&#x5B83;&#x57FA;&#x672C;&#x4E0A;&#x5141;&#x8BB8;&#x81EA;&#x52A8;&#x786E;&#x5B9A;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-997">&#x6709;&#x52A9;&#x4E8E;&#x5728;SQLite&#x4E0A;&#x4F7F;&#x7528;&#x65E5;&#x671F;&#xFF0C;&#x5C0F;&#x6570;&#x7C7B;&#x578B;&#x548C;&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-53f291443975e20e506406053e65f6cf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-998">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1160">&#xFF03;1160</a></span></p></li><li><p id="change-0.5.0rc1-31"><span class="yiyi-st" id="yiyi-999"><span class="target" id="change-6ff5aacb0dc2056dbbd9f12959e418ce"><strong>[sql] </strong></span>&#x5C06;decimal.Decimal&#x6DFB;&#x52A0;&#x4E3A;&#x201C;&#x81EA;&#x52A8;&#x68C0;&#x6D4B;&#x201D;&#x7C7B;&#x578B;&#xFF1B;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x548C;&#x6CDB;&#x578B;&#x51FD;&#x6570;&#x4F1A;&#x5728;&#x4F7F;&#x7528;Decimal&#x65F6;&#x5C06;&#x5B83;&#x4EEC;&#x7684;&#x7C7B;&#x578B;&#x8BBE;&#x7F6E;&#x4E3A;Numeric&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6ff5aacb0dc2056dbbd9f12959e418ce">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0rc1-schema"><h3><span class="yiyi-st" id="yiyi-1000">&#x67B6;&#x6784;<a class="headerlink" href="#change-0.5.0rc1-schema" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc1-32"><span class="yiyi-st" id="yiyi-1001"><span class="target" id="change-118cc36016ff77010dc9ebd38a2678f8"><strong>[schema] </strong></span>Added &#x201C;sorted_tables&#x201D; accessor to MetaData, which returns Table objects sorted in order of dependency as a list. </span><span class="yiyi-st" id="yiyi-1002">&#x8FD9;&#x5F03;&#x7528;&#x4E86;MetaData.table_iterator()&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-1003">&#x201C;reverse = False&#x201D;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x4E5F;&#x5DF2;&#x4ECE;util.sort_tables()&#x4E2D;&#x79FB;&#x9664;&#xFF1B;&#x4F7F;&#x7528;Python&apos;&#x53CD;&#x8F6C;&apos;&#x51FD;&#x6570;&#x6765;&#x53CD;&#x8F6C;&#x7ED3;&#x679C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-118cc36016ff77010dc9ebd38a2678f8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1004">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1033">&#xFF03;1033</a></span></p></li><li><p id="change-0.5.0rc1-33"><span class="yiyi-st" id="yiyi-1005"><span class="target" id="change-3df1db57d8636e669fca26f35905d319"><strong>[schema] </strong></span>&#x6240;&#x6709;&#x6570;&#x5B57;&#x7C7B;&#x578B;&#x7684;&apos;length&apos;&#x53C2;&#x6570;&#x5DF2;&#x88AB;&#x91CD;&#x547D;&#x540D;&#x4E3A;&apos;scale&apos;&#x3002;</span><span class="yiyi-st" id="yiyi-1006">&apos;length&apos;&#x5DF2;&#x88AB;&#x5F03;&#x7528;&#xFF0C;&#x4ECD;&#x7136;&#x88AB;&#x8B66;&#x544A;&#x63A5;&#x53D7;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3df1db57d8636e669fca26f35905d319">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-34"><span class="yiyi-st" id="yiyi-1007"><span class="target" id="change-82b664ad8775fd4fd75ba2bb61a042fa"><strong>[schema] </strong></span>&#x4E3A;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;&#x7C7B;&#x578B;&#xFF08;convert_result_value&#xFF0C;convert_bind_param&#xFF09;&#x964D;&#x4F4E;&#x4E86;0.3&#x517C;&#x5BB9;&#x6027;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-82b664ad8775fd4fd75ba2bb61a042fa">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0rc1-mysql"><h3><span class="yiyi-st" id="yiyi-1008">MySQL&#x7684;<a class="headerlink" href="#change-0.5.0rc1-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc1-35"><span class="yiyi-st" id="yiyi-1009"><span class="target" id="change-9c928b587925101f54296fee7112b28f"><strong>[mysql] </strong></span> MSInteger&#xFF0C;MSBigInteger&#xFF0C;MSTinyInteger&#xFF0C;MSSmallInteger&#x548C;MSYear&#x7684;&apos;length&apos;&#x53C2;&#x6570;&#x5DF2;&#x88AB;&#x91CD;&#x547D;&#x540D;&#x4E3A;&apos;display_width&apos;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9c928b587925101f54296fee7112b28f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0rc1-36"><span class="yiyi-st" id="yiyi-1010"><span class="target" id="change-3399af5fdccc23ec4d96046c565e26d0"><strong>[mysql] </strong></span>&#x65B0;&#x589E;MSMediumInteger&#x7C7B;&#x578B;<a class="changeset-link headerlink reference internal" href="#change-3399af5fdccc23ec4d96046c565e26d0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1011">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1146">&#xFF03;1146</a></span></p></li><li><p id="change-0.5.0rc1-37"><span class="yiyi-st" id="yiyi-1012"><span class="target" id="change-b6f48386c65fadd6348b47240cc99ec7"><strong>[mysql] </strong></span>&#x51FD;&#x6570;func.utc_timestamp()&#x7F16;&#x8BD1;&#x4E3A;UTC_TIMESTAMP&#xFF0C;&#x6CA1;&#x6709;&#x62EC;&#x53F7;&#xFF0C;&#x4E0E;executemany()&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x4F3C;&#x4E4E;&#x4F1A;&#x963B;&#x788D;&#x5B83;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b6f48386c65fadd6348b47240cc99ec7">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0rc1-oracle"><h3><span class="yiyi-st" id="yiyi-1013">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.5.0rc1-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc1-38"><span class="yiyi-st" id="yiyi-1014"><span class="target" id="change-d9478b7f320c9377cddae1d8f9c36234"><strong>[oracle] </strong></span>limit/offset no longer uses ROW NUMBER OVER to limit rows, and instead uses subqueries in conjunction with a special Oracle optimization comment. </span><span class="yiyi-st" id="yiyi-1015">&#x5141;&#x8BB8;LIMIT / OFFSET&#x4E0E;DISTINCT&#x914D;&#x5408;&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d9478b7f320c9377cddae1d8f9c36234">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1016">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/536">&#xFF03;536</a></span></p></li><li><p id="change-0.5.0rc1-39"><span class="yiyi-st" id="yiyi-1017"><span class="target" id="change-abf436d902521e8408645b37f90e121d"><strong>[oracle] </strong></span> has_sequence()&#x73B0;&#x5728;&#x5C06;&#x5F53;&#x524D;&#x7684;&#x201C;&#x6A21;&#x5F0F;&#x201D;&#x53C2;&#x6570;&#x8003;&#x8651;&#x5728;&#x5185;<a class="changeset-link headerlink reference internal" href="#change-abf436d902521e8408645b37f90e121d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1018">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1155">&#xFF03;1155</a></span></p></li><li><p id="change-0.5.0rc1-40"><span class="yiyi-st" id="yiyi-1019"><span class="target" id="change-2fa10c574344332c1b619fb675705c5f"><strong>[oracle] </strong></span>&#x5C06;BFILE&#x6DFB;&#x52A0;&#x5230;&#x53CD;&#x5C04;&#x7C7B;&#x578B;&#x540D;&#x79F0;<a class="changeset-link headerlink reference internal" href="#change-2fa10c574344332c1b619fb675705c5f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1020">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1121">&#xFF03;1121</a></span></p></li></ul></div><div class="section" id="change-0.5.0rc1-misc"><h3><span class="yiyi-st" id="yiyi-1021">&#x6742;&#x9879;<a class="headerlink" href="#change-0.5.0rc1-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0rc1-41"><span class="yiyi-st" id="yiyi-1022"><span class="target" id="change-25609b96aad470dfee53cfa4658bb8ea"><strong>[declarative] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x5982;&#x679C;&#x590D;&#x5408;&#x4E3B;&#x952E;&#x5F15;&#x7528;&#x4E86;&#x53E6;&#x4E00;&#x4E2A;&#x5C1A;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x8868;&#xFF0C;&#x6620;&#x5C04;&#x5668;&#x65E0;&#x6CD5;&#x521D;&#x59CB;&#x5316;&#x7684;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-25609b96aad470dfee53cfa4658bb8ea">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1023">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1161">&#xFF03;1161</a></span></p></li><li><p id="change-0.5.0rc1-42"><span class="yiyi-st" id="yiyi-1024"><span class="target" id="change-0ba243ba7ed677b185afb4d1c3d0e1ff"><strong>[declarative] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5F53;&#x57FA;&#x4E8E;&#x5B57;&#x7B26;&#x4E32;&#x7684;primaryjoin&#x6761;&#x4EF6;&#x4E0E;backref&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x65F6;&#x4F1A;&#x53D1;&#x751F;&#x7684;&#x5F02;&#x5E38;&#x629B;&#x51FA;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0ba243ba7ed677b185afb4d1c3d0e1ff">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.5.0beta3"><h2><span class="yiyi-st" id="yiyi-1026">0.5.0beta3 <a class="headerlink" href="#change-0.5.0beta3" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1064">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2008&#x5E74;8&#x6708;4&#x65E5;</span><div class="section" id="change-0.5.0beta3-orm"><h3><span class="yiyi-st" id="yiyi-1027">ORM <a class="headerlink" href="#change-0.5.0beta3-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta3-0"><span class="yiyi-st" id="yiyi-1028"><span class="target" id="change-8d0377fde42fb91d7baf63fb6d636deb"><strong>[orm] </strong></span> SQLAlchemy&#x6620;&#x5C04;&#x5668;&#x7684;&#x201C;entity_name&#x201D;&#x529F;&#x80FD;&#x5DF2;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1029">&#x6709;&#x5173;&#x57FA;&#x672C;&#x539F;&#x7406;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference external" href="http://tinyurl.com/6nm2ne">http://tinyurl.com/6nm2ne</a> <a class="changeset-link headerlink reference internal" href="#change-8d0377fde42fb91d7baf63fb6d636deb">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta3-1"><span class="yiyi-st" id="yiyi-1030"><span class="target" id="change-bec0f44885ce43df3d6ec5dc39c4df0b"><strong>[orm] </strong></span>the &#x201C;autoexpire&#x201D; flag on Session, sessionmaker(), and scoped_session() has been renamed to &#x201C;expire_on_commit&#x201D;. </span><span class="yiyi-st" id="yiyi-1031">&#x5B83;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;rollback()&#x7684;&#x5230;&#x671F;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bec0f44885ce43df3d6ec5dc39c4df0b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta3-2"><span class="yiyi-st" id="yiyi-1032"><span class="target" id="change-ed7c40591d86e7dfb1b66e9045605828"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x5728;&#x6620;&#x5C04;&#x5668;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x7684;&#x7EE7;&#x627F;&#x5C5E;&#x6027;&#x5185;&#x7684;&#x65E0;&#x9650;&#x5FAA;&#x73AF;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ed7c40591d86e7dfb1b66e9045605828">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta3-3"><span class="yiyi-st" id="yiyi-1033"><span class="target" id="change-3f45c3231436d347592f6b1ae72ebb22"><strong>[orm] </strong></span>a legacy-support flag &#x201C;_enable_transaction_accounting&#x201D; flag added to Session which when False, disables all transaction-level object accounting, including expire on rollback, expire on commit, new/deleted list maintenance, and autoflush on begin.<a class="changeset-link headerlink reference internal" href="#change-3f45c3231436d347592f6b1ae72ebb22">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta3-4"><span class="yiyi-st" id="yiyi-1034"><span class="target" id="change-0491ac7a585bbfa7d31851026a02f775"><strong>[orm] </strong></span> relation()&#x7684;&apos;cascade&apos;&#x53C2;&#x6570;&#x63A5;&#x53D7;None&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x8FD9;&#x76F8;&#x5F53;&#x4E8E;&#x6CA1;&#x6709;&#x7EA7;&#x8054;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0491ac7a585bbfa7d31851026a02f775">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta3-5"><span class="yiyi-st" id="yiyi-1035"><span class="target" id="change-1cdefc4329206214d319913c733149d1"><strong>[orm] </strong></span>&#x5BF9;&#x52A8;&#x6001;&#x5173;&#x7CFB;&#x7684;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x4FEE;&#x590D;&#x5141;&#x8BB8;&#x5728;flush()&#x4E4B;&#x540E;&#x6B63;&#x786E;&#x5730;&#x6E05;&#x9664;&#x201C;&#x4FEE;&#x6539;&#x7684;&#x201D;&#x5386;&#x53F2;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1cdefc4329206214d319913c733149d1">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta3-6"><span class="yiyi-st" id="yiyi-1036"><span class="target" id="change-0bfbb308a2e6b5996f8f092eecc39f27"><strong>[orm] </strong></span>user-defined @properties on a class are detected and left in place during mapper initialization. </span><span class="yiyi-st" id="yiyi-1037">&#x8FD9;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x5982;&#x679C;@property&#x5904;&#x4E8E;&#x963B;&#x6B62;&#x72B6;&#x6001;&#xFF08;&#x5E76;&#x4E14;&#x5217;&#x672A;&#x91CD;&#x65B0;&#x6620;&#x5C04;&#x4E3A;&#x4E0D;&#x540C;&#x540D;&#x79F0;&#xFF09;&#xFF0C;&#x5219;&#x540C;&#x540D;&#x7684;&#x8868;&#x7ED1;&#x5B9A;&#x5217;&#x6839;&#x672C;&#x4E0D;&#x4F1A;&#x88AB;&#x6620;&#x5C04;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x5E94;&#x7528;&#x6765;&#x81EA;&#x7EE7;&#x627F;&#x7C7B;&#x7684;&#x68C0;&#x6D4B;&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-1038">&#x76F8;&#x540C;&#x7684;&#x89C4;&#x5219;&#x9002;&#x7528;&#x4E8E;&#x4F7F;&#x7528;include_properties / exclude_properties&#x96C6;&#x5408;&#x6392;&#x9664;&#x7684;&#x540D;&#x79F0;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0bfbb308a2e6b5996f8f092eecc39f27">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta3-7"><span class="yiyi-st" id="yiyi-1039"><span class="target" id="change-8052b127a0d4287b2c71b35d67278832"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;after_attach()&#x7684;&#x65B0;SessionExtension&#x6302;&#x94A9;&#x3002;</span><span class="yiyi-st" id="yiyi-1040">&#x8FD9;&#x901A;&#x8FC7;add()&#xFF0C;add_all()&#xFF0C;delete()&#x548C;merge()&#x5728;&#x5BF9;&#x8C61;&#x7684;&#x8FDE;&#x63A5;&#x70B9;&#x5904;&#x8C03;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8052b127a0d4287b2c71b35d67278832">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta3-8"><span class="yiyi-st" id="yiyi-1041"><span class="target" id="change-bd87173d091ba1e2327191216517b2ef"><strong>[orm] </strong></span>&#x5F53;&#x7EE7;&#x627F;&#x5176;&#x7EE7;&#x627F;&#x7684;&#x6620;&#x5C04;&#x5668;&#x7684;&#x5217;&#x65F6;&#xFF0C;&#x4ECE;&#x53E6;&#x4E00;&#x4E2A;&#x7EE7;&#x627F;&#x7684;&#x6620;&#x5C04;&#x5668;&#x5C06;&#x4F7F;&#x7528;&#x8BE5;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668;&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x4EFB;&#x4F55;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x7684;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x3002;</span><span class="yiyi-st" id="yiyi-1042">&#x4EE5;&#x524D;&#xFF0C;&#x5982;&#x679C;&#x201C;Base&#x201D;&#x5DF2;&#x5C06;&#x201C;base_id&#x201D;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x7ED9;&#x540D;&#x79F0;&#x201C;id&#x201D;&#xFF0C;&#x5219;&#x201C;SubBase&#xFF08;Base&#xFF09;&#x201D;&#x4ECD;&#x4F1A;&#x83B7;&#x5F97;&#x540D;&#x4E3A;&#x201C;base_id&#x201D;&#x7684;&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-1043">&#x8FD9;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;&#x6BCF;&#x4E2A;&#x5B50;&#x6620;&#x5C04;&#x4E2D;&#x663E;&#x5F0F;&#x58F0;&#x660E;&#x5217;&#x6765;&#x89E3;&#x51B3;&#xFF0C;&#x4F46;&#x8FD9;&#x5728;&#x4F7F;&#x7528;&#x58F0;&#x660E;&#x65F6;&#x662F;&#x4E0D;&#x53EF;&#x884C;&#x7684;&#xFF0C;&#x4E5F;&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bd87173d091ba1e2327191216517b2ef">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1044">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1111">&#xFF03;1111</a></span></p></li><li><p id="change-0.5.0beta3-9"><span class="yiyi-st" id="yiyi-1045"><span class="target" id="change-4a50d6aaca19e04da5b39026834f7ed1"><strong>[orm] </strong></span>Fixed a series of potential race conditions in Session whereby asynchronous GC could remove unmodified, no longer referenced items from the session as they were present in a list of items to be processed, typically during session.expunge_all() and dependent methods.<a class="changeset-link headerlink reference internal" href="#change-4a50d6aaca19e04da5b39026834f7ed1">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta3-10"><span class="yiyi-st" id="yiyi-1046"><span class="target" id="change-b9a53af1efbb14f9f161dc08e827613b"><strong>[orm] </strong></span>Some improvements to the _CompileOnAttr mechanism which should reduce the probability of &#x201C;Attribute x was not replaced during compile&#x201D; warnings. </span><span class="yiyi-st" id="yiyi-1047">&#xFF08;&#x8FD9;&#x901A;&#x5E38;&#x9002;&#x7528;&#x4E8E;SQLA&#x9ED1;&#x5BA2;&#xFF0C;&#x5982;Elixir&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b9a53af1efbb14f9f161dc08e827613b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta3-11"><span class="yiyi-st" id="yiyi-1048"><span class="target" id="change-69d1b37aec0edbfa5bdf17121da26777"><strong>[orm] </strong></span>Fixed bug whereby the &#x201C;unsaved, pending instance&#x201D; FlushError raised for a pending orphan would not take superclass mappers into account when generating the list of relations responsible for the error.<a class="changeset-link headerlink reference internal" href="#change-69d1b37aec0edbfa5bdf17121da26777">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0beta3-sql"><h3><span class="yiyi-st" id="yiyi-1049">SQL <a class="headerlink" href="#change-0.5.0beta3-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta3-12"><span class="yiyi-st" id="yiyi-1050"><span class="target" id="change-48ee06eba07274b1974325d19e0ef16c"><strong>[sql] </strong></span>func.count() with no arguments renders as COUNT(*), equivalent to func.count(text(&#x2018;*&#x2019;)).<a class="changeset-link headerlink reference internal" href="#change-48ee06eba07274b1974325d19e0ef16c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta3-13"><span class="yiyi-st" id="yiyi-1051"><span class="target" id="change-183ed96a85af7c197f43c2af7c82e74f"><strong>[sql] </strong></span>simple label names in ORDER BY expressions render as themselves, and not as a re-statement of their corresponding expression. </span><span class="yiyi-st" id="yiyi-1052">&#x6B64;&#x529F;&#x80FD;&#x76EE;&#x524D;&#x4EC5;&#x9002;&#x7528;&#x4E8E;SQLite&#xFF0C;MySQL&#x548C;PostgreSQL&#x3002;</span><span class="yiyi-st" id="yiyi-1053">&#x5B83;&#x53EF;&#x4EE5;&#x5728;&#x5176;&#x4ED6;&#x65B9;&#x8A00;&#x4E0A;&#x542F;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x6BCF;&#x4E2A;&#x65B9;&#x8A00;&#x90FD;&#x652F;&#x6301;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-183ed96a85af7c197f43c2af7c82e74f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1054">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1068">&#xFF03;1068</a></span></p></li></ul></div><div class="section" id="change-0.5.0beta3-mysql"><h3><span class="yiyi-st" id="yiyi-1055">MySQL&#x7684;<a class="headerlink" href="#change-0.5.0beta3-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta3-14"><span class="yiyi-st" id="yiyi-1056"><span class="target" id="change-e39adf863f851364eaafbfc3b919e72e"><strong>[mysql] </strong></span>&#x5728;CREATE TABLE&#x4E2D;&#x4F7F;&#x7528;&#x7684;MSEnum&#x503C;&#x7684;&#x5F15;&#x7528;&#x73B0;&#x5728;&#x662F;&#x53EF;&#x9009;&#x7684;&#xFF0C;&#x5C06;&#x6839;&#x636E;&#x9700;&#x8981;&#x6309;&#x9700;&#x5F15;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-1057">&#xFF08;&#x5F15;&#x7528;&#x603B;&#x662F;&#x53EF;&#x9009;&#x7684;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E0E;&#x73B0;&#x6709;&#x8868;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x3002;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-e39adf863f851364eaafbfc3b919e72e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1058">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1110">&#xFF03;1110</a></span></p></li></ul></div><div class="section" id="change-0.5.0beta3-misc"><h3><span class="yiyi-st" id="yiyi-1059">&#x6742;&#x9879;<a class="headerlink" href="#change-0.5.0beta3-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta3-15"><span class="yiyi-st" id="yiyi-1060"><span class="target" id="change-235189d186b64a7c7ade47234481c74d"><strong>[ext] </strong></span>Class-bound attributes sent as arguments to relation()&#x2019;s remote_side and foreign_keys parameters are now accepted, allowing them to be used with declarative. </span><span class="yiyi-st" id="yiyi-1061">&#x6B64;&#x5916;&#x4FEE;&#x590D;&#x4E86;&#x6D89;&#x53CA;order_by&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x5C06;&#x5176;&#x4E0E;&#x6307;&#x5B9A;&#x7684;&#x52A0;&#x8F7D;&#x7C7B;&#x578B;&#x4E00;&#x8D77;&#x6307;&#x5B9A;&#x4E3A;&#x7C7B;&#x7ED1;&#x5B9A;&#x5C5E;&#x6027;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-235189d186b64a7c7ade47234481c74d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta3-16"><span class="yiyi-st" id="yiyi-1062"><span class="target" id="change-e3f67c763727b1ddccb145473793027a"><strong>[ext] </strong></span>&#x8C03;&#x6574;&#x5217;&#x7684;&#x58F0;&#x660E;&#x6027;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x4EE5;&#x4FBF;&#x975E;&#x91CD;&#x547D;&#x540D;&#x5217;&#x4EE5;&#x4E0E;&#x975E;&#x58F0;&#x660E;&#x6027;&#x6620;&#x5C04;&#x5668;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#x521D;&#x59CB;&#x5316;&#x3002;</span><span class="yiyi-st" id="yiyi-1063">&#x8FD9;&#x5141;&#x8BB8;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668;&#x7279;&#x522B;&#x8BBE;&#x7F6E;&#x5176;&#x76F8;&#x540C;&#x540D;&#x79F0;&#x7684;&#x201C;id&#x201D;&#x5217;&#xFF0C;&#x4F7F;&#x5F97;&#x7236;&#x201C;id&#x201D;&#x5217;&#x5728;&#x5B50;&#x5217;&#x4E0A;&#x66F4;&#x53D7;&#x6B22;&#x8FCE;&#xFF0C;&#x4ECE;&#x800C;&#x5728;&#x8BF7;&#x6C42;&#x8BE5;&#x503C;&#x65F6;&#x51CF;&#x5C11;&#x6570;&#x636E;&#x5E93;&#x5F80;&#x8FD4;&#x884C;&#x7A0B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e3f67c763727b1ddccb145473793027a">&#xB6; t0 &gt;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.5.0beta2"><h2><span class="yiyi-st" id="yiyi-1065">0.5.0beta2 <a class="headerlink" href="#change-0.5.0beta2" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1108">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2008&#x5E74;7&#x6708;14&#x65E5;</span><div class="section" id="change-0.5.0beta2-orm"><h3><span class="yiyi-st" id="yiyi-1066">ORM <a class="headerlink" href="#change-0.5.0beta2-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta2-0"><span class="yiyi-st" id="yiyi-1067"><span class="target" id="change-b1e13c6f85e4b8bafe152528e9f9e07a"><strong>[orm] </strong></span>&#x9664;&#x4E86;&#x8FC7;&#x671F;&#x5C5E;&#x6027;&#x5916;&#xFF0C;&#x5982;&#x679C;&#x5B83;&#x4EEC;&#x7684;&#x6570;&#x636E;&#x5B58;&#x5728;&#x4E8E;&#x7ED3;&#x679C;&#x96C6;&#x4E2D;&#xFF0C;&#x5EF6;&#x8FDF;&#x5C5E;&#x6027;&#x4E5F;&#x4F1A;&#x52A0;&#x8F7D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b1e13c6f85e4b8bafe152528e9f9e07a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1068">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/870">&#xFF03;870</a></span></p></li><li><p id="change-0.5.0beta2-1"><span class="yiyi-st" id="yiyi-1069"><span class="target" id="change-4a5df14e5fb13438d6d240dac1d13e53"><strong>[orm] </strong></span>session.refresh() raises an informative error message if the list of attributes does not include any column-based attributes.<a class="changeset-link headerlink reference internal" href="#change-4a5df14e5fb13438d6d240dac1d13e53">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta2-2"><span class="yiyi-st" id="yiyi-1070"><span class="target" id="change-fa0caf8275a26fd9e51067cf5d068e20"><strong>[orm] </strong></span>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x5217;&#x6216;&#x6620;&#x5C04;&#x5668;&#xFF0C;query()&#x4F1A;&#x5F15;&#x53D1;&#x4E00;&#x6761;&#x4FE1;&#x606F;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fa0caf8275a26fd9e51067cf5d068e20">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta2-3"><span class="yiyi-st" id="yiyi-1071"><span class="target" id="change-d224e9594aed7cff19ba7094b073085e"><strong>[orm] </strong></span>&#x5728;&#x7EE7;&#x7EED;&#x4E4B;&#x524D;&#xFF0C;&#x61D2;&#x52A0;&#x8F7D;&#x5668;&#x73B0;&#x5728;&#x4F1A;&#x89E6;&#x53D1;&#x81EA;&#x52A8;&#x5237;&#x65B0;&#x3002;</span><span class="yiyi-st" id="yiyi-1072">&#x8FD9;&#x5141;&#x8BB8;&#x96C6;&#x5408;&#x6216;&#x6807;&#x91CF;&#x5173;&#x7CFB;&#x7684;expire()&#x5728;autoflush&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d224e9594aed7cff19ba7094b073085e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta2-4"><span class="yiyi-st" id="yiyi-1073"><span class="target" id="change-9892cec5efcb4d7e85039be426750151"><strong>[orm] </strong></span>column_property() attributes which represent SQL expressions or columns that are not present in the mapped tables (such as those from views) are automatically expired after an INSERT or UPDATE, assuming they have not been locally modified, so that they are refreshed with the most recent data upon access.<a class="changeset-link headerlink reference internal" href="#change-9892cec5efcb4d7e85039be426750151">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1074">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/887">&#xFF03;887</a></span></p></li><li><p id="change-0.5.0beta2-5"><span class="yiyi-st" id="yiyi-1075"><span class="target" id="change-29ed27d1f028bd2967bfda14be68016f"><strong>[orm] </strong></span>Fixed explicit, self-referential joins between two joined-table inheritance mappers when using query.join(cls, aliased=True).<a class="changeset-link headerlink reference internal" href="#change-29ed27d1f028bd2967bfda14be68016f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1076">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1082">&#xFF03;1082</a></span></p></li><li><p id="change-0.5.0beta2-6"><span class="yiyi-st" id="yiyi-1077"><span class="target" id="change-cab45795f7c17a76dab0cf71132cf3cd"><strong>[orm] </strong></span>&#x56FA;&#x5B9A;query.join()&#x4E0E;&#x8FDE;&#x63A5;&#x4E2D;&#x7684;column-only&#x5B50;&#x53E5;&#x548C;SQL&#x8868;&#x8FBE;&#x5F0F;ON&#x5B50;&#x53E5;&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x65F6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cab45795f7c17a76dab0cf71132cf3cd">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta2-7"><span class="yiyi-st" id="yiyi-1078"><span class="target" id="change-1997755407d1a2cb2fe8e85e87a44d98"><strong>[orm] </strong></span> mapper()&#x4E2D;&#x7684;&#x201C;allow_column_override&#x201D;&#x6807;&#x5FD7;&#x5DF2;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1079">&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x5B9E;&#x9645;&#x4E0A;&#x603B;&#x662F;&#x88AB;&#x8BEF;&#x89E3;&#x3002;</span><span class="yiyi-st" id="yiyi-1080">&#x5B83;&#x7684;&#x7279;&#x5B9A;&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;include_properties / exclude_properties&#x6620;&#x5C04;&#x53C2;&#x6570;&#x83B7;&#x5F97;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1997755407d1a2cb2fe8e85e87a44d98">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta2-8"><span class="yiyi-st" id="yiyi-1081"><span class="target" id="change-f6f8762af002e7d0e73abc9712199669"><strong>[orm] </strong></span>Repaired <cite>__str__()</cite> method on Query.<a class="changeset-link headerlink reference internal" href="#change-f6f8762af002e7d0e73abc9712199669">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1082">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1066">&#xFF03;1066</a></span></p></li><li><p id="change-0.5.0beta2-9"><span class="yiyi-st" id="yiyi-1083"><span class="target" id="change-94cddf78a6e3719011b7fb8e0fd99f57"><strong>[orm] </strong></span>&#x5373;&#x4F7F;&#x5B9A;&#x4E49;&#x4E86;table / mapper&#x7279;&#x5B9A;&#x7ED1;&#x5B9A;&#xFF0C;Session.bind&#x4E5F;&#x4F1A;&#x88AB;&#x7528;&#x4F5C;&#x9ED8;&#x8BA4;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-94cddf78a6e3719011b7fb8e0fd99f57">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0beta2-sql"><h3><span class="yiyi-st" id="yiyi-1084">SQL <a class="headerlink" href="#change-0.5.0beta2-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta2-10"><span class="yiyi-st" id="yiyi-1085"><span class="target" id="change-30e5ded1589c7de935e27d16fc9ce66f"><strong>[sql] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;match()&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x7528;&#x4E8E;&#x6267;&#x884C;&#x5168;&#x6587;&#x641C;&#x7D22;&#x3002;</span><span class="yiyi-st" id="yiyi-1086">&#x652F;&#x6301;PostgreSQL&#xFF0C;SQLite&#xFF0C;MySQL&#xFF0C;MS-SQL&#x548C;Oracle&#x540E;&#x7AEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-30e5ded1589c7de935e27d16fc9ce66f">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0beta2-schema"><h3><span class="yiyi-st" id="yiyi-1087">&#x67B6;&#x6784;<a class="headerlink" href="#change-0.5.0beta2-schema" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta2-11"><span class="yiyi-st" id="yiyi-1088"><span class="target" id="change-b49475628d312e4c651103bd44dc0215"><strong>[schema] </strong></span>&#x4E3A;<cite>Table</cite>&#x6DFB;&#x52A0;&#x4E86;&#x524D;&#x7F00;&#x9009;&#x9879;&#xFF0C;&#x8BE5;&#x9009;&#x9879;&#x63A5;&#x53D7;&#x5728;CREATE TABLE&#x8BED;&#x53E5;&#x4E2D;&#x7684;CREATE&#x4E4B;&#x540E;&#x63D2;&#x5165;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5217;&#x8868;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b49475628d312e4c651103bd44dc0215"></a></span></p><p><span class="yiyi-st" id="yiyi-1089">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1075">&#xFF03;1075</a></span></p></li><li><p id="change-0.5.0beta2-12"><span class="yiyi-st" id="yiyi-1090"><span class="target" id="change-8a11f0840cf8a84fce22bd2015c35557"><strong>[schema] </strong></span>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;Unicode&#xFF0C;UnicodeText&#x7C7B;&#x578B;&#x73B0;&#x5728;&#x8BBE;&#x7F6E;&#x4E86;&#x201C;assert_unicode&#x201D;&#x548C;&#x201C;convert_unicode&#x201D;&#xFF0C;&#x4F46;&#x63A5;&#x53D7;&#x8FD9;&#x4E9B;&#x503C;&#x7684;&#x8986;&#x76D6;** kwargs&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8a11f0840cf8a84fce22bd2015c35557">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0beta2-sqlite"><h3><span class="yiyi-st" id="yiyi-1091">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.5.0beta2-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta2-13"><span class="yiyi-st" id="yiyi-1092"><span class="target" id="change-e9e212bbf32020e1d5b9a70c4bd065ec"><strong>[sqlite] </strong></span>&#x4FEE;&#x6539;SQLite&#x7684;&#x201C;&#x5FAE;&#x79D2;&#x201D;&#x8868;&#x793A;&#x4EE5;&#x5339;&#x914D;str&#xFF08;somedatetime&#xFF09;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x5373;&#x5FAE;&#x79D2;&#x4EE5;&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;&#x8868;&#x793A;&#x4E3A;&#x5C0F;&#x6570;&#x79D2;&#x3002;</span><span class="yiyi-st" id="yiyi-1093">&#x8FD9;&#x4F7F;SQLA&#x7684;SQLite&#x65E5;&#x671F;&#x7C7B;&#x578B;&#x4E0E;&#x76F4;&#x63A5;&#x4F7F;&#x7528;Pysqlite&#xFF08;&#x5B83;&#x53EA;&#x662F;&#x8C03;&#x7528;str()&#xFF09;&#x4FDD;&#x5B58;&#x7684;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x517C;&#x5BB9;&#x3002;</span><span class="yiyi-st" id="yiyi-1094">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x4E0E;SQLA 0.4&#x751F;&#x6210;&#x7684;SQLite&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x73B0;&#x6709;&#x5FAE;&#x79D2;&#x503C;&#x4E0D;&#x517C;&#x5BB9;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-1095">&#x8981;&#x5728;&#x5168;&#x7403;&#x8303;&#x56F4;&#x5185;&#x83B7;&#x5F97;&#x65E7;&#x7684;&#x884C;&#x4E3A;&#xFF1A;</span></p><blockquote><div><span class="yiyi-st" id="yiyi-1096">from sqlalchemy.databases.sqlite import DateTimeMixin DateTimeMixin .__ legacy_microseconds__ = True</span></div></blockquote><p><span class="yiyi-st" id="yiyi-1097">&#x8981;&#x83B7;&#x53D6;&#x5355;&#x4E2A;DateTime&#x7C7B;&#x578B;&#x7684;&#x884C;&#x4E3A;&#xFF1A;</span></p><blockquote><div><span class="yiyi-st" id="yiyi-1098">t = sqlite.SLDateTime()t .__ legacy_microseconds__ = True</span></div></blockquote><p><span class="yiyi-st" id="yiyi-1099">&#x7136;&#x540E;&#x4F7F;&#x7528;&#x201C;t&#x201D;&#x4F5C;&#x4E3A;&#x5217;&#x7684;&#x7C7B;&#x578B;&#x3002;</span></p><span class="yiyi-st" id="yiyi-1101"> <a class="changeset-link headerlink reference internal" href="#change-e9e212bbf32020e1d5b9a70c4bd065ec">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-1100">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1090">&#xFF03;1090</a></span></p></li><li><p id="change-0.5.0beta2-14"><span class="yiyi-st" id="yiyi-1102"><span class="target" id="change-356bd5509442671308af59a77f38afbd"><strong>[sqlite] </strong></span>SQLite Date, DateTime, and Time types only accept Python datetime objects now, not strings. </span><span class="yiyi-st" id="yiyi-1103">&#x5982;&#x679C;&#x60A8;&#x60F3;&#x4F7F;&#x7528;SQLite&#x5C06;&#x65E5;&#x671F;&#x683C;&#x5F0F;&#x5316;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;String&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1104">&#x5982;&#x679C;&#x60A8;&#x5E0C;&#x671B;&#x4ED6;&#x4EEC;&#x5C3D;&#x7BA1;&#x63A5;&#x53D7;&#x5B57;&#x7B26;&#x4E32;&#x4F5C;&#x4E3A;&#x8F93;&#x5165;&#xFF0C;&#x4ECD;&#x7136;&#x8FD4;&#x56DE;datetime&#x5BF9;&#x8C61;&#xFF0C;&#x8BF7;&#x56F4;&#x7ED5;String&#x521B;&#x5EFA;TypeDecorator  -  SQLA&#x4E0D;&#x9F13;&#x52B1;&#x6B64;&#x6A21;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-356bd5509442671308af59a77f38afbd">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0beta2-misc"><h3><span class="yiyi-st" id="yiyi-1105">&#x6742;&#x9879;<a class="headerlink" href="#change-0.5.0beta2-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta2-15"><span class="yiyi-st" id="yiyi-1106"><span class="target" id="change-06ba6db4e394283ba0869cd8dd51438c"><strong>[extensions] </strong></span>Declarative supports a __table_args__ class variable, which is either a dictionary, or tuple of the form (arg1, arg2, ..., {kwarg1:value, ...}) which contains positional + kw arguments to be passed to the Table constructor.<a class="changeset-link headerlink reference internal" href="#change-06ba6db4e394283ba0869cd8dd51438c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1107">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1096">&#xFF03;1096</a></span></p></li></ul></div></div><div class="section" id="change-0.5.0beta1"><h2><span class="yiyi-st" id="yiyi-1109">0.5.0beta1 <a class="headerlink" href="#change-0.5.0beta1" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1167">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2008&#x5E74;6&#x6708;12&#x65E5;</span><div class="section" id="change-0.5.0beta1-general"><h3><span class="yiyi-st" id="yiyi-1110">&#x4E00;&#x822C;<a class="headerlink" href="#change-0.5.0beta1-general" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta1-0"><span class="yiyi-st" id="yiyi-1111"><span class="target" id="change-597be5c4a9e70acebf3140485193fba9"><strong>[general] </strong></span>&#x5168;&#x5C40;&#x201C;propigate&#x201D; - &gt;&#x201C;&#x4F20;&#x64AD;&#x201D;&#x66F4;&#x6539;<a class="changeset-link headerlink reference internal" href="#change-597be5c4a9e70acebf3140485193fba9">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0beta1-orm"><h3><span class="yiyi-st" id="yiyi-1112">ORM <a class="headerlink" href="#change-0.5.0beta1-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta1-1"><span class="yiyi-st" id="yiyi-1113"><span class="target" id="change-82d1bf98ab627972f0337511ff68952a"><strong>[orm] </strong></span> polymorphic_union()&#x51FD;&#x6570;&#x5982;&#x679C;&#x4E0E;&#x5217;&#x7684;&#x540D;&#x79F0;&#x4E0D;&#x540C;&#xFF0C;&#x5B83;&#x5C06;&#x5C0A;&#x91CD;&#x6BCF;&#x4E2A;&#x5217;&#x7684;&#x201C;&#x952E;&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-82d1bf98ab627972f0337511ff68952a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta1-2"><span class="yiyi-st" id="yiyi-1114"><span class="target" id="change-40f4ed47012478d45197ff8e06350ea0"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;0.4&#x4E2A;&#x4EC5;&#x9650;&#x4E8E;&#x9632;&#x6B62;&#x590D;&#x5408;&#x5217;&#x4E0E;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x7684;&#x9519;&#x8BEF;<a class="changeset-link headerlink reference internal" href="#change-40f4ed47012478d45197ff8e06350ea0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1115">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1199">&#xFF03;1199</a></span></p></li><li><p id="change-0.5.0beta1-3"><span class="yiyi-st" id="yiyi-1116"><span class="target" id="change-c716495e2a464fb8ce720403397e97de"><strong>[orm] </strong></span>Fixed RLock-related bug in mapper which could deadlock upon reentrant mapper compile() calls, something that occurs when using declarative constructs inside of ForeignKey objects. </span><span class="yiyi-st" id="yiyi-1117">&#x4ECE;0.5&#x5F00;&#x59CB;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c716495e2a464fb8ce720403397e97de">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta1-4"><span class="yiyi-st" id="yiyi-1118"><span class="target" id="change-6da5dc80f326fc681ebf9c54a5ffa9c6"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x963B;&#x6B62;&#x4E3B;&#x952E;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x53D1;&#x751F;&#x53D8;&#x5F02;&#x7684;&#x590D;&#x5408;&#x7C7B;&#x578B;&#x7684;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6da5dc80f326fc681ebf9c54a5ffa9c6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1119">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1213">&#xFF03;1213</a></span></p></li><li><p id="change-0.5.0beta1-5"><span class="yiyi-st" id="yiyi-1120"><span class="target" id="change-e60b511fbaf0001cde702449ecb0104a"><strong>[orm] </strong></span>&#x65B0;&#x589E;&#x4E86;ScopedSession.is_active&#x8BBF;&#x95EE;&#x8005;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e60b511fbaf0001cde702449ecb0104a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1121">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/976">&#xFF03;976</a></span></p></li><li><p id="change-0.5.0beta1-6"><span class="yiyi-st" id="yiyi-1122"><span class="target" id="change-ba55e63a03bb8ec099147f6a87c61615"><strong>[orm] </strong></span>&#x7C7B;&#x7ED1;&#x5B9A;&#x5B58;&#x53D6;&#x5668;&#x53EF;&#x4EE5;&#x7528;&#x4F5C;relation()order_by&#x7684;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ba55e63a03bb8ec099147f6a87c61615">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1123">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/939">&#xFF03;939</a></span></p></li><li><p id="change-0.5.0beta1-7"><span class="yiyi-st" id="yiyi-1124"><span class="target" id="change-bd5038cfd61379dab45f5b5efb96d141"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;ShardedSession.execute()&#x4E2D;&#x7684;shard_id&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bd5038cfd61379dab45f5b5efb96d141">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1125">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1072">&#xFF03;1072</a></span></p></li></ul></div><div class="section" id="change-0.5.0beta1-sql"><h3><span class="yiyi-st" id="yiyi-1126">SQL <a class="headerlink" href="#change-0.5.0beta1-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta1-8"><span class="yiyi-st" id="yiyi-1127"><span class="target" id="change-29be44a1f0bc1caa144b8bc1beb51489"><strong>[sql] </strong></span>Connection.invalidate() checks for closed status to avoid attribute errors.<a class="changeset-link headerlink reference internal" href="#change-29be44a1f0bc1caa144b8bc1beb51489">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1128">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1246">&#xFF03;1246</a></span></p></li><li><p id="change-0.5.0beta1-9"><span class="yiyi-st" id="yiyi-1129"><span class="target" id="change-16e86878cd9e70fedc4666e21ba59cf5"><strong>[sql] </strong></span> NullPool&#x652F;&#x6301;&#x5728;&#x5931;&#x8D25;&#x884C;&#x4E3A;&#x4E2D;&#x91CD;&#x65B0;&#x8FDE;&#x63A5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-16e86878cd9e70fedc4666e21ba59cf5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1130">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1094">&#xFF03;1094</a></span></p></li><li><p id="change-0.5.0beta1-10"><span class="yiyi-st" id="yiyi-1131"><span class="target" id="change-1a0630c7f407b3faf362899ef82ad169"><strong>[sql] </strong></span>The per-dialect cache used by TypeEngine to cache dialect-specific types is now a WeakKeyDictionary. </span><span class="yiyi-st" id="yiyi-1132">&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x65B9;&#x8A00;&#x5BF9;&#x8C61;&#x88AB;&#x6C38;&#x4E45;&#x5F15;&#x7528;&#x5230;&#x521B;&#x5EFA;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x5F15;&#x64CE;&#x6216;&#x65B9;&#x8A00;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-1133">&#x6709;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x6027;&#x80FD;&#x635F;&#x5931;&#xFF0C;&#x5C06;&#x5728;0.6&#x4E2D;&#x5F97;&#x5230;&#x89E3;&#x51B3;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1a0630c7f407b3faf362899ef82ad169">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1134">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1299">&#xFF03;1299</a></span></p></li><li><p id="change-0.5.0beta1-11"><span class="yiyi-st" id="yiyi-1135"><span class="target" id="change-df3932569fdafeb934c94108dca3f10c"><strong>[sql] </strong></span>Fixed SQLite reflection methods so that non-present cursor.description, which triggers an auto-cursor close, will be detected so that no results doesn&#x2019;t fail on recent versions of pysqlite which raise an error when fetchone() called with no rows present.<a class="changeset-link headerlink reference internal" href="#change-df3932569fdafeb934c94108dca3f10c">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0beta1-mysql"><h3><span class="yiyi-st" id="yiyi-1136">MySQL&#x7684;<a class="headerlink" href="#change-0.5.0beta1-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta1-12"><span class="yiyi-st" id="yiyi-1137"><span class="target" id="change-8e90da9f21562be95b0bfbd2c9e027d6"><strong>[mysql] </strong></span>&#x4FEE;&#x6B63;&#x5728;&#x53CD;&#x5C04;&#x671F;&#x95F4;FK&#x5217;&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x5F02;&#x5E38;&#x5F15;&#x53D1;&#x7684;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8e90da9f21562be95b0bfbd2c9e027d6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1138">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1241">&#xFF03;1241</a></span></p></li></ul></div><div class="section" id="change-0.5.0beta1-oracle"><h3><span class="yiyi-st" id="yiyi-1139">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.5.0beta1-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta1-13"><span class="yiyi-st" id="yiyi-1140"><span class="target" id="change-4b9a389dc0d41e5883225b92c038f6b6"><strong>[oracle] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x9632;&#x6B62;&#x63A5;&#x6536;&#x67D0;&#x4E9B;&#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570;&#x7684;&#x9519;&#x8BEF;&#xFF1B;&#x975E;&#x5E38;&#x611F;&#x8C22;wwu.edu huddlej&#xFF01;<a class="changeset-link headerlink reference internal" href="#change-4b9a389dc0d41e5883225b92c038f6b6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1141">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1265">&#xFF03;1265</a></span></p></li></ul></div><div class="section" id="change-0.5.0beta1-firebird"><h3><span class="yiyi-st" id="yiyi-1142">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.5.0beta1-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta1-14"><span class="yiyi-st" id="yiyi-1143"><span class="target" id="change-f80867c91e5a7fd60be40e84b6b45c1c"><strong>[firebird] </strong></span>&#x65B0;&#x589E;&#x4E86;&#x5BF9;&#x63D2;&#x5165;&#xFF08;&#x4EC5;&#x9650;2.0+&#xFF09;&#xFF0C;&#x66F4;&#x65B0;&#x548C;&#x5220;&#x9664;&#xFF08;&#x4EC5;&#x9650;2.1+&#xFF09;&#x8FD4;&#x56DE;&#x503C;&#x7684;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f80867c91e5a7fd60be40e84b6b45c1c">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.5.0beta1-misc"><h3><span class="yiyi-st" id="yiyi-1144">&#x6742;&#x9879;<a class="headerlink" href="#change-0.5.0beta1-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.5.0beta1-15"><span class="yiyi-st" id="yiyi-1145"><span class="target" id="change-4c74f38b423ff53dcd4b7fa1966af84d"></span>&#x7531;mapper&#x6DFB;&#x52A0;&#x7684;&#x201C;__init__&#x201D;&#x89E6;&#x53D1;&#x5668;/&#x4FEE;&#x9970;&#x5668;&#x73B0;&#x5728;&#x8BD5;&#x56FE;&#x7CBE;&#x786E;&#x5730;&#x955C;&#x50CF;&#x539F;&#x59CB;__init__&#x7684;&#x53C2;&#x6570;&#x7B7E;&#x540D;&#x3002;</span><span class="yiyi-st" id="yiyi-1146">&apos;_sa_session&apos;&#x7684;&#x4F20;&#x9012;&#x4E0D;&#x518D;&#x662F;&#x9690;&#x5F0F;&#x7684;&#xFF0C;&#x4F60;&#x5FC5;&#x987B;&#x5728;&#x4F60;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#x5141;&#x8BB8;this&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4c74f38b423ff53dcd4b7fa1966af84d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta1-16"><span class="yiyi-st" id="yiyi-1147"><span class="target" id="change-980210cb8cdd5ceea64cd04baa489570"></span> ClassState&#x88AB;&#x91CD;&#x547D;&#x540D;&#x4E3A;ClassManager&#x3002;<a class="changeset-link headerlink reference internal" href="#change-980210cb8cdd5ceea64cd04baa489570">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta1-17"><span class="yiyi-st" id="yiyi-1148"><span class="target" id="change-9cbc088fadfe2d0e1f287573f9baa15e"></span>&#x7C7B;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x63D0;&#x4F9B;__sa_instrumentation_manager__&#x5C5E;&#x6027;&#x6765;&#x63D0;&#x4F9B;&#x4ED6;&#x4EEC;&#x81EA;&#x5DF1;&#x7684;InstrumentationManager&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9cbc088fadfe2d0e1f287573f9baa15e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta1-18"><span class="yiyi-st" id="yiyi-1149"><span class="target" id="change-e6063cfb03c99c975326810501e82cdc"></span>&#x81EA;&#x5B9A;&#x4E49;&#x68C0;&#x6D4B;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x673A;&#x5236;&#x5C06;ClassManager&#x4E0E;&#x7C7B;&#x5173;&#x8054;&#x8D77;&#x6765;&#xFF0C;&#x5E76;&#x5C06;InstanceState&#x4E0E;&#x5B9E;&#x4F8B;&#x5173;&#x8054;&#x8D77;&#x6765;&#x3002;</span><span class="yiyi-st" id="yiyi-1150">&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x4ECD;&#x7136;&#x662F;SQLAlchemy&#x7684;&#x672C;&#x5730;&#x5DE5;&#x5177;&#x4F7F;&#x7528;&#x7684;&#x9ED8;&#x8BA4;&#x5173;&#x8054;&#x673A;&#x5236;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e6063cfb03c99c975326810501e82cdc">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta1-19"><span class="yiyi-st" id="yiyi-1151"><span class="target" id="change-d0e462bbc183d7226f97f17ecbb388a2"></span>&#x5C06;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;entity_name&#xFF0C;_sa_session_id&#x548C;_instance_key&#x79FB;&#x81F3;&#x5B9E;&#x4F8B;&#x72B6;&#x6001;&#x3002;</span><span class="yiyi-st" id="yiyi-1152">&#x8FD9;&#x4E9B;&#x503C;&#x4ECD;&#x65E7;&#x4EE5;&#x65E7;&#x7684;&#x65B9;&#x5F0F;&#x63D0;&#x4F9B;&#xFF0C;&#x73B0;&#x5728;&#x5DF2;&#x5F03;&#x7528;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;&#x9644;&#x52A0;&#x5230;&#x8BE5;&#x7C7B;&#x7684;&#x63CF;&#x8FF0;&#x7B26;&#x3002;</span><span class="yiyi-st" id="yiyi-1153">&#x8BBF;&#x95EE;&#x65F6;&#x4F1A;&#x53D1;&#x51FA;&#x5F03;&#x7528;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d0e462bbc183d7226f97f17ecbb388a2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta1-20"><span class="yiyi-st" id="yiyi-1154"><span class="target" id="change-4c81de802c5b169c064df29a7b362856"></span> prepare_instrumentation&#x7684;_prepare_instrumentation&#x522B;&#x540D;&#x5DF2;&#x88AB;&#x5220;&#x9664;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4c81de802c5b169c064df29a7b362856">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta1-21"><span class="yiyi-st" id="yiyi-1155"><span class="target" id="change-f109a7bb053325a3920397d52b10afba"></span> sqlalchemy.exceptions&#x5DF2;&#x66F4;&#x540D;&#x4E3A;sqlalchemy.exc&#x3002;</span><span class="yiyi-st" id="yiyi-1156">&#x8BE5;&#x6A21;&#x5757;&#x53EF;&#x4EE5;&#x7528;&#x4EFB;&#x4F55;&#x540D;&#x79F0;&#x5BFC;&#x5165;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f109a7bb053325a3920397d52b10afba">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta1-22"><span class="yiyi-st" id="yiyi-1157"><span class="target" id="change-5787d3423a68487bb24c139973934eed"></span>ORM-related exceptions are now defined in sqlalchemy.orm.exc. </span><span class="yiyi-st" id="yiyi-1158">&#x5728;&#x5BFC;&#x5165;sqlalchemy.orm&#x671F;&#x95F4;&#xFF0C;ConcurrentModificationError&#xFF0C;FlushError&#x548C;UnmappedColumnError&#x517C;&#x5BB9;&#x6027;&#x522B;&#x540D;&#x5B89;&#x88C5;&#x5728;sqlalchemy.exc&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5787d3423a68487bb24c139973934eed">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta1-23"><span class="yiyi-st" id="yiyi-1159"><span class="target" id="change-2d6f76209ea09a87b60ecfd470463e1e"></span> sqlalchemy.logging&#x5DF2;&#x91CD;&#x547D;&#x540D;&#x4E3A;sqlalchemy.log&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2d6f76209ea09a87b60ecfd470463e1e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta1-24"><span class="yiyi-st" id="yiyi-1160"><span class="target" id="change-11111e8dff7ace83b711108d6ca580af"></span>&#x5DF2;&#x5220;&#x9664;sqlalchemy.exc&#x4E2D;&#x8B66;&#x544A;&#x5B9A;&#x4E49;&#x7684;&#x8FC7;&#x6E21;&#x6027;sqlalchemy.log.SADeprecationWarning&#x522B;&#x540D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-11111e8dff7ace83b711108d6ca580af">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta1-25"><span class="yiyi-st" id="yiyi-1161"><span class="target" id="change-37d168fda1270d938e3c6dbec83f764b"></span>exc.AssertionError has been removed and usage replaced with Python&#x2019;s built-in AssertionError.<a class="changeset-link headerlink reference internal" href="#change-37d168fda1270d938e3c6dbec83f764b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta1-26"><span class="yiyi-st" id="yiyi-1162"><span class="target" id="change-31be20aa80e30309ce588ebcaab5bdab"></span> MapperExtensions&#x9644;&#x52A0;&#x5230;&#x591A;&#x4E2A;entity_name =&#x4E00;&#x4E2A;&#x7C7B;&#x7684;&#x4E3B;&#x6620;&#x5C04;&#x5668;&#x7684;&#x884C;&#x4E3A;&#x5DF2;&#x88AB;&#x66F4;&#x6539;&#x3002;</span><span class="yiyi-st" id="yiyi-1163">&#x4E3A;&#x7C7B;&#x5B9A;&#x4E49;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;mapper()&#x662F;&#x7B26;&#x5408;MapperExtension&apos;instrument_class&apos;&#xFF0C;&apos;init_instance&apos;&#x548C;&apos;init_failed&apos;&#x4E8B;&#x4EF6;&#x7684;&#x552F;&#x4E00;&#x6620;&#x5C04;&#x5668;&#x3002;</span><span class="yiyi-st" id="yiyi-1164">&#x8FD9;&#x662F;&#x5012;&#x9000;&#x4E0D;&#x76F8;&#x5BB9;&#x7684;&#xFF1B;&#x4E4B;&#x524D;&#x5B9A;&#x4E49;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6620;&#x5C04;&#x5668;&#x7684;&#x6269;&#x5C55;&#x5C06;&#x63A5;&#x6536;&#x8FD9;&#x4E9B;&#x4E8B;&#x4EF6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-31be20aa80e30309ce588ebcaab5bdab">&#xB6;</a></span></p><p></p></li><li><p id="change-0.5.0beta1-27"><span class="yiyi-st" id="yiyi-1165"><span class="target" id="change-de2200a740660664c93871010b7c242f"><strong>[postgres] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;Postgres&#x7684;&#x7D22;&#x5F15;&#x53CD;&#x5C04;&#x652F;&#x6301;&#xFF0C;&#x4F7F;&#x7528;Ken Kuhlman&#x63D0;&#x4EA4;&#x7684;&#x4E00;&#x4E2A;&#x6211;&#x4EEC;&#x957F;&#x671F;&#x5FFD;&#x7565;&#x7684;&#x5F88;&#x597D;&#x7684;&#x8865;&#x4E01;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-de2200a740660664c93871010b7c242f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1166">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/714">&#xFF03;714</a></span></p></li></ul></div></div>