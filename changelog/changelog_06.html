<h1><span class="yiyi-st" id="yiyi-158">0.6&#x66F4;&#x65B0;&#x65E5;&#x5FD7;<a class="headerlink" href="#changelog" title="Permalink to this headline">&#xB6;</a></span></h1><div class="section" id="change-0.6.9"><h2><span class="yiyi-st" id="yiyi-159">0.6.9 <a class="headerlink" href="#change-0.6.9" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-225">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2012&#x5E74;5&#x6708;5&#x65E5;&#x661F;&#x671F;&#x516D;</span><div class="section" id="change-0.6.9-general"><h3><span class="yiyi-st" id="yiyi-160">&#x4E00;&#x822C;<a class="headerlink" href="#change-0.6.9-general" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.9-0"><span class="yiyi-st" id="yiyi-161"><span class="target" id="change-12863cf30d488f3bc66ad4bcfbbf8fd5"><strong>[general] </strong></span>Adjusted the &#x201C;importlater&#x201D; mechanism, which is used internally to resolve import cycles, such that the usage of __import__ is completed when the import of sqlalchemy or sqlalchemy.orm is done, thereby avoiding any usage of __import__ after the application starts new threads, fixes.<a class="changeset-link headerlink reference internal" href="#change-12863cf30d488f3bc66ad4bcfbbf8fd5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-162">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2279">&#xFF03;2279</a></span></p></li></ul></div><div class="section" id="change-0.6.9-orm"><h3><span class="yiyi-st" id="yiyi-163">ORM <a class="headerlink" href="#change-0.6.9-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.9-1"><span class="yiyi-st" id="yiyi-164"><span class="target" id="change-90dd35d523894cd2e514049899fa3652"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x590D;&#x4E86;query.get()&#x4E2D;&#x5E03;&#x5C14;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x7528;&#x6237;&#x6620;&#x5C04;&#x5BF9;&#x8C61;&#x7684;&#x4E0D;&#x6070;&#x5F53;&#x8BC4;&#x4F30;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-90dd35d523894cd2e514049899fa3652">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-165">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2310">&#xFF03;2310</a></span></p></li><li><p id="change-0.6.9-2"><span class="yiyi-st" id="yiyi-166"><span class="target" id="change-48105c68fcefac76f598d7b48e49e120"><strong>[orm] [bug] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5143;&#x7EC4;&#x65E0;&#x610F;&#x4E2D;&#x4F20;&#x9012;&#x7ED9;session.query()&#x65F6;&#x5F15;&#x53D1;&#x7684;&#x9519;&#x8BEF;&#x683C;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-48105c68fcefac76f598d7b48e49e120">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-167">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2297">&#xFF03;2297</a></span></p></li><li><p id="change-0.6.9-3"><span class="yiyi-st" id="yiyi-168"><span class="target" id="change-1f18f8d75432f09d5bbc6ac09e88b038"><strong>[orm] </strong></span>Fixed bug whereby the source clause used by query.join() would be inconsistent if against a column expression that combined multiple entities together.<a class="changeset-link headerlink reference internal" href="#change-1f18f8d75432f09d5bbc6ac09e88b038">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-169">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2197">&#xFF03;2197</a></span></p></li><li><p id="change-0.6.9-4"><span class="yiyi-st" id="yiyi-170"><span class="target" id="change-bec888b1020a652a9d416e4e6b261a7e"><strong>[orm] </strong></span>Fixed bug apparent only in Python 3 whereby sorting of persistent + pending objects during flush would produce an illegal comparison, if the persistent object primary key is not a single integer.<a class="changeset-link headerlink reference internal" href="#change-bec888b1020a652a9d416e4e6b261a7e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-171">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2228">&#xFF03;2228</a></span></p></li><li><p id="change-0.6.9-5"><span class="yiyi-st" id="yiyi-172"><span class="target" id="change-dad2fbaff0f9f5aa2ebbcf509ad408a3"><strong>[orm] </strong></span>Fixed bug where query.join() + aliased=True from a joined-inh structure to itself on relationship() with join condition on the child table would convert the lead entity into the joined one inappropriately.<a class="changeset-link headerlink reference internal" href="#change-dad2fbaff0f9f5aa2ebbcf509ad408a3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-173">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2234">&#xFF03;2234</a></span></p></li><li><p id="change-0.6.9-6"><span class="yiyi-st" id="yiyi-174"><span class="target" id="change-12f7542f530a786aa0c66534c7a55317"><strong>[orm] </strong></span>Fixed bug whereby mapper.order_by attribute would be ignored in the &#x201C;inner&#x201D; query within a subquery eager load. </span><span class="yiyi-st" id="yiyi-175"><a class="changeset-link headerlink reference internal" href="#change-12f7542f530a786aa0c66534c7a55317">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-176">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2287">&#xFF03;2287</a></span></p></li><li><p id="change-0.6.9-7"><span class="yiyi-st" id="yiyi-177"><span class="target" id="change-324c9d754e04e96958acbba0a3dc83ec"><strong>[orm] </strong></span>Fixed bug whereby if a mapped class redefined __hash__() or __eq__() to something non-standard, which is a supported use case as SQLA should never consult these, the methods would be consulted if the class was part of a &#x201C;composite&#x201D; (i.e. non-single-entity) result set.<a class="changeset-link headerlink reference internal" href="#change-324c9d754e04e96958acbba0a3dc83ec">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-178">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2215">&#xFF03;2215</a></span></p></li><li><p id="change-0.6.9-8"><span class="yiyi-st" id="yiyi-179"><span class="target" id="change-ccbce1aaf7fc09560215d0f41426e87e"><strong>[orm] </strong></span>Fixed subtle bug that caused SQL to blow up if: column_property() against subquery + joinedload + LIMIT + order by the column property() occurred. </span><span class="yiyi-st" id="yiyi-180"><a class="changeset-link headerlink reference internal" href="#change-ccbce1aaf7fc09560215d0f41426e87e">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-181">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2188">&#xFF03;2188</a></span></p></li><li><p id="change-0.6.9-9"><span class="yiyi-st" id="yiyi-182"><span class="target" id="change-18699e5af1eae1a1ce72667d2f948b1f"><strong>[orm] </strong></span> with_parent&#x4EA7;&#x751F;&#x7684;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x4EE5;&#x53CA;&#x5BF9;&#x7236;&#x4EE3;&#x4F7F;&#x7528;&#x201C;&#x52A8;&#x6001;&#x201D;&#x5173;&#x7CFB;&#x65F6;&#x5C06;&#x751F;&#x6210;&#x552F;&#x4E00;&#x7684;bindparams&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x9519;&#x8BEF;&#x5730;&#x91CD;&#x590D;&#x76F8;&#x540C;&#x7684;bindparam&#x3002;</span><span class="yiyi-st" id="yiyi-183"><a class="changeset-link headerlink reference internal" href="#change-18699e5af1eae1a1ce72667d2f948b1f">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-184">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2207">&#xFF03;2207</a></span></p></li><li><p id="change-0.6.9-10"><span class="yiyi-st" id="yiyi-185"><span class="target" id="change-c0fbe0ad615ed9a900a904e02ea5ecd8"><strong>[orm] </strong></span>Repaired the &#x201C;no statement condition&#x201D; assertion in Query which would attempt to raise if a generative method were called after from_statement() were called..<a class="changeset-link headerlink reference internal" href="#change-c0fbe0ad615ed9a900a904e02ea5ecd8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-186">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2199">&#xFF03;2199</a></span></p></li><li><p id="change-0.6.9-11"><span class="yiyi-st" id="yiyi-187"><span class="target" id="change-91ff76e5a82e6e129deb5a0cad60796d"><strong>[orm] </strong></span> Cls.column.collat&#x200B;&#x200B;e&#xFF08;&#x201C;some collat&#x200B;&#x200B;ion&#x201D;&#xFF09;&#x73B0;&#x5728;&#x53EF;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-91ff76e5a82e6e129deb5a0cad60796d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-188">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1776">&#xFF03;1776</a></span></p></li></ul></div><div class="section" id="change-0.6.9-engine"><h3><span class="yiyi-st" id="yiyi-189">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.6.9-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.9-12"><span class="yiyi-st" id="yiyi-190"><span class="target" id="change-7da4cdf9f79cae9743a85d40954ac411"><strong>[engine] </strong></span>Backported the fix for introduced in 0.7.4, which ensures that the connection is in a valid state before attempting to call rollback()/prepare()/release() on savepoint and two-phase transactions.<a class="changeset-link headerlink reference internal" href="#change-7da4cdf9f79cae9743a85d40954ac411">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-191">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2317">&#xFF03;2317</a></span></p></li></ul></div><div class="section" id="change-0.6.9-sql"><h3><span class="yiyi-st" id="yiyi-192">SQL <a class="headerlink" href="#change-0.6.9-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.9-13"><span class="yiyi-st" id="yiyi-193"><span class="target" id="change-d49c6908f106df0a29516c49cddab3c2"><strong>[sql] </strong></span>Fixed two subtle bugs involving column correspondence in a selectable, one with the same labeled subquery repeated, the other when the label has been &#x201C;grouped&#x201D; and loses itself. </span><span class="yiyi-st" id="yiyi-194">&#x5F71;&#x54CD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d49c6908f106df0a29516c49cddab3c2">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-195">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2188">&#xFF03;2188</a></span></p></li><li><p id="change-0.6.9-14"><span class="yiyi-st" id="yiyi-196"><span class="target" id="change-08b55ba78d7b3fa1a51925aecafe255b"><strong>[sql] </strong></span>Fixed bug whereby &#x201C;warn on unicode&#x201D; flag would get set for the String type when used with certain dialects. </span><span class="yiyi-st" id="yiyi-197">&#x8FD9;&#x4E2A;bug&#x4E0D;&#x5728;0.7. <a class="changeset-link headerlink reference internal" href="#change-08b55ba78d7b3fa1a51925aecafe255b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.9-15"><span class="yiyi-st" id="yiyi-198"><span class="target" id="change-1897da4753826ae9d5eacb9bce3c482f"><strong>[sql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;select&#x4E2D;&#x7684;with_only_columns()&#x65B9;&#x6CD5;&#x5931;&#x8D25;&#xFF0C;&#x5982;&#x679C;&#x901A;&#x8FC7;&#x4E86;selectable&#x7684;&#x8BDD;&#x3002;</span><span class="yiyi-st" id="yiyi-199">&#x4F46;&#x662F;&#xFF0C;FROM&#x884C;&#x4E3A;&#x5728;&#x8FD9;&#x91CC;&#x4ECD;&#x7136;&#x4E0D;&#x6B63;&#x786E;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x60A8;&#x90FD;&#x9700;&#x8981;0.7&#x6765;&#x4F7F;&#x7528;&#x8BE5;&#x7528;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1897da4753826ae9d5eacb9bce3c482f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-200">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2270">&#xFF03;2270</a></span></p></li></ul></div><div class="section" id="change-0.6.9-schema"><h3><span class="yiyi-st" id="yiyi-201">&#x67B6;&#x6784;<a class="headerlink" href="#change-0.6.9-schema" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.9-16"><span class="yiyi-st" id="yiyi-202"><span class="target" id="change-0d0176936941374dd977d3cfc229ea75"><strong>[schema] </strong></span>&#x5F53;ForeignKeyConstraint&#x5F15;&#x7528;&#x7236;&#x7EA7;&#x4E2D;&#x672A;&#x627E;&#x5230;&#x7684;&#x5217;&#x540D;&#x79F0;&#x65F6;&#xFF0C;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x6761;&#x4FE1;&#x606F;&#x6027;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0d0176936941374dd977d3cfc229ea75">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6.9-postgresql"><h3><span class="yiyi-st" id="yiyi-203">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.6.9-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.9-17"><span class="yiyi-st" id="yiyi-204"><span class="target" id="change-525baeb589c68e1d82ba3a075efda6a4"><strong>[postgresql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x4E0E;PG9&#x4E2D;&#x76F8;&#x540C;&#x7684;&#x4FEE;&#x6539;&#x7D22;&#x5F15;&#x884C;&#x4E3A;&#x5F71;&#x54CD;&#x91CD;&#x547D;&#x540D;&#x5217;&#x4E0A;&#x7684;&#x4E3B;&#x952E;&#x53CD;&#x5C04;&#x7684;bug&#x3002;<a class="changeset-link headerlink reference internal" href="#change-525baeb589c68e1d82ba3a075efda6a4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-205">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2291">&#xFF03;2291</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2141">&#xFF03;2141</a></span></p></li></ul></div><div class="section" id="change-0.6.9-mysql"><h3><span class="yiyi-st" id="yiyi-206">MySQL&#x7684;<a class="headerlink" href="#change-0.6.9-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.9-18"><span class="yiyi-st" id="yiyi-207"><span class="target" id="change-0698928580db2e78fa0bf2b5d0fb757a"><strong>[mysql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;OurSQL&#x65B9;&#x8A00;&#x4F7F;&#x7528;ANSI&#x4E2D;&#x6027;&#x5F15;&#x7528;&#x7B26;&#x53F7;&#x201C;&apos;&#x201D;&#x4F5C;&#x4E3A;XA&#x547D;&#x4EE4;&#x800C;&#x4E0D;&#x662F;&apos;&#x201C;&apos;&#x3002;</span><span class="yiyi-st" id="yiyi-208"><a class="changeset-link headerlink reference internal" href="#change-0698928580db2e78fa0bf2b5d0fb757a">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-209">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2186">&#xFF03;2186</a></span></p></li><li><p id="change-0.6.9-19"><span class="yiyi-st" id="yiyi-210"><span class="target" id="change-893dc29708dfe84565bb6b59ebc5d116"><strong>[mysql] </strong></span> CREATE TABLE&#x4F1A;&#x5C06;COLLATE&#x9009;&#x9879;&#x653E;&#x5728;CHARSET&#x4E4B;&#x540E;&#xFF0C;&#x8FD9;&#x770B;&#x8D77;&#x6765;&#x662F;MySQL&#x7684;&#x4EFB;&#x610F;&#x89C4;&#x5219;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5173;&#x4E8E;&#x5B83;&#x662F;&#x5426;&#x4F1A;&#x771F;&#x6B63;&#x8D77;&#x4F5C;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-893dc29708dfe84565bb6b59ebc5d116">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-211">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2225">&#xFF03;2225</a></span></p></li></ul></div><div class="section" id="change-0.6.9-mssql"><h3><span class="yiyi-st" id="yiyi-212">MSSQL <a class="headerlink" href="#change-0.6.9-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.9-20"><span class="yiyi-st" id="yiyi-213"><span class="target" id="change-2ca5517878da9a4646159611f7fadfd5"><strong>[mssql] [bug] </strong></span>&#x5728;&#x68C0;&#x7D22;&#x7D22;&#x5F15;&#x540D;&#x79F0;&#x5217;&#x8868;&#x548C;&#x7D22;&#x5F15;&#x5185;&#x7684;&#x5217;&#x540D;&#x79F0;&#x65F6;&#x89E3;&#x7801;&#x4F20;&#x5165;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2ca5517878da9a4646159611f7fadfd5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-214">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2269">&#xFF03;2269</a></span></p></li></ul></div><div class="section" id="change-0.6.9-oracle"><h3><span class="yiyi-st" id="yiyi-215">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.6.9-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.9-21"><span class="yiyi-st" id="yiyi-216"><span class="target" id="change-a0976892727bd6ce76216c086a0e73cf"><strong>[oracle] </strong></span>&#x6DFB;&#x52A0;ORA-00028&#x65AD;&#x5F00;&#x4EE3;&#x7801;&#xFF0C;&#x4F7F;&#x7528;cx_oracle _Error.code&#x83B7;&#x53D6;&#x4EE3;&#x7801;&#xFF0C;<a class="changeset-link headerlink reference internal" href="#change-a0976892727bd6ce76216c086a0e73cf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-217">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2200">&#xFF03;2200</a></span></p></li><li><p id="change-0.6.9-22"><span class="yiyi-st" id="yiyi-218"><span class="target" id="change-c9c4f1305df1aa628e2d4f756511f177"><strong>[oracle] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x6CA1;&#x6709;&#x751F;&#x6210;&#x6B63;&#x786E;DDL&#x7684;oracle.RAW&#x7C7B;&#x578B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c9c4f1305df1aa628e2d4f756511f177">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-219">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2220">&#xFF03;2220</a></span></p></li><li><p id="change-0.6.9-23"><span class="yiyi-st" id="yiyi-220"><span class="target" id="change-eda1d903a91584d2894e843edeb325ce"><strong>[oracle] </strong></span>&#x5C06;CURRENT&#x6DFB;&#x52A0;&#x5230;&#x4FDD;&#x7559;&#x5B57;&#x5217;&#x8868;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-eda1d903a91584d2894e843edeb325ce">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-221">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2212">&#xFF03;2212</a></span></p></li></ul></div><div class="section" id="change-0.6.9-misc"><h3><span class="yiyi-st" id="yiyi-222">&#x6742;&#x9879;<a class="headerlink" href="#change-0.6.9-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.9-24"><span class="yiyi-st" id="yiyi-223"><span class="target" id="change-876cb8fb1ac9a1ba6772001f2b81829e"><strong>[examples] </strong></span>&#x8C03;&#x6574;&#x4E86;dictlike-polymorphic.py&#x793A;&#x4F8B;&#x4EE5;&#x5E94;&#x7528;CAST&#xFF0C;&#x4F7F;&#x5176;&#x53EF;&#x4EE5;&#x5728;PG&#xFF0C;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5E93;&#x4E0A;&#x5DE5;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-876cb8fb1ac9a1ba6772001f2b81829e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-224">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2266">&#xFF03;2266</a></span></p></li></ul></div></div><div class="section" id="change-0.6.8"><h2><span class="yiyi-st" id="yiyi-226">0.6.8 <a class="headerlink" href="#change-0.6.8" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-275">&#x53D1;&#x5E03;&#xFF1A;2011&#x5E74;6&#x6708;15&#x65E5;</span><div class="section" id="change-0.6.8-orm"><h3><span class="yiyi-st" id="yiyi-227">ORM <a class="headerlink" href="#change-0.6.8-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.8-0"><span class="yiyi-st" id="yiyi-228"><span class="target" id="change-5211656e5b9bab3746a031467f734f52"><strong>[orm] </strong></span>&#x9488;&#x5BF9;&#x57FA;&#x4E8E;&#x5217;&#x7684;&#x5B9E;&#x4F53;&#x8C03;&#x7528;query.get()&#x662F;&#x65E0;&#x6548;&#x7684;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x73B0;&#x5728;&#x5F15;&#x53D1;&#x4E86;&#x5F03;&#x7528;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5211656e5b9bab3746a031467f734f52">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-229">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2144">&#xFF03;2144</a></span></p></li><li><p id="change-0.6.8-1"><span class="yiyi-st" id="yiyi-230"><span class="target" id="change-1bb5eb9cd9ead7741537faf42dbb717a"><strong>[orm] </strong></span>&#x975E;&#x4E3B;&#x6620;&#x5C04;&#x5668;&#x5C06;&#x7EE7;&#x627F;&#x4E3B;&#x6620;&#x5C04;&#x5668;&#x7684;_identity_class&#x3002;</span><span class="yiyi-st" id="yiyi-231">&#x8FD9;&#x6837;&#x4E00;&#x6765;&#xFF0C;&#x9488;&#x5BF9;&#x901A;&#x5E38;&#x5728;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x4E2D;&#x7684;&#x7C7B;&#x5EFA;&#x7ACB;&#x7684;non_primary&#x5C06;&#x751F;&#x6210;&#x4E0E;&#x4E3B;&#x6620;&#x5C04;&#x5668;&#x7684;&#x6807;&#x8BC6;&#x6620;&#x5C04;&#x517C;&#x5BB9;&#x7684;&#x7ED3;&#x679C;<a class="changeset-link headerlink reference internal" href="#change-1bb5eb9cd9ead7741537faf42dbb717a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-232">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2151">&#xFF03;2151</a></span></p></li><li><p id="change-0.6.8-2"><span class="yiyi-st" id="yiyi-233"><span class="target" id="change-d26ba3de23d7c188bace06d868980bdd"><strong>[orm] </strong></span> Backported 0.7&#x7684;&#x8EAB;&#x4EFD;&#x6620;&#x5C04;&#x5B9E;&#x73B0;&#xFF0C;&#x5B83;&#x5728;&#x53BB;&#x9664;&#x65F6;&#x4E0D;&#x4F7F;&#x7528;&#x4E92;&#x65A5;&#x9501;&#x3002;</span><span class="yiyi-st" id="yiyi-234">&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5C3D;&#x7BA1;0.6.7&#x7684;&#x8C03;&#x6574;&#xFF0C;&#x4E00;&#x4E9B;&#x7528;&#x6237;&#x4ECD;&#x7136;&#x9677;&#x5165;&#x50F5;&#x5C40;&#xFF1B;&#x4E0D;&#x4F7F;&#x7528;&#x4E92;&#x65A5;&#x9501;&#x7684;0.7&#x65B9;&#x6CD5;&#x4F3C;&#x4E4E;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x201C;&#x5B57;&#x5178;&#x6539;&#x53D8;&#x5927;&#x5C0F;&#x201D;&#x95EE;&#x9898;&#xFF0C;&#x8FD9;&#x662F;&#x4E92;&#x65A5;&#x4F53;&#x7684;&#x539F;&#x59CB;&#x57FA;&#x7840;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d26ba3de23d7c188bace06d868980bdd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-235">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2148">&#xFF03;2148</a></span></p></li><li><p id="change-0.6.8-3"><span class="yiyi-st" id="yiyi-236"><span class="target" id="change-7a589ce2e13c9008b3def2fd5a90ac23"><strong>[orm] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x9488;&#x5BF9;&#x201C;&#x65E0;&#x6CD5;&#x4E3A;&#x76EE;&#x6807;&#x5217;q&#x6267;&#x884C;syncrule&#x201D;&#x53D1;&#x51FA;&#x7684;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#xFF1B;&#x6620;&#x5C04;&#x5668;&apos;X&apos;&#x4E0D;&#x6620;&#x5C04;&#x6B64;&#x5217;&#x201C;&#x4EE5;&#x5F15;&#x7528;&#x6B63;&#x786E;&#x7684;&#x6620;&#x5C04;&#x5668;&#x3002;</span><span class="yiyi-st" id="yiyi-237"><a class="changeset-link headerlink reference internal" href="#change-7a589ce2e13c9008b3def2fd5a90ac23">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-238">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2163">&#xFF03;2163</a></span></p></li><li><p id="change-0.6.8-4"><span class="yiyi-st" id="yiyi-239"><span class="target" id="change-fa833bfebba673a74e3bda247932e868"><strong>[orm] </strong></span>Fixed bug where determination of &#x201C;self referential&#x201D; relationship would fail with no workaround for joined-inh subclass related to itself, or joined-inh subclass related to a subclass of that with no cols in the sub-sub class in the join condition.<a class="changeset-link headerlink reference internal" href="#change-fa833bfebba673a74e3bda247932e868">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-240">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2149">&#xFF03;2149</a></span></p></li><li><p id="change-0.6.8-5"><span class="yiyi-st" id="yiyi-241"><span class="target" id="change-ffe3e5b094cad44312444477b1d9c3b5"><strong>[orm] </strong></span>mapper() will ignore non-configured foreign keys to unrelated tables when determining inherit condition between parent and child class. </span><span class="yiyi-st" id="yiyi-242">&#x8FD9;&#x76F8;&#x5F53;&#x4E8E;&#x5DF2;&#x7ECF;&#x5E94;&#x7528;&#x4E8E;&#x58F0;&#x660E;&#x7684;&#x884C;&#x4E3A;&#x3002;</span><span class="yiyi-st" id="yiyi-243">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;0.7&#x6709;&#x4E00;&#x4E2A;&#x66F4;&#x5168;&#x9762;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x6539;&#x53D8;&#x4E86;join()&#x672C;&#x8EAB;&#x5982;&#x4F55;&#x786E;&#x5B9A;FK&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ffe3e5b094cad44312444477b1d9c3b5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-244">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2153">&#xFF03;2153</a></span></p></li><li><p id="change-0.6.8-6"><span class="yiyi-st" id="yiyi-245"><span class="target" id="change-e86ab075b7ef34298069ec75797e7bd8"><strong>[orm] </strong></span>Fixed bug whereby mapper mapped to an anonymous alias would fail if logging were used, due to unescaped % sign in the alias name.<a class="changeset-link headerlink reference internal" href="#change-e86ab075b7ef34298069ec75797e7bd8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-246">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2171">&#xFF03;2171</a></span></p></li><li><p id="change-0.6.8-7"><span class="yiyi-st" id="yiyi-247"><span class="target" id="change-90aba29b5bd34a14cf4fa753d35659ee"><strong>[orm] </strong></span>Modify the text of the message which occurs when the &#x201C;identity&#x201D; key isn&#x2019;t detected on flush, to include the common cause that the Column isn&#x2019;t set up to detect auto-increment correctly;.<a class="changeset-link headerlink reference internal" href="#change-90aba29b5bd34a14cf4fa753d35659ee">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-248">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2170">&#xFF03;2170</a></span></p></li><li><p id="change-0.6.8-8"><span class="yiyi-st" id="yiyi-249"><span class="target" id="change-2f30675b878168f0ac612120144c8b76"><strong>[orm] </strong></span>Fixed bug where transaction-level &#x201C;deleted&#x201D; collection wouldn&#x2019;t be cleared of expunged states, raising an error if they later became transient.<a class="changeset-link headerlink reference internal" href="#change-2f30675b878168f0ac612120144c8b76">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-250">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2182">&#xFF03;2182</a></span></p></li></ul></div><div class="section" id="change-0.6.8-engine"><h3><span class="yiyi-st" id="yiyi-251">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.6.8-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.8-9"><span class="yiyi-st" id="yiyi-252"><span class="target" id="change-81e707c0cdab968a06ef47f7b2d2940e"><strong>[engine] </strong></span>Adjusted the __contains__() method of a RowProxy result row such that no exception throw is generated internally; NoSuchColumnError() also will generate its message regardless of whether or not the column construct can be coerced to a string..<a class="changeset-link headerlink reference internal" href="#change-81e707c0cdab968a06ef47f7b2d2940e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-253">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2178">&#xFF03;2178</a></span></p></li></ul></div><div class="section" id="change-0.6.8-sql"><h3><span class="yiyi-st" id="yiyi-254">SQL <a class="headerlink" href="#change-0.6.8-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.8-10"><span class="yiyi-st" id="yiyi-255"><span class="target" id="change-d38c459e931e28a7c7cd6e4a62af4849"><strong>[sql] </strong></span>Fixed bug whereby if FetchedValue was passed to column server_onupdate, it would not have its parent &#x201C;column&#x201D; assigned, added test coverage for all column default assignment patterns.<a class="changeset-link headerlink reference internal" href="#change-d38c459e931e28a7c7cd6e4a62af4849">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-256">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2147">&#xFF03;2147</a></span></p></li><li><p id="change-0.6.8-11"><span class="yiyi-st" id="yiyi-257"><span class="target" id="change-2ae59c579c4c2ced22f234c933eedb03"><strong>[sql] </strong></span>Fixed bug whereby nesting a label of a select() with another label in it would produce incorrect exported columns. </span><span class="yiyi-st" id="yiyi-258">&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x8FD9;&#x4F1A;&#x7834;&#x574F;&#x53E6;&#x4E00;&#x4E2A;column_property()&#x7684;ORM column_property()&#x6620;&#x5C04;&#x3002;</span><span class="yiyi-st" id="yiyi-259"><a class="changeset-link headerlink reference internal" href="#change-2ae59c579c4c2ced22f234c933eedb03">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-260">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2167">&#xFF03;2167</a></span></p></li></ul></div><div class="section" id="change-0.6.8-postgresql"><h3><span class="yiyi-st" id="yiyi-261">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.6.8-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.8-12"><span class="yiyi-st" id="yiyi-262"><span class="target" id="change-d7f16be247c5f9c9413e70ca6d68a835"><strong>[postgresql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5F71;&#x54CD;PG9&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x56E0;&#x6B64;&#x5982;&#x679C;&#x9488;&#x5BF9;&#x540D;&#x79F0;&#x5DF2;&#x66F4;&#x6539;&#x7684;&#x5217;&#xFF0C;&#x7D22;&#x5F15;&#x53CD;&#x5C04;&#x5C06;&#x5931;&#x8D25;&#x3002;</span><span class="yiyi-st" id="yiyi-263"><a class="changeset-link headerlink reference internal" href="#change-d7f16be247c5f9c9413e70ca6d68a835">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-264">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2141">&#xFF03;2141</a></span></p></li><li><p id="change-0.6.8-13"><span class="yiyi-st" id="yiyi-265"><span class="target" id="change-5fb3b20bf3b31a34fb78d3340bf1dcd1"><strong>[postgresql] </strong></span>&#x6709;&#x5173;&#x6570;&#x503C;&#x6570;&#x7EC4;MATCH&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x4E00;&#x4E9B;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x4FEE;&#x6B63;&#x3002;</span><span class="yiyi-st" id="yiyi-266">&#x4E00;&#x4E2A;&#x6F5C;&#x5728;&#x7684;&#x6D6E;&#x70B9;&#x4E0D;&#x51C6;&#x786E;&#x95EE;&#x9898;&#x5DF2;&#x7ECF;&#x4FEE;&#x590D;&#xFF0C;MATCH&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x67D0;&#x4E9B;&#x6D4B;&#x8BD5;&#x76EE;&#x524D;&#x53EA;&#x80FD;&#x5728;&#x9762;&#x5411;EN&#x7684;&#x8BED;&#x8A00;&#x73AF;&#x5883;&#x4E2D;&#x6267;&#x884C;&#x3002;</span><span class="yiyi-st" id="yiyi-267"><a class="changeset-link headerlink reference internal" href="#change-5fb3b20bf3b31a34fb78d3340bf1dcd1">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-268">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2175">&#xFF03;2175</a></span></p></li></ul></div><div class="section" id="change-0.6.8-mssql"><h3><span class="yiyi-st" id="yiyi-269">MSSQL <a class="headerlink" href="#change-0.6.8-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.8-14"><span class="yiyi-st" id="yiyi-270"><span class="target" id="change-c07b8fa79245c2fb7647120e9fe7d228"><strong>[mssql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;MSSQL&#x65B9;&#x8A00;&#x4E2D;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x56E0;&#x6B64;&#x5E94;&#x7528;&#x4E8E;&#x6A21;&#x5F0F;&#x9650;&#x5B9A;&#x8868;&#x7684;&#x522B;&#x540D;&#x4F1A;&#x6CC4;&#x6F0F;&#x5230;&#x5C01;&#x95ED;&#x7684;select&#x8BED;&#x53E5;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c07b8fa79245c2fb7647120e9fe7d228">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-271">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2169">&#xFF03;2169</a></span></p></li><li><p id="change-0.6.8-15"><span class="yiyi-st" id="yiyi-272"><span class="target" id="change-6e28260bf17c92850ac3773eda0fe105"><strong>[mssql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5728;&#x7ED3;&#x679C;&#x96C6;&#x6216;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x4E2D;&#x4F7F;&#x7528;DATETIME2&#x7C7B;&#x578B;&#x5728;&#x201C;&#x9002;&#x5E94;&#x201D;&#x6B65;&#x9AA4;&#x4E2D;&#x5931;&#x8D25;&#x7684;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-273">&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4E0D;&#x5728;0.7&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6e28260bf17c92850ac3773eda0fe105">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-274">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2159">&#xFF03;2159</a></span></p></li></ul></div></div><div class="section" id="change-0.6.7"><h2><span class="yiyi-st" id="yiyi-276">0.6.7 <a class="headerlink" href="#change-0.6.7" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-361">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2011&#x5E74;4&#x6708;13&#x65E5;</span><div class="section" id="change-0.6.7-orm"><h3><span class="yiyi-st" id="yiyi-277">ORM <a class="headerlink" href="#change-0.6.7-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.7-0"><span class="yiyi-st" id="yiyi-278"><span class="target" id="change-eed859bebcbe8988e1d4cc3b30ebc835"><strong>[orm] </strong></span>&#x6536;&#x7D27;&#x8FED;&#x4EE3;&#x4E0E;&#x56F4;&#x7ED5;&#x8EAB;&#x4EFD;&#x6620;&#x5C04;&#x8FED;&#x4EE3;&#x5220;&#x9664;&#x4E92;&#x65A5;&#x4F53;&#xFF0C;&#x8BD5;&#x56FE;&#x51CF;&#x5C11;&#x5BFC;&#x81F4;&#x6B7B;&#x9501;&#x7684;&#xFF08;&#x975E;&#x5E38;&#x7F55;&#x89C1;&#x7684;&#xFF09;&#x53EF;&#x91CD;&#x5165;gc&#x64CD;&#x4F5C;&#x7684;&#x673A;&#x4F1A;&#x3002;</span><span class="yiyi-st" id="yiyi-279">&#x53EF;&#x4EE5;&#x5728;0.7&#x4E2D;&#x5220;&#x9664;&#x4E92;&#x65A5;&#x9501;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-eed859bebcbe8988e1d4cc3b30ebc835">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-280">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2087">&#xFF03;2087</a></span></p></li><li><p id="change-0.6.7-1"><span class="yiyi-st" id="yiyi-281"><span class="target" id="change-857bb51b7ea179692c74f9266bdba26d"><strong>[orm] </strong></span>&#x4E3A;<cite>Query.subquery()</cite>&#x6DFB;&#x52A0;&#x4E86;<cite>name</cite>&#x53C2;&#x6570;&#xFF0C;&#x4EE5;&#x5141;&#x8BB8;&#x5C06;&#x56FA;&#x5B9A;&#x540D;&#x79F0;&#x5206;&#x914D;&#x7ED9;&#x522B;&#x540D;&#x5BF9;&#x8C61;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-857bb51b7ea179692c74f9266bdba26d">&#xB6; T4&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-282">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2030">&#xFF03;2030</a></span></p></li><li><p id="change-0.6.7-2"><span class="yiyi-st" id="yiyi-283"><span class="target" id="change-4363d0760126c3a958074eb1490c4919"><strong>[orm] </strong></span>&#x5F53;&#x8FDE;&#x63A5;&#x8868;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668;&#x5728;&#x672C;&#x5730;&#x6620;&#x5C04;&#x8868;&#x4E0A;&#x6CA1;&#x6709;&#x4E3B;&#x952E;&#x65F6;&#xFF08;&#x4F46;&#x5728;&#x8D85;&#x7C7B;&#x8868;&#x4E0A;&#x6709;pks&#xFF09;&#x65F6;&#xFF0C;&#x4F1A;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4363d0760126c3a958074eb1490c4919">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-284">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2019">&#xFF03;2019</a></span></p></li><li><p id="change-0.6.7-3"><span class="yiyi-st" id="yiyi-285"><span class="target" id="change-b9b208bc91c2102e8f0fd7911db16925"><strong>[orm] </strong></span>Fixed bug where &#x201C;middle&#x201D; class in a polymorphic hierarchy would have no &#x2018;polymorphic_on&#x2019; column if it didn&#x2019;t also specify a &#x2018;polymorphic_identity&#x2019;, leading to strange errors upon refresh, wrong class loaded when querying from that target. </span><span class="yiyi-st" id="yiyi-286">&#x5728;&#x4F7F;&#x7528;&#x5355;&#x4E2A;&#x8868;&#x7EE7;&#x627F;&#x65F6;&#x4E5F;&#x4F1A;&#x53D1;&#x51FA;&#x6B63;&#x786E;&#x7684;WHERE&#x6807;&#x51C6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b9b208bc91c2102e8f0fd7911db16925">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-287">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2038">&#xFF03;2038</a></span></p></li><li><p id="change-0.6.7-4"><span class="yiyi-st" id="yiyi-288"><span class="target" id="change-a2fb7de3c9754e79e857eab068d7e269"><strong>[orm] </strong></span>Fixed bug where a column with a SQL or server side default that was excluded from a mapping with include_properties or exclude_properties would result in UnmappedColumnError.<a class="changeset-link headerlink reference internal" href="#change-a2fb7de3c9754e79e857eab068d7e269">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-289">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1995">&#xFF03;1995</a></span></p></li><li><p id="change-0.6.7-5"><span class="yiyi-st" id="yiyi-290"><span class="target" id="change-2c07178fa8d7673418fa3709242f8faf"><strong>[orm] </strong></span>&#x5728;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x53D1;&#x751F;&#x8B66;&#x544A;&#xFF0C;&#x5373;&#x5728;&#x53D6;&#x6D88;&#x5F15;&#x7528;&#x7236;&#x5BF9;&#x8C61;&#x540E;&#x53D1;&#x751F;&#x96C6;&#x5408;&#x4E0A;&#x7684;&#x9644;&#x52A0;&#x4E8B;&#x4EF6;&#x6216;&#x7C7B;&#x4F3C;&#x4E8B;&#x4EF6;&#xFF0C;&#x8FD9;&#x4F1A;&#x963B;&#x6B62;&#x7236;&#x4F1A;&#x8BDD;&#x5728;&#x4F1A;&#x8BDD;&#x4E2D;&#x88AB;&#x6807;&#x8BB0;&#x4E3A;&#x201C;&#x810F;&#x201D; &#x3002;</span><span class="yiyi-st" id="yiyi-291">&#x8FD9;&#x5728;0.7&#x4E2D;&#x662F;&#x4E2A;&#x4F8B;&#x5916;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2c07178fa8d7673418fa3709242f8faf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-292">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2046">&#xFF03;2046</a></span></p></li><li><p id="change-0.6.7-6"><span class="yiyi-st" id="yiyi-293"><span class="target" id="change-59c721c9c15d94a562e9083c84012937"><strong>[orm] </strong></span>Fixed bug in query.options() whereby a path applied to a lazyload using string keys could overlap a same named attribute on the wrong entity. </span><span class="yiyi-st" id="yiyi-294">&#x6CE8;0.7&#x5177;&#x6709;&#x6B64;&#x4FEE;&#x6B63;&#x7684;&#x66F4;&#x65B0;&#x7248;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-59c721c9c15d94a562e9083c84012937">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-295">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2098">&#xFF03;2098</a></span></p></li><li><p id="change-0.6.7-7"><span class="yiyi-st" id="yiyi-296"><span class="target" id="change-5e7605de1fa0c84b6669ddade822cb51"><strong>[orm] </strong></span>&#x91CD;&#x5199;&#x4E86;&#x5728;&#x5C1D;&#x8BD5;&#x5237;&#x65B0;&#x975E;&#x8D85;&#x7C7B;&#x578B;&#x7684;&#x5B50;&#x7C7B;&#x65F6;&#x53D1;&#x751F;&#x7684;&#x5F02;&#x5E38;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5e7605de1fa0c84b6669ddade822cb51">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-297">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2063">&#xFF03;2063</a></span></p></li><li><p id="change-0.6.7-8"><span class="yiyi-st" id="yiyi-298"><span class="target" id="change-8d18a5abb18ac58c0bfa0091638be48f"><strong>[orm] </strong></span>Some fixes to the state handling regarding backrefs, typically when autoflush=False, where the back-referenced collection wouldn&#x2019;t properly handle add/removes with no net change. </span><span class="yiyi-st" id="yiyi-299">&#x611F;&#x8C22;Richard Murri&#x63D0;&#x4F9B;&#x7684;&#x6D4B;&#x8BD5;&#x6848;&#x4F8B;+&#x8865;&#x4E01;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8d18a5abb18ac58c0bfa0091638be48f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-300">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2123">&#xFF03;2123</a></span></p></li><li><p id="change-0.6.7-9"><span class="yiyi-st" id="yiyi-301"><span class="target" id="change-060dd78afd33881d181eec9588947add"><strong>[orm] </strong></span>&#x5982;&#x679C;&#x4F7F;&#x7528;from_self()&#xFF0C;&#x90A3;&#x4E48;&#x201C;having&#x201D;&#x5B50;&#x53E5;&#x5C06;&#x4ECE;&#x5185;&#x90E8;&#x590D;&#x5236;&#x5230;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-060dd78afd33881d181eec9588947add">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-302">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2130">&#xFF03;2130</a></span></p></li></ul></div><div class="section" id="change-0.6.7-engine"><h3><span class="yiyi-st" id="yiyi-303">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.6.7-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.7-10"><span class="yiyi-st" id="yiyi-304"><span class="target" id="change-47dcc1090d3314545b6a9690f9d74116"><strong>[engine] </strong></span>Fixed bug in QueuePool, SingletonThreadPool whereby connections that were discarded via overflow or periodic cleanup() were not explicitly closed, leaving garbage collection to the task instead. </span><span class="yiyi-st" id="yiyi-305">&#x8FD9;&#x901A;&#x5E38;&#x53EA;&#x5F71;&#x54CD;&#x50CF;Jython&#x548C;Pypy&#x8FD9;&#x6837;&#x7684;&#x975E;&#x5F15;&#x7528;&#x8BA1;&#x6570;&#x540E;&#x7AEF;&#x3002;</span><span class="yiyi-st" id="yiyi-306">&#x611F;&#x8C22;Jaimy Azle&#x53D1;&#x73B0;&#x8FD9;&#x4E00;&#x70B9;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-47dcc1090d3314545b6a9690f9d74116">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-307">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2102">&#xFF03;2102</a></span></p></li></ul></div><div class="section" id="change-0.6.7-sql"><h3><span class="yiyi-st" id="yiyi-308">SQL <a class="headerlink" href="#change-0.6.7-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.7-11"><span class="yiyi-st" id="yiyi-309"><span class="target" id="change-a275b5bc06266dc2cdf5221ac4efa4ae"><strong>[sql] </strong></span>Column.copy(), as used in table.tometadata(), copies the &#x2018;doc&#x2019; attribute.<a class="changeset-link headerlink reference internal" href="#change-a275b5bc06266dc2cdf5221ac4efa4ae">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-310">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2028">&#xFF03;2028</a></span></p></li><li><p id="change-0.6.7-12"><span class="yiyi-st" id="yiyi-311"><span class="target" id="change-ad5304b19826c1a70051cdf7b77c35bc"><strong>[sql] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;resultproxy.c&#x6269;&#x5C55;&#x7684;&#x4E00;&#x4E9B;&#x5B9A;&#x4E49;&#xFF0C;&#x4EE5;&#x4FBF;&#x6269;&#x5C55;&#x7F16;&#x8BD1;&#x5E76;&#x5728;Python 2.4&#x4E0A;&#x8FD0;&#x884C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ad5304b19826c1a70051cdf7b77c35bc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-312">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2023">&#xFF03;2023</a></span></p></li><li><p id="change-0.6.7-13"><span class="yiyi-st" id="yiyi-313"><span class="target" id="change-5a0bb2e6701ec13c1651c09ef85839e5"><strong>[sql] </strong></span>The compiler extension now supports overriding the default compilation of expression._BindParamClause including that the auto-generated binds within the VALUES/SET clause of an insert()/update() statement will also use the new compilation rules.<a class="changeset-link headerlink reference internal" href="#change-5a0bb2e6701ec13c1651c09ef85839e5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-314">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2042">&#xFF03;2042</a></span></p></li><li><p id="change-0.6.7-14"><span class="yiyi-st" id="yiyi-315"><span class="target" id="change-cd2a42bedeaff3d6db0e9583c7366c01"><strong>[sql] </strong></span>&#x4E3A;ResultProxy&#x6DFB;&#x52A0;&#x8BBF;&#x95EE;&#x5668;&#x201C;returns_rows&#x201D;&#xFF0C;&#x201C;is_insert&#x201D;<a class="changeset-link headerlink reference internal" href="#change-cd2a42bedeaff3d6db0e9583c7366c01">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-316">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2089">&#xFF03;2089</a></span></p></li><li><p id="change-0.6.7-15"><span class="yiyi-st" id="yiyi-317"><span class="target" id="change-2f014c320217753b2e7338e74b17e074"><strong>[sql] </strong></span> select()&#x7684;limit / offset&#x5173;&#x952E;&#x5B57;&#x4EE5;&#x53CA;&#x4F20;&#x9012;&#x7ED9;select.limit()/ offset()&#x7684;&#x503C;&#x5C06;&#x5F3A;&#x5236;&#x4E3A;&#x6574;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2f014c320217753b2e7338e74b17e074">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-318">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2116">&#xFF03;2116</a></span></p></li></ul></div><div class="section" id="change-0.6.7-postgresql"><h3><span class="yiyi-st" id="yiyi-319">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.6.7-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.7-16"><span class="yiyi-st" id="yiyi-320"><span class="target" id="change-ab73a9ae528ee69666fab4ec822db451"><strong>[postgresql] </strong></span>When explicit sequence execution derives the name of the auto-generated sequence of a SERIAL column, which currently only occurs if implicit_returning=False, now accommodates if the table + column name is greater than 63 characters using the same logic Postgresql uses.<a class="changeset-link headerlink reference internal" href="#change-ab73a9ae528ee69666fab4ec822db451">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-321">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1083">&#xFF03;1083</a></span></p></li><li><p id="change-0.6.7-17"><span class="yiyi-st" id="yiyi-322"><span class="target" id="change-0d9b1d5d5cbdcb0ca647c9b409c42200"><strong>[postgresql] </strong></span>&#x5728;&#x201C;disconnect&#x201D;&#x5F02;&#x5E38;&#x5217;&#x8868;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x989D;&#x5916;&#x7684;libpq&#x6D88;&#x606F;&#xFF0C;&#x201C;&#x65E0;&#x6CD5;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x63A5;&#x6536;&#x6570;&#x636E;&#x201D;<a class="changeset-link headerlink reference internal" href="#change-0d9b1d5d5cbdcb0ca647c9b409c42200">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-323">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2044">&#xFF03;2044</a></span></p></li><li><p id="change-0.6.7-18"><span class="yiyi-st" id="yiyi-324"><span class="target" id="change-934e48213c937d20f95930337f7e57e9"><strong>[postgresql] </strong></span>&#x4E3A;postgresql&#x65B9;&#x8A00;&#x589E;&#x52A0;&#x4E86;RESERVED_WORDS&#x3002;<a class="changeset-link headerlink reference internal" href="#change-934e48213c937d20f95930337f7e57e9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-325">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2092">&#xFF03;2092</a></span></p></li><li><p id="change-0.6.7-19"><span class="yiyi-st" id="yiyi-326"><span class="target" id="change-9afcfc7fa95e4d1c05cc91e90f14074b"><strong>[postgresql] </strong></span>&#x56FA;&#x5B9A;BIT&#x7C7B;&#x578B;&#x4EE5;&#x5141;&#x8BB8;&#x201C;&#x957F;&#x5EA6;&#x201D;&#x53C2;&#x6570;&#xFF0C;&#x201C;&#x53D8;&#x5316;&#x201D;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-327">&#x53CD;&#x5C04;&#x4E5F;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9afcfc7fa95e4d1c05cc91e90f14074b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-328">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2073">&#xFF03;2073</a></span></p></li></ul></div><div class="section" id="change-0.6.7-mysql"><h3><span class="yiyi-st" id="yiyi-329">MySQL&#x7684;<a class="headerlink" href="#change-0.6.7-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.7-20"><span class="yiyi-st" id="yiyi-330"><span class="target" id="change-694da80c3029deb8ea396e5708b75604"><strong>[mysql] </strong></span>oursql dialect accepts the same &#x201C;ssl&#x201D; arguments in create_engine() as that of MySQLdb.<a class="changeset-link headerlink reference internal" href="#change-694da80c3029deb8ea396e5708b75604">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-331">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2047">&#xFF03;2047</a></span></p></li></ul></div><div class="section" id="change-0.6.7-sqlite"><h3><span class="yiyi-st" id="yiyi-332">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.6.7-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.7-21"><span class="yiyi-st" id="yiyi-333"><span class="target" id="change-ed6a6e71dbdafae0b4f6e0831116d94f"><strong>[sqlite] </strong></span>Fixed bug where reflection of foreign key created as &#x201C;REFERENCES <tablename>&#x201D; without col name would fail.<a class="changeset-link headerlink reference internal" href="#change-ed6a6e71dbdafae0b4f6e0831116d94f">&#xB6;</a></tablename></span></p><p><span class="yiyi-st" id="yiyi-334">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2115">&#xFF03;2115</a></span></p></li></ul></div><div class="section" id="change-0.6.7-mssql"><h3><span class="yiyi-st" id="yiyi-335">MSSQL <a class="headerlink" href="#change-0.6.7-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.7-22"><span class="yiyi-st" id="yiyi-336"><span class="target" id="change-abb1e8cdc1c90914b2196c74eeb32842"><strong>[mssql] </strong></span>Rewrote the query used to get the definition of a view, typically when using the Inspector interface, to use sys.sql_modules instead of the information schema, thereby allowing views definitions longer than 4000 characters to be fully returned.<a class="changeset-link headerlink reference internal" href="#change-abb1e8cdc1c90914b2196c74eeb32842">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-337">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2071">&#xFF03;2071</a></span></p></li></ul></div><div class="section" id="change-0.6.7-oracle"><h3><span class="yiyi-st" id="yiyi-338">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.6.7-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.7-23"><span class="yiyi-st" id="yiyi-339"><span class="target" id="change-52cfc9b390aeab5dad8108be21fb6c91"><strong>[oracle] </strong></span>Using column names that would require quotes for the column itself or for a name-generated bind parameter, such as names with special characters, underscores, non-ascii characters, now properly translate bind parameter keys when talking to cx_oracle.<a class="changeset-link headerlink reference internal" href="#change-52cfc9b390aeab5dad8108be21fb6c91">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-340">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2100">&#xFF03;2100</a></span></p></li><li><p id="change-0.6.7-24"><span class="yiyi-st" id="yiyi-341"><span class="target" id="change-a0b34ccb9b1535f2c510607844e32242"><strong>[oracle] </strong></span>Oracle dialect adds use_binds_for_limits=False create_engine() flag, will render the LIMIT/OFFSET values inline instead of as binds, reported to modify the execution plan used by Oracle.<a class="changeset-link headerlink reference internal" href="#change-a0b34ccb9b1535f2c510607844e32242">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-342">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2116">&#xFF03;2116</a></span></p></li></ul></div><div class="section" id="change-0.6.7-firebird"><h3><span class="yiyi-st" id="yiyi-343">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.6.7-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.7-25"><span class="yiyi-st" id="yiyi-344"><span class="target" id="change-c7435c028a162f66ad2348bf1b312568"><strong>[firebird] </strong></span>&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;False&#xFF0C;create_engine()&#x4E0A;&#x7684;&#x201C;implicit_returning&#x201D;&#x6807;&#x5FD7;&#x5C06;&#x88AB;&#x9075;&#x5B88;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c7435c028a162f66ad2348bf1b312568">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-345">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2083">&#xFF03;2083</a></span></p></li></ul></div><div class="section" id="change-0.6.7-misc"><h3><span class="yiyi-st" id="yiyi-346">&#x6742;&#x9879;<a class="headerlink" href="#change-0.6.7-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.7-26"><span class="yiyi-st" id="yiyi-347"><span class="target" id="change-a13940d4af6ee75c1a62ada363719185"><strong>[informix] </strong></span>&#x65B0;&#x589E;RESERVED_WORDS informix&#x65B9;&#x8A00;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a13940d4af6ee75c1a62ada363719185">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-348">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2092">&#xFF03;2092</a></span></p></li><li><p id="change-0.6.7-27"><span class="yiyi-st" id="yiyi-349"><span class="target" id="change-1f8f8c315ffd15103961e7340c643cf5"><strong>[ext] </strong></span> horizo&#x200B;&#x200B;ntal_shard ShardedSession&#x7C7B;&#x63A5;&#x53D7;&#x901A;&#x7528;&#x4F1A;&#x8BDD;&#x53C2;&#x6570;&#x201C;query_cls&#x201D;&#x4F5C;&#x4E3A;&#x6784;&#x9020;&#x51FD;&#x6570;&#x53C2;&#x6570;&#xFF0C;&#x4EE5;&#x542F;&#x7528;ShardedQuery&#x7684;&#x8FDB;&#x4E00;&#x6B65;&#x5B50;&#x7C7B;&#x5316;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1f8f8c315ffd15103961e7340c643cf5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-350">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2090">&#xFF03;2090</a></span></p></li><li><p id="change-0.6.7-28"><span class="yiyi-st" id="yiyi-351"><span class="target" id="change-d38e96868aa208c878f6a399209baa56"><strong>[declarative] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;&#x540D;&#x79F0;&apos;metadata&apos;&#x7528;&#x4E8E;&#x58F0;&#x660E;&#x7C7B;&#x7684;&#x5217;&#x5C5E;&#x6027;&#x7684;&#x660E;&#x786E;&#x68C0;&#x67E5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d38e96868aa208c878f6a399209baa56">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-352">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2050">&#xFF03;2050</a></span></p></li><li><p id="change-0.6.7-29"><span class="yiyi-st" id="yiyi-353"><span class="target" id="change-04df06651398c4cc53b0100d0d7392f7"><strong>[declarative] </strong></span>&#x4FEE;&#x590D;&#x5F15;&#x7528;&#x65E7;@classproperty&#x540D;&#x79F0;&#x5F15;&#x7528;@declared_attr <a class="changeset-link headerlink reference internal" href="#change-04df06651398c4cc53b0100d0d7392f7">&#xB6;</a>&#x7684;&#x9519;&#x8BEF;&#x6D88;&#x606F;</span></p><p><span class="yiyi-st" id="yiyi-354">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2061">&#xFF03;2061</a></span></p></li><li><p id="change-0.6.7-30"><span class="yiyi-st" id="yiyi-355"><span class="target" id="change-5a35bc6fcdaed2657acdf3a146f57944"><strong>[declarative] </strong></span> __mapper_args__&#x4E2D;&#x4E0D;&#x662F;&#x201C;&#x53EF;&#x6392;&#x5E8F;&#x201D;&#x7684;&#x53C2;&#x6570;&#x4E0D;&#x4F1A;&#x88AB;&#x8BEF;&#x8BA4;&#x4E3A;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x54C8;&#x5E0C;&#x7684;&#x53EF;&#x80FD;&#x5217;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5a35bc6fcdaed2657acdf3a146f57944">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-356">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2091">&#xFF03;2091</a></span></p></li><li><p id="change-0.6.7-31"><span class="yiyi-st" id="yiyi-357"><span class="target" id="change-4d5a071f11cdecd01c76f3e46df9a46b"><strong>[documentation] </strong></span>&#x8BB0;&#x5F55;&#x7684;SQLite DATE / TIME / DATETIME&#x7C7B;&#x578B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4d5a071f11cdecd01c76f3e46df9a46b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-358">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2029">&#xFF03;2029</a></span></p></li><li><p id="change-0.6.7-32"><span class="yiyi-st" id="yiyi-359"><span class="target" id="change-6ad83653aed5df61bea17b14bda619f6"><strong>[examples] </strong></span>&#x70E7;&#x676F;&#x7F13;&#x5B58;&#x793A;&#x4F8B;&#x5141;&#x8BB8;query_callable()&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x201C;query_cls&#x201D;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6ad83653aed5df61bea17b14bda619f6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-360">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2090">&#xFF03;2090</a></span></p></li></ul></div></div><div class="section" id="change-0.6.6"><h2><span class="yiyi-st" id="yiyi-362">0.6.6 <a class="headerlink" href="#change-0.6.6" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-455">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2011&#x5E74;1&#x6708;8&#x65E5;</span><div class="section" id="change-0.6.6-orm"><h3><span class="yiyi-st" id="yiyi-363">ORM <a class="headerlink" href="#change-0.6.6-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.6-0"><span class="yiyi-st" id="yiyi-364"><span class="target" id="change-73d44895e2706b7e163324b206400f33"><strong>[orm] </strong></span>Fixed bug whereby a non-&#x201C;mutable&#x201D; attribute modified event which occurred on an object that was clean except for preceding mutable attribute changes would fail to strongly reference itself in the identity map. </span><span class="yiyi-st" id="yiyi-365">&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x5BF9;&#x8C61;&#x88AB;&#x5783;&#x573E;&#x6536;&#x96C6;&#xFF0C;&#x5931;&#x53BB;&#x4E86;&#x4EE5;&#x524D;&#x672A;&#x4FDD;&#x5B58;&#x5728;&#x201C;&#x53EF;&#x53D8;&#x66F4;&#x6539;&#x201D;&#x5B57;&#x5178;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x66F4;&#x6539;&#x7684;&#x8DDF;&#x8E2A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-73d44895e2706b7e163324b206400f33">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.6-1"><span class="yiyi-st" id="yiyi-366"><span class="target" id="change-cc7c109cd2e5f972d7c361a19e549015"><strong>[orm] </strong></span>Fixed bug whereby &#x201C;passive_deletes=&#x2019;all&#x2019;&#x201D; wasn&#x2019;t passing the correct symbols to lazy loaders during flush, thereby causing an unwarranted load.<a class="changeset-link headerlink reference internal" href="#change-cc7c109cd2e5f972d7c361a19e549015">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-367">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2013">&#xFF03;2013</a></span></p></li><li><p id="change-0.6.6-2"><span class="yiyi-st" id="yiyi-368"><span class="target" id="change-a06e3ac0ceb000a16fd9ccd8151858a9"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x963B;&#x6B62;&#x5728;&#x6620;&#x5C04;&#x7684;select&#x8BED;&#x53E5;&#x4E0A;&#x4F7F;&#x7528;&#x590D;&#x5408;&#x6620;&#x5C04;&#x5C5E;&#x6027;&#x7684;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-369">&#x6CE8;&#x610F;&#x590D;&#x5408;&#x6750;&#x6599;&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x5C06;&#x5728;0.7&#x4E0B;&#x663E;&#x7740;&#x6539;&#x53D8;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a06e3ac0ceb000a16fd9ccd8151858a9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-370">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1997">&#xFF03;1997</a></span></p></li><li><p id="change-0.6.6-3"><span class="yiyi-st" id="yiyi-371"><span class="target" id="change-78f279b93ff41fe6f4e382ab7a39d1dc"><strong>[orm] </strong></span> active_history&#x6807;&#x5FD7;&#x4E5F;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x4E86;composite()&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-372">&#x8BE5;&#x6807;&#x5FD7;&#x5728;0.6&#x4E2D;&#x6CA1;&#x6709;&#x6548;&#x679C;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x5411;&#x524D;&#x517C;&#x5BB9;&#x7684;&#x5360;&#x4F4D;&#x7B26;&#x6807;&#x5FD7;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x9002;&#x7528;&#x4E8E;&#x590D;&#x5408;&#x6750;&#x6599;&#x7684;0.7. <a class="changeset-link headerlink reference internal" href="#change-78f279b93ff41fe6f4e382ab7a39d1dc"></a></span></p><p><span class="yiyi-st" id="yiyi-373">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1976">&#xFF03;1976</a></span></p></li><li><p id="change-0.6.6-4"><span class="yiyi-st" id="yiyi-374">&#x4FEE;&#x6B63;&#x4E86;&#x4F20;&#x9012;&#x7ED9;Session.delete()&#x7684;&#x8FC7;&#x671F;&#x5BF9;&#x8C61;&#x5728;&#x5220;&#x9664;&#x5BF9;&#x8C61;&#x65F6;&#x6CA1;&#x6709;&#x8003;&#x8651;&#x5230;&#x5378;&#x8F7D;&#x7684;&#x5F15;&#x7528;&#x6216;&#x96C6;&#x5408;&#x7684;&#x7F3A;&#x9677;&#xFF0C;&#x5C3D;&#x7BA1;passive_deletes&#x4FDD;&#x6301;&#x9ED8;&#x8BA4;&#x7684;False&#x72B6;&#x6001;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e583324a8feefce60c8c25f58fb1489c"><span class="target" id="change-e583324a8feefce60c8c25f58fb1489c"><strong>[orm] </strong></span>  T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-375">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2002">&#xFF03;2002</a></span></p></li><li><p id="change-0.6.6-5"><span class="yiyi-st" id="yiyi-376"><span class="target" id="change-24a0a0f1cefec7af7929abec55c2677d"><strong>[orm] </strong></span>&#x5F53;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668;&#x4E0A;&#x6307;&#x5B9A;version_id_col&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E9B;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x4E0D;&#x76F8;&#x540C;&#xFF0C;&#x5219;&#x4F1A;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-24a0a0f1cefec7af7929abec55c2677d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-377">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1987">&#xFF03;1987</a></span></p></li><li><p id="change-0.6.6-6"><span class="yiyi-st" id="yiyi-378"><span class="target" id="change-950897823db98ee106b0d8ae719faea0"><strong>[orm] </strong></span>&#x201C;innerjoin&#x201D; flag doesn&#x2019;t take effect along the chain of joinedload() joins if a previous join in that chain is an outer join, thus allowing primary rows without a referenced child row to be correctly returned in results.<a class="changeset-link headerlink reference internal" href="#change-950897823db98ee106b0d8ae719faea0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-379">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1954">&#xFF03;1954</a></span></p></li><li><p id="change-0.6.6-7"><span class="yiyi-st" id="yiyi-380"><span class="target" id="change-0a61da9c990ed25523ab57b8e6ff715f"><strong>[orm] </strong></span>Fixed bug regarding &#x201C;subqueryload&#x201D; strategy whereby strategy would fail if the entity was an aliased() construct.<a class="changeset-link headerlink reference internal" href="#change-0a61da9c990ed25523ab57b8e6ff715f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-381">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1964">&#xFF03;1964</a></span></p></li><li><p id="change-0.6.6-8"><span class="yiyi-st" id="yiyi-382"><span class="target" id="change-1703b90dcfd7ffd0b4f81bcbb70c3d44"><strong>[orm] </strong></span>Fixed bug regarding &#x201C;subqueryload&#x201D; strategy whereby the join would fail if using a multi-level load of the form from A-&gt;joined-subclass-&gt;C<a class="changeset-link headerlink reference internal" href="#change-1703b90dcfd7ffd0b4f81bcbb70c3d44">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-383">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2014">&#xFF03;2014</a></span></p></li><li><p id="change-0.6.6-9"><span class="yiyi-st" id="yiyi-384"><span class="target" id="change-4a73b51d264c9ebf2bfe59749c653a7e"><strong>[orm] </strong></span>&#x56FA;&#x5B9A;Query&#x5BF9;&#x8C61;&#x7684;&#x7D22;&#x5F15;&#x503C;-1&#x3002;</span><span class="yiyi-st" id="yiyi-385">&#x5B83;&#x88AB;&#x9519;&#x8BEF;&#x5730;&#x8F6C;&#x6362;&#x4E3A;&#x5BFC;&#x81F4;IndexError&#x7684;&#x7A7A;&#x7247;-1&#xFF1A;0. <a class="changeset-link headerlink reference internal" href="#change-4a73b51d264c9ebf2bfe59749c653a7e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-386">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1968">&#xFF03;1968</a></span></p></li><li><p id="change-0.6.6-10"><span class="yiyi-st" id="yiyi-387"><span class="target" id="change-99c12b8a201a49a117b4bb21da31173a"><strong>[orm] </strong></span> mapper&#x53C2;&#x6570;&#x201C;primary_key&#x201D;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x5355;&#x4E2A;&#x5217;&#x4EE5;&#x53CA;&#x5217;&#x8868;&#x6216;&#x5143;&#x7EC4;&#x4F20;&#x9012;&#x3002;</span><span class="yiyi-st" id="yiyi-388">&#x5C06;&#x5176;&#x8BF4;&#x660E;&#x4E3A;&#x6807;&#x91CF;&#x503C;&#x7684;&#x6587;&#x6863;&#x793A;&#x4F8B;&#x5DF2;&#x66F4;&#x6539;&#x4E3A;&#x5217;&#x8868;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-99c12b8a201a49a117b4bb21da31173a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-389">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1971">&#xFF03;1971</a></span></p></li><li><p id="change-0.6.6-11"><span class="yiyi-st" id="yiyi-390"><span class="target" id="change-ff4076489a43c234bed638b787e33718"><strong>[orm] </strong></span>Added active_history flag to relationship() and column_property(), forces attribute events to always load the &#x201C;old&#x201D; value, so that it&#x2019;s available to attributes.get_history().<a class="changeset-link headerlink reference internal" href="#change-ff4076489a43c234bed638b787e33718">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-391">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1961">&#xFF03;1961</a></span></p></li><li><p id="change-0.6.6-12"><span class="yiyi-st" id="yiyi-392"><span class="target" id="change-0ff4a3f02593bf67a026324aec361fc5"><strong>[orm] </strong></span>&#x5982;&#x679C;&#x7EC4;&#x5408;&#x952E;&#x4E2D;&#x7684;&#x53C2;&#x6570;&#x6570;&#x91CF;&#x592A;&#x5927;&#xFF0C;&#x800C;&#x4E14;&#x592A;&#x5C0F;&#xFF0C;&#x5219;&#x4F1A;&#x5F15;&#x53D1;Query.get()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0ff4a3f02593bf67a026324aec361fc5">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-393">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1977">&#xFF03;1977</a></span></p></li><li><p id="change-0.6.6-13"><span class="yiyi-st" id="yiyi-394"><span class="target" id="change-05860eb2ecae8e9521c06c989b36d3df"><strong>[orm] </strong></span>&#x4ECE;0.7&#x5F00;&#x59CB;&#x7684;&#x201C;&#x4F18;&#x5316;get&#x201D;&#x4FEE;&#x590D;&#x7684;&#x540E;&#x9000;&#xFF0C;&#x6539;&#x5584;&#x4E86;&#x52A0;&#x5165;&#x7EE7;&#x627F;&#x201C;load expired row&#x201D;&#x884C;&#x4E3A;&#x7684;&#x751F;&#x6210;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-05860eb2ecae8e9521c06c989b36d3df">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-395">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1992">&#xFF03;1992</a></span></p></li><li><p id="change-0.6.6-14"><span class="yiyi-st" id="yiyi-396"><span class="target" id="change-dad16deefe860c0ae2a562ef161b1063"><strong>[orm] </strong></span>A little more verbiage to the &#x201C;primaryjoin&#x201D; error, in an unusual condition that the join condition &#x201C;works&#x201D; for viewonly but doesn&#x2019;t work for non-viewonly, and foreign_keys wasn&#x2019;t used - adds &#x201C;foreign_keys&#x201D; to the suggestion. </span><span class="yiyi-st" id="yiyi-397">&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x201C;foreign_keys&#x201D;&#x6DFB;&#x52A0;&#x5230;&#x901A;&#x7528;&#x201C;&#x65B9;&#x5411;&#x201D;&#x9519;&#x8BEF;&#x7684;&#x5EFA;&#x8BAE;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dad16deefe860c0ae2a562ef161b1063">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6.6-engine"><h3><span class="yiyi-st" id="yiyi-398">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.6.6-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.6-15"><span class="yiyi-st" id="yiyi-399"><span class="target" id="change-e344fa51f77920bcead6517070be003a"><strong>[engine] </strong></span>&#x73B0;&#x5728;&#xFF0C;&#x4EC5;&#x5F53;&#x660E;&#x786E;&#x4F7F;&#x7528;Unicode&#x7C7B;&#x578B;&#x65F6;&#xFF0C;&#x624D;&#x4F1A;&#x5F15;&#x53D1;&#x9488;&#x5BF9;&#x975E;Unicode&#x7ED1;&#x5B9A;&#x6570;&#x636E;&#x7684;&#x201C;unicode&#x8B66;&#x544A;&#x201D;&#xFF1B;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x5F15;&#x64CE;&#x6216;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x4E0A;&#x4F7F;&#x7528;convert_unicode = True&#x65F6;<a class="changeset-link headerlink reference internal" href="#change-e344fa51f77920bcead6517070be003a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.6-16"><span class="yiyi-st" id="yiyi-400"><span class="target" id="change-060786b76864313d10ab31bd71a4aeb8"><strong>[engine] </strong></span>&#x56FA;&#x5B9A;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x5728;C&#x7248;&#x672C;&#x7684;&#x5341;&#x8FDB;&#x5236;&#x7ED3;&#x679C;&#x5904;&#x7406;&#x5668;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-060786b76864313d10ab31bd71a4aeb8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-401">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1978">&#xFF03;1978</a></span></p></li><li><p id="change-0.6.6-17"><span class="yiyi-st" id="yiyi-402"><span class="target" id="change-a782cc312fd2acd3583135d10d33de6d"><strong>[engine] </strong></span>&#x4E3A;RowProxy&#x7684;C&#x7248;&#x672C;&#x5B9E;&#x73B0;&#x4E86;&#x5E8F;&#x5217;&#x68C0;&#x67E5;&#x529F;&#x80FD;&#xFF0C;&#x4E3A;RowProxy&#x7684;2.7&#x6837;&#x5F0F;&#x201C;collections.Sequence&#x201D;&#x6CE8;&#x518C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a782cc312fd2acd3583135d10d33de6d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-403">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1871">&#xFF03;1871</a></span></p></li><li><p id="change-0.6.6-18"><span class="yiyi-st" id="yiyi-404"><span class="target" id="change-4d3bfa440284b95d35ecfb86606c4b1d"><strong>[engine] </strong></span>Threadlocal engine methods rollback(), commit(), prepare() won&#x2019;t raise if no transaction is in progress; this was a regression introduced in 0.6.<a class="changeset-link headerlink reference internal" href="#change-4d3bfa440284b95d35ecfb86606c4b1d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-405">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1998">&#xFF03;1998</a></span></p></li><li><p id="change-0.6.6-19"><span class="yiyi-st" id="yiyi-406"><span class="target" id="change-bfd7df5b5e155908748f2e41fef4e6cb"><strong>[engine] </strong></span>Threadlocal engine returns itself upon begin(), begin_nested(); engine then implements contextmanager methods to allow the &#x201C;with&#x201D; statement.<a class="changeset-link headerlink reference internal" href="#change-bfd7df5b5e155908748f2e41fef4e6cb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-407">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2004">&#xFF03;2004</a></span></p></li></ul></div><div class="section" id="change-0.6.6-sql"><h3><span class="yiyi-st" id="yiyi-408">SQL <a class="headerlink" href="#change-0.6.6-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.6-20"><span class="yiyi-st" id="yiyi-409"><span class="target" id="change-8501b4f05d5a273f29d09e5fda4682b4"><strong>[sql] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x5355;&#x4E2A;&#x975E;&#x5173;&#x8054;&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x591A;&#x4E2A;&#x94FE;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#x4F18;&#x5148;&#x89C4;&#x5219;&#x3002;</span><span class="yiyi-st" id="yiyi-410">&#x5373;&#x201C;x  - &#xFF08;y  -  z&#xFF09;&#x201D;&#x5C06;&#x7F16;&#x8BD1;&#x4E3A;&#x201C;x  - &#xFF08;y  -  z&#xFF09;&#x201D;&#x800C;&#x4E0D;&#x662F;&#x201C;x  -  y  -  z&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-411">&#x4E5F;&#x9002;&#x7528;&#x4E8E;&#x6807;&#x7B7E;&#xFF0C;&#x5373;&#x201C;x  - &#xFF08;y  -  z&#xFF09;.label&#xFF08;&apos;foo&apos;&#xFF09;&#x201D;<a class="changeset-link headerlink reference internal" href="#change-8501b4f05d5a273f29d09e5fda4682b4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-412">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1984">&#xFF03;1984</a></span></p></li><li><p id="change-0.6.6-21"><span class="yiyi-st" id="yiyi-413"><span class="target" id="change-9329ac8a67c101712cc52dcd1ef51dfe"><strong>[sql] </strong></span>The &#x2018;info&#x2019; attribute of Column is copied during Column.copy(), i.e. as occurs when using columns in declarative mixins.<a class="changeset-link headerlink reference internal" href="#change-9329ac8a67c101712cc52dcd1ef51dfe">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-414">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1967">&#xFF03;1967</a></span></p></li><li><p id="change-0.6.6-22"><span class="yiyi-st" id="yiyi-415"><span class="target" id="change-313ab80f4ccba634879714775e2d1937"><strong>[sql] </strong></span>&#x4E3A;&#x5E03;&#x5C14;&#x503C;&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x7ED1;&#x5B9A;&#x5904;&#x7406;&#x5668;&#xFF0C;&#x8FD9;&#x4E9B;&#x5E03;&#x5C14;&#x503C;&#x5F3A;&#x5236;&#x4E3A;int&#xFF0C;&#x800C;DBAPI&#x5982;pymssql&#x5728;&#x503C;&#x4E0A;&#x5929;&#x771F;&#x5730;&#x8C03;&#x7528;str()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-313ab80f4ccba634879714775e2d1937">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.6-23"><span class="yiyi-st" id="yiyi-416"><span class="target" id="change-c6bca81c575803cd5d89152c9793de63"><strong>[sql] </strong></span>CheckConstraint will copy its &#x2018;initially&#x2019;, &#x2018;deferrable&#x2019;, and &#x2018;_create_rule&#x2019; attributes within a copy()/tometadata()<a class="changeset-link headerlink reference internal" href="#change-c6bca81c575803cd5d89152c9793de63">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-417">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2000">&#xFF03;2000</a></span></p></li></ul></div><div class="section" id="change-0.6.6-postgresql"><h3><span class="yiyi-st" id="yiyi-418">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.6.6-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.6-24"><span class="yiyi-st" id="yiyi-419"><span class="target" id="change-6dfbe255f49659e489e09c208c1d7bee"><strong>[postgresql] </strong></span> IN&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x5355;&#x5143;&#x7D20;&#x5143;&#x7EC4;&#x8868;&#x8FBE;&#x5F0F;&#x6B63;&#x786E;&#x5730;&#x62EC;&#x8D77;&#x6765;&#xFF0C;&#x4E5F;&#x6765;&#x81EA;<a class="changeset-link headerlink reference internal" href="#change-6dfbe255f49659e489e09c208c1d7bee">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-420">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1984">&#xFF03;1984</a></span></p></li><li><p id="change-0.6.6-25"><span class="yiyi-st" id="yiyi-421"><span class="target" id="change-55c1f840b71087d0e09bb8bc2afa14e4"><strong>[postgresql] </strong></span>&#x786E;&#x4FDD;psycopg2&#x548C;pg8000&#x7684;&#x201C;&#x6570;&#x5B57;&#x201D;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x80FD;&#x591F;&#x8BC6;&#x522B;&#x6BCF;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x6D6E;&#x70B9;&#x6570;&#xFF0C;&#x6574;&#x578B;&#x4EE3;&#x7801;&#x548C;&#x6807;&#x91CF;&#x6570;&#x7EC4;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-55c1f840b71087d0e09bb8bc2afa14e4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-422">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1955">&#xFF03;1955</a></span></p></li><li><p id="change-0.6.6-26"><span class="yiyi-st" id="yiyi-423"><span class="target" id="change-0e07e9da5e3d2dc702aaf8213f255dc2"><strong>[postgresql] </strong></span>&#x5C06;asuuid = True&#x6807;&#x5FD7;&#x6DFB;&#x52A0;&#x5230;UUID&#x7C7B;&#x578B;&#xFF0C;&#x5C06;&#x4EE5;Python UUID()&#x5BF9;&#x8C61;&#x800C;&#x4E0D;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5F62;&#x5F0F;&#x63A5;&#x6536;&#x548C;&#x8FD4;&#x56DE;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-424">&#x76EE;&#x524D;&#xFF0C;UUID&#x7C7B;&#x578B;&#x53EA;&#x80FD;&#x7528;&#x4E8E;psycopg2. <a class="changeset-link headerlink reference internal" href="#change-0e07e9da5e3d2dc702aaf8213f255dc2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-425">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1956">&#xFF03;1956</a></span></p></li><li><p id="change-0.6.6-27"><span class="yiyi-st" id="yiyi-426"><span class="target" id="change-6f1e93205663537c4ef282d5cfc3edef"><strong>[postgresql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5728;&#x6C60;&#x914D;&#x7F6E;+&#x91CD;&#x65B0;&#x521B;&#x5EFA;&#x4E4B;&#x540E;&#x4F1A;&#x53D1;&#x751F;KeyError&#x7684;&#x975E;ENUM&#x652F;&#x6301;PG&#x7248;&#x672C;&#x7684;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6f1e93205663537c4ef282d5cfc3edef">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-427">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1989">&#xFF03;1989</a></span></p></li></ul></div><div class="section" id="change-0.6.6-mysql"><h3><span class="yiyi-st" id="yiyi-428">MySQL&#x7684;<a class="headerlink" href="#change-0.6.6-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.6-28"><span class="yiyi-st" id="yiyi-429"><span class="target" id="change-15404de376dfeacb313c1bcb2ee66a33"><strong>[mysql] </strong></span>&#x4FEE;&#x590D;&#x4E86;Jython + zxjdbc&#x7684;&#x9519;&#x8BEF;&#x5904;&#x7406;&#x95EE;&#x9898;&#xFF0C;&#x4F7F;&#x5F97;has_table()&#x5C5E;&#x6027;&#x518D;&#x6B21;&#x8FD0;&#x884C;&#x3002;</span><span class="yiyi-st" id="yiyi-430">&#x4ECE;0.6.3&#x56DE;&#x5F52;&#xFF08;&#x6211;&#x4EEC;&#x6CA1;&#x6709;Jython buildbot&#xFF0C;&#x5BF9;&#x4E0D;&#x8D77;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-15404de376dfeacb313c1bcb2ee66a33">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-431">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1960">&#xFF03;1960</a></span></p></li></ul></div><div class="section" id="change-0.6.6-sqlite"><h3><span class="yiyi-st" id="yiyi-432">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.6.6-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.6-29"><span class="yiyi-st" id="yiyi-433"><span class="target" id="change-6d83957f57c2e3d7f41b95967ddb322c"><strong>[sqlite] </strong></span> CREATE TABLE&#x4E2D;&#x7684;REFERENCES&#x5B50;&#x53E5;&#xFF0C;&#x5305;&#x542B;&#x5177;&#x6709;&#x76F8;&#x540C;&#x6A21;&#x5F0F;&#x540D;&#x79F0;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x8868;&#x7684;&#x8FDC;&#x7A0B;&#x6A21;&#x5F0F;&#xFF0C;&#x73B0;&#x5728;&#x6839;&#x636E;SQLite&#x7684;&#x8981;&#x6C42;&#x5448;&#x73B0;&#x6CA1;&#x6709;&#x6A21;&#x5F0F;&#x5B50;&#x53E5;&#x7684;&#x8FDC;&#x7A0B;&#x540D;&#x79F0;<a class="changeset-link headerlink reference internal" href="#change-6d83957f57c2e3d7f41b95967ddb322c">&#xB6;&lt; / T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-434">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1851">&#xFF03;1851</a></span></p></li><li><p id="change-0.6.6-30"><span class="yiyi-st" id="yiyi-435"><span class="target" id="change-c7c69439e2cc0ec7af6b3dffa8a3a86f"><strong>[sqlite] </strong></span>On the same theme, the REFERENCES clause in a CREATE TABLE that includes a remote schema to a <em>different</em> schema than that of the parent table doesn&#x2019;t render at all, as cross-schema references do not appear to be supported.<a class="changeset-link headerlink reference internal" href="#change-c7c69439e2cc0ec7af6b3dffa8a3a86f">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6.6-mssql"><h3><span class="yiyi-st" id="yiyi-436">MSSQL <a class="headerlink" href="#change-0.6.6-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.6-31"><span class="yiyi-st" id="yiyi-437"><span class="target" id="change-445f4c11a73f0a2d7a02c8297f45a174"><strong>[mssql] </strong></span>&#x4E0D;&#x5E78;&#x7684;&#x662F;&#x6CA1;&#x6709;&#x6B63;&#x786E;&#x5730;&#x6D4B;&#x8BD5;&#x7D22;&#x5F15;&#x53CD;&#x5C04;&#x7684;&#x91CD;&#x5199;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E86;&#x4E0D;&#x6B63;&#x786E;&#x7684;&#x7ED3;&#x679C;&#x3002;</span><span class="yiyi-st" id="yiyi-438">&#x73B0;&#x5728;&#x8FD9;&#x4E2A;&#x56DE;&#x5F52;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-445f4c11a73f0a2d7a02c8297f45a174">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-439">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1770">&#xFF03;1770</a></span></p></li></ul></div><div class="section" id="change-0.6.6-oracle"><h3><span class="yiyi-st" id="yiyi-440">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.6.6-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.6-32"><span class="yiyi-st" id="yiyi-441"><span class="target" id="change-2ccadf16ce306a495b45d7e349e3a56d"><strong>[oracle] </strong></span>&#x73B0;&#x5728;&#x4F7F;&#x7528;&#x7531;&#x8BED;&#x8A00;&#x73AF;&#x5883;/ NLS_LANG&#x8BBE;&#x7F6E;&#x786E;&#x5B9A;&#x7684;&#x5C0F;&#x6570;&#x70B9;&#x5B57;&#x7B26;&#x7684;cx_oracle&#x201C;&#x5341;&#x8FDB;&#x5236;&#x68C0;&#x6D4B;&#x201D;&#x903B;&#x8F91;&#xFF0C;&#x5B83;&#x4F7F;&#x7528;&#x5177;&#x6709;&#x6A21;&#x7CCA;&#x6570;&#x5B57;&#x7279;&#x5F81;&#x7684;&#x7ED3;&#x679C;&#x96C6;&#x5217;&#xFF0C;&#x8FDE;&#x63A5;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x7684;&#x68C0;&#x6D4B;&#x3002;</span><span class="yiyi-st" id="yiyi-442">&#x4F7F;&#x7528;&#x975E;&#x5468;&#x671F;&#x5C0F;&#x6570;&#x70B9;NLS_LANG&#x8BBE;&#x7F6E;&#x65F6;&#xFF0C;&#x8FD8;&#x9700;&#x8981;cx_oracle 5.0.3&#x6216;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2ccadf16ce306a495b45d7e349e3a56d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-443">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1953">&#xFF03;1953</a></span></p></li></ul></div><div class="section" id="change-0.6.6-firebird"><h3><span class="yiyi-st" id="yiyi-444">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.6.6-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.6-33"><span class="yiyi-st" id="yiyi-445"><span class="target" id="change-cefc7fd8608289b2871c372d3f415aa1"><strong>[firebird] </strong></span>Firebird numeric type now checks for Decimal explicitly, lets float() pass right through, thereby allowing special values such as float(&#x2018;inf&#x2019;).<a class="changeset-link headerlink reference internal" href="#change-cefc7fd8608289b2871c372d3f415aa1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-446">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/2012">&#xFF03;2012</a></span></p></li></ul></div><div class="section" id="change-0.6.6-misc"><h3><span class="yiyi-st" id="yiyi-447">&#x6742;&#x9879;<a class="headerlink" href="#change-0.6.6-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.6-34"><span class="yiyi-st" id="yiyi-448"><span class="target" id="change-1c894bdd6f1952bc473239bc08a14b89"><strong>[declarative] </strong></span>&#x5982;&#x679C;__table_args__&#x4E0D;&#x662F;tuple&#x6216;dict&#x683C;&#x5F0F;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x662F;None&#xFF0C;&#x5219;&#x4F1A;&#x4EA7;&#x751F;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1c894bdd6f1952bc473239bc08a14b89">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-449">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1972">&#xFF03;1972</a></span></p></li><li><p id="change-0.6.6-35"><span class="yiyi-st" id="yiyi-450"><span class="target" id="change-589cc5d2ae80b9d8ba7435234c630b85"><strong>[sqlsoup] </strong></span>Added &#x201C;map_to()&#x201D; method to SqlSoup, which is a &#x201C;master&#x201D; method which accepts explicit arguments for each aspect of the selectable and mapping, including a base class per mapping.<a class="changeset-link headerlink reference internal" href="#change-589cc5d2ae80b9d8ba7435234c630b85">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-451">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1975">&#xFF03;1975</a></span></p></li><li><p id="change-0.6.6-36"><span class="yiyi-st" id="yiyi-452"><span class="target" id="change-c8bc4f5b37cc4e77cd766cce0179426c"><strong>[sqlsoup] </strong></span>&#x4E0E;map()&#xFF0C;with_labels()&#xFF0C;join()&#x65B9;&#x6CD5;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x7684;mapable selectables&#x4E0D;&#x518D;&#x5C06;&#x7ED9;&#x5B9A;&#x7684;&#x53C2;&#x6570;&#x653E;&#x5230;&#x5185;&#x90E8;&#x7684;&#x201C;cache&#x201D;&#x5B57;&#x5178;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-453">&#x7279;&#x522B;&#x662F;&#x7531;&#x4E8E;join()&#x548C;select()&#x5BF9;&#x8C61;&#x662F;&#x5728;&#x65B9;&#x6CD5;&#x672C;&#x8EAB;&#x4E2D;&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x8FD9;&#x51E0;&#x4E4E;&#x662F;&#x7EAF;&#x7CB9;&#x7684;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c8bc4f5b37cc4e77cd766cce0179426c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.6-37"><span class="yiyi-st" id="yiyi-454"><span class="target" id="change-cdab141baa9b101f65543811538eaad3"><strong>[examples] </strong></span>&#x7248;&#x672C;&#x793A;&#x4F8B;&#x73B0;&#x5728;&#x652F;&#x6301;&#x68C0;&#x6D4B;&#x5173;&#x8054;&#x5173;&#x7CFB;()&#x4E2D;&#x7684;&#x66F4;&#x6539;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cdab141baa9b101f65543811538eaad3">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.6.5"><h2><span class="yiyi-st" id="yiyi-456">0.6.5 <a class="headerlink" href="#change-0.6.5" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-564">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2010&#x5E74;10&#x6708;24&#x65E5;</span><div class="section" id="change-0.6.5-orm"><h3><span class="yiyi-st" id="yiyi-457">ORM <a class="headerlink" href="#change-0.6.5-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.5-0"><span class="yiyi-st" id="yiyi-458"><span class="target" id="change-05ec37b51f434e62c267fe20d4e58c7e"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x201C;lazyload&#x201D;&#x9009;&#x9879;&#x201C;immediateload&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-459">&#x5728;&#x586B;&#x5145;&#x5BF9;&#x8C61;&#x65F6;&#x81EA;&#x52A8;&#x53D1;&#x51FA;&#x901A;&#x5E38;&#x7684;&#x201C;&#x61D2;&#x60F0;&#x201D;&#x52A0;&#x8F7D;&#x64CD;&#x4F5C;&#x3002;</span><span class="yiyi-st" id="yiyi-460">&#x8FD9;&#x91CC;&#x7684;&#x7528;&#x4F8B;&#x662F;&#x52A0;&#x8F7D;&#x8981;&#x653E;&#x7F6E;&#x5728;&#x8131;&#x673A;&#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x6216;&#x8005;&#x5728;&#x4F1A;&#x8BDD;&#x4E0D;&#x53EF;&#x7528;&#x4E4B;&#x540E;&#x4EE5;&#x5176;&#x4ED6;&#x65B9;&#x5F0F;&#x4F7F;&#x7528;&#xFF0C;&#x5E76;&#x4E14;&#x5E0C;&#x671B;&#x76F4;&#x63A5;&#x201C;&#x9009;&#x62E9;&#x201D;&#x52A0;&#x8F7D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x201C;&#x52A0;&#x5165;&#x201D;&#x6216;&#x201C;&#x5B50;&#x67E5;&#x8BE2;&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-05ec37b51f434e62c267fe20d4e58c7e">&#xB6;  T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-461">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1914">&#xFF03;1914</a></span></p></li><li><p id="change-0.6.5-1"><span class="yiyi-st" id="yiyi-462"><span class="target" id="change-10955dae4ce54a020b91ac0a8757e360"><strong>[orm] </strong></span>New Query methods: query.label(name), query.as_scalar(), return the query&#x2019;s statement as a scalar subquery with /without label; query.with_entities(*ent), replaces the SELECT list of the query with new entities. </span><span class="yiyi-st" id="yiyi-463">&#x5927;&#x81F4;&#x76F8;&#x5F53;&#x4E8E;query.values()&#x7684;&#x751F;&#x6210;&#x5F62;&#x5F0F;&#xFF0C;&#x5B83;&#x63A5;&#x53D7;&#x6620;&#x5C04;&#x7684;&#x5B9E;&#x4F53;&#x4EE5;&#x53CA;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-10955dae4ce54a020b91ac0a8757e360">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-464">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1920">&#xFF03;1920</a></span></p></li><li><p id="change-0.6.5-2"><span class="yiyi-st" id="yiyi-465"><span class="target" id="change-d784a2da322b348050aefe3c6258ba39"><strong>[orm] </strong></span>Fixed recursion bug which could occur when moving an object from one reference to another, with backrefs involved, where the initiating parent was a subclass (with its own mapper) of the previous parent.<a class="changeset-link headerlink reference internal" href="#change-d784a2da322b348050aefe3c6258ba39">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-3"><span class="yiyi-st" id="yiyi-466"><span class="target" id="change-6af93b4a17eb71913cf760ae65958264"><strong>[orm] </strong></span>Fixed a regression in 0.6.4 which occurred if you passed an empty list to &#x201C;include_properties&#x201D; on mapper()<a class="changeset-link headerlink reference internal" href="#change-6af93b4a17eb71913cf760ae65958264">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-467">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1918">&#xFF03;1918</a></span></p></li><li><p id="change-0.6.5-4"><span class="yiyi-st" id="yiyi-468"><span class="target" id="change-b79708d8c7a705b6ac80798508585034"><strong>[orm] </strong></span>&#x5728;Query&#x4E2D;&#x56FA;&#x5B9A;&#x6807;&#x7B7E;&#x9519;&#x8BEF;&#xFF0C;NamedTuple&#x4F1A;&#x5728;&#x4EFB;&#x4F55;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x672A;&#x6807;&#x8BB0;&#x65F6;&#x9519;&#x8BEF;&#x5E94;&#x7528;&#x6807;&#x7B7E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b79708d8c7a705b6ac80798508585034">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-5"><span class="yiyi-st" id="yiyi-469"><span class="target" id="change-3ce4439ac51efb211009bf9295f36135"><strong>[orm] </strong></span>&#x4FEE;&#x8865;&#x4E86;query.join()&#x5C06;&#x4E0D;&#x6070;&#x5F53;&#x5730;&#x8C03;&#x6574;&#x5DE6;&#x4FA7;&#x8FDE;&#x63A5;&#x7684;&#x53F3;&#x4FA7;&#x5230;&#x53F3;&#x4FA7;&#x7684;&#x60C5;&#x51B5;<a class="changeset-link headerlink reference internal" href="#change-3ce4439ac51efb211009bf9295f36135">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-470">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1925">&#xFF03;1925</a></span></p></li><li><p id="change-0.6.5-6"><span class="yiyi-st" id="yiyi-471"><span class="target" id="change-2520d6ed386bd5f52025b2ea26acaf3c"><strong>[orm] </strong></span>Query.select_from() has been beefed up to help ensure that a subsequent call to query.join() will use the select_from() entity, assuming it&#x2019;s a mapped entity and not a plain selectable, as the default &#x201C;left&#x201D; side, not the first entity in the Query object&#x2019;s list of entities.<a class="changeset-link headerlink reference internal" href="#change-2520d6ed386bd5f52025b2ea26acaf3c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-7"><span class="yiyi-st" id="yiyi-472"><span class="target" id="change-6ac225a74a7670ddfe45fd42b639020c"><strong>[orm] </strong></span>The exception raised by Session when it is used subsequent to a subtransaction rollback (which is what happens when a flush fails in autocommit=False mode) has now been reworded (this is the &#x201C;inactive due to a rollback in a subtransaction&#x201D; message). </span><span class="yiyi-st" id="yiyi-473">&#x7279;&#x522B;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x56DE;&#x6EDA;&#x662F;&#x7531;flush()&#x671F;&#x95F4;&#x7684;&#x5F02;&#x5E38;&#x5F15;&#x8D77;&#x7684;&#xFF0C;&#x5219;&#x6D88;&#x606F;&#x8BF4;&#x660E;&#x662F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x5E76;&#x91CD;&#x7533;&#x5728;&#x5237;&#x65B0;&#x671F;&#x95F4;&#x53D1;&#x751F;&#x7684;&#x539F;&#x59CB;&#x5F02;&#x5E38;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5F62;&#x5F0F;&#x3002;</span><span class="yiyi-st" id="yiyi-474">&#x5982;&#x679C;&#x4F1A;&#x8BDD;&#x7531;&#x4E8E;&#x660E;&#x786E;&#x4F7F;&#x7528;&#x4E86;&#x5B50;&#x4E8B;&#x52A1;&#xFF08;&#x4E0D;&#x662F;&#x5F88;&#x5E38;&#x89C1;&#xFF09;&#x800C;&#x88AB;&#x5173;&#x95ED;&#xFF0C;&#x90A3;&#x4E48;&#x6D88;&#x606F;&#x53EA;&#x662F;&#x8BF4;&#x660E;&#x4E86;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6ac225a74a7670ddfe45fd42b639020c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-8"><span class="yiyi-st" id="yiyi-475"><span class="target" id="change-d238e9c9585eb81bc60ff2f4cd32320f"><strong>[orm] </strong></span>The exception raised by Mapper when repeated requests to its initialization are made after initialization already failed no longer assumes the &#x201C;hasattr&#x201D; case, since there&#x2019;s other scenarios in which this message gets emitted, and the message also does not compound onto itself multiple times - you get the same message for each attempt at usage. </span><span class="yiyi-st" id="yiyi-476">&#x201C;&#x7F16;&#x8BD1;&#x201D;&#x8FD9;&#x4E2A;&#x7528;&#x8BCD;&#x4E0D;&#x5F53;&#x7684;&#x60C5;&#x51B5;&#x6B63;&#x5728;&#x88AB;&#x7528;&#x4E8E;&#x201C;&#x521D;&#x59CB;&#x5316;&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d238e9c9585eb81bc60ff2f4cd32320f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-9"><span class="yiyi-st" id="yiyi-477"><span class="target" id="change-9ec0c4f2f483bf5d304f33c8593de5d9"><strong>[orm] </strong></span>Fixed bug in query.update() where &#x2018;evaluate&#x2019; or &#x2018;fetch&#x2019; expiration would fail if the column expression key was a class attribute with a different keyname as the actual column name.<a class="changeset-link headerlink reference internal" href="#change-9ec0c4f2f483bf5d304f33c8593de5d9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-478">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1935">&#xFF03;1935</a></span></p></li><li><p id="change-0.6.5-10"><span class="yiyi-st" id="yiyi-479"><span class="target" id="change-d84b4cf05c01f57aba9894d09098d696"><strong>[orm] </strong></span>&#x5728;&#x5237;&#x65B0;&#x8FC7;&#x7A0B;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65AD;&#x8A00;&#xFF0C;&#x786E;&#x4FDD;&#x5728;&#x201C;&#x65B0;&#x6301;&#x4E45;&#x6027;&#x201D;&#x5BF9;&#x8C61;&#x4E0A;&#x4E0D;&#x751F;&#x6210;&#x6301;&#x6709;&#x7A7A;&#x503C;&#x7684;&#x8EAB;&#x4EFD;&#x5BC6;&#x94A5;&#x3002;</span><span class="yiyi-st" id="yiyi-480">&#x8FD9;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x5728;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;&#x4EE3;&#x7801;&#x65E0;&#x610F;&#x4E2D;&#x89E6;&#x53D1;&#x672A;&#x5B8C;&#x5168;&#x52A0;&#x8F7D;&#x7684;&#x5BF9;&#x8C61;&#x4E0A;&#x7684;&#x5237;&#x65B0;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d84b4cf05c01f57aba9894d09098d696">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-11"><span class="yiyi-st" id="yiyi-481"><span class="target" id="change-83d77852281b4f90915f5a66c5aeb2f4"><strong>[orm] </strong></span>lazy loads for relationship attributes now use the current state, not the &#x201C;committed&#x201D; state, of foreign and primary key attributes when issuing SQL, if a flush is not in process. </span><span class="yiyi-st" id="yiyi-482">&#x4EE5;&#x524D;&#xFF0C;&#x53EA;&#x4F1A;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#x63D0;&#x4EA4;&#x72B6;&#x6001;&#x3002;</span><span class="yiyi-st" id="yiyi-483">&#x7279;&#x522B;&#x662F;&#xFF0C;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x591A;&#x5BF9;&#x4E00;&#x7684;get() -  on-lazyload&#x64CD;&#x4F5C;&#x5931;&#x8D25;&#xFF0C;&#x56E0;&#x4E3A;&#x5F53;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x88AB;&#x786E;&#x5B9A;&#x5E76;&#x4E14;&#x201C;&#x63D0;&#x4EA4;&#x201D;&#x72B6;&#x6001;&#x53EF;&#x80FD;&#x4E0D;&#x53EF;&#x7528;&#x65F6;&#xFF0C;autoflush&#x4E0D;&#x4F1A;&#x5728;&#x8FD9;&#x4E9B;&#x8D1F;&#x8F7D;&#x4E0A;&#x89E6;&#x53D1;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-83d77852281b4f90915f5a66c5aeb2f4">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-484">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1910">&#xFF03;1910</a></span></p></li><li><p id="change-0.6.5-12"><span class="yiyi-st" id="yiyi-485"><span class="target" id="change-54bd435e0495c759195b5a89782f09f3"><strong>[orm] </strong></span>A new flag on relationship(), load_on_pending, allows the lazy loader to fire off on pending objects without a flush taking place, as well as a transient object that&#x2019;s been manually &#x201C;attached&#x201D; to the session. </span><span class="yiyi-st" id="yiyi-486">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x6B64;&#x6807;&#x5FD7;&#x4F1A;&#x963B;&#x6B62;&#x52A0;&#x8F7D;&#x5BF9;&#x8C61;&#x65F6;&#x53D1;&#x751F;&#x7684;&#x5C5E;&#x6027;&#x4E8B;&#x4EF6;&#xFF0C;&#x56E0;&#x6B64;&#x76F4;&#x5230;&#x51B2;&#x5237;&#x540E;&#x624D;&#x80FD;&#x4F7F;&#x7528;backrefs&#x3002;</span><span class="yiyi-st" id="yiyi-487">&#x8BE5;&#x6807;&#x5FD7;&#x4EC5;&#x7528;&#x4E8E;&#x975E;&#x5E38;&#x5177;&#x4F53;&#x7684;&#x7528;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-54bd435e0495c759195b5a89782f09f3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-13"><span class="yiyi-st" id="yiyi-488"><span class="target" id="change-080a574eb24dbc2249cb0cf42cd0c506"><strong>[orm] </strong></span>Another new flag on relationship(), cascade_backrefs, disables the &#x201C;save-update&#x201D; cascade when the event was initiated on the &#x201C;reverse&#x201D; side of a bidirectional relationship. </span><span class="yiyi-st" id="yiyi-489">&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x66F4;&#x6E05;&#x6670;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x5C06;&#x591A;&#x5BF9;&#x4E00;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E34;&#x65F6;&#x5BF9;&#x8C61;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x5C06;&#x5176;&#x5438;&#x5F15;&#x5230;&#x5B50;&#x5BF9;&#x8C61;&#x7684;&#x4F1A;&#x8BDD;&#x4E2D;&#xFF0C;&#x540C;&#x65F6;&#x4ECD;&#x5141;&#x8BB8;&#x5411;&#x524D;&#x96C6;&#x5408;&#x7EA7;&#x8054;&#x3002;</span><span class="yiyi-st" id="yiyi-490">&#x6211;&#x4EEC;<em>&#x53EF;&#x80FD;</em>&#x5728;0.7&#x4E2D;&#x9ED8;&#x8BA4;&#x4E3A;False&#x3002;<a class="changeset-link headerlink reference internal" href="#change-080a574eb24dbc2249cb0cf42cd0c506">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-14"><span class="yiyi-st" id="yiyi-491"><span class="target" id="change-cd1698eb18bf61cf0da5afee7a5e7c4a"><strong>[orm] </strong></span>&#x5F53;&#x4EC5;&#x653E;&#x7F6E;&#x5728;&#x5173;&#x7CFB;&#x7684;&#x591A;&#x5BF9;&#x4E00;&#x4FA7;&#x65F6;&#xFF0C;&#x5BF9;&#x201C;passive_updates = False&#x201D;&#x7684;&#x884C;&#x4E3A;&#x7A0D;&#x4F5C;&#x6539;&#x8FDB;&#xFF1B;&#x6587;&#x6863;&#x5DF2;&#x7ECF;&#x6F84;&#x6E05;&#xFF0C;passive_updates = False&#x5E94;&#x8BE5;&#x662F;&#x4E00;&#x5BF9;&#x591A;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cd1698eb18bf61cf0da5afee7a5e7c4a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-15"><span class="yiyi-st" id="yiyi-492"><span class="target" id="change-cad7611b381713d7cffe14e33ee704bf"><strong>[orm] </strong></span>&#x5728;&#x591A;&#x5BF9;&#x4E00;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x653E;&#x7F6E;passive_deletes = True&#x4F1A;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#xFF0C;&#x56E0;&#x4E3A;&#x60A8;&#x53EF;&#x80FD;&#x6253;&#x7B97;&#x5C06;&#x5B83;&#x653E;&#x5728;&#x4E00;&#x5BF9;&#x591A;&#x7684;&#x4E00;&#x9762;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cad7611b381713d7cffe14e33ee704bf">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-16"><span class="yiyi-st" id="yiyi-493"><span class="target" id="change-6b88ae16dd7b28d9830d7684992e3cb7"><strong>[orm] </strong></span>Fixed bug that would prevent &#x201C;subqueryload&#x201D; from working correctly with single table inheritance for a relationship from a subclass - the &#x201C;where type in (x, y, z)&#x201D; only gets placed on the inside, instead of repeatedly.<a class="changeset-link headerlink reference internal" href="#change-6b88ae16dd7b28d9830d7684992e3cb7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-17"><span class="yiyi-st" id="yiyi-494"><span class="target" id="change-34f0bff0696715bf8cb3e59f6d10b4bb"><strong>[orm] </strong></span>When using from_self() with single table inheritance, the &#x201C;where type in (x, y, z)&#x201D; is placed on the outside of the query only, instead of repeatedly. </span><span class="yiyi-st" id="yiyi-495">&#x53EF;&#x4EE5;&#x5BF9;&#x6B64;&#x8FDB;&#x884C;&#x66F4;&#x591A;&#x7684;&#x8C03;&#x6574;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-34f0bff0696715bf8cb3e59f6d10b4bb">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-18"><span class="yiyi-st" id="yiyi-496"><span class="target" id="change-b008ec0e6f859c0904e7abd78a62457f"><strong>[orm] </strong></span>scoped_session emits a warning when configure() is called if a Session is already present (checks only the current thread)<a class="changeset-link headerlink reference internal" href="#change-b008ec0e6f859c0904e7abd78a62457f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-497">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1924">&#xFF03;1924</a></span></p></li><li><p id="change-0.6.5-19"><span class="yiyi-st" id="yiyi-498"><span class="target" id="change-63bb35cc7429215a5a693a352a838a9b"><strong>[orm] </strong></span>reworked the internals of mapper.cascade_iterator() to cut down method calls by about 9% in some circumstances.<a class="changeset-link headerlink reference internal" href="#change-63bb35cc7429215a5a693a352a838a9b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-499">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1932">&#xFF03;1932</a></span></p></li></ul></div><div class="section" id="change-0.6.5-engine"><h3><span class="yiyi-st" id="yiyi-500">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.6.5-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.5-20"><span class="yiyi-st" id="yiyi-501"><span class="target" id="change-1059318af334dfde665aff47590e8542"><strong>[engine] </strong></span>&#x56FA;&#x5B9A;&#x4E86;0.6.4&#x4E2D;&#x7684;&#x56DE;&#x5F52;&#xFF0C;&#x56E0;&#x6B64;&#x5141;&#x8BB8;&#x5149;&#x6807;&#x9519;&#x8BEF;&#x4E00;&#x81F4;&#x7684;&#x66F4;&#x6539;&#x4E00;&#x76F4;&#x6253;&#x7834;&#x4E86;result.lastrowid&#x8BBF;&#x95EE;&#x5668;&#x3002;</span><span class="yiyi-st" id="yiyi-502">&#x5DF2;&#x4E3A;result.lastrowid&#x6DFB;&#x52A0;&#x4E86;&#x6D4B;&#x8BD5;&#x8986;&#x76D6;&#x7387;&#x3002;</span><span class="yiyi-st" id="yiyi-503">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;lastrowid&#x4EC5;&#x7531;Pysqlite&#x548C;&#x4E00;&#x4E9B;MySQL&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x652F;&#x6301;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x4F1A;&#x8D85;&#x7EA7;&#x6709;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1059318af334dfde665aff47590e8542">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-21"><span class="yiyi-st" id="yiyi-504"><span class="target" id="change-ebd200888550cee6694d854883573fa6"><strong>[engine] </strong></span>the logging message emitted by the engine when a connection is first used is now &#x201C;BEGIN (implicit)&#x201D; to emphasize that DBAPI has no explicit begin().<a class="changeset-link headerlink reference internal" href="#change-ebd200888550cee6694d854883573fa6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-22"><span class="yiyi-st" id="yiyi-505"><span class="target" id="change-583d616a6e6d2ed7c2874a91f7e8b83a"><strong>[engine] </strong></span>&#x5728;metadata.reflect()&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x201C;views = True&#x201D;&#x9009;&#x9879;&#xFF0C;&#x5C06;&#x53EF;&#x7528;&#x89C6;&#x56FE;&#x7684;&#x5217;&#x8868;&#x6DFB;&#x52A0;&#x5230;&#x6B63;&#x5728;&#x53CD;&#x6620;&#x7684;&#x89C6;&#x56FE;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-583d616a6e6d2ed7c2874a91f7e8b83a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-506">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1936">&#xFF03;1936</a></span></p></li><li><p id="change-0.6.5-23"><span class="yiyi-st" id="yiyi-507"><span class="target" id="change-50d5bffb777603ddce658a6a67b8e205"><strong>[engine] </strong></span>engine_from_config() now accepts &#x2018;debug&#x2019; for &#x2018;echo&#x2019;, &#x2018;echo_pool&#x2019;, &#x2018;force&#x2019; for &#x2018;convert_unicode&#x2019;, boolean values for &#x2018;use_native_unicode&#x2019;.<a class="changeset-link headerlink reference internal" href="#change-50d5bffb777603ddce658a6a67b8e205">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-508">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1899">&#xFF03;1899</a></span></p></li></ul></div><div class="section" id="change-0.6.5-sql"><h3><span class="yiyi-st" id="yiyi-509">SQL <a class="headerlink" href="#change-0.6.5-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.5-24"><span class="yiyi-st" id="yiyi-510"><span class="target" id="change-38a4e7cd800b41adf3d50801a7f7cb1b"><strong>[sql] </strong></span>Fixed bug in TypeDecorator whereby the dialect-specific type was getting pulled in to generate the DDL for a given type, which didn&#x2019;t always return the correct result.<a class="changeset-link headerlink reference internal" href="#change-38a4e7cd800b41adf3d50801a7f7cb1b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-25"><span class="yiyi-st" id="yiyi-511"><span class="target" id="change-1f4462b0b5fe565c42d2a26adc200c72"><strong>[sql] </strong></span>TypeDecorator can now have a fully constructed type specified as its &#x201C;impl&#x201D;, in addition to a type class.<a class="changeset-link headerlink reference internal" href="#change-1f4462b0b5fe565c42d2a26adc200c72">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-26"><span class="yiyi-st" id="yiyi-512"><span class="target" id="change-9dc92f16ad4db3c34c0aa4eae14c851f"><strong>[sql] </strong></span>TypeDecorator will now place itself as the resulting type for a binary expression where the type coercion rules would normally return its impl type - previously, a copy of the impl type would be returned which would have the TypeDecorator embedded into it as the &#x201C;dialect&#x201D; impl, this was probably an unintentional way of achieving the desired effect.<a class="changeset-link headerlink reference internal" href="#change-9dc92f16ad4db3c34c0aa4eae14c851f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-27"><span class="yiyi-st" id="yiyi-513"><span class="target" id="change-2b8e904daae0d182fbf0aaa6bca9d64b"><strong>[sql] </strong></span>TypeDecorator.load_dialect_impl() returns &#x201C;self.impl&#x201D; by default, i.e. not the dialect implementation type of &#x201C;self.impl&#x201D;. </span><span class="yiyi-st" id="yiyi-514">&#x8FD9;&#x53EF;&#x4EE5;&#x6B63;&#x786E;&#x652F;&#x6301;&#x7F16;&#x8BD1;&#x3002;</span><span class="yiyi-st" id="yiyi-515">&#x884C;&#x4E3A;&#x53EF;&#x4EE5;&#x50CF;&#x4EE5;&#x524D;&#x4E00;&#x6837;&#x4EE5;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#x88AB;&#x7528;&#x6237;&#x8986;&#x76D6;&#xFF0C;&#x8FBE;&#x5230;&#x540C;&#x6837;&#x7684;&#x6548;&#x679C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2b8e904daae0d182fbf0aaa6bca9d64b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-28"><span class="yiyi-st" id="yiyi-516"><span class="target" id="change-29fd8b04b0c6aef95c9455c804c96892"><strong>[sql] </strong></span>&#x6DFB;&#x52A0;&#x4E86;type_coerce&#xFF08;expr&#xFF0C;type_&#xFF09;&#x8868;&#x8FBE;&#x5F0F;&#x5143;&#x7D20;&#x3002;</span><span class="yiyi-st" id="yiyi-517">&#x5728;&#x8BC4;&#x4F30;&#x8868;&#x8FBE;&#x5F0F;&#x548C;&#x5904;&#x7406;&#x7ED3;&#x679C;&#x884C;&#x65F6;&#x5C06;&#x7ED9;&#x5B9A;&#x8868;&#x8FBE;&#x5F0F;&#x89C6;&#x4E3A;&#x7ED9;&#x5B9A;&#x7C7B;&#x578B;&#xFF0C;&#x4F46;&#x4E0D;&#x5F71;&#x54CD;&#x9664;&#x533F;&#x540D;&#x6807;&#x7B7E;&#x4E4B;&#x5916;&#x7684;SQL&#x751F;&#x6210;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-29fd8b04b0c6aef95c9455c804c96892">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-29"><span class="yiyi-st" id="yiyi-518"><span class="target" id="change-6c855e196152b57c304b333e9770fa07"><strong>[sql] </strong></span>Table.tometadata() now copies Index objects associated with the Table as well.<a class="changeset-link headerlink reference internal" href="#change-6c855e196152b57c304b333e9770fa07">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-30"><span class="yiyi-st" id="yiyi-519"><span class="target" id="change-81cb47d5917f4a66ca50b654ececaf77"><strong>[sql] </strong></span>Table.tometadata() issues a warning if the given Table is already present in the target MetaData - the existing Table object is returned.<a class="changeset-link headerlink reference internal" href="#change-81cb47d5917f4a66ca50b654ececaf77">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-31"><span class="yiyi-st" id="yiyi-520"><span class="target" id="change-6c2eaa8e6ce7b6c71555f1222eccbb27"><strong>[sql] </strong></span>An informative error message is raised if a Column which has not yet been assigned a name, i.e. as in declarative, is used in a context where it is exported to the columns collection of an enclosing select() construct, or if any construct involving that column is compiled before its name is assigned.<a class="changeset-link headerlink reference internal" href="#change-6c2eaa8e6ce7b6c71555f1222eccbb27">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-32"><span class="yiyi-st" id="yiyi-521"><span class="target" id="change-69ad40851eefcd610d8d70ebd3511697"><strong>[sql] </strong></span>as_scalar(), label() can be called on a selectable which contains a Column that is not yet named.<a class="changeset-link headerlink reference internal" href="#change-69ad40851eefcd610d8d70ebd3511697">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-522">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1862">&#xFF03;1862</a></span></p></li><li><p id="change-0.6.5-33"><span class="yiyi-st" id="yiyi-523"><span class="target" id="change-fcb44a57a6160aab1d8c4e8427c9b044"><strong>[sql] </strong></span>Fixed recursion overflow which could occur when operating with two expressions both of type &#x201C;NullType&#x201D;, but not the singleton NULLTYPE instance.<a class="changeset-link headerlink reference internal" href="#change-fcb44a57a6160aab1d8c4e8427c9b044">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-524">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1907">&#xFF03;1907</a></span></p></li></ul></div><div class="section" id="change-0.6.5-postgresql"><h3><span class="yiyi-st" id="yiyi-525">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.6.5-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.5-34"><span class="yiyi-st" id="yiyi-526"><span class="target" id="change-4d094ee39f2d2bfb4cbd1e9cd2912640"><strong>[postgresql] </strong></span>&#x5C06;&#x201C;as_tuple&#x201D;&#x6807;&#x5FD7;&#x6DFB;&#x52A0;&#x5230;ARRAY&#x7C7B;&#x578B;&#xFF0C;&#x5E76;&#x5C06;&#x7ED3;&#x679C;&#x4F5C;&#x4E3A;&#x5143;&#x7EC4;&#x8FD4;&#x56DE;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5217;&#x8868;&#x4EE5;&#x5141;&#x8BB8;&#x54C8;&#x5E0C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4d094ee39f2d2bfb4cbd1e9cd2912640">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-35"><span class="yiyi-st" id="yiyi-527"><span class="target" id="change-5b9e6f2e203f6ec007fcf90d5d5d9e90"><strong>[postgresql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x9632;&#x6B62;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;&#xFF08;&#x4F8B;&#x5982;&#x201C;enum&#x201D;&#xFF09;&#x6784;&#x5EFA;&#x7684;&#x201C;&#x57DF;&#x201D;&#x88AB;&#x53CD;&#x5C04;&#x7684;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5b9e6f2e203f6ec007fcf90d5d5d9e90">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-528">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1933">&#xFF03;1933</a></span></p></li></ul></div><div class="section" id="change-0.6.5-mysql"><h3><span class="yiyi-st" id="yiyi-529">MySQL&#x7684;<a class="headerlink" href="#change-0.6.5-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.5-36"><span class="yiyi-st" id="yiyi-530"><span class="target" id="change-e8d0855d359fcbb93416e1b0988fdb8e"><strong>[mysql] </strong></span>Fixed bug involving reflection of CURRENT_TIMESTAMP default used with ON UPDATE clause, thanks to Taavi Burns<a class="changeset-link headerlink reference internal" href="#change-e8d0855d359fcbb93416e1b0988fdb8e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-531">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1940">&#xFF03;1940</a></span></p></li></ul></div><div class="section" id="change-0.6.5-mssql"><h3><span class="yiyi-st" id="yiyi-532">MSSQL <a class="headerlink" href="#change-0.6.5-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.5-37"><span class="yiyi-st" id="yiyi-533"><span class="target" id="change-f16e997950ea6bca39c0a059887dfbfd"><strong>[mssql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x672A;&#x80FD;&#x6B63;&#x786E;&#x5904;&#x7406;&#x672A;&#x77E5;&#x7C7B;&#x578B;&#x53CD;&#x5C04;&#x7684;&#x53CD;&#x5C04;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f16e997950ea6bca39c0a059887dfbfd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-534">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1946">&#xFF03;1946</a></span></p></li><li><p id="change-0.6.5-38"><span class="yiyi-st" id="yiyi-535"><span class="target" id="change-022e82021b20bc2c059207eb8b7234af"><strong>[mssql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x4F7F;&#x7528;&#x201C;schema&#x201D;&#x5BF9;&#x8868;&#x8FDB;&#x884C;&#x522B;&#x540D;&#x5931;&#x8D25;&#x65F6;&#x65E0;&#x6CD5;&#x6B63;&#x786E;&#x7F16;&#x8BD1;&#x7684;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-022e82021b20bc2c059207eb8b7234af">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-536">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1943">&#xFF03;1943</a></span></p></li><li><p id="change-0.6.5-39"><span class="yiyi-st" id="yiyi-537"><span class="target" id="change-9f19687a241d918bf9dd03d0cc3ff3ed"><strong>[mssql] </strong></span>&#x91CD;&#x5199;&#x7D22;&#x5F15;&#x7684;&#x53CD;&#x5C04;&#x4EE5;&#x4F7F;&#x7528;sys&#x3002;</span><span class="yiyi-st" id="yiyi-538">&#x76EE;&#x5F55;&#xFF0C;&#x4EE5;&#x4FBF;&#x4EFB;&#x4F55;&#x914D;&#x7F6E;&#x7684;&#x5217;&#x540D;&#xFF08;&#x7A7A;&#x683C;&#xFF0C;&#x5D4C;&#x5165;&#x9017;&#x53F7;&#x7B49;&#xFF09;</span><span class="yiyi-st" id="yiyi-539">&#x53EF;&#x4EE5;&#x53CD;&#x6620;&#x51FA;&#x6765;&#x3002;</span><span class="yiyi-st" id="yiyi-540">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x7D22;&#x5F15;&#x7684;&#x53CD;&#x6620;&#x9700;&#x8981;SQL Server 2005&#x6216;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9f19687a241d918bf9dd03d0cc3ff3ed">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-541">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1770">&#xFF03;1770</a></span></p></li><li><p id="change-0.6.5-40"><span class="yiyi-st" id="yiyi-542"><span class="target" id="change-ffe886676fb15f105e1a8cc37dfb6f9d"><strong>[mssql] </strong></span>&#x73B0;&#x5728;mssql + pymssql&#x65B9;&#x8A00;&#x5C0A;&#x91CD;URL&#x7684;&#x201C;&#x7AEF;&#x53E3;&#x201D;&#x90E8;&#x5206;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x653E;&#x5F03;&#x5B83;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ffe886676fb15f105e1a8cc37dfb6f9d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-543">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1952">&#xFF03;1952</a></span></p></li></ul></div><div class="section" id="change-0.6.5-oracle"><h3><span class="yiyi-st" id="yiyi-544">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.6.5-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.5-41"><span class="yiyi-st" id="yiyi-545"><span class="target" id="change-b1ce6e2ee29e5229dafefbb51f14def2"><strong>[oracle] </strong></span>&#x65E0;&#x8BBA;&#x68C0;&#x6D4B;&#x5230;Oracle&#x7684;&#x7248;&#x672C;&#xFF0C;&#x73B0;&#x5728;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;create_engine()&#x7684;implicit_retunring&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-546">&#x4EE5;&#x524D;&#xFF0C;&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x7248;&#x672C;&#x4FE1;&#x606F;<10，那么该标志将被强制为false。<a class="changeset-link headerlink reference internal" href="#change-b1ce6e2ee29e5229dafefbb51f14def2">&#xB6;</10，那么该标志将被强制为false。<a></span></p><p><span class="yiyi-st" id="yiyi-547">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1878">&#xFF03;1878</a></span></p></li></ul></div><div class="section" id="change-0.6.5-misc"><h3><span class="yiyi-st" id="yiyi-548">&#x6742;&#x9879;<a class="headerlink" href="#change-0.6.5-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.5-42"><span class="yiyi-st" id="yiyi-549"><span class="target" id="change-b19f9aa816f9e63c03fa209095e76f51"><strong>[declarative] </strong></span> @classproperty&#xFF08;&#x5F88;&#x5FEB;/&#x73B0;&#x5728;@declared_attr&#xFF09;&#x5BF9;&#x4E0D;&#x662F;mixin&#x7684;&#x57FA;&#x7C7B;&#x4E2D;&#x7684;__mapper_args__&#xFF0C;__table_args__&#xFF0C;__tablename__&#x751F;&#x6548;&#xFF0C;&#x4EE5;&#x53CA;mixins <a class="changeset-link headerlink reference internal" href="#change-b19f9aa816f9e63c03fa209095e76f51">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-550">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1922">&#xFF03;1922</a></span></p></li><li><p id="change-0.6.5-43"><span class="yiyi-st" id="yiyi-551"><span class="target" id="change-b9792dc15f6375711ec84bb73ae74272"><strong>[declarative] </strong></span>@classproperty &#x2018;s official name/location for usage with declarative is sqlalchemy.ext.declarative.declared_attr. </span><span class="yiyi-st" id="yiyi-552">&#x540C;&#x6837;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x4F46;&#x5B83;&#x5728;&#x90A3;&#x91CC;&#x79FB;&#x52A8;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x66F4;&#x50CF;&#x662F;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x4E8E;&#x58F0;&#x660E;&#x7684;&#x201C;&#x6807;&#x8BB0;&#x201D;&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x79CD;&#x5C5E;&#x6027;&#x6280;&#x672F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b9792dc15f6375711ec84bb73ae74272">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-553">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1915">&#xFF03;1915</a></span></p></li><li><p id="change-0.6.5-44"><span class="yiyi-st" id="yiyi-554"><span class="target" id="change-172b80261166fbfb39ffe45d8499afe2"><strong>[declarative] </strong></span>Fixed bug whereby columns on a mixin wouldn&#x2019;t propagate correctly to a single-table, or joined-table, inheritance scheme where the attribute name is different than that of the column.,.<a class="changeset-link headerlink reference internal" href="#change-172b80261166fbfb39ffe45d8499afe2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-555">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1931">&#xFF03;1931</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1930">&#xFF03;1930</a></span></p></li><li><p id="change-0.6.5-45"><span class="yiyi-st" id="yiyi-556"><span class="target" id="change-b0075b372f99003ca5b69e678f306150"><strong>[declarative] </strong></span>&#x73B0;&#x5728;&#xFF0C;mixin&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x8986;&#x76D6;&#x4E0E;&#x8D85;&#x7C7B;&#x5173;&#x8054;&#x7684;&#x540C;&#x540D;&#x5217;&#x7684;&#x5217;&#x3002;</span><span class="yiyi-st" id="yiyi-557">&#x611F;&#x8C22;Oystein Haaland&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b0075b372f99003ca5b69e678f306150">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-46"><span class="yiyi-st" id="yiyi-558"><span class="target" id="change-8af323a4cf559c67e71f9b667f9548f5"><strong>[informix] </strong></span> <em>&#x4E3B;&#x8981;</em>&#x6E05;&#x7406;/&#x66F4;&#x65B0;Informix&#x65B9;&#x8A00;0.6&#xFF0C;&#x793C;&#x8C8C;Florian Apolloner&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8af323a4cf559c67e71f9b667f9548f5"></a></span></p><p><span class="yiyi-st" id="yiyi-559">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1906">&#xFF03;1906</a></span></p></li><li><p id="change-0.6.5-47"><span class="yiyi-st" id="yiyi-560"><span class="target" id="change-e6cb2547ce70b9a4f2dec84481578326"><strong>[tests] </strong></span> NoseSQLAlchemyPlugin&#x5DF2;&#x7ECF;&#x88AB;&#x79FB;&#x52A8;&#x5230;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5305;&#x201C;sqlalchemy_nose&#x201D;&#x4E2D;&#xFF0C;&#x5B83;&#x4E0E;&#x201C;sqlalchemy&#x201D;&#x4E00;&#x8D77;&#x5B89;&#x88C5;&#x3002;</span><span class="yiyi-st" id="yiyi-561">&#x8FD9;&#x6837;&#xFF0C;&#x201C;nosetests&#x201D;&#x811A;&#x672C;&#x5C06;&#x4E00;&#x5982;&#x65E2;&#x5F80;&#x5730;&#x5DE5;&#x4F5C;&#xFF0C;&#x4F46;&#x4E5F;&#x5141;&#x8BB8;-with-coverage&#x9009;&#x9879;&#x5728;&#x5BFC;&#x5165;SQLAlchemy&#x6A21;&#x5757;&#x4E4B;&#x524D;&#x6253;&#x5F00;&#x8986;&#x76D6;&#x8303;&#x56F4;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F;coverage&#x80FD;&#x591F;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e6cb2547ce70b9a4f2dec84481578326">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.5-48"><span class="yiyi-st" id="yiyi-562"><span class="target" id="change-2643e47a8fea315fd31765418be4607e"><strong>[misc] </strong></span>CircularDependencyError now has .cycles and .edges members, which are the set of elements involved in one or more cycles, and the set of edges as 2-tuples.<a class="changeset-link headerlink reference internal" href="#change-2643e47a8fea315fd31765418be4607e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-563">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1890">&#xFF03;1890</a></span></p></li></ul></div></div><div class="section" id="change-0.6.4"><h2><span class="yiyi-st" id="yiyi-565">0.6.4 <a class="headerlink" href="#change-0.6.4" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-682">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2010&#x5E74;9&#x6708;07&#x65E5;</span><div class="section" id="change-0.6.4-orm"><h3><span class="yiyi-st" id="yiyi-566">ORM <a class="headerlink" href="#change-0.6.4-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.4-0"><span class="yiyi-st" id="yiyi-567"><span class="target" id="change-535033df965223821f740fe36bbc21c8"><strong>[orm] </strong></span>&#x540D;&#x79F0;ConcurrentModificationError&#x5DF2;&#x66F4;&#x6539;&#x4E3A;StaleDataError&#xFF0C;&#x5E76;&#x4E14;&#x5DF2;&#x4FEE;&#x6539;&#x63CF;&#x8FF0;&#x6027;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#x4EE5;&#x51C6;&#x786E;&#x53CD;&#x6620;&#x95EE;&#x9898;&#x6240;&#x5728;&#x3002;</span><span class="yiyi-st" id="yiyi-568">&#x5BF9;&#x4E8E;&#x53EF;&#x80FD;&#x5728;&#x201C;except&#xFF1A;&#x201D;&#x5B50;&#x53E5;&#x4E2D;&#x6307;&#x5B9A;ConcurrentModificationError&#x7684;&#x65B9;&#x6848;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x540D;&#x79F0;&#x4ECD;&#x53EF;&#x7528;&#x4E8E;&#x53EF;&#x9884;&#x89C1;&#x7684;&#x672A;&#x6765;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-535033df965223821f740fe36bbc21c8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-1"><span class="yiyi-st" id="yiyi-569"><span class="target" id="change-c8ed6002ef9d50947734327801710649"><strong>[orm] </strong></span>&#x4E3A;&#x8EAB;&#x4EFD;&#x6620;&#x5C04;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x4E92;&#x65A5;&#x4F53;&#xFF0C;&#x8BE5;&#x4E92;&#x65A5;&#x4F53;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x8FED;&#x4EE3;&#x65B9;&#x6CD5;&#x79FB;&#x9664;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;&#x8FED;&#x4EE3;&#x65B9;&#x6CD5;&#x73B0;&#x5728;&#x5728;&#x8FD4;&#x56DE;&#x53EF;&#x8FED;&#x4EE3;&#x4E4B;&#x524D;&#x9884;&#x7F13;&#x51B2;&#x3002;</span><span class="yiyi-st" id="yiyi-570">&#x8FD9;&#x662F;&#x56E0;&#x4E3A;asyncrhonous gc&#x53EF;&#x4EE5;&#x968F;&#x65F6;&#x901A;&#x8FC7;gc&#x7EBF;&#x7A0B;&#x79FB;&#x9664;&#x9879;&#x76EE;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c8ed6002ef9d50947734327801710649">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-571">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1891">&#xFF03;1891</a></span></p></li><li><p id="change-0.6.4-2"><span class="yiyi-st" id="yiyi-572"><span class="target" id="change-c30b33f0a0466c41b96742c2e74aad91"><strong>[orm] </strong></span> Session&#x7C7B;&#x73B0;&#x5728;&#x5B58;&#x5728;&#x4E8E;sqlalchemy.orm&#x3002;*&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-573">&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x9700;&#x8981;&#x4E00;&#x6B65;&#x5F0F;Session&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x518D;&#x4F7F;&#x7528;&#x5177;&#x6709;&#x975E;&#x6807;&#x51C6;&#x9ED8;&#x8BA4;&#x503C;&#x7684;create_session()&#x3002;</span><span class="yiyi-st" id="yiyi-574">&#x7136;&#x800C;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x7528;&#x6237;&#x5E94;&#x8BE5;&#x575A;&#x6301;&#x4F7F;&#x7528;sessionmaker()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c30b33f0a0466c41b96742c2e74aad91">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-3"><span class="yiyi-st" id="yiyi-575"><span class="target" id="change-8dff7e6fded59f4fa37d00624eb71bed"><strong>[orm] </strong></span>query.with_parent() now accepts transient objects and will use the non-persistent values of their pk/fk attributes in order to formulate the criterion. </span><span class="yiyi-st" id="yiyi-576">&#x6587;&#x6863;&#x8FD8;&#x9610;&#x660E;&#x4E86;with_parent()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8dff7e6fded59f4fa37d00624eb71bed">&#xB6;</a>&#x7684;&#x7528;&#x9014;</span></p><p></p></li><li><p id="change-0.6.4-4"><span class="yiyi-st" id="yiyi-577"><span class="target" id="change-2638d82e47303db82e79a9e5c1361b30"><strong>[orm] </strong></span>&#x9664;&#x4E86;&#x5B57;&#x7B26;&#x4E32;&#x4E4B;&#x5916;&#xFF0C;mapper()&#x7684;include_properties&#x548C;exclude_properties&#x53C2;&#x6570;&#x73B0;&#x5728;&#x8FD8;&#x63A5;&#x53D7;Column&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x6210;&#x5458;&#x3002;</span><span class="yiyi-st" id="yiyi-578">&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x533A;&#x5206;&#x540D;&#x79F0;&#x76F8;&#x540C;&#x7684;Column&#x5BF9;&#x8C61;&#xFF0C;&#x4F8B;&#x5982;join()&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2638d82e47303db82e79a9e5c1361b30">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-5"><span class="yiyi-st" id="yiyi-579"><span class="target" id="change-96944473a095ce6dfc07cbc71640f1d9"><strong>[orm] </strong></span>&#x5982;&#x679C;&#x6620;&#x5C04;&#x5668;&#x662F;&#x9488;&#x5BF9;&#x8FDE;&#x63A5;&#x6216;&#x5176;&#x4ED6;&#x5355;&#x4E2A;&#x53EF;&#x9009;&#x9879;&#xFF08;&#x5305;&#x542B;&#x591A;&#x4E2A;&#x5728;&#x5176;.c&#x4E2D;&#x5177;&#x6709;&#x76F8;&#x540C;&#x540D;&#x79F0;&#x7684;&#x5217;&#xFF09;&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x5219;&#x4F1A;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x3002;</span><span class="yiyi-st" id="yiyi-580">&#x96C6;&#x5408;&#xFF0C;&#x5E76;&#x4E14;&#x8FD9;&#x4E9B;&#x5217;&#x6CA1;&#x6709;&#x660E;&#x786E;&#x547D;&#x540D;&#x4E3A;&#x76F8;&#x540C;&#x6216;&#x72EC;&#x7ACB;&#x5C5E;&#x6027;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF08;&#x6216;&#x6392;&#x9664;&#x5728;&#x5916;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-581">&#x5728;0.7&#x8FD9;&#x4E2A;&#x8B66;&#x544A;&#x5C06;&#x662F;&#x4E00;&#x4E2A;&#x4F8B;&#x5916;&#x3002;</span><span class="yiyi-st" id="yiyi-582">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x7531;&#x4E8E;&#x7EE7;&#x627F;&#x800C;&#x5BFC;&#x81F4;&#x7EC4;&#x5408;&#x53D1;&#x751F;&#x65F6;&#xFF0C;&#x4E0D;&#x4F1A;&#x53D1;&#x51FA;&#x6B64;&#x8B66;&#x544A;&#xFF0C;&#x56E0;&#x6B64;&#x5C5E;&#x6027;&#x4ECD;&#x5141;&#x8BB8;&#x81EA;&#x7136;&#x88AB;&#x8986;&#x76D6;&#x3002;</span><span class="yiyi-st" id="yiyi-583">&#x5728;0.7&#x4E2D;&#xFF0C;&#x8FD9;&#x4F1A;&#x8FDB;&#x4E00;&#x6B65;&#x6539;&#x5584;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-96944473a095ce6dfc07cbc71640f1d9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-584">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1896">&#xFF03;1896</a></span></p></li><li><p id="change-0.6.4-6"><span class="yiyi-st" id="yiyi-585"><span class="target" id="change-95c2749ceb65bb793c5d3667b070c596"><strong>[orm] </strong></span> mapper()&#x7684;primary_key&#x53C2;&#x6570;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E00;&#x7CFB;&#x5217;&#x5217;&#xFF0C;&#x5B83;&#x4EEC;&#x53EA;&#x662F;&#x6620;&#x5C04;&#x53EF;&#x9009;&#x9879;&#x7684;&#x8BA1;&#x7B97;&#x201C;&#x4E3B;&#x952E;&#x201D;&#x5217;&#x7684;&#x5B50;&#x96C6;&#xFF0C;&#x4E0D;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-586">&#x8FD9;&#x6709;&#x52A9;&#x4E8E;&#x53EF;&#x9009;&#x62E9;&#x7684;&#x6709;&#x6548;&#x4E3B;&#x952E;&#x6BD4;&#x53EF;&#x9009;&#x4E2D;&#x5B9E;&#x9645;&#x6807;&#x8BB0;&#x4E3A;&#x201C;primary_key&#x201D;&#x7684;&#x5217;&#x7684;&#x6570;&#x91CF;&#x66F4;&#x7B80;&#x5355;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x4F8B;&#x5982;&#x4E0E;&#x4E3B;&#x952E;&#x5217;&#x4E0A;&#x7684;&#x4E24;&#x4E2A;&#x8868;&#x7684;&#x8054;&#x63A5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-95c2749ceb65bb793c5d3667b070c596">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-587">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1896">&#xFF03;1896</a></span></p></li><li><p id="change-0.6.4-7"><span class="yiyi-st" id="yiyi-588"><span class="target" id="change-fa24485df7e6bb87af279c1ebf82e0ec"><strong>[orm] </strong></span>An object that&#x2019;s been deleted now gets a flag &#x2018;deleted&#x2019;, which prohibits the object from being re-add()ed to the session, as previously the object would live in the identity map silently until its attributes were accessed. </span><span class="yiyi-st" id="yiyi-589">make_transient()&#x51FD;&#x6570;&#x73B0;&#x5728;&#x4F1A;&#x91CD;&#x7F6E;&#x6B64;&#x6807;&#x5FD7;&#x4EE5;&#x53CA;&#x201C;key&#x201D;&#x6807;&#x5FD7;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fa24485df7e6bb87af279c1ebf82e0ec">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-8"><span class="yiyi-st" id="yiyi-590"><span class="target" id="change-a8fc0dce447503a22a961b5cf7d20ae8"><strong>[orm] </strong></span> make_transient()&#x53EF;&#x4EE5;&#x5728;&#x5DF2;&#x7ECF;&#x662F;&#x77AC;&#x6001;&#x7684;&#x5B9E;&#x4F8B;&#x4E0A;&#x5B89;&#x5168;&#x5730;&#x8C03;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a8fc0dce447503a22a961b5cf7d20ae8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-9"><span class="yiyi-st" id="yiyi-591"><span class="target" id="change-6b78024db59658489dadbac75c893b54"><strong>[orm] </strong></span>a warning is emitted in mapper() if the polymorphic_on column is not present either in direct or derived form in the mapped selectable or in the with_polymorphic selectable, instead of silently ignoring it. </span><span class="yiyi-st" id="yiyi-592">&#x5BFB;&#x627E;&#x8FD9;&#x4E2A;&#x5728;0.7&#x4E2D;&#x6210;&#x4E3A;&#x4F8B;&#x5916;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6b78024db59658489dadbac75c893b54">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-10"><span class="yiyi-st" id="yiyi-593"><span class="target" id="change-4714288dd0e270666ddd8fcd21827ebc"><strong>[orm] </strong></span>Another pass through the series of error messages emitted when relationship() is configured with ambiguous arguments. </span><span class="yiyi-st" id="yiyi-594">&#x201C;foreign_keys&#x201D;&#x8BBE;&#x7F6E;&#x4E0D;&#x518D;&#x63D0;&#x53CA;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x51E0;&#x4E4E;&#x4E0D;&#x9700;&#x8981;&#xFF0C;&#x56E0;&#x6B64;&#x7528;&#x6237;&#x6700;&#x597D;&#x8BBE;&#x7F6E;&#x6B63;&#x786E;&#x7684;ForeignKey&#x5143;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x662F;&#x73B0;&#x5728;&#x7684;&#x5EFA;&#x8BAE;&#x3002;</span><span class="yiyi-st" id="yiyi-595">&#x5982;&#x679C;&#x4F7F;&#x7528;&apos;foreign_keys&apos;&#x5E76;&#x4E14;&#x4E0D;&#x6B63;&#x786E;&#xFF0C;&#x5219;&#x6D88;&#x606F;&#x8868;&#x660E;&#x8BE5;&#x5C5E;&#x6027;&#x53EF;&#x80FD;&#x662F;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x3002;</span><span class="yiyi-st" id="yiyi-596">&#x8BE5;&#x5C5E;&#x6027;&#x7684;&#x6587;&#x6863;&#x5F97;&#x5230;&#x4E86;&#x52A0;&#x5F3A;&#x3002;</span><span class="yiyi-st" id="yiyi-597">&#x8FD9;&#x662F;&#x56E0;&#x4E3A;ML&#x4E0A;&#x7684;&#x6240;&#x6709;&#x6DF7;&#x6DC6;&#x7684;&#x5173;&#x7CFB;()&#x7528;&#x6237;&#x4F3C;&#x4E4E;&#x90FD;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528;foreign_keys&#xFF0C;&#x8FD9;&#x662F;&#x7531;&#x4E8E;&#x8868;&#x5143;&#x6570;&#x636E;&#x66F4;&#x52A0;&#x6E05;&#x6670;&#xFF0C;&#x8FD9;&#x53EA;&#x4F1A;&#x4F7F;&#x4ED6;&#x4EEC;&#x66F4;&#x52A0;&#x6DF7;&#x6DC6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4714288dd0e270666ddd8fcd21827ebc">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-11"><span class="yiyi-st" id="yiyi-598"><span class="target" id="change-0c977ba4a7beb44f73ec46ff9a6699ac"><strong>[orm] </strong></span>If the &#x201C;secondary&#x201D; table has no ForeignKey metadata and no foreign_keys is set, even though the user is passing screwed up information, it is assumed that primary/secondaryjoin expressions should consider only and all cols in &#x201C;secondary&#x201D; to be foreign. </span><span class="yiyi-st" id="yiyi-599">&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5916;&#x952E;&#x90FD;&#x4E0D;&#x5728;&#x5176;&#x4ED6;&#x4F4D;&#x7F6E;&#x3002;</span><span class="yiyi-st" id="yiyi-600">&#x73B0;&#x5728;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x800C;&#x4E0D;&#x662F;&#x9519;&#x8BEF;&#xFF0C;&#x5E76;&#x4E14;&#x6620;&#x5C04;&#x6210;&#x529F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0c977ba4a7beb44f73ec46ff9a6699ac">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-601">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1877">&#xFF03;1877</a></span></p></li><li><p id="change-0.6.4-12"><span class="yiyi-st" id="yiyi-602"><span class="target" id="change-9feca02adf52a0e5fcf4763b9b262443"><strong>[orm] </strong></span>Moving an o2m object from one collection to another, or vice versa changing the referenced object by an m2o, where the foreign key is also a member of the primary key, will now be more carefully checked during flush if the change in value of the foreign key on the &#x201C;many&#x201D; side is the result of a change in the primary key of the &#x201C;one&#x201D; side, or if the &#x201C;one&#x201D; is just a different object. </span><span class="yiyi-st" id="yiyi-603">&#x5728;&#x4E00;&#x4E2A;&#x6848;&#x4F8B;&#x4E2D;&#xFF0C;&#x7EA7;&#x8054;&#x6570;&#x636E;&#x5E93;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x7EA7;&#x8054;&#x4E86;&#x8BE5;&#x503C;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x67E5;&#x770B;&#x201C;&#x65B0;&#x201D;PK&#x503C;&#x6765;&#x6267;&#x884C;UPDATE&#xFF0C;&#x800C;&#x53E6;&#x4E00;&#x4E2A;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x201C;&#x65E7;&#x201D;&#x6570;&#x636E;&#x5E93;&#x3002;</span><span class="yiyi-st" id="yiyi-604">&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x770B;&#x4E00;&#x4E0B;&#x201C;&#x65E7;&#x201D;&#xFF0C;&#x5047;&#x8BBE;passive_updates = True&#xFF0C;&#x9664;&#x975E;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;PK&#x5F00;&#x5173;&#x89E6;&#x53D1;&#x4E86;&#x8FD9;&#x4E2A;&#x53D8;&#x5316;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9feca02adf52a0e5fcf4763b9b262443">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-605">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1856">&#xFF03;1856</a></span></p></li><li><p id="change-0.6.4-13"><span class="yiyi-st" id="yiyi-606"><span class="target" id="change-7b40a0ed4bb3ad00531e5ece518709c2"><strong>[orm] </strong></span> version_id_col&#x7684;&#x503C;&#x53EF;&#x4EE5;&#x624B;&#x52A8;&#x66F4;&#x6539;&#xFF0C;&#x8FD9;&#x5C06;&#x5BFC;&#x81F4;&#x8BE5;&#x884C;&#x7684;UPDATE&#x3002;</span><span class="yiyi-st" id="yiyi-607">&#x7248;&#x672C;&#x5316;&#x7684;UPDATE&#x548C;DELETE&#x73B0;&#x5728;&#x4F7F;&#x7528;WHERE&#x5B50;&#x53E5;&#x4E2D;&#x7684;version_id_col&#x7684;&#x201C;&#x843D;&#x5B9E;&#x201D;&#x503C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6302;&#x8D77;&#x7684;&#x66F4;&#x6539;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-608">&#x5982;&#x679C;&#x5728;&#x5C5E;&#x6027;&#x4E0A;&#x5B58;&#x5728;&#x624B;&#x52A8;&#x66F4;&#x6539;&#xFF0C;&#x7248;&#x672C;&#x751F;&#x6210;&#x5668;&#x4E5F;&#x4F1A;&#x88AB;&#x7ED5;&#x8FC7;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7b40a0ed4bb3ad00531e5ece518709c2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-609">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1857">&#xFF03;1857</a></span></p></li><li><p id="change-0.6.4-14"><span class="yiyi-st" id="yiyi-610"><span class="target" id="change-8665092a2dcfbeb8cfd12fb215aaa1e2"><strong>[orm] </strong></span>&#x5728;&#x4E0E;&#x5177;&#x4F53;&#x7EE7;&#x627F;&#x6620;&#x5C04;&#x5668;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x65F6;&#x4FEE;&#x590D;&#x4E86;merge()&#x7684;&#x7528;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-611">&#x8FD9;&#x6837;&#x7684;&#x6620;&#x5C04;&#x5668;&#x901A;&#x5E38;&#x5177;&#x6709;&#x6240;&#x8C13;&#x7684;&#x201C;&#x5177;&#x4F53;&#x201D;&#x5C5E;&#x6027;&#xFF0C;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x662F;&#x201C;&#x7981;&#x6B62;&#x201D;&#x7236;&#x7EA7;&#x4F20;&#x64AD;&#x7684;&#x5B50;&#x7C7B;&#x5C5E;&#x6027; - &#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x5141;&#x8BB8;merge()&#x64CD;&#x4F5C;&#x65E0;&#x9700;&#x901A;&#x8FC7;&#x5C31;&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8665092a2dcfbeb8cfd12fb215aaa1e2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-15"><span class="yiyi-st" id="yiyi-612"><span class="target" id="change-4510836f41e7d0aacd0767c13db1d59b"><strong>[orm] </strong></span>Specifying a non-column based argument for column_mapped_collection, including string, text() etc., will raise an error message that specifically asks for a column element, no longer misleads with incorrect information about text() or literal().<a class="changeset-link headerlink reference internal" href="#change-4510836f41e7d0aacd0767c13db1d59b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-613">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1863">&#xFF03;1863</a></span></p></li><li><p id="change-0.6.4-16"><span class="yiyi-st" id="yiyi-614"><span class="target" id="change-671bef71f312d0040b6a4caf49decd77"><strong>[orm] </strong></span>Similarly, for relationship(), foreign_keys, remote_side, order_by - all column-based expressions are enforced - lists of strings are explicitly disallowed since this is a very common error<a class="changeset-link headerlink reference internal" href="#change-671bef71f312d0040b6a4caf49decd77">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-17"><span class="yiyi-st" id="yiyi-615"><span class="target" id="change-ca14d6f9dcfb96b5f02b1a2ef13fa35d"><strong>[orm] </strong></span>Dynamic attributes don&#x2019;t support collection population - added an assertion for when set_committed_value() is called, as well as when joinedload() or subqueryload() options are applied to a dynamic attribute, instead of failure / silent failure.<a class="changeset-link headerlink reference internal" href="#change-ca14d6f9dcfb96b5f02b1a2ef13fa35d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-616">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1864">&#xFF03;1864</a></span></p></li><li><p id="change-0.6.4-18"><span class="yiyi-st" id="yiyi-617"><span class="target" id="change-d81765c5426dca3b1ec2a2f05a542dbb"><strong>[orm] </strong></span>Fixed bug whereby generating a Query derived from one which had the same column repeated with different label names, typically in some UNION situations, would fail to propagate the inner columns completely to the outer query.<a class="changeset-link headerlink reference internal" href="#change-d81765c5426dca3b1ec2a2f05a542dbb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-618">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1852">&#xFF03;1852</a></span></p></li><li><p id="change-0.6.4-19"><span class="yiyi-st" id="yiyi-619"><span class="target" id="change-8519514b873baed592912155c0427a1e"><strong>[orm] </strong></span>object_session() raises the proper UnmappedInstanceError when presented with an unmapped instance.<a class="changeset-link headerlink reference internal" href="#change-8519514b873baed592912155c0427a1e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-620">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1881">&#xFF03;1881</a></span></p></li><li><p id="change-0.6.4-20"><span class="yiyi-st" id="yiyi-621"><span class="target" id="change-e79a357376a117fe672113952bbe015b"><strong>[orm] </strong></span>&#x5BF9;&#x8BA1;&#x7B97;&#x7684;Mapper&#x5C5E;&#x6027;&#x5E94;&#x7528;&#x8FDB;&#x4E00;&#x6B65;&#x7684;&#x8BB0;&#x5FC6;&#xFF0C;&#x5728;&#x5927;&#x91CF;&#x591A;&#x6001;&#x6620;&#x5C04;&#x914D;&#x7F6E;&#x4E2D;&#xFF0C;&#x91CD;&#x8981;&#x7684;&#xFF08;&#x301C;90&#xFF05;&#xFF09;&#x8FD0;&#x884C;&#x65F6;mapper.py&#x8C03;&#x7528;&#x8BA1;&#x6570;&#x51CF;&#x5C11;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e79a357376a117fe672113952bbe015b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-21"><span class="yiyi-st" id="yiyi-622"><span class="target" id="change-a71fab65be706a5c214db3ca5b3abbb9"><strong>[orm] </strong></span>&#x7248;&#x672C;&#x63A7;&#x5236;&#x793A;&#x4F8B;&#x4F7F;&#x7528;&#x7684;mapper _get_col_to_prop&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#x5DF2;&#x88AB;&#x5F03;&#x7528;&#xFF1B;&#x73B0;&#x5728;&#x4F7F;&#x7528;mapper.get_property_by_column()&#xFF0C;&#x5B83;&#x4ECD;&#x7136;&#x662F;&#x516C;&#x5171;&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a71fab65be706a5c214db3ca5b3abbb9">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-22"><span class="yiyi-st" id="yiyi-623"><span class="target" id="change-8d5f4593adc4160b12a49dcee66d174f"><strong>[orm] </strong></span>&#x7248;&#x672C;&#x63A7;&#x5236;&#x793A;&#x4F8B;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x4EE5;&#x524D;&#x4E3A;NULL&#x7684;col&#x4E0A;&#x8FDB;&#x884C;&#x7248;&#x672C;&#x63A7;&#x5236;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8d5f4593adc4160b12a49dcee66d174f">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6.4-engine"><h3><span class="yiyi-st" id="yiyi-624">&#x53D1;&#x52A8;&#x673A;<a class="headerlink" href="#change-0.6.4-engine" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.4-23"><span class="yiyi-st" id="yiyi-625"><span class="target" id="change-589479e3126e16088d4e863148a31849"><strong>[engine] </strong></span>Calling fetchone() or similar on a result that has already been exhausted, has been closed, or is not a result-returning result now raises ResourceClosedError, a subclass of InvalidRequestError, in all cases, regardless of backend. </span><span class="yiyi-st" id="yiyi-626">&#x4EE5;&#x524D;&#xFF0C;&#x4E00;&#x4E9B;DBAPI&#x4F1A;&#x5F15;&#x53D1;ProgrammingError&#xFF08;&#x5373;pysqlite&#xFF09;&#xFF0C;&#x800C;&#x5176;&#x4ED6;DBAPI&#x4F1A;&#x8FD4;&#x56DE;None&#x5BFC;&#x81F4;&#x4E0B;&#x6E38;&#x7834;&#x574F;&#xFF08;&#x5373;MySQL-python&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-589479e3126e16088d4e863148a31849">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-24"><span class="yiyi-st" id="yiyi-627"><span class="target" id="change-0c3f6fab852e973ab1d2ba1c54362a92"><strong>[engine] </strong></span>Fixed bug in Connection whereby if a &#x201C;disconnect&#x201D; event occurred in the &#x201C;initialize&#x201D; phase of the first connection pool connect, an AttributeError would be raised when the Connection would attempt to invalidate the DBAPI connection.<a class="changeset-link headerlink reference internal" href="#change-0c3f6fab852e973ab1d2ba1c54362a92">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-628">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1894">&#xFF03;1894</a></span></p></li><li><p id="change-0.6.4-25"><span class="yiyi-st" id="yiyi-629"><span class="target" id="change-ab05177ef559d382cd656f5e04d11148"><strong>[engine] </strong></span>&#x8FDE;&#x63A5;&#xFF0C;ResultProxy&#x4EE5;&#x53CA;Session&#x4F7F;&#x7528;ResourceClosedError&#x4E3A;&#x6240;&#x6709;&#x201C;&#x6B64;&#x8FDE;&#x63A5;/&#x4E8B;&#x52A1;/&#x7ED3;&#x679C;&#x4E3A;&#x5173;&#x95ED;&#x201D;&#x7C7B;&#x578B;&#x7684;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ab05177ef559d382cd656f5e04d11148">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-26"><span class="yiyi-st" id="yiyi-630"><span class="target" id="change-d4066423ccfa075735e1ebf61f2cbc24"><strong>[engine] </strong></span>&#x53EF;&#x4EE5;&#x591A;&#x6B21;&#x8C03;&#x7528;Connection.invalidate()&#xFF0C;&#x968F;&#x540E;&#x7684;&#x8C03;&#x7528;&#x4EC0;&#x4E48;&#x4E5F;&#x4E0D;&#x505A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d4066423ccfa075735e1ebf61f2cbc24">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6.4-sql"><h3><span class="yiyi-st" id="yiyi-631">SQL <a class="headerlink" href="#change-0.6.4-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.4-27"><span class="yiyi-st" id="yiyi-632"><span class="target" id="change-480b20f80312b137c4a7324b0d657a63"><strong>[sql] </strong></span>Calling execute() on an alias() construct is pending deprecation for 0.7, as it is not itself an &#x201C;executable&#x201D; construct. </span><span class="yiyi-st" id="yiyi-633">&#x5B83;&#x76EE;&#x524D;&#x201C;&#x4EE3;&#x7406;&#x201D;&#x4E86;&#x5B83;&#x7684;&#x5185;&#x90E8;&#x5143;&#x7D20;&#xFF0C;&#x5E76;&#x4E14;&#x6709;&#x6761;&#x4EF6;&#x5730;&#x201C;&#x53EF;&#x6267;&#x884C;&#x201D;&#xFF0C;&#x4F46;&#x8FD9;&#x5E76;&#x4E0D;&#x662F;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x559C;&#x6B22;&#x7684;&#x90A3;&#x79CD;&#x6A21;&#x7CCA;&#x6027;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-480b20f80312b137c4a7324b0d657a63">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-28"><span class="yiyi-st" id="yiyi-634"><span class="target" id="change-eb5f51e1a650e79182bb020de761924f"><strong>[sql] </strong></span> ClauseElement&#x7684;execute()&#x548C;scalar()&#x65B9;&#x6CD5;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x9002;&#x5F53;&#x5730;&#x79FB;&#x52A8;&#x5230;Executable&#x5B50;&#x7C7B;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-635">ClauseElement.execute()/ scalar()&#x4ECD;&#x7136;&#x5B58;&#x5728;&#xFF0C;&#x5E76;&#x4E14;&#x5728;0.7&#x4E2D;&#x5904;&#x4E8E;&#x5F85;&#x5F03;&#x7528;&#x72B6;&#x6001;&#xFF0C;&#x4F46;&#x662F;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x4E0D;&#x662F;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#xFF0C;&#x5B83;&#x4EEC;&#x603B;&#x662F;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#xFF08;&#x9664;&#x975E;&#x60A8;&#x662F;&#x522B;&#x540D;()&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x524D;&#x9762;&#x7684;&#x6CE8;&#x91CA;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-eb5f51e1a650e79182bb020de761924f">&#xB6; T0&gt;</a></span></p><p></p></li><li><p id="change-0.6.4-29"><span class="yiyi-st" id="yiyi-636"><span class="target" id="change-95e0aca2331a7b95d533d515094ccb13"><strong>[sql] </strong></span>&#x4E3A;Numeric-&gt; Integer&#x6DFB;&#x52A0;&#x4E86;&#x57FA;&#x672C;&#x7684;&#x6570;&#x5B66;&#x8868;&#x8FBE;&#x5F0F;&#x5F3A;&#x5236;&#xFF0C;&#x6240;&#x4EE5;&#x65E0;&#x8BBA;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x65B9;&#x5411;&#x5982;&#x4F55;&#xFF0C;&#x7ED3;&#x679C;&#x7C7B;&#x578B;&#x90FD;&#x662F;Numeric&#x3002;<a class="changeset-link headerlink reference internal" href="#change-95e0aca2331a7b95d533d515094ccb13">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-30"><span class="yiyi-st" id="yiyi-637"><span class="target" id="change-a584b4c246f0f778263d5dc8e66808ad"><strong>[sql] </strong></span>&#x5728;&#x5217;&#x4E0A;&#x4F7F;&#x7528;&#x201C;index = True&#x201D;&#x6807;&#x5FD7;&#x65F6;&#xFF0C;&#x66F4;&#x6539;&#x4E86;&#x7528;&#x4E8E;&#x751F;&#x6210;&#x622A;&#x65AD;&#x7684;&#x201C;auto&#x201D;&#x7D22;&#x5F15;&#x540D;&#x79F0;&#x7684;&#x65B9;&#x6848;&#x3002;</span><span class="yiyi-st" id="yiyi-638">&#x622A;&#x65AD;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x540D;&#x79F0;&#x8FDB;&#x884C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;&#x540D;&#x79F0;&#xFF08;&#x800C;&#x4E0D;&#x662F;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;&#x9519;&#x8BEF;&#xFF09;&#xFF0C;&#x622A;&#x65AD;&#x65B9;&#x6848;&#x672C;&#x8EAB;&#x73B0;&#x5728;&#x57FA;&#x4E8E;&#x6807;&#x8BC6;&#x7B26;&#x540D;&#x79F0;&#x7684;md5&#x54C8;&#x5E0C;&#x788E;&#x7247;&#xFF0C;&#x56E0;&#x6B64;&#x5177;&#x6709;&#x76F8;&#x4F3C;&#x540D;&#x79F0;&#x7684;&#x5217;&#x4E0A;&#x7684;&#x591A;&#x4E2A;&#x7D22;&#x5F15;&#x4ECD;&#x5177;&#x6709;&#x552F;&#x4E00;&#x540D;&#x79F0;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a584b4c246f0f778263d5dc8e66808ad">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-639">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1855">&#xFF03;1855</a></span></p></li><li><p id="change-0.6.4-31"><span class="yiyi-st" id="yiyi-640"><span class="target" id="change-cdd20195fab17091c475b43262749a74"><strong>[sql] </strong></span>The generated index name also is based on a &#x201C;max index name length&#x201D; attribute which is separate from the &#x201C;max identifier length&#x201D; - this to appease MySQL who has a max length of 64 for index names, separate from their overall max length of 255.<a class="changeset-link headerlink reference internal" href="#change-cdd20195fab17091c475b43262749a74">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-641">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1412">&#xFF03;1412</a></span></p></li><li><p id="change-0.6.4-32"><span class="yiyi-st" id="yiyi-642"><span class="target" id="change-e0733f3fbe5188168ab9fc6dd0040998"><strong>[sql] </strong></span>the text() construct, if placed in a column oriented situation, will at least return NULLTYPE for its type instead of None, allowing it to be used a little more freely for ad-hoc column expressions than before. </span><span class="yiyi-st" id="yiyi-643">&#x7136;&#x800C;&#xFF0C;literal_column()&#x4ECD;&#x7136;&#x662F;&#x66F4;&#x597D;&#x7684;&#x9009;&#x62E9;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e0733f3fbe5188168ab9fc6dd0040998">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-33"><span class="yiyi-st" id="yiyi-644"><span class="target" id="change-be54ec2b3e2eb3de741a48665fe37d51"><strong>[sql] </strong></span>&#x5F53;ForeignKey&#x65E0;&#x6CD5;&#x89E3;&#x6790;&#x76EE;&#x6807;&#x65F6;&#xFF0C;&#x6DFB;&#x52A0;&#x5BF9;&#x7236;&#x8868;/&#x5217;&#xFF0C;&#x76EE;&#x6807;&#x8868;/&#x5217;&#x7684;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#x4E2D;&#x7684;&#x5B8C;&#x6574;&#x63CF;&#x8FF0;<a class="changeset-link headerlink reference internal" href="#change-be54ec2b3e2eb3de741a48665fe37d51">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-34"><span class="yiyi-st" id="yiyi-645"><span class="target" id="change-95d89e7a08c42c04836f4ec67f236a9f"><strong>[sql] </strong></span>Fixed bug whereby replacing composite foreign key columns in a reflected table would cause an attempt to remove the reflected constraint from the table a second time, raising a KeyError.<a class="changeset-link headerlink reference internal" href="#change-95d89e7a08c42c04836f4ec67f236a9f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-646">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1865">&#xFF03;1865</a></span></p></li><li><p id="change-0.6.4-35"><span class="yiyi-st" id="yiyi-647"><span class="target" id="change-0a8949e6824cfb04db55beb3e85e4aed"><strong>[sql] </strong></span>the _Label construct, i.e. the one that is produced whenever you say somecol.label(), now counts itself in its &#x201C;proxy_set&#x201D; unioned with that of its contained column&#x2019;s proxy set, instead of directly returning that of the contained column. </span><span class="yiyi-st" id="yiyi-648">&#x8FD9;&#x5141;&#x8BB8;&#x4F9D;&#x8D56;&#x4E8E;_Labels&#x672C;&#x8EAB;&#x8EAB;&#x4EFD;&#x7684;&#x5217;&#x5BF9;&#x5E94;&#x64CD;&#x4F5C;&#x8FD4;&#x56DE;&#x6B63;&#x786E;&#x7684;&#x7ED3;&#x679C;<a class="changeset-link headerlink reference internal" href="#change-0a8949e6824cfb04db55beb3e85e4aed">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-36"><span class="yiyi-st" id="yiyi-649"><span class="target" id="change-babee0cfb69d9dbe635ee89deaa616d3"><strong>[sql] </strong></span>&#x4FEE;&#x590D;&#x4E86;ORM bug&#x3002;<a class="changeset-link headerlink reference internal" href="#change-babee0cfb69d9dbe635ee89deaa616d3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-650">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1852">&#xFF03;1852</a></span></p></li></ul></div><div class="section" id="change-0.6.4-postgresql"><h3><span class="yiyi-st" id="yiyi-651">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.6.4-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.4-37"><span class="yiyi-st" id="yiyi-652"><span class="target" id="change-f20cfbd769e0d3362affb83971075073"><strong>[postgresql] </strong></span>Fixed the psycopg2 dialect to use its set_isolation_level() method instead of relying upon the base &#x201C;SET SESSION ISOLATION&#x201D; command, as psycopg2 resets the isolation level on each new transaction otherwise.<a class="changeset-link headerlink reference internal" href="#change-f20cfbd769e0d3362affb83971075073">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6.4-mssql"><h3><span class="yiyi-st" id="yiyi-653">MSSQL <a class="headerlink" href="#change-0.6.4-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.4-38"><span class="yiyi-st" id="yiyi-654"><span class="target" id="change-653ce1cee9e040e6cd9de66cc99d034d"><strong>[mssql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x201C;default schema&#x201D;&#x67E5;&#x8BE2;&#x4E0E;pymssql&#x540E;&#x7AEF;&#x4E00;&#x8D77;&#x5DE5;&#x4F5C;&#x7684;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-653ce1cee9e040e6cd9de66cc99d034d">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6.4-oracle"><h3><span class="yiyi-st" id="yiyi-655">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.6.4-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.4-39"><span class="yiyi-st" id="yiyi-656"><span class="target" id="change-c4096e037bacbf97eddd92b0034f98ca"><strong>[oracle] </strong></span>&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x663E;&#x5F0F;CAST&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5411;Oracle&#x65B9;&#x8A00;&#x6DFB;&#x52A0;ROWID&#x7C7B;&#x578B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c4096e037bacbf97eddd92b0034f98ca">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-657">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1879">&#xFF03;1879</a></span></p></li><li><p id="change-0.6.4-40"><span class="yiyi-st" id="yiyi-658"><span class="target" id="change-0c48f10bbe06c8a4b97b10e3f86708d7"><strong>[oracle] </strong></span>Oracle reflection of indexes has been tuned so that indexes which include some or all primary key columns, but not the same set of columns as that of the primary key, are reflected. </span><span class="yiyi-st" id="yiyi-659">&#x5305;&#x542B;&#x4E0E;&#x4E3B;&#x952E;&#x76F8;&#x540C;&#x7684;&#x5217;&#x7684;&#x7D22;&#x5F15;&#x5728;&#x53CD;&#x5C04;&#x5185;&#x8DF3;&#x8FC7;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x7D22;&#x5F15;&#x88AB;&#x5047;&#x5B9A;&#x4E3A;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x4E3B;&#x952E;&#x7D22;&#x5F15;&#x3002;</span><span class="yiyi-st" id="yiyi-660">&#x4EE5;&#x524D;&#xFF0C;PK&#x5217;&#x5B58;&#x5728;&#x7684;&#x4EFB;&#x4F55;&#x7D22;&#x5F15;&#x90FD;&#x4F1A;&#x88AB;&#x8DF3;&#x8FC7;&#x3002;</span><span class="yiyi-st" id="yiyi-661">&#x611F;&#x8C22;Kent Bower&#x63D0;&#x4F9B;&#x7684;&#x8865;&#x4E01;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0c48f10bbe06c8a4b97b10e3f86708d7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-662">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1867">&#xFF03;1867</a></span></p></li><li><p id="change-0.6.4-41"><span class="yiyi-st" id="yiyi-663"><span class="target" id="change-ee4487a1aebbf952cb6ceaac4cb47cc8"><strong>[oracle] </strong></span>Oracle now reflects the names of primary key constraints - also thanks to Kent Bower.<a class="changeset-link headerlink reference internal" href="#change-ee4487a1aebbf952cb6ceaac4cb47cc8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-664">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1868">&#xFF03;1868</a></span></p></li></ul></div><div class="section" id="change-0.6.4-firebird"><h3><span class="yiyi-st" id="yiyi-665">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.6.4-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.4-42"><span class="yiyi-st" id="yiyi-666"><span class="target" id="change-92ab44e94581b35f750bf10f4e470570"><strong>[firebird] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5217;&#x9ED8;&#x8BA4;&#x503C;&#x65E0;&#x6CD5;&#x53CD;&#x6620;&#x201C;default&#x201D;&#x5173;&#x952E;&#x5B57;&#x662F;&#x5426;&#x4E3A;&#x5C0F;&#x5199;&#x7684;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-92ab44e94581b35f750bf10f4e470570">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6.4-misc"><h3><span class="yiyi-st" id="yiyi-667">&#x6742;&#x9879;<a class="headerlink" href="#change-0.6.4-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.4-43"><span class="yiyi-st" id="yiyi-668"><span class="target" id="change-d4f2d73f8008d60634e100a68c13d398"><strong>[declarative] </strong></span>&#x5982;&#x679C;@classproperty&#x4E0E;&#x5E38;&#x89C4;&#x7684;&#x7C7B;&#x7ED1;&#x5B9A;&#x6620;&#x5C04;&#x5668;&#x5C5E;&#x6027;&#x5C5E;&#x6027;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x5B83;&#x5C06;&#x88AB;&#x8C03;&#x7528;&#x4EE5;&#x83B7;&#x53D6;&#x521D;&#x59CB;&#x5316;&#x671F;&#x95F4;&#x7684;&#x5B9E;&#x9645;&#x5C5E;&#x6027;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-669">&#x76EE;&#x524D;&#xFF0C;&#x5BF9;&#x4E0D;&#x662F;&#x6DF7;&#x5408;&#x7684;&#x58F0;&#x660E;&#x7C7B;&#x7684;&#x5217;&#x6216;&#x5173;&#x7CFB;&#x5C5E;&#x6027;&#x4F7F;&#x7528;@classproperty&#x6CA1;&#x6709;&#x597D;&#x5904; - &#x8BC4;&#x4F30;&#x4E0E;&#x4E0D;&#x4F7F;&#x7528;@classproperty&#x540C;&#x65F6;&#x8FDB;&#x884C;&#x3002;</span><span class="yiyi-st" id="yiyi-670">&#x4F46;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x81F3;&#x5C11;&#x5141;&#x8BB8;&#x5B83;&#x6309;&#x9884;&#x671F;&#x8FD0;&#x884C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d4f2d73f8008d60634e100a68c13d398">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-44"><span class="yiyi-st" id="yiyi-671"><span class="target" id="change-868509e7b789f5e8a014c772349e3eb7"><strong>[declarative] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x201C;&#x65E0;&#x6CD5;&#x6DFB;&#x52A0;&#x989D;&#x5916;&#x5217;&#x201D;&#x6D88;&#x606F;&#x7684;&#x9519;&#x8BEF;&#x540D;&#x79F0;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-868509e7b789f5e8a014c772349e3eb7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-45"><span class="yiyi-st" id="yiyi-672"><span class="target" id="change-431a87a1564f158a2d2ac1b341792ad1"><strong>[informix] </strong></span>&#x5E94;&#x7528;&#x8865;&#x4E01;&#x7A0B;&#x5E8F;&#x4EE5;&#x518D;&#x6B21;&#x83B7;&#x5F97;&#x57FA;&#x672C;&#x7684;Informix&#x529F;&#x80FD;&#x3002;</span><span class="yiyi-st" id="yiyi-673">&#x6211;&#x4EEC;&#x4F9D;&#x9760;&#x6700;&#x7EC8;&#x7528;&#x6237;&#x6D4B;&#x8BD5;&#x6765;&#x786E;&#x4FDD;Informix&#x5728;&#x67D0;&#x79CD;&#x7A0B;&#x5EA6;&#x4E0A;&#x6709;&#x6548;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-431a87a1564f158a2d2ac1b341792ad1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-674">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1904">&#xFF03;1904</a></span></p></li><li><p id="change-0.6.4-46"><span class="yiyi-st" id="yiyi-675"><span class="target" id="change-d47912608c4830253d4f01066a3062bb"><strong>[documentation] </strong></span>The docs have been reorganized such that the &#x201C;API Reference&#x201D; section is gone - all the docstrings from there which were public API are moved into the context of the main doc section that talks about it. </span><span class="yiyi-st" id="yiyi-676">&#x4E3B;&#x8981;&#x6587;&#x6863;&#x5206;&#x4E3A;&#x201C;SQLAlchemy Core&#x201D;&#x548C;&#x201C;SQLAlchemy ORM&#x201D;&#x90E8;&#x5206;&#xFF0C;&#x6620;&#x5C04;&#x5668;/&#x5173;&#x7CFB;&#x6587;&#x6863;&#x5DF2;&#x88AB;&#x6253;&#x7834;&#x3002;</span><span class="yiyi-st" id="yiyi-677">&#x8BB8;&#x591A;&#x90E8;&#x5206;&#x88AB;&#x91CD;&#x5199;&#x548C;/&#x6216;&#x91CD;&#x7EC4;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d47912608c4830253d4f01066a3062bb">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-47"><span class="yiyi-st" id="yiyi-678"><span class="target" id="change-781cd432413e70f6da98e3dd05fda2be"><strong>[examples] </strong></span>The beaker_caching example has been reorganized such that the Session, cache manager, declarative_base are part of environment, and custom cache code is portable and now within &#x201C;caching_query.py&#x201D;. </span><span class="yiyi-st" id="yiyi-679">&#x8FD9;&#x4F7F;&#x5F97;&#x8BE5;&#x793A;&#x4F8B;&#x53EF;&#x4EE5;&#x66F4;&#x5BB9;&#x6613;&#x5730;&#x201C;&#x63D2;&#x5165;&#x201D;&#x73B0;&#x6709;&#x9879;&#x76EE;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-781cd432413e70f6da98e3dd05fda2be">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.4-48"><span class="yiyi-st" id="yiyi-680"><span class="target" id="change-723cdb6f299e5eb37115fdceb06a6607"><strong>[examples] </strong></span>&#x590D;&#x5236;&#x5217;&#x65F6;&#xFF0C;history_meta&#x7248;&#x672C;&#x63A7;&#x5236;&#x914D;&#x65B9;&#x8BBE;&#x7F6E;&#x201C;unique = False&#x201D;&#xFF0C;&#x4EE5;&#x4FBF;&#x7248;&#x672C;&#x63A7;&#x5236;&#x8868;&#x5904;&#x7406;&#x591A;&#x4E2A;&#x5177;&#x6709;&#x91CD;&#x590D;&#x503C;&#x7684;&#x884C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-723cdb6f299e5eb37115fdceb06a6607">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-681">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1887">&#xFF03;1887</a></span></p></li></ul></div></div><div class="section" id="change-0.6.3"><h2><span class="yiyi-st" id="yiyi-683">0.6.3 <a class="headerlink" href="#change-0.6.3" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-710">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2010&#x5E74;7&#x6708;15&#x65E5;</span><div class="section" id="change-0.6.3-orm"><h3><span class="yiyi-st" id="yiyi-684">ORM <a class="headerlink" href="#change-0.6.3-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.3-0"><span class="yiyi-st" id="yiyi-685"><span class="target" id="change-4e1bf9516dda613ab1a572293546c083"><strong>[orm] </strong></span>&#x5728;&#x5355;&#x5143;&#x5DE5;&#x4F5C;&#x4E2D;&#x5220;&#x9664;&#x4E86;&#x9519;&#x8BEF;&#x7684;&#x591A;&#x5BF9;&#x591A;&#x52A0;&#x8F7D;&#xFF0C;&#x8FD9;&#x4E9B;&#x52A0;&#x8F7D;&#x5728;&#x8FC7;&#x671F;/&#x5378;&#x8F7D;&#x96C6;&#x5408;&#x4E0A;&#x4E0D;&#x5FC5;&#x8981;&#x5730;&#x89E6;&#x53D1;&#x3002;</span><span class="yiyi-st" id="yiyi-686">&#x53EA;&#x6709;&#x5728;passive_updates&#x4E3A;False&#x5E76;&#x4E14;&#x7236;&#x4E3B;&#x952E;&#x5DF2;&#x66F4;&#x6539;&#xFF0C;&#x6216;&#x8005;passive_deletes&#x4E3A;False&#x5E76;&#x4E14;&#x5DF2;&#x53D1;&#x751F;&#x7236;&#x9879;&#x5220;&#x9664;&#x65F6;&#xFF0C;&#x6B64;&#x52A0;&#x8F7D;&#x73B0;&#x5728;&#x624D;&#x4F1A;&#x53D1;&#x751F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4e1bf9516dda613ab1a572293546c083">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-687">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1845">&#xFF03;1845</a></span></p></li><li><p id="change-0.6.3-1"><span class="yiyi-st" id="yiyi-688"><span class="target" id="change-e9a54d540af9838dfb180c80efdf1e83"><strong>[orm] </strong></span>Column-entities (i.e. query(Foo.id)) copy their state more fully when queries are derived from themselves + a selectable (i.e. from_self(), union(), etc. </span><span class="yiyi-st" id="yiyi-689">&#xFF09;&#xFF0C;&#x6240;&#x4EE5;join()&#x7B49;&#x5177;&#x6709;&#x6B63;&#x786E;&#x7684;&#x5DE5;&#x4F5C;&#x72B6;&#x6001;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e9a54d540af9838dfb180c80efdf1e83">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-690">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1853">&#xFF03;1853</a></span></p></li><li><p id="change-0.6.3-2"><span class="yiyi-st" id="yiyi-691"><span class="target" id="change-fb73bd1dbda53a059f9cdc6d0d8ccf45"><strong>[orm] </strong></span>Fixed bug where Query.join() would fail if querying a non-ORM column then joining without an on clause when a FROM clause is already present, now raises a checked exception the same way it does when the clause is not present.<a class="changeset-link headerlink reference internal" href="#change-fb73bd1dbda53a059f9cdc6d0d8ccf45">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-692">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1853">&#xFF03;1853</a></span></p></li><li><p id="change-0.6.3-3"><span class="yiyi-st" id="yiyi-693"><span class="target" id="change-03a152a294855452e7463fb4ac21ffd6"><strong>[orm] </strong></span>&#x6539;&#x8FDB;&#x4E86;&#x5BF9;&#x201C;&#x672A;&#x6620;&#x5C04;&#x7C7B;&#x201D;&#x7684;&#x68C0;&#x67E5;&#xFF0C;&#x5305;&#x62EC;&#x8D85;&#x7C7B;&#x6620;&#x5C04;&#x4F46;&#x5B50;&#x7C7B;&#x4E0D;&#x662F;&#x7684;&#x60C5;&#x51B5;&#x3002;</span><span class="yiyi-st" id="yiyi-694">&#x4EFB;&#x4F55;&#x5C1D;&#x8BD5;&#x8BBF;&#x95EE;cls._sa_class_manager.mapper&#x7684;&#x5C1D;&#x8BD5;&#x90FD;&#x4F1A;&#x5F15;&#x53D1;UnmappedClassError()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-03a152a294855452e7463fb4ac21ffd6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-695">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1142">&#xFF03;1142</a></span></p></li><li><p id="change-0.6.3-4"><span class="yiyi-st" id="yiyi-696"><span class="target" id="change-f9299feaa7fe289b5bdc8377a2dcdb09"><strong>[orm] </strong></span>Added &#x201C;column_descriptions&#x201D; accessor to Query, returns a list of dictionaries containing naming/typing information about the entities the Query will return. </span><span class="yiyi-st" id="yiyi-697">&#x53EF;&#x4EE5;&#x6709;&#x52A9;&#x4E8E;&#x5728;ORM&#x67E5;&#x8BE2;&#x4E4B;&#x4E0A;&#x6784;&#x5EFA;GUI&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f9299feaa7fe289b5bdc8377a2dcdb09">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6.3-mysql"><h3><span class="yiyi-st" id="yiyi-698">MySQL&#x7684;<a class="headerlink" href="#change-0.6.3-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.3-5"><span class="yiyi-st" id="yiyi-699"><span class="target" id="change-40d3531e4ce4a40c3c74e0f48699dccc"><strong>[mysql] </strong></span>The _extract_error_code() method now works correctly with each MySQL dialect ( MySQL-python, OurSQL, MySQL-Connector-Python, PyODBC). </span><span class="yiyi-st" id="yiyi-700">&#x4EE5;&#x524D;&#xFF0C;&#x91CD;&#x65B0;&#x8FDE;&#x63A5;&#x903B;&#x8F91;&#x4F1A;&#x5931;&#x8D25;&#x7684;OperationalError&#x6761;&#x4EF6;&#xFF0C;&#x4F46;&#x7531;&#x4E8E;MySQLdb&#x548C;OurSQL&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x91CD;&#x65B0;&#x8FDE;&#x63A5;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x91CC;&#x6CA1;&#x6709;&#x8FD9;&#x4E9B;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x7684;&#x75C7;&#x72B6;&#xFF0C;&#x9664;&#x975E;&#x6709;&#x4EBA;&#x89C2;&#x770B;&#x65E5;&#x5FD7;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-40d3531e4ce4a40c3c74e0f48699dccc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-701">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1848">&#xFF03;1848</a></span></p></li></ul></div><div class="section" id="change-0.6.3-oracle"><h3><span class="yiyi-st" id="yiyi-702">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.6.3-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.3-6"><span class="yiyi-st" id="yiyi-703"><span class="target" id="change-41dfa08c3915f42b47619e4e28ee162f"><strong>[oracle] </strong></span>&#x66F4;&#x591A;&#x8C03;&#x6574;&#x4E3A;cx_oracle&#x5341;&#x8FDB;&#x5236;&#x5904;&#x7406;&#x3002;</span><span class="yiyi-st" id="yiyi-704">&#x4E0D;&#x542B;&#x5C0F;&#x6570;&#x4F4D;&#x7684;&#x201C;&#x6A21;&#x7CCA;&#x201D;&#x6570;&#x5B57;&#x5728;&#x8FDE;&#x63A5;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x7EA7;&#x88AB;&#x5F3A;&#x5236;&#x4E3A;int&#x3002;</span><span class="yiyi-st" id="yiyi-705">&#x8FD9;&#x6837;&#x505A;&#x7684;&#x597D;&#x5904;&#x662F;&#xFF0C;ints&#x4F1A;&#x4EE5;int&#x53C2;&#x6570;&#x7684;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x6D89;&#x53CA;SQLA&#x7C7B;&#x578B;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x4F1A;&#x9996;&#x5148;&#x8F6C;&#x6362;&#x4E3A;Decimal&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-706">&#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;&#x4E00;&#x4E9B;&#x5916;&#x6765;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x60C5;&#x51B5;&#x751A;&#x81F3;&#x53EF;&#x80FD;&#x4F1A;&#x5728;&#x5404;&#x4E2A;&#x7ED3;&#x679C;&#x884C;&#x4E4B;&#x95F4;&#x770B;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x6240;&#x4EE5;&#x5F53;&#x6307;&#x793A;&#x8FD4;&#x56DE;Decimal&#x65F6;&#xFF0C;Numeric&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x4E0D;&#x80FD;&#x5145;&#x5206;&#x5229;&#x7528;&#x201C;native decimal&#x201D;&#x6A21;&#x5F0F;&#xFF0C;&#x5E76;&#x4E14;&#x5FC5;&#x987B;&#x5BF9;&#x6BCF;&#x4E2A;&#x503C;&#x8FD0;&#x884C;isinstance()&#x5982;&#x679C;&#x5B83;&#x7684;Decimal&#x5DF2;&#x7ECF;&#x3002;</span><span class="yiyi-st" id="yiyi-707">&#x91CD;&#x65B0;&#x5F00;&#x653E;</span></p><span class="yiyi-st" id="yiyi-709"> <a class="changeset-link headerlink reference internal" href="#change-41dfa08c3915f42b47619e4e28ee162f">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-708">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1840">&#xFF03;1840</a></span></p></li></ul></div></div><div class="section" id="change-0.6.2"><h2><span class="yiyi-st" id="yiyi-711">0.6.2 <a class="headerlink" href="#change-0.6.2" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-788">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2010&#x5E74;7&#x6708;6&#x65E5;</span><div class="section" id="change-0.6.2-orm"><h3><span class="yiyi-st" id="yiyi-712">ORM <a class="headerlink" href="#change-0.6.2-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.2-0"><span class="yiyi-st" id="yiyi-713"><span class="target" id="change-edf1e1a95a7fcdc97aa5ad0561516766"><strong>[orm] </strong></span>Query.join() will check for a call of the form query.join(target, clause_expression), i.e. missing the tuple, and raise an informative error message that this is the wrong calling form.<a class="changeset-link headerlink reference internal" href="#change-edf1e1a95a7fcdc97aa5ad0561516766">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.2-1"><span class="yiyi-st" id="yiyi-714"><span class="target" id="change-d632a942ba2390aa0d69b7b8d3db7726"><strong>[orm] </strong></span>Fixed bug regarding flushes on self-referential bi-directional many-to-many relationships, where two objects made to mutually reference each other in one flush would fail to insert a row for both sides. </span><span class="yiyi-st" id="yiyi-715">&#x4ECE;0.5&#x5F00;&#x59CB;&#x56DE;&#x5F52;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d632a942ba2390aa0d69b7b8d3db7726">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-716">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1824">&#xFF03;1824</a></span></p></li><li><p id="change-0.6.2-2"><span class="yiyi-st" id="yiyi-717"><span class="target" id="change-38b01fe13c4a4ea626916c8378f614d5"><strong>[orm] </strong></span>the post_update feature of relationship() has been reworked architecturally to integrate more closely with the new 0.6 unit of work. </span><span class="yiyi-st" id="yiyi-718">&#x66F4;&#x6539;&#x7684;&#x52A8;&#x673A;&#x662F;&#xFF0C;&#x6BCF;&#x4E2A;&#x5F71;&#x54CD;&#x540C;&#x4E00;&#x884C;&#x7684;&#x4E0D;&#x540C;&#x5916;&#x952E;&#x5217;&#x7684;&#x591A;&#x4E2A;&#x201C;&#x66F4;&#x65B0;&#x540E;&#x201D;&#x8C03;&#x7528;&#x5728;&#x5355;&#x4E2A;UPDATE&#x8BED;&#x53E5;&#x4E2D;&#x6267;&#x884C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6BCF;&#x884C;&#x6BCF;&#x5217;&#x4E00;&#x4E2A;UPDATE&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-719">&#x5728;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#x7684;&#x884C;&#x6392;&#x5E8F;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x591A;&#x884C;&#x66F4;&#x65B0;&#x4E5F;&#x88AB;&#x6279;&#x91CF;&#x5206;&#x914D;&#x5230;executemany()&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-38b01fe13c4a4ea626916c8378f614d5">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.2-3"><span class="yiyi-st" id="yiyi-720"><span class="target" id="change-ec68a36d898ae8d2624447dffe1f74b3"><strong>[orm] </strong></span> Query.statement&#xFF0C;Query.subquery()&#x7B49;</span><span class="yiyi-st" id="yiyi-721">&#x73B0;&#x5728;&#x5C06;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x7684;&#x503C;&#xFF08;&#x5373;query.params()&#x6307;&#x5B9A;&#x7684;&#x503C;&#xFF09;&#x8F6C;&#x79FB;&#x5230;&#x751F;&#x6210;&#x7684;SQL&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-722">&#x4EE5;&#x524D;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4E0D;&#x4F1A;&#x88AB;&#x4F20;&#x9001;&#xFF0C;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x4F1A;&#x663E;&#x793A;&#x4E3A;None&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ec68a36d898ae8d2624447dffe1f74b3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.2-4"><span class="yiyi-st" id="yiyi-723"><span class="target" id="change-8e80dd442877d5cc6d55d1eb9f2e27ce"><strong>[orm] </strong></span>&#x5B50;&#x67E5;&#x8BE2;-eager-loading&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x4E0E;&#x5305;&#x542B;params()&#x4EE5;&#x53CA;get()&#x67E5;&#x8BE2;&#x7684;Query&#x5BF9;&#x8C61;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8e80dd442877d5cc6d55d1eb9f2e27ce">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.2-5"><span class="yiyi-st" id="yiyi-724"><span class="target" id="change-89c7ce031cec5770d7feff6d59f82173"><strong>[orm] </strong></span>Can now call make_transient() on an instance that is referenced by parent objects via many-to-one, without the parent&#x2019;s foreign key value getting temporarily set to None - this was a function of the &#x201C;detect primary key switch&#x201D; flush handler. </span><span class="yiyi-st" id="yiyi-725">&#x5B83;&#x73B0;&#x5728;&#x5FFD;&#x7565;&#x4E0D;&#x518D;&#x5904;&#x4E8E;&#x201C;&#x6301;&#x4E45;&#x201D;&#x72B6;&#x6001;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x4E14;&#x7236;&#x6BCD;&#x7684;&#x5916;&#x952E;&#x6807;&#x8BC6;&#x7B26;&#x4E0D;&#x53D7;&#x5F71;&#x54CD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-89c7ce031cec5770d7feff6d59f82173">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.2-6"><span class="yiyi-st" id="yiyi-726"><span class="target" id="change-02c64ac9aea77a533f8caaee63e2dd2e"><strong>[orm] </strong></span>query.order_by() now accepts False, which cancels any existing order_by() state on the Query, allowing subsequent generative methods to be called which do not support ORDER BY. </span><span class="yiyi-st" id="yiyi-727">&#x8FD9;&#x4E0E;&#x4F20;&#x9012;None&#x7684;&#x5DF2;&#x6709;&#x529F;&#x80FD;&#x4E0D;&#x540C;&#xFF0C;&#x540E;&#x8005;&#x7981;&#x6B62;&#x4EFB;&#x4F55;&#x73B0;&#x6709;&#x7684;order_by()&#x8BBE;&#x7F6E;&#xFF0C;&#x5305;&#x62EC;&#x6620;&#x5C04;&#x5668;&#x4E0A;&#x914D;&#x7F6E;&#x7684;&#x90A3;&#x4E9B;&#x8BBE;&#x7F6E;&#x3002;</span><span class="yiyi-st" id="yiyi-728">False&#x5C06;&#x4F7F;&#x5F97;&#x5B83;&#x597D;&#x50CF;&#x4ECE;&#x672A;&#x8C03;&#x7528;&#x8FC7;order_by()&#xFF0C;&#x800C;None&#x662F;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x7684;&#x8BBE;&#x7F6E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-02c64ac9aea77a533f8caaee63e2dd2e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.2-7"><span class="yiyi-st" id="yiyi-729"><span class="target" id="change-fc22e992cca054293cfca434a70f8339"><strong>[orm] </strong></span>An instance which is moved to &#x201C;transient&#x201D;, has an incomplete or missing set of primary key attributes, and contains expired attributes, will raise an InvalidRequestError if an expired attribute is accessed, instead of getting a recursion overflow.<a class="changeset-link headerlink reference internal" href="#change-fc22e992cca054293cfca434a70f8339">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.2-8"><span class="yiyi-st" id="yiyi-730"><span class="target" id="change-f2c43f7ce40d71c11c2f7faf46d66f4a"><strong>[orm] </strong></span> make_transient()&#x51FD;&#x6570;&#x73B0;&#x5728;&#x4F4D;&#x4E8E;&#x751F;&#x6210;&#x7684;&#x6587;&#x6863;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f2c43f7ce40d71c11c2f7faf46d66f4a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.2-9"><span class="yiyi-st" id="yiyi-731"><span class="target" id="change-9cb3e05a83cf387929738297b264ccf9"><strong>[orm] </strong></span>make_transient() removes all &#x201C;loader&#x201D; callables from the state being made transient, removing any &#x201C;expired&#x201D; state - all unloaded attributes reset back to undefined, None/empty on access.<a class="changeset-link headerlink reference internal" href="#change-9cb3e05a83cf387929738297b264ccf9">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6.2-sql"><h3><span class="yiyi-st" id="yiyi-732">SQL <a class="headerlink" href="#change-0.6.2-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.2-10"><span class="yiyi-st" id="yiyi-733"><span class="target" id="change-92eb958a7927c4e9caecec020272c06f"><strong>[sql] </strong></span>&#x5177;&#x6709;convert_unicode = True&#x7684;Unicode&#x548C;String&#x7C7B;&#x578B;&#x53D1;&#x51FA;&#x7684;&#x8B66;&#x544A;&#x4E0D;&#x518D;&#x5D4C;&#x5165;&#x4F20;&#x9012;&#x7684;&#x5B9E;&#x9645;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-734">&#x8FD9;&#x6837;&#xFF0C;Python&#x8B66;&#x544A;&#x6CE8;&#x518C;&#x8868;&#x7684;&#x5927;&#x5C0F;&#x4E0D;&#x4F1A;&#x7EE7;&#x7EED;&#x589E;&#x52A0;&#xFF0C;&#x8B66;&#x544A;&#x4F1A;&#x6309;&#x7167;&#x8B66;&#x544A;&#x8FC7;&#x6EE4;&#x5668;&#x8BBE;&#x7F6E;&#x53D1;&#x51FA;&#x4E00;&#x6B21;&#xFF0C;&#x5E76;&#x4E14;&#x5927;&#x5B57;&#x7B26;&#x4E32;&#x503C;&#x4E0D;&#x4F1A;&#x6C61;&#x67D3;&#x8F93;&#x51FA;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-92eb958a7927c4e9caecec020272c06f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-735">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1822">&#xFF03;1822</a></span></p></li><li><p id="change-0.6.2-11"><span class="yiyi-st" id="yiyi-736"><span class="target" id="change-7ac2b12e9e86167b88a0806d4cbbe9fb"><strong>[sql] </strong></span>Fixed bug that would prevent overridden clause compilation from working for &#x201C;annotated&#x201D; expression elements, which are often generated by the ORM.<a class="changeset-link headerlink reference internal" href="#change-7ac2b12e9e86167b88a0806d4cbbe9fb">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.2-12"><span class="yiyi-st" id="yiyi-737"><span class="target" id="change-5e141a144264b09de7321f5569bcd21d"><strong>[sql] </strong></span> LIKE&#x8FD0;&#x7B97;&#x7B26;&#x6216;&#x7C7B;&#x4F3C;&#x8BED;&#x53E5;&#x7684;&#x201C;ESCAPE&#x201D;&#x53C2;&#x6570;&#x901A;&#x8FC7;render_literal_value()&#x4F20;&#x9012;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x53EF;&#x80FD;&#x4F1A;&#x5B9E;&#x73B0;&#x53CD;&#x659C;&#x6760;&#x7684;&#x8F6C;&#x4E49;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5e141a144264b09de7321f5569bcd21d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-738">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1400">&#xFF03;1400</a></span></p></li><li><p id="change-0.6.2-13"><span class="yiyi-st" id="yiyi-739"><span class="target" id="change-854fbd022574e164314a3322bae40806"><strong>[sql] </strong></span>Fixed bug in Enum type which blew away native_enum flag when used with TypeDecorators or other adaption scenarios.<a class="changeset-link headerlink reference internal" href="#change-854fbd022574e164314a3322bae40806">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.2-14"><span class="yiyi-st" id="yiyi-740"><span class="target" id="change-da5d7dd83b9b8e3fa3dfc3c698adee89"><strong>[sql] </strong></span>Inspector hits bind.connect() when invoked to ensure initialize has been called. </span><span class="yiyi-st" id="yiyi-741">&#x5185;&#x90E8;&#x540D;&#x79F0;&#x201C;.conn&#x201D;&#x66F4;&#x6539;&#x4E3A;&#x201C;.bind&#x201D;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-da5d7dd83b9b8e3fa3dfc3c698adee89">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.2-15"><span class="yiyi-st" id="yiyi-742"><span class="target" id="change-7031856f1234d33d0ce85911ecb27356"><strong>[sql] </strong></span>Modified the internals of &#x201C;column annotation&#x201D; such that a custom Column subclass can safely override _constructor to return Column, for the purposes of making &#x201C;configurational&#x201D; column classes that aren&#x2019;t involved in proxying, etc.<a class="changeset-link headerlink reference internal" href="#change-7031856f1234d33d0ce85911ecb27356">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.2-16"><span class="yiyi-st" id="yiyi-743"><span class="target" id="change-10d73e5cbbe7209624f8a76e237438c6"><strong>[sql] </strong></span>Column.copy() takes along the &#x201C;unique&#x201D; attribute among others, fixes regarding declarative mixins<a class="changeset-link headerlink reference internal" href="#change-10d73e5cbbe7209624f8a76e237438c6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-744">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1829">&#xFF03;1829</a></span></p></li></ul></div><div class="section" id="change-0.6.2-postgresql"><h3><span class="yiyi-st" id="yiyi-745">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.6.2-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.2-17"><span class="yiyi-st" id="yiyi-746"><span class="target" id="change-a99b1c9cecc1e928c742b45ef8f90cc3"><strong>[postgresql] </strong></span> render_literal_value()&#x88AB;&#x91CD;&#x5199;&#xFF0C;&#x5B83;&#x4EEC;&#x8F6C;&#x4E49;&#x53CD;&#x659C;&#x6760;&#xFF0C;&#x5F53;&#x524D;&#x5E94;&#x7528;&#x4E8E;LIKE&#x548C;&#x7C7B;&#x4F3C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;ESCAPE&#x5B50;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-747">&#x6700;&#x7EC8;&#xFF0C;&#x8FD9;&#x5C06;&#x5FC5;&#x987B;&#x68C0;&#x6D4B;&#x201C;standard_conforming_strings&#x201D;&#x7684;&#x5B8C;&#x6574;&#x884C;&#x4E3A;&#x7684;&#x4EF7;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a99b1c9cecc1e928c742b45ef8f90cc3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-748">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1400">&#xFF03;1400</a></span></p></li><li><p id="change-0.6.2-18"><span class="yiyi-st" id="yiyi-749"><span class="target" id="change-48af7b36fa4c3f12a67261b2f80d7865"><strong>[postgresql] </strong></span>&#x5982;&#x679C;&#x5728;8.3&#x7248;&#x4E4B;&#x524D;&#x7684;PG&#x7248;&#x672C;&#x4E2D;&#x4F7F;&#x7528;types.Enum&#xFF0C;&#x5219;&#x4E0D;&#x4F1A;&#x751F;&#x6210;&#x201C;CREATE TYPE&#x201D;/&#x201C;DROP TYPE&#x201D; -  supports_native_enum&#x6807;&#x5FD7;&#x5B8C;&#x5168;&#x7B26;&#x5408;&#x8981;&#x6C42;<a class="changeset-link headerlink reference internal" href="#change-48af7b36fa4c3f12a67261b2f80d7865">&#xB6; t2 &gt;</a></span></p><p><span class="yiyi-st" id="yiyi-750">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1836">&#xFF03;1836</a></span></p></li></ul></div><div class="section" id="change-0.6.2-mysql"><h3><span class="yiyi-st" id="yiyi-751">MySQL&#x7684;<a class="headerlink" href="#change-0.6.2-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.2-19"><span class="yiyi-st" id="yiyi-752"><span class="target" id="change-91f3d4d5f1ca37036afc83b8e87c588c"><strong>[mysql] </strong></span>&#x5BF9;&#x4E8E;&#x68C0;&#x6D4B;&#x5230;&#x7684;MySQL&#x7248;&#x672C;&#xFF0C;MySQL&#x65B9;&#x8A00;&#x4E0D;&#x4F1A;&#x53D1;&#x51FA;CAST()<4.0.2。< span=""><span class="yiyi-st" id="yiyi-753">&#x8FD9;&#x5141;&#x8BB8;&#x5728;&#x8FDE;&#x63A5;&#x4E0A;&#x8FDB;&#x884C;unicode&#x68C0;&#x67E5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-91f3d4d5f1ca37036afc83b8e87c588c">&#xB6;</a></span></4.0.2。<></span></p><p><span class="yiyi-st" id="yiyi-754">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1826">&#xFF03;1826</a></span></p></li><li><p id="change-0.6.2-20"><span class="yiyi-st" id="yiyi-755"><span class="target" id="change-5984734c58273d70156013fa76eb8074"><strong>[mysql] </strong></span>&#x9664;&#x4E86;ANSI_QUOTES&#x4E4B;&#x5916;&#xFF0C;MySQL&#x65B9;&#x8A00;&#x73B0;&#x5728;&#x8FD8;&#x68C0;&#x6D4B;NO_BACKSLASH_ESCAPES sql&#x6A21;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5984734c58273d70156013fa76eb8074">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.2-21"><span class="yiyi-st" id="yiyi-756"><span class="target" id="change-a99b1c9cecc1e928c742b45ef8f90cc3"><strong>[mysql] </strong></span> render_literal_value()&#x88AB;&#x8986;&#x76D6;&#xFF0C;&#x5176;&#x4E2D;&#x8F6C;&#x4E49;&#x53CD;&#x659C;&#x6760;&#xFF0C;&#x76EE;&#x524D;&#x9002;&#x7528;&#x4E8E;LIKE&#x548C;&#x7C7B;&#x4F3C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;ESCAPE&#x5B50;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-757">&#x6B64;&#x884C;&#x4E3A;&#x6E90;&#x4E8E;&#x68C0;&#x6D4B;NO_BACKSLASH_ESCAPES&#x7684;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a99b1c9cecc1e928c742b45ef8f90cc3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-758">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1400">&#xFF03;1400</a></span></p></li></ul></div><div class="section" id="change-0.6.2-mssql"><h3><span class="yiyi-st" id="yiyi-759">MSSQL <a class="headerlink" href="#change-0.6.2-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.2-22"><span class="yiyi-st" id="yiyi-760"><span class="target" id="change-0e401708966cccc9a7cc010adc04da9a"><strong>[mssql] </strong></span>If server_version_info is outside the usual range of (8, ), (9, ), (10, ), a warning is emitted which suggests checking that the FreeTDS version configuration is using 7.0 or 8.0, not 4.2.<a class="changeset-link headerlink reference internal" href="#change-0e401708966cccc9a7cc010adc04da9a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-761">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1825">&#xFF03;1825</a></span></p></li></ul></div><div class="section" id="change-0.6.2-oracle"><h3><span class="yiyi-st" id="yiyi-762">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.6.2-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.2-23"><span class="yiyi-st" id="yiyi-763"><span class="target" id="change-8d37a789557837ae28f36a0368b2b8a3"><strong>[oracle] </strong></span>&#x4FEE;&#x590D;&#x4E86;ora-8&#x517C;&#x5BB9;&#x6027;&#x6807;&#x5FD7;&#xFF0C;&#x4F7F;&#x5F97;&#x5B83;&#x4EEC;&#x4E0D;&#x4F1A;&#x5728;&#x5B9E;&#x9645;&#x53D1;&#x751F;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x4E4B;&#x524D;&#x7F13;&#x5B58;&#x9648;&#x65E7;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8d37a789557837ae28f36a0368b2b8a3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-764">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1819">&#xFF03;1819</a></span></p></li><li><p id="change-0.6.2-24"><span class="yiyi-st" id="yiyi-765"><span class="target" id="change-7cd2a1495d29a7ea446ff63e34a7e290"><strong>[oracle] </strong></span>Oracle&#x2019;s &#x201C;native decimal&#x201D; metadata begins to return ambiguous typing information about numerics when columns are embedded in subqueries as well as when ROWNUM is consulted with subqueries, as we do for limit/offset. </span><span class="yiyi-st" id="yiyi-766">&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x5C06;&#x8FD9;&#x4E9B;&#x4E0D;&#x660E;&#x786E;&#x7684;&#x6761;&#x4EF6;&#x6DFB;&#x52A0;&#x5230;cx_oracle&#x201C;convert to Decimal()&#x201D;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;&#x4EE5;&#x4FBF;&#x6211;&#x4EEC;&#x5728;&#x66F4;&#x591A;&#x60C5;&#x51B5;&#x4E0B;&#x63A5;&#x6536;&#x6570;&#x5B57;&#x4F5C;&#x4E3A;Decimal&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4F5C;&#x4E3A;&#x6D6E;&#x70B9;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-767">&#x5982;&#x679C;&#x9700;&#x8981;&#x7684;&#x8BDD;&#xFF0C;&#x5B83;&#x4EEC;&#x5C06;&#x88AB;&#x8F6C;&#x6362;&#x4E3A;Integer&#x6216;Float&#xFF0C;&#x6216;&#x8005;&#x4FDD;&#x7559;&#x4E3A;&#x65E0;&#x635F;Decimal&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7cd2a1495d29a7ea446ff63e34a7e290">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-768">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1840">&#xFF03;1840</a></span></p></li></ul></div><div class="section" id="change-0.6.2-firebird"><h3><span class="yiyi-st" id="yiyi-769">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.6.2-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.2-25"><span class="yiyi-st" id="yiyi-770"><span class="target" id="change-8020c6a07179eb3773cff83bf7e318ac"><strong>[firebird] </strong></span>&#x4FEE;&#x590D;&#x4E86;do_execute()&#x4E2D;&#x7684;&#x9519;&#x8BEF;&#x7B7E;&#x540D;&#xFF0C;0.6.1&#x4E2D;&#x5F15;&#x5165;&#x4E86;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8020c6a07179eb3773cff83bf7e318ac">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-771">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1823">&#xFF03;1823</a></span></p></li><li><p id="change-0.6.2-26"><span class="yiyi-st" id="yiyi-772"><span class="target" id="change-911be84370c3f1ad4939567277f70d73"><strong>[firebird] </strong></span>Firebird dialect adds CHAR, VARCHAR types which accept a &#x201C;charset&#x201D; flag, to support Firebird &#x201C;CHARACTER SET&#x201D; clause.<a class="changeset-link headerlink reference internal" href="#change-911be84370c3f1ad4939567277f70d73">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-773">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1813">&#xFF03;1813</a></span></p></li></ul></div><div class="section" id="change-0.6.2-misc"><h3><span class="yiyi-st" id="yiyi-774">&#x6742;&#x9879;<a class="headerlink" href="#change-0.6.2-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.2-27"><span class="yiyi-st" id="yiyi-775"><span class="target" id="change-586d7016a7038e911f333b3d048f0c80"><strong>[declarative] </strong></span>Added support for @classproperty to provide any kind of schema/mapping construct from a declarative mixin, including columns with foreign keys, relationships, column_property, deferred. </span><span class="yiyi-st" id="yiyi-776">&#x8FD9;&#x89E3;&#x51B3;&#x4E86;&#x58F0;&#x660E;&#x6027;&#x6DF7;&#x5408;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x3002;</span><span class="yiyi-st" id="yiyi-777">&#x5982;&#x679C;&#x5728;mixin&#x4E0A;&#x6307;&#x5B9A;&#x4E86;&#x4EFB;&#x4F55;MapperProperty&#x5B50;&#x7C7B;&#x800C;&#x4E0D;&#x4F7F;&#x7528;@classproperty&#xFF0C;&#x5219;&#x4F1A;&#x4EA7;&#x751F;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-586d7016a7038e911f333b3d048f0c80">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-778">References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1805">#1805</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1796">#1796</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1751">#1751</a></span></p></li><li><p id="change-0.6.2-28"><span class="yiyi-st" id="yiyi-779"><span class="target" id="change-f1e04d8a9d224260a51570d93bc2bf4b"><strong>[declarative] </strong></span>a mixin class can now define a column that matches one which is present on a __table__ defined on a subclass. </span><span class="yiyi-st" id="yiyi-780">&#x4F46;&#x662F;&#xFF0C;&#x5B83;&#x4E0D;&#x80FD;&#x5B9A;&#x4E49;__table__&#x4E2D;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#xFF0C;&#x73B0;&#x5728;&#x8FD9;&#x91CC;&#x7684;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#x53EF;&#x4EE5;&#x5DE5;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f1e04d8a9d224260a51570d93bc2bf4b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-781">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1821">&#xFF03;1821</a></span></p></li><li><p id="change-0.6.2-29"><span class="yiyi-st" id="yiyi-782"><span class="target" id="change-af1b71d292a858ea4df75271507ce565"><strong>[extension] [compiler] </strong></span>&#x5F53;&#x91CD;&#x5199;&#x7F16;&#x8BD1;&#x5185;&#x7F6E;&#x5B50;&#x53E5;&#x7ED3;&#x6784;&#x65F6;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x590D;&#x5236;&apos;default&apos;&#x7F16;&#x8BD1;&#x5668;&#xFF0C;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x7279;&#x5B9A;&#x4E8E;&#x67D0;&#x4E9B;&#x540E;&#x7AEF;&#xFF0C;&#x5219;&#x4E0D;&#x4F1A;&#x5F15;&#x53D1;KeyError&#xFF0C;&#x8C03;&#x7528;&#x53E6;&#x4E00;&#x4E2A;&#x540E;&#x7AEF;&#x7684;&#x7F16;&#x8BD1;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-af1b71d292a858ea4df75271507ce565">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-783">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1838">&#xFF03;1838</a></span></p></li><li><p id="change-0.6.2-30"><span class="yiyi-st" id="yiyi-784"><span class="target" id="change-848469658bfe0128fab72a42bba6e792"><strong>[documentation] </strong></span>&#x6DFB;&#x52A0;&#x4E86;Inspector&#x7684;&#x6587;&#x6863;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-848469658bfe0128fab72a42bba6e792">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-785">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1820">&#xFF03;1820</a></span></p></li><li><p id="change-0.6.2-31"><span class="yiyi-st" id="yiyi-786"><span class="target" id="change-4e33e10eba62ee01d6af5ccb29637f33"><strong>[documentation] </strong></span>Fixed @memoized_property and @memoized_instancemethod decorators so that Sphinx documentation picks up these attributes and methods, such as ResultProxy.inserted_primary_key.<a class="changeset-link headerlink reference internal" href="#change-4e33e10eba62ee01d6af5ccb29637f33">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-787">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1830">&#xFF03;1830</a></span></p></li></ul></div></div><div class="section" id="change-0.6.1"><h2><span class="yiyi-st" id="yiyi-789">0.6.1 <a class="headerlink" href="#change-0.6.1" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-856">&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#xFF1A;2010&#x5E74;5&#x6708;31&#x65E5;</span><div class="section" id="change-0.6.1-orm"><h3><span class="yiyi-st" id="yiyi-790">ORM <a class="headerlink" href="#change-0.6.1-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.1-0"><span class="yiyi-st" id="yiyi-791"><span class="target" id="change-3ad0634282071d683ecb076a3c1171ba"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;0.6.0&#x4E2D;&#x5F15;&#x5165;&#x7684;&#x56DE;&#x5F52;&#xFF0C;&#x5176;&#x4E2D;&#x6D89;&#x53CA;&#x5BF9;&#x53EF;&#x53D8;&#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x4E0D;&#x5F53;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3ad0634282071d683ecb076a3c1171ba">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-792">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1782">&#xFF03;1782</a></span></p></li><li><p id="change-0.6.1-1"><span class="yiyi-st" id="yiyi-793"><span class="target" id="change-f27d049a3ba382d9d975d84ab7db1040"><strong>[orm] </strong></span>Fixed regression introduced in 0.6.0 unit of work refactor that broke updates for bi-directional relationship() with post_update=True.<a class="changeset-link headerlink reference internal" href="#change-f27d049a3ba382d9d975d84ab7db1040">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-794">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1807">&#xFF03;1807</a></span></p></li><li><p id="change-0.6.1-2"><span class="yiyi-st" id="yiyi-795"><span class="target" id="change-a5d06f591c00a5eb1caf7412dbddb887"><strong>[orm] </strong></span> session.merge()&#x4E0D;&#x4F1A;&#x5728;&#x8FD4;&#x56DE;&#x7684;&#x5B9E;&#x4F8B;&#x4E0A;&#x8FC7;&#x671F;&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x5B9E;&#x4F8B;&#x662F;&#x201C;&#x6302;&#x8D77;&#x201D;&#x7684;&#x8BDD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a5d06f591c00a5eb1caf7412dbddb887">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-796">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1789">&#xFF03;1789</a></span></p></li><li><p id="change-0.6.1-3"><span class="yiyi-st" id="yiyi-797"><span class="target" id="change-b9cf399b6f68b033fd9ea792f88bd39b"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;CollectionAdapter&#x7684;__setstate__&#x65B9;&#x6CD5;&#x5728;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x4E2D;&#x4E0D;&#x5931;&#x8D25;&#xFF0C;&#x5176;&#x4E2D;&#x7236;InstanceState&#x5C1A;&#x672A;&#x53CD;&#x5E8F;&#x5217;&#x5316;<a class="changeset-link headerlink reference internal" href="#change-b9cf399b6f68b033fd9ea792f88bd39b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-798">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1802">&#xFF03;1802</a></span></p></li><li><p id="change-0.6.1-4"><span class="yiyi-st" id="yiyi-799"><span class="target" id="change-284309c7b5f31be13e7f4fa173f0d4e6"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x5185;&#x90E8;&#x8B66;&#x544A;&#xFF0C;&#x4EE5;&#x9632;&#x4E07;&#x4E00;&#x6CA1;&#x6709;&#x5B8C;&#x6574;PK&#x7684;&#x5B9E;&#x4F8B;&#x53D1;&#x751F;&#x8FC7;&#x671F;&#x5E76;&#x88AB;&#x8981;&#x6C42;&#x5237;&#x65B0;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-284309c7b5f31be13e7f4fa173f0d4e6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-800">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1797">&#xFF03;1797</a></span></p></li><li><p id="change-0.6.1-5"><span class="yiyi-st" id="yiyi-801"><span class="target" id="change-9092dd0fbb06e94417193ea80605814f"><strong>[orm] </strong></span>&#x4E3A;&#x6620;&#x5C04;&#x5668;&#x5BF9;UPDATE&#xFF0C;INSERT&#x548C;DELETE&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x4F7F;&#x7528;&#x589E;&#x52A0;&#x4E86;&#x66F4;&#x79EF;&#x6781;&#x7684;&#x7F13;&#x5B58;&#x3002;</span><span class="yiyi-st" id="yiyi-802">&#x5047;&#x8BBE;&#x8BE5;&#x8BED;&#x53E5;&#x6CA1;&#x6709;&#x9644;&#x52A0;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;SQL&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x5BF9;&#x8C61;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x521B;&#x5EFA;&#x4E4B;&#x540E;&#x7531;&#x6620;&#x5C04;&#x5668;&#x8FDB;&#x884C;&#x9AD8;&#x901F;&#x7F13;&#x5B58;&#xFF0C;&#x5E76;&#x4E14;&#x5176;&#x7F16;&#x8BD1;&#x540E;&#x7684;&#x8868;&#x5355;&#x5728;&#x76F8;&#x5173;&#x5F15;&#x64CE;&#x671F;&#x95F4;&#x6301;&#x4E45;&#x5B58;&#x50A8;&#x5728;&#x9AD8;&#x901F;&#x7F13;&#x5B58;&#x5B57;&#x5178;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-803">&#x7F13;&#x5B58;&#x662F;&#x4E00;&#x4E2A;LRUCache&#xFF0C;&#x6781;&#x5C11;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6620;&#x5C04;&#x7A0B;&#x5E8F;&#x63A5;&#x6536;&#x7684;&#x6570;&#x636E;&#x91CF;&#x975E;&#x5E38;&#x5927;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x5217;&#x6A21;&#x5F0F;&#x4E3A;UPDATE&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9092dd0fbb06e94417193ea80605814f">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6.1-sql"><h3><span class="yiyi-st" id="yiyi-804">SQL <a class="headerlink" href="#change-0.6.1-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.1-6"><span class="yiyi-st" id="yiyi-805"><span class="target" id="change-b08316c6ff8d2199ee21227c71237c3c"><strong>[sql] </strong></span> expr.in_()&#x73B0;&#x5728;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;text()&#x6784;&#x9020;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-806">&#x5206;&#x7EC4;&#x62EC;&#x53F7;&#x4F1A;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#xFF0C;&#x5373;&#x7528;&#x6CD5;&#x5982;<cite>col.in_&#xFF08;text&#xFF08;&#x201C;select id from table&#x201D;&#xFF09;&#xFF09;</cite>&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b08316c6ff8d2199ee21227c71237c3c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-807">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1793">&#xFF03;1793</a></span></p></li><li><p id="change-0.6.1-7"><span class="yiyi-st" id="yiyi-808"><span class="target" id="change-72ff9fd4e95f73a9fac5793d46ee1989"><strong>[sql] </strong></span>Columns of _Binary type (i.e. LargeBinary, BLOB, etc.) </span><span class="yiyi-st" id="yiyi-809">&#x5C06;&#x53F3;&#x4FA7;&#x7684;&#x201C;basestring&#x201D;&#x5F3A;&#x5236;&#x8F6C;&#x6362;&#x4E3A;_Binary&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x8FDB;&#x884C;DBAPI&#x5904;&#x7406;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-72ff9fd4e95f73a9fac5793d46ee1989">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.1-8"><span class="yiyi-st" id="yiyi-810"><span class="target" id="change-8d17b953e1ac169718caf18058bcd4a7"><strong>[sql] </strong></span>&#x6DFB;&#x52A0;&#x4E86;table.add_is_dependent_on&#xFF08;othertable&#xFF09;&#xFF0C;&#x5141;&#x8BB8;&#x5728;&#x4E24;&#x4E2A;&#x8868;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x624B;&#x52A8;&#x653E;&#x7F6E;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x89C4;&#x5219;&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;create_all()&#xFF0C;drop_all()&#xFF0C;sorted_tables&#x4E2D;&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8d17b953e1ac169718caf18058bcd4a7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-811">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1801">&#xFF03;1801</a></span></p></li><li><p id="change-0.6.1-9"><span class="yiyi-st" id="yiyi-812"><span class="target" id="change-8952d0409ec113323968a616d7b3ff95"><strong>[sql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x9632;&#x6B62;&#x9690;&#x5F0F;RETURNING&#x4E0E;&#x5305;&#x542B;&#x96F6;&#x7684;&#x7EC4;&#x5408;&#x4E3B;&#x952E;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x7684;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8952d0409ec113323968a616d7b3ff95">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-813">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1778">&#xFF03;1778</a></span></p></li><li><p id="change-0.6.1-10"><span class="yiyi-st" id="yiyi-814"><span class="target" id="change-82e4196d3222e0f8f2f39d0d56b49b68"><strong>[sql] </strong></span>Fixed errant space character when generating ADD CONSTRAINT for a named UNIQUE constraint.<a class="changeset-link headerlink reference internal" href="#change-82e4196d3222e0f8f2f39d0d56b49b68">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.1-11"><span class="yiyi-st" id="yiyi-815"><span class="target" id="change-946f08fd63ce4b879c2fba51fc21eccf"><strong>[sql] </strong></span>Fixed &#x201C;table&#x201D; argument on constructor of ForeginKeyConstraint<a class="changeset-link headerlink reference internal" href="#change-946f08fd63ce4b879c2fba51fc21eccf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-816">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1571">&#xFF03;1571</a></span></p></li><li><p id="change-0.6.1-12"><span class="yiyi-st" id="yiyi-817"><span class="target" id="change-e8fbe83ec8fc5eea2bdba7a800b0782f"><strong>[sql] </strong></span>Fixed bug in connection pool cursor wrapper whereby if a cursor threw an exception on close(), the logging of the message would fail.<a class="changeset-link headerlink reference internal" href="#change-e8fbe83ec8fc5eea2bdba7a800b0782f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-818">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1786">&#xFF03;1786</a></span></p></li><li><p id="change-0.6.1-13"><span class="yiyi-st" id="yiyi-819"><span class="target" id="change-a4876a0985ffddb6e31acca9c07979e7"><strong>[sql] </strong></span>the _make_proxy() method of ColumnClause and Column now use self.__class__ to determine the class of object to be returned instead of hardcoding to ColumnClause/Column, making it slightly easier to produce specific subclasses of these which work in alias/subquery situations.<a class="changeset-link headerlink reference internal" href="#change-a4876a0985ffddb6e31acca9c07979e7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.1-14"><span class="yiyi-st" id="yiyi-820"><span class="target" id="change-cabf1086effe5bf3e53e5eb62e0a539f"><strong>[sql] </strong></span>func.XXX() doesn&#x2019;t inadvertently resolve to non-Function classes (e.g. fixes func.text()).<a class="changeset-link headerlink reference internal" href="#change-cabf1086effe5bf3e53e5eb62e0a539f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-821">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1798">&#xFF03;1798</a></span></p></li></ul></div><div class="section" id="change-0.6.1-mysql"><h3><span class="yiyi-st" id="yiyi-822">MySQL&#x7684;<a class="headerlink" href="#change-0.6.1-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.1-15"><span class="yiyi-st" id="yiyi-823"><span class="target" id="change-aa357253b7d4e61fb60fe4179f37c4c4"><strong>[mysql] </strong></span> func.sysdate()&#x5728;MySQL&#x4E0A;&#x53D1;&#x51FA;&#x201C;SYSDATE()&#x201D;&#xFF0C;&#x5373;&#x7ED3;&#x5C3E;&#x62EC;&#x53F7;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-aa357253b7d4e61fb60fe4179f37c4c4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-824">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1794">&#xFF03;1794</a></span></p></li></ul></div><div class="section" id="change-0.6.1-sqlite"><h3><span class="yiyi-st" id="yiyi-825">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.6.1-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.1-16"><span class="yiyi-st" id="yiyi-826"><span class="target" id="change-f93c6942e6696df34b2e495e1a798242"><strong>[sqlite] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x7531;&#x4E8E;SQLite AUTOINCREMENT&#x5173;&#x952E;&#x5B57;&#x88AB;&#x6E32;&#x67D3;&#x800C;&#x5BFC;&#x81F4;&#x201C;PRIMARY KEY&#x201D;&#x7EA6;&#x675F;&#x79FB;&#x52A8;&#x5230;&#x5217;&#x7EA7;&#x522B;&#x65F6;&#x7EA6;&#x675F;&#x7684;&#x4E32;&#x8054;&#x7EA6;&#x675F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f93c6942e6696df34b2e495e1a798242">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-827">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1812">&#xFF03;1812</a></span></p></li></ul></div><div class="section" id="change-0.6.1-oracle"><h3><span class="yiyi-st" id="yiyi-828">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.6.1-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.1-17"><span class="yiyi-st" id="yiyi-829"><span class="target" id="change-921c563fd599609c36d48fca98c94857"><strong>[oracle] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;&#x4F4E;&#x4E8E;&#x7248;&#x672C;5&#x7684;cx_oracle&#x7248;&#x672C;&#x7684;&#x68C0;&#x67E5;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x4F1A;&#x4F7F;&#x7528;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x201C;&#x8F93;&#x51FA;&#x7C7B;&#x578B;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-830">&#x8FD9;&#x4F1A;&#x5F71;&#x54CD;&#x5341;&#x8FDB;&#x5236;&#x7CBE;&#x5EA6;&#x548C;&#x4E00;&#x4E9B;unicode&#x5904;&#x7406;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-921c563fd599609c36d48fca98c94857">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-831">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1775">&#xFF03;1775</a></span></p></li><li><p id="change-0.6.1-18"><span class="yiyi-st" id="yiyi-832"><span class="target" id="change-de39458c5cf40832d3e712046e906059"><strong>[oracle] </strong></span>&#x4FEE;&#x590D;&#x4E86;use_ansi = False&#x6A21;&#x5F0F;&#xFF0C;&#x5728;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x4EA7;&#x751F;&#x4E86;&#x7834;&#x788E;&#x7684;WHERE&#x5B50;&#x53E5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-de39458c5cf40832d3e712046e906059">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-833">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1790">&#xFF03;1790</a></span></p></li><li><p id="change-0.6.1-19"><span class="yiyi-st" id="yiyi-834"><span class="target" id="change-c5cd67d9af16519e3e1648d461a6fa18"><strong>[oracle] </strong></span>Re-established support for Oracle 8 with cx_oracle, including that use_ansi is set to False automatically, NVARCHAR2 and NCLOB are not rendered for Unicode, &#x201C;native unicode&#x201D; check doesn&#x2019;t fail, cx_oracle &#x201C;native unicode&#x201D; mode is disabled, VARCHAR() is emitted with bytes count instead of char count.<a class="changeset-link headerlink reference internal" href="#change-c5cd67d9af16519e3e1648d461a6fa18">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-835">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1808">&#xFF03;1808</a></span></p></li><li><p id="change-0.6.1-20"><span class="yiyi-st" id="yiyi-836"><span class="target" id="change-42bad8b40515caa95e779b1bb6592e72"><strong>[oracle] </strong></span>&#x5728;&#x6B63;&#x5E38;&#x7684;Python 2.x&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;oracle_xe 5&#x5728;&#x5176;&#x8FDE;&#x63A5;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x4E0D;&#x63A5;&#x53D7;Python unicode&#x5BF9;&#x8C61; - &#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x5BF9;str()&#x8FDB;&#x884C;&#x5F3A;&#x5236;&#x8F6C;&#x6362;&#x3002;</span><span class="yiyi-st" id="yiyi-837">&#x5728;&#x8FD9;&#x91CC;&#x8FDE;&#x63A5;&#x5B57;&#x7B26;&#x4E32;&#x4E0D;&#x652F;&#x6301;&#x975E;ascii&#x5B57;&#x7B26;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x4E0D;&#x77E5;&#x9053;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EC0;&#x4E48;&#x7F16;&#x7801;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-42bad8b40515caa95e779b1bb6592e72">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-838">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1670">&#xFF03;1670</a></span></p></li><li><p id="change-0.6.1-21"><span class="yiyi-st" id="yiyi-839"><span class="target" id="change-c4fb3d2d0a0c5a82038662d1a131caa4"><strong>[oracle] </strong></span>FOR UPDATE is emitted in the syntactically correct position when limit/offset is used, i.e. the ROWNUM subquery. </span><span class="yiyi-st" id="yiyi-840">&#x4F46;&#x662F;&#xFF0C;Oracle&#x65E0;&#x6CD5;&#x771F;&#x6B63;&#x4F7F;&#x7528;ORDER BY&#x6216;&#x5B50;&#x67E5;&#x8BE2;&#x6765;&#x5904;&#x7406;FOR UPDATE&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x4ECD;&#x7136;&#x4E0D;&#x662F;&#x5F88;&#x5B9E;&#x7528;&#xFF0C;&#x4F46;&#x81F3;&#x5C11;SQLA&#x4F1A;&#x901A;&#x8FC7;Oracle&#x89E3;&#x6790;&#x5668;&#x83B7;&#x53D6;SQL&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c4fb3d2d0a0c5a82038662d1a131caa4"></a></span></p><p><span class="yiyi-st" id="yiyi-841">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1815">&#xFF03;1815</a></span></p></li></ul></div><div class="section" id="change-0.6.1-firebird"><h3><span class="yiyi-st" id="yiyi-842">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.6.1-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.1-22"><span class="yiyi-st" id="yiyi-843"><span class="target" id="change-91fe7d4094c4263398493a015350a1ed"><strong>[firebird] </strong></span>&#x5728;has_table()&#x548C;has_sequence()&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x67E5;&#x8BE2;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x6807;&#x7B7E;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x4E0D;&#x4F1A;&#x4E3A;&#x7ED3;&#x679C;&#x5217;&#x63D0;&#x4F9B;&#x6807;&#x7B7E;&#x7684;Firebird&#x65E7;&#x7248;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-91fe7d4094c4263398493a015350a1ed"></a></span></p><p><span class="yiyi-st" id="yiyi-844">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1521">&#xFF03;1521</a></span></p></li><li><p id="change-0.6.1-23"><span class="yiyi-st" id="yiyi-845"><span class="target" id="change-0d74fea7bfb3e3c84d0515cc593d4d87"><strong>[firebird] </strong></span>&#x5F53;&#x901A;&#x8FC7;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x4F20;&#x9012;&#x65F6;&#xFF0C;&#x4E3A;&#x201C;type_conv&#x201D;&#x5C5E;&#x6027;&#x6DFB;&#x52A0;&#x6574;&#x6570;&#x5F3A;&#x5236;&#xFF0C;&#x4EE5;&#x4FBF;&#x7531;Kinterbasdb&#x6B63;&#x786E;&#x89E3;&#x91CA;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0d74fea7bfb3e3c84d0515cc593d4d87">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-846">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1779">&#xFF03;1779</a></span></p></li><li><p id="change-0.6.1-24"><span class="yiyi-st" id="yiyi-847"><span class="target" id="change-03bb6ab00e44c5f02f340d559a5dab0f"><strong>[firebird] </strong></span>&#x5C06;&apos;&#x8FDE;&#x63A5;&#x5173;&#x95ED;&apos;&#x6DFB;&#x52A0;&#x5230;&#x8868;&#x793A;&#x8FDE;&#x63A5;&#x65AD;&#x5F00;&#x7684;&#x5F02;&#x5E38;&#x5B57;&#x7B26;&#x4E32;&#x5217;&#x8868;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-03bb6ab00e44c5f02f340d559a5dab0f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-848">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1646">&#xFF03;1646</a></span></p></li></ul></div><div class="section" id="change-0.6.1-misc"><h3><span class="yiyi-st" id="yiyi-849">&#x6742;&#x9879;<a class="headerlink" href="#change-0.6.1-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.1-25"><span class="yiyi-st" id="yiyi-850"><span class="target" id="change-df53735fe0fac1271ec8b185d92b917c"><strong>[engines] </strong></span>&#x4FEE;&#x6B63;&#x4E86;Python 2.4&#x4E2D;&#x7684;C&#x6269;&#x5C55;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-df53735fe0fac1271ec8b185d92b917c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-851">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1781">&#xFF03;1781</a></span></p></li><li><p id="change-0.6.1-26"><span class="yiyi-st" id="yiyi-852"><span class="target" id="change-bd1c201152d89a2c0a9fce60d6eb9f10"><strong>[engines] </strong></span>&#x5728;&#x53D1;&#x751F;dispose()&#x540E;&#xFF0C;&#x6C60;&#x7C7B;&#x5C06;&#x91CD;&#x590D;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;&#x201C;pool_logging_name&#x201D;&#x8BBE;&#x7F6E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bd1c201152d89a2c0a9fce60d6eb9f10">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.1-27"><span class="yiyi-st" id="yiyi-853"><span class="target" id="change-d98f14529ec58cd4e539be4876c55109"><strong>[engines] </strong></span>&#x5F15;&#x64CE;&#x83B7;&#x5F97;&#x201C;execution_options&#x201D;&#x53C2;&#x6570;&#x548C;update_execution_options()&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x5C06;&#x5E94;&#x7528;&#x4E8E;&#x6B64;&#x5F15;&#x64CE;&#x751F;&#x6210;&#x7684;&#x6240;&#x6709;&#x8FDE;&#x63A5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d98f14529ec58cd4e539be4876c55109">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.1-28"><span class="yiyi-st" id="yiyi-854"><span class="target" id="change-6bd58738b79dc1de9e4c774f875c967e"><strong>[sqlsoup] </strong></span>the SqlSoup constructor accepts a <cite>base</cite> argument which specifies the base class to use for mapped classes, the default being <cite>object</cite>.<a class="changeset-link headerlink reference internal" href="#change-6bd58738b79dc1de9e4c774f875c967e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-855">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1783">&#xFF03;1783</a></span></p></li></ul></div></div><div class="section" id="change-0.6.0"><h2><span class="yiyi-st" id="yiyi-857">0.6.0 <a class="headerlink" href="#change-0.6.0" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-934">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2010&#x5E74;4&#x6708;18&#x65E5;</span><div class="section" id="change-0.6.0-orm"><h3><span class="yiyi-st" id="yiyi-858">ORM <a class="headerlink" href="#change-0.6.0-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.0-0"><span class="yiyi-st" id="yiyi-859"><span class="target" id="change-3b1217c725cfaca8d0f18b95fec0c71d"><strong>[orm] </strong></span>&#x5DE5;&#x4F5C;&#x5355;&#x5143;&#x5185;&#x90E8;&#x5DF2;&#x88AB;&#x91CD;&#x5199;&#x3002;</span><span class="yiyi-st" id="yiyi-860">&#x7531;&#x4E8E;&#x4E0D;&#x518D;&#x4F9D;&#x8D56;&#x9012;&#x5F52;&#x8C03;&#x7528;&#xFF0C;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5237;&#x65B0;&#x5927;&#x91CF;&#x4E0E;&#x5BF9;&#x8C61;&#x76F8;&#x5173;&#x7684;&#x5BF9;&#x8C61;&#x7684;&#x5DE5;&#x4F5C;&#x5355;&#x5143;&#x800C;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x9012;&#x5F52;&#x6EA2;&#x51FA;&#x3002;</span><span class="yiyi-st" id="yiyi-861">&#x73B0;&#x5728;&#xFF0C;&#x5BF9;&#x4E8E;&#x7279;&#x5B9A;&#x7684;&#x4F1A;&#x8BDD;&#x72B6;&#x6001;&#xFF0C;&#x5185;&#x90E8;&#x7ED3;&#x6784;&#x7684;&#x6570;&#x91CF;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#xFF0C;&#x800C;&#x4E0D;&#x7BA1;&#x6620;&#x5C04;&#x4E0A;&#x5B58;&#x5728;&#x591A;&#x5C11;&#x5173;&#x7CFB;&#x3002;</span><span class="yiyi-st" id="yiyi-862">&#x4E8B;&#x4EF6;&#x6D41;&#x73B0;&#x5728;&#x5BF9;&#x5E94;&#x4E8E;&#x7EBF;&#x6027;&#x6B65;&#x9AA4;&#x5217;&#x8868;&#xFF0C;&#x7531;&#x6620;&#x5C04;&#x5668;&#x548C;&#x5173;&#x7CFB;&#x57FA;&#x4E8E;&#x8981;&#x5B8C;&#x6210;&#x7684;&#x5B9E;&#x9645;&#x5DE5;&#x4F5C;&#x751F;&#x6210;&#xFF0C;&#x901A;&#x8FC7;&#x5355;&#x4E2A;&#x62D3;&#x6251;&#x6392;&#x5E8F;&#x8FDB;&#x884C;&#x6B63;&#x786E;&#x6392;&#x5E8F;&#x3002;</span><span class="yiyi-st" id="yiyi-863">&#x5237;&#x65B0;&#x64CD;&#x4F5C;&#x4F7F;&#x7528;&#x66F4;&#x5C11;&#x7684;&#x6B65;&#x9AA4;&#x548C;&#x66F4;&#x5C11;&#x7684;&#x5185;&#x5B58;&#x6765;&#x7EC4;&#x88C5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3b1217c725cfaca8d0f18b95fec0c71d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-864">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1742">&#xFF03;1742</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1081">&#xFF03;1081</a></span></p></li><li><p id="change-0.6.0-1"><span class="yiyi-st" id="yiyi-865"><span class="target" id="change-97e2870a10f13e39b21451eade7f34e3"><strong>[orm] </strong></span>Along with the UOW rewrite, this also removes an issue introduced in 0.6beta3 regarding topological cycle detection for units of work with long dependency cycles. </span><span class="yiyi-st" id="yiyi-866">&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x4F7F;&#x7528;Guido&#x7F16;&#x5199;&#x7684;&#x7B97;&#x6CD5;&#xFF08;&#x611F;&#x8C22;Guido&#xFF01;</span><span class="yiyi-st" id="yiyi-867">&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-97e2870a10f13e39b21451eade7f34e3">&#xB6; T0&gt;</a></span></p><p></p></li><li><p id="change-0.6.0-2"><span class="yiyi-st" id="yiyi-868"><span class="target" id="change-2c89e63a7b00b521ab6ebefa3e55a3d8"><strong>[orm] </strong></span>one-to-many relationships now maintain a list of positive parent-child associations within the flush, preventing previous parents marked as deleted from cascading a delete or NULL foreign key set on those child objects, despite the end-user not removing the child from the old association.<a class="changeset-link headerlink reference internal" href="#change-2c89e63a7b00b521ab6ebefa3e55a3d8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-869">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1764">&#xFF03;1764</a></span></p></li><li><p id="change-0.6.0-3"><span class="yiyi-st" id="yiyi-870"><span class="target" id="change-de68f57cafdd0eff2e36aba90d68a8d9"><strong>[orm] </strong></span>&#x96C6;&#x5408;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x5C06;&#x5728;&#x591A;&#x5BF9;&#x4E00;&#x7684;&#x53CD;&#x5411;&#x5173;&#x95ED;&#x9ED8;&#x8BA4;&#x9884;&#x52A0;&#x8F7D;&#xFF0C;&#x56E0;&#x4E3A;&#x8BE5;&#x52A0;&#x8F7D;&#x5728;&#x5B9A;&#x4E49;&#x4E0A;&#x662F;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-de68f57cafdd0eff2e36aba90d68a8d9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-871">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1495">&#xFF03;1495</a></span></p></li><li><p id="change-0.6.0-4"><span class="yiyi-st" id="yiyi-872"><span class="target" id="change-60b9bbf87ecba4f952f15d81c023040f"><strong>[orm] </strong></span>Session.refresh() now does an equivalent expire() on the given instance first, so that the &#x201C;refresh-expire&#x201D; cascade is propagated. </span><span class="yiyi-st" id="yiyi-873">&#x4EE5;&#x524D;&#xFF0C;refresh()&#x4E0D;&#x53D7;&#x201C;refresh-expire&#x201D;&#x7EA7;&#x8054;&#x7684;&#x5F71;&#x54CD;&#x3002;</span><span class="yiyi-st" id="yiyi-874">&#x8FD9;&#x662F;&#x884C;&#x4E3A;&#x4E0E;0.6beta2&#x884C;&#x4E3A;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x5176;&#x4E2D;&#x4F20;&#x9012;&#x7ED9;refresh()&#x7684;&#x201C;lockmode&#x201D;&#x6807;&#x5FD7;&#x5C06;&#x5BFC;&#x81F4;&#x7248;&#x672C;&#x68C0;&#x67E5;&#x53D1;&#x751F;&#x3002;</span><span class="yiyi-st" id="yiyi-875">&#x7531;&#x4E8E;&#x5B9E;&#x4F8B;&#x9996;&#x6B21;&#x8FC7;&#x671F;&#xFF0C;&#x56E0;&#x6B64;refresh()&#x4F1A;&#x59CB;&#x7EC8;&#x5C06;&#x5BF9;&#x8C61;&#x5347;&#x7EA7;&#x5230;&#x6700;&#x65B0;&#x7248;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-60b9bbf87ecba4f952f15d81c023040f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.0-5"><span class="yiyi-st" id="yiyi-876"><span class="target" id="change-f00123490bb1d2834b93640ea8cbd25d"><strong>[orm] </strong></span>The &#x2018;refresh-expire&#x2019; cascade, when reaching a pending object, will expunge the object if the cascade also includes &#x201C;delete-orphan&#x201D;, or will simply detach it otherwise.<a class="changeset-link headerlink reference internal" href="#change-f00123490bb1d2834b93640ea8cbd25d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-877">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1754">&#xFF03;1754</a></span></p></li><li><p id="change-0.6.0-6"><span class="yiyi-st" id="yiyi-878"><span class="target" id="change-446d9794507b3c1360eb69dd3f886c1b"><strong>[orm] </strong></span> id&#xFF08;obj&#xFF09;&#x4E0D;&#x518D;&#x5728;topological.py&#x4E2D;&#x5185;&#x90E8;&#x4F7F;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x6392;&#x5E8F;&#x51FD;&#x6570;&#x73B0;&#x5728;&#x53EA;&#x9700;&#x8981;&#x53EF;&#x54C8;&#x5E0C;&#x5BF9;&#x8C61;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-446d9794507b3c1360eb69dd3f886c1b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-879">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1756">&#xFF03;1756</a></span></p></li><li><p id="change-0.6.0-7"><span class="yiyi-st" id="yiyi-880"><span class="target" id="change-89d6d3ab3f04efc830987da850dbcd9f"><strong>[orm] </strong></span>The ORM will set the docstring of all generated descriptors to None by default. </span><span class="yiyi-st" id="yiyi-881">&#x8FD9;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&apos;doc&apos;&#x6765;&#x8986;&#x76D6;&#xFF08;&#x6216;&#x8005;&#x5982;&#x679C;&#x4F7F;&#x7528;Sphinx&#xFF0C;&#x5C5E;&#x6027;docstrings&#x4E5F;&#x53EF;&#x4EE5;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-89d6d3ab3f04efc830987da850dbcd9f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.0-8"><span class="yiyi-st" id="yiyi-882"><span class="target" id="change-0c5e8a43f7cfd7406db906494f6c86cb"><strong>[orm] </strong></span>&#x5C06;kw&#x53C2;&#x6570;&apos;doc&apos;&#x6DFB;&#x52A0;&#x5230;&#x6240;&#x6709;&#x6620;&#x5C04;&#x5668;&#x5C5E;&#x6027;&#x53EF;&#x8C03;&#x53C2;&#x6570;&#x4EE5;&#x53CA;Column()&#x3002;</span><span class="yiyi-st" id="yiyi-883">&#x5C06;&#x5B57;&#x7B26;&#x4E32;&apos;doc&apos;&#x7EC4;&#x88C5;&#x4E3A;&#x63CF;&#x8FF0;&#x7B26;&#x4E0A;&#x7684;&apos;__doc__&apos;&#x5C5E;&#x6027;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0c5e8a43f7cfd7406db906494f6c86cb">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.0-9"><span class="yiyi-st" id="yiyi-884"><span class="target" id="change-bfa16822997c1406790421c29fcddf84"><strong>[orm] </strong></span>Usage of version_id_col on a backend that supports cursor.rowcount for execute() but not executemany() now works when a delete is issued (already worked for saves, since those don&#x2019;t use executemany()). </span><span class="yiyi-st" id="yiyi-885">&#x5BF9;&#x4E8E;&#x6839;&#x672C;&#x4E0D;&#x652F;&#x6301;cursor.rowcount&#x7684;&#x540E;&#x7AEF;&#xFF0C;&#x53D1;&#x51FA;&#x7684;&#x8B66;&#x544A;&#x4E0E;save&#x76F8;&#x540C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bfa16822997c1406790421c29fcddf84">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-886">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1761">&#xFF03;1761</a></span></p></li><li><p id="change-0.6.0-10"><span class="yiyi-st" id="yiyi-887"><span class="target" id="change-7c8f475376472ec13a1f37c930bcffc9"><strong>[orm] </strong></span>The ORM now short-term caches the &#x201C;compiled&#x201D; form of insert() and update() constructs when flushing lists of objects of all the same class, thereby avoiding redundant compilation per individual INSERT/UPDATE within an individual flush() call.<a class="changeset-link headerlink reference internal" href="#change-7c8f475376472ec13a1f37c930bcffc9">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.0-11"><span class="yiyi-st" id="yiyi-888"><span class="target" id="change-9b2338aa43fcd0bf730a52d5e1a78bf1"><strong>[orm] </strong></span>internal getattr(), setattr(), getcommitted() methods on ColumnProperty, CompositeProperty, RelationshipProperty have been underscored (i.e. are private), signature has changed.<a class="changeset-link headerlink reference internal" href="#change-9b2338aa43fcd0bf730a52d5e1a78bf1">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6.0-sql"><h3><span class="yiyi-st" id="yiyi-889">SQL <a class="headerlink" href="#change-0.6.0-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.0-12"><span class="yiyi-st" id="yiyi-890"><span class="target" id="change-2ad00fb1fb1dc9fb7c58e6eea6830e93"><strong>[sql] </strong></span>Restored some bind-labeling logic from 0.5 which ensures that tables with column names that overlap another column of the form &#x201C;<tablename>_<columnname>&#x201D; won&#x2019;t produce errors if column._label is used as a bind name during an UPDATE. </columnname></tablename></span><span class="yiyi-st" id="yiyi-891">&#x5DF2;&#x6DFB;&#x52A0;0.5&#x4E2D;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x6D4B;&#x8BD5;&#x8986;&#x76D6;&#x7387;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2ad00fb1fb1dc9fb7c58e6eea6830e93">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-892">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1755">&#xFF03;1755</a></span></p></li><li><p id="change-0.6.0-13"><span class="yiyi-st" id="yiyi-893"><span class="target" id="change-8a0a290dfd11b9c9f0b759cacd2c60e7"><strong>[sql] </strong></span>somejoin.select(fold_equivalents=True) is no longer deprecated, and will eventually be rolled into a more comprehensive version of the feature for.<a class="changeset-link headerlink reference internal" href="#change-8a0a290dfd11b9c9f0b759cacd2c60e7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-894">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1729">&#xFF03;1729</a></span></p></li><li><p id="change-0.6.0-14"><span class="yiyi-st" id="yiyi-895"><span class="target" id="change-f49c7dce36721a3b7fff421faf1e347f"><strong>[sql] </strong></span>the Numeric type raises an <em>enormous</em> warning when expected to convert floats to Decimal from a DBAPI that returns floats. </span><span class="yiyi-st" id="yiyi-896">&#x8FD9;&#x5305;&#x62EC;SQLite&#xFF0C;Sybase&#xFF0C;MS-SQL&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f49c7dce36721a3b7fff421faf1e347f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-897">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1759">&#xFF03;1759</a></span></p></li><li><p id="change-0.6.0-15"><span class="yiyi-st" id="yiyi-898"><span class="target" id="change-79bb81f03cb8e5df4f9dd9a451f01db2"><strong>[sql] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#xFF0C;&#x8BE5;&#x9519;&#x8BEF;&#x5BFC;&#x81F4;&#x4E86;&#x5177;&#x6709;&#x4E24;&#x4E2A;NULL&#x7C7B;&#x578B;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x65E0;&#x9650;&#x5FAA;&#x73AF;<a class="changeset-link headerlink reference internal" href="#change-79bb81f03cb8e5df4f9dd9a451f01db2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.0-16"><span class="yiyi-st" id="yiyi-899"><span class="target" id="change-9a48a170841006eca908993bdd32d73e"><strong>[sql] </strong></span>Fixed bug in execution_options() feature whereby the existing Transaction and other state information from the parent connection would not be propagated to the sub-connection.<a class="changeset-link headerlink reference internal" href="#change-9a48a170841006eca908993bdd32d73e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.0-17"><span class="yiyi-st" id="yiyi-900"><span class="target" id="change-60e732c087d2155ba7f95c3372a0b9e0"><strong>[sql] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&apos;compiled_cache&apos;&#x6267;&#x884C;&#x9009;&#x9879;&#x3002;</span><span class="yiyi-st" id="yiyi-901">&#x5F53;&#x8FDE;&#x63A5;&#x5C06;&#x5B50;&#x53E5;&#x8868;&#x8FBE;&#x5F0F;&#x7F16;&#x8BD1;&#x4E3A;&#x65B9;&#x8A00;&#x548C;&#x53C2;&#x6570;&#x7279;&#x5B9A;&#x7684;&#x7F16;&#x8BD1;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;Compiled&#x5BF9;&#x8C61;&#x5C06;&#x88AB;&#x7F13;&#x5B58;&#x7684;&#x5B57;&#x5178;&#x3002;</span><span class="yiyi-st" id="yiyi-902">&#x7528;&#x6237;&#x6709;&#x8D23;&#x4EFB;&#x7BA1;&#x7406;&#x8BE5;&#x5B57;&#x5178;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x8BE5;&#x5B57;&#x5178;&#x5C06;&#x5177;&#x6709;&#x4E0E;&#x65B9;&#x8A00;&#xFF0C;&#x5B50;&#x53E5;&#x5143;&#x7D20;&#xFF0C;INSERT&#x6216;UPDATE&#x7684;VALUES&#x6216;SET&#x5B50;&#x53E5;&#x4E2D;&#x7684;&#x5217;&#x540D;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x952E;&#xFF0C;&#x4EE5;&#x53CA;&#x7528;&#x4E8E;INSERT&#x6216;UPDATE&#x8BED;&#x53E5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-60e732c087d2155ba7f95c3372a0b9e0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.0-18"><span class="yiyi-st" id="yiyi-903"><span class="target" id="change-768b947e2c0ef47ccdae7a24bea4fc76"><strong>[sql] </strong></span>&#x5C06;get_pk_constraint()&#x6DFB;&#x52A0;&#x5230;reflection.Inspector&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;get_primary_keys()&#xFF0C;&#x9664;&#x4E86;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x7EA6;&#x675F;&#x540D;&#x79F0;&#x7684;dict&#xFF0C;&#x7528;&#x4E8E;&#x53D7;&#x652F;&#x6301;&#x7684;&#x540E;&#x7AEF;&#xFF08;&#x8FC4;&#x4ECA;&#x4E3A;&#x6B62;&#x7684;PG&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-768b947e2c0ef47ccdae7a24bea4fc76">&#xB6;&lt; / T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-904">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1769">&#xFF03;1769</a></span></p></li><li><p id="change-0.6.0-19"><span class="yiyi-st" id="yiyi-905"><span class="target" id="change-9e9da1b03603fbea0a497194ff379a0f"><strong>[sql] </strong></span>Table.create() and Table.drop() no longer apply metadata- level create/drop events.<a class="changeset-link headerlink reference internal" href="#change-9e9da1b03603fbea0a497194ff379a0f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-906">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1771">&#xFF03;1771</a></span></p></li></ul></div><div class="section" id="change-0.6.0-postgresql"><h3><span class="yiyi-st" id="yiyi-907">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.6.0-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.0-20"><span class="yiyi-st" id="yiyi-908"><span class="target" id="change-4a1523bb9932656419cad5bb47984b8f"><strong>[postgresql] </strong></span>&#x5728;&#x5E8F;&#x5217;&#x540D;&#x79F0;&#x88AB;&#x66F4;&#x6539;&#x4E4B;&#x540E;&#xFF0C;Postgresql&#x73B0;&#x5728;&#x6B63;&#x786E;&#x53CD;&#x6620;&#x4E86;&#x4E0E;SERIAL&#x5217;&#x76F8;&#x5173;&#x8054;&#x7684;&#x5E8F;&#x5217;&#x540D;&#x79F0;&#x3002;</span><span class="yiyi-st" id="yiyi-909">&#x611F;&#x8C22;Kumar McMillan&#x63D0;&#x4F9B;&#x7684;&#x8865;&#x4E01;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4a1523bb9932656419cad5bb47984b8f">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-910">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1071">&#xFF03;1071</a></span></p></li><li><p id="change-0.6.0-21"><span class="yiyi-st" id="yiyi-911"><span class="target" id="change-f9a992cccbd35a7929c4a9fc18106789"><strong>[postgresql] </strong></span>&#x6536;&#x5230;&#x672A;&#x77E5;&#x6570;&#x200B;&#x200B;&#x5B57;&#x65F6;&#x4FEE;&#x590D;&#x4E86;psycopg2._PGNumeric&#x7C7B;&#x578B;&#x4E2D;&#x7F3A;&#x5C11;&#x7684;&#x5BFC;&#x5165;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f9a992cccbd35a7929c4a9fc18106789">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.0-22"><span class="yiyi-st" id="yiyi-912"><span class="target" id="change-b98fd25854c44f76b567995a581b059f"><strong>[postgresql] </strong></span> psycopg2 / pg8000&#x65B9;&#x8A00;&#x73B0;&#x5728;&#x77E5;&#x9053;REAL []&#xFF0C;FLOAT []&#xFF0C;DOUBLE_PRECISION []&#xFF0C;NUMERIC []&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x800C;&#x4E0D;&#x5F15;&#x53D1;&#x5F02;&#x5E38;<a class="changeset-link headerlink reference internal" href="#change-b98fd25854c44f76b567995a581b059f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.0-23"><span class="yiyi-st" id="yiyi-913"><span class="target" id="change-795011bac9decfbec163b1e926b9af2e"><strong>[postgresql] </strong></span> Postgresql&#x53CD;&#x6620;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x7684;&#x540D;&#x79F0;&#xFF08;&#x5982;&#x679C;&#x5B58;&#x5728;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-795011bac9decfbec163b1e926b9af2e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-914">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1769">&#xFF03;1769</a></span></p></li></ul></div><div class="section" id="change-0.6.0-oracle"><h3><span class="yiyi-st" id="yiyi-915">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.6.0-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.0-24"><span class="yiyi-st" id="yiyi-916"><span class="target" id="change-e256b03edc9a352999ab763c545d8369"><strong>[oracle] </strong></span>&#x73B0;&#x5728;&#x4F7F;&#x7528;cx_oracle&#x8F93;&#x51FA;&#x8F6C;&#x6362;&#x5668;&#xFF0C;&#x4EE5;&#x4FBF;DBAPI&#x539F;&#x751F;&#x8FD4;&#x56DE;&#x6211;&#x4EEC;&#x559C;&#x6B22;&#x7684;&#x503C;&#x7C7B;&#x578B;&#xFF1A;<a class="changeset-link headerlink reference internal" href="#change-e256b03edc9a352999ab763c545d8369">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.0-25"><span class="yiyi-st" id="yiyi-917"><span class="target" id="change-f9a62b0f03f5c58cd9451cf9002cb497"><strong>[oracle] </strong></span>NUMBER values with positive precision + scale convert to cx_oracle.STRING and then to Decimal. </span><span class="yiyi-st" id="yiyi-918">&#x8FD9;&#x4F7F;&#x5F97;&#x5728;&#x4F7F;&#x7528;cx_oracle&#x65F6;&#x6570;&#x503C;&#x7C7B;&#x578B;&#x5177;&#x6709;&#x5B8C;&#x7F8E;&#x7684;&#x7CBE;&#x5EA6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f9a62b0f03f5c58cd9451cf9002cb497">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-919">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1759">&#xFF03;1759</a></span></p></li><li><p id="change-0.6.0-26"><span class="yiyi-st" id="yiyi-920"><span class="target" id="change-ddda48d09bea40d9663e1537a8b7b708"><strong>[oracle] </strong></span>&#x73B0;&#x5728;STRING / FIXED_CHAR&#x672C;&#x5730;&#x8F6C;&#x6362;&#x4E3A;unicode&#x3002;</span><span class="yiyi-st" id="yiyi-921">SQLAlchemy&#x7684;String&#x7C7B;&#x578B;&#x4E0D;&#x9700;&#x8981;&#x5E94;&#x7528;&#x4EFB;&#x4F55;&#x7C7B;&#x578B;&#x7684;&#x8F6C;&#x6362;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ddda48d09bea40d9663e1537a8b7b708">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6.0-firebird"><h3><span class="yiyi-st" id="yiyi-922">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.6.0-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.0-27"><span class="yiyi-st" id="yiyi-923"><span class="target" id="change-605572f4fbe5fbe913e1c270b3de66b4"><strong>[firebird] </strong></span>&#x901A;&#x8FC7;&#x5728;create_engine()&#x4E0A;&#x8BBE;&#x7F6E;&apos;enable_rowcount = False&apos;&#xFF0C;&#x53EF;&#x4EE5;&#x57FA;&#x4E8E;&#x6BCF;&#x4E2A;&#x5F15;&#x64CE;&#x7981;&#x7528;result.rowcount&#x7684;&#x529F;&#x80FD;&#x3002;</span><span class="yiyi-st" id="yiyi-924">&#x901A;&#x5E38;&#xFF0C;&#x65E0;&#x6761;&#x4EF6;&#x5730;&#x5728;&#x4EFB;&#x4F55;UPDATE&#x6216;DELETE&#x8BED;&#x53E5;&#x4E4B;&#x540E;&#x8C03;&#x7528;cursor.rowcount&#xFF0C;&#x56E0;&#x4E3A;&#x968F;&#x540E;&#x5173;&#x95ED;&#x4E86;&#x6E38;&#x6807;&#x5E76;&#x4E14;Firebird&#x9700;&#x8981;&#x6253;&#x5F00;&#x6E38;&#x6807;&#x624D;&#x80FD;&#x83B7;&#x5F97;&#x884C;&#x8BA1;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-925">&#x8FD9;&#x4E2A;&#x7535;&#x8BDD;&#x7A0D;&#x5FAE;&#x6602;&#x8D35;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x53EF;&#x4EE5;&#x88AB;&#x7981;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-926">&#x8981;&#x5728;&#x6BCF;&#x6B21;&#x6267;&#x884C;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x91CD;&#x65B0;&#x542F;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&apos;enable_rowcount = True&apos;&#x6267;&#x884C;&#x9009;&#x9879;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-605572f4fbe5fbe913e1c270b3de66b4">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6.0-misc"><h3><span class="yiyi-st" id="yiyi-927">&#x6742;&#x9879;<a class="headerlink" href="#change-0.6.0-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6.0-28"><span class="yiyi-st" id="yiyi-928"><span class="target" id="change-e0c034dd38e58d6263b4417bd5b20d8a"><strong>[engines] </strong></span> C&#x6269;&#x5C55;&#x73B0;&#x5728;&#x4E5F;&#x9002;&#x7528;&#x4E8E;&#x5C06;&#x81EA;&#x5B9A;&#x4E49;&#x5E8F;&#x5217;&#x7528;&#x4F5C;&#x884C;&#xFF08;&#x800C;&#x4E0D;&#x4EC5;&#x662F;&#x5143;&#x7EC4;&#xFF09;&#x7684;DBAPI&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e0c034dd38e58d6263b4417bd5b20d8a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-929">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1757">&#xFF03;1757</a></span></p></li><li><p id="change-0.6.0-29"><span class="yiyi-st" id="yiyi-930"><span class="target" id="change-aa50f37469eba982996cc17bb2685a72"><strong>[ext] </strong></span>&#x7F16;&#x8BD1;&#x5668;&#x6269;&#x5C55;&#x73B0;&#x5728;&#x5141;&#x8BB8;&#x5728;&#x6269;&#x5C55;&#x5230;&#x5B50;&#x7C7B;&#x7684;&#x57FA;&#x7C7B;&#x4E0A;&#x4F7F;&#x7528;@compiles&#x88C5;&#x9970;&#x5668;&#xFF0C;&#x5728;&#x7F16;&#x8BD1;&#x5668;&#x4E0A;&#x7684;@compiles&#x4FEE;&#x9970;&#x5668;&#x4E0D;&#x4F1A;&#x88AB;&#x57FA;&#x7C7B;&#x4E0A;&#x7684;@compiles&#x4FEE;&#x9970;&#x5668;&#x7834;&#x574F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-aa50f37469eba982996cc17bb2685a72">&#xB6; T2&gt;</a></span></p><p></p></li><li><p id="change-0.6.0-30"><span class="yiyi-st" id="yiyi-931"><span class="target" id="change-0507e611abb0fe0ac48260501435bd99"><strong>[ext] </strong></span>Declarative will raise an informative error message if a non-mapped class attribute is referenced in the string-based relationship() arguments.<a class="changeset-link headerlink reference internal" href="#change-0507e611abb0fe0ac48260501435bd99">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.0-31"><span class="yiyi-st" id="yiyi-932"><span class="target" id="change-deb0113981b96ffb2348bb3031d2e553"><strong>[ext] </strong></span>&#x8FDB;&#x4E00;&#x6B65;&#x4FEE;&#x6539;&#x4E86;&#x58F0;&#x660E;&#x5F0F;&#x4E2D;&#x7684;&#x201C;mixin&#x201D;&#x903B;&#x8F91;&#xFF0C;&#x4EE5;&#x53E6;&#x5916;&#x5141;&#x8BB8;__mapper_args__&#x4F5C;&#x4E3A;mixin&#x4E0A;&#x7684;@class&#x5C5E;&#x6027;&#xFF0C;&#x4F8B;&#x5982;&#x52A8;&#x6001;&#x5206;&#x914D;polymorphic_identity&#x3002;<a class="changeset-link headerlink reference internal" href="#change-deb0113981b96ffb2348bb3031d2e553">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6.0-32"><span class="yiyi-st" id="yiyi-933"><span class="target" id="change-cbe6875d1367b7c3a0bbeb9dddead99a"><strong>[examples] </strong></span>&#x66F4;&#x65B0;&#x4E86;attribute_shard.py&#x793A;&#x4F8B;&#xFF0C;&#x4EE5;&#x4FBF;&#x4F7F;&#x7528;&#x66F4;&#x5F3A;&#x5927;&#x7684;&#x641C;&#x7D22;Query&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x5C06;&#x5217;&#x4E0E;&#x6587;&#x672C;&#x503C;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cbe6875d1367b7c3a0bbeb9dddead99a">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.6beta3"><h2><span class="yiyi-st" id="yiyi-935">0.6beta3 <a class="headerlink" href="#change-0.6beta3" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-990">&#x53D1;&#x5E03;&#x4E8E;&#xFF1A;2010&#x5E74;3&#x6708;28&#x65E5;</span><div class="section" id="change-0.6beta3-orm"><h3><span class="yiyi-st" id="yiyi-936">ORM <a class="headerlink" href="#change-0.6beta3-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta3-0"><span class="yiyi-st" id="yiyi-937"><span class="target" id="change-f967d8dbf3c4194f9e0b1af4d5804fd6"><strong>[orm] </strong></span>&#x4E3B;&#x8981;&#x529F;&#x80FD;&#xFF1A;&#x4E3A;&#x5173;&#x7CFB;()&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x201C;&#x5B50;&#x67E5;&#x8BE2;&#x201D;&#x52A0;&#x8F7D;&#x529F;&#x80FD;&#x3002;</span><span class="yiyi-st" id="yiyi-938">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x70ED;&#x5207;&#x7684;&#x52A0;&#x8F7D;&#x9009;&#x9879;&#xFF0C;&#x5B83;&#x4E3A;&#x67E5;&#x8BE2;&#x4E2D;&#x8868;&#x793A;&#x7684;&#x6BCF;&#x4E2A;&#x96C6;&#x5408;&#x751F;&#x6210;&#x7B2C;&#x4E8C;&#x4E2A;SELECT&#xFF0C;&#x5E76;&#x540C;&#x65F6;&#x4E3A;&#x6240;&#x6709;&#x7236;&#x6BCD;&#x751F;&#x6210;&#x3002;</span><span class="yiyi-st" id="yiyi-939">&#x67E5;&#x8BE2;&#x91CD;&#x65B0;&#x53D1;&#x5E03;&#x5305;&#x88C5;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x7684;&#x539F;&#x59CB;&#x6700;&#x7EC8;&#x7528;&#x6237;&#x67E5;&#x8BE2;&#xFF0C;&#x5C06;&#x8FDE;&#x63A5;&#x5E94;&#x7528;&#x5230;&#x76EE;&#x6807;&#x96C6;&#x5408;&#xFF0C;&#x5E76;&#x5C06;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x96C6;&#x5408;&#x5B8C;&#x5168;&#x52A0;&#x8F7D;&#x5230;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x4E2D;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x201C;&#x5DF2;&#x52A0;&#x5165;&#x201D;&#x7684;&#x52A0;&#x8F7D;&#xFF0C;&#x4F46;&#x4F7F;&#x7528;&#x6240;&#x6709;&#x5185;&#x90E8;&#x8FDE;&#x63A5;&#xFF0C;&#x91CD;&#x590D;&#x83B7;&#x53D6;&#x5B8C;&#x6574;&#x7684;&#x7236;&#x884C;&#xFF08;&#x56E0;&#x4E3A;&#x5927;&#x591A;&#x6570;DBAPI&#x4F3C;&#x4E4E;&#x90FD;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x5373;&#x4F7F;&#x5217;&#x88AB;&#x8DF3;&#x8FC7;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-940">&#x5B50;&#x67E5;&#x8BE2;&#x52A0;&#x8F7D;&#x53EF;&#x5728;mapper&#x914D;&#x7F6E;&#x7EA7;&#x522B;&#x4F7F;&#x7528;&#x201C;lazy =&apos;subquery&apos;&#x201D;&#x5E76;&#x5728;&#x67E5;&#x8BE2;&#x9009;&#x9879;&#x7EA7;&#x522B;&#x4F7F;&#x7528;&#x201C;subqueryload&#xFF08;props ..&#xFF09;&#x201D;&#xFF0C;&#x201C;subqueryload_all&#xFF08;props ...&#xFF09;&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f967d8dbf3c4194f9e0b1af4d5804fd6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-941">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1675">&#xFF03;1675</a></span></p></li><li><p id="change-0.6beta3-1"><span class="yiyi-st" id="yiyi-942"><span class="target" id="change-18a93528ced9a2629dcac08a74e933e0"><strong>[orm] </strong></span>To accommodate the fact that there are now two kinds of eager loading available, the new names for eagerload() and eagerload_all() are joinedload() and joinedload_all(). </span><span class="yiyi-st" id="yiyi-943">&#x5728;&#x53EF;&#x9884;&#x89C1;&#x7684;&#x5C06;&#x6765;&#xFF0C;&#x65E7;&#x540D;&#x79F0;&#x4ECD;&#x7136;&#x662F;&#x540C;&#x4E49;&#x8BCD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-18a93528ced9a2629dcac08a74e933e0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta3-2"><span class="yiyi-st" id="yiyi-944"><span class="target" id="change-5660c8fd9cb4729f0f6017950bde5b27"><strong>[orm] </strong></span>The &#x201C;lazy&#x201D; flag on the relationship() function now accepts a string argument for all kinds of loading: &#x201C;select&#x201D;, &#x201C;joined&#x201D;, &#x201C;subquery&#x201D;, &#x201C;noload&#x201D; and &#x201C;dynamic&#x201D;, where the default is now &#x201C;select&#x201D;. </span><span class="yiyi-st" id="yiyi-945">True / False / None&#x7684;&#x65E7;&#x503C;&#x4ECD;&#x7136;&#x4FDD;&#x7559;&#x5176;&#x901A;&#x5E38;&#x7684;&#x542B;&#x4E49;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x53EF;&#x9884;&#x89C1;&#x7684;&#x672A;&#x6765;&#x4ECD;&#x7136;&#x662F;&#x540C;&#x4E49;&#x8BCD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5660c8fd9cb4729f0f6017950bde5b27">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta3-3"><span class="yiyi-st" id="yiyi-946"><span class="target" id="change-cc53079a38c2d284e5b3d878ed0120c4"><strong>[orm] </strong></span>&#x5411;Query()&#x6784;&#x9020;&#x6DFB;&#x52A0;&#x4E86;with_hint()&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-947">&#x8FD9;&#x76F4;&#x63A5;&#x8C03;&#x7528;select()&#x3002;with_hint()&#x5E76;&#x63A5;&#x53D7;&#x5B9E;&#x4F53;&#x4EE5;&#x53CA;&#x8868;&#x548C;&#x522B;&#x540D;&#x3002;</span><span class="yiyi-st" id="yiyi-948">&#x8BF7;&#x53C2;&#x9605;&#x4E0B;&#x9762;&#x7684;SQL&#x90E8;&#x5206;&#x4E2D;&#x7684;with_hint()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cc53079a38c2d284e5b3d878ed0120c4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-949">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/921">&#xFF03;921</a></span></p></li><li><p id="change-0.6beta3-4"><span class="yiyi-st" id="yiyi-950"><span class="target" id="change-3ccda2938593dbe9607247dd4ea3f042"><strong>[orm] </strong></span>Fixed bug in Query whereby calling q.join(prop).from_self(...). </span><span class="yiyi-st" id="yiyi-951">&#x8FDE;&#x63A5;&#xFF08;prop&#xFF09;&#x5C06;&#x65E0;&#x6CD5;&#x5C06;&#x7B2C;&#x4E8C;&#x4E2A;&#x8FDE;&#x63A5;&#x6E32;&#x67D3;&#x5230;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x5916;&#x90E8;&#xFF0C;&#x5F53;&#x8FDE;&#x63A5;&#x5230;&#x4E0E;&#x5185;&#x90E8;&#x76F8;&#x540C;&#x7684;&#x6807;&#x51C6;&#x65F6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3ccda2938593dbe9607247dd4ea3f042">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta3-5"><span class="yiyi-st" id="yiyi-952"><span class="target" id="change-2546a2848e4b1fdee1a5cacf7b6e9177"><strong>[orm] </strong></span>Fixed bug in Query whereby the usage of aliased() constructs would fail if the underlying table (but not the actual alias) were referenced inside the subquery generated by q.from_self() or q.select_from().<a class="changeset-link headerlink reference internal" href="#change-2546a2848e4b1fdee1a5cacf7b6e9177">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta3-6"><span class="yiyi-st" id="yiyi-953"><span class="target" id="change-69588e4d5fc29aebd7af673e5d4ec0ae"><strong>[orm] </strong></span>Fixed bug which affected all eagerload() and similar options such that &#x201C;remote&#x201D; eager loads, i.e. eagerloads off of a lazy load such as query(A).options(eagerload(A.b, B.c)) wouldn&#x2019;t eagerload anything, but using eagerload(&#x201C;b.c&#x201D;) would work fine.<a class="changeset-link headerlink reference internal" href="#change-69588e4d5fc29aebd7af673e5d4ec0ae">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta3-7"><span class="yiyi-st" id="yiyi-954"><span class="target" id="change-f79b8419ad3bbd5244a090f0a35e6c22"><strong>[orm] </strong></span>&#x67E5;&#x8BE2;&#x83B7;&#x5F97;add_columns&#xFF08;col&#xFF09;&#x7684;&#x591A;&#x7248;&#x672C;add_columns&#xFF08;* columns&#xFF09;&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-955">add_column&#xFF08;col&#xFF09;&#x5C06;&#x6765;&#x4F1A;&#x88AB;&#x5F03;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f79b8419ad3bbd5244a090f0a35e6c22">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta3-8"><span class="yiyi-st" id="yiyi-956"><span class="target" id="change-965b0258f91345cb3a06eb1191ba4dd6"><strong>[orm] </strong></span> Query.join()&#x5C06;&#x68C0;&#x6D4B;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x662F;&#x5426;&#x4E3A;&#x201C;FROM A JOIN A&#x201D;&#xFF0C;&#x5982;&#x679C;&#x662F;&#xFF0C;&#x5219;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-965b0258f91345cb3a06eb1191ba4dd6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta3-9"><span class="yiyi-st" id="yiyi-957"><span class="target" id="change-33de22e92c0ea512daaf2bf928b86233"><strong>[orm] </strong></span>Query.join(Cls.propname, from_joinpoint=True) will check more carefully that &#x201C;Cls&#x201D; is compatible with the current joinpoint, and act the same way as Query.join(&#x201C;propname&#x201D;, from_joinpoint=True) in that regard.<a class="changeset-link headerlink reference internal" href="#change-33de22e92c0ea512daaf2bf928b86233">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6beta3-sql"><h3><span class="yiyi-st" id="yiyi-958">SQL <a class="headerlink" href="#change-0.6beta3-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta3-10"><span class="yiyi-st" id="yiyi-959"><span class="target" id="change-8921f11442b55f634ffd5da10a321a10"><strong>[sql] </strong></span>&#x6DFB;&#x52A0;with_hint()&#x65B9;&#x6CD5;&#x4EE5;&#x9009;&#x62E9;()&#x6784;&#x9020;&#x3002;</span><span class="yiyi-st" id="yiyi-960">&#x6307;&#x5B9A;&#x8868;/&#x522B;&#x540D;&#xFF0C;&#x63D0;&#x793A;&#x6587;&#x672C;&#x548C;&#x53EF;&#x9009;&#x7684;&#x65B9;&#x8A00;&#x540D;&#x79F0;&#xFF0C;&#x5E76;&#x4E14;&#x201C;&#x63D0;&#x793A;&#x201D;&#x5C06;&#x5728;&#x8BED;&#x53E5;&#x7684;&#x9002;&#x5F53;&#x4F4D;&#x7F6E;&#x5448;&#x73B0;&#x3002;</span><span class="yiyi-st" id="yiyi-961">&#x9002;&#x7528;&#x4E8E;Oracle&#xFF0C;Sybase&#xFF0C;MySQL&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8921f11442b55f634ffd5da10a321a10">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-962">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/921">&#xFF03;921</a></span></p></li><li><p id="change-0.6beta3-11"><span class="yiyi-st" id="yiyi-963"><span class="target" id="change-dbf96f0ccd57bb7e5c8878762570f98e"><strong>[sql] </strong></span>Fixed bug introduced in 0.6beta2 where column labels would render inside of column expressions already assigned a label.<a class="changeset-link headerlink reference internal" href="#change-dbf96f0ccd57bb7e5c8878762570f98e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-964">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1747">&#xFF03;1747</a></span></p></li></ul></div><div class="section" id="change-0.6beta3-postgresql"><h3><span class="yiyi-st" id="yiyi-965">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.6beta3-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta3-12"><span class="yiyi-st" id="yiyi-966"><span class="target" id="change-51b8f6239dcbf5719eeda7f33fb074ad"><strong>[postgresql] </strong></span> psycopg2&#x65B9;&#x8A00;&#x5C06;&#x901A;&#x8FC7;&#x201C;sqlalchemy.dialects.postgresql&#x201D;&#x8BB0;&#x5F55;&#x5668;&#x540D;&#x79F0;&#x8BB0;&#x5F55;NOTICE&#x6D88;&#x606F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-51b8f6239dcbf5719eeda7f33fb074ad">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-967">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/877">&#xFF03;877</a></span></p></li><li><p id="change-0.6beta3-13"><span class="yiyi-st" id="yiyi-968"><span class="target" id="change-b06780742c82dc402af8d0b581c9eebe"><strong>[postgresql] </strong></span> TIME&#x548C;TIMESTAMP&#x7C7B;&#x578B;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4ECE;postgresql&#x65B9;&#x8A00;&#x4E2D;&#x83B7;&#x5F97;&#xFF0C;&#x5B83;&#x5C06;PG&#x7279;&#x6709;&#x7684;&#x53C2;&#x6570;&apos;precision&apos;&#x6DFB;&#x52A0;&#x5230;&#x4E24;&#x8005;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-969">&apos;TIME&apos;&#x548C;&apos;TIMEZONE&apos;&#x7C7B;&#x578B;&#x7684;&apos;precision&apos;&#x548C;&apos;timezone&apos;&#x90FD;&#x88AB;&#x6B63;&#x786E;&#x53CD;&#x6620;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b06780742c82dc402af8d0b581c9eebe">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-970">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/997">&#xFF03;997</a></span></p></li></ul></div><div class="section" id="change-0.6beta3-mysql"><h3><span class="yiyi-st" id="yiyi-971">MySQL&#x7684;<a class="headerlink" href="#change-0.6beta3-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta3-14"><span class="yiyi-st" id="yiyi-972"><span class="target" id="change-683fd67a66959dc8c853731f14b2cc81"><strong>[mysql] </strong></span>&#x5F53;&#x53CD;&#x5C04; -  TINYINT&#xFF08;1&#xFF09;&#x8FD4;&#x56DE;&#x65F6;&#xFF0C;&#x4E0D;&#x8981;&#x518D;&#x731C;&#x6D4B;TINYINT&#xFF08;1&#xFF09;&#x5E94;&#x8BE5;&#x662F;BOOLEAN&#x3002;</span><span class="yiyi-st" id="yiyi-973">&#x5728;&#x8868;&#x5B9A;&#x4E49;&#x4E2D;&#x4F7F;&#x7528;&#x5E03;&#x5C14;&#x503C;/&#x5E03;&#x5C14;&#x503C;&#x6765;&#x83B7;&#x53D6;&#x5E03;&#x5C14;&#x8F6C;&#x6362;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-683fd67a66959dc8c853731f14b2cc81">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-974">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1752">&#xFF03;1752</a></span></p></li></ul></div><div class="section" id="change-0.6beta3-oracle"><h3><span class="yiyi-st" id="yiyi-975">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.6beta3-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta3-15"><span class="yiyi-st" id="yiyi-976"><span class="target" id="change-5c94b49a397096685020b6e1e5702ec7"><strong>[oracle] </strong></span>The Oracle dialect will issue VARCHAR type definitions using character counts, i.e. VARCHAR2(50 CHAR), so that the column is sized in terms of characters and not bytes. </span><span class="yiyi-st" id="yiyi-977">&#x5B57;&#x7B26;&#x7C7B;&#x578B;&#x7684;&#x5217;&#x53CD;&#x5C04;&#x4E5F;&#x5C06;&#x4F7F;&#x7528;ALL_TAB_COLUMNS.CHAR_LENGTH&#x800C;&#x4E0D;&#x662F;ALL_TAB_COLUMNS.DATA_LENGTH&#x3002;</span><span class="yiyi-st" id="yiyi-978">&#x5F53;&#x670D;&#x52A1;&#x5668;&#x7248;&#x672C;&#x4E3A;9&#x6216;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#x65F6;&#xFF0C;&#x8FD9;&#x4E24;&#x79CD;&#x884C;&#x4E3A;&#x90FD;&#x4F1A;&#x751F;&#x6548; - &#x5BF9;&#x4E8E;&#x7248;&#x672C;8&#xFF0C;&#x4F7F;&#x7528;&#x65E7;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5c94b49a397096685020b6e1e5702ec7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-979">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1744">&#xFF03;1744</a></span></p></li></ul></div><div class="section" id="change-0.6beta3-misc"><h3><span class="yiyi-st" id="yiyi-980">&#x6742;&#x9879;<a class="headerlink" href="#change-0.6beta3-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta3-16"><span class="yiyi-st" id="yiyi-981"><span class="target" id="change-830637c55ffba2f2e096ea3c18f4f4a7"><strong>[declarative] </strong></span>&#x5982;&#x679C;mixin&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x4E0D;&#x53EF;&#x9884;&#x77E5;&#x7684;__getattribute __()&#xFF0C;&#x5373;Zope&#x63A5;&#x53E3;&#xFF0C;&#x90A3;&#x4E48;&#x4F7F;&#x7528;mixin&#x4E0D;&#x4F1A;&#x4E2D;&#x65AD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-830637c55ffba2f2e096ea3c18f4f4a7">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-982">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1746">&#xFF03;1746</a></span></p></li><li><p id="change-0.6beta3-17"><span class="yiyi-st" id="yiyi-983"><span class="target" id="change-bd6f8eba3f3862d4d8d1011707f7b4cf"><strong>[declarative] </strong></span>&#x5728;mixins&#x4E0A;&#x4F7F;&#x7528;@classdecorator&#x548C;&#x7C7B;&#x4F3C;&#x8BCD;&#x6765;&#x5B9A;&#x4E49;__tablename__&#xFF0C;__table_args__&#x7B49;&#x3002;</span><span class="yiyi-st" id="yiyi-984">&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5728;&#x8BE5;&#x65B9;&#x6CD5;&#x5F15;&#x7528;&#x6700;&#x7EC8;&#x5B50;&#x7C7B;&#x4E0A;&#x7684;&#x5C5E;&#x6027;&#x65F6;&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bd6f8eba3f3862d4d8d1011707f7b4cf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-985">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1749">&#xFF03;1749</a></span></p></li><li><p id="change-0.6beta3-18"><span class="yiyi-st" id="yiyi-986"><span class="target" id="change-1330f1fe92881e1fd934e9d4505add81"><strong>[declarative] </strong></span>&#x58F0;&#x660E;&#x5F0F;&#x6DF7;&#x5408;&#x4E2D;&#x4E0D;&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x5916;&#x952E;&#x7684;&#x5173;&#x7CFB;&#x548C;&#x5217;&#xFF0C;&#x5BF9;&#x4E0D;&#x8D77;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1330f1fe92881e1fd934e9d4505add81">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-987">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1751">&#xFF03;1751</a></span></p></li><li><p id="change-0.6beta3-19"><span class="yiyi-st" id="yiyi-988"><span class="target" id="change-caaf4140d3b5e7c3c34a1234538341e4"><strong>[ext] </strong></span> sqlalchemy.orm.shard&#x6A21;&#x5757;&#x73B0;&#x5728;&#x6210;&#x4E3A;&#x6269;&#x5C55;&#x540D;sqlalchemy.ext.horizo&#x200B;&#x200B;ntal_shard&#x3002;</span><span class="yiyi-st" id="yiyi-989">&#x65E7;&#x7684;&#x5BFC;&#x5165;&#x4F7F;&#x7528;&#x4E86;&#x5F03;&#x7528;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-caaf4140d3b5e7c3c34a1234538341e4">&#xB6;</a></span></p><p></p></li></ul></div></div><div class="section" id="change-0.6beta2"><h2><span class="yiyi-st" id="yiyi-991">0.6beta2 <a class="headerlink" href="#change-0.6beta2" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1189">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2010&#x5E74;3&#x6708;20&#x65E5;</span><div class="section" id="change-0.6beta2-orm"><h3><span class="yiyi-st" id="yiyi-992">ORM <a class="headerlink" href="#change-0.6beta2-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta2-0"><span class="yiyi-st" id="yiyi-993"><span class="target" id="change-91f89136c1aa2ba8d36ba9cf940655b3"><strong>[orm] </strong></span> relation()&#x51FD;&#x6570;&#x7684;&#x6B63;&#x5F0F;&#x540D;&#x79F0;&#x73B0;&#x5728;&#x662F;relationship()&#xFF0C;&#x4EE5;&#x6D88;&#x9664;&#x5BF9;&#x5173;&#x7CFB;&#x4EE3;&#x6570;&#x672F;&#x8BED;&#x7684;&#x6DF7;&#x6DC6;&#x3002;</span><span class="yiyi-st" id="yiyi-994">&#x5728;&#x53EF;&#x9884;&#x89C1;&#x7684;&#x5C06;&#x6765;&#xFF0C;relation()&#x5C06;&#x4FDD;&#x6301;&#x76F8;&#x540C;&#x7684;&#x5BB9;&#x91CF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-91f89136c1aa2ba8d36ba9cf940655b3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-995">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1740">&#xFF03;1740</a></span></p></li><li><p id="change-0.6beta2-1"><span class="yiyi-st" id="yiyi-996"><span class="target" id="change-9037d3b9977b0f3a6fcc6590008b9b44"><strong>[orm] </strong></span>&#x4E3A;Mapper&#x6DFB;&#x52A0;&#x4E86;&#x201C;version_id_generator&#x201D;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x8C03;&#x7528;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x5728;&#x201C;version_id_col&#x201D;&#x7684;&#x5F53;&#x524D;&#x503C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8FD4;&#x56DE;&#x4E0B;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x53F7;&#x3002;</span><span class="yiyi-st" id="yiyi-997">&#x53EF;&#x7528;&#x4E8E;&#x66FF;&#x4EE3;&#x7248;&#x672C;&#x63A7;&#x5236;&#x65B9;&#x6848;&#xFF0C;&#x5982;uuid&#xFF0C;&#x65F6;&#x95F4;&#x6233;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9037d3b9977b0f3a6fcc6590008b9b44">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-998">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1692">&#xFF03;1692</a></span></p></li><li><p id="change-0.6beta2-2"><span class="yiyi-st" id="yiyi-999"><span class="target" id="change-ac4f20719ab810598a0f3c8590bb9e48"><strong>[orm] </strong></span>added &#x201C;lockmode&#x201D; kw argument to Session.refresh(), will pass through the string value to Query the same as in with_lockmode(), will also do version check for a version_id_col-enabled mapping.<a class="changeset-link headerlink reference internal" href="#change-ac4f20719ab810598a0f3c8590bb9e48">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-3"><span class="yiyi-st" id="yiyi-1000"><span class="target" id="change-2edc56abe56b8a124e046abb661dc5db"><strong>[orm] </strong></span>Fixed bug whereby calling query(A).join(A.bs).add_entity(B) in a joined inheritance scenario would double-add B as a target and produce an invalid query.<a class="changeset-link headerlink reference internal" href="#change-2edc56abe56b8a124e046abb661dc5db">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1001">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1188">&#xFF03;1188</a></span></p></li><li><p id="change-0.6beta2-4"><span class="yiyi-st" id="yiyi-1002"><span class="target" id="change-58c0d0b1848c816ae294a332245af234"><strong>[orm] </strong></span>Fixed bug in session.rollback() which involved not removing formerly &#x201C;pending&#x201D; objects from the session before re-integrating &#x201C;deleted&#x201D; objects, typically occurred with natural primary keys. </span><span class="yiyi-st" id="yiyi-1003">&#x5982;&#x679C;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x5B58;&#x5728;&#x4E3B;&#x952E;&#x51B2;&#x7A81;&#xFF0C;&#x5219;&#x5220;&#x9664;&#x7684;&#x9644;&#x52A0;&#x5185;&#x90E8;&#x5C06;&#x5931;&#x8D25;&#x3002;</span><span class="yiyi-st" id="yiyi-1004">&#x4EE5;&#x524D;&#x7684;&#x201C;&#x5F85;&#x5904;&#x7406;&#x201D;&#x5BF9;&#x8C61;&#x73B0;&#x5728;&#x5148;&#x88AB;&#x6E05;&#x9664;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-58c0d0b1848c816ae294a332245af234">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1005">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1674">&#xFF03;1674</a></span></p></li><li><p id="change-0.6beta2-5"><span class="yiyi-st" id="yiyi-1006"><span class="target" id="change-1f41c5a5c9f337a6608e0d4f75069739"><strong>[orm] </strong></span>&#x5220;&#x9664;&#x4E86;&#x5F88;&#x591A;&#x6CA1;&#x6709;&#x4EBA;&#x5173;&#x5FC3;&#x7684;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#xFF0C;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x4ECD;&#x7136;&#x4F1A;&#x54CD;&#x5E94;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;&#x7684;&#x5B9E;&#x65F6;&#x66F4;&#x6539;&#x3002;</span><span class="yiyi-st" id="yiyi-1007">&#x6CA1;&#x6709;&#x660E;&#x663E;&#x7684;&#x989D;&#x5916;&#x5F00;&#x9500;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1f41c5a5c9f337a6608e0d4f75069739">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1008">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1719">&#xFF03;1719</a></span></p></li><li><p id="change-0.6beta2-6"><span class="yiyi-st" id="yiyi-1009"><span class="target" id="change-a1907a9674f8eb93bed9c80372b1b3b1"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;session.merge()&#x4E2D;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x5B83;&#x963B;&#x6B62;&#x4E86;&#x5B57;&#x5178;&#x96C6;&#x5408;&#x7684;&#x5408;&#x5E76;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a1907a9674f8eb93bed9c80372b1b3b1">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-7"><span class="yiyi-st" id="yiyi-1010"><span class="target" id="change-2388f0254684db431b5a06c72016ec42"><strong>[orm] </strong></span>session.merge() works with relations that specifically don&#x2019;t include &#x201C;merge&#x201D; in their cascade options - the target is ignored completely.<a class="changeset-link headerlink reference internal" href="#change-2388f0254684db431b5a06c72016ec42">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-8"><span class="yiyi-st" id="yiyi-1011">&#x5982;&#x679C;&#x76EE;&#x6807;&#x5177;&#x6709;&#x8BE5;&#x5C5E;&#x6027;&#x7684;&#x503C;&#xFF0C;&#x5373;&#x4F7F;&#x4F20;&#x5165;&#x7684;&#x5408;&#x5E76;&#x6CA1;&#x6709;&#x8BE5;&#x5C5E;&#x6027;&#x7684;&#x503C;&#xFF0C;session.merge()&#x4E5F;&#x4E0D;&#x4F1A;&#x8FC7;&#x671F;&#x73B0;&#x6709;&#x76EE;&#x6807;&#x4E0A;&#x7684;&#x73B0;&#x6709;&#x6807;&#x91CF;&#x5C5E;&#x6027;&#x3002;<span class="target" id="change-c3b6834f3e3153d50e1c2975e838d44c"><strong>[orm] </strong></span></span><span class="yiyi-st" id="yiyi-1012">&#x8FD9;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x5BF9;&#x73B0;&#x6709;&#x9879;&#x76EE;&#x9020;&#x6210;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x8D1F;&#x8F7D;</span><span class="yiyi-st" id="yiyi-1013">&#x5982;&#x679C;&#x76EE;&#x7684;&#x5730;&#x6CA1;&#x6709;attr&#xFF0C;&#x4F46;&#x4ECD;&#x7136;&#x4F1A;&#x5C06;attr&#x6807;&#x8BB0;&#x4E3A;&#x5DF2;&#x5230;&#x671F;&#xFF0C;&#x8FD9;&#x7B26;&#x5408;&#x5EF6;&#x8FDF;cols&#x7684;&#x67D0;&#x4E9B;&#x5408;&#x540C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c3b6834f3e3153d50e1c2975e838d44c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1014">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1681">&#xFF03;1681</a></span></p></li><li><p id="change-0.6beta2-9"><span class="yiyi-st" id="yiyi-1015"><span class="target" id="change-666a289821dc312f5ae2b810b4f61a61"><strong>[orm] </strong></span>The &#x201C;allow_null_pks&#x201D; flag is now called &#x201C;allow_partial_pks&#x201D;, defaults to True, acts like it did in 0.5 again. </span><span class="yiyi-st" id="yiyi-1016">&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x5B83;&#x4E5F;&#x5728;merge()&#x4E2D;&#x5B9E;&#x73B0;&#xFF0C;&#x4F7F;&#x5F97;&#x5982;&#x679C;&#x6807;&#x5FD7;&#x4E3A;False&#xFF0C;&#x5219;&#x4E0D;&#x4F1A;&#x4E3A;&#x5177;&#x6709;&#x90E8;&#x5206;NULL&#x4E3B;&#x952E;&#x7684;&#x4F20;&#x5165;&#x5B9E;&#x4F8B;&#x53D1;&#x51FA;SELECT&#x3002;<a class="changeset-link headerlink reference internal" href="#change-666a289821dc312f5ae2b810b4f61a61">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1017">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1680">&#xFF03;1680</a></span></p></li><li><p id="change-0.6beta2-10"><span class="yiyi-st" id="yiyi-1018"><span class="target" id="change-340360d984e646cb2c8c8da0d5cc11b8"><strong>[orm] </strong></span>Fixed bug in 0.6-reworked &#x201C;many-to-one&#x201D; optimizations such that a many-to-one that is against a non-primary key column on the remote table (i.e. foreign key against a UNIQUE column) will pull the &#x201C;old&#x201D; value in from the database during a change, since if it&#x2019;s in the session we will need it for proper history/backref accounting, and we can&#x2019;t pull from the local identity map on a non-primary key column.<a class="changeset-link headerlink reference internal" href="#change-340360d984e646cb2c8c8da0d5cc11b8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1019">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1737">&#xFF03;1737</a></span></p></li><li><p id="change-0.6beta2-11"><span class="yiyi-st" id="yiyi-1020"><span class="target" id="change-2848fed5c8fca096477e50f01a83b6c3"><strong>[orm] </strong></span>&#x56FA;&#x5B9A;&#x5185;&#x90E8;&#x9519;&#x8BEF;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x5355;&#x8868;&#x7EE7;&#x627F;&#x5173;&#x7CFB;()&#x4E0A;&#x8C03;&#x7528;has()&#x6216;&#x7C7B;&#x4F3C;&#x7684;&#x590D;&#x6742;&#x8868;&#x8FBE;&#x5F0F;&#x65F6;&#x4F1A;&#x53D1;&#x751F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2848fed5c8fca096477e50f01a83b6c3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1021">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1731">&#xFF03;1731</a></span></p></li><li><p id="change-0.6beta2-12"><span class="yiyi-st" id="yiyi-1022"><span class="target" id="change-5033bb4d60482fdc7e61d81f6412cea4"><strong>[orm] </strong></span>query.one() no longer applies LIMIT to the query, this to ensure that it fully counts all object identities present in the result, even in the case where joins may conceal multiple identities for two or more rows. </span><span class="yiyi-st" id="yiyi-1023">&#x4F5C;&#x4E3A;&#x5956;&#x52B1;&#xFF0C;&#x73B0;&#x5728;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x53D1;&#x51FA;from_statement()&#x7684;&#x67E5;&#x8BE2;&#x6765;&#x8C03;&#x7528;one()&#x4EE5;&#x5F00;&#x59CB;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4E0D;&#x518D;&#x4FEE;&#x6539;&#x67E5;&#x8BE2;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5033bb4d60482fdc7e61d81f6412cea4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1024">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1688">&#xFF03;1688</a></span></p></li><li><p id="change-0.6beta2-13"><span class="yiyi-st" id="yiyi-1025">&#x5982;&#x679C;&#x67E5;&#x8BE2;&#x6807;&#x8BC6;&#x6620;&#x5C04;&#x4E2D;&#x5B58;&#x5728;&#x7684;&#x6807;&#x8BC6;&#x7B26;&#x4E0E;&#x6240;&#x8BF7;&#x6C42;&#x7684;&#x6807;&#x8BC6;&#x7B26;&#x4E0D;&#x540C;&#x7684;&#x7C7B;&#xFF0C;&#x5373;&#x4F7F;&#x7528;&#x591A;&#x6001;&#x52A0;&#x8F7D;&#x65F6;&#xFF0C;query.get()&#x73B0;&#x5728;&#x8FD4;&#x56DE;None&#x3002;<a class="changeset-link headerlink reference internal" href="#change-52b4d6b9d3562cdaf43788184ae1805f"><span class="target" id="change-52b4d6b9d3562cdaf43788184ae1805f"><strong>[orm] </strong></span></a></span></p><p><span class="yiyi-st" id="yiyi-1026">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1727">&#xFF03;1727</a></span></p></li><li><p id="change-0.6beta2-14"><span class="yiyi-st" id="yiyi-1027"><span class="target" id="change-655aaf64d072c58ce2e64a5d6dc12323"><strong>[orm] </strong></span>A major fix in query.join(), when the &#x201C;on&#x201D; clause is an attribute of an aliased() construct, but there is already an existing join made out to a compatible target, query properly joins to the right aliased() construct instead of sticking onto the right side of the existing join.<a class="changeset-link headerlink reference internal" href="#change-655aaf64d072c58ce2e64a5d6dc12323">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1028">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1706">&#xFF03;1706</a></span></p></li><li><p id="change-0.6beta2-15"><span class="yiyi-st" id="yiyi-1029"><span class="target" id="change-fd6cb3f54f47c27d18ce7c8dd343525d"><strong>[orm] </strong></span>Slight improvement to the fix for to not issue needless updates of the primary key column during a so-called &#x201C;row switch&#x201D; operation, i.e. add + delete of two objects with the same PK.<a class="changeset-link headerlink reference internal" href="#change-fd6cb3f54f47c27d18ce7c8dd343525d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1030">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1362">&#xFF03;1362</a></span></p></li><li><p id="change-0.6beta2-16"><span class="yiyi-st" id="yiyi-1031"><span class="target" id="change-149e924d04484755c0a14ec239f22076"><strong>[orm] </strong></span>&#x5F53;&#x5C5E;&#x6027;&#x52A0;&#x8F7D;&#x6216;&#x5237;&#x65B0;&#x64CD;&#x4F5C;&#x7531;&#x4E8E;&#x5BF9;&#x8C61;&#x4E0E;&#x4EFB;&#x4F55;&#x4F1A;&#x8BDD;&#x5206;&#x79BB;&#x800C;&#x5931;&#x8D25;&#x65F6;&#xFF0C;&#x73B0;&#x5728;&#x4F7F;&#x7528;sqlalchemy.orm.exc.DetachedInstanceError&#x3002;</span><span class="yiyi-st" id="yiyi-1032">UnboundExecutionError&#x7279;&#x5B9A;&#x4E8E;&#x7ED1;&#x5B9A;&#x5230;&#x4F1A;&#x8BDD;&#x548C;&#x8BED;&#x53E5;&#x7684;&#x5F15;&#x64CE;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-149e924d04484755c0a14ec239f22076">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-17"><span class="yiyi-st" id="yiyi-1033"><span class="target" id="change-7312d2f689d678c6e4d0799defdb8511"><strong>[orm] </strong></span>Query called in the context of an expression will render disambiguating labels in all cases. </span><span class="yiyi-st" id="yiyi-1034">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x5E76;&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x73B0;&#x6709;&#x7684;.statement&#x548C;.subquery()&#x8BBF;&#x95EE;&#x5668;/&#x65B9;&#x6CD5;&#xFF0C;&#x5B83;&#x4ECD;&#x7136;&#x652F;&#x6301;&#x9ED8;&#x8BA4;&#x4E3A;False&#x7684;.with_labels()&#x8BBE;&#x7F6E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7312d2f689d678c6e4d0799defdb8511">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-18"><span class="yiyi-st" id="yiyi-1035"><span class="target" id="change-69ee650c673044a6587e8f1a25fd2e9b"><strong>[orm] </strong></span>Query.union() retains disambiguating labels within the returned statement, thus avoiding various SQL composition errors which can result from column name conflicts.<a class="changeset-link headerlink reference internal" href="#change-69ee650c673044a6587e8f1a25fd2e9b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1036">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1676">&#xFF03;1676</a></span></p></li><li><p id="change-0.6beta2-19"><span class="yiyi-st" id="yiyi-1037"><span class="target" id="change-9366c0432f49557b000d6930b7f2b0c8"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5C5E;&#x6027;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x4E2D;&#x65E0;&#x610F;&#x4E2D;&#x5728;&#x6620;&#x5C04;&#x5B9E;&#x4F8B;&#x4E0A;&#x8C03;&#x7528;&#x4E86;__eq__&#x7684;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9366c0432f49557b000d6930b7f2b0c8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-20"><span class="yiyi-st" id="yiyi-1038"><span class="target" id="change-9b042559ccc515464dca31a9da9e25d6"><strong>[orm] </strong></span>Some internal streamlining of object loading grants a small speedup for large results, estimates are around 10-15%. </span><span class="yiyi-st" id="yiyi-1039">&#x7ED9;&#x201C;&#x72B6;&#x6001;&#x201D;&#x5185;&#x90E8;&#x4E00;&#x4E2A;&#x826F;&#x597D;&#x7684;&#x56FA;&#x4F53;&#x6E05;&#x7406;&#xFF0C;&#x590D;&#x6742;&#x6027;&#x8F83;&#x4F4E;&#xFF0C;&#x6570;&#x636E;&#x6210;&#x5458;&#xFF0C;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#xFF0C;&#x7A7A;&#x767D;&#x5B57;&#x5178;&#x521B;&#x5EFA;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9b042559ccc515464dca31a9da9e25d6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-21"><span class="yiyi-st" id="yiyi-1040"><span class="target" id="change-99a73658e5e4c367df4688c45bbda9aa"><strong>[orm] </strong></span> query.delete()<a class="changeset-link headerlink reference internal" href="#change-99a73658e5e4c367df4688c45bbda9aa">&#xB6;</a>&#x7684;&#x6587;&#x6863;&#x8BF4;&#x660E;</span></p><p><span class="yiyi-st" id="yiyi-1041">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1689">&#xFF03;1689</a></span></p></li><li><p id="change-0.6beta2-22"><span class="yiyi-st" id="yiyi-1042"><span class="target" id="change-3b02e92cb9ea00b598b21503acc970d0"><strong>[orm] </strong></span>&#x5728;r6711&#x4E2D;&#x5F15;&#x5165;&#x4E86;&#x5C5E;&#x6027;&#x8BBE;&#x7F6E;&#x4E3A;None&#x65F6;&#xFF0C;&#x5728;&#x591A;&#x5BF9;&#x4E00;&#x5173;&#x7CFB;()&#x4E2D;&#x4FEE;&#x590D;&#x7EA7;&#x8054;&#x9519;&#x8BEF;&#xFF08;&#x5728;add()&#x4E2D;&#x7EA7;&#x8054;&#x5220;&#x9664;&#x7684;&#x9879;&#x76EE;&#x5230;&#x4F1A;&#x8BDD;&#x4E2D;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-3b02e92cb9ea00b598b21503acc970d0"> T2&gt;</a></span></p><p></p></li><li><p id="change-0.6beta2-23"><span class="yiyi-st" id="yiyi-1043"><span class="target" id="change-931a758f3fb2e353bb842566bd92c153"><strong>[orm] </strong></span>Calling query.order_by() or query.distinct() before calling query.select_from(), query.with_polymorphic(), or query.from_statement() raises an exception now instead of silently dropping those criterion.<a class="changeset-link headerlink reference internal" href="#change-931a758f3fb2e353bb842566bd92c153">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1044">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1736">&#xFF03;1736</a></span></p></li><li><p id="change-0.6beta2-24"><span class="yiyi-st" id="yiyi-1045"><span class="target" id="change-c2ae6c50721c4f5bc949b93ea8f29055"><strong>[orm] </strong></span>query.scalar() now raises an exception if more than one row is returned. </span><span class="yiyi-st" id="yiyi-1046">&#x6240;&#x6709;&#x5176;&#x4ED6;&#x884C;&#x4E3A;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c2ae6c50721c4f5bc949b93ea8f29055">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1047">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1735">&#xFF03;1735</a></span></p></li><li><p id="change-0.6beta2-25"><span class="yiyi-st" id="yiyi-1048"><span class="target" id="change-714ce6498d2c194488bf5337d8787134"><strong>[orm] </strong></span>Fixed bug which caused &#x201C;row switch&#x201D; logic, that is an INSERT and DELETE replaced by an UPDATE, to fail when version_id_col was in use.<a class="changeset-link headerlink reference internal" href="#change-714ce6498d2c194488bf5337d8787134">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1049">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1692">&#xFF03;1692</a></span></p></li></ul></div><div class="section" id="change-0.6beta2-sql"><h3><span class="yiyi-st" id="yiyi-1050">SQL <a class="headerlink" href="#change-0.6beta2-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta2-26"><span class="yiyi-st" id="yiyi-1051"><span class="target" id="change-b53712fca734ff4d0164b00e61f53cf1"><strong>[sql] </strong></span>join() will now simulate a NATURAL JOIN by default. </span><span class="yiyi-st" id="yiyi-1052">&#x610F;&#x601D;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x5DE6;&#x4FA7;&#x662F;&#x8FDE;&#x63A5;&#xFF0C;&#x5B83;&#x5C06;&#x5C1D;&#x8BD5;&#x5C06;&#x53F3;&#x4FA7;&#x8FDE;&#x63A5;&#x5230;&#x5DE6;&#x4FA7;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53F3;&#x4FA7;&#xFF0C;&#x5982;&#x679C;&#x6210;&#x529F;&#xFF0C;&#x5219;&#x4E0D;&#x4F1A;&#x5F15;&#x53D1;&#x4EFB;&#x4F55;&#x6709;&#x5173;&#x6A21;&#x7CCA;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x7684;&#x4F8B;&#x5916;&#xFF0C;&#x5373;&#x4F7F;&#x5176;&#x4ED6;&#x8FDE;&#x63A5;&#x76EE;&#x6807;&#x5DE6;&#x4FA7;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b53712fca734ff4d0164b00e61f53cf1">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-1053">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1714">&#xFF03;1714</a></span></p></li><li><p id="change-0.6beta2-27"><span class="yiyi-st" id="yiyi-1054"><span class="target" id="change-e6678947026dc69d573ba7f06fa6dcc0"><strong>[sql] </strong></span>The most common result processors conversion function were moved to the new &#x201C;processors&#x201D; module. </span><span class="yiyi-st" id="yiyi-1055">&#x9F13;&#x52B1;&#x65B9;&#x8A00;&#x4F5C;&#x8005;&#x5728;&#x7B26;&#x5408;&#x4ED6;&#x4EEC;&#x7684;&#x9700;&#x6C42;&#x65F6;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x51FD;&#x6570;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5B9E;&#x73B0;&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e6678947026dc69d573ba7f06fa6dcc0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-28"><span class="yiyi-st" id="yiyi-1056"><span class="target" id="change-787fd3a6677f8ba4f979ea8f6fb383fd"><strong>[sql] </strong></span> SchemaType&#x548C;&#x5B50;&#x7C7B;Boolean&#xFF0C;Enum&#x73B0;&#x5728;&#x662F;&#x53EF;&#x5E8F;&#x5217;&#x5316;&#x7684;&#xFF0C;&#x5305;&#x62EC;&#x5B83;&#x4EEC;&#x7684;ddl&#x76D1;&#x542C;&#x5668;&#x548C;&#x5176;&#x4ED6;&#x4E8B;&#x4EF6;&#x53EF;&#x8C03;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-787fd3a6677f8ba4f979ea8f6fb383fd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1057">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1694">&#xFF03;1694</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1698">&#xFF03;1698</a></span></p></li><li><p id="change-0.6beta2-29"><span class="yiyi-st" id="yiyi-1058"><span class="target" id="change-b8980f5d17caec1e2e5b563b1e15b8b2"><strong>[sql] </strong></span>Some platforms will now interpret certain literal values as non-bind parameters, rendered literally into the SQL statement. </span><span class="yiyi-st" id="yiyi-1059">&#x8FD9;&#x652F;&#x6301;&#x4E25;&#x683C;&#x7684;SQL-92&#x89C4;&#x5219;&#xFF0C;&#x8FD9;&#x4E9B;&#x89C4;&#x5219;&#x7531;&#x5305;&#x62EC;MS-SQL&#x548C;Sybase&#x5728;&#x5185;&#x7684;&#x4E00;&#x4E9B;&#x5E73;&#x53F0;&#x5B9E;&#x65BD;&#x3002;</span><span class="yiyi-st" id="yiyi-1060">&#x5728;&#x6B64;&#x6A21;&#x578B;&#x4E2D;&#xFF0C;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x4E0D;&#x5141;&#x8BB8;&#x5728;SELECT&#x7684;columns&#x5B50;&#x53E5;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x4E5F;&#x4E0D;&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x67D0;&#x4E9B;&#x4E0D;&#x660E;&#x786E;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&#x201C;&#xFF1F;=&#xFF1F;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1061">&#x542F;&#x7528;&#x6B64;&#x6A21;&#x5F0F;&#x540E;&#xFF0C;&#x57FA;&#x672C;&#x7F16;&#x8BD1;&#x5668;&#x4F1A;&#x5C06;&#x7ED1;&#x5B9A;&#x5448;&#x73B0;&#x4E3A;&#x5185;&#x8054;&#x6587;&#x5B57;&#xFF0C;&#x4F46;&#x53EA;&#x80FD;&#x8DE8;&#x5B57;&#x7B26;&#x4E32;&#x548C;&#x6570;&#x5B57;&#x503C;&#x663E;&#x793A;&#x3002;</span><span class="yiyi-st" id="yiyi-1062">&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#x5982;&#x65E5;&#x671F;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#xFF0C;&#x9664;&#x975E;&#x65B9;&#x8A00;&#x5B50;&#x7C7B;&#x4E3A;&#x8FD9;&#x4E9B;&#x5B9A;&#x4E49;&#x4E86;&#x5B57;&#x9762;&#x6E32;&#x67D3;&#x51FD;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-1063">bind&#x53C2;&#x6570;&#x5FC5;&#x987B;&#x5DF2;&#x7ECF;&#x6709;&#x5D4C;&#x5165;&#x7684;&#x6587;&#x5B57;&#x503C;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#xFF08;&#x5373;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x76F4;&#x63A5;bindparam&#xFF08;&apos;x&apos;&#xFF09;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-1064">&#x65B9;&#x8A00;&#x8FD8;&#x53EF;&#x4EE5;&#x6269;&#x5C55;&#x4E0D;&#x63A5;&#x53D7;&#x7ED1;&#x5B9A;&#x7684;&#x533A;&#x57DF;&#xFF0C;&#x4F8B;&#x5982;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x5217;&#x8868;&#xFF08;&#x5728;&#x4F7F;&#x7528;&#x672C;&#x673A;SQL&#x7ED1;&#x5B9A;&#x65F6;&#x4E0D;&#x9002;&#x7528;&#x4E8E;MS-SQL&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b8980f5d17caec1e2e5b563b1e15b8b2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-30"><span class="yiyi-st" id="yiyi-1065"><span class="target" id="change-4add0a3ae9513d98fa991274564b4e51"><strong>[sql] </strong></span>&#x5C06;&#x201C;unicode_errors&#x201D;&#x53C2;&#x6570;&#x6DFB;&#x52A0;&#x5230;String&#xFF0C;Unicode&#x7B49;</span><span class="yiyi-st" id="yiyi-1066">&#x884C;&#x4E3A;&#x5C31;&#x50CF;&#x6807;&#x51C6;&#x5E93;&#x7684;string.decode()&#x51FD;&#x6570;&#x7684;&apos;errors&apos;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-1067">&#x8BE5;&#x6807;&#x5FD7;&#x8981;&#x6C42;<cite>convert_unicode</cite>&#x8BBE;&#x7F6E;&#x4E3A;<cite>&#x201C;force&#x201D;</cite>  - &#x5426;&#x5219;&#xFF0C;SQLAlchemy&#x4E0D;&#x4FDD;&#x8BC1;&#x5904;&#x7406;unicode&#x8F6C;&#x6362;&#x7684;&#x4EFB;&#x52A1;&#x3002;</span><span class="yiyi-st" id="yiyi-1068">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x6B64;&#x6807;&#x5FD7;&#x4E3A;&#x5DF2;&#x7ECF;&#x8FD4;&#x56DE;unicode&#x5BF9;&#x8C61;&#x7684;&#x540E;&#x7AEF;&#xFF08;&#x5927;&#x591A;&#x6570;DBAPI&#x6240;&#x6267;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#xFF09;&#x7684;&#x540E;&#x7AEF;&#x64CD;&#x4F5C;&#x589E;&#x52A0;&#x4E86;&#x663E;&#x7740;&#x7684;&#x6027;&#x80FD;&#x5F00;&#x9500;&#x3002;</span><span class="yiyi-st" id="yiyi-1069">&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x53EA;&#x80FD;&#x4F5C;&#x4E3A;&#x4ECE;&#x4E0D;&#x540C;&#x6216;&#x635F;&#x574F;&#x7F16;&#x7801;&#x7684;&#x5217;&#x4E2D;&#x8BFB;&#x53D6;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x7EDD;&#x5BF9;&#x6700;&#x540E;&#x624B;&#x6BB5;&#xFF0C;&#x5B83;&#x53EA;&#x9002;&#x7528;&#x4E8E;&#x9996;&#x5148;&#x63A5;&#x53D7;&#x65E0;&#x6548;&#x7F16;&#x7801;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF08;&#x5373;MySQL&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-1070"><em>&#x4E0D;&#x662F;</em> PG&#xFF0C;Sqlite&#x7B49;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-4add0a3ae9513d98fa991274564b4e51">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-31"><span class="yiyi-st" id="yiyi-1071"><span class="target" id="change-fd8105345e50a3b6986674cfa2db831c"><strong>[sql] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x6570;&#x5B66;&#x5426;&#x5B9A;&#x8FD0;&#x7B97;&#x7B26;&#x652F;&#x6301;&#xFF0C;-x&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fd8105345e50a3b6986674cfa2db831c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-32"><span class="yiyi-st" id="yiyi-1072"><span class="target" id="change-375720ffaaf3679f497e76385994a25c"><strong>[sql] </strong></span>FunctionElement subclasses are now directly executable the same way any func.foo() construct is, with automatic SELECT being applied when passed to execute().<a class="changeset-link headerlink reference internal" href="#change-375720ffaaf3679f497e76385994a25c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-33"><span class="yiyi-st" id="yiyi-1073"><span class="target" id="change-a8e7f19cf6b70ec1d6540a17f847c531"><strong>[sql] </strong></span> func.foo()&#x6784;&#x9020;&#x7684;&#x201C;type&#x201D;&#x548C;&#x201C;bind&#x201D;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x73B0;&#x5728;&#x662F;&#x201C;func&#x201D;&#x6784;&#x9020;&#x7684;&#x672C;&#x5730;&#x5BF9;&#x8C61;&#xFF0C;&#x4E0D;&#x5C5E;&#x4E8E;FunctionElement&#x57FA;&#x7C7B;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5141;&#x8BB8;&#x201C;&#x7C7B;&#x578B;&#x201C;&#x5C06;&#x5728;&#x81EA;&#x5B9A;&#x4E49;&#x6784;&#x9020;&#x51FD;&#x6570;&#x6216;&#x7C7B;&#x7EA7;&#x522B;&#x53D8;&#x91CF;&#x4E2D;&#x5904;&#x7406;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a8e7f19cf6b70ec1d6540a17f847c531">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-34"><span class="yiyi-st" id="yiyi-1074"><span class="target" id="change-4e51f442ae41f22cc4bff3527f97bf33"><strong>[sql] </strong></span>&#x5C06;keys()&#x65B9;&#x6CD5;&#x6062;&#x590D;&#x5230;ResultProxy&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4e51f442ae41f22cc4bff3527f97bf33">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-35"><span class="yiyi-st" id="yiyi-1075"><span class="target" id="change-543013779b4c9e5cad66c4531f5053e0"><strong>[sql] </strong></span>The type/expression system now does a more complete job of determining the return type from an expression as well as the adaptation of the Python operator into a SQL operator, based on the full left/right/operator of the given expression. </span><span class="yiyi-st" id="yiyi-1076">&#x7279;&#x522B;&#x662F;&#x4E3A;Postgresql EXTRACT&#x521B;&#x5EFA;&#x7684;&#x65E5;&#x671F;/&#x65F6;&#x95F4;/&#x95F4;&#x9694;&#x7CFB;&#x7EDF;&#x73B0;&#x5728;&#x5DF2;&#x88AB;&#x63A8;&#x5E7F;&#x5230;&#x7C7B;&#x578B;&#x7CFB;&#x7EDF;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-1077">&#x73B0;&#x5728;&#x901A;&#x5E38;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x4EE5;&#x524D;&#x7ECF;&#x5E38;&#x51FA;&#x73B0;&#x7684;&#x201C;&#x5217;+&#x6587;&#x5B57;&#x201D;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8FEB;&#x4F7F;&#x201C;&#x6587;&#x5B57;&#x201D;&#x7C7B;&#x578B;&#x4E0E;&#x201C;&#x5217;&#x201D;&#x7C7B;&#x578B;&#x76F8;&#x540C;&#xFF0C;&#x73B0;&#x5728;&#x901A;&#x5E38;&#x4E0D;&#x4F1A;&#x53D1;&#x751F; - &#x201C;&#x6587;&#x5B57;&#x201D;&#x7C7B;&#x578B;&#x9996;&#x5148;&#x4ECE;Python&#x7C7B;&#x578B;&#x6D3E;&#x751F;&#x5047;&#x5B9A;&#x6807;&#x51C6;&#x672C;&#x5730;Python&#x7C7B;&#x578B;+&#x65E5;&#x671F;&#x7C7B;&#x578B;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x56DE;&#x5230;&#x8868;&#x8FBE;&#x5F0F;&#x53E6;&#x4E00;&#x4FA7;&#x7684;&#x5DF2;&#x77E5;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1078">&#x5982;&#x679C;&#x201C;&#x540E;&#x5907;&#x201D;&#x7C7B;&#x578B;&#x662F;&#x517C;&#x5BB9;&#x7684;&#xFF08;&#x5373;&#x6765;&#x81EA;&#x5B57;&#x7B26;&#x4E32;&#x7684;CHAR&#xFF09;&#xFF0C;&#x5219;&#x6587;&#x5B57;&#x65B9;&#x5C06;&#x4F7F;&#x7528;&#x8BE5;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1079">TypeDecorator&#x7C7B;&#x578B;&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x8986;&#x76D6;&#x8FD9;&#x4E2A;&#x4EE5;&#x5F3A;&#x5236;&#x65E0;&#x6761;&#x4EF6;&#x5730;&#x5F3A;&#x5236;&#x201C;literal&#x201D;&#xFF0C;&#x8FD9;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5B9E;&#x73B0;coerce_compared_value()&#x65B9;&#x6CD5;&#x6765;&#x6539;&#x53D8;&#x3002;</span><span class="yiyi-st" id="yiyi-1080">&#x4E5F;&#x662F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-543013779b4c9e5cad66c4531f5053e0">&#xB6;</a>&#x7684;&#x4E00;&#x90E8;&#x5206;</span></p><p><span class="yiyi-st" id="yiyi-1081">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1647">&#xFF03;1647</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1683">&#xFF03;1683</a></span></p></li><li><p id="change-0.6beta2-36"><span class="yiyi-st" id="yiyi-1082"><span class="target" id="change-4b04f7b3b18249863369ddef13e98ada"><strong>[sql] </strong></span>Made sqlalchemy.sql.expressions.Executable part of public API, used for any expression construct that can be sent to execute(). </span><span class="yiyi-st" id="yiyi-1083">FunctionElement&#x73B0;&#x5728;&#x7EE7;&#x627F;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#xFF0C;&#x4EE5;&#x4FBF;&#x83B7;&#x5F97;execution_options()&#xFF0C;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x4E5F;&#x4F20;&#x64AD;&#x5230;execute()&#x4E2D;&#x751F;&#x6210;&#x7684;select()&#x3002;</span><span class="yiyi-st" id="yiyi-1084">&#x4F9D;&#x6B21;&#x53EF;&#x6267;&#x884C;&#x7684;&#x5B50;&#x7C7B;_Generative&#xFF0C;&#x5B83;&#x6807;&#x8BB0;&#x652F;&#x6301;@_generative&#x88C5;&#x9970;&#x5668;&#x7684;&#x4EFB;&#x4F55;ClauseElement  - &#x4E3A;&#x4E86;&#x7F16;&#x8BD1;&#x5668;&#x6269;&#x5C55;&#x7684;&#x597D;&#x5904;&#xFF0C;&#x8FD9;&#x4E9B;&#x4E5F;&#x53EF;&#x80FD;&#x53D8;&#x6210;&#x201C;public&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4b04f7b3b18249863369ddef13e98ada">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-37"><span class="yiyi-st" id="yiyi-1085"><span class="target" id="change-e18872438ff47328adbe402a50ef19b8"><strong>[sql] </strong></span>A change to the solution for - an end-user defined bind parameter name that directly conflicts with a column-named bind generated directly from the SET or VALUES clause of an update/insert generates a compile error. </span><span class="yiyi-st" id="yiyi-1086">&#x8FD9;&#x51CF;&#x5C11;&#x4E86;&#x8C03;&#x7528;&#x8BA1;&#x6570;&#x5E76;&#x6D88;&#x9664;&#x4E86;&#x4E00;&#x4E9B;&#x4E0D;&#x826F;&#x540D;&#x79F0;&#x51B2;&#x7A81;&#x4ECD;&#x7136;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x7684;&#x60C5;&#x51B5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e18872438ff47328adbe402a50ef19b8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1087">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1579">&#xFF03;1579</a></span></p></li><li><p id="change-0.6beta2-38"><span class="yiyi-st" id="yiyi-1088"><span class="target" id="change-25e52b132f46c6da5df9e4d2d1b3629e"><strong>[sql] </strong></span>Column() requires a type if it has no foreign keys (this is not new). </span><span class="yiyi-st" id="yiyi-1089">&#x5982;&#x679C;Column()&#x6CA1;&#x6709;&#x7C7B;&#x578B;&#xFF0C;&#x4E5F;&#x6CA1;&#x6709;&#x5916;&#x952E;&#xFF0C;&#x5219;&#x4F1A;&#x4EA7;&#x751F;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-25e52b132f46c6da5df9e4d2d1b3629e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1090">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1705">&#xFF03;1705</a></span></p></li><li><p id="change-0.6beta2-39"><span class="yiyi-st" id="yiyi-1091"><span class="target" id="change-1bd09db2f45aebf370068907a549222d"><strong>[sql] </strong></span>the &#x201C;scale&#x201D; argument of the Numeric() type is honored when coercing a returned floating point value into a string on its way to Decimal - this allows accuracy to function on SQLite, MySQL.<a class="changeset-link headerlink reference internal" href="#change-1bd09db2f45aebf370068907a549222d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1092">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1717">&#xFF03;1717</a></span></p></li><li><p id="change-0.6beta2-40"><span class="yiyi-st" id="yiyi-1093"><span class="target" id="change-d1540ed7293cf73f522c47764b34b8db"><strong>[sql] </strong></span>the copy() method of Column now copies over uninitialized &#x201C;on table attach&#x201D; events. </span><span class="yiyi-st" id="yiyi-1094">&#x5E2E;&#x52A9;&#x65B0;&#x7684;&#x58F0;&#x660E;&#x5F0F;&#x201C;mixin&#x201D;&#x529F;&#x80FD;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d1540ed7293cf73f522c47764b34b8db">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6beta2-mysql"><h3><span class="yiyi-st" id="yiyi-1095">MySQL&#x7684;<a class="headerlink" href="#change-0.6beta2-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta2-41"><span class="yiyi-st" id="yiyi-1096"><span class="target" id="change-a35014255c51338d324794124dabec73"><strong>[mysql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;COLLATE&#x5B58;&#x5728;&#x7684;&#x53CD;&#x5C04;&#x9519;&#x8BEF;&#xFF0C;&#x53EF;&#x7A7A;&#x6807;&#x5FD7;&#x548C;&#x670D;&#x52A1;&#x5668;&#x9ED8;&#x8BA4;&#x503C;&#x4E0D;&#x4F1A;&#x88AB;&#x53CD;&#x6620;&#x51FA;&#x6765;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a35014255c51338d324794124dabec73">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1097">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1655">&#xFF03;1655</a></span></p></li><li><p id="change-0.6beta2-42"><span class="yiyi-st" id="yiyi-1098"><span class="target" id="change-0a377528b158add95b51614355824b86"><strong>[mysql] </strong></span>&#x56FA;&#x5B9A;TINYINT&#xFF08;1&#xFF09;&#x201C;boolean&#x201D;&#x5217;&#x7684;&#x53CD;&#x5C04;&#xFF0C;&#x4F7F;&#x7528;UNSIGNED&#x7B49;&#x6574;&#x6570;&#x6807;&#x5FD7;&#x5B9A;&#x4E49;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0a377528b158add95b51614355824b86">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-43"><span class="yiyi-st" id="yiyi-1099"><span class="target" id="change-c4476c66267aa9d53e5d3104352f2460"><strong>[mysql] </strong></span>&#x8FDB;&#x4E00;&#x6B65;&#x4FEE;&#x6B63;mysql&#x8FDE;&#x63A5;&#x5668;&#x65B9;&#x8A00;<a class="changeset-link headerlink reference internal" href="#change-c4476c66267aa9d53e5d3104352f2460">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1100">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1668">&#xFF03;1668</a></span></p></li><li><p id="change-0.6beta2-44"><span class="yiyi-st" id="yiyi-1101"><span class="target" id="change-e5eef98bf3b744b814f45de869fa2400"><strong>[mysql] </strong></span> InnoDB&#x4E0A;&#x7684;&#x201C;autoincrement&#x201D;&#x5217;&#x4E0D;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#x7684;&#x590D;&#x5408;PK&#x8868;&#x5C06;&#x5728;CREATE TABLE&#x4E2D;&#x53D1;&#x51FA;&#x660E;&#x786E;&#x7684;&#x201C;KEY&#x201D;&#x77ED;&#x8BED;&#xFF0C;&#x4ECE;&#x800C;&#x907F;&#x514D;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e5eef98bf3b744b814f45de869fa2400">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1102">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1496">&#xFF03;1496</a></span></p></li><li><p id="change-0.6beta2-45"><span class="yiyi-st" id="yiyi-1103"><span class="target" id="change-eabba2ee40f19b4f83f4b62f38ac3b3e"><strong>[mysql] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x5404;&#x79CD;MySQL&#x5173;&#x952E;&#x5B57;&#x7684;&#x53CD;&#x5C04;/&#x521B;&#x5EFA;&#x8868;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-eabba2ee40f19b4f83f4b62f38ac3b3e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1104">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1634">&#xFF03;1634</a></span></p></li><li><p id="change-0.6beta2-46"><span class="yiyi-st" id="yiyi-1105"><span class="target" id="change-a4024dfc8c4693eea7c02add1a5b72f4"><strong>[mysql] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5728;Windows&#x4E3B;&#x673A;&#x4E0A;&#x53CD;&#x6620;&#x8868;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x7684;&#x5BFC;&#x5165;&#x9519;&#x8BEF;<a class="changeset-link headerlink reference internal" href="#change-a4024dfc8c4693eea7c02add1a5b72f4">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1106">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1580">&#xFF03;1580</a></span></p></li></ul></div><div class="section" id="change-0.6beta2-sqlite"><h3><span class="yiyi-st" id="yiyi-1107">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.6beta2-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta2-47"><span class="yiyi-st" id="yiyi-1108"><span class="target" id="change-686860a49e344194295bd7ddef459b1a"><strong>[sqlite] </strong></span>&#x5C06;&#x201C;native_datetime = True&#x201D;&#x6807;&#x5FD7;&#x6DFB;&#x52A0;&#x5230;create_engine()&#x3002;</span><span class="yiyi-st" id="yiyi-1109">&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;DATE&#x548C;TIMESTAMP&#x7C7B;&#x578B;&#x5728;&#x8FDE;&#x63A5;&#x4E0A;&#x542F;&#x7528;PARSE_DECLTYPES&#x7684;&#x5047;&#x8BBE;&#x4E0B;&#x8DF3;&#x8FC7;&#x6240;&#x6709;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x548C;&#x7ED3;&#x679C;&#x884C;&#x5904;&#x7406;&#x3002;</span><span class="yiyi-st" id="yiyi-1110">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x4E0E;&#x201C;func.current_date()&#x201D;&#x4E0D;&#x5B8C;&#x5168;&#x517C;&#x5BB9;&#xFF0C;&#x5B83;&#x5C06;&#x4F5C;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x8FD4;&#x56DE;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-686860a49e344194295bd7ddef459b1a">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1111">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1685">&#xFF03;1685</a></span></p></li></ul></div><div class="section" id="change-0.6beta2-mssql"><h3><span class="yiyi-st" id="yiyi-1112">MSSQL <a class="headerlink" href="#change-0.6beta2-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta2-48"><span class="yiyi-st" id="yiyi-1113"><span class="target" id="change-c43171d5ad2afdb8be0210f4345e7c3b"><strong>[mssql] </strong></span>&#x91CD;&#x65B0;&#x5EFA;&#x7ACB;&#x4E86;&#x5BF9;pymssql&#x65B9;&#x8A00;&#x7684;&#x652F;&#x6301;<a class="changeset-link headerlink reference internal" href="#change-c43171d5ad2afdb8be0210f4345e7c3b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-49"><span class="yiyi-st" id="yiyi-1114"><span class="target" id="change-afec227c9a875855720b6369b4193326"><strong>[mssql] </strong></span>&#x9690;&#x5F0F;&#x8FD4;&#x56DE;&#xFF0C;&#x53CD;&#x5C04;&#x7B49;&#x7684;&#x5404;&#x79CD;&#x4FEE;&#x590D;</span><span class="yiyi-st" id="yiyi-1115"> -  MS-SQL&#x65B9;&#x8A00;&#x5728;0.6&#x4E2D;&#x8FD8;&#x4E0D;&#x5B8C;&#x6574;&#xFF08;&#x4F46;&#x63A5;&#x8FD1;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-afec227c9a875855720b6369b4193326">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-50"><span class="yiyi-st" id="yiyi-1116"><span class="target" id="change-0541548f6903480b3a322de8c54929ce"><strong>[mssql] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;mxODBC&#x7684;&#x57FA;&#x672C;&#x652F;&#x6301;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0541548f6903480b3a322de8c54929ce">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1117">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1710">&#xFF03;1710</a></span></p></li><li><p id="change-0.6beta2-51"><span class="yiyi-st" id="yiyi-1118"><span class="target" id="change-dba80448eeea205b1bbaec327ac1de55"><strong>[mssql] </strong></span>&#x5220;&#x9664;&#x4E86;text_as_varchar&#x9009;&#x9879;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dba80448eeea205b1bbaec327ac1de55">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6beta2-oracle"><h3><span class="yiyi-st" id="yiyi-1119">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.6beta2-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta2-52"><span class="yiyi-st" id="yiyi-1120"><span class="target" id="change-f2a132a1d5c7974e390d588eac834b3b"><strong>[oracle] </strong></span>&#x201C;out&#x201D;&#x53C2;&#x6570;&#x9700;&#x8981;cx_oracle&#x652F;&#x6301;&#x7684;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1121">&#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;cx_oracle&#x7C7B;&#x578B;&#xFF0C;&#x5219;&#x4F1A;&#x4EA7;&#x751F;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f2a132a1d5c7974e390d588eac834b3b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-53"><span class="yiyi-st" id="yiyi-1122"><span class="target" id="change-ab6e812d286cec34322fb6829527927b"><strong>[oracle] </strong></span>Oracle &#x2018;DATE&#x2019; now does not perform any result processing, as the DATE type in Oracle stores full date+time objects, that&#x2019;s what you&#x2019;ll get. </span><span class="yiyi-st" id="yiyi-1123">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x6CDB;&#x578B;&#x7C7B;&#x578B;.Date&#x7C7B;&#x578B;<em>&#x5C06;</em>&#x4ECD;&#x7136;&#x5BF9;&#x4F20;&#x5165;&#x503C;&#x8C03;&#x7528;value.date()&#xFF0C;&#x4F46;&#x662F;&#x3002;</span><span class="yiyi-st" id="yiyi-1124">&#x5F53;&#x53CD;&#x6620;&#x4E00;&#x4E2A;&#x8868;&#x65F6;&#xFF0C;&#x53CD;&#x5C04;&#x7C7B;&#x578B;&#x5C06;&#x662F;&apos;DATE&apos;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ab6e812d286cec34322fb6829527927b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-54"><span class="yiyi-st" id="yiyi-1125"><span class="target" id="change-62c558744df2f44f9cb4bf1ff987ce86"><strong>[oracle] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x5BF9;Oracle&#x7684;WITH_UNICODE&#x6A21;&#x5F0F;&#x7684;&#x521D;&#x6B65;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-1126">&#x81F3;&#x5C11;&#xFF0C;&#x8FD9;&#x4E3A;Python 3&#x521B;&#x5EFA;&#x4E86;&#x5BF9;cx_Oracle&#x7684;&#x521D;&#x59CB;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-1127">&#x5F53;&#x5728;Python 2.xx&#x4E2D;&#x4F7F;&#x7528;WITH_UNICODE&#x6A21;&#x5F0F;&#x65F6;&#xFF0C;&#x4F1A;&#x53D1;&#x51FA;&#x4E00;&#x4E2A;&#x5927;&#x800C;&#x53EF;&#x6015;&#x7684;&#x8B66;&#x544A;&#xFF0C;&#x8981;&#x6C42;&#x7528;&#x6237;&#x8BA4;&#x771F;&#x8003;&#x8651;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x56F0;&#x96BE;&#x7684;&#x64CD;&#x4F5C;&#x6A21;&#x5F0F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-62c558744df2f44f9cb4bf1ff987ce86">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1128">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1670">&#xFF03;1670</a></span></p></li><li><p id="change-0.6beta2-55"><span class="yiyi-st" id="yiyi-1129"><span class="target" id="change-774d1f88602325ba20cca6ce5c10734b"><strong>[oracle] </strong></span>&#x73B0;&#x5728;&#xFF0C;except_()&#x65B9;&#x6CD5;&#x5728;Oracle&#x4E0A;&#x5448;&#x73B0;&#x4E3A;MINUS&#xFF0C;&#x8FD9;&#x5728;&#x8BE5;&#x5E73;&#x53F0;&#x4E0A;&#x6216;&#x591A;&#x6216;&#x5C11;&#x662F;&#x7B49;&#x540C;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-774d1f88602325ba20cca6ce5c10734b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1130">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1712">&#xFF03;1712</a></span></p></li><li><p id="change-0.6beta2-56"><span class="yiyi-st" id="yiyi-1131"><span class="target" id="change-0e995c38104f4a4175d2a741f88b12bc"><strong>[oracle] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x5BF9;TIMESTAMP WITH TIME ZONE&#x7684;&#x5448;&#x73B0;&#x548C;&#x53CD;&#x6620;&#x652F;&#x6301;&#xFF0C;&#x5373;TIMESTAMP&#xFF08;timezone = True&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0e995c38104f4a4175d2a741f88b12bc">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1132">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/651">&#xFF03;651</a></span></p></li><li><p id="change-0.6beta2-57"><span class="yiyi-st" id="yiyi-1133"><span class="target" id="change-21af7340803f01c63bb39084313092b9"><strong>[oracle] </strong></span>&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x53CD;&#x6620;Oracle INTERVAL&#x7C7B;&#x578B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-21af7340803f01c63bb39084313092b9">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6beta2-misc"><h3><span class="yiyi-st" id="yiyi-1134">&#x6742;&#x9879;<a class="headerlink" href="#change-0.6beta2-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta2-58"><span class="yiyi-st" id="yiyi-1135"><span class="target" id="change-30f2fc874b9df7b7d141eef33c5d2468"><strong>[py3k] </strong></span>&#x6539;&#x8FDB;&#x4E86;&#x5173;&#x4E8E;Python 3&#x7684;&#x5B89;&#x88C5;/&#x6D4B;&#x8BD5;&#x8BBE;&#x7F6E;&#xFF0C;&#x73B0;&#x5728;Distribute&#x5728;Py3k&#x4E0A;&#x8FD0;&#x884C;&#x3002;</span><span class="yiyi-st" id="yiyi-1136">distribute_setup.py&#x73B0;&#x5728;&#x5305;&#x542B;&#x5728;&#x5185;&#x3002;</span><span class="yiyi-st" id="yiyi-1137">&#x6709;&#x5173;Python 3&#x5B89;&#x88C5;/&#x6D4B;&#x8BD5;&#x8BF4;&#x660E;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;README.py3k&#x3002;<a class="changeset-link headerlink reference internal" href="#change-30f2fc874b9df7b7d141eef33c5d2468">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-59"><span class="yiyi-st" id="yiyi-1138"><span class="target" id="change-cdd5ac4118fc526b3b6e424254f9f575"><strong>[engines] </strong></span>&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;C&#x6269;&#x5C55;&#xFF0C;&#x901A;&#x8FC7;&#x91CD;&#x65B0;&#x5B9E;&#x73B0;RowProxy&#x548C;&#x6700;&#x5E38;&#x7528;&#x7684;&#x7ED3;&#x679C;&#x5904;&#x7406;&#x5668;&#x6765;&#x52A0;&#x901F;sql&#x5C42;&#x3002;</span><span class="yiyi-st" id="yiyi-1139">&#x5B9E;&#x9645;&#x7684;&#x52A0;&#x901F;&#x5C06;&#x5F88;&#x5927;&#x7A0B;&#x5EA6;&#x4E0A;&#x53D6;&#x51B3;&#x4E8E;&#x60A8;&#x7684;DBAPI&#x548C;&#x60A8;&#x7684;&#x8868;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x6DF7;&#x5408;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x4ECE;30&#xFF05;&#x6539;&#x8FDB;&#x5230;200&#xFF05;&#x4EE5;&#x4E0A;&#x3002;</span><span class="yiyi-st" id="yiyi-1140">&#x5B83;&#x8FD8;&#x4E3A;&#x5927;&#x578B;&#x67E5;&#x8BE2;&#x7684;ORM&#x901F;&#x5EA6;&#x63D0;&#x4F9B;&#x4E86;&#x9002;&#x5EA6;&#xFF08;&#x301C;15-20&#xFF05;&#xFF09;&#x7684;&#x95F4;&#x63A5;&#x6539;&#x8FDB;&#x3002;</span><span class="yiyi-st" id="yiyi-1141">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;<em>&#x4E0D;&#x662F;</em>&#x5185;&#x7F6E;/&#x5B89;&#x88C5;&#x3002;</span><span class="yiyi-st" id="yiyi-1142">&#x8BF7;&#x53C2;&#x9605;&#x81EA;&#x8FF0;&#x6587;&#x4EF6;&#x4EE5;&#x83B7;&#x53D6;&#x5B89;&#x88C5;&#x8BF4;&#x660E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cdd5ac4118fc526b3b6e424254f9f575">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-60"><span class="yiyi-st" id="yiyi-1143">&#x5728;&#x201C;autocommit&#x201D;&#x573A;&#x666F;&#x4E2D;&#xFF0C;&#x5728;DBAPI&#x8FDE;&#x63A5;&#x4E0A;&#x8C03;&#x7528;commit()&#x4E4B;&#x524D;&#xFF0C;&#x6267;&#x884C;&#x987A;&#x5E8F;&#x4F1A;&#x4ECE;&#x6E38;&#x6807;&#x4E2D;&#x62C9;&#x53D6;&#x6240;&#x6709;rowcount / last&#x63D2;&#x5165;&#x7684;ID&#x4FE1;&#x606F;&#x3002;<span class="target" id="change-582f4dfd426b3da60af448476c0d9049"><strong>[engines] </strong></span></span><span class="yiyi-st" id="yiyi-1144">&#x8FD9;&#x6709;&#x52A9;&#x4E8E;mxodbc&#x4E0E;rowcount&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4E2A;&#x597D;&#x4E3B;&#x610F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-582f4dfd426b3da60af448476c0d9049">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-61"><span class="yiyi-st" id="yiyi-1145"><span class="target" id="change-8339a8f6f9f054e9871057ff44eb310b"><strong>[engines] </strong></span>&#x6253;&#x5F00;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#xFF0C;&#x4EE5;&#x4FBF;&#x66F4;&#x9891;&#x7E41;&#x5730;&#x8C03;&#x7528;isEnabledFor()&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;&#x4E0B;&#x6B21;&#x8FDE;&#x63A5;&#x65F6;&#x53CD;&#x6620;&#x5F15;&#x64CE;/&#x6C60;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;&#x7684;&#x66F4;&#x6539;&#x3002;</span><span class="yiyi-st" id="yiyi-1146">&#x8FD9;&#x589E;&#x52A0;&#x4E86;&#x5C11;&#x91CF;&#x7684;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x5F00;&#x9500;&#x3002;</span><span class="yiyi-st" id="yiyi-1147">&#x8FD9;&#x662F;&#x5FAE;&#x4E0D;&#x8DB3;&#x9053;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x4F1A;&#x5728;&#x8C03;&#x7528;create_engine()&#x4E4B;&#x540E;&#x6B63;&#x597D;&#x914D;&#x7F6E;&#x65E5;&#x5FD7;&#x65F6;&#xFF0C;&#x4F7F;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x60C5;&#x51B5;&#x7684;&#x751F;&#x6D3B;&#x53D8;&#x5F97;&#x66F4;&#x52A0;&#x8F7B;&#x677E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8339a8f6f9f054e9871057ff44eb310b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1148">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1719">&#xFF03;1719</a></span></p></li><li><p id="change-0.6beta2-62"><span class="yiyi-st" id="yiyi-1149"><span class="target" id="change-44b744d4299fe9fd0c15e0b51548c21c"><strong>[engines] </strong></span>&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;assert_unicode&#x6807;&#x5FD7;&#x3002;</span><span class="yiyi-st" id="yiyi-1150">SQLAlchemy&#x5C06;&#x5728;&#x6240;&#x6709;&#x8981;&#x6C42;&#x5BF9;&#x975E;Unicode Unicode&#x5B57;&#x7B26;&#x4E32;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4EE5;&#x53CA;Unicode&#x6216;UnicodeType&#x7C7B;&#x578B;&#x663E;&#x5F0F;&#x4F20;&#x9012;&#x5B57;&#x7B26;&#x4E32;&#x65F6;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x3002;</span><span class="yiyi-st" id="yiyi-1151">&#x5BF9;&#x4E8E;&#x5DF2;&#x7ECF;&#x63A5;&#x53D7;Python unicode&#x5BF9;&#x8C61;&#x7684;DBAPI&#xFF0C;String&#x7C7B;&#x578B;&#x4E0D;&#x4F1A;&#x505A;&#x4EFB;&#x4F55;&#x4E8B;&#x60C5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-44b744d4299fe9fd0c15e0b51548c21c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-63"><span class="yiyi-st" id="yiyi-1152"><span class="target" id="change-e486cdddb6da9fcd5b78a7e384f517e3"><strong>[engines] </strong></span>&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x4F5C;&#x4E3A;&#x5143;&#x7EC4;&#x800C;&#x4E0D;&#x662F;&#x5217;&#x8868;&#x53D1;&#x9001;&#x3002;</span><span class="yiyi-st" id="yiyi-1153">&#x4E00;&#x4E9B;&#x540E;&#x7AEF;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x4E0D;&#x4F1A;&#x63A5;&#x53D7;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x4F5C;&#x4E3A;&#x5217;&#x8868;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e486cdddb6da9fcd5b78a7e384f517e3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-64"><span class="yiyi-st" id="yiyi-1154"><span class="target" id="change-31babb385ad99c9c8dfef800a188b08f"><strong>[engines] </strong></span> threadlocal&#x5F15;&#x64CE;&#x5728;close()&#x65F6;&#x6CA1;&#x6709;&#x6B63;&#x786E;&#x5173;&#x95ED;&#x8FDE;&#x63A5; - &#x4FEE;&#x6B63;&#x4E86;<a class="changeset-link headerlink reference internal" href="#change-31babb385ad99c9c8dfef800a188b08f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-65"><span class="yiyi-st" id="yiyi-1155"><span class="target" id="change-6a84cce20a490a05b2ae3aa704d0b11f"><strong>[engines] </strong></span>&#x5982;&#x679C;&#x4E8B;&#x52A1;&#x5BF9;&#x8C61;&#x4E0D;&#x662F;&#x201C;&#x6D3B;&#x52A8;&#x201D;&#xFF0C;&#x4E8B;&#x52A1;&#x5BF9;&#x8C61;&#x4E0D;&#x4F1A;&#x56DE;&#x6EDA;&#x6216;&#x63D0;&#x4EA4;&#xFF0C;&#x5141;&#x8BB8;&#x66F4;&#x51C6;&#x786E;&#x5730;&#x5D4C;&#x5957;begin / rollback / commit&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6a84cce20a490a05b2ae3aa704d0b11f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-66"><span class="yiyi-st" id="yiyi-1156"><span class="target" id="change-2e55f14274c2191236e3104fac4e24de"><strong>[engines] </strong></span>&#x4F5C;&#x4E3A;&#x7ED1;&#x5B9A;&#x7684;Python unicode&#x5BF9;&#x8C61;&#x5BFC;&#x81F4;Unicode&#x7C7B;&#x578B;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4ECE;&#x800C;&#x6D88;&#x9664;&#x4E86;&#x4E0D;&#x652F;&#x6301;unicode&#x7ED1;&#x5B9A;&#x7684;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x4E2D;&#x7684;&#x67D0;&#x7C7B;unicode&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2e55f14274c2191236e3104fac4e24de">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-67"><span class="yiyi-st" id="yiyi-1157"><span class="target" id="change-2a0cef92888b2be98785ecc9a097653c"><strong>[engines] </strong></span>&#x5C06;create_engine()&#xFF0C;Pool()&#x6784;&#x9020;&#x51FD;&#x6570;&#x4EE5;&#x53CA;&#x201C;pool_logging_name&#x201D;&#x53C2;&#x6570;&#x7684;&#x53C2;&#x6570;&#x6DFB;&#x52A0;&#x5230;create_engine()&#xFF0C;&#x8BE5;&#x53C2;&#x6570;&#x8FC7;&#x6EE4;&#x5230;Pool&#x7684;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-1158">&#x5728;&#x8BB0;&#x5F55;&#x6D88;&#x606F;&#x7684;&#x201C;&#x540D;&#x79F0;&#x201D;&#x5B57;&#x6BB5;&#x4E2D;&#x53D1;&#x51FA;&#x7ED9;&#x5B9A;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x540D;&#x79F0;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7F3A;&#x7701;&#x7684;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x6807;&#x8BC6;&#x7B26;&#x5B57;&#x7B26;&#x4E32;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2a0cef92888b2be98785ecc9a097653c">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1159">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1555">&#xFF03;1555</a></span></p></li><li><p id="change-0.6beta2-68"><span class="yiyi-st" id="yiyi-1160"><span class="target" id="change-81eacba0128286c062f03c539e3fb32a"><strong>[engines] </strong></span> Dialect&#x7684;visit_pool()&#x65B9;&#x6CD5;&#x88AB;&#x5220;&#x9664;&#xFF0C;&#x5E76;&#x88AB;on_connect()&#x53D6;&#x4EE3;&#x3002;</span><span class="yiyi-st" id="yiyi-1161">&#x6B64;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x53EF;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#xFF0C;&#x5B83;&#x5728;&#x521B;&#x5EFA;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x540E;&#x63A5;&#x6536;&#x539F;&#x59CB;DBAPI&#x8FDE;&#x63A5;&#x3002;</span><span class="yiyi-st" id="yiyi-1162">&#x5982;&#x679C;&#x4E3A;&#x975E;&#x65E0;&#xFF0C;&#x5219;&#x53EF;&#x8C03;&#x7528;&#x7EC4;&#x4EF6;&#x901A;&#x8FC7;&#x8FDE;&#x63A5;&#x7B56;&#x7565;&#x7EC4;&#x88C5;&#x6210;first_connect / connect pool&#x4FA6;&#x542C;&#x5668;&#x3002;</span><span class="yiyi-st" id="yiyi-1163">&#x4E3A;&#x65B9;&#x8A00;&#x63D0;&#x4F9B;&#x66F4;&#x7B80;&#x5355;&#x7684;&#x754C;&#x9762;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-81eacba0128286c062f03c539e3fb32a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-69"><span class="yiyi-st" id="yiyi-1164"><span class="target" id="change-6fb3ebb61d325e02bee2444d540be282"><strong>[engines] </strong></span> StaticPool&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x6253;&#x5F00;&#x65B0;&#x8FDE;&#x63A5;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x5904;&#x7406;&#x548C;&#x91CD;&#x65B0;&#x521B;&#x5EFA;&#x8FDE;&#x63A5; - &#x8FDE;&#x63A5;&#x4EC5;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x8BF7;&#x6C42;&#x65F6;&#x6253;&#x5F00;&#x3002;</span><span class="yiyi-st" id="yiyi-1165">dispose()&#x73B0;&#x5728;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;AssertionPool&#x4E0A;&#x5DE5;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6fb3ebb61d325e02bee2444d540be282">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1166">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1728">&#xFF03;1728</a></span></p></li><li><p id="change-0.6beta2-70"><span class="yiyi-st" id="yiyi-1167"><span class="target" id="change-19e2f337ca9a7555b3e2cd9f34026221"><strong>[ticket: 1673] [metadata] </strong></span>&#x901A;&#x8FC7;&#x4F20;&#x9012;&#x201C;schema = None&#x201D;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x589E;&#x52A0;&#x4E86;&#x5728;&#x4F7F;&#x7528;&#x201C;tometadata&#x201D;&#x65F6;&#x53BB;&#x9664;&#x6A21;&#x5F0F;&#x4FE1;&#x606F;&#x7684;&#x529F;&#x80FD;&#x3002;</span><span class="yiyi-st" id="yiyi-1168">&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;schema&#xFF0C;&#x90A3;&#x4E48;&#x8BE5;&#x8868;&#x7684;&#x6A21;&#x5F0F;&#x5C06;&#x88AB;&#x4FDD;&#x7559;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-19e2f337ca9a7555b3e2cd9f34026221">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-71"><span class="yiyi-st" id="yiyi-1169"><span class="target" id="change-17e6d2319b8bfe217416295a2d06d196"><strong>[declarative] </strong></span> DeclarativeMeta&#x72EC;&#x5360;&#x4F7F;&#x7528;cls .__ dict__&#xFF08;&#x4E0D;&#x662F;dict_&#xFF09;&#x4F5C;&#x4E3A;&#x7C7B;&#x4FE1;&#x606F;&#x7684;&#x6765;&#x6E90;&#xFF1B; _as_declarative&#x53EA;&#x4F7F;&#x7528;&#x4F20;&#x9012;&#x7ED9;&#x5B83;&#x7684;dict_&#x4F5C;&#x4E3A;&#x7C7B;&#x4FE1;&#x606F;&#x7684;&#x6765;&#x6E90;&#xFF08;&#x5F53;&#x4F7F;&#x7528;DeclarativeMeta&#x65F6;&#xFF0C;&#x5B83;&#x662F;cls .__ dict__&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-1170">&#x8FD9;&#x5728;&#x7406;&#x8BBA;&#x4E0A;&#x5E94;&#x8BE5;&#x4F7F;&#x5B9A;&#x5236;&#x5143;&#x7C7B;&#x66F4;&#x5BB9;&#x6613;&#x4FEE;&#x6539;&#x4F20;&#x5165;_as_declarative&#x7684;&#x72B6;&#x6001;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-17e6d2319b8bfe217416295a2d06d196">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-72"><span class="yiyi-st" id="yiyi-1171"><span class="target" id="change-a6fb16c5b4efc1b1336ae57e0611eb05"><strong>[declarative] </strong></span>declarative now accepts mixin classes directly, as a means to provide common functional and column-based elements on all subclasses, as well as a means to propagate a fixed set of __table_args__ or __mapper_args__ to subclasses. </span><span class="yiyi-st" id="yiyi-1172">&#x5BF9;&#x4E8E;__table_args __ / __ mapper_args__&#x4ECE;&#x7EE7;&#x627F;&#x7684;mixin&#x5230;&#x672C;&#x5730;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x7EC4;&#x5408;&#xFF0C;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x63CF;&#x8FF0;&#x7B26;&#x3002;</span><span class="yiyi-st" id="yiyi-1173">&#x65B0;&#x7684;&#x7EC6;&#x8282;&#x90FD;&#x5728;&#x58F0;&#x660E;&#x6027;&#x6587;&#x6863;&#x4E2D;&#x3002;</span><span class="yiyi-st" id="yiyi-1174">&#x611F;&#x8C22;Chris Withers&#x4E3A;&#x6B64;&#x4ED8;&#x51FA;&#x4E86;&#x52AA;&#x529B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a6fb16c5b4efc1b1336ae57e0611eb05">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1175">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1707">&#xFF03;1707</a></span></p></li><li><p id="change-0.6beta2-73"><span class="yiyi-st" id="yiyi-1176"><span class="target" id="change-712b74c929fe77fb05e228b508010508"><strong>[declarative] </strong></span>the __mapper_args__ dict is copied when propagating to a subclass, and is taken straight off the class __dict__ to avoid any propagation from the parent. </span><span class="yiyi-st" id="yiyi-1177">&#x6620;&#x5C04;&#x5668;&#x7EE7;&#x627F;&#x5DF2;&#x7ECF;&#x4ECE;&#x7236;&#x6620;&#x5C04;&#x5668;&#x4F20;&#x64AD;&#x4F60;&#x60F3;&#x8981;&#x7684;&#x4E1C;&#x897F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-712b74c929fe77fb05e228b508010508">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1178">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1393">&#xFF03;1393</a></span></p></li><li><p id="change-0.6beta2-74"><span class="yiyi-st" id="yiyi-1179"><span class="target" id="change-cdbe265dab1874af885c1b8130cb2eee"><strong>[declarative] </strong></span>&#x5F53;&#x4E00;&#x4E2A;&#x5355;&#x8868;&#x5B50;&#x7C7B;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x5DF2;&#x5B58;&#x5728;&#x4E8E;&#x57FA;&#x7C7B;&#x4E2D;&#x7684;&#x5217;&#x65F6;&#x4F1A;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cdbe265dab1874af885c1b8130cb2eee">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1180">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1732">&#xFF03;1732</a></span></p></li><li><p id="change-0.6beta2-75"><span class="yiyi-st" id="yiyi-1181"><span class="target" id="change-59b20e0d794888b5924ddb106a96ce97"><strong>[sybase] </strong></span>&#x4E3A;Sybase&#x5B9E;&#x65BD;&#x4E86;&#x4E00;&#x4E2A;&#x521D;&#x6B65;&#x5DE5;&#x4F5C;&#x65B9;&#x8A00;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;Python-Sybase&#x548C;Pyodbc&#x7684;&#x5B50;&#x5B9E;&#x73B0;&#x3002;</span><span class="yiyi-st" id="yiyi-1182">&#x5904;&#x7406;&#x8868;&#x683C;&#x521B;&#x5EFA;/&#x5220;&#x9664;&#x548C;&#x57FA;&#x672C;&#x5F80;&#x8FD4;&#x529F;&#x80FD;&#x3002;</span><span class="yiyi-st" id="yiyi-1183">&#x5C1A;&#x672A;&#x5305;&#x542B;&#x5BF9;unicode /&#x7279;&#x6B8A;&#x8868;&#x8FBE;&#x5F0F;/ etc&#x7B49;&#x7684;&#x53CD;&#x6620;&#x6216;&#x5168;&#x9762;&#x652F;&#x6301;<a class="changeset-link headerlink reference internal" href="#change-59b20e0d794888b5924ddb106a96ce97">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-76"><span class="yiyi-st" id="yiyi-1184"><span class="target" id="change-2fba82fbacb3e70a6a774aa1e8e81f74"><strong>[examples] </strong></span>&#x7A0D;&#x5FAE;&#x66F4;&#x6539;&#x4E86;&#x70E7;&#x676F;&#x7F13;&#x5B58;&#x793A;&#x4F8B;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E3A;lazyload&#x7F13;&#x5B58;&#x63D0;&#x4F9B;&#x5355;&#x72EC;&#x7684;RelationCache&#x9009;&#x9879;&#x3002;</span><span class="yiyi-st" id="yiyi-1185">&#x8BE5;&#x5BF9;&#x8C61;&#x901A;&#x8FC7;&#x5C06;&#x51E0;&#x4E2A;&#x5206;&#x7EC4;&#x5230;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x7ED3;&#x6784;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x66F4;&#x6709;&#x6548;&#x5730;&#x67E5;&#x627E;&#x4EFB;&#x4F55;&#x6570;&#x91CF;&#x7684;&#x6F5C;&#x5728;&#x5C5E;&#x6027;&#x3002;</span><span class="yiyi-st" id="yiyi-1186">FromCache&#x548C;RelationCache&#x90FD;&#x66F4;&#x7B80;&#x5355;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2fba82fbacb3e70a6a774aa1e8e81f74">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta2-77"><span class="yiyi-st" id="yiyi-1187"><span class="target" id="change-e7846468739660d7e6ad96f9435b4871"><strong>[documentation] </strong></span>&#x6587;&#x6863;&#x4E2D;&#x7684;&#x4E3B;&#x8981;&#x6E05;&#x7406;&#x5DE5;&#x4F5C;&#x5C06;&#x7C7B;&#xFF0C;&#x51FD;&#x6570;&#x548C;&#x65B9;&#x6CD5;&#x540D;&#x79F0;&#x94FE;&#x63A5;&#x5230;API&#x6587;&#x6863;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e7846468739660d7e6ad96f9435b4871">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1188">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1700">&#xFF03;1700</a></span></p></li></ul></div></div><div class="section" id="change-0.6beta1"><h2><span class="yiyi-st" id="yiyi-1190">0.6beta1 <a class="headerlink" href="#change-0.6beta1" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h2><span class="yiyi-st" id="yiyi-1643">&#x53D1;&#x5E03;&#x65E5;&#x671F;&#xFF1A;2010&#x5E74;2&#x6708;3&#x65E5;</span><div class="section" id="change-0.6beta1-orm"><h3><span class="yiyi-st" id="yiyi-1191">ORM <a class="headerlink" href="#change-0.6beta1-orm" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta1-0"><span class="yiyi-st" id="yiyi-1192"><span class="target" id="change-dc6ff9eba416b02d740a8dd8fcf216cb"><strong>[orm] </strong></span></span></p><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-1193">query.update()&#x548C;query.delete()&#x7684;&#x66F4;&#x6539;&#xFF1A;</span></dt><dd><ul class="first last"><li><span class="yiyi-st" id="yiyi-1194">query.update()&#x7684;&apos;expire&apos;&#x9009;&#x9879;&#x5DF2;&#x88AB;&#x91CD;&#x547D;&#x540D;&#x4E3A;&apos;fetch&apos;&#xFF0C;&#x56E0;&#x6B64;&#x4E0E;query.delete()&#x7684;&#x5339;&#x914D;&#x3002;</span><span class="yiyi-st" id="yiyi-1195">&apos;&#x8FC7;&#x671F;&apos;&#x5DF2;&#x5F03;&#x7528;&#x5E76;&#x53D1;&#x51FA;&#x8B66;&#x544A;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1196">&#x5BF9;&#x4E8E;&#x540C;&#x6B65;&#x7B56;&#x7565;&#xFF0C;query.update()&#x548C;query.delete()&#x90FD;&#x9ED8;&#x8BA4;&#x4E3A;&#x201C;&#x8BC4;&#x4F30;&#x201D;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1197">update()&#x548C;delete()&#x7684;&#x201C;&#x540C;&#x6B65;&#x201D;&#x7B56;&#x7565;&#x4F1A;&#x5728;&#x5931;&#x8D25;&#x65F6;&#x4EA7;&#x751F;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-1198">&#x6CA1;&#x6709;&#x9690;&#x542B;&#x7684;&#x56DE;&#x9000;&#x5230;&#x201C;&#x83B7;&#x53D6;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1199">&#x8BC4;&#x4F30;&#x5931;&#x8D25;&#x662F;&#x57FA;&#x4E8E;&#x6807;&#x51C6;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x6240;&#x4EE5;&#x6210;&#x529F;/&#x5931;&#x8D25;&#x662F;&#x57FA;&#x4E8E;&#x4EE3;&#x7801;&#x7ED3;&#x6784;&#x7684;&#x786E;&#x5B9A;&#x6027;&#x3002;</span></li></ul></dd></dl><span class="yiyi-st" id="yiyi-1200"> <a class="changeset-link headerlink reference internal" href="#change-dc6ff9eba416b02d740a8dd8fcf216cb">&#xB6;</a></span><p></p></li><li><p id="change-0.6beta1-1"><span class="yiyi-st" id="yiyi-1201"><span class="target" id="change-b0f39f3d2c314fb24db07687b5d6ce5c"><strong>[orm] </strong></span></span></p><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-1202">&#x591A;&#x5BF9;&#x4E00;&#x5173;&#x7CFB;&#x7684;&#x589E;&#x5F3A;&#xFF1A;</span></dt><dd><ul class="first last"><li><span class="yiyi-st" id="yiyi-1203">&#x591A;&#x5BF9;&#x4E00;&#x7684;&#x5173;&#x7CFB;&#x73B0;&#x5728;&#x4F1A;&#x5728;&#x66F4;&#x5C11;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x89E6;&#x53D1;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#xFF0C;&#x5305;&#x62EC;&#x5728;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x4F1A;&#x5728;&#x66F4;&#x6362;&#x65B0;&#x4EE3;&#x7801;&#x65F6;&#x83B7;&#x53D6;&#x201C;&#x65E7;&#x201D;&#x503C;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1204">&#x73B0;&#x5728;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x52A0;&#x8F7D;&#xFF08;&#x79F0;&#x4E3A;&#x201C;use_get&#x201D;&#x6761;&#x4EF6;&#xFF09;&#xFF0C;&#x5373;Related-&gt; Sub&#xFF08;Base&#xFF09;&#xFF0C;&#x4F7F;&#x7528;get()&#x65B9;&#x6CD5;&#x7684;&#x591A;&#x5BF9;&#x4E00;&#x5173;&#x7CFB;&#x65E0;&#x9700;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;primaryjoin&#x6761;&#x4EF6;&#x7684;&#x57FA;&#x8868;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1205">&#x6307;&#x5B9A;&#x5177;&#x6709;&#x58F0;&#x660E;&#x5217;&#x7684;&#x5916;&#x952E;&#xFF0C;&#x5373;ForeignKey&#xFF08;MyRelatedClass.id&#xFF09;&#x4E0D;&#x4F1A;&#x4E2D;&#x65AD;&#x53D1;&#x751F;&#x7684;&#x201C;use_get&#x201D;&#x6761;&#x4EF6;</span></li><li><span class="yiyi-st" id="yiyi-1206">relation()&#xFF0C;eagerload()&#x548C;eagerload_all()&#x73B0;&#x5728;&#x5177;&#x6709;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;&#x201C;innerjoin&#x201D;&#x7684;&#x9009;&#x9879;&#x3002;</span><span class="yiyi-st" id="yiyi-1207">&#x6307;&#x5B9A;<cite>True</cite>&#x6216;<cite>False</cite>&#x6765;&#x63A7;&#x5236;eager&#x8FDE;&#x63A5;&#x662F;&#x5426;&#x6784;&#x9020;&#x4E3A;INNER&#x6216;OUTER&#x8FDE;&#x63A5;&#x3002;</span><span class="yiyi-st" id="yiyi-1208">&#x4E0E;&#x5F80;&#x5E38;&#x4E00;&#x6837;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;<cite>False</cite>&#x3002;</span><span class="yiyi-st" id="yiyi-1209">&#x6620;&#x5C04;&#x5668;&#x9009;&#x9879;&#x5C06;&#x8986;&#x76D6;&#x5173;&#x7CFB;()&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x4EFB;&#x4F55;&#x8BBE;&#x7F6E;&#x3002;</span><span class="yiyi-st" id="yiyi-1210">&#x901A;&#x5E38;&#x5E94;&#x8BE5;&#x8BBE;&#x7F6E;&#x4E3A;&#x591A;&#x5BF9;&#x4E00;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x53EF;&#x7A7A;&#x7684;&#x5916;&#x952E;&#x5173;&#x7CFB;&#xFF0C;&#x4EE5;&#x63D0;&#x9AD8;&#x8FDE;&#x63A5;&#x6027;&#x80FD;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1211">&#x5F53;LIMIT / OFFSET&#x51FA;&#x73B0;&#x65F6;&#xFF0C;&#x9884;&#x52A0;&#x8F7D;&#x7684;&#x884C;&#x4E3A;&#x4F7F;&#x5F97;&#x4E3B;&#x67E5;&#x8BE2;&#x88AB;&#x5305;&#x88C5;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x73B0;&#x5728;&#x5BF9;&#x4E8E;&#x6240;&#x6709;&#x7D27;&#x6025;&#x52A0;&#x8F7D;&#x90FD;&#x662F;&#x591A;&#x5BF9;&#x4E00;&#x8FDE;&#x63A5;&#x7684;&#x60C5;&#x51B5;&#x6765;&#x8BF4;&#x662F;&#x4E2A;&#x4F8B;&#x5916;&#x3002;</span><span class="yiyi-st" id="yiyi-1212">&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7531;&#x4E8E;&#x591A;&#x5BF9;&#x4E00;&#x8FDE;&#x63A5;&#x4E0D;&#x4F1A;&#x5C06;&#x884C;&#x6DFB;&#x52A0;&#x5230;&#x7ED3;&#x679C;&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x6025;&#x5207;&#x8FDE;&#x63A5;&#x4E0E;&#x9650;&#x5236;/&#x504F;&#x79FB;&#x4E00;&#x8D77;&#x76F4;&#x63A5;&#x4E0E;&#x7236;&#x8868;&#x5BF9;&#x9F50;&#xFF0C;&#x800C;&#x65E0;&#x9700;&#x989D;&#x5916;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x5F00;&#x9500;&#x3002;</span></li></ul></dd></dl><span class="yiyi-st" id="yiyi-1214"> <a class="changeset-link headerlink reference internal" href="#change-b0f39f3d2c314fb24db07687b5d6ce5c">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-1213">References: <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1186">#1186</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1492">#1492</a>, <a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1544">#1544</a></span></p></li><li><p id="change-0.6beta1-2"><span class="yiyi-st" id="yiyi-1215"><span class="target" id="change-214672957cd89d4ecddac4104c865548"><strong>[orm] </strong></span> Session.merge()&#x7684;&#x589E;&#x5F3A;/&#x6539;&#x53D8;&#xFF1A;<a class="changeset-link headerlink reference internal" href="#change-214672957cd89d4ecddac4104c865548">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-3"><span class="yiyi-st" id="yiyi-1216"><span class="target" id="change-2ec8e6a30ef412d4ca9f79d541de4fd2"><strong>[orm] </strong></span> Session.merge()&#x4E0A;&#x7684;&#x201C;dont_load = True&#x201D;&#x6807;&#x5FD7;&#x88AB;&#x5F03;&#x7528;&#xFF0C;&#x73B0;&#x5728;&#x662F;&#x201C;load = False&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2ec8e6a30ef412d4ca9f79d541de4fd2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-4"><span class="yiyi-st" id="yiyi-1217"><span class="target" id="change-54940eafb98ef2da97a3d986ce185a1a"><strong>[orm] </strong></span>Session.merge() is performance optimized, using half the call counts for &#x201C;load=False&#x201D; mode compared to 0.5 and significantly fewer SQL queries in the case of collections for &#x201C;load=True&#x201D; mode.<a class="changeset-link headerlink reference internal" href="#change-54940eafb98ef2da97a3d986ce185a1a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-5"><span class="yiyi-st" id="yiyi-1218"><span class="target" id="change-2bed1f32297bbc130f45b4d30b89c291"><strong>[orm] </strong></span>merge() will not issue a needless merge of attributes if the given instance is the same instance which is already present.<a class="changeset-link headerlink reference internal" href="#change-2bed1f32297bbc130f45b4d30b89c291">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-6"><span class="yiyi-st" id="yiyi-1219"><span class="target" id="change-2bbbf3e1665069128942de0c7eef6060"><strong>[orm] </strong></span>merge() now also merges the &#x201C;options&#x201D; associated with a given state, i.e. those passed through query.options() which follow along with an instance, such as options to eagerly- or lazyily- load various attributes. </span><span class="yiyi-st" id="yiyi-1220">&#x8FD9;&#x5BF9;&#x4E8E;&#x6784;&#x5EFA;&#x9AD8;&#x5EA6;&#x96C6;&#x6210;&#x7684;&#x7F13;&#x5B58;&#x65B9;&#x6848;&#x81F3;&#x5173;&#x91CD;&#x8981;&#x3002;</span><span class="yiyi-st" id="yiyi-1221">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5FAE;&#x5999;&#x7684;&#x884C;&#x4E3A;&#x53D8;&#x5316;&#x4E0E;0.5. <a class="changeset-link headerlink reference internal" href="#change-2bbbf3e1665069128942de0c7eef6060">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-7"><span class="yiyi-st" id="yiyi-1222"><span class="target" id="change-2a96bff0a75bb240bdfc1fd98a705c7b"><strong>[orm] </strong></span>&#x4FEE;&#x6B63;&#x4E86;&#x5173;&#x4E8E;&#x5B9E;&#x4F8B;&#x72B6;&#x6001;&#x4E2D;&#x5B58;&#x5728;&#x7684;&#x201C;&#x52A0;&#x8F7D;&#x8DEF;&#x5F84;&#x201D;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x7684;bug&#xFF0C;&#x5F53;&#x5C06;merge()&#x4E0E;&#x5E8F;&#x5217;&#x5316;&#x72B6;&#x6001;&#x7684;&#x4F7F;&#x7528;&#x4EE5;&#x53CA;&#x76F8;&#x5173;&#x7684;&#x9009;&#x9879;&#x7EC4;&#x5408;&#x8D77;&#x6765;&#x65F6;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x5FC5;&#x9700;&#x7684;&#x4FDD;&#x5B58;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2a96bff0a75bb240bdfc1fd98a705c7b">&#xB6; T2&gt;</a></span></p><p></p></li><li><p id="change-0.6beta1-8"><span class="yiyi-st" id="yiyi-1223"><span class="target" id="change-023079a39b7b68c5ea1d0a6ae57374d8"><strong>[orm] </strong></span>&#x5168;&#x65B0;&#x7684;merge()&#x5C06;&#x4EE5;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7EFC;&#x5408;&#x793A;&#x4F8B;&#x5C55;&#x793A;&#x5982;&#x4F55;&#x5C06;Beaker&#x4E0E;SQLAlchemy&#x96C6;&#x6210;&#x3002;</span><span class="yiyi-st" id="yiyi-1224">&#x8BF7;&#x53C2;&#x9605;&#x4E0B;&#x9762;&#x7684;&#x201C;&#x793A;&#x4F8B;&#x201D;&#x6CE8;&#x91CA;&#x4E2D;&#x7684;&#x6CE8;&#x91CA;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-023079a39b7b68c5ea1d0a6ae57374d8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-9"><span class="yiyi-st" id="yiyi-1225"><span class="target" id="change-d92b5ce0bd2745798d570f1d7a477427"><strong>[orm] </strong></span>Primary key values can now be changed on a joined-table inheritance object, and ON UPDATE CASCADE will be taken into account when the flush happens. </span><span class="yiyi-st" id="yiyi-1226">&#x4F7F;&#x7528;SQLite&#x6216;MySQL / MyISAM&#x65F6;&#xFF0C;&#x5728;mapper()&#x4E0A;&#x5C06;&#x65B0;&#x7684;&#x201C;passive_updates&#x201D;&#x6807;&#x5FD7;&#x8BBE;&#x7F6E;&#x4E3A;False <a class="changeset-link headerlink reference internal" href="#change-d92b5ce0bd2745798d570f1d7a477427">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1227">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1362">&#xFF03;1362</a></span></p></li><li><p id="change-0.6beta1-10"><span class="yiyi-st" id="yiyi-1228"><span class="target" id="change-acdcc601f3f43f3d50ffd4a7eccab5ee"><strong>[orm] </strong></span>flush() now detects when a primary key column was updated by an ON UPDATE CASCADE operation from another primary key, and can then locate the row for a subsequent UPDATE on the new PK value. </span><span class="yiyi-st" id="yiyi-1229">&#x5F53;&#x5173;&#x7CFB;()&#x5B58;&#x5728;&#x4EE5;&#x5EFA;&#x7ACB;&#x5173;&#x7CFB;&#x4EE5;&#x53CA;passive_updates = True&#x65F6;&#xFF0C;&#x4F1A;&#x53D1;&#x751F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-acdcc601f3f43f3d50ffd4a7eccab5ee">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1230">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1671">&#xFF03;1671</a></span></p></li><li><p id="change-0.6beta1-11"><span class="yiyi-st" id="yiyi-1231"><span class="target" id="change-7885463e500d075f4f8777f53615642f"><strong>[orm] </strong></span>the &#x201C;save-update&#x201D; cascade will now cascade the pending <em>removed</em> values from a scalar or collection attribute into the new session during an add() operation. </span><span class="yiyi-st" id="yiyi-1232">&#x8FD9;&#x6837;flush()&#x64CD;&#x4F5C;&#x4E5F;&#x4F1A;&#x5220;&#x9664;&#x6216;&#x4FEE;&#x6539;&#x8FD9;&#x4E9B;&#x65AD;&#x5F00;&#x9879;&#x76EE;&#x7684;&#x884C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7885463e500d075f4f8777f53615642f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-12"><span class="yiyi-st" id="yiyi-1233"><span class="target" id="change-77148312513d999f0abe3daa49304c4d"><strong>[orm] </strong></span>&#x73B0;&#x5728;&#x4F7F;&#x7528;&#x5E26;&#x6709;&#x201C;&#x8F85;&#x52A9;&#x201D;&#x8868;&#x7684;&#x201C;&#x52A8;&#x6001;&#x201D;&#x52A0;&#x8F7D;&#x5668;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#xFF0C;&#x5176;&#x4E2D;&#x201C;&#x8F85;&#x52A9;&#x201D;&#x8868;<em>&#x4E0D;&#x662F;</em>&#x522B;&#x540D;&#x3002;</span><span class="yiyi-st" id="yiyi-1234">&#x8FD9;&#x5141;&#x8BB8;&#x8F85;&#x52A9;Table&#x5BF9;&#x8C61;&#x7528;&#x5728;relation()&#x7684;&#x201C;order_by&#x201D;&#x5C5E;&#x6027;&#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x8FD8;&#x5141;&#x8BB8;&#x5C06;&#x5176;&#x7528;&#x4E8E;&#x9488;&#x5BF9;&#x52A8;&#x6001;&#x5173;&#x7CFB;&#x7684;&#x8FC7;&#x6EE4;&#x6807;&#x51C6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-77148312513d999f0abe3daa49304c4d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1235">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1531">&#xFF03;1531</a></span></p></li><li><p id="change-0.6beta1-13"><span class="yiyi-st" id="yiyi-1236"><span class="target" id="change-5e3ba4eff181a0ee2c6a2fae40497392"><strong>[orm] </strong></span>relation() with uselist=False will emit a warning when an eager or lazy load locates more than one valid value for the row. </span><span class="yiyi-st" id="yiyi-1237">&#x8FD9;&#x53EF;&#x80FD;&#x662F;&#x7531;&#x4E8E;primaryjoin / secondaryjoin&#x6761;&#x4EF6;&#x4E0D;&#x9002;&#x5408;&#x6E34;&#x671B;&#x7684;LEFT OUTER JOIN&#x6216;&#x5176;&#x4ED6;&#x6761;&#x4EF6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5e3ba4eff181a0ee2c6a2fae40497392">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1238">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1643">&#xFF03;1643</a></span></p></li><li><p id="change-0.6beta1-14"><span class="yiyi-st" id="yiyi-1239"><span class="target" id="change-928ff4154d8bca4127164af262f91d97"><strong>[orm] </strong></span>an explicit check occurs when a synonym() is used with map_column=True, when a ColumnProperty (deferred or otherwise) exists separately in the properties dictionary sent to mapper with the same keyname. </span><span class="yiyi-st" id="yiyi-1240">&#x800C;&#x4E0D;&#x662F;&#x9ED8;&#x9ED8;&#x5730;&#x66FF;&#x6362;&#x73B0;&#x6709;&#x7684;&#x5C5E;&#x6027;&#xFF08;&#x4EE5;&#x53CA;&#x8BE5;&#x5C5E;&#x6027;&#x7684;&#x53EF;&#x80FD;&#x9009;&#x9879;&#xFF09;&#xFF0C;&#x4F1A;&#x5F15;&#x53D1;&#x9519;&#x8BEF;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-928ff4154d8bca4127164af262f91d97">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1241">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1633">&#xFF03;1633</a></span></p></li><li><p id="change-0.6beta1-15"><span class="yiyi-st" id="yiyi-1242"><span class="target" id="change-07718a8de32eb50efa4fbd07e5184cb6"><strong>[orm] </strong></span>a &#x201C;dynamic&#x201D; loader sets up its query criterion at construction time so that the actual query is returned from non-cloning accessors like &#x201C;statement&#x201D;.<a class="changeset-link headerlink reference internal" href="#change-07718a8de32eb50efa4fbd07e5184cb6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-16"><span class="yiyi-st" id="yiyi-1243"><span class="target" id="change-9dd1e1039ec6832335cf05098fdffa0c"><strong>[orm] </strong></span>&#x5F53;&#x8FED;&#x4EE3;&#x4E00;&#x4E2A;Query()&#x65F6;&#x8FD4;&#x56DE;&#x7684;&#x201C;named tuple&#x201D;&#x5BF9;&#x8C61;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x88AB;pickleable <a class="changeset-link headerlink reference internal" href="#change-9dd1e1039ec6832335cf05098fdffa0c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-17"><span class="yiyi-st" id="yiyi-1244"><span class="target" id="change-06b035d8abba0f380e9761dbd450e938"><strong>[orm] </strong></span>mapping to a select() construct now requires that you make an alias() out of it distinctly. </span><span class="yiyi-st" id="yiyi-1245">&#x8FD9;&#x53EF;&#x4EE5;&#x6D88;&#x9664;&#x5BF9;<a class="changeset-link headerlink reference internal" href="#change-06b035d8abba0f380e9761dbd450e938">&#xB6;</a>&#x7B49;&#x95EE;&#x9898;&#x7684;&#x6DF7;&#x6DC6;</span></p><p><span class="yiyi-st" id="yiyi-1246">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1542">&#xFF03;1542</a></span></p></li><li><p id="change-0.6beta1-18"><span class="yiyi-st" id="yiyi-1247"><span class="target" id="change-2f33bb379421251fd948d3fc38923eb1"><strong>[orm] </strong></span> query.join()&#x5DF2;&#x88AB;&#x91CD;&#x5199;&#x4EE5;&#x63D0;&#x4F9B;&#x66F4;&#x4E00;&#x81F4;&#x7684;&#x884C;&#x4E3A;&#x548C;&#x66F4;&#x591A;&#x7684;&#x7075;&#x6D3B;&#x6027;&#xFF08;&#x5305;&#x62EC;&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-2f33bb379421251fd948d3fc38923eb1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1248">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1537">&#xFF03;1537</a></span></p></li><li><p id="change-0.6beta1-19"><span class="yiyi-st" id="yiyi-1249"><span class="target" id="change-6f2e3f51e6cb88f3cc790e88cde5f7c3"><strong>[orm] </strong></span>query.select_from() accepts multiple clauses to produce multiple comma separated entries within the FROM clause. </span><span class="yiyi-st" id="yiyi-1250">&#x4ECE;&#x591A;&#x5BBF;&#x4E3B;&#x8FDE;&#x63A5;()&#x5B50;&#x53E5;&#x4E2D;&#x9009;&#x62E9;&#x65F6;&#x5F88;&#x6709;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6f2e3f51e6cb88f3cc790e88cde5f7c3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-20"><span class="yiyi-st" id="yiyi-1251"><span class="target" id="change-0b82102fe6a1de325bd22dc40d50c613"><strong>[orm] </strong></span>query.select_from() also accepts mapped classes, aliased() constructs, and mappers as arguments. </span><span class="yiyi-st" id="yiyi-1252">&#x7279;&#x522B;&#x662F;&#x5F53;&#x4ECE;&#x591A;&#x4E2A;&#x8FDE;&#x63A5;&#x8868;&#x7C7B;&#x67E5;&#x8BE2;&#x4EE5;&#x786E;&#x4FDD;&#x5B8C;&#x6574;&#x8FDE;&#x63A5;&#x88AB;&#x5448;&#x73B0;&#x65F6;&#xFF0C;&#x8FD9;&#x6709;&#x52A9;&#x4E8E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0b82102fe6a1de325bd22dc40d50c613">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-21"><span class="yiyi-st" id="yiyi-1253"><span class="target" id="change-3d610c09f7696ca04d48bc82efab5c5b"><strong>[orm] </strong></span>query.get() can be used with a mapping to an outer join where one or more of the primary key values are None.<a class="changeset-link headerlink reference internal" href="#change-3d610c09f7696ca04d48bc82efab5c5b">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1254">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1135">&#xFF03;1135</a></span></p></li><li><p id="change-0.6beta1-22"><span class="yiyi-st" id="yiyi-1255"><span class="target" id="change-0138642ce02e6d403c6713a13a4f9802"><strong>[orm] </strong></span>query.from_self(), query.union(), others which do a &#x201C;SELECT * from (SELECT...)&#x201D; type of nesting will do a better job translating column expressions within the subquery to the columns clause of the outer query. </span><span class="yiyi-st" id="yiyi-1256">&#x8FD9;&#x53EF;&#x80FD;&#x4E0E;0.5&#x540E;&#x5411;&#x4E0D;&#x517C;&#x5BB9;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x7834;&#x574F;&#x6CA1;&#x6709;&#x5E94;&#x7528;&#x6807;&#x7B7E;&#x7684;&#x6587;&#x5B57;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;&#x5373;literal&#xFF08;&apos;foo&apos;&#xFF09;&#x7B49;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0138642ce02e6d403c6713a13a4f9802"></a></span></p><p><span class="yiyi-st" id="yiyi-1257">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1568">&#xFF03;1568</a></span></p></li><li><p id="change-0.6beta1-23"><span class="yiyi-st" id="yiyi-1258"><span class="target" id="change-e03cf72a3995480562eafd69ef7d11f0"><strong>[orm] </strong></span>&#x5173;&#x7CFB;primaryjoin&#x548C;secondaryjoin&#x73B0;&#x5728;&#x68C0;&#x67E5;&#x5B83;&#x4EEC;&#x662F;&#x5426;&#x662F;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x5B50;&#x53E5;&#x5143;&#x7D20;&#x3002;</span><span class="yiyi-st" id="yiyi-1259">&#x8FD9;&#x7981;&#x6B62;&#x50CF;FROM&#x8868;&#x8FBE;&#x5F0F;&#x90A3;&#x6837;&#x76F4;&#x63A5;&#x653E;&#x5728;&#x90A3;&#x91CC;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e03cf72a3995480562eafd69ef7d11f0">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1260">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1622">&#xFF03;1622</a></span></p></li><li><p id="change-0.6beta1-24"><span class="yiyi-st" id="yiyi-1261"><span class="target" id="change-0469e777a8df1fc45afc3ecfd6383189"><strong>[orm] </strong></span><cite>expression.null()</cite> is fully understood the same way None is when comparing an object/collection-referencing attribute within query.filter(), filter_by(), etc.<a class="changeset-link headerlink reference internal" href="#change-0469e777a8df1fc45afc3ecfd6383189">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1262">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1415">&#xFF03;1415</a></span></p></li><li><p id="change-0.6beta1-25"><span class="yiyi-st" id="yiyi-1263"><span class="target" id="change-9d19cad8b2bcb624aa80df1327549f23"><strong>[orm] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x201C;make_transient()&#x201D;&#x8F85;&#x52A9;&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x5C06;&#x6301;&#x4E45;&#x6027;/&#x5206;&#x79BB;&#x6027;&#x5B9E;&#x4F8B;&#x8F6C;&#x6362;&#x4E3A;&#x4E34;&#x65F6;&#x6027;&#x5B9E;&#x4F8B;&#xFF08;&#x5373;&#xFF0C;&#x5220;&#x9664;instance_key&#x5E76;&#x4ECE;&#x4EFB;&#x4F55;&#x4F1A;&#x8BDD;&#x4E2D;&#x5220;&#x9664;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9d19cad8b2bcb624aa80df1327549f23"></a></span></p><p><span class="yiyi-st" id="yiyi-1264">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1052">&#xFF03;1052</a></span></p></li><li><p id="change-0.6beta1-26"><span class="yiyi-st" id="yiyi-1265"><span class="target" id="change-cd19ca85ff6299764da7a16446668186"><strong>[orm] </strong></span>&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;mapper()&#x4E0A;&#x7684;allow_null_pks&#x6807;&#x5FD7;&#xFF0C;&#x5E76;&#x4E14;&#x8BE5;&#x529F;&#x80FD;&#x9ED8;&#x8BA4;&#x4E3A;&#x201C;&#x6253;&#x5F00;&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1266">&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5BF9;&#x4E8E;&#x4EFB;&#x4F55;&#x4E3B;&#x952E;&#x5217;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x975E;&#x7A7A;&#x503C;&#x7684;&#x884C;&#x5C06;&#x88AB;&#x89C6;&#x4E3A;&#x4E00;&#x4E2A;&#x6807;&#x8BC6;&#x3002;</span><span class="yiyi-st" id="yiyi-1267">&#x901A;&#x5E38;&#x53EA;&#x6709;&#x5728;&#x6620;&#x5C04;&#x5230;&#x5916;&#x8FDE;&#x63A5;&#x65F6;&#x624D;&#x9700;&#x8981;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cd19ca85ff6299764da7a16446668186">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1268">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1339">&#xFF03;1339</a></span></p></li><li><p id="change-0.6beta1-27"><span class="yiyi-st" id="yiyi-1269"><span class="target" id="change-889fc60ec4cd97646ec09e69b067e826"><strong>[orm] </strong></span>the mechanics of &#x201C;backref&#x201D; have been fully merged into the finer grained &#x201C;back_populates&#x201D; system, and take place entirely within the _generate_backref() method of RelationProperty. </span><span class="yiyi-st" id="yiyi-1270">&#x8FD9;&#x4F7F;&#x5F97;RelationProperty&#x7684;&#x521D;&#x59CB;&#x5316;&#x8FC7;&#x7A0B;&#x66F4;&#x7B80;&#x5355;&#xFF0C;&#x5E76;&#x5141;&#x8BB8;&#x8BBE;&#x7F6E;&#xFF08;&#x4F8B;&#x5982;&#x4ECE;RelationProperty&#x7684;&#x5B50;&#x7C7B;&#xFF09;&#x66F4;&#x5BB9;&#x6613;&#x5730;&#x4F20;&#x64AD;&#x5230;&#x53CD;&#x5411;&#x5F15;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-1271">&#x5185;&#x90E8;&#x7684;BackRef()&#x6D88;&#x5931;&#x4E86;&#xFF0C;backref()&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x88AB;RelationProperty&#x7406;&#x89E3;&#x7684;&#x666E;&#x901A;&#x5143;&#x7EC4;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-889fc60ec4cd97646ec09e69b067e826">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-28"><span class="yiyi-st" id="yiyi-1272"><span class="target" id="change-99cae53917a87e88ac70a5d5a153cdf9"><strong>[orm] </strong></span> mapper()&#x4E0A;&#x7684;version_id_col&#x7279;&#x6027;&#x5728;&#x4E0E;&#x4E0D;&#x652F;&#x6301;&#x201C;rowcount&#x201D;&#x7684;&#x65B9;&#x8A00;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x65F6;&#x4F1A;&#x5F15;&#x53D1;&#x8B66;&#x544A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-99cae53917a87e88ac70a5d5a153cdf9">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1273">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1569">&#xFF03;1569</a></span></p></li><li><p id="change-0.6beta1-29"><span class="yiyi-st" id="yiyi-1274"><span class="target" id="change-d516d907637bb775eebd34e7ee58ed13"><strong>[orm] </strong></span>&#x5C06;&#x201C;execution_options()&#x201D;&#x6DFB;&#x52A0;&#x5230;Query&#x4E2D;&#xFF0C;&#x4EE5;&#x4FBF;&#x53EF;&#x4EE5;&#x5C06;&#x9009;&#x9879;&#x4F20;&#x9012;&#x7ED9;&#x7ED3;&#x679C;&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-1275">&#x76EE;&#x524D;&#x53EA;&#x6709;Select&#x8BED;&#x53E5;&#x5177;&#x6709;&#x8FD9;&#x4E9B;&#x9009;&#x9879;&#xFF0C;&#x552F;&#x4E00;&#x4F7F;&#x7528;&#x7684;&#x9009;&#x9879;&#x662F;&#x201C;stream_results&#x201D;&#xFF0C;&#x800C;&#x77E5;&#x9053;&#x201C;stream_results&#x201D;&#x7684;&#x552F;&#x4E00;&#x65B9;&#x8A00;&#x662F;psycopg2. <a class="changeset-link headerlink reference internal" href="#change-d516d907637bb775eebd34e7ee58ed13">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-30"><span class="yiyi-st" id="yiyi-1276"><span class="target" id="change-573842e45f126bdd2938caf4c37f003e"><strong>[orm] </strong></span> Query.yield_per()&#x4F1A;&#x81EA;&#x52A8;&#x8BBE;&#x7F6E;&#x201C;stream_results&#x201D;&#x8BED;&#x53E5;&#x9009;&#x9879;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-573842e45f126bdd2938caf4c37f003e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-31"><span class="yiyi-st" id="yiyi-1277"><span class="target" id="change-d843edca2b75b293e8e6826030ff0227"><strong>[orm] </strong></span></span></p><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-1278">&#x5DF2;&#x5F03;&#x7528;&#x6216;&#x5DF2;&#x5220;&#x9664;&#xFF1A;</span></dt><dd><ul class="first last"><li><span class="yiyi-st" id="yiyi-1279">mapper()&#x4E0A;&#x7684;&apos;allow_null_pks&apos;&#x6807;&#x5FD7;&#x5DF2;&#x88AB;&#x5F03;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-1280">&#x5B83;&#x73B0;&#x5728;&#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x505A;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x662F;&#x201C;&#x5F00;&#x542F;&#x201D;&#x7684;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1281">sessionmaker()&#x4E0A;&#x7684;&apos;transactional&apos;&#x6807;&#x5FD7;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1282">&#x4F7F;&#x7528;&apos;autocommit = True&apos;&#x6765;&#x8868;&#x793A;&apos;transactional = False&apos;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1283">mapper()&#x4E0A;&#x7684;&apos;polymorphic_fetch&apos;&#x53C2;&#x6570;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1284">&#x52A0;&#x8F7D;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&apos;with_polymorphic&apos;&#x9009;&#x9879;&#x8FDB;&#x884C;&#x63A7;&#x5236;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1285">mapper()&#x4E0A;&#x7684;&apos;select_table&apos;&#x53C2;&#x6570;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1286">&#x4E3A;&#x6B64;&#x529F;&#x80FD;&#x4F7F;&#x7528;&apos;with_polymorphic =&#xFF08;&#x201C;*&#x201D;&#xFF0C;<some selectable="">&#xFF09;&apos;&#x3002;</some></span></li><li><span class="yiyi-st" id="yiyi-1287">&#x540C;&#x4E49;&#x8BCD;()&#x7684;&apos;&#x4EE3;&#x7406;&apos;&#x53C2;&#x6570;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1288">&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x5728;&#x6574;&#x4E2A;0.5&#x4E2D;&#x6CA1;&#x6709;&#x505A;&#x4EFB;&#x4F55;&#x4E8B;&#x60C5;&#xFF0C;&#x56E0;&#x4E3A;&#x201C;&#x4EE3;&#x7406;&#x751F;&#x6210;&#x201D;&#x884C;&#x4E3A;&#x73B0;&#x5728;&#x662F;&#x81EA;&#x52A8;&#x7684;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1289">&#x5C06;&#x5355;&#x4E2A;&#x5143;&#x7D20;&#x5217;&#x8868;&#x4F20;&#x9012;&#x7ED9;eagerload()&#xFF0C;eagerload_all()&#xFF0C;contains_eager()&#xFF0C;lazyload()&#xFF0C;defer()&#x548C;undefer()&#x800C;&#x4E0D;&#x662F;&#x591A;&#x4E2A;&#x4F4D;&#x7F6E;*&#x53C2;&#x6570;&#x5DF2;&#x88AB;&#x5F03;&#x7528;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1290">&#x5C06;&#x5355;&#x4E2A;&#x5143;&#x7D20;&#x5217;&#x8868;&#x4F20;&#x9012;&#x7ED9;query.order_by()&#xFF0C;query.group_by()&#xFF0C;query.join()&#x6216;query.outerjoin()&#x800C;&#x4E0D;&#x662F;&#x591A;&#x4E2A;&#x4F4D;&#x7F6E;*&#x53C2;&#x6570;&#x5DF2;&#x5F03;&#x7528;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1291">query.iterate_instances()&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1292">&#x4F7F;&#x7528;query.instances()&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1293">Query.query_from_parent()&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1294">&#x4F7F;&#x7528;sqlalchemy.orm.with_parent()&#x51FD;&#x6570;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x201C;&#x7236;&#x201D;&#x5B50;&#x53E5;&#xFF0C;&#x6216;&#x8005;query.with_parent()&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1295">query._from_self()&#x88AB;&#x79FB;&#x9664;&#xFF0C;&#x8BF7;&#x6539;&#x7528;query.from_self()&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1296">composite()&#x7684;&#x201C;comparator&#x201D;&#x53C2;&#x6570;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1297">&#x4F7F;&#x7528;&#x201C;comparator_factory&#x201D;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1298">RelationProperty._get_join()&#x88AB;&#x5220;&#x9664;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1299">Session&#x4E0A;&#x7684;&apos;echo_uow&apos;&#x6807;&#x5FD7;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1300">&#x5728;&#x201C;sqlalchemy.orm.unitofwork&#x201D;&#x540D;&#x79F0;&#x4E0A;&#x4F7F;&#x7528;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1301">session.clear()&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1302">&#x4F7F;&#x7528;session.expunge_all()&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1303">session.save()&#xFF0C;session.update()&#xFF0C;session.save_or_update()&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1304">&#x4F7F;&#x7528;session.add()&#x548C;session.add_all()&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1305">session.flush()&#x4E0A;&#x7684;&#x201C;objects&#x201D;&#x6807;&#x5FD7;&#x4ECD;&#x7136;&#x88AB;&#x5F03;&#x7528;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1306">session.merge()&#x4E2D;&#x7684;&#x201C;dont_load = True&#x201D;&#x6807;&#x5FD7;&#x4E0D;&#x8D5E;&#x6210;&#x4F7F;&#x7528;&#x201C;load = False&#x201D;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1307">ScopedSession.mapper&#x4FDD;&#x6301;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-1308">&#x8BF7;&#x53C2;&#x9605;<a class="reference external" href="http://www.sqlalchemy.org/trac/wiki/UsageRecipes/SessionAwareMapper">http://www.sqlalchemy.org/trac/wiki/UsageRecipes/SessionAwareMapper</a>&#x4E2D;&#x7684;&#x4F7F;&#x7528;&#x914D;&#x65B9;</span></li><li><span class="yiyi-st" id="yiyi-1309">&#x5C06;InstanceState&#xFF08;&#x5185;&#x90E8;SQLAlchemy&#x72B6;&#x6001;&#x5BF9;&#x8C61;&#xFF09;&#x4F20;&#x9012;&#x7ED9;attributes.init_collection()&#x6216;attributes.get_history()&#x5DF2;&#x5F03;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-1310">&#x8FD9;&#x4E9B;&#x51FD;&#x6570;&#x662F;&#x516C;&#x5171;API&#xFF0C;&#x901A;&#x5E38;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5E38;&#x89C4;&#x7684;&#x6620;&#x5C04;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1311">declarative_base()&#x7684;&apos;engine&apos;&#x53C2;&#x6570;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1312">&#x4F7F;&#x7528;&apos;bind&apos;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x3002;</span></li></ul></dd></dl><span class="yiyi-st" id="yiyi-1313"> <a class="changeset-link headerlink reference internal" href="#change-d843edca2b75b293e8e6826030ff0227">&#xB6;</a></span><p></p></li></ul></div><div class="section" id="change-0.6beta1-sql"><h3><span class="yiyi-st" id="yiyi-1314">SQL <a class="headerlink" href="#change-0.6beta1-sql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta1-32"><span class="yiyi-st" id="yiyi-1315"><span class="target" id="change-fb7c367607c59c771a13ad200c90eff3"><strong>[sql] </strong></span>the &#x201C;autocommit&#x201D; flag on select() and text() as well as select().autocommit() are deprecated - now call .execution_options(autocommit=True) on either of those constructs, also available directly on Connection and orm.Query.<a class="changeset-link headerlink reference internal" href="#change-fb7c367607c59c771a13ad200c90eff3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-33"><span class="yiyi-st" id="yiyi-1316"><span class="target" id="change-02d9b147f287fd9766176ef94cdc13cc"><strong>[sql] </strong></span>the autoincrement flag on column now indicates the column which should be linked to cursor.lastrowid, if that method is used. </span><span class="yiyi-st" id="yiyi-1317">&#x6709;&#x5173;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;API&#x6587;&#x6863;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-02d9b147f287fd9766176ef94cdc13cc">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-34"><span class="yiyi-st" id="yiyi-1318"><span class="target" id="change-44921036aa99c1e3663922170c206e27"><strong>[sql] </strong></span>an executemany() now requires that all bound parameter sets require that all keys are present which are present in the first bound parameter set. </span><span class="yiyi-st" id="yiyi-1319">&#x63D2;&#x5165;/&#x66F4;&#x65B0;&#x8BED;&#x53E5;&#x7684;&#x7ED3;&#x6784;&#x548C;&#x884C;&#x4E3A;&#x5F88;&#x5927;&#x7A0B;&#x5EA6;&#x4E0A;&#x53D6;&#x51B3;&#x4E8E;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x96C6;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x62EC;&#x54EA;&#x4E9B;&#x7F3A;&#x7701;&#x503C;&#x5C06;&#x88AB;&#x89E6;&#x53D1;&#xFF0C;&#x5E76;&#x4E14;&#x6240;&#x6709;&#x5176;&#x4F59;&#x7F3A;&#x7701;&#x503C;&#x90FD;&#x4F1A;&#x6267;&#x884C;&#x6700;&#x5C0F;&#x731C;&#x6D4B;&#x64CD;&#x4F5C;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E0D;&#x5F71;&#x54CD;&#x6027;&#x80FD;&#x3002;</span><span class="yiyi-st" id="yiyi-1320">&#x51FA;&#x4E8E;&#x8FD9;&#x4E2A;&#x539F;&#x56E0;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4F1A;&#x4EE5;&#x9ED8;&#x9ED8;&#x7684;&#x65B9;&#x5F0F;&#x201C;&#x5931;&#x8D25;&#x201D;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x662F;&#x73B0;&#x5728;&#x7684;&#x9632;&#x8303;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-44921036aa99c1e3663922170c206e27">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1321">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1566">&#xFF03;1566</a></span></p></li><li><p id="change-0.6beta1-35"><span class="yiyi-st" id="yiyi-1322"><span class="target" id="change-e095b275cd65347bb96a118ac93a37c4"><strong>[sql] </strong></span>returning() support is native to insert(), update(), delete(). </span><span class="yiyi-st" id="yiyi-1323">Postgresql&#xFF0C;Firebird&#xFF0C;MSSQL&#x548C;Oracle&#x5B58;&#x5728;&#x4E0D;&#x540C;&#x7EA7;&#x522B;&#x529F;&#x80FD;&#x7684;&#x5B9E;&#x73B0;&#x3002;</span><span class="yiyi-st" id="yiyi-1324">&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x663E;&#x5F0F;&#x8C03;&#x7528;&#x8FD4;&#x56DE;()&#xFF0C;&#x8FD9;&#x4E9B;&#x5217;&#x8868;&#x8FBE;&#x5F0F;&#x901A;&#x5E38;&#x901A;&#x8FC7;fetchone()&#x6216;first()&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x96C6;&#x3002;</span></p><p><span class="yiyi-st" id="yiyi-1325">&#x5982;&#x679C;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7248;&#x672C;&#x652F;&#x6301;&#x5B83;&#xFF08;&#x6267;&#x884C;&#x7248;&#x672C;&#x53F7;&#x68C0;&#x67E5;&#xFF09;&#xFF0C;&#x5219;insert()&#x6784;&#x9020;&#x4E5F;&#x5C06;&#x9690;&#x5F0F;&#x5730;&#x4F7F;&#x7528;RETURNING&#x6765;&#x83B7;&#x53D6;&#x65B0;&#x751F;&#x6210;&#x7684;&#x4E3B;&#x952E;&#x503C;&#x3002;</span><span class="yiyi-st" id="yiyi-1326">&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x6700;&#x7EC8;&#x7528;&#x6237;&#x8FD4;&#x56DE;()&#xFF0C;&#x5219;&#x4F1A;&#x53D1;&#x751F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;</span></p><span class="yiyi-st" id="yiyi-1327"> <a class="changeset-link headerlink reference internal" href="#change-e095b275cd65347bb96a118ac93a37c4">&#xB6;</a></span><p></p></li><li><p id="change-0.6beta1-36"><span class="yiyi-st" id="yiyi-1328"><span class="target" id="change-8bc93521d51aa26c8f23a0d45da1f78f"><strong>[sql] </strong></span>union(), intersect(), except() and other &#x201C;compound&#x201D; types of statements have more consistent behavior w.r.t. </span><span class="yiyi-st" id="yiyi-1329">&#x5706;&#x62EC;&#x53F7;&#x3002;</span><span class="yiyi-st" id="yiyi-1330">&#x5D4C;&#x5165;&#x5728;&#x53E6;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x590D;&#x5408;&#x5143;&#x7D20;&#x73B0;&#x5728;&#x5C06;&#x7528;&#x62EC;&#x53F7;&#x5206;&#x7EC4; - &#x4E4B;&#x524D;&#xFF0C;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x590D;&#x5408;&#x5143;&#x7D20;&#x4E0D;&#x4F1A;&#x88AB;&#x5206;&#x7EC4;&#xFF0C;&#x56E0;&#x4E3A;SQLite&#x4E0D;&#x559C;&#x6B22;&#x4EE5;&#x62EC;&#x53F7;&#x5F00;&#x5934;&#x7684;&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-1331">&#x4F46;&#x662F;&#xFF0C;Postgresql&#x5C24;&#x5176;&#x5177;&#x6709;&#x5173;&#x4E8E;INTERSECT&#x7684;&#x4F18;&#x5148;&#x89C4;&#x5219;&#xFF0C;&#x5E76;&#x4E14;&#x5BF9;&#x4E8E;&#x62EC;&#x53F7;&#x540C;&#x6837;&#x9002;&#x7528;&#x4E8E;&#x6240;&#x6709;&#x5B50;&#x5143;&#x7D20;&#x66F4;&#x4E3A;&#x4E00;&#x81F4;&#x3002;</span><span class="yiyi-st" id="yiyi-1332">&#x6240;&#x4EE5;&#x73B0;&#x5728;&#xFF0C;SQLite&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x4E5F;&#x662F;&#x4EE5;&#x524D;PG&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5; - &#x5F53;&#x5D4C;&#x5957;&#x590D;&#x5408;&#x5143;&#x7D20;&#x65F6;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x901A;&#x5E38;&#x9700;&#x8981;&#x8C03;&#x7528;&#x201C;.alias()&#x3002;select()&#x201D;&#x4EE5;&#x5C06;&#x5176;&#x5305;&#x88C5;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8bc93521d51aa26c8f23a0d45da1f78f">&#xB6; T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-1333">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1665">&#xFF03;1665</a></span></p></li><li><p id="change-0.6beta1-37"><span class="yiyi-st" id="yiyi-1334"><span class="target" id="change-ddbccf30154057e0b830866c4813ff38"><strong>[sql] </strong></span>insert() and update() constructs can now embed bindparam() objects using names that match the keys of columns. </span><span class="yiyi-st" id="yiyi-1335">&#x8FD9;&#x4E9B;&#x7ED1;&#x5B9A;&#x53C2;&#x6570;&#x5C06;&#x7ED5;&#x8FC7;&#x901A;&#x5E38;&#x8DEF;&#x7531;&#x5230;&#x751F;&#x6210;&#x7684;SQL&#x7684;VALUES&#x6216;SET&#x5B50;&#x53E5;&#x4E2D;&#x663E;&#x793A;&#x7684;&#x90A3;&#x4E9B;&#x952E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ddbccf30154057e0b830866c4813ff38">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1336">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1579">&#xFF03;1579</a></span></p></li><li><p id="change-0.6beta1-38"><span class="yiyi-st" id="yiyi-1337"><span class="target" id="change-2234986f2a344f994dd47e033a358adf"><strong>[sql] </strong></span>the Binary type now returns data as a Python string (or a &#x201C;bytes&#x201D; type in Python 3), instead of the built- in &#x201C;buffer&#x201D; type. </span><span class="yiyi-st" id="yiyi-1338">&#x8FD9;&#x5141;&#x8BB8;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x7684;&#x5BF9;&#x79F0;&#x5F80;&#x8FD4;&#x884C;&#x7A0B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2234986f2a344f994dd47e033a358adf">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1339">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1524">&#xFF03;1524</a></span></p></li><li><p id="change-0.6beta1-39"><span class="yiyi-st" id="yiyi-1340"><span class="target" id="change-d289821e49dd5b365135f2c232b5cf05"><strong>[sql] </strong></span>&#x6DFB;&#x52A0;&#x4E86;tuple_()&#x6784;&#x9020;&#xFF0C;&#x5141;&#x8BB8;&#x5C06;&#x8868;&#x8FBE;&#x5F0F;&#x96C6;&#x4E0E;&#x53E6;&#x4E00;&#x4E2A;&#x96C6;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF0C;&#x901A;&#x5E38;&#x4F7F;&#x7528;IN&#x5BF9;&#x590D;&#x5408;&#x4E3B;&#x952E;&#x6216;&#x7C7B;&#x4F3C;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x3002;</span><span class="yiyi-st" id="yiyi-1341">&#x8FD8;&#x63A5;&#x53D7;&#x5177;&#x6709;&#x591A;&#x4E2A;&#x5217;&#x7684;IN&#x3002;</span><span class="yiyi-st" id="yiyi-1342">&#x201C;&#x6807;&#x91CF;&#x9009;&#x62E9;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x5217;&#x201D;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x88AB;&#x5220;&#x9664; - &#x5C06;&#x4F9D;&#x8D56;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x6765;&#x62A5;&#x544A;&#x4E0E;col&#x4E0D;&#x5339;&#x914D;&#x7684;&#x95EE;&#x9898;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d289821e49dd5b365135f2c232b5cf05">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-40"><span class="yiyi-st" id="yiyi-1343"><span class="target" id="change-d00d40f3ec5206589179af88c62a6276"><strong>[sql] </strong></span>User-defined &#x201C;default&#x201D; and &#x201C;onupdate&#x201D; callables which accept a context should now call upon &#x201C;context.current_parameters&#x201D; to get at the dictionary of bind parameters currently being processed. </span><span class="yiyi-st" id="yiyi-1344">&#x65E0;&#x8BBA;&#x662F;&#x5355;&#x6267;&#x884C;&#x8FD8;&#x662F;&#x6267;&#x884C;&#x8BED;&#x53E5;&#x6267;&#x884C;&#xFF0C;&#x8BE5;&#x5B57;&#x5178;&#x90FD;&#x53EF;&#x4EE5;&#x4EE5;&#x76F8;&#x540C;&#x65B9;&#x5F0F;&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d00d40f3ec5206589179af88c62a6276">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-41"><span class="yiyi-st" id="yiyi-1345"><span class="target" id="change-7d51e4139db389357f578e2a93a26383"><strong>[sql] </strong></span>multi-part schema names, i.e. with dots such as &#x201C;dbo.master&#x201D;, are now rendered in select() labels with underscores for dots, i.e. &#x201C;dbo_master_table_column&#x201D;. </span><span class="yiyi-st" id="yiyi-1346">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x201C;&#x53CB;&#x597D;&#x201D;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x5728;&#x7ED3;&#x679C;&#x96C6;&#x4E2D;&#x8868;&#x73B0;&#x66F4;&#x597D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7d51e4139db389357f578e2a93a26383">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1347">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1428">&#xFF03;1428</a></span></p></li><li><p id="change-0.6beta1-42"><span class="yiyi-st" id="yiyi-1348"><span class="target" id="change-37c425d83297ecedcb415b054cbfb50d"><strong>[sql] </strong></span>removed needless &#x201C;counter&#x201D; behavior with select() labelnames that match a column name in the table, i.e. generates &#x201C;tablename_id&#x201D; for &#x201C;id&#x201D;, instead of &#x201C;tablename_id_1&#x201D; in an attempt to avoid naming conflicts, when the table has a column actually named &#x201C;tablename_id&#x201D; - this is because the labeling logic is always applied to all columns so a naming conflict will never occur.<a class="changeset-link headerlink reference internal" href="#change-37c425d83297ecedcb415b054cbfb50d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-43"><span class="yiyi-st" id="yiyi-1349"><span class="target" id="change-1577657989ab5d5a2f90784ad84ebc9c"><strong>[sql] </strong></span>calling expr.in_([]), i.e. with an empty list, emits a warning before issuing the usual &#x201C;expr != expr&#x201D; clause. </span><span class="yiyi-st" id="yiyi-1350">&#x201C;expr&#xFF01;= expr&#x201D;&#x53EF;&#x80FD;&#x975E;&#x5E38;&#x6602;&#x8D35;&#xFF0C;&#x5982;&#x679C;&#x5217;&#x8868;&#x4E3A;&#x7A7A;&#xFF0C;&#x5219;&#x6700;&#x597D;&#x662F;&#x4E0D;&#x53D1;&#x51FA;in_()&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7B80;&#x5355;&#x5730;&#x67E5;&#x8BE2;&#x6216;&#x4FEE;&#x6539;&#x6807;&#x51C6;&#x4EE5;&#x9002;&#x5E94;&#x66F4;&#x590D;&#x6742;&#x7684;&#x60C5;&#x51B5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1577657989ab5d5a2f90784ad84ebc9c">&#xB6;&lt; / T0&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-1351">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1628">&#xFF03;1628</a></span></p></li><li><p id="change-0.6beta1-44"><span class="yiyi-st" id="yiyi-1352"><span class="target" id="change-68e1263644f8e10f85069545aa29651b"><strong>[sql] </strong></span>Added &#x201C;execution_options()&#x201D; to select()/text(), which set the default options for the Connection. </span><span class="yiyi-st" id="yiyi-1353">&#x8BF7;&#x53C2;&#x9605;&#x201C;&#x5F15;&#x64CE;&#x201D;&#x4E2D;&#x7684;&#x6CE8;&#x91CA;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-68e1263644f8e10f85069545aa29651b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-45"><span class="yiyi-st" id="yiyi-1354"><span class="target" id="change-75e0f1cc822ddf23d6706587c9fff333"><strong>[sql] </strong></span></span></p><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-1355">&#x5DF2;&#x5F03;&#x7528;&#x6216;&#x5DF2;&#x5220;&#x9664;&#xFF1A;</span></dt><dd><ul class="first last"><li><span class="yiyi-st" id="yiyi-1356">select()&#x4E0A;&#x7684;&#x201C;&#x6807;&#x91CF;&#x201D;&#x6807;&#x5FD7;&#x88AB;&#x5220;&#x9664;&#xFF0C;&#x4F7F;&#x7528;select.as_scalar()&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1357">bindparam()&#x4E0A;&#x7684;&#x201C;shortname&#x201D;&#x5C5E;&#x6027;&#x88AB;&#x5220;&#x9664;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1358">postgres_returning&#xFF0C;insert()&#xFF0C;update()&#xFF0C;delete()&#x4E0A;&#x7684;firebird_returning&#x6807;&#x5FD7;&#x90FD;&#x88AB;&#x5F03;&#x7528;&#xFF0C;&#x4F7F;&#x7528;&#x65B0;&#x7684;&#x8FD4;&#x56DE;()&#x65B9;&#x6CD5;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1359">&#x52A0;&#x5165;&#x65F6;&#x7684;fold_equivalents&#x6807;&#x5FD7;&#x5DF2;&#x88AB;&#x5F03;&#x7528;&#xFF08;&#x5C06;&#x4FDD;&#x6301;&#x5230;&#x5B9E;&#x65BD;&#xFF09;</span></li></ul></dd></dl><span class="yiyi-st" id="yiyi-1361"> <a class="changeset-link headerlink reference internal" href="#change-75e0f1cc822ddf23d6706587c9fff333">&#xB6;</a></span><p><span class="yiyi-st" id="yiyi-1360">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1131">&#xFF03;1131</a></span></p></li></ul></div><div class="section" id="change-0.6beta1-schema"><h3><span class="yiyi-st" id="yiyi-1362">&#x67B6;&#x6784;<a class="headerlink" href="#change-0.6beta1-schema" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta1-46"><span class="yiyi-st" id="yiyi-1363"><span class="target" id="change-ff302fdf3eae53485eaf643550894fce"><strong>[schema] </strong></span> <cite>MetaData</cite>&#x7684;<cite>__&#x5305;&#x542B;__()</cite>&#x65B9;&#x6CD5;&#x73B0;&#x5728;&#x63A5;&#x53D7;&#x5B57;&#x7B26;&#x4E32;&#x6216;<cite>&#x8868;</cite>&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-1364">&#x5982;&#x679C;&#x7ED9;&#x5B9A;<cite>&#x8868;</cite>&#xFF0C;&#x5219;&#x9996;&#x5148;&#x5C06;&#x53C2;&#x6570;&#x8F6C;&#x6362;&#x4E3A;<cite>table.key</cite>&#xFF0C;&#x5373;</span><span class="yiyi-st" id="yiyi-1365">&#x201C;[SCHEMANAME&#x3002;</span><span class="yiyi-st" id="yiyi-1366">] <tablename>&#x201D; <a class="changeset-link headerlink reference internal" href="#change-ff302fdf3eae53485eaf643550894fce">&#xB6; T1&gt;  T0&gt;</a></tablename></span></p><p><span class="yiyi-st" id="yiyi-1367">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1541">&#xFF03;1541</a></span></p></li><li><p id="change-0.6beta1-47"><span class="yiyi-st" id="yiyi-1368"><span class="target" id="change-a9146fbceff794c8fb5012e08c8f2197"><strong>[schema] </strong></span>deprecated MetaData.connect() and ThreadLocalMetaData.connect() have been removed - send the &#x201C;bind&#x201D; attribute to bind a metadata.<a class="changeset-link headerlink reference internal" href="#change-a9146fbceff794c8fb5012e08c8f2197">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-48"><span class="yiyi-st" id="yiyi-1369"><span class="target" id="change-d414bfe8495de9441bb1bf9a225a8196"><strong>[schema] </strong></span>&#x4E0D;&#x8D5E;&#x6210;&#x4F7F;&#x7528;metadata.table_iterator()&#x65B9;&#x6CD5;&#xFF08;&#x4F7F;&#x7528;sorted_tables&#xFF09;<a class="changeset-link headerlink reference internal" href="#change-d414bfe8495de9441bb1bf9a225a8196">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-49"><span class="yiyi-st" id="yiyi-1370"><span class="target" id="change-bc8dd4045ac44c12d17016986c52e8a4"><strong>[schema] </strong></span>&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;PassiveDefault  - &#x4F7F;&#x7528;DefaultClause&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bc8dd4045ac44c12d17016986c52e8a4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-50"><span class="yiyi-st" id="yiyi-1371"><span class="target" id="change-6438f724479e0e0d1cc699f14e1cd25b"><strong>[schema] </strong></span>the &#x201C;metadata&#x201D; argument is removed from DefaultGenerator and subclasses, but remains locally present on Sequence, which is a standalone construct in DDL.<a class="changeset-link headerlink reference internal" href="#change-6438f724479e0e0d1cc699f14e1cd25b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-51"><span class="yiyi-st" id="yiyi-1372"><span class="target" id="change-1289d6e528c69ff4828bd5851baaeb61"><strong>[schema] </strong></span>&#x4ECE;Index&#x548C;Constraint&#x5BF9;&#x8C61;&#x4E2D;&#x5220;&#x9664;&#x4E86;&#x516C;&#x5171;&#x53EF;&#x53D8;&#x6027;&#xFF1A;</span></p><blockquote><div><ul><li><span class="yiyi-st" id="yiyi-1373">ForeignKeyConstraint.append_element()</span></li><li><span class="yiyi-st" id="yiyi-1374">Index.append_column()</span></li><li><span class="yiyi-st" id="yiyi-1375">UniqueConstraint.append_column()</span></li><li><span class="yiyi-st" id="yiyi-1376">PrimaryKeyConstraint.add()</span></li><li><span class="yiyi-st" id="yiyi-1377">PrimaryKeyConstraint.remove()</span></li></ul></div></blockquote><p><span class="yiyi-st" id="yiyi-1378">&#x8FD9;&#x4E9B;&#x5E94;&#x8BE5;&#x4EE5;&#x58F0;&#x660E;&#x65B9;&#x5F0F;&#x6784;&#x5EFA;&#xFF08;&#x5373;&#x5728;&#x4E00;&#x4E2A;&#x6784;&#x9020;&#x4E2D;&#xFF09;&#x3002;</span></p><span class="yiyi-st" id="yiyi-1379"> <a class="changeset-link headerlink reference internal" href="#change-1289d6e528c69ff4828bd5851baaeb61">&#xB6;</a></span><p></p></li><li><p id="change-0.6beta1-52"><span class="yiyi-st" id="yiyi-1380"><span class="target" id="change-ffb3a65d9b8484533b1fb233f819985e"><strong>[schema] </strong></span> Sequence&#x4E0A;&#x7684;&#x201C;start&#x201D;&#x548C;&#x201C;increment&#x201D;&#x5C5E;&#x6027;&#x73B0;&#x5728;&#x9ED8;&#x8BA4;&#x5728;Oracle&#x548C;Postgresql&#x4E0A;&#x751F;&#x6210;&#x201C;START WITH&#x201D;&#x548C;&#x201C;INCREMENT BY&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1381">Firebird&#x73B0;&#x5728;&#x4E0D;&#x652F;&#x6301;&#x8FD9;&#x4E9B;&#x5173;&#x952E;&#x5B57;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ffb3a65d9b8484533b1fb233f819985e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1382">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1545">&#xFF03;1545</a></span></p></li><li><p id="change-0.6beta1-53"><span class="yiyi-st" id="yiyi-1383"><span class="target" id="change-a8942fa6a4323b73e46a368c718b08e8"><strong>[schema] </strong></span> UniqueConstraint&#xFF0C;Index&#xFF0C;PrimaryKeyConstraint&#x90FD;&#x63A5;&#x53D7;&#x5217;&#x540D;&#x6216;&#x5217;&#x5BF9;&#x8C61;&#x5217;&#x8868;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a8942fa6a4323b73e46a368c718b08e8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-54"><span class="yiyi-st" id="yiyi-1384"><span class="target" id="change-9888d956fff0bd32aa9a418e14e7df29"><strong>[schema] </strong></span></span></p><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-1385">&#x5176;&#x4ED6;&#x5220;&#x9664;&#x7684;&#x4E1C;&#x897F;&#xFF1A;</span></dt><dd><ul class="first last"><li><span class="yiyi-st" id="yiyi-1386">Table.key&#xFF08;&#x4E0D;&#x77E5;&#x9053;&#x8FD9;&#x662F;&#x4EC0;&#x4E48;&#xFF09;</span></li><li><span class="yiyi-st" id="yiyi-1387">Table.primary_key&#x4E0D;&#x53EF;&#x5206;&#x914D; - &#x4F7F;&#x7528;table.append_constraint&#xFF08;PrimaryKeyConstraint&#xFF08;...&#xFF09;&#xFF09;</span></li><li><span class="yiyi-st" id="yiyi-1388">Column.bind&#xFF08;&#x901A;&#x8FC7;column.table.bind&#x83B7;&#x53D6;&#xFF09;</span></li><li><span class="yiyi-st" id="yiyi-1389">Column.metadata&#xFF08;&#x901A;&#x8FC7;column.table.metadata&#x83B7;&#x53D6;&#xFF09;</span></li><li><span class="yiyi-st" id="yiyi-1390">Column.sequence&#xFF08;&#x4F7F;&#x7528;column.default&#xFF09;</span></li><li><span class="yiyi-st" id="yiyi-1391">ForeignKey&#xFF08;&#x7EA6;&#x675F;= some_parent&#xFF09;&#xFF08;&#x73B0;&#x5728;&#x662F;&#x79C1;&#x4EBA;_constraint&#xFF09;</span></li></ul></dd></dl><span class="yiyi-st" id="yiyi-1392"> <a class="changeset-link headerlink reference internal" href="#change-9888d956fff0bd32aa9a418e14e7df29">&#xB6;</a></span><p></p></li><li><p id="change-0.6beta1-55"><span class="yiyi-st" id="yiyi-1393"><span class="target" id="change-45384a58304926e78dbc93a8bc4bdbea"><strong>[schema] </strong></span> ForeignKey&#x4E0A;&#x7684;use_alter&#x6807;&#x5FD7;&#x73B0;&#x5728;&#x662F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;DDL()&#x4E8B;&#x4EF6;&#x7CFB;&#x7EDF;&#x624B;&#x52A8;&#x6784;&#x5EFA;&#x7684;&#x64CD;&#x4F5C;&#x7684;&#x5FEB;&#x6377;&#x9009;&#x9879;&#x3002;</span><span class="yiyi-st" id="yiyi-1394">A side effect of this refactor is that ForeignKeyConstraint objects with use_alter=True will <em>not</em> be emitted on SQLite, which does not support ALTER for foreign keys.<a class="changeset-link headerlink reference internal" href="#change-45384a58304926e78dbc93a8bc4bdbea">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-56"><span class="yiyi-st" id="yiyi-1395"><span class="target" id="change-39be51b87c7530f3281ae5dc05fc5294"><strong>[schema] </strong></span>&#x73B0;&#x5728;&#xFF0C;ForeignKey&#x548C;ForeignKeyConstraint&#x5BF9;&#x8C61;&#x6B63;&#x786E;&#x5730;copy()&#x6240;&#x6709;&#x516C;&#x5171;&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-39be51b87c7530f3281ae5dc05fc5294">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1396">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1605">&#xFF03;1605</a></span></p></li></ul></div><div class="section" id="change-0.6beta1-postgresql"><h3><span class="yiyi-st" id="yiyi-1397">&#x7684;PostgreSQL <a class="headerlink" href="#change-0.6beta1-postgresql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta1-57"><span class="yiyi-st" id="yiyi-1398"><span class="target" id="change-8e276ba771e1923acab769effd7fdebf"><strong>[postgresql] </strong></span>&#x65B0;&#x7684;&#x65B9;&#x8A00;&#xFF1A;py3k&#x4E0A;&#x7684;pg8000&#xFF0C;zxjdbc&#x548C;pypostgresql&#x3002;<a class="changeset-link headerlink reference internal" href="#change-8e276ba771e1923acab769effd7fdebf">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-58"><span class="yiyi-st" id="yiyi-1399"><span class="target" id="change-0ce9ee480a5a66cb9f77e0207f6dfc70"><strong>[postgresql] </strong></span>&#x201C;postgres&#x201D;&#x65B9;&#x8A00;&#x73B0;&#x5728;&#x88AB;&#x547D;&#x540D;&#x4E3A;&#x201C;postgresql&#x201D;&#xFF01;</span><span class="yiyi-st" id="yiyi-1400">&#x8FDE;&#x63A5;&#x5B57;&#x7B26;&#x4E32;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</span></p><blockquote><div><blockquote><div><span class="yiyi-st" id="yiyi-1401">postgresql&#xFF1A;// scott&#xFF1A;tiger @ localhost / test postgresql + pg8000&#xFF1A;// scott&#xFF1A;tiger @ localhost / test</span></div></blockquote><p><span class="yiyi-st" id="yiyi-1402">&#x201C;postgres&#x201D;&#x7684;&#x540D;&#x5B57;&#x4ECD;&#x7136;&#x4EE5;&#x4E0B;&#x5217;&#x65B9;&#x5F0F;&#x5411;&#x540E;&#x517C;&#x5BB9;&#xFF1A;</span></p><blockquote><div><ul><li><span class="yiyi-st" id="yiyi-1403">&#x6709;&#x4E00;&#x4E2A;&#x201C;postgres.py&#x201D;&#x865A;&#x62DF;&#x65B9;&#x8A00;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x65E7;&#x7684;URL&#x5DE5;&#x4F5C;&#xFF0C;&#x5373;postgres&#xFF1A;// scott&#xFF1A;tiger @ localhost / test</span></li><li><span class="yiyi-st" id="yiyi-1404">&#x53EF;&#x4EE5;&#x4ECE;&#x65E7;&#x7684;&#x201C;&#x6570;&#x636E;&#x5E93;&#x201D;&#x6A21;&#x5757;&#x4E2D;&#x5BFC;&#x5165;&#x201C;postgres&#x201D;&#x540D;&#x79F0;&#xFF0C;&#x5373;&#x4ECE;&#x201C;sqlalchemy.databases import postgres&#x201D;&#x4EE5;&#x53CA;&#x201C;&#x65B9;&#x8A00;&#x201D;&#xFF0C;&#x201C;from sqlalchemy.dialects.postgres import base as pg&#x201D;&#xFF0C;&#x5C06;&#x53D1;&#x9001;&#x5F03;&#x7528;&#x8B66;&#x544A;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1405">&#x73B0;&#x5728;&#x7279;&#x6B8A;&#x8868;&#x8FBE;&#x5F0F;&#x53C2;&#x6570;&#x88AB;&#x547D;&#x540D;&#x4E3A;&#x201C;postgresql_returning&#x201D;&#x548C;&#x201C;postgresql_where&#x201D;&#xFF0C;&#x4F46;&#x8F83;&#x65E7;&#x7684;&#x201C;postgres_returning&#x201D;&#x548C;&#x201C;postgres_where&#x201D;&#x540D;&#x79F0;&#x4ECD;&#x7136;&#x9002;&#x7528;&#x4E8E;&#x5F03;&#x7528;&#x8B66;&#x544A;&#x3002;</span></li></ul></div></blockquote></div></blockquote><span class="yiyi-st" id="yiyi-1406"> <a class="changeset-link headerlink reference internal" href="#change-0ce9ee480a5a66cb9f77e0207f6dfc70">&#xB6;</a></span><p></p></li><li><p id="change-0.6beta1-59"><span class="yiyi-st" id="yiyi-1407"><span class="target" id="change-32e87704d92335d84d218fb1a739484d"><strong>[postgresql] </strong></span>&#x201C;postgresql_where&#x201D;&#x73B0;&#x5728;&#x63A5;&#x53D7;SQL&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8BE5;&#x8868;&#x8FBE;&#x5F0F;&#x8FD8;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x6587;&#x5B57;&#xFF0C;&#x8FD9;&#x4E9B;&#x6587;&#x5B57;&#x5C06;&#x6839;&#x636E;&#x9700;&#x8981;&#x5F15;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-32e87704d92335d84d218fb1a739484d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-60"><span class="yiyi-st" id="yiyi-1408"><span class="target" id="change-eb44c66b3b7d732aeac35e9d8ea81bdc"><strong>[postgresql] </strong></span> psycopg2&#x65B9;&#x8A00;&#x73B0;&#x5728;&#x5728;&#x6240;&#x6709;&#x65B0;&#x8FDE;&#x63A5;&#x4E0A;&#x4F7F;&#x7528;psycopg2&#x7684;&#x201C;unicode&#x6269;&#x5C55;&#x201D;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x6240;&#x6709;&#x7684;String / Text /&#x7B49;&#x3002;</span><span class="yiyi-st" id="yiyi-1409">&#x7C7B;&#x578B;&#x4EE5;&#x907F;&#x514D;&#x9700;&#x8981;&#x5C06;&#x5B57;&#x8282;&#x4E32;&#x540E;&#x5904;&#x7406;&#x5230;unicode&#xFF08;&#x7531;&#x4E8E;&#x5176;&#x4F53;&#x79EF;&#x800C;&#x5BFC;&#x81F4;&#x7684;&#x6602;&#x8D35;&#x6B65;&#x9AA4;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-1410">&#x672C;&#x5730;&#x8FD4;&#x56DE;unicode&#x7684;&#x5176;&#x4ED6;&#x65B9;&#x8A00;&#xFF08;pg8000&#xFF0C;zxjdbc&#xFF09;&#x4E5F;&#x4F1A;&#x8DF3;&#x8FC7;unicode&#x540E;&#x671F;&#x5904;&#x7406;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-eb44c66b3b7d732aeac35e9d8ea81bdc">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-61"><span class="yiyi-st" id="yiyi-1411"><span class="target" id="change-38d3d336ce046ae00fc5d2a0a17fae47"><strong>[postgresql] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;ENUM&#x7C7B;&#x578B;&#xFF0C;&#x8BE5;&#x7C7B;&#x578B;&#x4F5C;&#x4E3A;&#x6A21;&#x5F0F;&#x7EA7;&#x7ED3;&#x6784;&#x5B58;&#x5728;&#x5E76;&#x6269;&#x5C55;&#x4E86;&#x6CDB;&#x578B;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1412">&#x81EA;&#x52A8;&#x5C06;&#x81EA;&#x8EAB;&#x4E0E;&#x8868;&#x53CA;&#x5176;&#x7236;&#x5143;&#x6570;&#x636E;&#x76F8;&#x5173;&#x8054;&#xFF0C;&#x4EE5;&#x6839;&#x636E;&#x9700;&#x8981;&#x53D1;&#x51FA;&#x9002;&#x5F53;&#x7684;CREATE TYPE / DROP TYPE&#x547D;&#x4EE4;&#xFF0C;&#x652F;&#x6301;unicode&#x6807;&#x7B7E;&#xFF0C;&#x652F;&#x6301;&#x53CD;&#x5C04;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-38d3d336ce046ae00fc5d2a0a17fae47">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1413">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1511">&#xFF03;1511</a></span></p></li><li><p id="change-0.6beta1-62"><span class="yiyi-st" id="yiyi-1414"><span class="target" id="change-0efdc52b41c7cbb4edde516d0cf35ebd"><strong>[postgresql] </strong></span> INTERVAL&#x652F;&#x6301;&#x4E0E;PG&#x63A5;&#x53D7;&#x7684;&#x53C2;&#x6570;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x53EF;&#x9009;&#x201C;precision&#x201D;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0efdc52b41c7cbb4edde516d0cf35ebd">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-63"><span class="yiyi-st" id="yiyi-1415"><span class="target" id="change-ce8ff886d9ea060a749895bb38ba108c"><strong>[postgresql] </strong></span>&#x4F7F;&#x7528;&#x65B0;&#x7684;dialect.initialize()&#x529F;&#x80FD;&#x8BBE;&#x7F6E;&#x4F9D;&#x8D56;&#x4E8E;&#x7248;&#x672C;&#x7684;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ce8ff886d9ea060a749895bb38ba108c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-64"><span class="yiyi-st" id="yiyi-1416"><span class="target" id="change-525b22121367b91b5ed308272c08ce24"><strong>[postgresql] </strong></span>somewhat better support for % signs in table/column names; psycopg2 can&#x2019;t handle a bind parameter name of %(foobar)s however and SQLA doesn&#x2019;t want to add overhead just to treat that one non-existent use case.<a class="changeset-link headerlink reference internal" href="#change-525b22121367b91b5ed308272c08ce24">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1417">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1279">&#xFF03;1279</a></span></p></li><li><p id="change-0.6beta1-65"><span class="yiyi-st" id="yiyi-1418"><span class="target" id="change-4fe9c121af9d9045fdae2cb23d04a9bd"><strong>[postgresql] </strong></span>&#x5C06;NULL&#x63D2;&#x5165;&#x5230;&#x4E3B;&#x952E;+&#x5916;&#x952E;&#x5217;&#x4E2D;&#x5C06;&#x5141;&#x8BB8;&#x5F15;&#x53D1;&#x201C;not null constraint&#x201D;&#x9519;&#x8BEF;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5C1D;&#x8BD5;&#x6267;&#x884C;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x201C;col_id_seq&#x201D;&#x5E8F;&#x5217;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4fe9c121af9d9045fdae2cb23d04a9bd">&#xB6; T2&gt;</a></span></p><p><span class="yiyi-st" id="yiyi-1419">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1516">&#xFF03;1516</a></span></p></li><li><p id="change-0.6beta1-66"><span class="yiyi-st" id="yiyi-1420"><span class="target" id="change-cf8ec160ec789b23afbd8a5fffd65a67"><strong>[postgresql] </strong></span> autoincrement SELECT&#x8BED;&#x53E5;&#xFF0C;&#x5373;&#x4ECE;&#x4FEE;&#x6539;&#x884C;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x9009;&#x62E9;&#x7684;&#x8BED;&#x53E5;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6E38;&#x6807;&#x6A21;&#x5F0F;&#x4E0B;&#x5DE5;&#x4F5C;&#xFF08;&#x6307;&#x5B9A;&#x7684;&#x6E38;&#x6807;&#x4E0D;&#x7528;&#x4E8E;&#x8FD9;&#x79CD;&#x8BED;&#x53E5;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cf8ec160ec789b23afbd8a5fffd65a67">&#xB6;  T2&gt;</a></span></p><p></p></li><li><p id="change-0.6beta1-67"><span class="yiyi-st" id="yiyi-1421"><span class="target" id="change-b98cc90c64cb3bba3ab1bda67c0d1dbd"><strong>[postgresql] </strong></span>postgresql dialect can properly detect pg &#x201C;devel&#x201D; version strings, i.e. &#x201C;8.5devel&#x201D;<a class="changeset-link headerlink reference internal" href="#change-b98cc90c64cb3bba3ab1bda67c0d1dbd">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1422">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1636">&#xFF03;1636</a></span></p></li><li><p id="change-0.6beta1-68"><span class="yiyi-st" id="yiyi-1423"><span class="target" id="change-df47fe2890dbf80af0c731002686995e"><strong>[postgresql] </strong></span> psycopg2&#x73B0;&#x5728;&#x9075;&#x5B88;&#x8BED;&#x53E5;&#x9009;&#x9879;&#x201C;stream_results&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1424">&#x8BE5;&#x9009;&#x9879;&#x5C06;&#x8986;&#x76D6;&#x8FDE;&#x63A5;&#x8BBE;&#x7F6E;&#x201C;server_side_cursors&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1425">&#x5982;&#x679C;&#x4E3A;true&#xFF0C;&#x5219;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6E38;&#x6807;&#x5C06;&#x7528;&#x4E8E;&#x8BE5;&#x8BED;&#x53E5;&#x3002;</span><span class="yiyi-st" id="yiyi-1426">&#x5982;&#x679C;&#x4E3A;false&#xFF0C;&#x5373;&#x4F7F;&#x8FDE;&#x63A5;&#x4E0A;&#x7684;&#x201C;server_side_cursors&#x201D;&#x4E3A;&#x771F;&#xFF0C;&#x5B83;&#x4EEC;&#x4E5F;&#x4E0D;&#x4F1A;&#x88AB;&#x4F7F;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-df47fe2890dbf80af0c731002686995e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1427">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1619">&#xFF03;1619</a></span></p></li></ul></div><div class="section" id="change-0.6beta1-mysql"><h3><span class="yiyi-st" id="yiyi-1428">MySQL&#x7684;<a class="headerlink" href="#change-0.6beta1-mysql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta1-69"><span class="yiyi-st" id="yiyi-1429"><span class="target" id="change-7a47739bb4cdfd029d2ad396df7e6bd3"><strong>[mysql] </strong></span>New dialects: oursql, a new native dialect, MySQL Connector/Python, a native Python port of MySQLdb, and of course zxjdbc on Jython.<a class="changeset-link headerlink reference internal" href="#change-7a47739bb4cdfd029d2ad396df7e6bd3">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-70"><span class="yiyi-st" id="yiyi-1430"><span class="target" id="change-7f170bebdb4d3fbbf03679e858799239"><strong>[mysql] </strong></span> VARCHAR / NVARCHAR&#x4E0D;&#x4F1A;&#x5728;&#x6CA1;&#x6709;&#x957F;&#x5EA6;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5448;&#x73B0;&#xFF0C;&#x5728;&#x4F20;&#x9012;&#x7ED9;MySQL&#x4E4B;&#x524D;&#x4F1A;&#x4EA7;&#x751F;&#x9519;&#x8BEF;&#x3002;</span><span class="yiyi-st" id="yiyi-1431">&#x4E0D;&#x5F71;&#x54CD;CAST&#xFF0C;&#x56E0;&#x4E3A;&#x65E0;&#x8BBA;&#x5982;&#x4F55;&#xFF0C;&#x5728;MySQL CAST&#x4E2D;&#x90FD;&#x4E0D;&#x5141;&#x8BB8;VARCHAR&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x65B9;&#x8A00;&#x5448;&#x73B0;CHAR / NCHAR&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7f170bebdb4d3fbbf03679e858799239">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-71"><span class="yiyi-st" id="yiyi-1432"><span class="target" id="change-5a1277f6fa3da9da056c0b6ab7278415"><strong>[mysql] </strong></span>all the _detect_XXX() functions now run once underneath dialect.initialize()<a class="changeset-link headerlink reference internal" href="#change-5a1277f6fa3da9da056c0b6ab7278415">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-72"><span class="yiyi-st" id="yiyi-1433"><span class="target" id="change-3392dd5483c5d3b9c1d83017e78bf58e"><strong>[mysql] </strong></span>somewhat better support for % signs in table/column names; MySQLdb can&#x2019;t handle % signs in SQL when executemany() is used, and SQLA doesn&#x2019;t want to add overhead just to treat that one non-existent use case.<a class="changeset-link headerlink reference internal" href="#change-3392dd5483c5d3b9c1d83017e78bf58e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1434">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1279">&#xFF03;1279</a></span></p></li><li><p id="change-0.6beta1-73"><span class="yiyi-st" id="yiyi-1435"><span class="target" id="change-5ecc352d1de84aa90c39746ab807efe1"><strong>[mysql] </strong></span>&#x5728;&#x6240;&#x6709;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;BINARY&#x548C;MSBinary&#x7C7B;&#x578B;&#x73B0;&#x5728;&#x90FD;&#x4F1A;&#x751F;&#x6210;&#x201C;BINARY&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1436">&#x7701;&#x7565;&#x201C;length&#x201D;&#x53C2;&#x6570;&#x5C06;&#x751F;&#x6210;&#x6CA1;&#x6709;&#x957F;&#x5EA6;&#x7684;&#x201C;BINARY&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1437">&#x4F7F;&#x7528;BLOB&#x751F;&#x6210;&#x672A;&#x7ECF;&#x4FEE;&#x6539;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x5217;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-5ecc352d1de84aa90c39746ab807efe1">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-74"><span class="yiyi-st" id="yiyi-1438"><span class="target" id="change-188cc3f410c74dcfcbee1067d88343f8"><strong>[mysql] </strong></span>&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;MSEnum / ENUM&#x7684;&#x201C;quoting =&apos;quoted&apos;&#x201D;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-1439">&#x6700;&#x597D;&#x4F9D;&#x9760;&#x81EA;&#x52A8;&#x5F15;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-188cc3f410c74dcfcbee1067d88343f8">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-75"><span class="yiyi-st" id="yiyi-1440"><span class="target" id="change-9857837ab57118c270956f183581049e"><strong>[mysql] </strong></span>&#x5982;&#x679C;&#x7ED9;&#x5B9A;&#x7684;&#x6807;&#x7B7E;&#x540D;&#x662F;unicode&#x5BF9;&#x8C61;&#xFF0C;ENUM&#x73B0;&#x5728;&#x5B50;&#x7C7B;&#x5316;&#x65B0;&#x7684;&#x6CDB;&#x578B;Enum&#x7C7B;&#x578B;&#xFF0C;&#x5E76;&#x4E14;&#x8FD8;&#x9690;&#x5F0F;&#x5904;&#x7406;unicode&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9857837ab57118c270956f183581049e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-76"><span class="yiyi-st" id="yiyi-1441"><span class="target" id="change-3a5af57ac623dd1f8cfef840898452b2"><strong>[mysql] </strong></span>&#x5982;&#x679C;&#x201C;nullable = False&#x201D;&#x6CA1;&#x6709;&#x4F20;&#x9012;&#x7ED9;Column()&#xFF0C;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x90A3;&#x4E48;TIMESTAMP&#x7C7B;&#x578B;&#x7684;&#x5217;&#x73B0;&#x5728;&#x9ED8;&#x8BA4;&#x4E3A;NULL&#x3002;</span><span class="yiyi-st" id="yiyi-1442">&#x73B0;&#x5728;&#x8FD9;&#x4E0E;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#x4E00;&#x81F4;&#xFF0C;&#x5E76;&#x4E14;&#x5728;TIMESTAMP&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7531;&#x4E8E;MySQL&#x5BF9;TIMESTAMP&#x5217;&#x7684;&#x9ED8;&#x8BA4;&#x53EF;&#x7A7A;&#x6027;&#x8FDB;&#x884C;&#x201C;&#x5207;&#x6362;&#x201D;&#xFF0C;&#x663E;&#x5F0F;&#x5448;&#x73B0;&#x201C;NULL&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3a5af57ac623dd1f8cfef840898452b2">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1443">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1539">&#xFF03;1539</a></span></p></li></ul></div><div class="section" id="change-0.6beta1-sqlite"><h3><span class="yiyi-st" id="yiyi-1444">&#x6E90;&#x7801;<a class="headerlink" href="#change-0.6beta1-sqlite" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta1-77"><span class="yiyi-st" id="yiyi-1445"><span class="target" id="change-cdd833e10180536b712d6cf4e72992c4"><strong>[sqlite] </strong></span> DATE&#xFF0C;TIME&#x548C;DATETIME&#x7C7B;&#x578B;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x53EF;&#x9009;&#x7684;storage_format&#x548C;regexp&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-1446">storage_format&#x53EF;&#x7528;&#x4E8E;&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;&#x6765;&#x5B58;&#x50A8;&#x8FD9;&#x4E9B;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1447">regexp&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x5339;&#x914D;&#x6765;&#x81EA;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x503C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-cdd833e10180536b712d6cf4e72992c4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-78"><span class="yiyi-st" id="yiyi-1448"><span class="target" id="change-f1b7d03a6b936597bce7908effb557cc"><strong>[sqlite] </strong></span>&#x73B0;&#x5728;&#xFF0C;Time&#x548C;DateTime&#x7C7B;&#x578B;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x66F4;&#x4E25;&#x683C;&#x7684;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x5339;&#x914D;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002;</span><span class="yiyi-st" id="yiyi-1449">&#x5982;&#x679C;&#x60A8;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x4EE5;&#x4F20;&#x7EDF;&#x683C;&#x5F0F;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;regexp&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f1b7d03a6b936597bce7908effb557cc">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-79"><span class="yiyi-st" id="yiyi-1450">SQLite&#x4E2D;&#x7684;<span class="target" id="change-c35f7a555ea6c9d52e60250e368f50dc"><strong>[sqlite] </strong></span> __ legacy_microseconds__ Time&#x548C;DateTime&#x7C7B;&#x578B;&#x4E0D;&#x518D;&#x53D7;&#x652F;&#x6301;&#x3002;</span><span class="yiyi-st" id="yiyi-1451">&#x60A8;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;storage_format&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c35f7a555ea6c9d52e60250e368f50dc">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-80"><span class="yiyi-st" id="yiyi-1452"><span class="target" id="change-7158af5ebe6bfe2924688710bf9d16c4"><strong>[sqlite] </strong></span>Date, Time and DateTime types are now stricter in what they accept as bind parameters: Date type only accepts date objects (and datetime ones, because they inherit from date), Time only accepts time objects, and DateTime only accepts date and datetime objects.<a class="changeset-link headerlink reference internal" href="#change-7158af5ebe6bfe2924688710bf9d16c4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-81"><span class="yiyi-st" id="yiyi-1453"><span class="target" id="change-24b4b7e7be9ca2ec058e2bb450f0cde1"><strong>[sqlite] </strong></span>Table() supports a keyword argument &#x201C;sqlite_autoincrement&#x201D;, which applies the SQLite keyword &#x201C;AUTOINCREMENT&#x201D; to the single integer primary key column when generating DDL. </span><span class="yiyi-st" id="yiyi-1454">&#x5C06;&#x9632;&#x6B62;&#x751F;&#x6210;&#x5355;&#x72EC;&#x7684;PRIMARY KEY&#x7EA6;&#x675F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-24b4b7e7be9ca2ec058e2bb450f0cde1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1455">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1016">&#xFF03;1016</a></span></p></li></ul></div><div class="section" id="change-0.6beta1-mssql"><h3><span class="yiyi-st" id="yiyi-1456">MSSQL <a class="headerlink" href="#change-0.6beta1-mssql" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta1-82"><span class="yiyi-st" id="yiyi-1457"><span class="target" id="change-57d985c44bc4a8846cafda5cde966ab5"><strong>[mssql] </strong></span> MSSQL + Pyodbc + FreeTDS&#x73B0;&#x5728;&#x5927;&#x90E8;&#x5206;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x80FD;&#x6709;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x548C;unicode&#x6A21;&#x5F0F;&#x6807;&#x8BC6;&#x7B26;&#x7684;&#x4F8B;&#x5916;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-57d985c44bc4a8846cafda5cde966ab5">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-83"><span class="yiyi-st" id="yiyi-1458"><span class="target" id="change-870c7f02908eaf9dd76a606a56561da7"><strong>[mssql] </strong></span>&#x201C;has_window_funcs&#x201D;&#x6807;&#x5FD7;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1459">LIMIT / OFFSET&#x7528;&#x6CD5;&#x5C06;&#x4E00;&#x76F4;&#x4F7F;&#x7528;ROW NUMBER&#xFF0C;&#x5982;&#x679C;&#x5728;&#x8F83;&#x65E9;&#x7248;&#x672C;&#x7684;SQL Server&#x4E0A;&#xFF0C;&#x5219;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&#x3002;</span><span class="yiyi-st" id="yiyi-1460">&#x884C;&#x4E3A;&#x662F;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x9664;&#x4E86;&#x9519;&#x8BEF;&#x662F;&#x7531;SQL&#x670D;&#x52A1;&#x5668;&#x800C;&#x4E0D;&#x662F;&#x65B9;&#x8A00;&#x5F15;&#x53D1;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x9700;&#x8981;&#x6807;&#x5FD7;&#x8BBE;&#x7F6E;&#x6765;&#x542F;&#x7528;&#x5B83;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-870c7f02908eaf9dd76a606a56561da7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-84"><span class="yiyi-st" id="yiyi-1461"><span class="target" id="change-83e8899feb9e875a26f54ec93b6d891e"><strong>[mssql] </strong></span>&#x201C;auto_identity_insert&#x201D;&#x6807;&#x5FD7;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1462">&#x5F53;INSERT&#x8BED;&#x53E5;&#x8986;&#x76D6;&#x5DF2;&#x77E5;&#x6709;&#x5E8F;&#x5217;&#x7684;&#x5217;&#x65F6;&#xFF0C;&#x6B64;&#x529F;&#x80FD;&#x59CB;&#x7EC8;&#x751F;&#x6548;&#x3002;</span><span class="yiyi-st" id="yiyi-1463">&#x4E0E;&#x201C;has_window_funcs&#x201D;&#x4E00;&#x6837;&#xFF0C;&#x5982;&#x679C;&#x5E95;&#x5C42;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x4E0D;&#x652F;&#x6301;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x4E0D;&#x80FD;&#x6267;&#x884C;&#x6B64;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x4EE5;&#x6CA1;&#x6709;&#x6807;&#x5FD7;&#x662F;&#x6CA1;&#x6709;&#x610F;&#x4E49;&#x7684;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-83e8899feb9e875a26f54ec93b6d891e">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-85"><span class="yiyi-st" id="yiyi-1464"><span class="target" id="change-ce8ff886d9ea060a749895bb38ba108c"><strong>[mssql] </strong></span>&#x4F7F;&#x7528;&#x65B0;&#x7684;dialect.initialize()&#x529F;&#x80FD;&#x8BBE;&#x7F6E;&#x7248;&#x672C;&#x4F9D;&#x8D56;&#x7684;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ce8ff886d9ea060a749895bb38ba108c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-86"><span class="yiyi-st" id="yiyi-1465"><span class="target" id="change-23bb79f6af16be836727eca4716407b3"><strong>[mssql] </strong></span>&#x5220;&#x9664;&#x4E86;&#x4E0D;&#x518D;&#x4F7F;&#x7528;&#x7684;&#x5E8F;&#x5217;&#x7684;&#x5F15;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-1466">mssql&#x4E2D;&#x7684;&#x9690;&#x5F0F;&#x6807;&#x8BC6;&#x4E0E;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x65B9;&#x8A00;&#x4E2D;&#x7684;&#x9690;&#x5F0F;&#x5E8F;&#x5217;&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x76F8;&#x540C;&#x3002;</span><span class="yiyi-st" id="yiyi-1467">&#x663E;&#x5F0F;&#x5E8F;&#x5217;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x201C;default = Sequence()&#x201D;&#x6765;&#x542F;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-1468">&#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;MSSQL&#x65B9;&#x8A00;&#x6587;&#x6863;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-23bb79f6af16be836727eca4716407b3">&#xB6;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6beta1-oracle"><h3><span class="yiyi-st" id="yiyi-1469">&#x9884;&#x8A00;<a class="headerlink" href="#change-0.6beta1-oracle" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta1-87"><span class="yiyi-st" id="yiyi-1470"><span class="target" id="change-113b8b0993a9fa2dc0b7edd4704fbb42"><strong>[oracle] </strong></span>&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x901A;&#x8FC7;cx_oracle 100&#xFF05;&#xFF01;<a class="changeset-link headerlink reference internal" href="#change-113b8b0993a9fa2dc0b7edd4704fbb42">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-88"><span class="yiyi-st" id="yiyi-1471"><span class="target" id="change-ab3ce587a20ea73535ae07213b287bd2"><strong>[oracle] </strong></span>&#x652F;&#x6301;cx_Oracle&#x7684;&#x201C;native unicode&#x201D;&#x6A21;&#x5F0F;&#xFF0C;&#x5B83;&#x4E0D;&#x9700;&#x8981;&#x8BBE;&#x7F6E;NLS_LANG&#x3002;</span><span class="yiyi-st" id="yiyi-1472">&#x4F7F;&#x7528;cx_oracle&#x7684;&#x6700;&#x65B0;5.0.2&#x6216;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ab3ce587a20ea73535ae07213b287bd2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-89"><span class="yiyi-st" id="yiyi-1473"><span class="target" id="change-b2948a9f95dde029f129261698424123"><strong>[oracle] </strong></span>&#x5C06;&#x4E00;&#x4E2A;NCLOB&#x7C7B;&#x578B;&#x6DFB;&#x52A0;&#x5230;&#x57FA;&#x7C7B;&#x578B;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-b2948a9f95dde029f129261698424123">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-90"><span class="yiyi-st" id="yiyi-1474"><span class="target" id="change-7ca8af81feacfd6b9f2ce42f5828e1a4"><strong>[oracle] </strong></span> use_ansi = False&#x4E0D;&#x4F1A;&#x6CC4;&#x9732;&#x5230;&#x4ECE;&#x4E5F;&#x4F7F;&#x7528;JOIN / OUTERJOIN&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x9009;&#x62E9;&#x7684;&#x8BED;&#x53E5;&#x7684;FROM / WHERE&#x5B50;&#x53E5;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7ca8af81feacfd6b9f2ce42f5828e1a4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-91"><span class="yiyi-st" id="yiyi-1475"><span class="target" id="change-393f3fb1ddbce4735e553646ae6233f1"><strong>[oracle] </strong></span>&#x4E3A;&#x65B9;&#x8A00;&#x6DFB;&#x52A0;&#x4E86;&#x672C;&#x5730;INTERVAL&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1476">&#x7531;&#x4E8E;&#x5728;YEAR TO MONTH&#x4E2D;&#x7F3A;&#x5C11;&#x5BF9;cx_oracle&#x7684;&#x652F;&#x6301;&#xFF0C;&#x76EE;&#x524D;&#x53EA;&#x652F;&#x6301;DAY TO SECOND&#x95F4;&#x9694;&#x7C7B;&#x578B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-393f3fb1ddbce4735e553646ae6233f1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1477">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1467">&#xFF03;1467</a></span></p></li><li><p id="change-0.6beta1-92"><span class="yiyi-st" id="yiyi-1478"><span class="target" id="change-0991def0de5a17cae52ca7d4d7bc71fe"><strong>[oracle] </strong></span>usage of the CHAR type results in cx_oracle&#x2019;s FIXED_CHAR dbapi type being bound to statements.<a class="changeset-link headerlink reference internal" href="#change-0991def0de5a17cae52ca7d4d7bc71fe">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-93"><span class="yiyi-st" id="yiyi-1479"><span class="target" id="change-17dc85d30f2488fe7b6895a6e18faf2d"><strong>[oracle] </strong></span>the Oracle dialect now features NUMBER which intends to act justlike Oracle&#x2019;s NUMBER type. </span><span class="yiyi-st" id="yiyi-1480">&#x5B83;&#x662F;&#x8868;&#x53CD;&#x5C04;&#x8FD4;&#x56DE;&#x7684;&#x4E3B;&#x8981;&#x6570;&#x503C;&#x7C7B;&#x578B;&#xFF0C;&#x5E76;&#x5C1D;&#x8BD5;&#x6839;&#x636E;&#x7CBE;&#x5EA6;/&#x6BD4;&#x4F8B;&#x53C2;&#x6570;&#x8FD4;&#x56DE;Decimal()/ float / int&#x3002;<a class="changeset-link headerlink reference internal" href="#change-17dc85d30f2488fe7b6895a6e18faf2d">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1481">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/885">&#xFF03;885</a></span></p></li><li><p id="change-0.6beta1-94"><span class="yiyi-st" id="yiyi-1482"><span class="target" id="change-96d06864792feffb4a6a52695b5756ef"><strong>[oracle] </strong></span> func.char_length&#x662F;LENGTH <a class="changeset-link headerlink reference internal" href="#change-96d06864792feffb4a6a52695b5756ef">&#x7684;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x51FD;&#x6570;</a></span></p><p></p></li><li><p id="change-0.6beta1-95"><span class="yiyi-st" id="yiyi-1483"><span class="target" id="change-8736cc2e4e76ced8e037e0353686bc90"><strong>[oracle] </strong></span>ForeignKey() which includes onupdate=<value> will emit a warning, not emit ON UPDATE CASCADE which is unsupported by oracle<a class="changeset-link headerlink reference internal" href="#change-8736cc2e4e76ced8e037e0353686bc90">&#xB6;</a></value></span></p><p></p></li><li><p id="change-0.6beta1-96"><span class="yiyi-st" id="yiyi-1484">RowProxy()&#x7684;keys()&#x65B9;&#x6CD5;&#x73B0;&#x5728;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5217;&#x540D;&#x79F0;<em>normalized</em>&#xFF0C;&#x4F7F;&#x5176;&#x6210;&#x4E3A;SQLAlchemy&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x540D;&#x79F0;&#x3002;<span class="target" id="change-f427ca1185fb9a016f0a48f421816d0d"><strong>[oracle] </strong></span></span><span class="yiyi-st" id="yiyi-1485">&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5BF9;&#x4E8E;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x5B83;&#x4EEC;&#x5C06;&#x662F;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;&#xFF0C;&#x800C;DBAPI&#x901A;&#x5E38;&#x5C06;&#x5B83;&#x4EEC;&#x4F5C;&#x4E3A;&#x5927;&#x5199;&#x540D;&#x79F0;&#x8FD4;&#x56DE;&#x3002;</span><span class="yiyi-st" id="yiyi-1486">&#x8FD9;&#x5141;&#x8BB8;&#x884C;&#x952E;()&#x4E0E;&#x8FDB;&#x4E00;&#x6B65;&#x7684;SQLAlchemy&#x64CD;&#x4F5C;&#x517C;&#x5BB9;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f427ca1185fb9a016f0a48f421816d0d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-97"><span class="yiyi-st" id="yiyi-1487"><span class="target" id="change-ce8ff886d9ea060a749895bb38ba108c"><strong>[oracle] </strong></span>&#x4F7F;&#x7528;&#x65B0;&#x7684;dialect.initialize()&#x529F;&#x80FD;&#x8BBE;&#x7F6E;&#x7248;&#x672C;&#x76F8;&#x5173;&#x7684;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ce8ff886d9ea060a749895bb38ba108c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-98"><span class="yiyi-st" id="yiyi-1488"><span class="target" id="change-695adf4c5253eb83c2d4d5bd3288f373"><strong>[oracle] </strong></span>using types.BigInteger with Oracle will generate NUMBER(19)<a class="changeset-link headerlink reference internal" href="#change-695adf4c5253eb83c2d4d5bd3288f373">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1489">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1125">&#xFF03;1125</a></span></p></li><li><p id="change-0.6beta1-99"><span class="yiyi-st" id="yiyi-1490"><span class="target" id="change-10e463fe98ba913938ae4afeb008d31f"><strong>[oracle] </strong></span>&#x201C;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x201D;&#x529F;&#x80FD;&#x5C06;&#x5728;&#x53CD;&#x6620;&#x8FC7;&#x7A0B;&#x4E2D;&#x68C0;&#x6D4B;&#x5230;&#x5168;&#x5C0F;&#x5199;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x5217;&#x540D;&#x79F0;&#xFF0C;&#x5E76;&#x5C06;&#x201C;quote = True&#x201D;&#x6DFB;&#x52A0;&#x5230;&#x751F;&#x6210;&#x7684;&#x5217;&#x4E2D;&#xFF0C;&#x4EE5;&#x4FDD;&#x6301;&#x6B63;&#x786E;&#x7684;&#x5F15;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-10e463fe98ba913938ae4afeb008d31f">&#xB6; T2&gt;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6beta1-firebird"><h3><span class="yiyi-st" id="yiyi-1491">&#x706B;&#x9E1F;<a class="headerlink" href="#change-0.6beta1-firebird" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta1-100"><span class="yiyi-st" id="yiyi-1492">RowProxy()&#x7684;keys()&#x65B9;&#x6CD5;&#x73B0;&#x5728;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5217;&#x540D;&#x79F0;<em>&#x6807;&#x51C6;&#x5316;</em>&#xFF0C;&#x4F7F;&#x5176;&#x6210;&#x4E3A;SQLAlchemy&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x540D;&#x79F0;&#x3002;<span class="target" id="change-f427ca1185fb9a016f0a48f421816d0d"><strong>[firebird] </strong></span></span><span class="yiyi-st" id="yiyi-1493">&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5BF9;&#x4E8E;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x5B83;&#x4EEC;&#x5C06;&#x662F;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;&#xFF0C;&#x800C;DBAPI&#x901A;&#x5E38;&#x5C06;&#x5B83;&#x4EEC;&#x4F5C;&#x4E3A;&#x5927;&#x5199;&#x540D;&#x79F0;&#x8FD4;&#x56DE;&#x3002;</span><span class="yiyi-st" id="yiyi-1494">&#x8FD9;&#x5141;&#x8BB8;&#x884C;&#x952E;()&#x4E0E;&#x8FDB;&#x4E00;&#x6B65;&#x7684;SQLAlchemy&#x64CD;&#x4F5C;&#x517C;&#x5BB9;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-f427ca1185fb9a016f0a48f421816d0d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-101"><span class="yiyi-st" id="yiyi-1495"><span class="target" id="change-ce8ff886d9ea060a749895bb38ba108c"><strong>[firebird] </strong></span>&#x4F7F;&#x7528;&#x65B0;&#x7684;dialect.initialize()&#x529F;&#x80FD;&#x8BBE;&#x7F6E;&#x7248;&#x672C;&#x76F8;&#x5173;&#x7684;&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ce8ff886d9ea060a749895bb38ba108c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-102"><span class="yiyi-st" id="yiyi-1496"><span class="target" id="change-10e463fe98ba913938ae4afeb008d31f"><strong>[firebird] </strong></span>&#x201C;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x201D;&#x529F;&#x80FD;&#x5C06;&#x5728;&#x53CD;&#x6620;&#x8FC7;&#x7A0B;&#x4E2D;&#x68C0;&#x6D4B;&#x5168;&#x5C0F;&#x5199;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x5217;&#x540D;&#x79F0;&#xFF0C;&#x5E76;&#x5C06;&#x201C;quote = True&#x201D;&#x6DFB;&#x52A0;&#x5230;&#x751F;&#x6210;&#x7684;&#x5217;&#x4E2D;&#xFF0C;&#x4EE5;&#x4FBF;&#x4FDD;&#x6301;&#x6B63;&#x786E;&#x7684;&#x5F15;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-10e463fe98ba913938ae4afeb008d31f">&#xB6; T2&gt;</a></span></p><p></p></li></ul></div><div class="section" id="change-0.6beta1-misc"><h3><span class="yiyi-st" id="yiyi-1497">&#x6742;&#x9879;<a class="headerlink" href="#change-0.6beta1-misc" title="Permalink to this headline">&#xB6; T0&gt;</a></span></h3><ul class="simple"><li><p id="change-0.6beta1-103"><span class="yiyi-st" id="yiyi-1498"><span class="target" id="change-c9d5768f02fc70a1c4200ea76ae3d312"><strong>[release] [major] </strong></span>&#x6709;&#x5173;&#x6574;&#x5957;&#x529F;&#x80FD;&#x63CF;&#x8FF0;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;<a class="reference external" href="http://docs.sqlalchemy.org/en/latest/changelog_migration_06.html">http://docs.sqlalchemy.org/en/latest/changelog_migration_06.html</a>&#x3002;</span><span class="yiyi-st" id="yiyi-1499">&#x8FD9;&#x4EFD;&#x6587;&#x4EF6;&#x662F;&#x4E00;&#x9879;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x4E2D;&#x7684;&#x5DE5;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c9d5768f02fc70a1c4200ea76ae3d312">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-104"><span class="yiyi-st" id="yiyi-1500"><span class="target" id="change-dca0b8a1f7cb8e1b45d9da364f11087f"><strong>[release] [major] </strong></span> 0.6&#x7248;&#x672C;&#x4E2D;&#x5305;&#x542B;&#x7684;&#x6240;&#x6709;bug&#x4FEE;&#x590D;&#x548C;&#x529F;&#x80FD;&#x589E;&#x5F3A;&#x90FD;&#x6765;&#x81EA;&#x6700;&#x65B0;&#x7684;0.5&#x7248;&#x672C;&#x53CA;&#x4EE5;&#x4E0B;&#x7248;&#x672C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-dca0b8a1f7cb8e1b45d9da364f11087f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-105"><span class="yiyi-st" id="yiyi-1501"><span class="target" id="change-7001ff18ae62ae8b4d16f9e25afcedbc"><strong>[release] [major] </strong></span>&#x76EE;&#x524D;&#x5B9A;&#x4F4D;&#x7684;&#x5E73;&#x53F0;&#x5305;&#x62EC;Python 2.4 / 2.5 / 2.6&#xFF0C;Python 3.1&#xFF0C;Jython2.5. <a class="changeset-link headerlink reference internal" href="#change-7001ff18ae62ae8b4d16f9e25afcedbc">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-106"><span class="yiyi-st" id="yiyi-1502"><span class="target" id="change-58e8499ff9cfdf3231dcf8c076a480fb"><strong>[engines] </strong></span>transaction isolation level may be specified with create_engine(... isolation_level=&#x201D;...&#x201D;); available on postgresql and sqlite.<a class="changeset-link headerlink reference internal" href="#change-58e8499ff9cfdf3231dcf8c076a480fb">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1503">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/443">&#xFF03;443</a></span></p></li><li><p id="change-0.6beta1-107"><span class="yiyi-st" id="yiyi-1504"><span class="target" id="change-ff2e47b0d631ce1a4cf0a598c8f24df2"><strong>[engines] </strong></span>&#x8FDE;&#x63A5;&#x6709;execution_options()&#xFF0C;&#x8FD9;&#x662F;&#x751F;&#x6210;&#x65B9;&#x6CD5;&#xFF0C;&#x5B83;&#x63A5;&#x53D7;&#x5F71;&#x54CD;&#x8BED;&#x53E5;&#x6267;&#x884C;&#x7684;&#x5173;&#x952E;&#x5B57;w.r.t.</span><span class="yiyi-st" id="yiyi-1505">DBAPI&#x3002;</span><span class="yiyi-st" id="yiyi-1506">&#x5F53;&#x524D;&#x652F;&#x6301;&#x201C;stream_results&#x201D;&#xFF0C;&#x5BFC;&#x81F4;psycopg2&#x4E3A;&#x8BE5;&#x8BED;&#x53E5;&#x4F7F;&#x7528;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6E38;&#x6807;&#xFF0C;&#x4EE5;&#x53CA;&#x201C;autocommit&#x201D;&#xFF0C;&#x5B83;&#x662F;select()&#x548C;text()&#x4E2D;&#x201C;autocommit&#x201D;&#x9009;&#x9879;&#x7684;&#x65B0;&#x4F4D;&#x7F6E;&#x3002;</span><span class="yiyi-st" id="yiyi-1507">select()&#x548C;text()&#x4E5F;&#x6709;.execution_options()&#x4EE5;&#x53CA;ORM Query()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ff2e47b0d631ce1a4cf0a598c8f24df2">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-108"><span class="yiyi-st" id="yiyi-1508"><span class="target" id="change-e139a9a5cd97f4d218b570024523f623"><strong>[engines] </strong></span>&#x4FEE;&#x590D;&#x4E86;&#x5165;&#x53E3;&#x70B9;&#x9A71;&#x52A8;&#x65B9;&#x8A00;&#x7684;&#x5BFC;&#x5165;&#xFF0C;&#x4E0D;&#x4F9D;&#x9760;&#x611A;&#x8822;&#x7684;tb_info&#x6280;&#x5DE7;&#x6765;&#x786E;&#x5B9A;&#x5BFC;&#x5165;&#x9519;&#x8BEF;&#x72B6;&#x6001;<a class="changeset-link headerlink reference internal" href="#change-e139a9a5cd97f4d218b570024523f623">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1509">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1630">&#xFF03;1630</a></span></p></li><li><p id="change-0.6beta1-109"><span class="yiyi-st" id="yiyi-1510"><span class="target" id="change-90c8f734ee1abef927dbda0035beb0a0"><strong>[engines] </strong></span>&#x5C06;first()&#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x5230;ResultProxy&#xFF0C;&#x8FD4;&#x56DE;&#x7B2C;&#x4E00;&#x884C;&#x5E76;&#x7ACB;&#x5373;&#x5173;&#x95ED;&#x7ED3;&#x679C;&#x96C6;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-90c8f734ee1abef927dbda0035beb0a0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-110"><span class="yiyi-st" id="yiyi-1511"><span class="target" id="change-9dbc573a39f6fcf29d1f3dd9858ce826"><strong>[engines] </strong></span>RowProxy objects are now pickleable, i.e. the object returned by result.fetchone(), result.fetchall() etc.<a class="changeset-link headerlink reference internal" href="#change-9dbc573a39f6fcf29d1f3dd9858ce826">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-111"><span class="yiyi-st" id="yiyi-1512"><span class="target" id="change-558e9b15b66e5afa84cb889e23f27300"><strong>[engines] </strong></span>RowProxy no longer has a close() method, as the row no longer maintains a reference to the parent. </span><span class="yiyi-st" id="yiyi-1513">&#x6539;&#x4E3A;&#x5728;&#x7236;&#x4EE3;ResultProxy&#x4E0A;&#x8C03;&#x7528;close()&#xFF0C;&#x6216;&#x4F7F;&#x7528;autoclose&#x3002;<a class="changeset-link headerlink reference internal" href="#change-558e9b15b66e5afa84cb889e23f27300">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-112"><span class="yiyi-st" id="yiyi-1514"><span class="target" id="change-ec1f0e67ce08a7a3f706dce2d3fbfae6"><strong>[engines] </strong></span>ResultProxy internals have been overhauled to greatly reduce method call counts when fetching columns. </span><span class="yiyi-st" id="yiyi-1515">&#x5728;&#x83B7;&#x53D6;&#x8F83;&#x5927;&#x7684;&#x7ED3;&#x679C;&#x96C6;&#x65F6;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x5F88;&#x5927;&#x7684;&#x901F;&#x5EA6;&#x63D0;&#x5347;&#xFF08;&#x9AD8;&#x8FBE;100&#xFF05;&#x4EE5;&#x4E0A;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-1516">&#x5F53;&#x63D0;&#x53D6;&#x6CA1;&#x6709;&#x5E94;&#x7528;&#x7C7B;&#x578B;&#x7EA7;&#x522B;&#x5904;&#x7406;&#x7684;&#x5217;&#x548C;&#x5C06;&#x7ED3;&#x679C;&#x7528;&#x4F5C;&#x5143;&#x7EC4;&#xFF08;&#x800C;&#x4E0D;&#x662F;&#x5B57;&#x5178;&#xFF09;&#x65F6;&#xFF0C;&#x8FD9;&#x79CD;&#x6539;&#x8FDB;&#x4F1A;&#x66F4;&#x5927;&#x3002;</span><span class="yiyi-st" id="yiyi-1517">&#x975E;&#x5E38;&#x611F;&#x8C22;Elixir&#x7684;Ga&#xEB;tande Menten&#x5BF9;&#x8FD9;&#x4E2A;&#x620F;&#x5267;&#x6027;&#x7684;&#x6539;&#x8FDB;&#xFF01;<a class="changeset-link headerlink reference internal" href="#change-ec1f0e67ce08a7a3f706dce2d3fbfae6">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1518">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1586">&#xFF03;1586</a></span></p></li><li><p id="change-0.6beta1-113"><span class="yiyi-st" id="yiyi-1519"><span class="target" id="change-647fd2ee66339752a6882b790cad9b87"><strong>[engines] </strong></span>&#x5F53;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x7EC4;&#x5408;&#x4E3B;&#x952E;&#x65F6;&#xFF0C;&#x4F9D;&#x8D56;&#x540E;&#x7F00;&#x201C;&#x6700;&#x540E;&#x63D2;&#x5165;&#x7684;id&#x201D;&#x83B7;&#x53D6;&#x751F;&#x6210;&#x7684;&#x5E8F;&#x5217;&#x503C;&#xFF08;&#x5373;MySQL&#xFF0C;MS-SQL&#xFF09;&#x7684;&#x6570;&#x636E;&#x5E93;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#xFF0C;&#x5176;&#x4E2D;&#x201C;&#x81EA;&#x52A8;&#x589E;&#x91CF;&#x201C;&#x5217;&#x4E0D;&#x662F;&#x8868;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x4E3B;&#x952E;&#x5217;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-647fd2ee66339752a6882b790cad9b87">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-114"><span class="yiyi-st" id="yiyi-1520"><span class="target" id="change-ab905cc7be5146eb11d1c1de8bd07df9"><strong>[engines] </strong></span> last_inserted_ids()&#x65B9;&#x6CD5;&#x5DF2;&#x88AB;&#x91CD;&#x547D;&#x540D;&#x4E3A;&#x63CF;&#x8FF0;&#x7B26;&#x201C;inserted_primary_key&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ab905cc7be5146eb11d1c1de8bd07df9">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-115"><span class="yiyi-st" id="yiyi-1521"><span class="target" id="change-2687369260aafbe26535c7f07241f7df"><strong>[engines] </strong></span>setting echo=False on create_engine() now sets the loglevel to WARN instead of NOTSET. </span><span class="yiyi-st" id="yiyi-1522">&#x8FD9;&#x6837;&#x5373;&#x4F7F;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x4E3A;&#x201C;sqlalchemy.engine&#x201D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7981;&#x7528;&#x7279;&#x5B9A;&#x5F15;&#x64CE;&#x7684;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x3002;</span><span class="yiyi-st" id="yiyi-1523">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x201C;echo&#x201D;&#x7684;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x662F;<cite>None</cite>&#x3002;<a class="changeset-link headerlink reference internal" href="#change-2687369260aafbe26535c7f07241f7df">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1524">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1554">&#xFF03;1554</a></span></p></li><li><p id="change-0.6beta1-116"><span class="yiyi-st" id="yiyi-1525"><span class="target" id="change-17f0cb7bf2b9ebfb365311e17d0bd7f4"><strong>[engines] </strong></span>ConnectionProxy now has wrapper methods for all transaction lifecycle events, including begin(), rollback(), commit() begin_nested(), begin_prepared(), prepare(), release_savepoint(), etc.<a class="changeset-link headerlink reference internal" href="#change-17f0cb7bf2b9ebfb365311e17d0bd7f4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-117"><span class="yiyi-st" id="yiyi-1526"><span class="target" id="change-1fe7fc3f57be368cd7f20fa804fa9056"><strong>[engines] </strong></span>&#x8FDE;&#x63A5;&#x6C60;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x73B0;&#x5728;&#x4F7F;&#x7528;INFO&#x548C;DEBUG&#x65E5;&#x5FD7;&#x7EA7;&#x522B;&#x8FDB;&#x884C;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x3002;</span><span class="yiyi-st" id="yiyi-1527">INFO&#x7528;&#x4E8E;&#x4E3B;&#x8981;&#x4E8B;&#x4EF6;&#xFF0C;&#x4F8B;&#x5982;&#x65E0;&#x6548;&#x8FDE;&#x63A5;&#xFF0C;&#x6240;&#x6709;&#x83B7;&#x53D6;/&#x8FD4;&#x56DE;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x7684;DEBUG&#x3002;</span><span class="yiyi-st" id="yiyi-1528"><cite>echo_pool</cite>&#x53EF;&#x4EE5;&#x50CF;<cite>echo</cite>&#x4E00;&#x6837;&#x4F7F;&#x7528;False&#xFF0C;None&#xFF0C;True&#x6216;&#x201C;debug&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-1fe7fc3f57be368cd7f20fa804fa9056">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-118"><span class="yiyi-st" id="yiyi-1529"><span class="target" id="change-76cd53cd2b1cfd0a85a475a50a5f2ea3"><strong>[engines] </strong></span>&#x6240;&#x6709;pyodbc&#x65B9;&#x8A00;&#x73B0;&#x5728;&#x652F;&#x6301;&#x989D;&#x5916;&#x7684;pyodbc&#x7279;&#x5B9A;kw&#x53C2;&#x6570;&apos;ansi&apos;&#xFF0C;&apos;unicode_results&apos;&#xFF0C;&apos;autocommit&apos;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-76cd53cd2b1cfd0a85a475a50a5f2ea3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1530">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1621">&#xFF03;1621</a></span></p></li><li><p id="change-0.6beta1-119"><span class="yiyi-st" id="yiyi-1531"><span class="target" id="change-9b7a4ecd72a4dc2579674f3e678873ff"><strong>[engines] </strong></span>&#x201C;threadlocal&#x201D;&#x5F15;&#x64CE;&#x5DF2;&#x88AB;&#x91CD;&#x5199;&#x548C;&#x7B80;&#x5316;&#xFF0C;&#x73B0;&#x5728;&#x652F;&#x6301;SAVEPOINT&#x64CD;&#x4F5C;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9b7a4ecd72a4dc2579674f3e678873ff">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-120"><span class="yiyi-st" id="yiyi-1532"><span class="target" id="change-1adc08ecf95db03925768081293804a4"><strong>[engines] </strong></span></span></p><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-1533">&#x5DF2;&#x5F03;&#x7528;&#x6216;&#x5220;&#x9664;</span></dt><dd><ul class="first last"><li><span class="yiyi-st" id="yiyi-1534">result.last_inserted_ids()&#x5DF2;&#x5F03;&#x7528;&#x3002;</span><span class="yiyi-st" id="yiyi-1535">&#x4F7F;&#x7528;result.inserted_primary_key</span></li><li><span class="yiyi-st" id="yiyi-1536">dialect.get_default_schema_name&#xFF08;&#x8FDE;&#x63A5;&#xFF09;&#x73B0;&#x5728;&#x901A;&#x8FC7;dialect.default_schema_name&#x516C;&#x5F00;&#x3002;</span></li><li><span class="yiyi-st" id="yiyi-1537">&#x6765;&#x81EA;engine.transaction()&#x548C;engine.run_callable()&#x7684;&#x201C;&#x8FDE;&#x63A5;&#x201D;&#x53C2;&#x6570;&#x88AB;&#x5220;&#x9664; - &#x8FDE;&#x63A5;&#x672C;&#x8EAB;&#x73B0;&#x5728;&#x6709;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x3002;</span><span class="yiyi-st" id="yiyi-1538">&#x6240;&#x6709;&#x56DB;&#x79CD;&#x65B9;&#x6CD5;&#x90FD;&#x63A5;&#x53D7;&#x4F20;&#x9012;&#x7ED9;&#x7ED9;&#x5B9A;&#x53EF;&#x8C03;&#x7528;&#x7684;* args&#x548C;** kwargs&#xFF0C;&#x4EE5;&#x53CA;&#x64CD;&#x4F5C;&#x8FDE;&#x63A5;&#x3002;</span></li></ul></dd></dl><span class="yiyi-st" id="yiyi-1539"> <a class="changeset-link headerlink reference internal" href="#change-1adc08ecf95db03925768081293804a4">&#xB6;</a></span><p></p></li><li><p id="change-0.6beta1-121"><span class="yiyi-st" id="yiyi-1540"><span class="target" id="change-fe9d3b373816dc2ba59fe43fa591d219"><strong>[reflection/inspection] </strong></span>Table reflection has been expanded and generalized into a new API called &#x201C;sqlalchemy.engine.reflection.Inspector&#x201D;. </span><span class="yiyi-st" id="yiyi-1541">Inspector&#x5BF9;&#x8C61;&#x63D0;&#x4F9B;&#x6709;&#x5173;&#x5404;&#x79CD;&#x6A21;&#x5F0F;&#x4FE1;&#x606F;&#x7684;&#x7EC6;&#x7C92;&#x5EA6;&#x4FE1;&#x606F;&#xFF0C;&#x5E76;&#x5177;&#x6709;&#x6269;&#x5C55;&#x7A7A;&#x95F4;&#xFF0C;&#x5305;&#x62EC;&#x8868;&#x540D;&#xFF0C;&#x5217;&#x540D;&#xFF0C;&#x89C6;&#x56FE;&#x5B9A;&#x4E49;&#xFF0C;&#x5E8F;&#x5217;&#xFF0C;&#x7D22;&#x5F15;&#x7B49;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-fe9d3b373816dc2ba59fe43fa591d219">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-122"><span class="yiyi-st" id="yiyi-1542"><span class="target" id="change-66a10b68814b0d202a3f73d3abaad4c7"><strong>[reflection/inspection] </strong></span>&#x89C6;&#x56FE;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x53CD;&#x6620;&#x4E3A;&#x666E;&#x901A;&#x8868;&#x683C;&#x5BF9;&#x8C61;&#x3002;</span><span class="yiyi-st" id="yiyi-1543">&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;&#x8868;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x4F46;&#x8981;&#x6CE8;&#x610F;&#x201C;&#x6709;&#x6548;&#x7684;&#x201D;&#x4E3B;&#x952E;&#x548C;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x4E0D;&#x662F;&#x53CD;&#x5C04;&#x7ED3;&#x679C;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF1B;&#x5982;&#x679C;&#x9700;&#x8981;&#xFF0C;&#x5FC5;&#x987B;&#x660E;&#x786E;&#x6307;&#x5B9A;&#x5B83;&#x4EEC;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-66a10b68814b0d202a3f73d3abaad4c7">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-123"><span class="yiyi-st" id="yiyi-1544"><span class="target" id="change-7d9c40c47ab45cde78a91ac3f513b242"><strong>[reflection/inspection] </strong></span>The existing autoload=True system now uses Inspector underneath so that each dialect need only return &#x201C;raw&#x201D; data about tables and other objects - Inspector is the single place that information is compiled into Table objects so that consistency is at a maximum.<a class="changeset-link headerlink reference internal" href="#change-7d9c40c47ab45cde78a91ac3f513b242">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-124"><span class="yiyi-st" id="yiyi-1545"><span class="target" id="change-a6a9a63e0053aafa663dea40ade905f0"><strong>[ddl] </strong></span>the DDL system has been greatly expanded. </span><span class="yiyi-st" id="yiyi-1546">DDL()&#x7C7B;&#x73B0;&#x5728;&#x6269;&#x5C55;&#x4E86;&#x66F4;&#x901A;&#x7528;&#x7684;DDLElement()&#xFF0C;&#x5B83;&#x6784;&#x6210;&#x4E86;&#x8BB8;&#x591A;&#x65B0;&#x6784;&#x9020;&#x7684;&#x57FA;&#x7840;&#xFF1A;</span></p><blockquote><div><blockquote><div><ul><li><span class="yiyi-st" id="yiyi-1547">CREATETABLE()</span></li><li><span class="yiyi-st" id="yiyi-1548">DROPTABLE()</span></li><li><span class="yiyi-st" id="yiyi-1549">AddConstraint()</span></li><li><span class="yiyi-st" id="yiyi-1550">DropConstraint()</span></li><li><span class="yiyi-st" id="yiyi-1551">&#x7684;CreateIndex()</span></li><li><span class="yiyi-st" id="yiyi-1552">DropIndex()</span></li><li><span class="yiyi-st" id="yiyi-1553">CreateSequence()</span></li><li><span class="yiyi-st" id="yiyi-1554">DropSequence()</span></li></ul></div></blockquote><p><span class="yiyi-st" id="yiyi-1555">&#x50CF;&#x666E;&#x901A;&#x7684;DDL()&#x4E00;&#x6837;&#xFF0C;&#x8FD9;&#x4E9B;&#x652F;&#x6301;&#x201C;on&#x201D;&#x548C;&#x201C;execute-at()&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1556">&#x53EF;&#x4EE5;&#x4F7F;&#x7528;sqlalchemy.ext.compiler&#x6269;&#x5C55;&#x540D;&#x521B;&#x5EFA;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;DDLElement&#x5B50;&#x7C7B;&#x5E76;&#x5C06;&#x5176;&#x94FE;&#x63A5;&#x5230;&#x7F16;&#x8BD1;&#x5668;&#x3002;</span></p></div></blockquote><span class="yiyi-st" id="yiyi-1557"> <a class="changeset-link headerlink reference internal" href="#change-a6a9a63e0053aafa663dea40ade905f0">&#xB6;</a></span><p></p></li><li><p id="change-0.6beta1-125"><span class="yiyi-st" id="yiyi-1558"><span class="target" id="change-5db087b2333b39be3609cd5ea92c38fe"><strong>[ddl] </strong></span>&#x4F20;&#x9012;&#x7ED9;DDL()&#x548C;DDLElement()&#x7684;&#x201C;on&#x201D;&#x53EF;&#x8C03;&#x7528;&#x7684;&#x7B7E;&#x540D;&#x88AB;&#x4FEE;&#x6539;&#x5982;&#x4E0B;&#xFF1A;</span></p><blockquote><div><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-1559">DDL</span></dt><dd><span class="yiyi-st" id="yiyi-1560">DDLElement&#x5BF9;&#x8C61;&#x672C;&#x8EAB;</span></dd><dt><span class="yiyi-st" id="yiyi-1561">&#x4E8B;&#x4EF6;</span></dt><dd><span class="yiyi-st" id="yiyi-1562">&#x5B57;&#x7B26;&#x4E32;&#x4E8B;&#x4EF6;&#x540D;&#x79F0;&#x3002;</span></dd><dt><span class="yiyi-st" id="yiyi-1563">&#x76EE;&#x6807;</span></dt><dd><span class="yiyi-st" id="yiyi-1564">&#x4E4B;&#x524D;&#x7684;&#x201C;schema_item&#x201D;&#xFF0C;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x7684;Table&#x6216;MetaData&#x5BF9;&#x8C61;&#x3002;</span></dd><dt><span class="yiyi-st" id="yiyi-1565">&#x8FDE;&#x63A5;</span></dt><dd><span class="yiyi-st" id="yiyi-1566">&#x7528;&#x4E8E;&#x8BE5;&#x64CD;&#x4F5C;&#x7684;Connection&#x5BF9;&#x8C61;&#x3002;</span></dd><dt><span class="yiyi-st" id="yiyi-1567">**&#x5343;&#x74E6;</span></dt><dd><span class="yiyi-st" id="yiyi-1568">&#x5173;&#x952E;&#x5B57;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-1569">&#x5BF9;&#x4E8E;&#x521B;&#x5EFA;/&#x5220;&#x9664;&#x4E4B;&#x524D;/&#x4E4B;&#x540E;&#x7684;&#x5143;&#x6570;&#x636E;&#xFF0C;CREATE / DROP DDL&#x8981;&#x53D1;&#x5E03;&#x7684;&#x8868;&#x5BF9;&#x8C61;&#x5217;&#x8868;&#x4F5C;&#x4E3A;kw&#x53C2;&#x6570;&#x201C;tables&#x201D;&#x4F20;&#x9012;&#x3002;</span><span class="yiyi-st" id="yiyi-1570">&#x5BF9;&#x4E8E;&#x4F9D;&#x8D56;&#x4E8E;&#x7279;&#x5B9A;&#x8868;&#x7684;&#x5B58;&#x5728;&#x7684;&#x5143;&#x6570;&#x636E;&#x7EA7;DDL&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x662F;&#x5FC5;&#x9700;&#x7684;&#x3002;</span></dd></dl></div></blockquote><dl class="docutils"><dt><span class="yiyi-st" id="yiyi-1571">DDL&#x7684;&#x201C;schema_item&#x201D;&#x5C5E;&#x6027;&#x5DF2;&#x91CD;&#x547D;&#x540D;&#x4E3A;</span></dt><dd><span class="yiyi-st" id="yiyi-1572">&#x201C;&#x76EE;&#x6807;&#x201D;&#x3002;</span></dd></dl><span class="yiyi-st" id="yiyi-1573"> <a class="changeset-link headerlink reference internal" href="#change-5db087b2333b39be3609cd5ea92c38fe">&#xB6;</a></span><p></p></li><li><p id="change-0.6beta1-126"><span class="yiyi-st" id="yiyi-1574"><span class="target" id="change-309ea6a05094c41ff3447b7aeb64cd22"><strong>[dialect] [refactor] </strong></span>Dialect modules are now broken into database dialects plus DBAPI implementations. </span><span class="yiyi-st" id="yiyi-1575">&#x8FDE;&#x63A5;URL&#x73B0;&#x5728;&#x6700;&#x597D;&#x4F7F;&#x7528;dialect + driver&#xFF1A;// ...&#x6307;&#x5B9A;&#xFF0C;&#x5373;&#x201C;mysql + mysqldb&#xFF1A;// scott&#xFF1A;tiger @ localhost / test&#x201D;&#x3002;</span><span class="yiyi-st" id="yiyi-1576">&#x6709;&#x5173;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;0.6&#x6587;&#x6863;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-309ea6a05094c41ff3447b7aeb64cd22">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-127"><span class="yiyi-st" id="yiyi-1577"><span class="target" id="change-c50c8d68a80a22e1cace4b16d0b405e1"><strong>[dialect] [refactor] </strong></span>&#x5916;&#x90E8;&#x65B9;&#x8A00;&#x7684;setuptools&#x5165;&#x53E3;&#x70B9;&#x73B0;&#x5728;&#x79F0;&#x4E3A;&#x201C;sqlalchemy.dialects&#x201D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c50c8d68a80a22e1cace4b16d0b405e1">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-128"><span class="yiyi-st" id="yiyi-1578"><span class="target" id="change-4dda1aa78046eb29914b005241fb0eb6"><strong>[dialect] [refactor] </strong></span>the &#x201C;owner&#x201D; keyword argument is removed from Table. </span><span class="yiyi-st" id="yiyi-1579">&#x4F7F;&#x7528;&#x201C;&#x6A21;&#x5F0F;&#x201D;&#x6765;&#x8868;&#x793A;&#x4EFB;&#x4F55;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x8981;&#x9884;&#x5148;&#x6DFB;&#x52A0;&#x5230;&#x8868;&#x540D;&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4dda1aa78046eb29914b005241fb0eb6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-129"><span class="yiyi-st" id="yiyi-1580"><span class="target" id="change-20dfe96a61f245f370f47bd3d9e28791"><strong>[dialect] [refactor] </strong></span> server_version_info&#x6210;&#x4E3A;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x5C5E;&#x6027;<a class="changeset-link headerlink reference internal" href="#change-20dfe96a61f245f370f47bd3d9e28791">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-130"><span class="yiyi-st" id="yiyi-1581"><span class="target" id="change-d886ab16ae25f489620c28fd52a6a00a"><strong>[dialect] [refactor] </strong></span>dialects receive an initialize() event on initial connection to determine connection properties.<a class="changeset-link headerlink reference internal" href="#change-d886ab16ae25f489620c28fd52a6a00a">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-131"><span class="yiyi-st" id="yiyi-1582"><span class="target" id="change-4861423f4ff36544dc83545d48d8523d"><strong>[dialect] [refactor] </strong></span>dialects receive a visit_pool event have an opportunity to establish pool listeners.<a class="changeset-link headerlink reference internal" href="#change-4861423f4ff36544dc83545d48d8523d">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-132"><span class="yiyi-st" id="yiyi-1583"><span class="target" id="change-77a8bc1484dc353cc24fd4772244f757"><strong>[dialect] [refactor] </strong></span>&#x7F13;&#x5B58;&#x7684;TypeEngine&#x7C7B;&#x662F;&#x7F13;&#x5B58;&#x7684;&#x6BCF;&#x4E2A;&#x65B9;&#x8A00;&#x7C7B;&#x800C;&#x4E0D;&#x662F;&#x6BCF;&#x4E2A;&#x65B9;&#x8A00;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-77a8bc1484dc353cc24fd4772244f757">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-133"><span class="yiyi-st" id="yiyi-1584"><span class="target" id="change-4ad2b7d81680c7f34705e3613b7e36fb"><strong>[dialect] [refactor] </strong></span>&#x65B0;&#x7684;UserDefinedType&#x5E94;&#x8BE5;&#x88AB;&#x7528;&#x4F5C;&#x65B0;&#x7C7B;&#x578B;&#x7684;&#x57FA;&#x7C7B;&#xFF0C;&#x5B83;&#x4FDD;&#x7559;&#x4E86;get_col_spec()&#x7684;0.5&#x884C;&#x4E3A;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-4ad2b7d81680c7f34705e3613b7e36fb">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-134"><span class="yiyi-st" id="yiyi-1585"><span class="target" id="change-461c903cb377ff8681ec08be16613ab4"><strong>[dialect] [refactor] </strong></span>&#x73B0;&#x5728;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x7684;result_processor()&#x65B9;&#x6CD5;&#x63A5;&#x53D7;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x201C;coltype&#x201D;&#xFF0C;&#x5B83;&#x662F;cursor.description&#x4E2D;&#x7684;DBAPI&#x7C7B;&#x578B;&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-1586">&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x67D0;&#x4E9B;&#x7C7B;&#x578B;&#x51B3;&#x5B9A;&#x6700;&#x6709;&#x6548;&#x7684;&#x7ED3;&#x679C;&#x503C;&#x5904;&#x7406;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-461c903cb377ff8681ec08be16613ab4">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-135"><span class="yiyi-st" id="yiyi-1587"><span class="target" id="change-99c23fa8c33e3f526d98bf39d26e3f0f"><strong>[dialect] [refactor] </strong></span>&#x5DF2;&#x5F03;&#x7528;Dialect.get_params()&#x5DF2;&#x79FB;&#x9664;<a class="changeset-link headerlink reference internal" href="#change-99c23fa8c33e3f526d98bf39d26e3f0f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-136"><span class="yiyi-st" id="yiyi-1588"><span class="target" id="change-6ada9c457b2d323fc3c2bd369bf4e07b"><strong>[dialect] [refactor] </strong></span>Dialect.get_rowcount() has been renamed to a descriptor &#x201C;rowcount&#x201D;, and calls cursor.rowcount directly. </span><span class="yiyi-st" id="yiyi-1589">&#x9700;&#x8981;&#x4E3A;&#x67D0;&#x4E9B;&#x8C03;&#x7528;&#x786C;&#x8FDE;&#x7EBF;&#x7684;&#x65B9;&#x8A00;&#x5E94;&#x8986;&#x76D6;&#x63D0;&#x4F9B;&#x4E0D;&#x540C;&#x884C;&#x4E3A;&#x7684;&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-6ada9c457b2d323fc3c2bd369bf4e07b">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-137"><span class="yiyi-st" id="yiyi-1590"><span class="target" id="change-c02c74322d7c1ece9af8ad1704c033e1"><strong>[dialect] [refactor] </strong></span> DefaultRunner&#x548C;&#x5B50;&#x7C7B;&#x5DF2;&#x88AB;&#x5220;&#x9664;&#x3002;</span><span class="yiyi-st" id="yiyi-1591">&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x5DE5;&#x4F5C;&#x5DF2;&#x7ECF;&#x7B80;&#x5316;&#x5E76;&#x79FB;&#x5165;ExecutionContext&#x3002;</span><span class="yiyi-st" id="yiyi-1592">&#x652F;&#x6301;&#x5E8F;&#x5217;&#x7684;&#x65B9;&#x8A00;&#x5E94;&#x8BE5;&#x5728;&#x5176;&#x6267;&#x884C;&#x4E0A;&#x4E0B;&#x6587;&#x5B9E;&#x73B0;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;<cite>fire_sequence()</cite>&#x65B9;&#x6CD5;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c02c74322d7c1ece9af8ad1704c033e1">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1593">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1566">&#xFF03;1566</a></span></p></li><li><p id="change-0.6beta1-138"><span class="yiyi-st" id="yiyi-1594"><span class="target" id="change-e3eaf58468be38fd781277edac3a7140"><strong>[dialect] [refactor] </strong></span>&#x7F16;&#x8BD1;&#x5668;&#x751F;&#x6210;&#x7684;&#x51FD;&#x6570;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x73B0;&#x5728;&#x4F7F;&#x7528;&#x5F62;&#x5F0F;&#x4E3A;&#x201C;visit_ <opname>&#x201D;&#x548C;&#x201C;visit_ <funcname>_fn&#x201D;&#x7684;&#xFF08;&#x51E0;&#x4E4E;&#xFF09;&#x5E38;&#x89C4;&#x8C03;&#x5EA6;&#x51FD;&#x6570;&#x6765;&#x63D0;&#x4F9B;&#x5B9A;&#x5236;&#x7684;&#x5904;&#x7406;&#x3002;  T3&gt;  T2&gt;</funcname></opname></span><span class="yiyi-st" id="yiyi-1595">&#x8FD9;&#x4EE3;&#x66FF;&#x4E86;&#x5728;&#x7F16;&#x8BD1;&#x5668;&#x5B50;&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;&#x76F4;&#x63A5;&#x7684;&#x8BBF;&#x95EE;&#x65B9;&#x6CD5;&#x590D;&#x5236;&#x201C;&#x51FD;&#x6570;&#x201D;&#x548C;&#x201C;&#x64CD;&#x4F5C;&#x7B26;&#x201D;&#x5B57;&#x5178;&#x7684;&#x9700;&#x8981;&#xFF0C;&#x5E76;&#x4E14;&#x8FD8;&#x5141;&#x8BB8;&#x7F16;&#x8BD1;&#x5668;&#x5B50;&#x7C7B;&#x5B8C;&#x5168;&#x63A7;&#x5236;&#x6E32;&#x67D3;&#xFF0C;&#x56E0;&#x4E3A;&#x5B8C;&#x6574;&#x7684;_Function&#x6216;_BinaryExpression&#x5BF9;&#x8C61;&#x88AB;&#x4F20;&#x5165;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-e3eaf58468be38fd781277edac3a7140"> T0&gt;</a></span></p><p></p></li><li><p id="change-0.6beta1-139"><span class="yiyi-st" id="yiyi-1596"><span class="target" id="change-3bbeb8422b9fa129668159a5fbbccd13"><strong>[types] </strong></span>&#x65B9;&#x8A00;&#x5185;&#x7C7B;&#x578B;&#x7684;&#x6784;&#x9020;&#x5DF2;&#x7ECF;&#x5F7B;&#x5E95;&#x6539;&#x53D8;&#x3002;</span><span class="yiyi-st" id="yiyi-1597">&#x65B9;&#x8A00;&#x73B0;&#x5728;&#x5C06;&#x516C;&#x5F00;&#x53EF;&#x7528;&#x7684;&#x7C7B;&#x578B;&#x5B9A;&#x4E49;&#x4E3A;&#x5927;&#x5199;&#x540D;&#x79F0;&#xFF0C;&#x800C;&#x5185;&#x90E8;&#x5B9E;&#x73B0;&#x7C7B;&#x578B;&#x4F7F;&#x7528;&#x4E0B;&#x5212;&#x7EBF;&#x6807;&#x8BC6;&#x7B26;&#xFF08;&#x5373;&#x79C1;&#x6709;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-1598">&#x7528;SQL&#x548C;DDL&#x8868;&#x793A;&#x7C7B;&#x578B;&#x7684;&#x7CFB;&#x7EDF;&#x5DF2;&#x88AB;&#x79FB;&#x81F3;&#x7F16;&#x8BD1;&#x5668;&#x7CFB;&#x7EDF;&#x3002;</span><span class="yiyi-st" id="yiyi-1599">&#x8FD9;&#x5177;&#x6709;&#x5927;&#x90E8;&#x5206;&#x65B9;&#x8A00;&#x4E2D;&#x7684;&#x7C7B;&#x578B;&#x5BF9;&#x8C61;&#x5C11;&#x5F97;&#x591A;&#x7684;&#x6548;&#x679C;&#x3002;</span><span class="yiyi-st" id="yiyi-1600">&#x5173;&#x4E8E;&#x8FD9;&#x79CD;&#x65B9;&#x8A00;&#x4F5C;&#x8005;&#x7684;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x7684;&#x8BE6;&#x7EC6;&#x6587;&#x6863;&#x5728;lib / sqlalchemy / dialects_type_migration_guidelines.txt&#x4E2D;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-3bbeb8422b9fa129668159a5fbbccd13">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-140"><span class="yiyi-st" id="yiyi-1601"><span class="target" id="change-a1738683c3d87b598a5a039c7faed0e0"><strong>[types] </strong></span>&#x7C7B;&#x578B;&#x4E0D;&#x518D;&#x5BF9;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x731C;&#x6D4B;&#x3002;</span><span class="yiyi-st" id="yiyi-1602">&#x7279;&#x522B;&#x662F;Numeric&#xFF0C;Float&#xFF0C;NUMERIC&#xFF0C;FLOAT&#xFF0C;DECIMAL&#x9664;&#x975E;&#x6307;&#x5B9A;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x4F1A;&#x751F;&#x6210;&#x4EFB;&#x4F55;&#x957F;&#x5EA6;&#x6216;&#x6BD4;&#x4F8B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-a1738683c3d87b598a5a039c7faed0e0">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-141"><span class="yiyi-st" id="yiyi-1603">&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x88AB;&#x91CD;&#x547D;&#x540D;&#x4E3A;types.LargeBinary&#xFF0C;&#x5B83;&#x53EA;&#x4EA7;&#x751F;BLOB&#xFF0C;BYTEA&#x6216;&#x7C7B;&#x4F3C;&#x7684;&#x201C;&#x957F;&#x4E8C;&#x8FDB;&#x5236;&#x201D;&#x7C7B;&#x578B;&#x3002;<span class="target" id="change-0e50f446360f471e031c78a9fef201a3"><strong>[types] </strong></span></span><span class="yiyi-st" id="yiyi-1604">&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x57FA;&#x672C;BINARY&#x548C;VARBINARY&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x4E0D;&#x53EF;&#x77E5;&#x7684;&#x65B9;&#x5F0F;&#x8BBF;&#x95EE;&#x8FD9;&#x4E9B;MySQL / MS-SQL&#x7279;&#x5B9A;&#x7C7B;&#x578B;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-0e50f446360f471e031c78a9fef201a3">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1605">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1664">&#xFF03;1664</a></span></p></li><li><p id="change-0.6beta1-142"><span class="yiyi-st" id="yiyi-1606"><span class="target" id="change-236aba55b2dc30a153e666c8d4fc745f"><strong>[types] </strong></span>String/Text/Unicode types now skip the unicode() check on each result column value if the dialect has detected the DBAPI as returning Python unicode objects natively. </span><span class="yiyi-st" id="yiyi-1607">&#x6B64;&#x68C0;&#x67E5;&#x662F;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x8FDE;&#x63A5;&#x65F6;&#x4F7F;&#x7528;&#x201C;SELECT CAST&#x201D;&#x67D0;&#x4E9B;&#x6587;&#x672C;&#x201C;AS VARCHAR&#xFF08;10&#xFF09;&#x201D;&#x6216;&#x7B49;&#x4EF7;&#x7269;&#x53D1;&#x51FA;&#x7684;&#xFF0C;&#x7136;&#x540E;&#x68C0;&#x67E5;&#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61;&#x662F;&#x5426;&#x4E3A;Python unicode&#x3002;</span><span class="yiyi-st" id="yiyi-1608">&#x8FD9;&#x4F7F;&#x5F97;native-unicode DBAPI&#x5177;&#x6709;&#x5DE8;&#x5927;&#x7684;&#x6027;&#x80FD;&#x63D0;&#x5347;&#xFF0C;&#x5305;&#x62EC;pysqlite / sqlite3&#xFF0C;psycopg2&#x548C;pg8000. <a class="changeset-link headerlink reference internal" href="#change-236aba55b2dc30a153e666c8d4fc745f">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-143"><span class="yiyi-st" id="yiyi-1609"><span class="target" id="change-48d0f246a76fcd18e2d43a473beab4ba"><strong>[types] </strong></span>&#x5927;&#x591A;&#x6570;&#x7C7B;&#x578B;&#x7684;&#x7ED3;&#x679C;&#x5904;&#x7406;&#x5668;&#x5DF2;&#x7ECF;&#x8FC7;&#x68C0;&#x67E5;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x63D0;&#x9AD8;&#x901F;&#x5EA6;&#x3002;</span><span class="yiyi-st" id="yiyi-1610">&#x5177;&#x4F53;&#x800C;&#x8A00;&#xFF0C;&#x4EE5;&#x4E0B;&#x901A;&#x7528;&#x7C7B;&#x578B;&#x5DF2;&#x8FDB;&#x884C;&#x4E86;&#x4F18;&#x5316;&#xFF0C;&#x4ECE;&#x800C;&#x6539;&#x8FDB;&#x4E86;&#x901F;&#x5EA6;&#xFF1A;Unicode&#xFF0C;PickleType&#xFF0C;Interval&#xFF0C;TypeDecorator&#xFF0C;Binary&#x3002;</span><span class="yiyi-st" id="yiyi-1611">&#x6B64;&#x5916;&#xFF0C;&#x4EE5;&#x4E0B;&#x7279;&#x5B9A;&#x4E8E;dbapi&#x7684;&#x5B9E;&#x73B0;&#x5DF2;&#x5F97;&#x5230;&#x6539;&#x8FDB;&#xFF1A;Sqlite&#x4E0A;&#x7684;Time&#xFF0C;Date&#x548C;DateTime&#xFF0C;Postgresql&#x4E0A;&#x7684;ARRAY&#xFF0C;MySQL&#x4E0A;&#x7684;Time&#xFF0C;MySQL&#x4E0A;&#x7684;Numeric&#xFF08;as_decimal = False&#xFF09;&#xFF0C;MySQL&#x4E0A;&#x7684;python&#x548C;pypostgresql&#xFF0C;cx_oracle&#x4E0A;&#x7684;DateTime&#x4EE5;&#x53CA;cx_oracle&#x4E0A;&#x7684;&#x57FA;&#x4E8E;LOB&#x7684;&#x7C7B;&#x578B;<a class="changeset-link headerlink reference internal" href="#change-48d0f246a76fcd18e2d43a473beab4ba">&#xB6; T0&gt;</a></span></p><p></p></li><li><p id="change-0.6beta1-144"><span class="yiyi-st" id="yiyi-1612"><span class="target" id="change-9d4508b066c6e6fd68af58a2488b24a6"><strong>[types] </strong></span>Reflection of types now returns the exact UPPERCASE type within types.py, or the UPPERCASE type within the dialect itself if the type is not a standard SQL type. </span><span class="yiyi-st" id="yiyi-1613">&#x8FD9;&#x610F;&#x5473;&#x7740;&#x73B0;&#x5728;&#x53CD;&#x5C04;&#x4F1A;&#x8FD4;&#x56DE;&#x6709;&#x5173;&#x53CD;&#x5C04;&#x7C7B;&#x578B;&#x7684;&#x66F4;&#x51C6;&#x786E;&#x7684;&#x4FE1;&#x606F;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-9d4508b066c6e6fd68af58a2488b24a6">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-145"><span class="yiyi-st" id="yiyi-1614"><span class="target" id="change-7ac9dceee42e42dc8a5c9472df0e1d2a"><strong>[types] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;Enum&#x6CDB;&#x578B;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1615">Enum&#x662F;&#x4E00;&#x4E2A;&#x6A21;&#x5F0F;&#x611F;&#x77E5;&#x5BF9;&#x8C61;&#xFF0C;&#x7528;&#x4E8E;&#x652F;&#x6301;&#x9700;&#x8981;&#x7279;&#x5B9A;DDL&#x624D;&#x80FD;&#x4F7F;&#x7528;&#x679A;&#x4E3E;&#x6216;&#x7B49;&#x6548;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF1B;&#x5728;PG&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x5904;&#x7406;<cite>CREATE TYPE</cite>&#x7684;&#x7EC6;&#x8282;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x6CA1;&#x6709;&#x672C;&#x5730;&#x679A;&#x4E3E;&#x652F;&#x6301;&#x7684;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5E93;&#x4E0A;&#xFF0C;&#x5C06;&#x901A;&#x8FC7;&#x751F;&#x6210;VARCHAR +&#x5185;&#x8054;CHECK&#x7EA6;&#x675F;&#x6765;&#x5F3A;&#x5236;&#x6267;&#x884C;&#x679A;&#x4E3E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-7ac9dceee42e42dc8a5c9472df0e1d2a"></a></span></p><p><span class="yiyi-st" id="yiyi-1616">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1511">&#xFF03;1511</a>&#xFF0C;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1109">&#xFF03;1109</a></span></p></li><li><p id="change-0.6beta1-146"><span class="yiyi-st" id="yiyi-1617"><span class="target" id="change-ab51cd0f5146920fb998f5c5a93cabdd"><strong>[types] </strong></span> Interval&#x7C7B;&#x578B;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x201C;native&#x201D;&#x6807;&#x5FD7;&#xFF0C;&#x7528;&#x4E8E;&#x63A7;&#x5236;&#x662F;&#x5426;&#x9009;&#x62E9;&#x672C;&#x5730;INTERVAL&#x7C7B;&#x578B;&#xFF08;postgresql + oracle&#xFF09;&#xFF08;&#x5982;&#x679C;&#x53EF;&#x7528;&#xFF09;&#x3002;</span><span class="yiyi-st" id="yiyi-1618">&#x8FD8;&#x6DFB;&#x52A0;&#x4E86;&#x201C;day_precision&#x201D;&#x548C;&#x201C;second_precision&#x201D;&#x53C2;&#x6570;&#xFF0C;&#x5B83;&#x4EEC;&#x9002;&#x5F53;&#x5730;&#x4F20;&#x64AD;&#x5230;&#x8FD9;&#x4E9B;&#x672C;&#x673A;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1619">&#x4E0E;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-ab51cd0f5146920fb998f5c5a93cabdd">&#xB6;</a>&#x76F8;&#x5173;</span></p><p><span class="yiyi-st" id="yiyi-1620">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1467">&#xFF03;1467</a></span></p></li><li><p id="change-0.6beta1-147"><span class="yiyi-st" id="yiyi-1621"><span class="target" id="change-26f9fec07b187541c0098597a7197ff8"><strong>[types] </strong></span>&#x5E03;&#x5C14;&#x7C7B;&#x578B;&#x5728;&#x4E0D;&#x652F;&#x6301;&#x672C;&#x673A;&#x5E03;&#x5C14;&#x652F;&#x6301;&#x7684;&#x540E;&#x7AEF;&#x4E0A;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x5C06;&#x751F;&#x6210;CHECK&#x7EA6;&#x675F;&#x201C;col IN&#xFF08;0&#xFF0C;1&#xFF09;&#x201D;&#x4EE5;&#x53CA;&#x57FA;&#x4E8E;int / smallint&#x7684;&#x5217;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1622">&#x5982;&#x679C;&#x9700;&#x8981;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;create_constraint = False&#x5173;&#x95ED;&#x6B64;&#x529F;&#x80FD;&#x3002;</span><span class="yiyi-st" id="yiyi-1623">&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;MySQL&#x6CA1;&#x6709;&#x672C;&#x5730;&#x5E03;&#x5C14;&#x578B;<em>&#x6216;</em> CHECK&#x7EA6;&#x675F;&#x652F;&#x6301;&#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x529F;&#x80FD;&#x5728;&#x8BE5;&#x5E73;&#x53F0;&#x4E0A;&#x4E0D;&#x53EF;&#x7528;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-26f9fec07b187541c0098597a7197ff8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1624">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1589">&#xFF03;1589</a></span></p></li><li><p id="change-0.6beta1-148"><span class="yiyi-st" id="yiyi-1625"><span class="target" id="change-bbd25c78a1c3340579717367777509bc"><strong>[types] </strong></span>&#x5F53;mutable = True&#x65F6;&#xFF0C;PickleType&#x73B0;&#x5728;&#x4F7F;&#x7528;==&#x6765;&#x6BD4;&#x8F83;&#x503C;&#xFF0C;&#x9664;&#x975E;&#x5E26;&#x6709;&#x6BD4;&#x8F83;&#x51FD;&#x6570;&#x7684;&#x201C;comparator&#x201D;&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x4E3A;&#x7C7B;&#x578B;&#x3002;</span><span class="yiyi-st" id="yiyi-1626">&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8986;&#x76D6;__eq __()&#x6216;&#x8005;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x6BD4;&#x8F83;&#x51FD;&#x6570;&#xFF0C;&#x90A3;&#x4E48;&#x88AB;&#x814C;&#x5236;&#x7684;&#x5BF9;&#x8C61;&#x5C06;&#x6839;&#x636E;&#x6807;&#x8BC6;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF08;&#x8FD9;&#x8FDD;&#x80CC;&#x4E86;mutable = True&#x7684;&#x76EE;&#x7684;&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-bbd25c78a1c3340579717367777509bc">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-149"><span class="yiyi-st" id="yiyi-1627"><span class="target" id="change-23a61cc6adace380c1a9e342d1174c32"><strong>[types] </strong></span> Numeric&#x548C;Float&#x7684;&#x9ED8;&#x8BA4;&#x201C;precision&#x201D;&#x548C;&#x201C;scale&#x201D;&#x53C2;&#x6570;&#x5DF2;&#x88AB;&#x5220;&#x9664;&#xFF0C;&#x73B0;&#x5728;&#x9ED8;&#x8BA4;&#x4E3A;None&#x3002;</span><span class="yiyi-st" id="yiyi-1628">&#x9664;&#x975E;&#x63D0;&#x4F9B;&#x8FD9;&#x4E9B;&#x503C;&#xFF0C;&#x5426;&#x5219;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;NUMERIC&#x548C;FLOAT&#x5C06;&#x9ED8;&#x8BA4;&#x5448;&#x73B0;&#x4E3A;&#x4E0D;&#x5E26;&#x6570;&#x5B57;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-23a61cc6adace380c1a9e342d1174c32">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-150"><span class="yiyi-st" id="yiyi-1629"><span class="target" id="change-d18a18e76aea7383243090429523e54c"><strong>[types] </strong></span> AbstractType.get_search_list()&#x88AB;&#x79FB;&#x9664; - &#x7528;&#x4E8E;&#x7684;&#x6E38;&#x620F;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d18a18e76aea7383243090429523e54c">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-151"><span class="yiyi-st" id="yiyi-1630"><span class="target" id="change-d76a27861917c6bf030a837acf9ce8fe"><strong>[types] </strong></span>&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x7684;BigInteger&#x7C7B;&#x578B;&#xFF0C;&#x7F16;&#x8BD1;&#x4E3A;BIGINT&#x6216;NUMBER&#xFF08;19&#xFF09;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-d76a27861917c6bf030a837acf9ce8fe">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1631">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1125">&#xFF03;1125</a></span></p></li><li><p id="change-0.6beta1-152"><span class="yiyi-st" id="yiyi-1632"><span class="target" id="change-05b2ce683e77d35a420cda187f7222ab"><strong>[types] </strong></span>&#x4F7F;&#x7528;autocommit = False&#xFF0C;autoflush = True&#xFF0C;sqlsoup&#x5DF2;&#x88AB;&#x5F7B;&#x5E95;&#x4FEE;&#x6539;&#x4E3A;&#x663E;&#x5F0F;&#x652F;&#x6301;0.5&#x6837;&#x5F0F;&#x4F1A;&#x8BDD;&#x3002;</span><span class="yiyi-st" id="yiyi-1633">SQLSoup&#x7684;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;&#x73B0;&#x5728;&#x9700;&#x8981;&#x901A;&#x5E38;&#x4F7F;&#x7528;&#x5DF2;&#x6DFB;&#x52A0;&#x5230;&#x5176;&#x63A5;&#x53E3;&#x7684;commit()&#x548C;rollback()&#x3002;</span><span class="yiyi-st" id="yiyi-1634">explcit Session&#x6216;scoped_session&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x7ED9;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x4ECE;&#x800C;&#x5141;&#x8BB8;&#x91CD;&#x5199;&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-05b2ce683e77d35a420cda187f7222ab">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-153"><span class="yiyi-st" id="yiyi-1635"><span class="target" id="change-55a1682d2cbda5fbf6dd2d58744f5dbe"><strong>[types] </strong></span> sqlsoup db&#x3002;<sometable>.update()&#x548C;delete()&#x73B0;&#x5728;&#x5206;&#x522B;&#x8C03;&#x7528;query&#xFF08;cls&#xFF09;.update()&#x548C;delete()&#x3002;<a class="changeset-link headerlink reference internal" href="#change-55a1682d2cbda5fbf6dd2d58744f5dbe">&#xB6;</a> &lt; / T2&gt;</sometable></span></p><p></p></li><li><p id="change-0.6beta1-154"><span class="yiyi-st" id="yiyi-1636"><span class="target" id="change-a22079daeb20e98393c35a74d11c0259"><strong>[types] </strong></span>sqlsoup now has execute() and connection(), which call upon the Session methods of those names, ensuring that the bind is in terms of the SqlSoup object&#x2019;s bind.<a class="changeset-link headerlink reference internal" href="#change-a22079daeb20e98393c35a74d11c0259">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-155"><span class="yiyi-st" id="yiyi-1637"><span class="target" id="change-99c1ecd3203ef2d370b542d1b605ca61"><strong>[types] </strong></span>sqlsoup objects no longer have the &#x2018;query&#x2019; attribute - it&#x2019;s not needed for sqlsoup&#x2019;s usage paradigm and it gets in the way of a column that is actually named &#x2018;query&#x2019;.<a class="changeset-link headerlink reference internal" href="#change-99c1ecd3203ef2d370b542d1b605ca61">&#xB6;</a></span></p><p></p></li><li><p id="change-0.6beta1-156"><span class="yiyi-st" id="yiyi-1638"><span class="target" id="change-351b0756ad5ba1266508d1dea1de559e"><strong>[types] </strong></span>&#x4F20;&#x9012;&#x7ED9;association_proxy&#x7684;proxy_factory callable&#x7684;&#x7B7E;&#x540D;&#x73B0;&#x5728;&#x662F;&#xFF08;lazy_collection&#xFF0C;creator&#xFF0C;value_attr&#xFF0C;association_proxy&#xFF09;&#xFF0C;&#x5E76;&#x6DFB;&#x52A0;&#x7B2C;&#x56DB;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5373;&#x7236;AssociationProxy&#x53C2;&#x6570;&#x3002;</span><span class="yiyi-st" id="yiyi-1639">&#x5141;&#x8BB8;&#x5185;&#x7F6E;&#x96C6;&#x5408;&#x7684;&#x53EF;&#x5E8F;&#x5217;&#x5316;&#x548C;&#x5B50;&#x7C7B;&#x5316;&#x3002;<a class="changeset-link headerlink reference internal" href="#change-351b0756ad5ba1266508d1dea1de559e">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1640">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1259">&#xFF03;1259</a></span></p></li><li><p id="change-0.6beta1-157"><span class="yiyi-st" id="yiyi-1641"><span class="target" id="change-c0b751885f79648b1e07bd4f1d5aa0c8"><strong>[types] </strong></span>&#x611F;&#x8C22;Scott Torborg&#xFF0C;association_proxy&#x73B0;&#x5728;&#x5177;&#x6709;&#x57FA;&#x672C;&#x7684;&#x6BD4;&#x8F83;&#x5668;&#x65B9;&#x6CD5;.any()&#xFF0C;.has()&#xFF0C;.contains()&#xFF0C;==&#xFF0C;&#xFF01;=&#x3002;<a class="changeset-link headerlink reference internal" href="#change-c0b751885f79648b1e07bd4f1d5aa0c8">&#xB6;</a></span></p><p><span class="yiyi-st" id="yiyi-1642">&#x53C2;&#x8003;&#x6587;&#x732E;&#xFF1A;<a class="reference external" href="http://www.sqlalchemy.org/trac/ticket/1372">&#xFF03;1372</a></span></p></li></ul></div></div>